var pcf_shadow_mapping_depth_pass_vs = [
"#ifdef GL_ES",
"precision highp float;",
"#endif",
"",
"attribute vec3 aVertexPosition;",
"attribute vec3 aVertexNormal;", 
"", 
"uniform mat4 uProjectionMatrix;",
"uniform mat4 uViewMatrix;",
"uniform mat4 uWorldMatrix;",
"uniform mat4 uNormalMatrix;",
"",
"varying vec4 vVertexPosition;",
"varying vec4 vTransformedNormal;",
"",
"void main()",
"{",
"   vVertexPosition = uWorldMatrix * vec4(aVertexPosition, 1);",
"   vTransformedNormal = normalize(uNormalMatrix * vec4(aVertexNormal, 0));",
"   gl_Position = uProjectionMatrix * uViewMatrix * vVertexPosition;",
"}"
].join("\n");

var pcf_shadow_mapping_depth_pass_fs = [
"#ifdef GL_ES",
"precision highp float;",
"#endif",
"#extension GL_OES_standard_derivatives : enable",
"",
"uniform vec3 uShadowCasterWorldPosition;",
"",
"varying vec4 vVertexPosition;",
"varying vec4 vTransformedNormal;",
"",
"void main()",
"{",
"   float depth = length(vVertexPosition.xyz - uShadowCasterWorldPosition);",
"   float moment1 = depth;",
"   float moment2 = depth * depth;",
"   float dx = dFdx(depth);",
"   float dy = dFdy(depth);",
"   moment2 += 0.25*(dx*dx+dy*dy);", 
"   gl_FragColor = vec4(moment1, moment2, 0, 0);",
"}"
].join("\n");