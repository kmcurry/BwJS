/*                   Bridgeworks(tm) Runtime Engine
                       Trial License Agreement


NOTICE
This is a contract between End User ("You") and Bridgeborn, Inc. ("Bridgeborn, Inc").
Please read the following terms and conditions carefully before installing or
using the Bridgeworks(tm) Runtime Engine ("software").  By installing the software,
You acknowledge that You have read and understood this license agreement and
agree to be bound by its terms and conditions.

I.  Use of the Software
Subject to the terms and conditions set forth in this Agreement,
Bridgeborn, Inc grants to You, and You accept, a limited, non-exclusive
license to use the accompanying computer program in object code form and any
documentation related to the Software, for use in the bundled sample
application.

II.  Intellectual Property
Except as stated elsewhere, this Agreement does not confer upon You any
intellectual property rights in the Software. Use of this product shall be
conducted in accordance with accepted trademark, patent, and copyright
practice. Bridgeworks is covered by U.S. Patent No. 7,681,114.

III.  Copyright
This Software, its code, and all documentation are owned by Bridgeborn, Inc.
Its organization, structure, and code are valuable trade secrets of
Bridgeborn, Inc.  This Software, its code, and all supporting documentation
are protected by U.S. Copyright law and International Treaty provisions.
You may not, in whole or in part, copy, photocopy, reproduce, translate,
adapt, modify, or create derivative works, or reduce to any electronic
medium or machine readable format, this Software, its code, or its
documentation, except as set forth elsewhere in this Agreement, without the
prior written consent of Bridgeborn, Inc.  You also may not reverse engineer,
decompose, disassemble, or otherwise attempt to discover or alter the source
code of the Software.

IV.  Transfer
This Software and its documentation may not be rented, leased, or
sublicensed by You to a third party.  You may, however, transfer all rights
to use the Software to another person or legal entity, subject to the
acceptance by such person or legal entity of all of the terms of this
Agreement.  Except as provided by this Agreement, any attempt to lease,
sublicense, assign, or transfer any of the rights, duties, or obligations
under this Agreement shall be void.


V.  Governing Law and General Provision
This Agreement shall be governed by the laws of the Commonwealth of Virginia.
This Agreement shall not be governed by the United Nations Convention on
Contracts for the International Sale of Goods, the application of which is
expressly excluded.  Should any portion of this Agreement be found void and
unenforceable, it shall not affect the validity of the other portions of
this Agreement, which shall remain valid and enforceable according to its
terms.  You agree that the Software will not be shipped, transported,
transferred, or exported in violation of the United States Export
Administration Act or any other export laws, restrictions, or regulations.
This Agreement may only be modified in writing, signed by an authorized
officer of Bridgeborn, Inc.
*/
function Base(){this.userData="",this.className=""}function Allocator(){}function loadBinaryResource(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.overrideMimeType("text/plain; charset=x-user-defined"),e.send(),200!=e.status?null:e.responseText}function loadXMLResource(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.overrideMimeType("text/plain; charset=x-user-defined"),e.send(),200!=e.status?null:e.responseText}function loadTextResource(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.overrideMimeType("text/plain; charset=x-user-defined"),e.send(),200!=e.status?null:e.responseText}function isLower(t){var e=t.charCodeAt(0);return e>96&&123>e}function isUpper(t){var e=t.charCodeAt(0);return e>64&&91>e}function isSpace(t){return" "==t||"\f"==t||"\n"==t||"\r"==t||"	"==t||""==t?!0:!1}function getObjectClassName(t){if(t&&t.constructor&&t.constructor.toString){var e=t.constructor.toString().match(/function\s*(\w+)/);if(e&&2==e.length)return e[1];if(e=t.constructor.toString().split(" "),e&&2==e.length)return e[1].substring(0,e[1].length-1)}return void 0}function formatPath(t){var e=[],i="",r="";try{$.ajax({url:t,type:"HEAD",async:!1,error:function(){console.debug(t+" does not exist.");var e=document.location.href;i=e.substring(0,e.lastIndexOf("/"))+"/"+bridgeworks.contentDir+"/"+t,console.debug("Trying: "+i);var o=i.lastIndexOf("objects/");-1==o&&(o=i.lastIndexOf("motions/")),-1==o&&(o=i.lastIndexOf("envelopes/")),-1==o&&(o=i.lastIndexOf("scenes/")),r=i.substring(0,o),console.debug("With contentDir: "+r)},success:function(){var e=document.location.href;i=t;var o=i.lastIndexOf("objects/");-1==o&&(o=i.lastIndexOf("motions/")),-1==o&&(o=i.lastIndexOf("envelopes/")),-1==o&&(o=i.lastIndexOf("scenes/")),r=e.substring(0,e.lastIndexOf("/"))+"/"+bridgeworks.contentDir,console.debug("File found: "+i)}}),e[0]=i,e[1]=r}catch(o){}return e}function isFullPath(t){var e=!1,i=t.length;return i>=2&&("\\"!=t[0]&&"/"!=t[0]||"\\"!=t[1]&&"/"!=t[1]||(e=!0)),e||t.indexOf(":")>=0?!0:!1}function formFullPath(t,e){var i=new String;if(!t||!e)return null;if(isFullPath(t))i=t;else{if(i=e,i.length>0){var r=i.charAt(i.length-1);"/"!=r&&"\\"!=r&&(i+="/")}i+="/"==t[0]||"\\"==t[0]?t.slice(1):t}return i}function getFileExtension(t){var e=null,i=t.lastIndexOf(".");if(-1!=i){var e="";return e=t.substr(i+1)}return e}function getBrowserName(){var t=new String(navigator.userAgent);return t.indexOf("Chrome")>=0?"Chrome":t.indexOf("Firefox")>=0?"Firefox":void 0}function OutputDebugMsg(t){var e=document.getElementById("DebugOutput").innerHTML;e+="&gt; "+t+"<br>",document.getElementById("DebugOutput").innerHTML=e}function addSlashAfterDriveSpecifier(t){var e=t.indexOf(":");return-1==e?t:t=t.slice(0,e+1)+"\\"+t.slice(e+1)}function hexStrToULong(t){for(var e=t.length-1,i=0,r=0,o=0;e>=0;e--,o++){switch(t.charAt(e)){case"0":r=0;break;case"1":r=1;break;case"2":r=2;break;case"3":r=3;break;case"4":r=4;break;case"5":r=5;break;case"6":r=6;break;case"7":r=7;break;case"8":r=8;break;case"9":r=9;break;case"a":case"A":r=10;break;case"b":case"B":r=11;break;case"c":case"C":r=12;break;case"d":case"D":r=13;break;case"e":case"E":r=14;break;case"f":case"F":r=15;break;default:r=0}i+=r*Math.pow(16,o)}return i}function Color(t,e,i,r){this.r=t||0,this.g=e||0,this.b=i||0,this.a=r||0}function Pair(t,e){this.first=t,this.second=e}function Rect(t,e,i,r){this.left=t||0,this.top=e||0,this.right=i||0,this.bottom=r||0}function Viewport(t,e,i,r){this.x=t||0,this.y=e||0,this.width=i||0,this.height=r||0,this.equals=function(t){return this.x==t.x&&this.y==t.y&&this.width==t.width&&this.height==t.height}}function Stack(t){this.stack=new Array,this.maxLength=0,t&&this.stack.push(t)}function Queue(t){this.queue=new Array,this.maxLength=0,t&&this.queue.push(t)}function setAttributeBin(t){gAttributeBin=t}function setAttributePairs(t){gAttributePairs=t}function deserializeAttributeContainer(t,e){for(var i=0;i<e.length;i++){var r=t.getAttribute(e[i][0]);r&&deserializeAttribute(r,e[i][1])}t.flagDeserializedFromXML()}function deserializeComplexAttribute(t,e){for(var i=[],r=0;r<e.length;r++)i.push(e[r][1]);i.length>0&&(gAttributeBin?gAttributeBin.push(new Pair(t,i)):setAttributeValue(t,i)),t.flagDeserializedFromXML()}function deserializeAttribute(t,e){gAttributeBin?gAttributeBin.push(new Pair(t,e)):setAttributeValue(t,e),t.flagDeserializedFromXML()}function resolveAttributeContainerReference(t,e,i){if(e.length>0&&"ref"==e[0][0]){var r=i.find(e[0][1]);if(r)return t.synchronize(r,!0),!0}return!1}function resolveComplexAttributeReference(t,e){return e.length>0&&"ref"==e[0][0]?resolvePrimitiveAttributeReference(t,e[0][1]):!1}function resolvePrimitiveAttributeReference(){return!1}function resolveAttributeReference(t,e){gAttributePairs?gAttributePairs.push(new Pair(t,e)):e.copyValue(t)}function isEmpty(t){return null==t||0==t.length}function trim(t,e,i){if(isEmpty(t))return"";null==e&&(e=!0),null==i&&(i=!0);var r=0,o=0,n=0,a=0;if(1==e)for(;n<t.length&&-1!=whitespace.indexOf(t.charAt(n++));)r++;if(1==i)for(a=t.length-1;a>=r&&-1!=whitespace.indexOf(t.charAt(a--));)o++;return t.substring(r,t.length-o)}function __escapeString(t){var e=/&/g,i=/</g,r=/>/g,o=/"/g,n=/'/g;return t=t.replace(e,"&amp;"),t=t.replace(i,"&lt;"),t=t.replace(r,"&gt;"),t=t.replace(o,"&quot;"),t=t.replace(n,"&apos;")}function __unescapeString(t){var e=/&amp;/g,i=/&lt;/g,r=/&gt;/g,o=/&quot;/g,n=/&apos;/g;return t=t.replace(e,"&"),t=t.replace(i,"<"),t=t.replace(r,">"),t=t.replace(o,'"'),t=t.replace(n,"'")}function showTagInfo(t){var e,r;e=trim(xmlTextArray[t]),(""==e||null==e)&&(e="No text value for this node"),r=trim(xmlCDataArray[t]),(""==r||null==r)&&(r="No CDATA value for this node");var o="Text:\n "+e+"\n\nCDATA:\n "+r+"\n\n";if(xmlAttrArray[t]){var n=xmlAttrArray[t],a="";for(i in n)a+=i+"="+n[i]+"\n";o+="Attributes:\n "+a}alert(t+"\n\n"+o)}function startParser(){var t,e=document.getElementById("xmldata").value,r="",o=new SAXDriver,n=new xmlHandler;o.setDocumentHandler(n),o.setErrorHandler(n),o.setLexicalHandler(n),o.parse(e);"\n"+n.getError();for(xmlTextArray=n.getText_Array(),xmlCDataArray=n.getCDATA_Array(),xmlAttrArray=n.getAttr_Array(),t=n.getPath_Array(),i=0;i<t.length;i++)r+='<a href="javascript:void(null)" onclick="showTagInfo(\''+t[i]+"')\">"+t[i]+"</a>\n";document.all?document.all.divout.innerHTML="Parsing completed  | Click on the links below for more info:<br><pre>"+r+"</pre>":document.getElementById?document.getElementById("divout").innerHTML="Parsing completed | Click on the links below for more info:<br><pre>"+r+"</pre>":alert("Requires a DOM compatible browser for this test")}function Timer(){this.startTime=null,this.stopTime=null}function __getIEVersion(){var t=-1;if("Microsoft Internet Explorer"==navigator.appName){var e=navigator.userAgent,i=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=i.exec(e)&&(t=parseFloat(RegExp.$1))}return t}function __getOperaVersion(){var t=0;if(window.opera){var e=window.opera.version();t=parseFloat(e)}return t}function __parseBorderWidth(t){var e=0;if("string"==typeof t&&null!=t&&""!=t){var i=t.indexOf("px");e=i>=0?parseInt(t.substring(0,i)):1}return e}function __getBorderWidth(t){var e=new Object;if(e.left=0,e.top=0,e.right=0,e.bottom=0,window.getComputedStyle){var i=window.getComputedStyle(t,null);e.left=parseInt(i.borderLeftWidth.slice(0,-2)),e.top=parseInt(i.borderTopWidth.slice(0,-2)),e.right=parseInt(i.borderRightWidth.slice(0,-2)),e.bottom=parseInt(i.borderBottomWidth.slice(0,-2))}else e.left=__parseBorderWidth(t.style.borderLeftWidth),e.top=__parseBorderWidth(t.style.borderTopWidth),e.right=__parseBorderWidth(t.style.borderRightWidth),e.bottom=__parseBorderWidth(t.style.borderBottomWidth);return e}function getElementAbsolutePos(t){var e=new Object;if(e.x=0,e.y=0,null!==t)if(t.getBoundingClientRect){var i=document.documentElement,r=t.getBoundingClientRect(),o=i.scrollLeft,n=i.scrollTop;e.x=r.left+o,e.y=r.top+n}else{e.x=t.offsetLeft,e.y=t.offsetTop;for(var a=t.parentNode,s=null;null!=offsetParent;){e.x+=offsetParent.offsetLeft,e.y+=offsetParent.offsetTop;var l=offsetParent.tagName.toLowerCase();if((__isIEOld&&"table"!=l||(__isFireFoxNew||__isChrome)&&"td"==l)&&(s=kGetBorderWidth(offsetParent),e.x+=s.left,e.y+=s.top),offsetParent!=document.body&&offsetParent!=document.documentElement&&(e.x-=offsetParent.scrollLeft,e.y-=offsetParent.scrollTop),!__isIE&&!__isOperaOld||__isIENew)for(;offsetParent!=a&&null!==a;)e.x-=a.scrollLeft,e.y-=a.scrollTop,(__isFireFoxOld||__isWebKit)&&(s=kGetBorderWidth(a),e.x+=s.left,e.y+=s.top),a=a.parentNode;a=offsetParent.parentNode,offsetParent=offsetParent.offsetParent}}return e}function min3(t,e,i){return Math.min(t,Math.min(e,i))}function max3(t,e,i){return Math.max(t,Math.max(e,i))}function toRadians(t){return t*Math.PI/180}function toDegrees(t){return 180*t/Math.PI}function magnitude(t,e,i){return Math.sqrt(t*t+e*e+i*i)}function magnitude4(t,e,i,r){return Math.sqrt(t*t+e*e+i*i+r*r)}function clamp(t,e,i){return e>t?e:t>i?i:t}function degreeNormalize(t){for(;0>t;)t+=360;for(;t>=360;)t-=360;return t}function epsilonEqual(t,e,i){return Math.abs(t-e)<i?!0:!1}function determinant2x2(t,e,i,r){return t*r-e*i}function determinant3x3(t,e,i,r,o,n,a,s,l){var c=determinant2x2(o,n,s,l),h=determinant2x2(r,n,a,l),u=determinant2x2(r,o,a,s);return t*c-e*h+i*u}function determinant4x4(t,e,i,r,o,n,a,s,l,c,h,u,d,p,f,_){var m=determinant3x3(n,a,s,c,h,u,p,f,_),g=determinant3x3(o,a,s,l,h,u,d,f,_),y=determinant3x3(o,n,s,l,c,u,d,p,_),b=determinant3x3(o,n,a,l,c,h,d,p,f);return t*m-e*g+i*y-r*b}function modf(t){var e=0>t?Math.ceil(t):Math.floor(t),i=t-e;return{integerPart:e,fractionalPart:i}}function XYZtoH(t,e,i){var r=0;return r=0==t?i>=0?0:Math.PI:0==i?t>=0?3*HALFPI:HALFPI:t>0&&i>0?TWOPI-Math.atan(t/i):0>t&&i>0?-Math.atan(t/i):0>t&&0>i?HALFPI+Math.atan(i/t):3*HALFPI+Math.atan(i/t)}function XYZtoHP(t,e,i){var r=0,o=0;return 0==t&&0==i?(r=0,o=0!=e?0>e?-HALFPI:HALFPI:0):(r=0==i?t>0?HALFPI:-HALFPI:0>i?-Math.atan(t/i)+Math.PI:-Math.atan(t/i),t=Math.sqrt(t*t+i*i),o=0==t?0>e?-HALFPI:HALFPI:Math.atan(e/t)),{heading:r,pitch:o}}function rectContainsPoint(t,e,i){return t>=i.left&&e>=i.top&&t<=i.right&&e<=i.bottom?!0:!1}function Vector2D(t,e){this.x=t||0,this.y=e||0}function Vector3D(t,e,i){this.x=t||0,this.y=e||0,this.z=i||0,this.equals=function(t){return this.x==t.x&&this.y==t.y&&this.z==t.z}}function dotProduct(t,e){return t.x*e.x+t.y*e.y+t.z*e.z}function crossProduct(t,e){var i=new Vector3D;return i.x=t.y*e.z-t.z*e.y,i.y=t.z*e.x-t.x*e.z,i.z=t.x*e.y-t.y*e.x,i}function cosineAngleBetween(t,e){var i=magnitude(t.x,t.y,t.z)*magnitude(e.x,e.y,e.z);if(0!=i){var r=dotProduct(t,e)/i;return r>1?r=1:-1>r&&(r=-1),r}return 1}function midpoint(t,e){var i=new Vector3D;return i.x=(t.x+e.x)/2,i.y=(t.y+e.y)/2,i.z=(t.z+e.z)/2,i}function distanceBetween(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)+(t.z-e.z)*(t.z-e.z))}function subtract3D(t,e){var i=new Vector3D(t.x,t.y,t.z);return i.subtractVector(e),i}function Vector4D(t,e,i,r){this.x=t||0,this.y=e||0,this.z=i||0,this.w=r||0}function Matrix4x4(t,e,i,r,o,n,a,s,l,c,h,u,d,p,f,_){this._11=t||1,this._12=e||0,this._13=i||0,this._14=r||0,this._21=o||0,this._22=n||1,this._23=a||0,this._24=s||0,this._31=l||0,this._32=c||0,this._33=h||1,this._34=u||0,this._41=d||0,this._42=p||0,this._43=f||0,this._44=_||1}function MatrixStack(t){Stack.call(this,t)}function Quaternion(t,e,i,r){this.w=t||1,this.x=e||0,this.y=i||0,this.z=r||0}function Line(t,e){this.point=new Vector3D(t.x,t.y,t.z),this.dir=new Vector3D(e.x,e.y,e.z)}function Plane(t,e){this.point=new Vector3D,this.normal=new Vector3D,this.dot=0,t&&e&&(this.point.copy(t),this.normal.copy(e),this.dot=dotProduct(this.point,this.normal))}function Plane2(t,e,i){var r;if(t&&e&&i){var o=new Vector3D(i.x-e.x,i.y-e.y,i.z-e.z),n=new Vector3D(t.x-e.x,t.y-e.y,t.z-e.z);r=crossProduct(o,n),r.normalize()}Plane.call(this,t,r)}function pointOnPlane(t,e,i){return Math.abs(dotProduct(t,e.normal)-e.dot)<i?!0:!1}function pointOnPositiveSideOfPlane(t,e){return dotProduct(t,e.normal)-e.dot>0?!0:!1}function pointOnNegativeSideOfPlane(t,e){return dotProduct(t,e.normal)-e.dot<0?!0:!1}function lineIntersectsPlane(t,e){var i,r=new Vector3D,o=e.normal.x*t.dir.x+e.normal.y*t.dir.y+e.normal.z*t.dir.z;if(0==o)pointOnPlane(t.point,e,FLT_EPSILON)&&(r.copy(t.point),i=2),i=0;else{var n=e.dot-(e.normal.x*t.point.x+e.normal.y*t.point.y+e.normal.z*t.point.z),a=n/o;r.x=a*t.dir.x+t.point.x,r.y=a*t.dir.y+t.point.y,r.z=a*t.dir.z+t.point.z,i=1}return{result:i,point:r}}function lineSegmentPlaneIntersection(t,e,i){var r=new Vector3D(e.x-t.x,e.y-t.y,e.z-t.z),o=t.x,n=t.y,a=t.z,s=r.x,l=r.y,c=r.z,h=i.normal.x*s+i.normal.y*l+i.normal.z*c;if(0==h){if(pointOnPlane(t,i,FLT_EPSILON)){var u=new Vector3D(t);return{count:2,point:u}}return{count:0}}var d=i.dot-(i.normal.x*o+i.normal.y*n+i.normal.z*a),p=d/h;if(0>p||p>1)return{count:0};var u=new Vector3D;return u.x=p*s+o,u.y=p*l+n,u.z=p*c+a,{count:1,point:u}}function coplanar(t,e){return t.normal!=e.normal&&t.normal!=-e.normal||!pointOnPlane(t.point,e)?!1:!0}function planesIntersect(t,e){var i=new Vector3D(0,0,0);return crossProduct(t.normal,e.normal).equals(i)?!1:!0}function distanceBetweenPlanes(t,e){if(coplanar(t,e))return 0;if(!planesIntersect(t,e)){var i=lineIntersectsPlane(new Line(t.point,t.normal),e);return i.result?distanceBetween(t.point,e.point):0}return 0}function ViewVolume(){this.left=null,this.right=null,this.top=null,this.bottom=null,this.near=null,this.far=null}function SIGN(t){return t>=0?1:-1}function SIGN3(t){t.x<0?4:0|t.y<0?2:0|t.z<0?1:0}function solveQuadraticEquation(t,e,i){if(0==t)return{count:0};var r=e*e-4*t*i;if(0>r)return{count:0};if(0==r){var o=-e/(2*t);return{count:1,root1:o}}r=Math.sqrt(r);var o=(-e+r)/(2*t),n=(-e-r)/(2*t);return{count:2,root1:o,root2:n}}function rayTriangleIntersection(t,e,i,r,o,n,a){var s=new Vector3D(e.x,e.y,e.z);s.normalize();var l=new Vector3D(r.x-i.x,r.y-i.y,r.z-i.z),c=new Vector3D(o.x-i.x,o.y-i.y,o.z-i.z),h=crossProduct(s,c),u=dotProduct(l,h);if(u>-EPSILON&&EPSILON>u)return{result:!1};if(n&&u>0)return{result:!1};if(a&&0>u)return{result:!1};var d=1/u,p=new Vector3D(t.x-i.x,t.y-i.y,t.z-i.z),f=dotProduct(p,h)*d;if(0>f||f>1)return{result:!1};var _=crossProduct(p,l),m=dotProduct(s,_)*d;if(0>m||f+m>1)return{result:!1};var g=dotProduct(c,_)*d;return{result:!0,t:g,u:f,v:m}}function raySphereIntersection(t,e,i,r){var o=new Vector3D(e.x,e.y,e.z);o.normalize();var n=new Vector3D(t.x+o.x,t.y+o.y,t.z+o.z),a=n.x-t.x,s=n.y-t.y,l=n.z-t.z,c=2*(a*(t.x-i.x)+s*(t.y-i.y)+l*(t.z-i.z)),h=(t.x-i.x)*(t.x-i.x)+(t.y-i.y)*(t.x-i.y)+(t.z-i.z)*(t.z-i.z)-r*r;return solveQuadraticEquation(1,c,h)}function triangleContainsPoint(t,e,i,r){var o=SIGN3(crossProduct(subtract3D(t,e),subtract3D(t,r))),n=SIGN3(crossProduct(subtract3D(e,i),subtract3D(e,r))),a=SIGN3(crossProduct(subtract3D(i,t),subtract3D(i,r)));return o==n&&n==a?!0:!1}function triangleOnPositiveSideOfPlane(t,e,i,r){return pointOnPositiveSideOfPlane(t,r)&&pointOnPositiveSideOfPlane(e,r)&&pointOnPositiveSideOfPlane(i,r)}function triangleOnNegativeSideOfPlane(t,e,i,r){return pointOnNegativeSideOfPlane(t,r)&&pointOnNegativeSideOfPlane(e,r)&&pointOnNegativeSideOfPlane(i,r)}function triangleSpansPlane(t,e,i,r){return!triangleOnPositiveSideOfPlane(t,e,i,r)&&!triangleOnNegativeSideOfPlane(t,e,i,r)}function lineSegmentTriangleIntersection(t,e,i,r,o){var n=lineSegmentPlaneIntersection(t,e,new Plane2(i,r,o));return 0==n.count?{result:!1,point:null}:n.point.x<min3(i.x,r.x,o.x)||n.point.y<min3(i.y,r.y,o.y)||n.point.z<min3(i.z,r.z,o.z)||n.point.x>max3(i.x,r.x,o.x)||n.point.y>max3(i.y,r.y,o.y)||n.point.z>max3(i.z,r.z,o.z)?{result:!1,point:null}:triangleContainsPoint(i,r,o,n.point)?{result:!0,point:n.point}:{result:!1,point:null}}function triangleTriangleIntersection(t,e,i,r,o,n){return triangleSpansPlane(t,e,i,new Plane(r,o,n))&&triangleSpansPlane(r,o,n,new Plane(t,e,i))&&(lineSegmentTriangleIntersection(t,e,r,o,n).result||lineSegmentTriangleIntersection(e,i,r,o,n).result||lineSegmentTriangleIntersection(i,t,r,o,n).result||lineSegmentTriangleIntersection(r,o,t,e,i).result||lineSegmentTriangleIntersection(o,n,t,e,i).result||lineSegmentTriangleIntersection(n,r,t,e,i).result)?!0:!1}function planeProject(t,e){return crossProduct(e.normal,crossProduct(t,e.normal))}function distanceBetweenLineSegmentAndPoint(t,e,i){if(t.equals(e))return distanceBetween(t,i);var r=magnitude(e.x-t.x,e.y-t.y,e.z-t.z),o=((i.x-t.x)*(e.x-t.x)+(i.y-t.y)*(e.y-t.y)+(i.z-t.z)*(e.z-t.z))/(r*r);return 0>o?distanceBetween(t,i):o>1?distanceBetween(e,i):distanceBetween(new Vector3D(t.x+(e.x-t.x)*o,t.y+(e.y-t.y)*o,t.z+(e.z-t.z)*o),i)}function enumerateAttributeTypes(){var t=0;for(var e in eAttrType)0==eAttrType[e]&&(eAttrType[e]=t++)}function enumerateAttributeElementTypes(){var t=0;for(var e in eAttrElemType)0==eAttrElemType[e]&&(eAttrElemType[e]=t++)}function AttributeTargetDesc(t,e,i,r,o){void 0==e&&(e=-1),void 0==i&&(i=-1),this.target=t||null,this.sourceElementIndex=e,this.targetElementIndex=i,this.op=r||eAttrSetOp.Replace,this.converter=o||null}function AttributeSourceDesc(t,e,i,r,o){void 0==e&&(e=-1),void 0==i&&(i=-1),this.source=t||null,this.sourceElementIndex=e,this.targetElementIndex=i,this.op=r||eAttrSetOp.Replace,this.converter=o||null}function AttributeGetParams(t,e){void 0==t&&(t=-1),void 0==e&&(e=-1),this.elementIndex=t,this.valueElementIndex=e}function AttributeSetParams(t,e,i,r,o,n){void 0==t&&(t=-1),void 0==e&&(e=-1),this.elementIndex=t,this.valueElementIndex=e,this.op=i||eAttrSetOp.Replace,this.updateTargets=void 0!=r?r:!0,this.alertModifiedCBs=void 0!=o?o:!0,this.caller=void 0!=n?n:null}function Attribute(){Base.call(this),this.className="Attribute",this.attrType=eAttrType.Attribute,this.attrElemType=eAttrElemType.Attribute,this["native"]=!0,this["transient"]=!1,this.persistent=!1,this.deserialized=!1,this.modificationCount=-1,this.values=[],this.lastValues=[],this.modifiedCBs=[],this.modifiedCBsData=[],this.targets=[],this.sources=[],this.container=null,this.registry=null}function AttributeContainer(){Attribute.call(this),this.className="AttributeContainer",this.attrType=eAttrType.AttributeContainer,this.attrNameMap=[],this.attrModifiedCBsEnabled=!1}function AttributeContainer_AttributeModifiedCB(t,e){for(var i=0;i<e.modifiedCBs.length;i++)e.modifiedCBs[i](e,e.modifiedCBsData[i])}function AttributeRegistry(){AttributeContainer.call(this),this.className="AttributeRegistry",this.attrType=eAttrType.AttributeRegistry,this.objectCount=0,this.typeRegistry=[],this.nameRegistry=[],this.uniqueAttributes=[]}function AttributeRegistry_AttributeContainerNameModifiedCB(t,e){e.updateName(t.getContainer(),t.getValueDirect().join(""))}function BooleanAttr(t){Attribute.call(this),this.className="BooleanAttr",this.attrType=eAttrType.BooleanAttr,this.setValue(t||!1)}function ColorAttr(t,e,i,r){Attribute.call(this),this.className="ColorAttr",this.attrType=eAttrType.ColorAttr;var o=[t||0,e||0,i||0,r||0];this.setValue(o)}function Matrix4x4Attr(t,e,i,r,o,n,a,s,l,c,h,u,d,p,f,_){Attribute.call(this),this.className="Matrix4x4Attr",this.attrType=eAttrType.Matrix4x4Attr;var m=[t||1,e||0,i||0,r||0,o||0,n||1,a||0,s||0,l||0,c||0,h||1,u||0,d||0,p||0,f||0,_||1];this.setValue(m)}function NumberArrayAttr(){Attribute.call(this),this.className="NumberArrayAttr",this.attrType=eAttrType.NumberArrayAttr}function NumberAttr(t){Attribute.call(this),this.className="NumberAttr",this.attrType=eAttrType.NumberAttr,this.setValue(t||0)}function PulseAttr(){BooleanAttr.call(this),this.className="PulseAttr",this.attrType=eAttrType.PulseAttr,this.setTransient(!0)}function QuaternionAttr(t,e,i,r){Attribute.call(this),this.className="QuaternionAttr",this.attrType=eAttrType.QuaternionAttr;var o=[t||1,e||0,i||0,r||0];this.setValue(o)}function ReferenceAttr(t){Attribute.call(this),this.className="ReferenceAttr",this.attrType=eAttrType.ReferenceAttr,this.setValue(t||null)}function StringAttr(t){Attribute.call(this),this.className="StringAttr",this.attrType=eAttrType.StringAttr,this.setValue(t||"")}function StringAttrAllocator(){}function TernaryAttr(t){NumberAttr.call(this,t),this.className="TernaryAttr",this.attrType=eAttrType.TernaryAttr}function Vector2DAttr(t,e){Attribute.call(this),this.className="Vector2DAttr",this.attrType=eAttrType.Vector2DAttr;var i=[t||0,e||0];this.setValue(i)}function Vector3DAttr(t,e,i){Attribute.call(this),this.className="Vector3DAttr",this.attrType=eAttrType.Vector3DAttr;var r=[t||0,e||0,i||0];this.setValue(r)}function ViewportAttr(t,e,i,r){Attribute.call(this),this.className="ViewportAttr",this.attrType=eAttrType.ViewportAttr;var o=[t||0,e||0,i||0,r||0];this.setValue(o)}function AttributeVector(t){AttributeContainer.call(this),this.className="AttributeVector",this.attrType=eAttrType.AttributeVector,this.vector=[],this.allocator=t,this.size=new NumberAttr(0),this.baseName=new StringAttr("item"),this.appendParsedElements=new BooleanAttr(!1),this.elementModified=new PulseAttr,this.size.addModifiedCB(AttributeVector_SizeModifiedCB,this),this.baseName.addModifiedCB(AttributeVector_BaseNameModifiedCB,this),this.registerAttribute(this.size,"size"),this.registerAttribute(this.baseName,"baseName"),this.registerAttribute(this.appendParsedElements,"appendParsedElements"),this.registerAttribute(this.elementModified,"elementModified")}function AttributeVector_SizeModifiedCB(t,e){e.sizeModified()}function AttributeVector_BaseNameModifiedCB(){}function StyleAttr(){AttributeContainer.call(this),this.className="StyleAttr",this.attrType=eAttrType.StyleAttr,this.setOp=new NumberAttr(eAttrSetOp.Replace),this.styleUrl=new StringAttr,this.styleUrl.addModifiedCB(StyleAttr_StyleUrlModifiedCB,this),this.registerAttribute(this.setOp,"setOp"),this.registerAttribute(this.styleUrl,"styleUrl")}function StyleAttr_StyleUrlModifiedCB(t,e){e.styleUrlModified()}function StylesAttr(){AttributeVector.call(this),this.className="StylesAttr",this.attrType=eAttrType.StylesAttr,this.registeredCBs=[],this.registeredCBsData=[],this.enabled=new BooleanAttr(!0),this.registerAttribute(this.enabled,"enabled")}function StyleMapAttr(){AttributeContainer.call(this),this.className="StyleMapAttr",this.attrType=eAttrType.StyleMapAttr,this.eventType=eEventType.Unknown,this.targetContainer=null,this.event=new StringAttr,this.styles=new StylesAttr,this.styleUrl=new StringAttr,this.target=new StringAttr,this.event.addModifiedCB(StyleMapAttr_EventModifiedCB,this),this.styleUrl.addModifiedCB(StyleMapAttr_styleUrlModifiedCB,this),this.target.addModifiedCB(StyleMapAttr_TargetModifiedCB,this),this.registerAttribute(this.event,"event"),this.registerAttribute(this.styleUrl,"styleUrl"),this.registerAttribute(this.target,"target")}function StyleMapAttr_EventModifiedCB(t,e){e.eventModified()}function StyleMapAttr_styleUrlModifiedCB(t,e){e.styleUrlModified()}function StyleMapAttr_TargetModifiedCB(t,e){e.targetModified()}function StyleMapAttrAllocator(){}function StylesMapAttr(){AttributeVector.call(this,new StyleMapAttrAllocator),this.className="StylesMapAttr",this.attrType=eAttrType.StylesMapAttr,this.stylesEnabledMap=[],this.size.addModifiedCB(StylesMapAttr_SizeModifiedCB,this),this.appendParsedElements.setValueDirect(!0)}function StylesMapAttr_SizeModifiedCB(t,e){e.StylesMapAttr_SizeModified()}function KeyframeAttr(){AttributeContainer.call(this),this.className="KeyframeAttr",this.attrType=eAttrType.KeyframeAttr,this.time=new NumberAttr,this.value=new NumberAttr,this.shape=new NumberAttr,this.params=new AttributeVector;for(var t=0;6>t;t++)this.params.push_back(new NumberAttr(0));this.registerAttribute(this.time,"time"),this.registerAttribute(this.value,"value"),this.registerAttribute(this.shape,"shape"),this.registerAttribute(this.params,"params"),this.getTime=function(){return this.time.getValueDirect()},this.getValue=function(){return this.value.getValueDirect()},this.getShape=function(){return this.shape.getValueDirect()},this.getParams=function(t){return this.params.getAt(t).getValueDirect()}}function KeyframesAttr(){AttributeVector.call(this),this.className="KeyframesAttr",this.attrType=eAttrType.KeyframesAttr}function BBoxAttr(){AttributeContainer.call(this),this.className="BBoxAttr",this.attrType=eAttrType.BBoxAttr,this.min=new Vector3DAttr,this.max=new Vector3DAttr,this.registerAttribute(this.min,"min"),this.registerAttribute(this.max,"max")}function ImageAttr(){AttributeContainer.call(this),this.className="ImageAttr",this.attrType=eAttrType.ImageAttr,this.width=new NumberAttr(0),this.height=new NumberAttr(0),this.byteAlignment=new NumberAttr(0),this.pixelFormat=new NumberAttr(ePixelFormat.Unknown),this.pixels=new NumberArrayAttr,this.registerAttribute(this.width,"width"),this.registerAttribute(this.height,"height"),this.registerAttribute(this.byteAlignment,"byteAlignment"),this.registerAttribute(this.pixelFormat,"pixelFormat"),this.registerAttribute(this.pixels,"pixels")}function RectAttr(){AttributeContainer.call(this),this.className="RectAttr",this.attrType=eAttrType.RectAttr,this.left=new NumberAttr(0),this.top=new NumberAttr(0),this.right=new NumberAttr(0),this.bottom=new NumberAttr(0),this.registerAttribute(this.left,"left"),this.registerAttribute(this.top,"top"),this.registerAttribute(this.right,"right"),this.registerAttribute(this.bottom,"bottom")}function FontStyleAttr(){StyleAttr.call(this),this.className="FontStyleAttr",this.attrType=eAttrType.FontStyleAttr,this.antialiasType=new NumberAttr(eImageAntialiasOp.EightPass),this.borderColor=new ColorAttr(0,0,0,1),this.borderWidth=new NumberAttr(2),this.color=new ColorAttr(1,1,1,1),this.effects=new StringAttr,this.font=new StringAttr("Arial"),this.opacity=new NumberAttr(1),this.size=new NumberAttr(18),this.style=new StringAttr("Bold"),this.registerAttribute(this.antialiasType,"antialiasType"),this.registerAttribute(this.borderColor,"borderColor"),this.registerAttribute(this.borderWidth,"borderWidth"),this.registerAttribute(this.color,"color"),this.registerAttribute(this.effects,"effects"),this.registerAttribute(this.font,"font"),this.registerAttribute(this.opacity,"opacity"),this.registerAttribute(this.size,"size"),this.registerAttribute(this.style,"style")}function LabelStyleAttr(){StyleAttr.call(this),this.className="LabelStyleAttr",this.attrType=eAttrType.LabelStyleAttr,this.angle=new NumberAttr(0),this.backgroundColor=new ColorAttr(0,0,0,1),this.backgroundOpacity=new NumberAttr(0),this.fontStyle=new FontStyleAttr,this.format=new StringAttr("left"),this.height=new NumberAttr(0),this.offset=new Vector2DAttr(0,0),this.padding=new NumberAttr(0),this.scale=new Vector3DAttr(1,1,1),this.textAlign=new StringAttr("middleRight"),this.width=new NumberAttr(0),this.registerAttribute(this.angle,"angle"),this.registerAttribute(this.backgroundColor,"backgroundColor"),this.registerAttribute(this.backgroundOpacity,"backgroundOpacity"),this.registerAttribute(this.fontStyle,"fontStyle"),this.registerAttribute(this.format,"format"),this.registerAttribute(this.height,"height"),this.registerAttribute(this.offset,"offset"),this.registerAttribute(this.padding,"padding"),this.registerAttribute(this.scale,"scale"),this.registerAttribute(this.textAlign,"textAlign"),this.registerAttribute(this.width,"width")}function IconStyleAttr(){StyleAttr.call(this),this.className="IconStyleAttr",this.attrType=eAttrType.IconStyleAttr,this.alphaUrl=new StringAttr(""),this.color=new ColorAttr(1,1,1,1),this.opacity=new NumberAttr(1),this.scale=new Vector3DAttr(1,1,1),this.url=new StringAttr(""),this.registerAttribute(this.alphaUrl,"alphaUrl"),this.registerAttribute(this.color,"color"),this.registerAttribute(this.opacity,"opacity"),this.registerAttribute(this.scale,"scale"),this.registerAttribute(this.url,"url")}function HTMLLabelStyleAttr(){StyleAttr.call(this),this.className="HTMLLabelStyleAttr",this.attrType=eAttrType.HTMLLabelStyleAttr,this.bgColor=new ColorAttr(1,1,1,1),this.height=new NumberAttr(0),this.html=new StringAttr,this.left=new NumberAttr(0),this.top=new NumberAttr(0),this.url=new StringAttr,this.width=new NumberAttr(0),this.registerAttribute(this.bgColor,"bgColor"),this.registerAttribute(this.height,"height"),this.registerAttribute(this.html,"html"),this.registerAttribute(this.html,"userData"),this.registerAttribute(this.left,"left"),this.registerAttribute(this.top,"top"),this.registerAttribute(this.url,"url"),this.registerAttribute(this.width,"width")}function BalloonTipLabelStyleAttr(){StyleAttr.call(this),this.className="BalloonTipLabelStyleAttr",this.attrType=eAttrType.BalloonTipLabelStyleAttr,this.balloonOffset=new NumberAttr(100),this.bgColor=new ColorAttr(1,1,1,1),this.displayMode=new StringAttr("default"),this.htmlLabelStyle=new HTMLLabelStyleAttr,this.text=new StringAttr,this.textColor=new ColorAttr(0,0,0,1),this.registerAttribute(this.balloonOffset,"balloonOffset"),this.registerAttribute(this.bgColor,"bgColor"),this.registerAttribute(this.displayMode,"displayMode"),this.registerAttribute(this.htmlLabelStyle,"htmlLabelStyle"),this.registerAttribute(this.text,"text"),this.registerAttribute(this.textColor,"textColor")}function RenderableElementStyleAttr(){StyleAttr.call(this),this.className="RenderableElementStyleAttr",this.attrType=eAttrType.RenderableElementStyleAttr,this.hasFocus=new TernaryAttr(0),this.selected=new TernaryAttr(0),this.registerAttribute(this.hasFocus,"hasFocus"),this.registerAttribute(this.selected,"selected")}function PlaneAttr(){AttributeContainer.call(this),this.className="PlaneAttr",this.attrType=eAttrType.PlaneAttr,this.point=new Vector3DAttr(0,0,0),this.normal=new Vector3DAttr(0,0,1),this.dot=new NumberAttr(0),this.registerAttribute(this.point,"point"),this.registerAttribute(this.normal,"normal"),this.registerAttribute(this.dot,"dot")}function ViewVolumeAttr(){AttributeContainer.call(this),this.className="ViewVolumeAttr",this.attrType=eAttrType.ViewVolumeAttr,this.left=new PlaneAttr,this.right=new PlaneAttr,this.top=new PlaneAttr,this.bottom=new PlaneAttr,this.near=new PlaneAttr,this.far=new PlaneAttr,this.registerAttribute(this.left,"left"),this.registerAttribute(this.right,"right"),this.registerAttribute(this.top,"top"),this.registerAttribute(this.bottom,"bottom"),this.registerAttribute(this.near,"near"),this.registerAttribute(this.far,"far")}function SphereAttr(){AttributeContainer.call(this),this.className="SphereAttr",this.attrType=eAttrType.SphereAttr,this.sphere=new Sphere,this.center=new Vector3DAttr(0,0,0),this.radius=new NumberAttr(0),this.center.addModifiedCB(SphereAttr_CenterModifiedCB,this),this.radius.addModifiedCB(SphereAttr_RadiusModifiedCB,this),this.registerAttribute(this.center,"center"),this.registerAttribute(this.radius,"radius")}function SphereAttr_CenterModifiedCB(t,e){e.sphere.center=t.getValueDirect()}function SphereAttr_RadiusModifiedCB(t,e){e.sphere.radius=t.getValueDirect()}function PhysicalPropertiesAttr(){AttributeContainer.call(this),this.className="PhysicalPropertiesAttr",this.attrType=eAttrType.PhysicalPropertiesAttr,this.mass=new NumberAttr(0),this.radius=new NumberAttr(0),this.friction=new NumberAttr(0),this.restitution=new NumberAttr(0),this.linearDamping=new NumberAttr(0),this.angularDamping=new NumberAttr(0),this.rollingFriction=new NumberAttr(0),this.registerAttribute(this.mass,"mass"),this.registerAttribute(this.radius,"radius"),this.registerAttribute(this.friction,"friction"),this.registerAttribute(this.restitution,"restitution"),this.registerAttribute(this.linearDamping,"linearDamping"),this.registerAttribute(this.angularDamping,"angularDamping"),this.registerAttribute(this.rollingFriction,"rollingFriction")}function setAttributeValue(t,e){switch(t.attrType){case eAttrType.BooleanAttr:t.setValueDirect("false"==e||"0"==e?!1:!0);break;case eAttrType.ColorAttr:case eAttrType.Matrix4x4Attr:case eAttrType.NumberArrayAttr:case eAttrType.QuaternionAttr:case eAttrType.Vector2DAttr:case eAttrType.Vector3DAttr:case eAttrType.ViewportAttr:for(var i=0;i<e.length;i++)e[i]=parseFloat(e[i]);t.setValue(e);break;case eAttrType.NumberAttr:t.setValueDirect(parseFloat(e));break;default:t.setValue(e)}}function Agent(){AttributeContainer.call(this),this.className="Agent",this.running=!1,this.name=new StringAttr(""),this.enabled=new BooleanAttr(!0),this.registerAttribute(this.name,"name"),this.registerAttribute(this.enabled,"enabled")
}function RayIntersectRecord(){this.distance=1/0,this.pointModel=new Vector3D,this.pointWorld=new Vector3D,this.pointView=new Vector3D,this.normalModel=new Vector3D,this.normalWorld=new Vector3D,this.normalView=new Vector3D,this.triIndex=0}function RayIntersectParams(t,e,i,r,o,n,a,s,l){this.rayOrigin=t||new Vector3D,this.rayDir=e||new Vector3D,this.nearDistance=i||0,this.farDistance=r||0,this.worldMatrix=o||new Matrix4x4,this.viewMatrix=n||new Matrix4x4,this.worldViewMatrix=this.worldMatrix.multiply(this.viewMatrix),this.scale=a||0,this.doubleSided=s||!1,this.clipPlanes=l||new Array,this.intersects=!1,this.intersectRecord=new RayIntersectRecord}function Triangle(t,e,i,r,o,n,a,s,l){this.v0=new Vector3D(t,e,i),this.v1=new Vector3D(r,o,n),this.v2=new Vector3D(a,s,l)}function Sphere(){this.center=new Vector3D,this.radius=0,this.xcenter=new Vector3D,this.xradius=0}function Region(t,e,i,r,o,n){this.min=new Vector3D(t,e,i),this.max=new Vector3D(r,o,n),this.xpos=new Plane,this.xneg=new Plane,this.ypos=new Plane,this.yneg=new Plane,this.zpos=new Plane,this.zneg=new Plane,this.xpos_ypos_zpos=new Plane,this.xpos_ypos_zneg=new Plane,this.xpos_yneg_zpos=new Plane,this.xpos_yneg_zneg=new Plane,this.xneg_ypos_zpos=new Plane,this.xneg_ypos_zneg=new Plane,this.xneg_yneg_zpos=new Plane,this.xneg_yneg_zneg=new Plane,this.setPlanes()}function SphereTreeNode(t){this.tree=t,this.sphere=new Sphere,this.level=0,this.parent=null,this.children=[],this.triIndices=[]}function SphereHitRec(){this.target=null,this.testList=[]}function BoundingTree(){this.root=null,this.min=new Vector3D,this.max=new Vector3D,this.tris=[],this.visited=[],this.xform=new Matrix4x4}function SphereTree(){BoundingTree.call(this)}function Octree(){SphereTree.call(this)}function rayPick(t,e,i,r,o,n,a,s,l,c){var h=new RayIntersectParams(e,i,r,o,n,a,s,l,c);return t.rayIntersectsTree(h),1==h.intersects?h.intersectRecord:null}function Context(){this.clear()}function RenderContextMethodDesc(t,e){this.method=t,this.params=e}function DisplayListObj(t){this.renderContext=t,this.displayList=[]}function DL_ADD_METHOD_DESC(t,e,i){t&&t.addMethodDesc(new RenderContextMethodDesc(e,i))}function LightDesc(){this.type="",this.validMembersMask=0,this.position=new Vector3D,this.direction=new Vector3D,this.ambient=new Color,this.diffuse=new Color,this.specular=new Color,this.constantAttenuation=0,this.linearAttenuation=0,this.quadraticAttenuation=0,this.range=0,this.outerConeDegrees=0,this.innerConeDegrees=0,this.coneFalloff=0}function MaterialDesc(){this.validMembersMask=0,this.ambient=new Color,this.diffuse=new Color,this.specular=new Color,this.emissive=new Color,this.glossiness=0,this.copy=function(t){t&&(this.validMembersMask=t.validMembersMask,this.ambient.copy(t.ambient),this.diffuse.copy(t.diffuse),this.specular.copy(t.specular),this.emissive.copy(t.emissive),this.glossiness=t.glossiness)}}function EnabledCaps(){this.alphaBlend=!1,this.cullBackFace=!1,this.depthBufferWrite=!1,this.depthTest=!1,this.lighting=!1,this.stencilTest=!1}function RenderContext(t,e){this.valid=!1,this.canvas=t,this.background=e,this.projectionMatrixStack=new MatrixStack(new Matrix4x4),this.viewMatrixStack=new MatrixStack(new Matrix4x4),this.worldMatrixStack=new MatrixStack(new Matrix4x4),this.matrixMode=RC_WORLD,this.globalIllumination=new Color,this.frontMaterial=new MaterialDesc,this.displayListObj=null,this.getDisplayList=function(){return this.displayListObj},this.setDisplayList=function(t){this.displayListObj=t},this.getFrontMaterial=function(){var t=new MaterialDesc;return t.copy(this.frontMaterial),t},this.setBackgroundImage=function(t,e,i){this.background&&(this.background.src=t,this.background.width=e,this.background.height=i)},this.setMatrixMode=function(t){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.SetMatrixMode,[t]),this.matrixMode=t},this.pushMatrix=function(){switch(this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.PushMatrix,null),this.matrixMode){case RC_WORLD:this.worldMatrixStack.push();break;case RC_VIEW:this.viewMatrixStack.push();break;case RC_PROJECTION:this.projectionMatrixStack.push()}},this.popMatrix=function(){switch(this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.PopMatrix,null),this.matrixMode){case RC_WORLD:this.worldMatrixStack.pop();break;case RC_VIEW:this.viewMatrixStack.pop();break;case RC_PROJECTION:this.projectionMatrixStack.pop()}},this.loadMatrix=function(t){switch(this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.LoadMatrix,[t]),this.matrixMode){case RC_WORLD:this.worldMatrixStack.loadMatrix(t);break;case RC_VIEW:this.viewMatrixStack.loadMatrix(t);break;case RC_PROJECTION:this.projectionMatrixStack.loadMatrix(t)}},this.leftMultMatrix=function(t){switch(this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.LeftMultMatrix,[t]),this.matrixMode){case RC_WORLD:this.worldMatrixStack.leftMultiply(t);break;case RC_VIEW:this.viewMatrixStack.leftMultiply(t);break;case RC_PROJECTION:this.projectionMatrixStack.leftMultiply(t)}},this.rightMultMatrix=function(t){switch(this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.RightMultMatrix,[t]),this.matrixMode){case RC_WORLD:this.worldMatrixStack.rightMultiply(t);break;case RC_VIEW:this.viewMatrixStack.rightMultiply(t);break;case RC_PROJECTION:this.projectionMatrixStack.rightMultiply(t)}},this.setEnabled=function(t,e){e?this.enable(t):this.disable(t)}}function newRenderContext(t,e,i){var r=null;switch(t){case"webgl":if(r=new webglRC(e,i),r.valid){var o=r.createProgram(default_vertex_lighting_vs,default_vertex_lighting_fs);r.useProgram(o)}}return r.valid?r:null}function RenderStateRec(){this.projMatrix=new Matrix4x4,this.viewMatrix=new Matrix4x4,this.worldViewMatrix=new Matrix4x4,this.lightIndices=[],this.lightStates=[],this.lightMatrices=[],this.lightingEnabled=!1,this.materialDesc=new MaterialDesc,this.fogEnabled=!1,this.clipPlaneIndices=[],this.clipPlanes=[],this.clipPlaneMatrices=[],this.zBufferEnabled=!1,this.zBufferWriteEnabled=!1}function RenderState(t){this.renderContext=t,this.stateStack=new Stack,this.push=function(t){var e=this.getState(t);this.stateStack.push(e)},this.pop=function(t){if(!this.stateStack.empty()){var e=this.stateStack.top();this.setState(t,e),this.stateStack.pop()}},this.getState=function(t){var e=new RenderStateRec;if(t&RENDERSTATE_TRANSFORM_BIT&&(e.projMatrix=this.renderContext.projectionMatrixStack.top(),e.viewMatrix=this.renderContext.viewMatrixStack.top(),e.worldViewMatrix=this.renderContext.worldMatrixStack.top()),t&RENDERSTATE_LIGHTING_BIT){e.lightIndices=this.renderContext.getEnabledLights();for(var i=0;i<e.lightIndices.length;i++){var r=this.renderContext.getLight(e.lightIndices[i]);e.lightStates[i]=r.desc,e.lightMatrices[i]=r.matrix}e.lightingEnabled=this.renderContext.enabled(eRenderMode.Lighting)}return t&RENDERSTATE_MATERIAL_BIT&&(e.materialDesc=this.renderContext.getFrontMaterial()),t&RENDERSTATE_ZBUFFER_BIT&&(e.zBufferEnabled=this.renderContext.enabled(eRenderMode.DepthTest),e.zBufferWriteEnabled=this.renderContext.enabled(eRenderMode.DepthBufferWrite)),e},this.setState=function(t,e){if(t&RENDERSTATE_TRANSFORM_BIT&&(this.renderContext.projectionMatrixStack.loadMatrix(e.projMatrix),this.renderContext.applyProjectionTransform(),this.renderContext.viewMatrixStack.loadMatrix(e.viewMatrix),this.renderContext.applyViewTransform(),this.renderContext.worldMatrixStack.loadMatrix(e.worldViewMatrix),this.renderContext.applyWorldTransform()),t&RENDERSTATE_LIGHTING_BIT){for(var i=0;i<e.lightIndices.length;i++)this.renderContext.worldMatrixStack.push(e.lightMatrices[i]),this.renderContext.setLight(e.lightIndices[i],e.lightStates[i]),this.renderContext.worldMatrixStack.pop();this.renderContext.setEnabledLights(e.lightIndices),e.lightingEnabled?this.renderContext.enable(eRenderMode.Lighting):this.renderContext.disable(eRenderMode.Lighting)}t&RENDERSTATE_MATERIAL_BIT&&this.renderContext.setFrontMaterial(e.materialDesc),t&RENDERSTATE_ZBUFFER_BIT&&(e.zBufferEnabled?this.renderContext.enable(eRenderMode.DepthTest):this.renderContext.disable(eRenderMode.depthTest),e.zBufferWriteEnabled?this.renderContext.enable(eRenderMode.DepthBufferWrite):this.renderContext.disable(eRenderMode.DepthBufferWrite))}}function VertexBuffer(){this.vertices=new Array,this.normals=new Array,this.colors=new Array,this.vertexCount=0,this.numVerticesPerPrimitive=0}function TextureObject(){}function webglProgram(t,e,i,r){var e=e,o=e.createShader(e.VERTEX_SHADER);if(o&&(e.shaderSource(o,i),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS)))return void alert(e.getShaderInfoLog(o));var n=e.createShader(e.FRAGMENT_SHADER);if(n&&(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS)))return void alert(e.getShaderInfoLog(n));var a=e.createProgram();if(a){if(e.attachShader(a,o),e.attachShader(a,n),e.linkProgram(a),!e.getProgramParameter(a,e.LINK_STATUS))return void alert(e.getProgramInfoLog(a));e.useProgram(a);var s=0;this.vertexPositionAttribute=e.getAttribLocation(a,"aVertexPosition"),this.vertexPositionAttribute>=0&&s++,this.vertexNormalAttribute=e.getAttribLocation(a,"aVertexNormal"),this.vertexNormalAttribute>=0&&s++,this.vertexColorAttribute=e.getAttribLocation(a,"aVertexColor"),this.vertexColorAttribute>=0&&s++,this.textureCoordAttribute=new Array(gl_MaxTextureStages);for(var l=0;gl_MaxTextureStages>l;l++)this.textureCoordAttribute[l]=e.getAttribLocation(a,"aTextureCoord"+l),this.textureCoordAttribute[l]>=0&&s++;this.projectionMatrix=e.getUniformLocation(a,"uProjectionMatrix"),this.viewMatrix=e.getUniformLocation(a,"uViewMatrix"),this.worldMatrix=e.getUniformLocation(a,"uWorldMatrix"),this.normalMatrix=e.getUniformLocation(a,"uNormalMatrix"),this.globalAmbientLight=e.getUniformLocation(a,"uGlobalAmbientLight"),this.lightSource=new Array(gl_MaxLights);for(var l=0;gl_MaxLights>l;l++)this.lightSource[l]=new gl_LightSourceParameters,this.lightSource[l].enabled=e.getUniformLocation(a,"uLightSource["+l+"].enabled"),this.lightSource[l].ambient=e.getUniformLocation(a,"uLightSource["+l+"].ambient"),this.lightSource[l].diffuse=e.getUniformLocation(a,"uLightSource["+l+"].diffuse"),this.lightSource[l].specular=e.getUniformLocation(a,"uLightSource["+l+"].specular"),this.lightSource[l].position=e.getUniformLocation(a,"uLightSource["+l+"].position"),this.lightSource[l].spotDirection=e.getUniformLocation(a,"uLightSource["+l+"].spotDirection"),this.lightSource[l].spotExponent=e.getUniformLocation(a,"uLightSource["+l+"].spotExponent"),this.lightSource[l].spotCutoff=e.getUniformLocation(a,"uLightSource["+l+"].spotCutoff"),this.lightSource[l].constantAttenuation=e.getUniformLocation(a,"uLightSource["+l+"].constantAttenuation"),this.lightSource[l].linearAttenuation=e.getUniformLocation(a,"uLightSource["+l+"].linearAttenuation"),this.lightSource[l].quadraticAttenuation=e.getUniformLocation(a,"uLightSource["+l+"].quadraticAttenuation"),this.lightSource[l].range=e.getUniformLocation(a,"uLightSource["+l+"].range"),e.uniform1i(this.lightSource[l].enabled,0);this.frontMaterial=new gl_MaterialParameters,this.frontMaterial.ambient=e.getUniformLocation(a,"uFrontMaterial.ambient"),this.frontMaterial.diffuse=e.getUniformLocation(a,"uFrontMaterial.diffuse"),this.frontMaterial.specular=e.getUniformLocation(a,"uFrontMaterial.specular"),this.frontMaterial.emissive=e.getUniformLocation(a,"uFrontMaterial.emissive"),this.frontMaterial.shininess=e.getUniformLocation(a,"uFrontMaterial.shininess"),this.textureSamplerColor=new Array(gl_MaxTextureStages),this.textureSamplerAlpha=new Array(gl_MaxTextureStages),this.textureStageEnabled=new Array(gl_MaxTextureStages);for(var l=0;gl_MaxTextureStages>l;l++)this.textureSamplerColor[l]=e.getUniformLocation(a,"uTextureSamplerColor["+l+"]"),this.textureSamplerAlpha[l]=e.getUniformLocation(a,"uTextureSamplerAlpha["+l+"]"),this.textureStageEnabled[l]=e.getUniformLocation(a,"uTextureStageEnabled["+l+"]");this.textureSamplerShadowMap=e.getUniformLocation(a,"uTextureSamplerShadowMap"),this.textureBlendOp=e.getUniformLocation(a,"uTextureBlendOp"),this.textureColorMask=e.getUniformLocation(a,"uTextureColorMask"),this.clipPlane=new Array(gl_MaxClipPlanes),this.clipPlaneEnabled=new Array(gl_MaxClipPlanes);for(var l=0;gl_MaxClipPlanes>l;l++)this.clipPlane[l]=e.getUniformLocation(a,"uClipPlane["+l+"]"),this.clipPlaneEnabled[l]=e.getUniformLocation(a,"uClipPlaneEnabled["+l+"]");this.lightingEnabled=e.getUniformLocation(a,"uLightingEnabled"),this.texturesEnabled=e.getUniformLocation(a,"uTexturesEnabled"),this.shadowCasterWorldPosition=e.getUniformLocation(a,"uShadowCasterWorldPosition"),this.modelID=e.getUniformLocation(a,"uModelID"),e.uniform1i(this.lightingEnabled,1),e.uniform1i(this.texturesEnabled,1),e.uniform1i(this.textureStageEnabled[0],0),e.uniform1i(this.textureStageEnabled[1],0),this.getGLProgram=function(){return a},this.enableVertexAttribArrays=function(){for(var t=0;s>t;t++)e.enableVertexAttribArray(t)},this.disableVertexAttribArrays=function(){for(var t=0;s>t;t++)e.disableVertexAttribArray(t)},this.vertexAttribPointer=function(t,i,r,o,n,a){t>=0&&e.vertexAttribPointer(t,i,r,o,n,a)}}}function gl_LightSourceParameters(){}function gl_MaterialParameters(){}function webglRC(t,e){RenderContext.call(this,t,e);var i=getWebGLContext(t,!1);if(i){i.clearColor(0,0,0,e?0:1),i.clearDepth(1),i.clearStencil(0),i.enable(i.DEPTH_TEST),i.depthFunc(i.LEQUAL),i.disable(i.STENCIL_TEST),i.frontFace(i.CW),i.viewport(0,0,t.width,t.height),i.enable(i.CULL_FACE),i.cullFace(i.BACK),i.enable(i.BLEND),i.blendFunc(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA);var r=(i.getExtension("OES_standard_derivatives"),35723);i.hint(r,i.NICEST),this.valid=!0;var o=null,n=[],a=[],s=[],l=[],c=[],h=[],u=new Viewport(0,0,t.width,t.height),d=new Color(0,0,0,e?0:1),p=new EnabledCaps;this.applyProjectionTransform=function(){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.ApplyProjectionTransform,null),i.uniformMatrix4fv(o.projectionMatrix,!1,new Float32Array(this.projectionMatrixStack.top().flatten()))},this.applyViewTransform=function(){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.ApplyViewTransform,null),i.uniformMatrix4fv(o.viewMatrix,!1,new Float32Array(this.viewMatrixStack.top().flatten()))},this.applyWorldTransform=function(){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.ApplyWorldTransform,null),i.uniformMatrix4fv(o.worldMatrix,!1,new Float32Array(this.worldMatrixStack.top().flatten()));var t=new Matrix4x4;t.loadMatrix(this.worldMatrixStack.top()),t.invert(!0),i.uniformMatrix4fv(o.normalMatrix,!1,new Float32Array(t.flatten()))},this.clear=function(t){t=t||RC_COLOR_BUFFER_BIT|RC_DEPTH_BUFFER_BIT,this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.Clear,[t]),i.clear((t&RC_COLOR_BUFFER_BIT?i.COLOR_BUFFER_BIT:0)|(t&RC_DEPTH_BUFFER_BIT?i.DEPTH_BUFFER_BIT:0)|(t&RC_STENCIL_BUFFER_BIT?i.STENCIL_BUFFER_BIT:0))},this.clearColor=function(t,e,r,o){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.ClearColor,[t,e,r,o]),i.clearColor(t,e,r,o),d.load(t,e,r,o)},this.clearDepth=function(t){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.ClearDepth,[t]),i.clearDepth(t)},this.clearStencil=function(t){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.ClearStencil,[t]),i.clearStencil(t)},this.createProgram=function(t,e){return new webglProgram(this,i,t,e)},this.createShadowFramebufferObject=function(){return new webglShadowFBO(this,i)},this.createTextureObject=function(){return this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.CreateTextureObject,null),new webglTO(this,i)},this.createVertexBuffer=function(t){return this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.CreateVertexBuffer,[t]),new webglVB(this,i,t)},this.cullFace=function(t){switch(this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.CullFace,[t]),t){case RC_FRONT:i.cullFace(i.FRONT);break;case RC_BACK:i.cullFace(i.BACK)}},this.disable=function(t){switch(this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.Disable,[t]),t){case eRenderMode.AlphaBlend:i.disable(i.BLEND),p.alphaBlend=!1;break;case eRenderMode.CullBackFace:i.disable(i.CULL_FACE),p.cullBackFace=!1;break;case eRenderMode.DepthBufferWrite:i.depthMask(!1),p.depthBufferWrite=!1;break;case eRenderMode.DepthTest:i.disable(i.DEPTH_TEST),p.depthTest=!1;break;case eRenderMode.Lighting:i.uniform1i(o.lightingEnabled,!1),p.lighting=!1;break;case eRenderMode.StencilTest:i.disable(i.STENCIL_TEST),p.stencilTest=!1}},this.enable=function(t){switch(this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.Enable,[t]),t){case eRenderMode.AlphaBlend:i.enable(i.BLEND),p.alphaBlend=!0;break;case eRenderMode.CullBackFace:i.enable(i.CULL_FACE),p.cullBackFace=!0;break;case eRenderMode.DepthBufferWrite:i.depthMask(!0),p.depthBufferWrite=!0;break;case eRenderMode.DepthTest:i.enable(i.DEPTH_TEST),p.depthTest=!0;break;case eRenderMode.Lighting:i.uniform1i(o.lightingEnabled,!0),p.lighting=!0;break;case eRenderMode.StencilTest:i.enable(i.STENCIL_TEST),p.stencilTest=!0}},this.enableClipPlane=function(t,e){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.EnableClipPlane,[t,e]),i.uniform1i(o.clipPlaneEnabled[t],e),h[t]=e},this.enabled=function(t){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.Enabled,[t]);var e=!1;switch(t){case eRenderMode.AlphaBlend:e=p.alphaBlend;break;case eRenderMode.CullBackFace:e=p.cullBackFace;break;case eRenderMode.DepthBufferWrite:e=p.depthBufferWrite;break;case eRenderMode.DepthTest:e=p.depthTest;break;case eRenderMode.Lighting:e=p.lighting;break;case eRenderMode.StencilTest:e=p.stencilTest}return e},this.enableLight=function(t,e){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.EnableLight,[t,e]),i.uniform1i(o.lightSource[t].enabled,e),s[t]=e},this.enableTextureStage=function(t,e){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.EnableTextureStage,[t,e]),i.uniform1i(o.textureStageEnabled[t],e)},this.finish=function(){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.Finish,null),i.finish()},this.getClearColor=function(){return d},this.getClipPlane=function(t){return this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.GetClipPlane,[t]),{equation:l[t],matrix:c[t]}},this.getEnabledClipPlanes=function(){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.GetEnabledClipPlanes,null);for(var t=[],e=0;e<h.length;e++)h[e]&&t.push(e);return t},this.getEnabledLights=function(){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.GetEnabledLights,null);for(var t=[],e=0;e<s.length;e++)s[e]&&t.push(e);return t},this.getGlobalIllumination=function(){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.GetGlobalIllumination,null);var t=this.globalIllumination.v();return{r:t[0],g:t[1],b:t[2],a:t[3]}},this.getLight=function(t){return this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.GetLight,[t]),{desc:n[t],matrix:a[t]}},this.getMaxLightCount=function(){return this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.GetMaxLightCount,null),gl_MaxLights},this.getMaxTextureStages=function(){return this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.GetMaxTextureStages,null),gl_MaxTextureStages},this.getProgram=function(){return o},this.getViewport=function(){return u},this.perspectiveMatrixLH=function(t,e,i,r,o,n){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.PerspectiveMatrixLH,[t,e,i,r,o,n]);var a=new Matrix4x4,s=(e+t)/(e-t),l=(i+r)/(i-r),c=(n+o)/(n-o),h=2*n*o/(n-o);return a._11=2*o/(e-t),a._13=s,a._22=2*o/(i-r),a._23=l,a._33=c,a._34=1,a._43=-h,a._44=0,a},this.orthographicMatrixLH=function(t,e,i,r,o,n){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.OrthographicMatrixLH,[t,e,i,r,o,n]);var a=new Matrix4x4;return a._11=2/(e-t),a._22=2/(i-r),a._33=-2/(n-o),a._41=-((e+t)/(e-t)),a._42=-((i+r)/(i-r)),a._43=-((n+o)/(n-o))/2,a},this.readFrameBuffer=function(t,e,r,o){var n=new Uint8Array(r*o*4);return i.readPixels(t,e,r,o,i.RGBA,i.UNSIGNED_BYTE,n),n},this.setBlendColor=function(t,e,r,o){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.SetBlendColor,[t,e,r,o]),i.blendColor(t,e,r,o)},this.setBlendFactor=function(t,e){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.SetBlendFactor,[t,e]);var r;switch(t){case RC_ZERO:r=i.ZERO;break;case RC_ONE:r=i.ONE;break;case RC_SRC_COLOR:r=i.SRC_COLOR;break;case RC_SRC_ALPHA:r=i.SRC_ALPHA;break;case RC_ONE_MINUS_SRC_COLOR:r=i.ONE_MINUS_SRC_COLOR;break;case RC_ONE_MINUS_SRC_ALPHA:r=i.ONE_MINUS_SRC_ALPHA;break;case RC_DEST_COLOR:r=i.DEST_COLOR;break;case RC_DEST_ALPHA:r=i.DEST_ALPHA;break;case RC_ONE_MINUS_DEST_COLOR:r=i.ONE_MINUS_DEST_COLOR;break;case RC_ONE_MINUS_DEST_ALPHA:r=i.ONE_MINUS_DEST_ALPHA}var o;switch(e){case RC_ZERO:o=i.ZERO;break;case RC_ONE:o=i.ONE;break;case RC_SRC_COLOR:o=i.SRC_COLOR;break;case RC_SRC_ALPHA:o=i.SRC_ALPHA;break;case RC_ONE_MINUS_SRC_COLOR:o=i.ONE_MINUS_SRC_COLOR;break;case RC_ONE_MINUS_SRC_ALPHA:o=i.ONE_MINUS_SRC_ALPHA;break;case RC_DEST_COLOR:o=i.DEST_COLOR;break;case RC_DEST_ALPHA:o=i.DEST_ALPHA;break;case RC_ONE_MINUS_DEST_COLOR:o=i.ONE_MINUS_DEST_COLOR;break;case RC_ONE_MINUS_DEST_ALPHA:o=i.ONE_MINUS_DEST_ALPHA}i.blendFunc(r,o)},this.setClipPlane=function(t,e){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.SetClipPlane,[t,e]);var r=this.worldMatrixStack.top(),n=[e[0],e[1],e[2],e[3]];i.uniform4fv(o.textureColorMask,new Float32Array(n)),l[t]=e,c[t]=r},this.setDepthFunc=function(t){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.SetDepthFunc,[t]);var e;switch(t){case eDepthFunc.Never:e=i.NEVER;break;case eDepthFunc.Less:e=i.LESS;break;case eDepthFunc.LessEqual:e=i.LEQUAL;break;case eDepthFunc.Equal:e=i.EQUAL;break;case eDepthFunc.NotEqual:e=i.NOTEQUAL;break;case eDepthFunc.GreaterEqual:e=i.GEQUAL;break;case eDepthFunc.Greater:e=i.GREATER;break;case eDepthFunc.Always:e=i.ALWAYS}i.depthFunc(e)},this.setEnabledClipPlanes=function(t){this.displayListObj&&this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.SetEnabledClipPlanes,[t]);for(var e=0;e<h.length;e++)h[e]&&this.enableClipPlane(e,!1);for(var e=0;e<t.length;e++)this.enableClipPlane(t[e],!0)},this.setEnabledLights=function(t){this.displayListObj&&this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.SetEnabledLights,[t]);for(var e=0;e<s.length;e++)s[e]&&this.enableLight(e,!1);for(var e=0;e<t.length;e++)this.enableLight(t[e],!0)},this.setFrontMaterial=function(t){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.SetFrontMaterial,[t]),t.validMembersMask&MATERIALDESC_AMBIENT_BIT&&(i.uniform4fv(o.frontMaterial.ambient,new Float32Array(t.ambient.v())),this.frontMaterial.ambient=t.ambient),t.validMembersMask&MATERIALDESC_DIFFUSE_BIT&&(i.uniform4fv(o.frontMaterial.diffuse,new Float32Array(t.diffuse.v())),this.frontMaterial.diffuse=t.diffuse),t.validMembersMask&MATERIALDESC_SPECULAR_BIT&&(i.uniform4fv(o.frontMaterial.specular,new Float32Array(t.specular.v())),this.frontMaterial.specular=t.specular),t.validMembersMask&MATERIALDESC_EMISSIVE_BIT&&(i.uniform4fv(o.frontMaterial.emissive,new Float32Array(t.emissive.v())),this.frontMaterial.emissive=t.emissive),t.validMembersMask&MATERIALDESC_GLOSSINESS_BIT&&(i.uniform1f(o.frontMaterial.shininess,clamp(128*t.glossiness,5,128)),this.frontMaterial.glossiness=t.glossiness),this.frontMaterial.validMembersMask|=t.validMembersMask},this.setGlobalIllumination=function(t){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.SetGlobalIllumination,[t]);var e=[t.r,t.g,t.b,t.a];i.uniform4fv(o.globalAmbientLight,new Float32Array(e)),this.globalIllumination.load(t.r,t.g,t.b,t.a)},this.setLight=function(t,e){if(this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.SetLight,[t,e]),e.validMembersMask&LIGHTDESC_POSITION_BIT){var r=[e.position.x,e.position.y,e.position.z,1];i.uniform4fv(o.lightSource[t].position,new Float32Array(r))}if(e.validMembersMask&LIGHTDESC_DIRECTION_BIT){var r=[e.direction.x,e.direction.y,e.direction.z,0];switch(e.type){case"directional":r[0]*=-1,r[1]*=-1,r[2]*=-1,i.uniform4fv(o.lightSource[t].position,new Float32Array(r));break;case"spot":i.uniform4fv(o.lightSource[t].spotDirection,new Float32Array(r))}}if(e.validMembersMask&LIGHTDESC_AMBIENT_BIT&&i.uniform4fv(o.lightSource[t].ambient,new Float32Array(e.ambient.v())),e.validMembersMask&LIGHTDESC_DIFFUSE_BIT&&i.uniform4fv(o.lightSource[t].diffuse,new Float32Array(e.diffuse.v())),e.validMembersMask&LIGHTDESC_SPECULAR_BIT&&i.uniform4fv(o.lightSource[t].specular,new Float32Array(e.specular.v())),e.validMembersMask&LIGHTDESC_CONSTANT_ATT_BIT&&i.uniform1f(o.lightSource[t].constantAttenuation,e.constantAttenuation),e.validMembersMask&LIGHTDESC_LINEAR_ATT_BIT&&i.uniform1f(o.lightSource[t].linearAttenuation,e.linearAttenuation),e.validMembersMask&LIGHTDESC_QUADRATIC_ATT_BIT&&i.uniform1f(o.lightSource[t].quadraticAttenuation,e.quadraticAttenuation),e.validMembersMask&LIGHTDESC_RANGE_BIT&&i.uniform1f(o.lightSource[t].range,e.range),e.validMembersMask&LIGHTDESC_OUTER_CONE_DEG_BIT){var s=e.outerConeDegrees;s>90&&(s=180),i.uniform1f(o.lightSource[t].spotCutoff,s),i.uniform1f(o.lightSource[t].spotExponent,0)}e.validMembersMask&LIGHTDESC_INNER_CONE_DEG_BIT,e.validMembersMask&LIGHTDESC_CONE_FALLOFF_BIT,n[t]=e,a[t]=worldMatrix},this.setModelID=function(t){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.SetModelID,[t]),i.uniform1i(o.modelID,t)},this.setShadeModel=function(t){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.SetShadeModel,[t])},this.setShadowCasterWorldPosition=function(t,e,r){i.uniform3fv(o.shadowCasterWorldPosition,new Float32Array([t,e,r]))},this.setStencilFunc=function(t,e,r){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.SetStencilFunc,[t,e,r]);var o;switch(t){case eDepthFunc.Never:o=i.NEVER;break;case eDepthFunc.Less:o=i.LESS;break;case eDepthFunc.LessEqual:o=i.LEQUAL;break;case eDepthFunc.Equal:o=i.EQUAL;break;case eDepthFunc.NotEqual:o=i.NOTEQUAL;break;case eDepthFunc.GreaterEqual:o=i.GEQUAL;break;case eDepthFunc.Greater:o=i.GREATER;break;case eDepthFunc.Always:o=i.ALWAYS}i.stencilFunc(o,e,r)},this.setStencilMask=function(t){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.SetStencilMask,[t]),i.stencilMask(t)},this.setStencilOp=function(t,e,r){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.SetStencilOp,[t,e,r]);var o;switch(t){case eStencilOp.Keep:o=i.KEEP;break;case eStencilOp.Replace:o=i.REPLACE;break;case eStencilOp.Increment:o=i.INCR;break;case eStencilOp.Decrement:o=i.DECR;break;case eStencilOp.Invert:o=i.INVERT;break;case eStencilOp.Zero:o=i.ZERO}switch(e){case eStencilOp.Keep:gl_ZFail=i.KEEP;break;case eStencilOp.Replace:gl_ZFail=i.REPLACE;break;case eStencilOp.Increment:gl_ZFail=i.INCR;break;case eStencilOp.Decrement:gl_ZFail=i.DECR;break;case eStencilOp.Invert:gl_ZFail=i.INVERT;break;case eStencilOp.Zero:gl_ZFail=i.ZERO}switch(r){case eStencilOp.Keep:gl_ZPass=i.KEEP;break;case eStencilOp.Replace:gl_ZPass=i.REPLACE;break;case eStencilOp.Increment:gl_ZPass=i.INCR;break;case eStencilOp.Decrement:gl_ZPass=i.DECR;break;case eStencilOp.Invert:gl_ZPass=i.INVERT;break;case eStencilOp.Zero:gl_ZPass=i.ZERO}i.stencilOp(o,gl_ZFail,gl_ZPass)},this.setTextureBlendFactor=function(t){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.SetTextureBlendFactor,[t]);var e=[this.frontMaterial.diffuse.r,this.frontMaterial.diffuse.g,this.frontMaterial.diffuse.b,t];i.uniform4fv(o.frontMaterial.diffuse,new Float32Array(e))},this.setTextureBlendOp=function(t){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.SetTextureBlendOp,[t]),i.uniform1i(o.textureBlendOp,t)},this.setTextureColorMask=function(t,e,r,n){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.SetTextureColorMask,[t,e,r,n]);var a=[t,e,r,n];i.uniform4fv(o.textureColorMask,new Float32Array(a))},this.setViewport=function(t,e,r,o){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.SetViewport,[t,e,r,o]),i.viewport(t,e,r,o),u.load(t,e,r,o)},this.useProgram=function(t){o!=t&&(o&&o.disableVertexAttribArrays(),i.useProgram(t.getGLProgram()),o=t,o&&(o.enableVertexAttribArrays(),this.setGlobalIllumination(this.globalIllumination),p.alphaBlend=i.getParameter(i.BLEND),p.cullBackFace=i.getParameter(i.CULL_FACE),p.depthTest=i.getParameter(i.DEPTH_TEST),p.depthBufferWrite=i.getParameter(i.DEPTH_WRITEMASK),p.lighting=i.getUniform(o.getGLProgram(),o.lightingEnabled),p.stencilTest=i.getParameter(i.STENCIL_TEST)))}}}function getWebGLContext(t,e){var i=null;try{i=e?WebGLDebugUtils.makeDebugContext(t.getContext("experimental-webgl",{stencil:!0,antialias:!1,preserveDrawingBuffer:!0})):t.getContext("webgl",{stencil:!0,antialias:!0,preserveDrawingBuffer:!0})||t.getContext("experimental-webgl",{stencil:!0,antialias:!0,preserveDrawingBuffer:!0})}catch(r){}if(!i){var o=document.createElement("div");o.innerHTML="This demo requires a WebGL-enabled browser.";var n=t.parentNode;n.replaceChild(o,t)}i.getParameter(i.STENCIL_BITS);return i}function webglVB_uvb(t,e){this.buffer=t,this.coords=e}function webglVB(t,e,i){VertexBuffer.call(this),this.numVerticesPerPrimitive=i;var t=t,e=e,r=e.createBuffer(),o=null,n=null,a=e.createBuffer(),s=new Array(gl_MaxTextureStages),l=e.createBuffer(),c=[],h=0;this.setPrimitiveType=function(i){switch(t.displayListObj&&DL_ADD_METHOD_DESC(t.displayListObj,eRenderContextMethod.VB_SetPrimitiveType,[this,i]),i){case RC_POINTS:h=e.POINTS;break;case RC_LINES:h=e.LINES;break;case RC_LINE_LOOP:h=e.LINE_LOOP;break;case RC_LINE_STRIP:h=e.LINE_STRIP;break;case RC_TRIANGLES:h=e.TRIANGLES;break;case RC_TRIANGLE_STRIP:h=e.TRIANGLE_STRIP;break;case RC_TRIANGLE_FAN:h=e.TRIANGLE_FAN}},this.setVertices=function(i){t.displayListObj&&DL_ADD_METHOD_DESC(t.displayListObj,eRenderContextMethod.VB_SetVertices,[this,i]),i.length&&(e.bindBuffer(e.ARRAY_BUFFER,r),e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.STATIC_DRAW),this.vertexCount=i.length/this.numVerticesPerPrimitive,e.bindBuffer(e.ARRAY_BUFFER,a),e.bufferData(e.ARRAY_BUFFER,new Float32Array(4*this.vertexCount),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,l),e.bufferData(e.ARRAY_BUFFER,new Float32Array(new Array(2*this.vertexCount)),e.STATIC_DRAW)),this.vertices=i},this.setNormals=function(i){t.displayListObj&&DL_ADD_METHOD_DESC(t.displayListObj,eRenderContextMethod.VB_SetNormals,[this,i]),i.length&&(null==o&&(o=e.createBuffer()),e.bindBuffer(e.ARRAY_BUFFER,o),e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.STATIC_DRAW)),this.normals=i},this.setColors=function(i){t.displayListObj&&DL_ADD_METHOD_DESC(t.displayListObj,eRenderContextMethod.VB_SetColors,[this,i]),i.length&&(null==n&&(n=e.createBuffer()),e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.STATIC_DRAW)),this.colors=i},this.setUVCoords=function(i,r){t.displayListObj&&DL_ADD_METHOD_DESC(t.displayListObj,eRenderContextMethod.VB_SetUVCoords,[this,i,r]),c[i]=new webglVB_uvb(e.createBuffer(),r.slice());for(var o=1;o<c[i].coords.length;o+=2)c[i].coords[o]=1-c[i].coords[o]
},this.setTextureStage=function(i,r,o,n,a,l){switch(t.displayListObj&&DL_ADD_METHOD_DESC(t.displayListObj,eRenderContextMethod.VB_SetTextureStage,[this,i,r,o,n,a,l]),i){case 0:e.activeTexture(e.TEXTURE0+eTextureUnit.Color0),e.uniform1i(t.getProgram().textureSamplerColor[i],eTextureUnit.Color0);break;case 1:e.activeTexture(e.TEXTURE0+eTextureUnit.Color1),e.uniform1i(t.getProgram().textureSamplerColor[i],eTextureUnit.Color1)}e.bindTexture(e.TEXTURE_2D,r.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,o),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,n),c[r]&&(e.bindBuffer(e.ARRAY_BUFFER,c[r].buffer),e.bufferData(e.ARRAY_BUFFER,new Float32Array(c[r].coords),e.STATIC_DRAW),s[i]=c[r].buffer)},this.draw=function(){t.displayListObj&&DL_ADD_METHOD_DESC(t.displayListObj,eRenderContextMethod.VB_Draw,[this]);var i=t.getProgram();if(this.vertices.length){e.bindBuffer(e.ARRAY_BUFFER,r),i.vertexAttribPointer(i.vertexPositionAttribute,this.numVerticesPerPrimitive,e.FLOAT,!1,0,0),o&&(e.bindBuffer(e.ARRAY_BUFFER,o),i.vertexAttribPointer(i.vertexNormalAttribute,3,e.FLOAT,!1,0,0)),i.vertexColorAttribute>=0&&(n?e.bindBuffer(e.ARRAY_BUFFER,n):e.bindBuffer(e.ARRAY_BUFFER,a),i.vertexAttribPointer(i.vertexColorAttribute,4,e.FLOAT,!1,0,0));for(var c=0;gl_MaxTextureStages>c;c++)i.textureCoordAttribute[c]>=0&&(s[c]?e.bindBuffer(e.ARRAY_BUFFER,s[c]):e.bindBuffer(e.ARRAY_BUFFER,l),i.vertexAttribPointer(i.textureCoordAttribute[c],2,e.FLOAT,!1,0,0));e.drawArrays(h,0,this.vertexCount)}}}function webglTO(t,e){TextureObject.call(this);var t=t,e=e;this.texture=e.createTexture(),this.setImage=function(i,r,o){t.displayListObj&&DL_ADD_METHOD_DESC(t.displayListObj,eRenderContextMethod.TO_SetImage,[this,i,r,o]);var n;switch(r){case ePixelFormat.R8G8B8:case ePixelFormat.B8G8R8:case ePixelFormat.X8G8R8:n=e.RGB;break;case ePixelFormat.R8G8B8A8:case ePixelFormat.B8G8R8A8:case ePixelFormat.A8R8G8B8:case ePixelFormat.A8B8G8R8:case ePixelFormat.X8X8X8X8:n=e.RGBA;break;case ePixelFormat.A8:n=e.ALPHA;break;default:return}var a;switch(o){case eImageFormat.RGB:a=e.RGB;break;case eImageFormat.RGBA:a=e.RGBA;break;case eImageFormat.Alpha:a=e.ALPHA;break;case eImageFormat.Luminance:a=e.LUMINANCE;break;case eImageFormat.Luminance_Alpha:a=e.LUMINANCE_ALPHA;break;default:return}if(!isPowerOfTwo(i.width)||!isPowerOfTwo(i.height)){var s=document.createElement("canvas");s.width=nextHighestPowerOfTwo(i.width),s.height=nextHighestPowerOfTwo(i.height);var l=s.getContext("2d");l.drawImage(i,0,0,i.width,i.height,0,0,s.width,s.height),i=s}e.bindTexture(e.TEXTURE_2D,this.texture),e.texImage2D(e.TEXTURE_2D,0,n,a,e.UNSIGNED_BYTE,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.generateMipmap(e.TEXTURE_2D),e.bindTexture(e.TEXTURE_2D,null)},this.setImageData=function(i,r,o,n,a){t.displayListObj&&DL_ADD_METHOD_DESC(t.displayListObj,eRenderContextMethod.TO_SetImageData,[this,i,r,o,n,a]);var s;switch(o){case ePixelFormat.R8G8B8:case ePixelFormat.B8G8R8:case ePixelFormat.X8G8R8:s=e.RGB;break;case ePixelFormat.R8G8B8A8:case ePixelFormat.B8G8R8A8:case ePixelFormat.A8R8G8B8:case ePixelFormat.A8B8G8R8:case ePixelFormat.X8X8X8X8:s=e.RGBA;break;case ePixelFormat.A8:s=e.ALPHA;break;default:return}var l;switch(n){case eImageFormat.RGB:l=e.RGB;break;case eImageFormat.RGBA:l=e.RGBA;break;case eImageFormat.Alpha:l=e.ALPHA;break;case eImageFormat.Luminance:l=e.LUMINANCE;break;case eImageFormat.Luminance_Alpha:l=e.LUMINANCE_ALPHA;break;default:return}e.bindTexture(e.TEXTURE_2D,this.texture),e.texImage2D(e.TEXTURE_2D,0,s,i,r,0,l,e.UNSIGNED_BYTE,new Uint8Array(a)),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.generateMipmap(e.TEXTURE_2D),e.bindTexture(e.TEXTURE_2D,null)},this.setImageWithCanvas=function(t){var i=t;if(!isPowerOfTwo(t.width)||!isPowerOfTwo(t.height)){i=document.createElement("canvas"),i.width=nextHighestPowerOfTwo(t.width),i.height=nextHighestPowerOfTwo(t.height);var r=i.getContext("2d");r.drawImage(t,0,0,t.width,t.height,0,0,i.width,i.height)}e.bindTexture(e.TEXTURE_2D,this.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.generateMipmap(e.TEXTURE_2D),e.bindTexture(e.TEXTURE_2D,null)},this.setVideo=function(i){switch(t.displayListObj&&DL_ADD_METHOD_DESC(t.displayListObj,eRenderContextMethod.TO_SetVideo,[this,i]),e.bindTexture(e.TEXTURE_2D,this.texture),getBrowserName()){case"Chrome":case"Firefox":e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,i);break;default:e.texImage2D(e.TEXTURE_2D,0,i,!1)}e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.bindTexture(e.TEXTURE_2D,null)}}function isPowerOfTwo(t){return 0==(t&t-1)}function nextHighestPowerOfTwo(t){--t;for(var e=1;32>e;e<<=1)t|=t>>e;return t+1}function webglShadowFBO(t,e){var t=t,e=e,i=1024,r=1024,o=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,o);var n=e.createRenderbuffer();e.bindRenderbuffer(e.RENDERBUFFER,n),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,i,r),e.bindRenderbuffer(e.RENDERBUFFER,null),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,n);var a=e.getFloatExtension({require:["renderable"],prefer:["filterable","half"]}),s=e.createTexture();e.bindTexture(e.TEXTURE_CUBE_MAP,s);for(var l=0;6>l;l++){var c=e.TEXTURE_CUBE_MAP_POSITIVE_X+l;e.texImage2D(c,0,e.RGBA,i,r,0,e.RGBA,a.type,null)}e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR),e.bindTexture(e.TEXTURE_CUBE_MAP,null),e.bindFramebuffer(e.FRAMEBUFFER,null),this.bindForWriting=function(t){var n=0;switch(t){case eCubeMapFace.Positive_X:n=e.TEXTURE_CUBE_MAP_POSITIVE_X;break;case eCubeMapFace.Negative_X:n=e.TEXTURE_CUBE_MAP_NEGATIVE_X;break;case eCubeMapFace.Positive_Y:n=e.TEXTURE_CUBE_MAP_POSITIVE_Y;break;case eCubeMapFace.Negative_Y:n=e.TEXTURE_CUBE_MAP_NEGATIVE_Y;break;case eCubeMapFace.Positive_Z:n=e.TEXTURE_CUBE_MAP_POSITIVE_Z;break;case eCubeMapFace.Negative_Z:n=e.TEXTURE_CUBE_MAP_NEGATIVE_Z;break;default:return!1}return e.bindFramebuffer(e.FRAMEBUFFER,o),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,n,s,0),e.viewport(0,0,i,r),e.clearColor(FLT_MAX,0,0,0),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),!0},this.bindForReading=function(){e.bindFramebuffer(e.FRAMEBUFFER,null),e.activeTexture(e.TEXTURE0+eTextureUnit.ShadowMap),e.uniform1i(t.getProgram().textureSamplerShadowMap,eTextureUnit.ShadowMap),e.bindTexture(e.TEXTURE_CUBE_MAP,s)}}function ContentHandler(){AttributeContainer.call(this),this.className="ContentHandler",this.contentDirectory=new StringAttr(""),this.url=new StringAttr(""),this.registerAttribute(this.contentDirectory,"contentDirectory"),this.registerAttribute(this.url,"url")}function ContentBuilder(){AttributeContainer.call(this),this.className="ContentBuilder",this.factory=null,this.cameras=[],this.lights=[],this.models=[],this.evaluators=[],this.layer=0,this.invertAlpha=new BooleanAttr(!1),this.registerAttribute(this.invertAlpha,"invertAlpha")}function BinaryParser(t,e){this.stream=t,this.bigEndian=e,this.readUInt8=function(){return this.decodeInt(8,!1)},this.readUInt16=function(){return this.decodeInt(16,!1)},this.readUInt32=function(){return this.decodeInt(32,!1)},this.readInt8=function(){return this.decodeInt(8,!0)},this.readInt16=function(){return this.decodeInt(16,!0)},this.readInt32=function(){return this.decodeInt(32,!0)},this.readFloat32=function(){return this.decodeFloat32()};var i=0;this.decodeInt=function(t,e){for(var r=0,o=t/8,n=0,a=0;o>a;a++){n=this.stream.charCodeAt(this.bigEndian?i+a:i+(o-a-1));for(var s=7;s>=0;s--)r=2*r+(1<<s&n?1:0)}return e&&(max=Math.pow(2,t),r=r>=max/2?r-max:r),i+=o,r},this.decodeFloat32=function(){for(var t=0,e=4,r=new Array(e),o=0;e>o;o++)r[o]=this.stream.charCodeAt(this.bigEndian?i+o:i+(e-o-1));for(var n=128&r[0],a=0,s=6;s>=0;s--)a=2*a+(1<<s&r[0]?1:0);a=2*a+(128&r[1]?1:0);for(var l=0,c=6;c>=0;c--)l=2*l+(1<<c&r[1]?1:0);for(var o=2;3>=o;o++)for(var c=7;c>=0;c--)l=2*l+(1<<c&r[o]?1:0);for(var h=a-127,u=1,d=1,c=23;c>=0;c--)u+=1<<c&l?d:0,d/=2;return t=u*Math.pow(2,h)*(n?-1:1),i+=e,t}}function TextParser(t){this.stream=t;var e=0;this.readCharacter=function(){return e>=this.stream.length?null:this.stream[e++]},this.readToken=function(){var t,i="";if(e>=this.stream.length)return null;do t=this.stream[e++];while(e<=this.stream.length&&isSpace(t));do i+=t,t=this.stream[e++];while(e<=this.stream.length&&!isSpace(t));return i.length>0?i:null},this.readLine=function(){var t="";if(e>=this.stream.length)return null;for(;e<this.stream.length&&"\n"!=this.stream[e];)t+=this.stream[e++];return e++,t},this.readLineTokens=function(){var t,e=0,i="",r=[],o=this.readLine();if(null==o)return null;for(;e<o.length;){do t=o[e++];while(e<=o.length&&isSpace(t));do i+=t,t=o[e++];while(e<=o.length&&!isSpace(t));r.push(i),i=""}return r}}function XMLParser(t,e,i){this.factory=t,this.registry=e,this.contentDir=i,this.attributeStack=new Stack,this.collectionCountStack=new Stack}function Serializer(){AttributeContainer.call(this),this.className="Serializer",this.pbMixed=null,this.bMixed=!1,this.DOM=null,this.RootElement=null,this.elementStack=new Stack,this.format=new StringAttr("xml"),this.serializeMinimum=new BooleanAttr(!1),this.serializeChildren=new BooleanAttr(!1),this.registerAttribute(this.format,"format"),this.registerAttribute(this.serializeMinimum,"serializeMinimum"),this.registerAttribute(this.serializeChildren,"serializeChildren")}function BytesPerPixel(t){switch(t){case ePixelFormat.R8G8B8:case ePixelFormat.B8G8R8:case ePixelFormat.X8X8X8:return 3;case ePixelFormat.R8G8B8A8:case ePixelFormat.B8G8R8A8:case ePixelFormat.A8R8G8B8:case ePixelFormat.A8B8G8R8:case ePixelFormat.X8X8X8X8:return 4;case ePixelFormat.A8:return 1;default:return 0}}function TPixel(t,e,i,r){}function ScaleImage(t,e,i,r,o,n,a,s,l){if(t!=ePixelFormat.R8G8B8A8)return!1;var c=document.createElement("canvas");c.width=e,c.height=i;for(var h=c.getContext("2d"),u=h.createImageData(e,i),d=0,p=0;i>p;p++)for(var f=0;e>f;f++)for(var _=0;4>_;_++,d++)u.data[d]=o[d];h.putImageData(u,0,0);var m=document.createElement("canvas");m.width=n,m.height=a;var g=m.getContext("2d");g.drawImage(c,0,0,c.width,c.height,0,0,m.width,m.height);var y=g.getImageData(0,0,n,a);d=0;for(var p=0;a>p;p++)for(var f=0;n>f;f++)for(var _=0;4>_;_++,d++)l[d]=y.data[d];return!0}function MediaPlayback(t,e){this.container=t,this.onload=e,this.url=null,this.video=!1,this.ready=!1,this.alphaPlayback=null,this.frameRetrieved=!1,this.htmlImageElement=null,this.imageWidth=0,this.imageHeight=0,this.imagePitch=0,this.imagePixels=null}function MediaPlayback_OnImageLoad(){this.container.onImageLoad()}function TextureArray(t){this.textures=new Array(eTextureType.EnumCount);for(var e=0;e<this.textures.length;e++)this.textures[e]=t?t.textures[e].slice():[]}function StyleMgr(){AttributeContainer.call(this),this.className="StyleMgr"}function GraphMgr(){AttributeContainer.call(this),this.className="GraphMgr",this.renderContext=null,this.renderState=null,this.lightIndex=0,this.material=null,this.dissolve=null,this.balloonTipLabel=null,this.drawTextures=!0,this.textureArrayStack=new Stack(new TextureArray),this.projectionTextureArrayStack=new Stack(new TextureArray),this.labelIndex=1,this.balloonTipLabelIndex=1,this.styleMgr=new StyleMgr,this.updateRegistry=new NodeRegistry,this.name=new StringAttr("GraphMgr"),this.registerAttribute(this.name,"name")}function NodeRegistry(){AttributeContainer.call(this),this.className="NodeRegistry",this.nodes=[]}function Node(){AttributeContainer.call(this),this.className="Node",this.attrType=eAttrType.Node,this.__nodeId__=g__nodeId__++,this.enabled_=!0,this.children=[],this.parents=[],this.name=new StringAttr(""),this.enabled=new BooleanAttr(!0),this.orphan=new BooleanAttr(!1),this.modified=new PulseAttr,this.enabled.addModifiedCB(Node_EnabledModifiedCB,this),this.registerAttribute(this.name,"name"),this.registerAttribute(this.enabled,"enabled"),this.registerAttribute(this.orphan,"orphan"),this.registerAttribute(this.modified,"modified")}function Node_EnabledModifiedCB(t,e){e.enabled_=t.getValueDirect()}function SGNode(){Node.call(this),this.className="SGNode",this.graphMgr=null,this.recordDisplayList=!1,this.disableDisplayLists=!1,this.displayListObj=null,this.enableDisplayList=new BooleanAttr(!1),this.autoDisplayList=new BooleanAttr(!1),this.updateDisplayList=new PulseAttr,this.modified.addModifiedCB(SGNode_ModifiedModifiedCB,this),this.registerAttribute(this.enableDisplayList,"enableDisplayList"),this.registerAttribute(this.autoDisplayList,"autoDisplayList"),this.registerAttribute(this.updateDisplayList,"updateDisplayList")}function SGNode_ModifiedModifiedCB(t,e){e.recordDisplayList=!0}function RenderableElement(){SGNode.call(this),this.className="RenderableElement",this.attrType=eAttrType.RenderableElement,this.bbox=new BBoxAttr,this.renderSequenceSlot=new NumberAttr(0),this.hasFocus=new TernaryAttr(0),this.selected=new TernaryAttr(0),this.styles=new StylesAttr,this.stylesMap=new StylesMapAttr,this.renderableElementStyle=new RenderableElementStyleAttr,this.renderedSlot=new NumberAttr(0),this.registerAttribute(this.bbox,"bbox"),this.registerAttribute(this.renderSequenceSlot,"renderSequenceSlot"),this.registerAttribute(this.hasFocus,"hasFocus"),this.registerAttribute(this.selected,"selected"),this.registerAttribute(this.styles,"styles"),this.registerAttribute(this.stylesMap,"stylesMap"),this.registerAttribute(this.renderableElementStyle,"renderableElementStyle"),this.registerAttribute(this.renderedSlot,"renderedSlot")}function ParentableMotionElement(){RenderableElement.call(this),this.className="ParentableMotionElement",this.attrType=eAttrType.ParentableMotionElement,this.translationMatrix=new Matrix4x4,this.rotationMatrix=new Matrix4x4,this.scaleMatrix=new Matrix4x4,this.pivotMatrix=new Matrix4x4,this.sectorTranslationMatrix=new Matrix4x4,this.stackMatrix=new Matrix4x4,this.transformSimple=new Matrix4x4,this.transformCompound=new Matrix4x4,this.sectorTransformSimple=new Matrix4x4,this.sectorTransformCompound=new Matrix4x4,this.updatePosition=!1,this.updateRotation=!1,this.updateQuaternion=!1,this.updateScale=!1,this.updatePivot=!1,this.updateSectorPosition=!1,this.updateInheritance=!1,this.inheritsPosition=!0,this.inheritsRotation=!0,this.inheritsScale=!0,this.inheritsPivot=!0,this.nonZeroVelocity=!1,this.motionParent=null,this.motionChildren=[],this.position=new Vector3DAttr(0,0,0),this.rotation=new Vector3DAttr(0,0,0),this.quaternion=new QuaternionAttr(1,0,0,0),this.scale=new Vector3DAttr(1,1,1),this.pivot=new Vector3DAttr(0,0,0),this.center=new Vector3DAttr(0,0,0),this.worldCenter=new Vector3DAttr(0,0,0),this.worldPosition=new Vector3DAttr(0,0,0),this.worldRotation=new Vector3DAttr(0,0,0),this.worldScale=new Vector3DAttr(1,1,1),this.screenPosition=new Vector3DAttr(0,0,0),this.sectorOrigin=new Vector3DAttr(0,0,0),this.sectorPosition=new Vector3DAttr(0,0,0),this.sectorWorldCenter=new Vector3DAttr(0,0,0),this.sectorWorldPosition=new Vector3DAttr(0,0,0),this.panVelocity=new Vector3DAttr(0,0,0),this.linearVelocity=new Vector3DAttr(0,0,0),this.linearVelocity_affectPosition_Y=new BooleanAttr(!0),this.angularVelocity=new Vector3DAttr(0,0,0),this.scalarVelocity=new Vector3DAttr(0,0,0),this.worldTransform=new Matrix4x4Attr(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this.sectorWorldTransform=new Matrix4x4Attr(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this.parent=new StringAttr(""),this.inheritPosition_X=new BooleanAttr(!0),this.inheritPosition_Y=new BooleanAttr(!0),this.inheritPosition_Z=new BooleanAttr(!0),this.inheritRotation_X=new BooleanAttr(!0),this.inheritRotation_Y=new BooleanAttr(!0),this.inheritRotation_Z=new BooleanAttr(!0),this.inheritScale_X=new BooleanAttr(!0),this.inheritScale_Y=new BooleanAttr(!0),this.inheritScale_Z=new BooleanAttr(!0),this.inheritPivot_X=new BooleanAttr(!0),this.inheritPivot_Y=new BooleanAttr(!0),this.inheritPivot_Z=new BooleanAttr(!0),this.transformModified=new PulseAttr,this.position.addModifiedCB(ParentableMotionElement_PositionModifiedCB,this),this.rotation.addModifiedCB(ParentableMotionElement_RotationModifiedCB,this),this.quaternion.addModifiedCB(ParentableMotionElement_QuaternionModifiedCB,this),this.scale.addModifiedCB(ParentableMotionElement_ScaleModifiedCB,this),this.pivot.addModifiedCB(ParentableMotionElement_PivotModifiedCB,this),this.sectorOrigin.addModifiedCB(ParentableMotionElement_SectorOriginModifiedCB,this),this.sectorPosition.addModifiedCB(ParentableMotionElement_SectorPositionModifiedCB,this),this.parent.addModifiedCB(ParentableMotionElement_ParentModifiedCB,this),this.inheritPosition_X.addModifiedCB(ParentableMotionElement_InheritanceModifiedCB,this),this.inheritPosition_Y.addModifiedCB(ParentableMotionElement_InheritanceModifiedCB,this),this.inheritPosition_Z.addModifiedCB(ParentableMotionElement_InheritanceModifiedCB,this),this.inheritRotation_X.addModifiedCB(ParentableMotionElement_InheritanceModifiedCB,this),this.inheritRotation_Y.addModifiedCB(ParentableMotionElement_InheritanceModifiedCB,this),this.inheritRotation_Z.addModifiedCB(ParentableMotionElement_InheritanceModifiedCB,this),this.inheritScale_X.addModifiedCB(ParentableMotionElement_InheritanceModifiedCB,this),this.inheritScale_Y.addModifiedCB(ParentableMotionElement_InheritanceModifiedCB,this),this.inheritScale_Z.addModifiedCB(ParentableMotionElement_InheritanceModifiedCB,this),this.inheritPivot_X.addModifiedCB(ParentableMotionElement_InheritanceModifiedCB,this),this.inheritPivot_Y.addModifiedCB(ParentableMotionElement_InheritanceModifiedCB,this),this.inheritPivot_Z.addModifiedCB(ParentableMotionElement_InheritanceModifiedCB,this),this.panVelocity.addModifiedCB(ParentableMotionElement_VelocityModifiedCB,this),this.linearVelocity.addModifiedCB(ParentableMotionElement_VelocityModifiedCB,this),this.angularVelocity.addModifiedCB(ParentableMotionElement_VelocityModifiedCB,this),this.scalarVelocity.addModifiedCB(ParentableMotionElement_VelocityModifiedCB,this),this.registerAttribute(this.position,"position"),this.registerAttribute(this.rotation,"rotation"),this.registerAttribute(this.quaternion,"quaternion"),this.registerAttribute(this.scale,"scale"),this.registerAttribute(this.pivot,"pivot"),this.registerAttribute(this.center,"center"),this.registerAttribute(this.worldCenter,"worldCenter"),this.registerAttribute(this.worldPosition,"worldPosition"),this.registerAttribute(this.worldRotation,"worldRotation"),this.registerAttribute(this.worldScale,"worldScale"),this.registerAttribute(this.screenPosition,"screenPosition"),this.registerAttribute(this.sectorOrigin,"sectorOrigin"),this.registerAttribute(this.sectorPosition,"sectorPosition"),this.registerAttribute(this.sectorWorldCenter,"sectorWorldCenter"),this.registerAttribute(this.sectorWorldPosition,"sectorWorldPosition"),this.registerAttribute(this.worldTransform,"worldTransform"),this.registerAttribute(this.sectorWorldTransform,"sectorWorldTransform"),this.registerAttribute(this.panVelocity,"panVelocity"),this.registerAttribute(this.linearVelocity,"linearVelocity"),this.registerAttribute(this.linearVelocity_affectPosition_Y,"linearVelocity_affectPosition_Y"),this.registerAttribute(this.angularVelocity,"angularVelocity"),this.registerAttribute(this.scalarVelocity,"scalarVelocity"),this.registerAttribute(this.parent,"parent"),this.registerAttribute(this.inheritPosition_X,"inheritPosition_X"),this.registerAttribute(this.inheritPosition_Y,"inheritPosition_Y"),this.registerAttribute(this.inheritPosition_Z,"inheritPosition_Z"),this.registerAttribute(this.inheritRotation_X,"inheritRotation_X"),this.registerAttribute(this.inheritRotation_Y,"inheritRotation_Y"),this.registerAttribute(this.inheritRotation_Z,"inheritRotation_Z"),this.registerAttribute(this.inheritScale_X,"inheritScale_X"),this.registerAttribute(this.inheritScale_Y,"inheritScale_Y"),this.registerAttribute(this.inheritScale_Z,"inheritScale_Z"),this.registerAttribute(this.inheritPivot_X,"inheritPivot_X"),this.registerAttribute(this.inheritPivot_X,"inheritPivot_Y"),this.registerAttribute(this.inheritPivot_X,"inheritPivot_Z"),this.registerAttribute(this.transformModified,"transformModified")}function ParentableMotionElement_PositionModifiedCB(t,e){e.updatePosition=!0,e.synchronizeSectorPosition(),e.setModified()}function ParentableMotionElement_RotationModifiedCB(t,e){var i=t.getValueDirect(),r=new Quaternion;r.loadXYZAxisRotation(i.x,i.y,i.z),e.quaternion.setValueDirect(r)}function ParentableMotionElement_QuaternionModifiedCB(t,e){e.updateQuaternion=!0,e.setModified()}function ParentableMotionElement_ScaleModifiedCB(t,e){e.updateScale=!0,e.setModified()}function ParentableMotionElement_PivotModifiedCB(t,e){e.updatePivot=!0,e.setModified()}function ParentableMotionElement_SectorOriginModifiedCB(t,e){e.synchronizeSectorPosition(),e.setModified()}function ParentableMotionElement_SectorPositionModifiedCB(t,e){e.updateSectorPosition=!0,e.synchronizePosition(),e.setModified()}function ParentableMotionElement_ParentModifiedCB(t,e){e.setMotionParent(e.registry.find(t.getValueDirect().join("")))}function ParentableMotionElement_VelocityModifiedCB(t,e){e.velocityModified(),e.setModified()}function ParentableMotionElement_InheritanceModifiedCB(t,e){e.updateInheritance=!0,e.setModified()}function DirectiveParams(){this.directive=null,this.path=null,this.pathIndex=0,this.currentNodePath=new Stack,this.userData=null}function Directive(){AttributeContainer.call(this),this.className="Directive",this.attrType=eAttrType.Directive,this.name=new StringAttr(""),this.enabled=new BooleanAttr(!0),this.rootNode=new ReferenceAttr(null),this.registerAttribute(this.name,"name"),this.registerAttribute(this.enabled,"enabled"),this.registerAttribute(this.rootNode,"rootNode")}function SGDirective(){Directive.call(this),this.className="SGDirective",this.graphMgr=null}function UpdateParams(){DirectiveParams.call(this),this.pass=0,this.timeIncrement=0,this.visited=[],this.nextPass=[],this.displayListObj=null,this.disableDisplayLists=!1}function UpdateDirective(){SGDirective.call(this),this.className="UpdateDirective",this.attrType=eAttrType.UpdateDirective,this.name.setValueDirect("UpdateDirective"),this.timeIncrement=new NumberAttr(0),this.registerAttribute(this.timeIncrement,"timeIncrement"),this.collideDirective=new CollideDirective}function Camera(){ParentableMotionElement.call(this),this.className="Camera",this.attrType=eAttrType.Camera,this.projectionMatrix=new Matrix4x4,this.viewport=new Viewport,this.updateNearDistance=!1,this.updateFarDistance=!1,this.updateClipPlanes=!0,this.near=0,this.far=0,this.nearDistance=new NumberAttr(0),this.farDistance=new NumberAttr(0),this.viewVolume=new ViewVolumeAttr,this.sectorOriginUpdatesEnabled=new BooleanAttr(!1),this.nearDistance.addModifiedCB(Camera_NearDistanceModifiedCB,this),this.farDistance.addModifiedCB(Camera_FarDistanceModifiedCB,this),this.registerAttribute(this.nearDistance,"nearDistance"),this.registerAttribute(this.farDistance,"farDistance"),this.registerAttribute(this.viewVolume,"viewVolume")}function Camera_NearDistanceModifiedCB(t,e){e.updateNearDistance=!0,e.setModified()}function Camera_FarDistanceModifiedCB(t,e){e.updateFarDistance=!0,e.setModified()}function OrthographicCamera(){Camera.call(this),this.className="OrthographicCamera",this.attrType=eAttrType.OrthographicCamera,this.updateWidth=!1,this.width=new NumberAttr(2),this.width.addModifiedCB(OrthographicCamera_WidthModifiedCB,this),this.registerAttribute(this.width,"width")}function OrthographicCamera_WidthModifiedCB(t,e){e.updateWidth=!0,e.setModified()}function PerspectiveCamera(){Camera.call(this),this.className="PerspectiveCamera",this.attrType=eAttrType.PerspectiveCamera,this.updateZoom=!1,this.fovyRadians=0,this.left=0,this.right=0,this.top=0,this.bottom=0,this.zoom=new NumberAttr(0),this.zoom.addModifiedCB(PerspectiveCamera_ZoomModifiedCB,this),this.registerAttribute(this.zoom,"zoom")}function PerspectiveCamera_ZoomModifiedCB(t,e){e.updateZoom=!0,e.setModified()}function Light(){ParentableMotionElement.call(this),this.className="Light",this.attrType=eAttrType.Light,this.updateAmbient=!0,this.updateDiffuse=!0,this.updateSpecular=!0,this.updateConstantAttenuation=!0,this.updateLinearAttenuation=!0,this.updateQuadraticAttenuation=!0,this.lightDesc=new LightDesc,this.lightDesc.validMembersMask=0,this.lightIndex=0,this.setLightDesc=!1,this.ambient=new ColorAttr(0,0,0,1),this.diffuse=new ColorAttr(1,1,1,1),this.specular=new ColorAttr(1,1,1,1),this.constantAttenuation=new NumberAttr(1),this.linearAttenuation=new NumberAttr(0),this.quadraticAttenuation=new NumberAttr(0),this.shadowCaster=new BooleanAttr(!1),this.ambient.addModifiedCB(Light_AmbientModifiedCB,this),this.diffuse.addModifiedCB(Light_DiffuseModifiedCB,this),this.specular.addModifiedCB(Light_SpecularModifiedCB,this),this.constantAttenuation.addModifiedCB(Light_ConstantAttenuationModifiedCB,this),this.linearAttenuation.addModifiedCB(Light_LinearAttenuationModifiedCB,this),this.quadraticAttenuation.addModifiedCB(Light_QuadraticAttenuationModifiedCB,this),this.registerAttribute(this.ambient,"ambient"),this.registerAttribute(this.diffuse,"diffuse"),this.registerAttribute(this.specular,"specular"),this.registerAttribute(this.constantAttenuation,"constantAttenuation"),this.registerAttribute(this.linearAttenuation,"linearAttenuation"),this.registerAttribute(this.quadraticAttenuation,"quadraticAttenuation"),this.registerAttribute(this.shadowCaster,"shadowCaster")}function Light_AmbientModifiedCB(t,e){e.updateAmbient=!0,e.setModified()}function Light_DiffuseModifiedCB(t,e){e.updateDiffuse=!0,e.setModified()}function Light_SpecularModifiedCB(t,e){e.updateSpecular=!0,e.setModified()}function Light_ConstantAttenuationModifiedCB(t,e){e.updateConstantAttenuation=!0,e.setModified()}function Light_LinearAttenuationModifiedCB(t,e){e.updateLinearAttenuation=!0,e.setModified()}function Light_QuadraticAttenuationModifiedCB(t,e){e.updateQuadraticAttenuation=!0,e.setModified()}function DirectionalLight(){Light.call(this),this.className="DirectionalLight",this.attrType=eAttrType.DirectionalLight,this.lightDesc.type="directional"}function PointLight(){Light.call(this),this.className="PointLight",this.attrType=eAttrType.PointLight,this.lightDesc.type="point",this.updateRange=!1,this.range=new NumberAttr,this.range.addModifiedCB(PointLight_RangeModifiedCB,this),this.registerAttribute(this.range,"range")}function PointLight_RangeModifiedCB(t,e){e.updateRange=!0,e.setModified()}function GlobalIllumination(){SGNode.call(this),this.className="GlobalIllumination",this.attrType=eAttrType.GlobalIllumination,this.updateAmbient=!0,this.setGlobalIllumination=!1,this.ambient=new ColorAttr(0,0,0,1),this.ambient.addModifiedCB(GlobalIllumination_AmbientModifiedCB,this),this.registerAttribute(this.ambient,"ambient")}function GlobalIllumination_AmbientModifiedCB(t,e){e.updateAmbient=!0,e.setModified()}function Group(){SGNode.call(this),this.className="Group",this.attrType=eAttrType.Group,this.proxyChildAttrs=new BooleanAttr(!1),this.proxyChildAttrs.addModifiedCB(Group_ProxyChildAttrsModifiedCB,this),this.registerAttribute(this.proxyChildAttrs,"proxyChildAttrs")}function Group_ProxyChildAttrsModifiedCB(t,e){e.proxyChildAttrsModified()}function Group_ProxiedAttrModifiedCB(t,e){e.group.proxiedAttrModified(e.proxiedNodeTypeString,t,e.proxiedAttrName)}function Isolator(){Group.call(this),this.className="Isolator",this.attrType=eAttrType.Isolator,this.updateIsolateTransforms=!0,this.updateIsolateLights=!0,this.updateIsolateMaterials=!0,this.updateIsolateTextures=!0,this.updateIsolateFog=!0,this.updateIsolateClipPlanes=!0,this.isolateTransforms=new BooleanAttr(!1),this.isolateLights=new BooleanAttr(!1),this.isolateMaterials=new BooleanAttr(!1),this.isolateTextures=new BooleanAttr(!1),this.isolateDissolves=new BooleanAttr(!1),this.isolateGlobalIlluminations=new BooleanAttr(!1),this.isolateLightModels=new BooleanAttr(!1),this.isolateFog=new BooleanAttr(!1),this.isolateClipPlanes=new BooleanAttr(!1),this.isolateRenderModes=new BooleanAttr(!1),this.isolateTransforms.addModifiedCB(Isolator_IsolateTransformsModifiedCB,this),this.isolateLights.addModifiedCB(Isolator_IsolateLightsModifiedCB,this),this.isolateMaterials.addModifiedCB(Isolator_IsolateMaterialsModifiedCB,this),this.isolateTextures.addModifiedCB(Isolator_IsolateTexturesModifiedCB,this),this.isolateFog.addModifiedCB(Isolator_IsolateFogModifiedCB,this),this.isolateClipPlanes.addModifiedCB(Isolator_IsolateClipPlanesModifiedCB,this),this.registerAttribute(this.isolateTransforms,"isolateTransforms"),this.registerAttribute(this.isolateLights,"isolateLights"),this.registerAttribute(this.isolateMaterials,"isolateMaterials"),this.registerAttribute(this.isolateTextures,"isolateTextures"),this.registerAttribute(this.isolateDissolves,"isolateDissolves"),this.registerAttribute(this.isolateGlobalIlluminations,"isolateGlobalIlluminations"),this.registerAttribute(this.isolateLightModels,"isolateLightModels"),this.registerAttribute(this.isolateFog,"isolateFog"),this.registerAttribute(this.isolateClipPlanes,"isolateClipPlanes"),this.registerAttribute(this.isolateRenderModes,"isolateRenderModes")}function Isolator_IsolateTransformsModifiedCB(t,e){e.updateIsolateTransforms=!0,e.setModified()}function Isolator_IsolateLightsModifiedCB(t,e){e.updateIsolateLights=!0,e.setModified()}function Isolator_IsolateMaterialsModifiedCB(t,e){e.updateIsolateMaterials=!0,e.setModified()}function Isolator_IsolateTexturesModifiedCB(t,e){e.updateIsolateTextures=!0,e.setModified()}function Isolator_IsolateFogModifiedCB(t,e){e.updateIsolateFog=!0,e.setModified()}function Isolator_IsolateClipPlanesModifiedCB(t,e){e.updateIsolateClipPlanes=!0,e.setModified()}function Selector(){Group.call(this),this.className="Selector",this.attrType=eAttrType.Selector,this.selectee=new NumberAttr(0),this.registerAttribute(this.selectee,"selectee")}function Dissolve(){SGNode.call(this),this.className="Dissolve",this.attrType=eAttrType.Dissolve,this.lastDissolve=0,this.dissolve=new NumberAttr(0),this.dissolve.addModifiedCB(Dissolve_DissolveModifiedCB,this),this.registerAttribute(this.dissolve,"dissolve")}function Dissolve_DissolveModifiedCB(t,e){e.setModified()}function RenderParams(){DirectiveParams.call(this),this.viewport=new Viewport,this.projMatrix=new Matrix4x4,this.viewMatrix=new Matrix4x4,this.worldMatrix=new Matrix4x4,this.dissolve=0,this.opacity=1,this.distanceSortAgent=null,this.drawTextures=!0,this.displayListObj=null,this.disableDisplayLists=!1,this.resetDisplayLists=!1,this.lights=[],this.modelID=0}function RenderDirective(){SGDirective.call(this),this.className="RenderDirective",this.attrType=eAttrType.RenderDirective,this.name.setValueDirect("RenderDirective"),this.backgroundImageSet=!1,this.program=null,this.viewport=new ViewportAttr,this.backgroundColor=new ColorAttr(1,1,1,1),this.backgroundImageFilename=new StringAttr(""),this.foregroundImageFilename=new StringAttr(""),this.foregroundAlphaFilename=new StringAttr(""),this.foregroundFadeEnabled=new BooleanAttr(!1),this.texturesEnabled=new BooleanAttr(!0),this.shadowsEnabled=new BooleanAttr(!1),this.timeIncrement=new NumberAttr(0),this.highlightType=new NumberAttr(eHighlightType.None),this.viewport.addModifiedCB(RenderDirective_ViewportModifiedCB,this),this.backgroundColor.addModifiedCB(RenderDirective_BackgroundColorModifiedCB,this),this.backgroundImageFilename.addModifiedCB(RenderDirective_BackgroundImageFilenameModifiedCB,this),this.shadowsEnabled.addModifiedCB(RenderDirective_ShadowsEnabledModifiedCB,this),this.registerAttribute(this.viewport,"viewport"),this.registerAttribute(this.backgroundColor,"backgroundColor"),this.registerAttribute(this.backgroundImageFilename,"backgroundImageFilename"),this.registerAttribute(this.foregroundImageFilename,"foregroundImageFilename"),this.registerAttribute(this.foregroundAlphaFilename,"foregroundAlphaFilename"),this.registerAttribute(this.foregroundFadeEnabled,"foregroundFadeEnabled"),this.registerAttribute(this.texturesEnabled,"texturesEnabled"),this.registerAttribute(this.shadowsEnabled,"shadowsEnabled"),this.registerAttribute(this.timeIncrement,"timeIncrement"),this.registerAttribute(this.highlightType,"highlightType"),this.updateDirective=new UpdateDirective,this.timeIncrement.addTarget(this.updateDirective.getAttribute("timeIncrement")),this.resetDisplayLists=!1,this.distanceSortAgent=new DistanceSortAgent,this.highlightDirective=new HighlightDirective,this.highlightType.addTarget(this.highlightDirective.getAttribute("highlightType")),this.shadowDirective=new ShadowDirective,this.backgroundScreen=new Isolator,this.backgroundScreen.isolateTextures.setValueDirect(!0),this.backgroundTexture=new MediaTexture,this.backgroundScreen.addChild(this.backgroundTexture),this.backgroundScreenRect=new ScreenRect,this.backgroundScreenRect.setTexture(this.backgroundTexture),this.backgroundScreen.addChild(this.backgroundScreenRect)
}function RenderDirective_ViewportModifiedCB(t,e){var i=e.viewport.getValueDirect(),r=e.backgroundImageFilename.getValueDirect().join("");e.graphMgr.renderContext.setBackgroundImage(r,i.width,i.height)}function RenderDirective_BackgroundColorModifiedCB(t,e){e.backgroundColorModified()}function RenderDirective_BackgroundImageFilenameModifiedCB(t,e){var i=(e.viewport.getValueDirect(),formatPath(e.backgroundImageFilename.getValueDirect().join("")));e.backgroundImageFilename.removeModifiedCB(RenderDirective_BackgroundImageFilenameModifiedCB,e),e.backgroundImageFilename.setValueDirect(i[0]),e.backgroundImageFilename.addModifiedCB(RenderDirective_BackgroundImageFilenameModifiedCB,e),e.backgroundTexture.imageFilename.setValueDirect(i[0]),e.backgroundImageSet=!0}function RenderDirective_ShadowsEnabledModifiedCB(t,e){var i=t.getValueDirect();e.program=i?e.graphMgr.renderContext.createProgram(pcf_shadow_mapping_render_pass_vs,pcf_shadow_mapping_render_pass_fs):e.graphMgr.renderContext.createProgram(default_vertex_lighting_vs,default_vertex_lighting_fs)}function RayPickParams(){DirectiveParams.call(this),this.camera=null,this.currentCamera=null,this.viewport=new Viewport,this.clickPoint=new Vector2D,this.rayOrigin=new Vector3D,this.rayDir=new Vector3D,this.nearDistance=0,this.farDistance=0,this.viewMatrix=new Matrix4x4,this.worldMatrix=new Matrix4x4,this.sectorOrigin=new Vector3D,this.doubleSided=!1,this.opacity=0,this.dissolve=0,this.clipPlanes=[]}function RayPickRecord(t,e,i){this.path=t.copy(),this.intersectRecord=e,this.camera=i}function RayPickDirective(){SGDirective.call(this),this.className="RayPickDirective",this.attrType=eAttrType.RayPickDirective,this.name.setValueDirect("RayPickDirective"),this.picked=[],this.viewport=new ViewportAttr,this.camera=new ReferenceAttr(null),this.clickPoint=new Vector2DAttr,this.registerAttribute(this.viewport,"viewport"),this.registerAttribute(this.camera,"camera"),this.registerAttribute(this.clickPoint,"clickPoint")}function BBoxParams(){DirectiveParams.call(this),this.viewSpace=!1,this.viewMatrix=new Matrix4x4,this.worldMatrix=new Matrix4x4,this.minPoint=new Vector3D,this.maxPoint=new Vector3D,this.minMaxSet=!1}function BBoxDirective(){SGDirective.call(this),this.className="BBoxDirective",this.attrType=eAttrType.BBoxDirective,this.min=new Vector3D,this.max=new Vector3D,this.name.setValueDirect("BBoxDirective"),this.viewSpace=new BooleanAttr(!1),this.viewTransform=new Matrix4x4Attr(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this.registerAttribute(this.viewSpace,"viewSpace"),this.registerAttribute(this.viewTransform,"viewTransform")}function Geometry(){RenderableElement.call(this),this.className="Geometry",this.attrType=eAttrType.Geometry,this.boundingTree=new Octree,this.updateBoundingTree=!1,this.selectable=new BooleanAttr(!0),this.cullable=new BooleanAttr(!0),this.show=new BooleanAttr(!0),this.approximationLevels=new NumberAttr(1),this.sortPolygons=new BooleanAttr(!1),this.flipPolygons=new BooleanAttr(!1),this.shadowCaster=new BooleanAttr(!1),this.shadowTarget=new BooleanAttr(!0),this.highlight=new BooleanAttr(!1),this.selectable.addModifiedCB(Geometry_SelectableModifiedCB,this),this.show.addModifiedCB(Geometry_ShowModifiedCB,this),this.approximationLevels.addModifiedCB(Geometry_ApproximationLevelsModifiedCB,this),this.registerAttribute(this.selectable,"selectable"),this.registerAttribute(this.cullable,"cullable"),this.registerAttribute(this.show,"show"),this.registerAttribute(this.approximationLevels,"approximationLevels"),this.registerAttribute(this.sortPolygons,"sortPolygons"),this.registerAttribute(this.flipPolygons,"flipPolygons"),this.registerAttribute(this.shadowCaster,"shadowCaster"),this.registerAttribute(this.shadowTarget,"shadowTarget"),this.registerAttribute(this.highlight,"highlight")}function Geometry_SelectableModifiedCB(){}function Geometry_ShowModifiedCB(t,e){e.setModified()}function Geometry_ApproximationLevelsModifiedCB(t,e){e.updateBoundingTree=!0,e.setModified()}function VertexGeometry(){Geometry.call(this),this.className="VertexGeometry",this.attrType=eAttrType.VertexGeometry,this.updateVertices=!1,this.updateColors=!1,this.updateUVCoords=[],this.uvCoords=[],this.vertexBuffer=null,this.vertices=new NumberArrayAttr,this.colors=new NumberArrayAttr,this.vertices.addModifiedCB(VertexGeometry_VerticesModifiedCB,this),this.colors.addModifiedCB(VertexGeometry_ColorsModifiedCB,this),this.registerAttribute(this.vertices,"vertices"),this.registerAttribute(this.colors,"colors")}function VertexGeometry_VerticesModifiedCB(t,e){e.updateVertices=!0,e.calculateBBox(),e.setModified()}function VertexGeometry_ColorsModifiedCB(t,e){e.updateColors=!0,e.setModified()}function VertexGeometry_UVCoordsModifiedCB(t,e){e.updateUVCoords.push(t),e.setModified()}function TriList(){VertexGeometry.call(this),this.className="TriList",this.attrType=eAttrType.TriList,this.primitiveType=RC_TRIANGLES,this.updateNormals=!1,this.normals=new NumberArrayAttr,this.vertices.addModifiedCB(TriList_NormalsModifiedCB,this),this.normals.addModifiedCB(TriList_NormalsModifiedCB,this),this.registerAttribute(this.normals,"normals")}function TriList_NormalsModifiedCB(t,e){e.updateNormals=!0,e.setModified()}function Material(){SGNode.call(this),this.className="Material",this.attrType=eAttrType.Material,this.updateColor=!1,this.updateAmbientLevel=!1,this.updateDiffuseLevel=!1,this.updateSpecularLevel=!1,this.updateEmissiveLevel=!1,this.updateAmbient=!0,this.updateDiffuse=!0,this.updateSpecular=!0,this.updateEmissive=!0,this.updateGlossiness=!0,this.updateOpacity=!0,this.lastOpacity=0,this.lastDoubleSided=!1,this.materialDesc=new MaterialDesc,this.materialDesc.validMembersMask=MATERIALDESC_ALL_BITS,this.color=new ColorAttr(1,1,1,1),this.ambientLevel=new NumberAttr(1),this.diffuseLevel=new NumberAttr(1),this.specularLevel=new NumberAttr(1),this.emissiveLevel=new NumberAttr(0),this.ambient=new ColorAttr(.2,.2,.2,1),this.diffuse=new ColorAttr(.8,.8,.8,1),this.specular=new ColorAttr(0,0,0,1),this.emissive=new ColorAttr(0,0,0,1),this.glossiness=new NumberAttr(0),this.opacity=new NumberAttr(1),this.doubleSided=new BooleanAttr(!1),this.color.addModifiedCB(Material_ColorModifiedCB,this),this.ambientLevel.addModifiedCB(Material_AmbientLevelModifiedCB,this),this.diffuseLevel.addModifiedCB(Material_DiffuseLevelModifiedCB,this),this.specularLevel.addModifiedCB(Material_SpecularLevelModifiedCB,this),this.emissiveLevel.addModifiedCB(Material_EmissiveLevelModifiedCB,this),this.ambient.addModifiedCB(Material_AmbientModifiedCB,this),this.diffuse.addModifiedCB(Material_DiffuseModifiedCB,this),this.specular.addModifiedCB(Material_SpecularModifiedCB,this),this.emissive.addModifiedCB(Material_EmissiveModifiedCB,this),this.glossiness.addModifiedCB(Material_GlossinessModifiedCB,this),this.opacity.addModifiedCB(Material_OpacityModifiedCB,this),this.doubleSided.addModifiedCB(Material_DoubleSidedModifiedCB,this),this.registerAttribute(this.color,"color"),this.registerAttribute(this.ambientLevel,"ambientLevel"),this.registerAttribute(this.diffuseLevel,"diffuseLevel"),this.registerAttribute(this.specularLevel,"specularLevel"),this.registerAttribute(this.emissiveLevel,"emissiveLevel"),this.registerAttribute(this.ambient,"ambient"),this.registerAttribute(this.diffuse,"diffuse"),this.registerAttribute(this.specular,"specular"),this.registerAttribute(this.emissive,"emissive"),this.registerAttribute(this.glossiness,"glossiness"),this.registerAttribute(this.opacity,"opacity"),this.registerAttribute(this.doubleSided,"doubleSided")}function Material_ColorModifiedCB(t,e){e.updateColor=!0,e.setModified()}function Material_AmbientLevelModifiedCB(t,e){e.updateAmbientLevel=!0,e.setModified()}function Material_DiffuseLevelModifiedCB(t,e){e.updateDiffuseLevel=!0,e.setModified()}function Material_SpecularLevelModifiedCB(t,e){e.updateSpecularLevel=!0,e.setModified()}function Material_EmissiveLevelModifiedCB(t,e){e.updateEmissiveLevel=!0,e.setModified()}function Material_AmbientModifiedCB(t,e){e.updateAmbient=!0,e.setModified()}function Material_DiffuseModifiedCB(t,e){e.updateDiffuse=!0,e.setModified()}function Material_SpecularModifiedCB(t,e){e.updateSpecular=!0,e.setModified()}function Material_EmissiveModifiedCB(t,e){e.updateEmissive=!0,e.setModified()}function Material_GlossinessModifiedCB(t,e){e.updateGlosiness=!0,e.setModified()}function Material_OpacityModifiedCB(t,e){e.updateOpacity=!0,e.setModified()}function Material_DoubleSidedModifiedCB(t,e){e.setModified()}function Surface(){Isolator.call(this),this.className="Surface",this.attrType=eAttrType.Surface,this.geometries=[],this.color=new ColorAttr(1,1,1,1),this.ambientLevel=new NumberAttr(1),this.diffuseLevel=new NumberAttr(1),this.specularLevel=new NumberAttr(1),this.emissiveLevel=new NumberAttr(0),this.ambient=new ColorAttr(.8,.8,.8,1),this.diffuse=new ColorAttr(.2,.2,.2,1),this.specular=new ColorAttr(0,0,0,1),this.emissive=new ColorAttr(0,0,0,1),this.glossiness=new NumberAttr(0),this.opacity=new NumberAttr(1),this.doubleSided=new BooleanAttr(!1),this.texturesEnabled=new BooleanAttr(!0),this.colorTexturesPresent=new BooleanAttr(!0),this.diffuseTexturesPresent=new BooleanAttr(!1),this.luminosityTexturesPresent=new BooleanAttr(!1),this.specularityTexturesPresent=new BooleanAttr(!1),this.transparencyTexturesPresent=new BooleanAttr(!1),this.numColorTextures=new NumberAttr(0),this.numDiffuseTextures=new NumberAttr(0),this.numLuminosityTextures=new NumberAttr(0),this.numSpecularityTextures=new NumberAttr(0),this.numTransparencyTextures=new NumberAttr(0),this.vertices=new NumberArrayAttr,this.colorTexturesPresent.addModifiedCB(Surface_TexturesPresentModifiedCB,this),this.diffuseTexturesPresent.addModifiedCB(Surface_TexturesPresentModifiedCB,this),this.luminosityTexturesPresent.addModifiedCB(Surface_TexturesPresentModifiedCB,this),this.specularityTexturesPresent.addModifiedCB(Surface_TexturesPresentModifiedCB,this),this.transparencyTexturesPresent.addModifiedCB(Surface_TexturesPresentModifiedCB,this),this.registerAttribute(this.color,"color"),this.registerAttribute(this.ambientLevel,"ambientLevel"),this.registerAttribute(this.diffuseLevel,"diffuseLevel"),this.registerAttribute(this.specularLevel,"specularLevel"),this.registerAttribute(this.emissiveLevel,"emissiveLevel"),this.registerAttribute(this.ambient,"ambient"),this.registerAttribute(this.diffuse,"diffuse"),this.registerAttribute(this.specular,"specular"),this.registerAttribute(this.emissive,"emissive"),this.registerAttribute(this.glossiness,"glossiness"),this.registerAttribute(this.opacity,"opacity"),this.registerAttribute(this.doubleSided,"doubleSided"),this.registerAttribute(this.texturesEnabled,"texturesEnabled"),this.registerAttribute(this.colorTexturesPresent,"colorTexturesPresent"),this.registerAttribute(this.diffuseTexturesPresent,"diffuseTexturesPresent"),this.registerAttribute(this.luminosityTexturesPresent,"luminosityTexturesPresent"),this.registerAttribute(this.specularityTexturesPresent,"specularityTexturesPresent"),this.registerAttribute(this.transparencyTexturesPresent,"transparencyTexturesPresent"),this.registerAttribute(this.numColorTextures,"numColorTextures"),this.registerAttribute(this.numDiffuseTextures,"numDiffuseTextures"),this.registerAttribute(this.numLuminosityTextures,"numLuminosityTextures"),this.registerAttribute(this.numSpecularityTextures,"numSpecularityTextures"),this.registerAttribute(this.numTransparencyTextures,"numTransparencyTextures"),this.registerAttribute(this.vertices,"vertices"),this.isolateTextures.setValueDirect(!0),this.materialNode=new Material,this.materialNode.getAttribute("name").setValueDirect("Material"),this.materialNode.getAttribute("modified").addTarget(this.modified),this.addChild(this.materialNode),this.colorTexturesNode=new Group,this.colorTexturesNode.getAttribute("name").setValueDirect("Color Textures"),this.colorTexturesNode.getAttribute("modified").addTarget(this.modified),this.addChild(this.colorTexturesNode),this.diffuseTexturesNode=new Group,this.diffuseTexturesNode.getAttribute("name").setValueDirect("Diffuse Textures"),this.diffuseTexturesNode.getAttribute("modified").addTarget(this.modified),this.addChild(this.diffuseTexturesNode),this.luminosityTexturesNode=new Group,this.luminosityTexturesNode.getAttribute("name").setValueDirect("Luminosity Textures"),this.luminosityTexturesNode.getAttribute("modified").addTarget(this.modified),this.addChild(this.luminosityTexturesNode),this.specularityTexturesNode=new Group,this.specularityTexturesNode.getAttribute("name").setValueDirect("Specularity Textures"),this.specularityTexturesNode.getAttribute("modified").addTarget(this.modified),this.addChild(this.specularityTexturesNode),this.transparencyTexturesNode=new Group,this.transparencyTexturesNode.getAttribute("name").setValueDirect("Transparency Textures"),this.transparencyTexturesNode.getAttribute("modified").addTarget(this.modified),this.addChild(this.transparencyTexturesNode),this.connectMaterialAttributes(this.materialNode)}function Surface_TexturesPresentModifiedCB(){}function Model(){ParentableMotionElement.call(this),this.className="Model",this.attrType=eAttrType.Model,this.surfaces=[],this.geometries=[],this.geometryIndices=[],this.geometryBBoxesMap=[],this.geometryAttrConnections=[],this.surfaceAttrConnections=[],this.boundingTree=new Octree,this.updateBoundingTree=!1,this.bones=[],this.url=new StringAttr(""),this.layer=new NumberAttr(0),this.selectable=new BooleanAttr(!0),this.moveable=new BooleanAttr(!0),this.cullable=new BooleanAttr(!0),this.show=new BooleanAttr(!0),this.approximationLevels=new NumberAttr(1),this.showApproximationLevel=new NumberAttr(-1),this.sortPolygons=new BooleanAttr(!1),this.flipPolygons=new BooleanAttr(!1),this.shadowCaster=new BooleanAttr(!1),this.shadowTarget=new BooleanAttr(!0),this.indexedGeometry=new BooleanAttr(!0),this.enableSharing=new BooleanAttr(!0),this.vertices=new NumberArrayAttr,this.dissolve=new NumberAttr(0),this.color=new ColorAttr(1,1,1,1),this.ambientLevel=new NumberAttr(1),this.diffuseLevel=new NumberAttr(1),this.specularLevel=new NumberAttr(1),this.emissiveLevel=new NumberAttr(0),this.ambient=new ColorAttr(.8,.8,.8,1),this.diffuse=new ColorAttr(.2,.2,.2,1),this.specular=new ColorAttr(0,0,0,1),this.emissive=new ColorAttr(0,0,0,1),this.glossiness=new NumberAttr(0),this.opacity=new NumberAttr(1),this.textureOpacity=new NumberAttr(1),this.doubleSided=new BooleanAttr(!1),this.texturesEnabled=new BooleanAttr(!0),this.pivotAboutGeometricCenter=new BooleanAttr(!0),this.screenScaleEnabled=new BooleanAttr(!1),this.screenScalePixels=new Vector3DAttr(0,0,0),this.detectCollision=new BooleanAttr(!1),this.collisionDetected=new BooleanAttr(!1),this.collisionList=new AttributeVector,this.stopOnCollision=new BooleanAttr(!1),this.detectObstruction=new BooleanAttr(!1),this.obstructionDetected=new BooleanAttr(!1),this.obstructionList=new AttributeVector,this.highlight=new BooleanAttr(!1),this.highlightColor=new ColorAttr(1,1,0,1),this.highlightWidth=new NumberAttr(5),this.disableOnDissolve=new BooleanAttr(!0),this.snapEnabled=new BooleanAttr(!0),this.genericConnectors=new GenericConnectors,this.socketConnectors=new SocketConnectors,this.plugConnectors=new PlugConnectors,this.physicalProperties=new PhysicalPropertiesAttr,this.physicsEnabled=new BooleanAttr(!0),this.show.addTarget(this.enabled),this.selectable.addModifiedCB(Model_GeometryAttrModifiedCB,this),this.cullable.addModifiedCB(Model_GeometryAttrModifiedCB,this),this.show.addModifiedCB(Model_GeometryAttrModifiedCB,this),this.approximationLevels.addModifiedCB(Model_GeometryAttrModifiedCB,this),this.sortPolygons.addModifiedCB(Model_GeometryAttrModifiedCB,this),this.sortPolygons.addModifiedCB(Model_SortPolygonsModifiedCB,this),this.flipPolygons.addModifiedCB(Model_GeometryAttrModifiedCB,this),this.shadowCaster.addModifiedCB(Model_GeometryAttrModifiedCB,this),this.shadowTarget.addModifiedCB(Model_GeometryAttrModifiedCB,this),this.renderSequenceSlot.addModifiedCB(Model_GeometryAttrModifiedCB,this),this.renderSequenceSlot.addModifiedCB(Model_RenderSequenceSlotModifiedCB,this),this.dissolve.addModifiedCB(Model_DissolveModifiedCB,this),this.color.addModifiedCB(Model_SurfaceAttrModifiedCB,this),this.ambientLevel.addModifiedCB(Model_SurfaceAttrModifiedCB,this),this.diffuseLevel.addModifiedCB(Model_SurfaceAttrModifiedCB,this),this.specularLevel.addModifiedCB(Model_SurfaceAttrModifiedCB,this),this.emissiveLevel.addModifiedCB(Model_SurfaceAttrModifiedCB,this),this.ambient.addModifiedCB(Model_SurfaceAttrModifiedCB,this),this.diffuse.addModifiedCB(Model_SurfaceAttrModifiedCB,this),this.specular.addModifiedCB(Model_SurfaceAttrModifiedCB,this),this.emissive.addModifiedCB(Model_SurfaceAttrModifiedCB,this),this.glossiness.addModifiedCB(Model_SurfaceAttrModifiedCB,this),this.opacity.addModifiedCB(Model_SurfaceAttrModifiedCB,this),this.opacity.addModifiedCB(Model_OpacityModifiedCB,this),this.textureOpacity.addModifiedCB(Model_TextureOpacityModifiedCB,this),this.doubleSided.addModifiedCB(Model_SurfaceAttrModifiedCB,this),this.texturesEnabled.addModifiedCB(Model_SurfaceAttrModifiedCB,this),this.detectCollision.addModifiedCB(Model_DetectCollisionModifiedCB,this),this.collisionDetected.addModifiedCB(Model_CollisionDetectedModifiedCB,this),this.vertices.addModifiedCB(Model_VerticesModifiedCB,this),this.physicsEnabled.addModifiedCB(Model_PhysicsEnabledModifiedCB,this),this.registerAttribute(this.url,"url"),this.registerAttribute(this.layer,"layer"),this.registerAttribute(this.selectable,"selectable"),this.registerAttribute(this.moveable,"moveable"),this.registerAttribute(this.cullable,"cullable"),this.registerAttribute(this.show,"show"),this.registerAttribute(this.approximationLevels,"approximationLevels"),this.registerAttribute(this.showApproximationLevel,"showApproximationLevel"),this.registerAttribute(this.sortPolygons,"sortPolygons"),this.registerAttribute(this.flipPolygons,"flipPolygons"),this.registerAttribute(this.shadowCaster,"shadowCaster"),this.registerAttribute(this.shadowTarget,"shadowTarget"),this.registerAttribute(this.indexedGeometry,"indexedGeometry"),this.registerAttribute(this.enableSharing,"enableSharing"),this.registerAttribute(this.vertices,"vertices"),this.registerAttribute(this.dissolve,"dissolve"),this.registerAttribute(this.color,"color"),this.registerAttribute(this.ambientLevel,"ambientLevel"),this.registerAttribute(this.diffuseLevel,"diffuseLevel"),this.registerAttribute(this.specularLevel,"specularLevel"),this.registerAttribute(this.emissiveLevel,"emissiveLevel"),this.registerAttribute(this.ambient,"ambient"),this.registerAttribute(this.diffuse,"diffuse"),this.registerAttribute(this.specular,"specular"),this.registerAttribute(this.emissive,"emissive"),this.registerAttribute(this.glossiness,"glossiness"),this.registerAttribute(this.opacity,"opacity"),this.registerAttribute(this.textureOpacity,"textureOpacity"),this.registerAttribute(this.doubleSided,"doubleSided"),this.registerAttribute(this.texturesEnabled,"texturesEnabled"),this.registerAttribute(this.pivotAboutGeometricCenter,"pivotAboutGeometricCenter"),this.registerAttribute(this.screenScaleEnabled,"screenScaleEnabled"),this.registerAttribute(this.screenScalePixels,"screenScalePixels"),this.registerAttribute(this.detectCollision,"detectCollision"),this.registerAttribute(this.collisionDetected,"collisionDetected"),this.registerAttribute(this.collisionList,"collisionList"),this.registerAttribute(this.stopOnCollision,"stopOnCollision"),this.registerAttribute(this.detectObstruction,"detectObstruction"),this.registerAttribute(this.obstructionDetected,"obstructionDetected"),this.registerAttribute(this.obstructionList,"obstructionList"),this.registerAttribute(this.highlight,"highlight"),this.registerAttribute(this.highlightColor,"highlightColor"),this.registerAttribute(this.highlightWidth,"highlightWidth"),this.registerAttribute(this.disableOnDissolve,"disableOnDissolve"),this.registerAttribute(this.snapEnabled,"snapEnabled"),this.registerAttribute(this.genericConnectors,"genericConnectors"),this.registerAttribute(this.socketConnectors,"socketConnectors"),this.registerAttribute(this.plugConnectors,"plugConnectors"),this.registerAttribute(this.physicalProperties,"physicalProperties"),this.registerAttribute(this.physicsEnabled,"physicsEnabled"),this.isolatorNode=new Isolator,this.isolatorNode.getAttribute("name").setValueDirect("Isolator"),this.isolatorNode.getAttribute("isolateDissolves").setValueDirect(!0),this.addChild(this.isolatorNode),this.dissolveNode=new Dissolve,this.dissolveNode.getAttribute("name").setValueDirect("Dissolve"),this.addChild(this.dissolveNode),this.dissolve.addTarget(this.dissolveNode.getAttribute("dissolve")),this.surfacesNode=new Group,this.surfacesNode.getAttribute("name").setValueDirect("Surfaces"),this.addChild(this.surfacesNode)}function Model_SortPolygonsModifiedCB(){}function Model_RenderSequenceSlotModifiedCB(t){t.getValueDirect()}function Model_DissolveModifiedCB(t){t.getValueDirect()}function Model_OpacityModifiedCB(t){t.getValueDirect()}function Model_TextureOpacityModifiedCB(){}function Model_Surface_NumTransparencyTexturesModifiedCB(t){t.getValueDirect()}function Model_GeometryBBoxModifiedCB(t,e){e.updateBBox()}function Model_SurfaceAttrModifiedCB(){}function Model_GeometryAttrModifiedCB(){}function Model_DetectCollisionModifiedCB(t){t.getValueDirect()}function Model_CollisionDetectedModifiedCB(t,e){e.collisionDetectedModified()}function Model_VerticesModifiedCB(){}function Model_PhysicsEnabledModifiedCB(t,e){e.physicsEnabledModified(t.getValueDirect())}function Texture(){ParentableMotionElement.call(this),this.className="Texture",this.attrType=eAttrType.Texture,this.updateImage=!1,this.updateMipmappingEnabled=!1,this.setImage=!1,this.imageSet=!1,this.textureObj=null,this.pitch=0,this.image=new ImageAttr,this.opacity=new NumberAttr(1),this.textureType=new NumberAttr(eTextureType.Color),this.widthWrap=new NumberAttr(eTextureWrap.None),this.heightWrap=new NumberAttr(eTextureWrap.None),this.mipmappingEnabled=new BooleanAttr(!1),this.blendOp=new NumberAttr(RC_MODULATE),this.image.setTransient(!0),this.image.getAttribute("width").addModifiedCB(Texture_ImageModifiedCB,this),this.image.getAttribute("height").addModifiedCB(Texture_ImageModifiedCB,this),this.image.getAttribute("byteAlignment").addModifiedCB(Texture_ImageModifiedCB,this),this.image.getAttribute("pixelFormat").addModifiedCB(Texture_ImageModifiedCB,this),this.image.getAttribute("pixels").addModifiedCB(Texture_ImagePixelsModifiedCB,this),this.textureType.addModifiedCB(Texture_TextureTypeModifiedCB,this),this.opacity.addModifiedCB(Texture_OpacityModifiedCB,this),this.widthWrap.addModifiedCB(Texture_WrapModifiedCB,this),this.heightWrap.addModifiedCB(Texture_WrapModifiedCB,this),this.mipmappingEnabled.addModifiedCB(Texture_MipmappingEnabledModifiedCB,this),this.registerAttribute(this.image,"image"),this.registerAttribute(this.opacity,"opacity"),this.registerAttribute(this.textureType,"textureType"),this.registerAttribute(this.widthWrap,"widthWrap"),this.registerAttribute(this.heightWrap,"heightWrap"),this.registerAttribute(this.mipmappingEnabled,"mipmappingEnabled"),this.registerAttribute(this.blendOp,"blendOp")}function Texture_ImageModifiedCB(t,e){e.updateImage=!0,e.setModified()}function Texture_ImagePixelsModifiedCB(t,e){e.updateImage=!0,e.setModified()}function Texture_OpacityModifiedCB(t,e){e.setModified()}function Texture_TextureTypeModifiedCB(t,e){switch(t.getValueDirect()){case eTextureType.Color:op=RC_MODULATE;break;case eTextureType.Diffuse:case eTextureType.Luminosity:case eTextureType.Specularity:op=RC_REPLACE;break;case eTextureType.Transparency:op=RC_MODULATE;break;default:return}e.blendOp.setValueDirect(op),e.setModified()}function Texture_WrapModifiedCB(t,e){e.setModified()}function Texture_MipmappingEnabledModifiedCB(t,e){e.updateMipmappingEnabled=!0,e.setModified()}function MediaTexture(){Texture.call(this),this.className="MediaTexture",this.attrType=eAttrType.MediaTexture,this.updateImageFilename=!1,this.updateAlphaFilename=!1,this.updateNegateImage=!1,this.updateNegateAlpha=!1,this.imagePlayback=null,this.alphaPlayback=null,this.pixelMap=ePixelMap.Default,this.forceImageUpdate=!1,this.imageFilename=new StringAttr(""),this.alphaFilename=new StringAttr(""),this.negateImage=new BooleanAttr(!1),this.negateAlpha=new BooleanAttr(!1),this.frame=new NumberAttr(-1),this.frameRetrieved=new NumberAttr(-1),this.imageFilename.addModifiedCB(MediaTexture_ImageFilenameModifiedCB,this),this.alphaFilename.addModifiedCB(MediaTexture_AlphaFilenameModifiedCB,this),this.negateImage.addModifiedCB(MediaTexture_NegateImageModifiedCB,this),this.negateAlpha.addModifiedCB(MediaTexture_NegateAlphaModifiedCB,this),this.registerAttribute(this.imageFilename,"imageFilename"),this.registerAttribute(this.alphaFilename,"alphaFilename"),this.registerAttribute(this.negateImage,"negateImage"),this.registerAttribute(this.negateAlpha,"negateAlpha"),this.registerAttribute(this.frame,"frame"),this.registerAttribute(this.frameRetrieved,"frameRetrieved")}function MediaTexture_OnImageLoad(){this.container.onImageLoad()}function MediaTexture_OnAlphaLoad(){this.container.onAlphaLoad()}function MediaTexture_OnVideoLoad(){alert("MediaTexture_OnVideoLoad"),this.container.onVideoLoad()}function MediaTexture_ImageFilenameModifiedCB(t,e){e.updateImageFilename=!0,e.setModified()}function MediaTexture_AlphaFilenameModifiedCB(t,e){e.updateAlphaFilename=!0,e.setModified()}function MediaTexture_NegateImageModifiedCB(t,e){e.updateNegateImage=!0,e.setModified()}function MediaTexture_NegateAlphaModifiedCB(t,e){e.updateNegateAlpha=!0,e.setModified()}function Evaluator(){Node.call(this),this.className="Evaluator",this.attrType=eAttrType.Evaluator,this.evaluate_=new BooleanAttr(!0),this.expired=new BooleanAttr(!1),this.registerAttribute(this.expired,"expired"),this.registerAttribute(this.evaluate_,"evaluate"),this.evaluate_.addTarget(this.enabled),this.enabled.addTarget(this.evaluate_)}function SceneInspector(){Evaluator.call(this),this.className="SceneInspector",this.attrType=eAttrType.SceneInspector,this.camera=null,this.viewPosition=new Vector3DAttr(0,0,0),this.viewRotation=new Vector3DAttr(0,0,0),this.translationDelta=new Vector3DAttr(0,0,0),this.panDelta=new Vector3DAttr(0,0,0),this.trackDelta=new Vector3DAttr(0,0,0),this.rotationDelta=new Vector3DAttr(0,0,0),this.viewRelativeXAxisRotation=new BooleanAttr(!1),this.viewRelativeYAxisRotation=new BooleanAttr(!1),this.viewRelativeZAxisRotation=new BooleanAttr(!1),this.pivotDistance=new NumberAttr(0),this.pivotPointWorld=new Vector3DAttr(0,0,0),this.resultPosition=new Vector3DAttr(0,0,0),this.resultRotation=new Vector3DAttr(0,0,0),this.upVector=new Vector3DAttr(0,0,0),this.rightVector=new Vector3DAttr(0,0,0),this.forwardVector=new Vector3DAttr(0,0,0),this.affectPosition_X=new BooleanAttr(!0),this.affectPosition_Y=new BooleanAttr(!0),this.affectPosition_Z=new BooleanAttr(!0),this.affectRotation_X=new BooleanAttr(!0),this.affectRotation_Y=new BooleanAttr(!0),this.affectRotation_Z=new BooleanAttr(!0),this.registerAttribute(this.viewPosition,"viewPosition"),this.registerAttribute(this.viewRotation,"viewRotation"),this.registerAttribute(this.translationDelta,"translationDelta"),this.registerAttribute(this.panDelta,"panDelta"),this.registerAttribute(this.trackDelta,"trackDelta"),this.registerAttribute(this.rotationDelta,"rotationDelta"),this.registerAttribute(this.viewRelativeXAxisRotation,"viewRelativeXAxisRotation"),this.registerAttribute(this.viewRelativeYAxisRotation,"viewRelativeYAxisRotation"),this.registerAttribute(this.viewRelativeZAxisRotation,"viewRelativeZAxisRotation"),this.registerAttribute(this.pivotDistance,"pivotDistance"),this.registerAttribute(this.pivotPointWorld,"pivotPointWorld"),this.registerAttribute(this.resultPosition,"resultPosition"),this.registerAttribute(this.resultRotation,"resultRotation"),this.registerAttribute(this.upVector,"upVector"),this.registerAttribute(this.rightVector,"rightVector"),this.registerAttribute(this.forwardVector,"forwardVector"),this.registerAttribute(this.affectPosition_X,"affectPosition_X"),this.registerAttribute(this.affectPosition_Y,"affectPosition_Y"),this.registerAttribute(this.affectPosition_Z,"affectPosition_Z"),this.registerAttribute(this.affectRotation_X,"affectRotation_X"),this.registerAttribute(this.affectRotation_Y,"affectRotation_Y"),this.registerAttribute(this.affectRotation_Z,"affectRotation_Z")}function ArcballInspector(){Evaluator.call(this),this.className="ArcballInspector",this.attrType=eAttrType.ArcballInspector,this.sphereCenter=new Vector3DAttr(0,0,0),this.sphereRadius=new NumberAttr(0),this.mouseDown=new Vector2DAttr(0,0),this.mouseNow=new Vector2DAttr(0,0),this.quatAtMouseDown=new QuaternionAttr(1,0,0,0),this.viewport=new ViewportAttr(0,0,0,0),this.worldTransform=new Matrix4x4Attr,this.viewTransform=new Matrix4x4Attr,this.constrainToAxis=new BooleanAttr(!1),this.constraintAxis=new Vector3DAttr(0,0,0),this.resultQuat=new QuaternionAttr(1,0,0,0),this.registerAttribute(this.sphereCenter,"sphereCenter"),this.registerAttribute(this.sphereRadius,"sphereRadius"),this.registerAttribute(this.mouseDown,"mouseDown"),this.registerAttribute(this.mouseNow,"mouseNow"),this.registerAttribute(this.quatAtMouseDown,"quatAtMouseDown"),this.registerAttribute(this.viewport,"viewport"),this.registerAttribute(this.worldTransform,"worldTransform"),this.registerAttribute(this.viewTransform,"viewTransform"),this.registerAttribute(this.constrainToAxis,"constrainToAxis"),this.registerAttribute(this.constraintAxis,"constraintAxis"),this.registerAttribute(this.resultQuat,"resultQuat")}function ArcballInspector_ViewTransformModifiedCB(){}function EndState(){this.initialized=!1,this.startKeyIts=[],this.endKeyIts=[],this.startTime=-FLT_MAX,this.endTime=FLT_MAX}function KeyframeInterpolator(){Evaluator.call(this),this.className="KeyframeInterpolator",this.attrType=eAttrType.KeyframeInterpolator,this.lastTime=0,this.evaluated=!1,this.endState=new EndState,this.time=new NumberAttr(0),this.channels=new AttributeVector,this.startKeys=new AttributeVector,this.endKeys=new AttributeVector,this.preBehaviors=new AttributeVector,this.postBehaviors=new AttributeVector,this.resultValues=new AttributeVector,this.time.addModifiedCB(KeyframeInterpolator_TimeModifiedCB,this),this.registerAttribute(this.time,"time"),this.registerAttribute(this.channels,"channels"),this.registerAttribute(this.startKeys,"startKeys"),this.registerAttribute(this.endKeys,"endKeys"),this.registerAttribute(this.preBehaviors,"preBehaviors"),this.registerAttribute(this.postBehaviors,"postBehaviors"),this.registerAttribute(this.resultValues,"resultValues")}function KeyframeInterpolator_TimeModifiedCB(t,e){e.timeModified()}function KeyframeInterpolator_EndStateModifiedCB(t,e){e.updateEndState()}function BBoxLocator(){Evaluator.call(this),this.className="BBoxLocator",this.attrType=eAttrType.BBoxLocator,this.viewPosition=new Vector3DAttr(0,0,0),this.viewTransform=new Matrix4x4Attr(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this.viewVolume=new ViewVolumeAttr,this.viewport=new ViewportAttr(0,0,0,0),this.nearDistance=new NumberAttr(0),this.bbox=new BBoxAttr,this.bboxView=new BBoxAttr,this.closeness=new NumberAttr(.5),this.resultPosition=new Vector3DAttr(0,0,0),this.resultWidth=new NumberAttr(0),this.resultFarDistance=new NumberAttr(0),this.resultPivotDistance=new NumberAttr(0),this.registerAttribute(this.viewPosition,"viewPosition"),this.registerAttribute(this.viewTransform,"viewTransform"),this.registerAttribute(this.viewVolume,"viewVolume"),this.registerAttribute(this.viewport,"viewport"),this.registerAttribute(this.nearDistance,"nearDistance"),this.registerAttribute(this.bbox,"bbox"),this.registerAttribute(this.bboxView,"bboxView"),this.registerAttribute(this.closeness,"closeness"),this.registerAttribute(this.resultPosition,"resultPosition"),this.registerAttribute(this.resultWidth,"resultWidth"),this.registerAttribute(this.resultFarDistance,"resultFarDistance"),this.registerAttribute(this.resultPivotDistance,"resultPivotDistance")
}function worldUnitsPerPixelPersp(t,e,i){var r=2*Math.atan2(1,e),o=2*Math.atan(t.width/t.height*Math.tan(r/2)),n=Math.tan(o/2)*i*2,a=Math.tan(r/2)*i*2,s=n/t.width,l=a/t.height;return{x:s,y:l}}function worldUnitsPerPixelOrtho(t,e){var i=e*(t.height/t.width),r=e/t.width,o=i/t.height;return{x:r,y:o}}function toScreenSpace(t,e,i,r){var o=e.transformw(t.x,t.y,t.z,1);return o=i.transformw(o.x,o.y,o.z,o.w),0==o.w?{x:-1/0,y:-1/0,z:-1/0}:(o.x/=o.w,o.y/=o.w,o.x=r.x+r.width-(-o.x+1)*r.width/2,o.y=r.y+r.height-(o.y+1)*r.height/2,o.z=0,{x:o.x,y:o.y,z:o.z})}function RasterComponent(){ParentableMotionElement.call(this),this.className="RasterComponent",this.attrType=eAttrType.RasterComponent,this.rcEventListener=null,this.opacity=new NumberAttr(1),this.anchor=new Vector2DAttr(0,0),this.origin=new StringAttr("bottomLeft"),this.show=new BooleanAttr(!0),this.selectable=new BooleanAttr(!0),this.cullable=new BooleanAttr(!0),this.clampToViewport=new BooleanAttr(!1),this.rasterPosition=new Vector3DAttr,this.inspectionOffset=new Vector3DAttr,this.componentRect=new RectAttr,this.screenRect=new RectAttr,this.stylesMap.size.addModifiedCB(RasterComponent_StylesMapSizeModifiedCB,this),this.show.addModifiedCB(RasterComponent_ShowModifiedCB,this),this.registerAttribute(this.opacity,"opacity"),this.registerAttribute(this.anchor,"anchor"),this.registerAttribute(this.origin,"origin"),this.registerAttribute(this.show,"show"),this.registerAttribute(this.selectable,"selectable"),this.registerAttribute(this.cullable,"cullable"),this.registerAttribute(this.rasterPosition,"rasterPosition"),this.registerAttribute(this.inspectionOffset,"inspectionOffset"),this.registerAttribute(this.clampToViewport,"clampToViewport"),this.registerAttribute(this.componentRect,"componentRect"),this.registerAttribute(this.screenRect,"screenRect"),this.renderSequenceSlot.setValueDirect(65535)}function RasterComponent_StylesMapSizeModifiedCB(t,e){e.stylesMapSizeModified()}function RasterComponent_StylesMapElementEventModifiedCB(t,e){e.stylesMapElementEventModified(t.getValueDirect().join(""))}function RasterComponent_ShowModifiedCB(t,e){e.showModified()}function Label(){RasterComponent.call(this),this.className="Label",this.attrType=eAttrType.Label,this.iconRect=new Rect(0,0,0,0),this.labelRect=new Rect(0,0,0,0),this.text=new StringAttr(""),this.description=new StringAttr(""),this.depthShadingEnabled=new BooleanAttr(!0),this.labelStyle=new LabelStyleAttr,this.iconStyle=new IconStyleAttr,this.balloonTipLabelStyle=new BalloonTipLabelStyleAttr,this.text.addModifiedCB(Label_TextModifiedCB,this),this.description.addModifiedCB(Label_DescriptionModifiedCB,this),this.labelStyle.backgroundColor.addModifiedCB(Label_LabelStyleBackgroundColorModifiedCB,this),this.labelStyle.backgroundOpacity.addModifiedCB(Label_LabelStyleBackgroundOpacityModifiedCB,this),this.labelStyle.fontStyle.borderColor.addModifiedCB(Label_LabelStyleFontBorderModifiedCB,this),this.labelStyle.fontStyle.borderWidth.addModifiedCB(Label_LabelStyleFontBorderModifiedCB,this),this.labelStyle.fontStyle.color.addModifiedCB(Label_LabelStyleFontStyleColorModifiedCB,this),this.labelStyle.fontStyle.font.addModifiedCB(Label_LabelStyleFontStyleFontModifiedCB,this),this.labelStyle.fontStyle.opacity.addModifiedCB(Label_LabelStyleFontStyleOpacityModifiedCB,this),this.labelStyle.fontStyle.size.addModifiedCB(Label_LabelStyleFontStyleSizeModifiedCB,this),this.labelStyle.fontStyle.style.addModifiedCB(Label_LabelStyleFontStyleStyleModifiedCB,this),this.labelStyle.format.addModifiedCB(Label_LabelStyleFormatModifiedCB,this),this.labelStyle.padding.addModifiedCB(Label_LabelStylePaddingModifiedCB,this),this.iconStyle.url.addModifiedCB(Label_IconStyleUrlModifiedCB,this),this.balloonTipLabelStyle.addModifiedCB(Label_BalloonTipLabelStyleModifiedCB,this),this.registerAttribute(this.text,"text"),this.registerAttribute(this.description,"description"),this.registerAttribute(this.depthShadingEnabled,"depthShadingEnabled"),this.registerAttribute(this.labelStyle,"labelStyle"),this.registerAttribute(this.iconStyle,"iconStyle"),this.registerAttribute(this.balloonTipLabelStyle,"balloonTipLabelStyle"),this.styles.registerStyle(this.iconStyle,"iconStyle"),this.styles.registerStyle(this.labelStyle,"labelStyle"),this.styles.registerStyle(this.balloonTipLabelStyle,"balloonTipLabelStyle")}function CreateHTMLLabel(t,e,i){var r=null,o=null,n=null,a=null;return bridgeworks.rasterComponents&&(r=document.createElement("div"),r&&(r.setAttribute("id",t),o=document.createElement("span"),o&&(o.setAttribute("id",e),o.setAttribute("class","labelText"),o.style.visibility="hidden",o.style.position="absolute",o.style.zIndex=3,o.onmousedown=function(){},o.onmouseup=function(){},o.onmousemove=function(){},o.onselectstart=new Function("return false"),r.appendChild(o)),a=document.createElement("div"),a&&(a.setAttribute("id",i),a.style.position="absolute",a.style.zIndex=3,n=document.createElement("img"),n&&(n.setAttribute("class","labelIcon"),n.style.visibility="hidden",n.src="BwContent/images/1x1.png",n.onmouseup=function(){},n.onmousemove=function(){},n.onmousedown=function(){return!1},a.appendChild(n)),r.appendChild(a)),bridgeworks.rasterComponents.appendChild(r))),{div:r,label:o,iconDiv:a,iconImg:n}}function Label_TextModifiedCB(t,e){e.htmlLabel.innerHTML=t.getValueDirect().join("")}function Label_DescriptionModifiedCB(t,e){var i=t.getValueDirect().join("");if(i.length>0){var r=e.balloonTipLabelStyle.htmlLabelStyle.width.getValueDirect(),o=e.balloonTipLabelStyle.htmlLabelStyle.height.getValueDirect();if(0==r||0==o){var n=e.registry.find("ViewportMgr");0==r&&(r=.5*n.getAttribute("width").getValueDirect()),0==o&&(o=.5*n.getAttribute("height").getValueDirect())}var a="#"+e.iconId;i="<div class='gmap' style='width:"+(r+12)+"px;height:12px;'><a href='javascript:void($(\""+a+"\").btOff());'><img src='libs/jquery/bt/close.gif' alt='close' width='12' height='12' class='gmap-close' /></a> </div><div style='width:"+(r+12)+"px;height:"+o+"px;overflow:auto;'>"+i+"</div>";var s=e.balloonTipLabelStyle.bgColor.getValueDirect(),l="rgba("+255*s.r+","+255*s.g+","+255*s.b+","+255*s.a+")";$(a).bt(i,{trigger:"click",width:r+12+"px",height:o+12+"px",shrinkToFit:0==r&&0==o?!0:!1,centerPointX:.9,spikeLength:e.balloonTipLabelStyle.balloonOffset.getValueDirect(),spikeGirth:30,padding:15,cornerRadius:25,fill:l,strokeStyle:"#ABABAB",strokeWidth:1,shadow:!0,shadowOffsetX:3,shadowOffsetY:3,shadowBlur:8,shadowColor:"rgba(0,0,0,.9)",shadowOverlap:!1,noShadowOpts:{strokeStyle:"#999",strokeWidth:2}})}else{var a="#"+e.iconId;$(a).bt("",{trigger:"click"})}}function Label_LabelStyleBackgroundColorModifiedCB(t,e){var i=t.getValueDirect();i.a*=t.getContainer().getAttribute("backgroundOpacity").getValueDirect(),e.htmlLabel.style.backgroundColor="rgba("+255*i.r+","+255*i.g+","+255*i.b+","+i.a+")"}function Label_LabelStyleBackgroundOpacityModifiedCB(t,e){Label_LabelStyleBackgroundColorModifiedCB(e.labelStyle.backgroundColor,e)}function Label_LabelStyleFontBorderModifiedCB(t,e){e.labelStyleFontBorderModified()}function Label_LabelStyleFontStyleColorModifiedCB(t,e){var i=t.getValueDirect();i.a*=t.getContainer().getAttribute("opacity").getValueDirect(),e.htmlLabel.style.color="rgba("+255*i.r+","+255*i.g+","+255*i.b+","+i.a+")"}function Label_LabelStyleFontStyleFontModifiedCB(t,e){e.htmlLabel.style.fontFamily=t.getValueDirect().join("")}function Label_LabelStyleFontStyleOpacityModifiedCB(t,e){Label_LabelStyleFontStyleColorModifiedCB(e.labelStyle.fontStyle.color,e),Label_LabelStyleFontBorderModifiedCB(null,e)}function Label_LabelStyleFontStyleSizeModifiedCB(t,e){e.htmlLabel.style.fontSize=t.getValueDirect()+"pt"}function Label_LabelStyleFontStyleStyleModifiedCB(t,e){switch(t.getValueDirect().join("")){case"Bold":e.htmlLabel.style.fontWeight="bold";break;case"Heavy":e.htmlLabel.style.fontWeight="bolder";break;case"Normal":e.htmlLabel.style.fontWeight="normal";break;case"Thin":e.htmlLabel.style.fontWeight="lighter"}}function Label_LabelStyleFormatModifiedCB(t){t.getValueDirect().join("")}function Label_LabelStylePaddingModifiedCB(t,e){var i=t.getValueDirect()+"px";e.htmlLabel.style.paddingLeft=i,e.htmlLabel.style.paddingRight=i,e.htmlLabel.style.paddingTop=i,e.htmlLabel.style.paddingBottom=i}function Label_IconStyleUrlModifiedCB(t,e){var i=t.getValueDirect().join("");switch(i){case"":break;default:e.htmlIconImg.src=document.location.href+"/../BwContent/"+i}}function Label_BalloonTipLabelStyleModifiedCB(t,e){Label_DescriptionModifiedCB(e.description,e)}function BalloonTipLabel(){RasterComponent.call(this),this.className="BallonTipLabel",this.attrType=eAttrType.BalloonTipLabel,this.qtip=null,this.qtip_api=null,this.labelRect=new Rect(0,0,0,0),this.balloonTipLabelStyle=new BalloonTipLabelStyleAttr,this.labelWidth=new NumberAttr(0),this.labelHeight=new NumberAttr(0),this.balloonTipLabelStyle.bgColor.addModifiedCB(BalloonTipLabel_balloonTipLabelStyleBgColorModifiedCB,this),this.balloonTipLabelStyle.htmlLabelStyle.addModifiedCB(BalloonTipLabel_BalloonTipLabelStyleHTMLLabelStyleModifiedCB,this),this.balloonTipLabelStyle.displayMode.addModifiedCB(BalloonTipLabel_balloonTipLabelStyleDisplayModeModifiedCB,this),this.show.addModifiedCB(BalloonTipLabel_showModifiedCB,this),this.renderSequenceSlot.addModifiedCB(BalloonTipLabel_renderSequenceSlotModifiedCB,this),this.registerAttribute(this.balloonTipLabelStyle,"balloonTipLabelStyle"),this.registerAttribute(this.labelWidth,"labelWidth"),this.registerAttribute(this.labelHeight,"labelHeight"),this.styles.registerStyle(this.balloonTipLabelStyle,"balloonTipLabelStyle")}function CreateHTMLBalloonTipLabel(t){var e=null;bridgeworks.rasterComponents&&(e=document.createElement("a"),e&&(e.setAttribute("id",t),e.style.visibility="hidden",e.style.position="absolute",bridgeworks.rasterComponents.appendChild(e)));var t="a[id="+t+"]",i=$(t).qtip({style:{classes:"qtip-bootstrap qtip-rounded qtip-shadow qtip-close"},content:{text:"",button:!0},hide:{event:!1}});return{label:e,qtip:i}}function BalloonTipLabel_balloonTipLabelStyleModifiedCB(t,e){e.balloonTipLabelStyleModified()}function BalloonTipLabel_balloonTipLabelStyleBgColorModifiedCB(){}function BalloonTipLabel_balloonTipLabelStyleDisplayModeModifiedCB(t,e){e.balloonTipLabelStyleDisplayModeModified(t.getValueDirect().join(""))}function BalloonTipLabel_BalloonTipLabelStyleHTMLLabelStyleModifiedCB(t,e){e.balloonTipLabelStyleHtmlLabelStyleModified()}function BalloonTipLabel_HTMLLabel_PageDimensionsModifiedCB(){}function BalloonTipLabel_showModifiedCB(t,e){e.showModified(t.getValueDirect())}function BalloonTipLabel_renderSequenceSlotModifiedCB(){}function LineList(){VertexGeometry.call(this),this.className="LineList",this.attrType=eAttrType.LineList,this.width=1}function PointList(){VertexGeometry.call(this),this.className="PointList",this.attrType=eAttrType.PointList,this.width=1}function range(t,e,i){var r,o=i-e;return 0==o?{value:e,i:0}:(r=t-o*Math.floor((t-e)/o),{value:r,i:-Math.floor((r-t)/o+(r>t?.5:-.5))})}function hermite(t){var e,i;e=t*t,i=t*e;var r=3*e-i-i,o=1-r,n=i-e,a=n-e+t;return{h1:o,h2:r,h3:a,h4:n}}function bezier(t,e,i,r,o){var n,a,s,l,c;return l=o*o,c=l*o,s=3*(e-t),a=3*(i-e)-s,n=r-t-s-a,n*c+a*l+s*o+t}function bez2_time(t,e,i,r,o,n,a){var s,l;return l=n+.5*(a-n),s=bezier(t,e,i,r,l),Math.abs(o-s)>1e-4?(s>o?a=l:n=l,bez2_time(t,e,i,r,o,n,a)):l}function bez2(t,e,i){var r,o,n,a=0,s=1;return r=t.getShape()==eKeyframeShape_Bezier2D?t.getTime()+t.getParams(2):t.getTime()+(e.getTime()-t.getTime())/3,n=bez2_time(t.getTime(),r,e.getTime()+e.getParams(0),e.getTime(),i,a,s),o=t.getShape()==eKeyframeShape_Bezier2D?t.getValue()+t.getParams(3):t.getValue()+t.getParams(1)/3,bezier(t.getValue(),o,e.getParams(1)+e.getValue(),e.getValue(),n)}function outgoing(t,e,i,r){var o,n,a,s,l;switch(e.getShape()){case eKeyframeShape.TCB:o=(1-e.getParams(0))*(1+e.getParams(1))*(1+e.getParams(2)),n=(1-e.getParams(0))*(1-e.getParams(1))*(1-e.getParams(2)),a=i.getValue()-e.getValue(),e!=r?(s=(i.getTime()-e.getTime())/(i.getTime()-t.prev(e).getTime()),l=s*(o*(e.getValue()-t.prev(e).getValue())+n*a)):l=n*a;break;case eKeyframeShape.Linear:a=i.getValue()-e.getValue(),e!=r?(s=(i.getTime()-e.getTime())/(i.getTime()-t.prev(e).getTime()),l=s*(e.getValue()-t.prev(e).getValue()+a)):l=a;break;case eKeyframeShape.Bezier1D:l=e.getParams(1),e!=r&&(l*=(i.getTime()-e.getTime())/(i.getTime()-t.prev(e).getTime()));break;case eKeyframeShape.Bezier2D:l=e.getParams(3)*(i.getTime()-e.getTime()),Math.abs(e.getParams(2))>1e-5?l/=e.getParams(2):l*=1e5;break;case eKeyframeShape.Stepped:default:l=0}return l}function incoming(t,e,i,r){var o,n,a,s,l;switch(i.getShape()){case eKeyframeShape.Linear:a=i.getValue()-e.getValue(),i!=r?(s=(i.getTime()-e.getTime())/(t.next(i).getTime()-e.getTime()),l=s*(t.next(i).getValue()-i.getValue()+a)):l=a;break;case eKeyframeShape.TCB:o=(1-i.getParams(0))*(1-i.getParams(1))*(1+i.getParams(2)),n=(1-i.getParams(0))*(1+i.getParams(1))*(1-i.getParams(2)),a=i.getValue()-e.getValue(),i!=r?(s=(i.getTime()-e.getTime())/(t.next(i).getTime()-e.getTime()),l=s*(n*(t.next(i).getValue()-i.getValue())+o*a)):l=o*a;break;case eKeyframeShape.Bezier1D:l=i.getParams(0),i!=r&&(l*=(i.getTime()-e.getTime())/(t.next(i).getTime()-e.getTime()));break;case eKeyframeShape.Bezier2D:l=i.getParams(1)*(i.getTime()-e.getTime()),Math.abs(i.getParams(0))>1e-5?l/=i.getParams(0):l*=1e5;break;case eKeyframeShape.Stepped:default:l=0}return l}function interpolate(t,e,i,r,o,n){if(0==e.length)return 0;if(1==e.length)return i.getValue();var a,s=0,l=0,c=0,h=0;if(t<i.getTime())switch(o){case eEndBehavior.Reset:return 0;case eEndBehavior.Constant:return i.getValue();case eEndBehavior.Repeat:a=range(t,i.getTime(),r.getTime()),t=a.value;break;case eEndBehavior.Oscillate:a=range(t,i.getTime(),r.getTime()),t=a.value,s=a.i,s%2&&(t=r.getTime()-i.getTime()-t);break;case eEndBehavior.OffsetRepeat:a=range(t,i.getTime(),r.getTime()),t=a.value,s=a.i,h=s*(r.getValue()-i.getValue());break;case eEndBehavior.Linear:return c=outgoing(e,i,e.next(i),i)/(e.next(i).getTime()-i.getTime()),c*(t-i.getTime())+i.getValue()}else if(t>r.getTime())switch(n){case eEndBehavior.Reset:return 0;case eEndBehavior.Constant:return r.getValue();case eEndBehavior.Repeat:a=range(t,i.getTime(),r.getTime()),t=a.value;break;case eEndBehavior.Oscillate:a=range(t,i.getTime(),r.getTime()),t=a.value,s=a.i,s%2&&(t=r.getTime()-i.getTime()-t);break;case eEndBehavior.OffsetRepeat:a=range(t,i.getTime(),r.getTime()),t=a.value,s=a.i,h=s*(r.getValue()-i.getValue());break;case eEndBehavior.Linear:return l=incoming(e,e.prev(r),r,r)/(r.getTime()-e.prev(r).getTime()),l*(t-r.getTime())+r.getValue()}for(var u=i;e.next(u)&&t>e.next(u).getTime();)u=e.next(u);var d=e.next(u);if(t==u.getTime())return u.getValue()+h;if(t==d.getTime())return d.getValue()+h;var p=(t-u.getTime())/(d.getTime()-u.getTime());switch(d.getShape()){case eKeyframeShape.TCB:case eKeyframeShape.Bezier1D:c=outgoing(e,u,d,i),l=incoming(e,u,d,r);var a=hermite(p);return a.h1*u.getValue()+a.h2*d.getValue()+a.h3*c+a.h4*l+h;case eKeyframeShape.Bezier2D:return bez2(u,d,t)+h;case eKeyframeShape.Linear:return u.getValue()+p*(d.getValue()-u.getValue())+h;case eKeyframeShape.Stepped:return u.getValue()+h;default:return 0}}function StateRec(){this.material=null,this.renderStateRec=null,this.cullBackFace=!1,this.textures=null,this.projectionTextures=null,this.globalIllumination=new Color}function GetCurrentState(t){var e=new StateRec;return e.material=t.getCurrentMaterial(),e.renderStateRec=t.renderState.getState(RENDERSTATE_ALL_BITS),e.cullBackFace=t.renderContext.enabled(eRenderMode.CullBackFace),e.textures=t.textureArrayStack.top(),e.projectionTextures=t.projectionTextureArrayStack.top(),e.globalIllumination.copy(t.renderContext.getGlobalIllumination()),e}function SetCurrentState(t,e){t.setCurrentMaterial(e.material),t.renderState.setState(RENDERSTATE_ALL_BITS,e.renderStateRec),e.cullBackFace?t.renderContext.enable(eRenderMode.CullBackFace):t.renderContext.disable(eRenderMode.CullBackFace),t.textureArrayStack.load(e.textures),t.projectionTextureArrayStack.load(e.projectionTextures),t.renderContext.setGlobalIllumination(e.globalIllumination)}function DistanceSortRec(t,e,i){this.distance=t||0,this.geometry=e||null,this.dissolve=i||0,this.stateRec=null}function DistanceSortAgent(){Agent.call(this),this.className="DistanceSortAgent",this.graphMgr=null,this.sortRecs=[]}function DistanceSortAgent_CompareSortRecs(t,e){return e.distance-t.distance}function MapProjectionCalculator(){Evaluator.call(this),this.className="MapProjectionCalculator",this.attrType=eAttrType.MapProjectionCalculator,this.unitsMultiplier=1,this.positionCalculators=[],this.geoPositionCalculators=[],this.mapProjection=new StringAttr("equalArc"),this.elevationModel=new StringAttr,this.center2D=new Vector2DAttr(0,0),this.units=new StringAttr("kilometers"),this.geoPosition=new Vector3DAttr(0,0,0),this.pointWorld=new Vector3DAttr,this.resultPosition=new Vector3DAttr,this.resultGeoPosition=new Vector3DAttr,this.units.addModifiedCB(MapProjectionCalculator_UnitsModifiedCB,this),this.pointWorld.addModifiedCB(MapProjectionCalculator_PointWorldModifiedCB,this),this.registerAttribute(this.mapProjection,"mapProjection"),this.registerAttribute(this.elevationModel,"elevationModel"),this.registerAttribute(this.center2D,"center2d"),this.registerAttribute(this.units,"units"),this.registerAttribute(this.geoPosition,"geoPosition"),this.registerAttribute(this.geoPosition,"position"),this.registerAttribute(this.pointWorld,"pointWorld"),this.registerAttribute(this.resultPosition,"resultPosition"),this.registerAttribute(this.resultGeoPosition,"resultGeoPosition"),this.registerAttribute(this.resultGeoPosition,"resultGeoLocation"),this.positionCalculators.equalArc=ComputeEqualArc3DPosition,this.geoPositionCalculators.equalArc=ComputeEqualArcGeoPosition,this.units.setValueDirect("meters")}function MapProjectionCalculator_UnitsModifiedCB(t,e){switch(t.getValueDirect().join("")){case"kilometers":e.unitsMultiplier=1;break;case"meters":e.unitsMultiplier=1e3}}function MapProjectionCalculator_PointWorldModifiedCB(){}function ComputeEqualArc3DPosition(t,e,i,r,o,n){if(i>90||-90>i||t>180||-180>t)return void 0;var a=(t-r)*EQ_ARC_ONE_DEG_LON_KM*n,s=e,l=(i-o)*EQ_ARC_ONE_DEG_LAT_KM*n;return{x:a,y:s,z:l}}function ComputeEqualArcGeoPosition(t,e,i,r,o,n){var a=t/n/EQ_ARC_ONE_DEG_LON_KM+r,s=e,l=i/n/EQ_ARC_ONE_DEG_LAT_KM+o;return{lon:a,alt:s,lat:l}}function NullObject(){ParentableMotionElement.call(this),this.className="NullObject",this.attrType=eAttrType.NullObject}function Transform(){SGNode.call(this),this.className="Transform",this.attrType=eAttrType.Transform,this.matrix=new Matrix4x4Attr(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this.matrixTransform=this.matrix.getValueDirect(),this.updateMatrix=!0,this.matrix.addModifiedCB(Transform_MatrixModifiedCB,this),this.registerAttribute(this.matrix,"matrix")}function Transform_MatrixModifiedCB(t,e){e.updateMatrix=!0,e.setModified()}function QuaternionRotate(){Transform.call(this),this.className="QuaternionRotate",this.attrType=eAttrType.QuaternionRotate,this.rotationQuat=new QuaternionAttr(1,0,0,0),this.rotation=new Vector3DAttr(0,0,0),this.updateRotationQuat=!0,this.rotationQuat.addModifiedCB(QuaternionRotate_RotationQuatModifiedCB,this),this.registerAttribute(this.rotationQuat,"rotationQuat"),this.registerAttribute(this.rotation,"rotation")}function QuaternionRotate_RotationQuatModifiedCB(t,e){e.updateRotationQuat=!0,e.setModified()}function Rotate(){Transform.call(this),this.className="Rotate",this.attrType=eAttrType.Rotate,this.rotation=new Vector3DAttr(0,0,0),this.updateRotation=!0,this.rotation.addModifiedCB(Rotate_RotationModifiedCB,this),this.registerAttribute(this.rotation,"rotation")}function Rotate_RotationModifiedCB(t,e){e.updateRotation=!0,e.setModified()}function Scale(){Transform.call(this),this.className="Scale",this.attrType=eAttrType.Scale,this.scale=new Vector3DAttr(1,1,1),this.updateScale=!0,this.scale.addModifiedCB(Scale_ScaleModifiedCB,this),this.registerAttribute(this.scale,"scale")}function Scale_ScaleModifiedCB(t,e){e.updateScale=!0,e.setModified()}function Translate(){Transform.call(this),this.className="Translate",this.attrType=eAttrType.Translate,this.translation=new Vector3DAttr(0,0,0),this.updateTranslation=!0,this.translation.addModifiedCB(Translate_TranslationModifiedCB,this),this.registerAttribute(this.translation,"translation")}function Translate_TranslationModifiedCB(t,e){e.updateTranslation=!0,e.setModified()}function MultiTargetObserver(){Evaluator.call(this),this.className="MultiTargetObserver",this.attrType=eAttrType.MultiTargetObserver,this.targetPosition=[],this.targets=new NumberAttr(0),this.position=new Vector3DAttr(0,0,0),this.distanceFromFirstTarget=new NumberAttr(0),this.affectPitch=new BooleanAttr(!0),this.affectHeading=new BooleanAttr(!0),this.resultPosition=new Vector3DAttr(0,0,0),this.resultPitch=new NumberAttr(0),this.resultHeading=new NumberAttr(0),this.registerAttribute(this.targets,"targets"),this.registerAttribute(this.position,"position"),this.registerAttribute(this.distanceFromFirstTarget,"distanceFromFirstTarget"),this.registerAttribute(this.affectPitch,"affectPitch"),this.registerAttribute(this.affectHeading,"affectHeading"),this.registerAttribute(this.resultPosition,"resultPosition"),this.registerAttribute(this.resultPitch,"resultPitch"),this.registerAttribute(this.resultHeading,"resultHeading")}function SerializeParams(){DirectiveParams.call(this),this.serialized=null}function SerializeDirective(){SGDirective.call(this),this.className="SerializeDirective",this.attrType=eAttrType.SerializeDirective,this.serialized=null}function CollideParams(){DirectiveParams.call(this),this.viewSpace=!1,this.viewMatrix=new Matrix4x4,this.worldMatrix=new Matrix4x4,this.detectCollisions=new Array}function CollideRec(t,e,i){this.model=t,this.tree=e,this.worldMatrix=new Matrix4x4,this.worldMatrix.loadMatrix(i)}function CollideDirective(){SGDirective.call(this),this.className="CollideDirective",this.attrType=eAttrType.CollideDirective,this.lastSelected=null,this.lastColliding=!1,this.lastCollidingDistance=FLT_MAX,this.name.setValueDirect("CollideDirective")}function HighlightTarget(){this.projMatrix=new Matrix4x4,this.viewMatrix=new Matrix4x4,this.worldMatrix=new Matrix4x4,this.camera=null,this.viewport=new Viewport,this.geometries=new Array,this.center=new Vector3D,this.highlightColor_r=0,this.highlightColor_g=0,this.highlightColor_b=0,this.highlightColor_a=0,this.highlightWidth=0}function HighlightParams(){DirectiveParams.call(this),this.projMatrix=new Matrix4x4,this.viewMatrix=new Matrix4x4,this.worldMatrix=new Matrix4x4,this.camera=null,this.viewport=new Viewport,this.targets=new Array}function HighlightDirective(){SGDirective.call(this),this.className="HighlightDirective",this.attrType=eAttrType.HighlightDirective,this.vertexBuffer=null,this.name.setValueDirect("HighlightDirective"),this.highlightType=new NumberAttr(eHighlightType.None),this.highlightColor=new ColorAttr(1,1,0,1),this.highlightWidth=new NumberAttr(5),this.highlightColor.addModifiedCB(HighlightDirective_HighlightColorModifiedCB,this),this.registerAttribute(this.highlightType,"highlightType"),this.registerAttribute(this.highlightColor,"highlightColor"),this.registerAttribute(this.highlightWidth,"highlightWidth")}function HighlightDirective_HighlightColorModifiedCB(t,e){e.highlightColorModified()}function ShadowParams(){DirectiveParams.call(this),this.worldMatrix=new Matrix4x4,this.dissolve=0,this.opacity=1,this.lights=[],this.modelID=0}function ShadowDirective(){SGDirective.call(this),this.className="ShadowDirective",this.attrType=eAttrType.ShadowDirective,this.program=null,this.shadowFBO=null,this.displayListObj=null,this.name.setValueDirect("ShadowDirective"),this.casterWorldPosition=new Vector3DAttr(0,0,0),this.registerAttribute(this.casterWorldPosition,"casterWorldPosition")}function ObjectMotionDesc(){this.validMembersMask=OBJECTMOTION_ALL_BITS,this.panVelocity=new Vector3D(0,0,0),this.linearVelocity=new Vector3D(0,0,0),this.angularVelocity=new Vector3D(0,0,0),this.scalarVelocity=new Vector3D(0,0,0),this.duration=0,this.stopOnCollision=!0}function ObjectMover(){Evaluator.call(this),this.className="ObjectMover",this.attrType=eAttrType.ObjectMover,this.targetObject=null,this.motionQueue=new Queue,this.activeMotion=null,this.activeDuration=0,this.lastCollisionDetected=!1,this.target=new StringAttr(""),this.timeIncrement=new NumberAttr(0),this.linearSpeed=new NumberAttr(0),this.angularSpeed=new NumberAttr(0),this.panVelocity=new Vector3DAttr,this.linearVelocity=new Vector3DAttr,this.angularVelocity=new Vector3DAttr,this.scalarVelocity=new Vector3DAttr,this.enabled.addModifiedCB(ObjectMover_EnabledModifiedCB,this),this.target.addModifiedCB(ObjectMover_TargetModifiedCB,this),this.registerAttribute(this.target,"target"),this.registerAttribute(this.timeIncrement,"timeIncrement"),this.registerAttribute(this.linearSpeed,"linearSpeed"),this.registerAttribute(this.angularSpeed,"angularSpeed")}function ObjectMover_EnabledModifiedCB(t,e){var i=t.getValueDirect();i||(e.motionQueue.clear(),e.panVelocity.setValueDirect(0,0,0),e.linearVelocity.setValueDirect(0,0,0),e.angularVelocity.setValueDirect(0,0,0),e.scalarVelocity.setValueDirect(0,0,0))}function ObjectMover_TargetModifiedCB(t,e){var i=t.getValueDirect().join(""),r=e.registry.find(i);r&&e.connectTarget(r)}function ObjectMover_TargetCollisionDetectedModifiedCB(t,e){var i=(t.getValueDirect(),t.getContainer().getAttribute("collisionList"));e.collisionDetected(i),e.lastCollisionDetected=i.Size()>0?!0:!1}function ObjectMover_TargetObstructionDetectedModifiedCB(t,e){var i=(t.getValueDirect(),t.getContainer().getAttribute("obstructionList"));e.obstructionDetected(i)}function AnimalMover(){ObjectMover.call(this),this.className="AnimalMover",this.attrType=eAttrType.AnimalMover,this.linearDirection=null}function WalkSimulator(){SceneInspector.call(this),this.className="WalkSimulator",this.attrType=eAttrType.WalkSimulator,this.sceneInspector_pivotDistanceValue=0,this.selector_computePivotDistanceValue=0,this.groundPlane=new PlaneAttr,this.linearDelta=new Vector3DAttr(0,0,0),this.angularDelta=new Vector3DAttr(0,0,0),this.linearSensitivity=new Vector3DAttr(1,1,1),this.angularSensitivity=new Vector3DAttr(1,1,1),this.resultLinear=new Vector3DAttr,this.resultAngular=new Vector3DAttr,this.enabled.addModifiedCB(WalkSimulator_EnabledModifiedCB,this),this.linearDelta.addModifiedCB(WalkSimulator_LinearDeltaModifiedCB,this),this.angularDelta.addModifiedCB(WalkSimulator_AngularDeltaModifiedCB,this),this.registerAttribute(this.groundPlane,"groundPlane"),this.registerAttribute(this.linearDelta,"linearDelta"),this.registerAttribute(this.angularDelta,"angularDelta"),this.registerAttribute(this.linearSensitivity,"linearSensitivity"),this.registerAttribute(this.angularSensitivity,"angularSensitivity"),this.registerAttribute(this.resultLinear,"resultLinear"),this.registerAttribute(this.resultAngular,"resultAngular"),this.viewRelativeXAxisRotation.setValueDirect(!0),this.viewRelativeYAxisRotation.setValueDirect(!0),this.viewRelativeZAxisRotation.setValueDirect(!0),this.groundPlane.normal.setValueDirect(0,1,0)}function WalkSimulator_EnabledModifiedCB(t,e){e.enabledModified()}function WalkSimulator_LinearDeltaModifiedCB(t,e){e.evaluate()}function WalkSimulator_AngularDeltaModifiedCB(t,e){e.evaluate()}function ScreenRect(){TriList.call(this),this.className="ScreenRect",this.attrType=eAttrType.ScreenRect,this.primitiveType=RC_TRIANGLE_STRIP,this.textureColorMask=new ColorAttr(0,0,0,1),this.registerAttribute(this.textureColorMask,"textureColorMask");var t=[-1,-1,1,-1,1,1,1,-1,1,1,1,1],e=[0,0,-1,0,0,-1,0,0,-1,0,0,-1],i=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];this.vertices.setValueDirect(t),this.normals.setValueDirect(e),this.colors.setValueDirect(i)}function MorphEffector(){Evaluator.call(this),this.className="MorphEffector",this.attrType=eAttrType.MorphEffector,this.morphAmt=new NumberAttr(0),this.morphIncr=new NumberAttr(0),this.sourceVertices=new NumberArrayAttr,this.targetVertices=new NumberArrayAttr,this.resultVertices=new NumberArrayAttr,this.registerAttribute(this.morphAmt,"morphAmt"),this.registerAttribute(this.morphIncr,"morphIncr"),this.registerAttribute(this.sourceVertices,"sourceVertices"),this.registerAttribute(this.targetVertices,"targetVertices"),this.registerAttribute(this.resultVertices,"resultVertices")}function Bone(){AttributeContainer.call(this),this.className="Bone",this.attrType=eAttrType.Bone,this.parent=null,this.children=[],this.translationMatrix=new Matrix4x4,this.rotationMatrix=new Matrix4x4,this.rotationQuat=new Quaternion,this.scaleMatrix=new Matrix4x4,this.pivotMatrix=new Matrix4x4,this.matrix=new Matrix4x4,this.restMatrix=new Matrix4x4,this.restMatrixInv=new Matrix4x4,this.parentMatrix=new Matrix4x4,this.boneMatrix=new Matrix4x4,this.updatePosition=!1,this.updateRotation=!1,this.updateScale=!1,this.updatePivot=!1,this.updateRestPosition=!1,this.updateRestRotation=!1,this.updateRestLength=!1,this.updateFalloffType=!1,this.updateParentTransform=!1,this.updateParentRestTransform=!1,this.name=new StringAttr(""),this.position=new Vector3DAttr(0,0,0),this.rotation=new Vector3DAttr(0,0,0),this.scale=new Vector3DAttr(1,1,1),this.pivot=new Vector3DAttr(0,0,0),this.restPosition=new Vector3DAttr(0,0,0),this.restRotation=new Vector3DAttr(0,0,0),this.restLength=new NumberAttr(0),this.strength=new NumberAttr(0),this.falloffType=new NumberAttr(eBoneFalloffType.InverseDistance),this.scaleBoneStrength=new BooleanAttr(!1),this.transform=new Matrix4x4Attr(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this.parentTransform=new Matrix4x4Attr(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this.restTransform=new Matrix4x4Attr(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this.parentRestTransform=new Matrix4x4Attr(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this.position.addModifiedCB(Bone_PositionModifiedCB,this),this.rotation.addModifiedCB(Bone_RotationModifiedCB,this),this.scale.addModifiedCB(Bone_ScaleModifiedCB,this),this.pivot.addModifiedCB(Bone_PivotModifiedCB,this),this.restPosition.addModifiedCB(Bone_RestPositionModifiedCB,this),this.restRotation.addModifiedCB(Bone_RestRotationModifiedCB,this),this.restLength.addModifiedCB(Bone_RestLengthModifiedCB,this),this.falloffType.addModifiedCB(Bone_FalloffTypeModifiedCB,this),this.parentTransform.addModifiedCB(Bone_ParentTransformModifiedCB,this),this.parentRestTransform.addModifiedCB(Bone_ParentRestTransformModifiedCB,this),this.registerAttribute(this.name,"name"),this.registerAttribute(this.position,"position"),this.registerAttribute(this.rotation,"rotation"),this.registerAttribute(this.scale,"scale"),this.registerAttribute(this.pivot,"pivot"),this.registerAttribute(this.restPosition,"restPosition"),this.registerAttribute(this.restRotation,"restRotation"),this.registerAttribute(this.restLength,"restLength"),this.registerAttribute(this.strength,"strength"),this.registerAttribute(this.falloffType,"falloffType"),this.registerAttribute(this.scaleBoneStrength,"scaleBoneStrength")}function Bone_PositionModifiedCB(t,e){e.updatePosition=!0}function Bone_RotationModifiedCB(t,e){e.updateRotation=!0}function Bone_ScaleModifiedCB(t,e){e.updateScale=!0}function Bone_PivotModifiedCB(t,e){e.updatePivot=!0}function Bone_RestPositionModifiedCB(t,e){e.updateRestPosition=!0}function Bone_RestRotationModifiedCB(t,e){e.updateRestRotation=!0}function Bone_RestLengthModifiedCB(t,e){e.updateRestLength=!0}function Bone_FalloffTypeModifiedCB(t,e){e.updateFalloffType=!0}function Bone_ParentTransformModifiedCB(t,e){e.updateParentTransform=!0}function Bone_ParentRestTransformModifiedCB(t,e){e.updateParentRestTransform=!0}function BoneEffector(){Evaluator.call(this),this.className="BoneEffector",this.attrType=eAttrType.BoneEffector,this.bones=[],this.verticesArray=[],this.normalsArray=[],this.resultVerticesArray=[],this.resultNormalsArray=[],this.boneFalloffValuesMap=[],this.falloffSums=[],this.updateVertices=!1,this.updateNormals=!1,this.vertices=new NumberArrayAttr,this.normals=new NumberArrayAttr,this.resultVertices=new NumberArrayAttr,this.resultNormals=new NumberArrayAttr,this.vertices.addModifiedCB(BoneEffector_VerticesModifiedCB,this),this.normals.addModifiedCB(BoneEffector_NormalsModifiedCB,this),this.registerAttribute(this.vertices,"vertices"),this.registerAttribute(this.normals,"normals"),this.registerAttribute(this.resultVertices,"resultVertices"),this.registerAttribute(this.resultNormals,"resultNormals")
}function BoneEffector_VerticesModifiedCB(t,e){e.updateVertices=!0}function BoneEffector_NormalsModifiedCB(t,e){e.updateNormals=!0}function Cube(){TriList.call(this),this.className="Cube",this.attrType=eAttrType.Cube,this.updateTriList=!0,this.transform=new Matrix4x4,this.updateTransform=!1,this.materialNode=new Material,this.updateMaterial=!1,this.color=new ColorAttr(1,1,1,1),this.opacity=new NumberAttr(1),this.position=new Vector3DAttr(0,0,0),this.rotation=new Vector3DAttr(0,0,0),this.scale=new Vector3DAttr(1,1,1),this.color.addModifiedCB(Cube_MaterialModifiedCB,this),this.opacity.addModifiedCB(Cube_MaterialModifiedCB,this),this.position.addModifiedCB(Cube_PositionModifiedCB,this),this.rotation.addModifiedCB(Cube_RotationModifiedCB,this),this.scale.addModifiedCB(Cube_ScaleModifiedCB,this),this.registerAttribute(this.color,"color"),this.registerAttribute(this.opacity,"opacity"),this.registerAttribute(this.position,"position"),this.registerAttribute(this.rotation,"rotation"),this.registerAttribute(this.scale,"scale");var t=[-.25,-.25,.25,-.25,.25,.25,-.25,.25,-.25,-.25,-.25,-.25,-.25,-.25,.25,-.25,.25,-.25,.25,-.25,-.25,.25,-.25,.25,-.25,-.25,.25,-.25,-.25,-.25,.25,-.25,-.25,-.25,-.25,.25,.25,-.25,-.25,-.25,.25,-.25,.25,.25,-.25,.25,-.25,-.25,-.25,-.25,-.25,-.25,.25,-.25,.25,-.25,.25,.25,.25,-.25,.25,.25,.25,.25,-.25,-.25,.25,.25,-.25,.25,-.25,.25,.25,.25,-.25,-.25,.25,.25,.25,.25,.25,.25,.25,-.25,-.25,.25,-.25,-.25,.25,.25,.25,-.25,.25,.25,.25,.25,-.25,.25,.25,-.25,-.25,.25,.25,-.25,.25,-.25,.25,.25],e=[-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1];this.vertices.setValue(t),this.normals.setValue(e),this.color.addTarget(this.materialNode.getAttribute("color")),this.opacity.addTarget(this.materialNode.getAttribute("opacity"))}function Cube_PositionModifiedCB(t,e){e.updateTransform=!0}function Cube_RotationModifiedCB(t,e){e.updateTransform=!0}function Cube_ScaleModifiedCB(t,e){e.updateTransform=!0}function Cube_MaterialModifiedCB(t,e){e.updateMaterial=!0}function SnapConnector(){AttributeContainer.call(this),this.className="SnapConnector",this.attrType=eAttrType.SnapConnector,this.name=new StringAttr,this.type=new StringAttr("default"),this.normal=new Vector3DAttr(0,0,0),this.connected=new BooleanAttr(!1),this.registerAttribute(this.name,"name"),this.registerAttribute(this.type,"type"),this.registerAttribute(this.normal,"normal"),this.registerAttribute(this.connected,"connected")}function GenericConnector(){SnapConnector.call(this),this.className="GenericConnector",this.attrType=eAttrType.GenericConnector,this.point=new SphereAttr,this.registerAttribute(this.point,"point")}function GenericConnectors(){AttributeVector.call(this,new GenericConnectorAllocator),this.className="GenericConnectors",this.attrType=eAttrType.GenericConnectors,this.appendParsedElements.setValueDirect(!0)}function GenericConnectorAllocator(){}function SocketConnector(){SnapConnector.call(this),this.className="SocketConnector",this.attrType=eAttrType.SocketConnector,this.slot=0,this.slot1=new SphereAttr,this.slot2=new SphereAttr,this.registerAttribute(this.slot1,"slot1"),this.registerAttribute(this.slot2,"slot2")}function SocketConnectors(){AttributeVector.call(this,new SocketConnectorAllocator),this.className="SocketConnectors",this.attrType=eAttrType.SocketConnectors,this.appendParsedElements.setValueDirect(!0)}function SocketConnectorAllocator(){}function PlugConnector(){SnapConnector.call(this),this.className="PlugConnector",this.attrType=eAttrType.PlugConnector,this.pin1=new SphereAttr,this.pin2=new SphereAttr,this.registerAttribute(this.pin1,"pin1"),this.registerAttribute(this.pin2,"pin2")}function PlugConnectors(){AttributeVector.call(this,new PlugConnectorAllocator),this.className="PlugConnectors",this.attrType=eAttrType.PlugConnectors,this.appendParsedElements.setValueDirect(!0)}function PlugConnectorAllocator(){}function PhysicsSimulator(){Evaluator.call(this),this.className="PhysicsSimulator",this.attrType=eAttrType.PhysicsSimulator,this.collisionConfiguration=null,this.dispatcher=null,this.overlappingPairCache=null,this.solver=null,this.world=null,this.physicsBodies=[],this.physicsShapes=[],this.bodyAdded=[],this.bodyModels=[],this.updateWorld=!1,this.updateBodies=!1,this.updateBodyPositions=[],this.lastBodies=[],this.timeIncrement=new NumberAttr(0),this.timeScale=new NumberAttr(1),this.gravity=new Vector3DAttr(0,-9.8,0),this.worldHalfExtents=new Vector3DAttr(1e4,1e4,1e4),this.bodies=new AttributeVector(new StringAttrAllocator),this.bodies.getAttribute("appendParsedElements").setValueDirect(!0),this.gravity.addModifiedCB(PhysicsSimulator_GravityModifiedCB,this),this.bodies.addModifiedCB(PhysicsSimulator_BodiesModifiedCB,this),this.registerAttribute(this.timeIncrement,"timeIncrement"),this.registerAttribute(this.timeScale,"timeScale"),this.registerAttribute(this.gravity,"gravity"),this.registerAttribute(this.worldHalfExtents,"worldHalfExtents"),this.registerAttribute(this.bodies,"bodies"),this.initPhysics()}function PhysicsSimulator_GravityModifiedCB(t,e){e.updateWorld=!0}function PhysicsSimulator_BodiesModifiedCB(t,e){e.bodiesModified()}function PhysicsSimulator_ModelVerticesModifiedCB(t,e){e.updatePhysicsShape(t.getContainer())}function PhysicsSimulator_ModelPositionModifiedCB(t,e){var i=e.getPhysicsBodyIndex(t.getContainer());i>=0&&-1==e.updateBodyPositions.indexOf(i)&&e.updateBodyPositions.push(i)}function PhysicsSimulator_ModelRotationModifiedCB(t,e){var i=e.getPhysicsBodyIndex(t.getContainer());i>=0&&-1==e.updateBodyPositions.indexOf(i)&&e.updateBodyPositions.push(i)}function PhysicsSimulator_ModelQuaternionModifiedCB(t,e){var i=e.getPhysicsBodyIndex(t.getContainer());i>=0&&-1==e.updateBodyPositions.indexOf(i)&&e.updateBodyPositions.push(i)}function PhysicsSimulator_ModelScaleModifiedCB(t,e){e.updatePhysicsShape(t.getContainer())}function PhysicsSimulator_ModelParentModifiedCB(t,e){e.updateBodies=!0}function PhysicsSimulator_ModelEnabledModifiedCB(t,e){e.modelEnabledModified(t.getContainer(),t.getValueDirect())}function PhysicsSimulator_ModelPhysicalPropertiesModifiedCB(t,e){e.modelPhysicalPropertiesModified(t.getContainer())}function SnapModelDescriptor(){AttributeContainer.call(this),this.className="SnapModelDescriptor",this.attrType=eAttrType.SnapModelDescriptor,this.name=new StringAttr,this.position=new Vector3DAttr,this.quaternion=new QuaternionAttr,this.registerAttribute(this.name,"name"),this.registerAttribute(this.position,"position"),this.registerAttribute(this.quaternion,"quaternion")}function SnapModelDescriptors(){AttributeVector.call(this,new SnapModelDescriptorAllocator),this.className="SnapModelDescriptors",this.attrType=eAttrType.SnapModelDescriptors,this.appendParsedElements.setValueDirect(!0)}function SnapModelDescriptorAllocator(){}function SnapRec(){this.model=null,this.matrix=null,this.surfaces=[],this.geometries=[],this.vertices_start=0,this.vertices_count=0,this.genericConnectors=[],this.plugConnectors=[],this.socketConnectors=[]}function SnapModel(){Model.call(this),this.className="SnapModel",this.attrType=eAttrType.SnapModel,this.snaps=[]}function Animator(){Evaluator.call(this),this.className="Animator",this.attrType=eAttrType.Animator,this.targetObject=null,this.timeIncrement=new NumberAttr,this.target=new StringAttr(""),this.target.addModifiedCB(Animator_TargetModifiedCB,this),this.registerAttribute(this.timeIncrement,"timeIncrement"),this.registerAttribute(this.target,"target")}function Animator_TargetModifiedCB(t,e){var i=t.getValueDirect().join(""),r=e.registry.find(i);r&&e.targetModified(r)}function Spinner(){Animator.call(this),this.className="Spinner",this.attrType=eAttrType.Spinner,this.targetCenter=new Vector3D,this.axisEndpoint=new Vector3DAttr(0,0,0),this.angularVelocity=new NumberAttr(0),this.registerAttribute(this.axisEndpoint,"axisEndpoint"),this.registerAttribute(this.angularVelocity,"angularVelocity")}function Ball(){Model.call(this),this.className="Ball",this.attrType=eAttrType.Ball,this.url.setValueDirect("objects/Sphere.lwo"),this.physicalProperties.mass.setValueDirect(8),this.physicalProperties.friction.setValueDirect(1.2),this.physicalProperties.restitution.setValueDirect(.1);var t=new GenericConnector;t.name.setValueDirect("PositiveX"),t.normal.setValueDirect(1,0,0),t.point.center.setValueDirect(1,0,0),t.point.radius.setValueDirect(.25),this.genericConnectors.push_back(t),t=new GenericConnector,t.name.setValueDirect("PositiveY"),t.normal.setValueDirect(0,1,0),t.point.center.setValueDirect(0,1,0),t.point.radius.setValueDirect(.25),this.genericConnectors.push_back(t),t=new GenericConnector,t.name.setValueDirect("PositiveZ"),t.normal.setValueDirect(0,0,1),t.point.center.setValueDirect(0,0,1),t.point.radius.setValueDirect(.25),this.genericConnectors.push_back(t),t=new GenericConnector,t.name.setValueDirect("NegativeX"),t.normal.setValueDirect(-1,0,0),t.point.center.setValueDirect(-1,0,0),t.point.radius.setValueDirect(.25),this.genericConnectors.push_back(t),t=new GenericConnector,t.name.setValueDirect("NegativeY"),t.normal.setValueDirect(0,-1,0),t.point.center.setValueDirect(0,-1,0),t.point.radius.setValueDirect(.25),this.genericConnectors.push_back(t),t=new GenericConnector,t.name.setValueDirect("NegativeZ"),t.normal.setValueDirect(0,0,-1),t.point.center.setValueDirect(0,0,-1),t.point.radius.setValueDirect(.25),this.genericConnectors.push_back(t)}function Beam(){Model.call(this),this.className="Beam",this.attrType=eAttrType.Beam,this.url.setValueDirect("objects/Beam.lwo"),this.physicalProperties.mass.setValueDirect(35),this.physicalProperties.friction.setValueDirect(1.2),this.physicalProperties.restitution.setValueDirect(.1)}function Box(){Model.call(this),this.className="Box",this.attrType=eAttrType.Box,this.url.setValueDirect("objects/Cube.lwo"),this.physicalProperties.mass.setValueDirect(5),this.physicalProperties.friction.setValueDirect(1.2),this.physicalProperties.restitution.setValueDirect(.1);var t=new GenericConnector;t.name.setValueDirect("PositiveX"),t.normal.setValueDirect(1,0,0),t.point.center.setValueDirect(1,0,0),t.point.radius.setValueDirect(.25),this.genericConnectors.push_back(t),t=new GenericConnector,t.name.setValueDirect("PositiveY"),t.normal.setValueDirect(0,1,0),t.point.center.setValueDirect(0,1,0),t.point.radius.setValueDirect(.25),this.genericConnectors.push_back(t),t=new GenericConnector,t.name.setValueDirect("PositiveZ"),t.normal.setValueDirect(0,0,1),t.point.center.setValueDirect(0,0,1),t.point.radius.setValueDirect(.25),this.genericConnectors.push_back(t),t=new GenericConnector,t.name.setValueDirect("NegativeX"),t.normal.setValueDirect(-1,0,0),t.point.center.setValueDirect(-1,0,0),t.point.radius.setValueDirect(.25),this.genericConnectors.push_back(t),t=new GenericConnector,t.name.setValueDirect("NegativeY"),t.normal.setValueDirect(0,-1,0),t.point.center.setValueDirect(0,-1,0),t.point.radius.setValueDirect(.25),this.genericConnectors.push_back(t),t=new GenericConnector,t.name.setValueDirect("NegativeZ"),t.normal.setValueDirect(0,0,-1),t.point.center.setValueDirect(0,0,-1),t.point.radius.setValueDirect(.25),this.genericConnectors.push_back(t)}function Elbow(){Model.call(this),this.className="Elbow",this.attrType=eAttrType.Elbow,this.url.setValueDirect("objects/Elbow.lwo"),this.physicalProperties.mass.setValueDirect(5),this.physicalProperties.friction.setValueDirect(1.2),this.physicalProperties.restitution.setValueDirect(.1);var t=new GenericConnector;t.name.setValueDirect("NegativeZ"),t.normal.setValueDirect(0,0,-1),t.point.center.setValueDirect(0,.42,-1.3),t.point.radius.setValueDirect(.25),this.genericConnectors.push_back(t),t=new GenericConnector,t.name.setValueDirect("NegativeY"),t.normal.setValueDirect(0,-1,0),t.point.center.setValueDirect(0,-1.42,.3),t.point.radius.setValueDirect(.25),this.genericConnectors.push_back(t)}function Gear(){Model.call(this),this.className="Gear",this.attrType=eAttrType.Gear,this.url.setValueDirect("objects/Gear.lwo"),this.physicalProperties.mass.setValueDirect(5),this.physicalProperties.friction.setValueDirect(1.2),this.physicalProperties.restitution.setValueDirect(.1)}function Plank(){Model.call(this),this.className="Plank",this.attrType=eAttrType.Plank,this.url.setValueDirect("objects/Plank.lwo"),this.physicalProperties.mass.setValueDirect(3),this.physicalProperties.friction.setValueDirect(1.2),this.physicalProperties.restitution.setValueDirect(.1)}function Pyramid(){Model.call(this),this.className="Pyramid",this.attrType=eAttrType.Pyramid,this.url.setValueDirect("objects/Pyramid.lwo"),this.physicalProperties.mass.setValueDirect(10),this.physicalProperties.friction.setValueDirect(1.2),this.physicalProperties.restitution.setValueDirect(.1);var t=new GenericConnector;t.name.setValueDirect("PositiveX"),t.normal.setValueDirect(1,0,0),t.point.center.setValueDirect(1,0,0),t.point.radius.setValueDirect(.25),this.genericConnectors.push_back(t),t=new GenericConnector,t.name.setValueDirect("PositiveY"),t.normal.setValueDirect(0,1,0),t.point.center.setValueDirect(0,1,0),t.point.radius.setValueDirect(.25),this.genericConnectors.push_back(t),t=new GenericConnector,t.name.setValueDirect("PositiveZ"),t.normal.setValueDirect(0,0,1),t.point.center.setValueDirect(0,0,1),t.point.radius.setValueDirect(.25),this.genericConnectors.push_back(t),t=new GenericConnector,t.name.setValueDirect("NegativeX"),t.normal.setValueDirect(-1,0,0),t.point.center.setValueDirect(-1,0,0),t.point.radius.setValueDirect(.25),this.genericConnectors.push_back(t),t=new GenericConnector,t.name.setValueDirect("NegativeY"),t.normal.setValueDirect(0,-1,0),t.point.center.setValueDirect(0,-1,0),t.point.radius.setValueDirect(.25),this.genericConnectors.push_back(t),t=new GenericConnector,t.name.setValueDirect("NegativeZ"),t.normal.setValueDirect(0,0,-1),t.point.center.setValueDirect(0,0,-1),t.point.radius.setValueDirect(.25),this.genericConnectors.push_back(t)}function Ring(){Model.call(this),this.className="Ring",this.attrType=eAttrType.Ring,this.url.setValueDirect("objects/Ring.lwo"),this.physicalProperties.mass.setValueDirect(5),this.physicalProperties.friction.setValueDirect(1.2),this.physicalProperties.restitution.setValueDirect(.1)}function Tube(){Model.call(this),this.className="Tube",this.attrType=eAttrType.Tube,this.url.setValueDirect("objects/Tube.lwo"),this.physicalProperties.mass.setValueDirect(10),this.physicalProperties.friction.setValueDirect(1.2),this.physicalProperties.restitution.setValueDirect(.1);var t=new GenericConnector;t.name.setValueDirect("PositiveX"),t.normal.setValueDirect(1,0,0),t.point.center.setValueDirect(1,0,0),t.point.radius.setValueDirect(.25),this.genericConnectors.push_back(t),t=new GenericConnector,t.name.setValueDirect("PositiveY"),t.normal.setValueDirect(0,1,0),t.point.center.setValueDirect(0,1,0),t.point.radius.setValueDirect(.25),this.genericConnectors.push_back(t),t=new GenericConnector,t.name.setValueDirect("PositiveZ"),t.normal.setValueDirect(0,0,1),t.point.center.setValueDirect(0,0,1),t.point.radius.setValueDirect(.25),this.genericConnectors.push_back(t),t=new GenericConnector,t.name.setValueDirect("NegativeX"),t.normal.setValueDirect(-1,0,0),t.point.center.setValueDirect(-1,0,0),t.point.radius.setValueDirect(.25),this.genericConnectors.push_back(t),t=new GenericConnector,t.name.setValueDirect("NegativeY"),t.normal.setValueDirect(0,-1,0),t.point.center.setValueDirect(0,-1,0),t.point.radius.setValueDirect(.25),this.genericConnectors.push_back(t),t=new GenericConnector,t.name.setValueDirect("NegativeZ"),t.normal.setValueDirect(0,0,-1),t.point.center.setValueDirect(0,0,-1),t.point.radius.setValueDirect(.25),this.genericConnectors.push_back(t)}function Wall(){Model.call(this),this.className="Wall",this.attrType=eAttrType.Wall,this.url.setValueDirect("objects/Wall.lwo"),this.physicalProperties.mass.setValueDirect(15),this.physicalProperties.friction.setValueDirect(1.2),this.physicalProperties.restitution.setValueDirect(.1);var t=new GenericConnector;t.name.setValueDirect("PositiveX"),t.normal.setValueDirect(1,0,0),t.point.center.setValueDirect(1,0,0),t.point.radius.setValueDirect(.25),this.genericConnectors.push_back(t),t=new GenericConnector,t.name.setValueDirect("PositiveY"),t.normal.setValueDirect(0,1,0),t.point.center.setValueDirect(0,1,0),t.point.radius.setValueDirect(.25),this.genericConnectors.push_back(t),t=new GenericConnector,t.name.setValueDirect("PositiveZ"),t.normal.setValueDirect(0,0,1),t.point.center.setValueDirect(0,0,1),t.point.radius.setValueDirect(.25),this.genericConnectors.push_back(t),t=new GenericConnector,t.name.setValueDirect("NegativeX"),t.normal.setValueDirect(-1,0,0),t.point.center.setValueDirect(-1,0,0),t.point.radius.setValueDirect(.25),this.genericConnectors.push_back(t),t=new GenericConnector,t.name.setValueDirect("NegativeY"),t.normal.setValueDirect(0,-1,0),t.point.center.setValueDirect(0,-1,0),t.point.radius.setValueDirect(.25),this.genericConnectors.push_back(t),t=new GenericConnector,t.name.setValueDirect("NegativeZ"),t.normal.setValueDirect(0,0,-1),t.point.center.setValueDirect(0,0,-1),t.point.radius.setValueDirect(.25),this.genericConnectors.push_back(t)}function Wedge(){Model.call(this),this.className="Wedge",this.attrType=eAttrType.Wedge,this.url.setValueDirect("objects/Wedge.lwo"),this.physicalProperties.mass.setValueDirect(25),this.physicalProperties.friction.setValueDirect(1.2),this.physicalProperties.restitution.setValueDirect(.1)}function getEventTypeByName(t){var e=eEventNameMap[t];if(void 0==e&&-1!=t.indexOf("VK")){var i=t,r="",o=t.indexOf(".");-1!=o&&(i=t.substring(0,o),r=t.substring(o+1));var n=eKeyCodeMap[i];if(n)switch(r){case"Down":e=eEventType.KeyDown_First+n;break;case"Up":default:e=eEventType.KeyUp_First+n}}return e}function Event(t,e,i){AttributeContainer.call(this),this.className="Event",this.type=t||eEventType.Unknown,this.time=e||0,this.userData=i||null}function InputEvent(t,e,i,r,o,n){Event.call(this,t,e,n),this.className="InputEvent",this.inputId=i||0,this.modifiers=r||0,this.state=o||0}function MouseEvent(t,e,i,r,o,n,a,s){InputEvent.call(this,t,e,i,r,o,s),this.className="MouseEvent",this.x=n||0,this.y=a||0}function KeyboardEvent(t,e,i,r,o,n){InputEvent.call(this,t,e,i,r,o,n),this.className="KeyboardEvent"}function MouseEventState(){this.leftButtonDown=!1,this.middleButtonDown=!1,this.rightButtonDown=!1}function EventAdapter(){AttributeContainer.call(this),this.className="EventAdapter",this.mouseState=new MouseEventState,this.name=new StringAttr("EventAdapter"),this.registerAttribute(this.name,"name")}function EventListener(){Agent.call(this),this.className="EventListener",this.events=[],this.listen=new BooleanAttr(!0),this.trigger=new StringAttr(""),this.numResponses=new NumberAttr(1),this.event=new StringAttr(""),this.event.addModifiedCB(EventListener_EventModifiedCB,this),this.registerAttribute(this.listen,"listen"),this.registerAttribute(this.trigger,"trigger"),this.registerAttribute(this.numResponses,"numResponses"),this.registerAttribute(this.event,"event")}function EventListener_EventModifiedCB(t,e){var i=getEventTypeByName(t.getValueDirect().join(""));e.addEventType(i)}function EventMgr(){AttributeContainer.call(this),this.className="EventMgr",this.listeners=[],this.name=new StringAttr("EventMgr"),this.registerAttribute(this.name,"name")}function DeviceHandler(){EventListener.call(this),this.className="DeviceHandler",this.attrType=eAttrType.DeviceHandler,this.inputMessage=new NumberAttr(0),this.inputId=new NumberAttr(0),this.inputModifier=new NumberAttr(0),this.inputState=new NumberAttr(0),this.prevInputState=new NumberAttr(0),this.output=new StringAttr(""),this.registerAttribute(this.inputMessage,"inputMessage"),this.registerAttribute(this.inputId,"inputId"),this.registerAttribute(this.inputModifier,"inputModifier"),this.registerAttribute(this.inputState,"inputState"),this.registerAttribute(this.prevInputState,"prevInputState"),this.registerAttribute(this.output,"output"),this.numResponses.setValueDirect(-1)}function MouseHandler(){DeviceHandler.call(this),this.className="MouseHandler",this.attrType=eAttrType.MouseHandler,this.name.setValueDirect("MouseHandler"),this.lastX=0,this.lastY=0,this.x=new NumberAttr(0),this.y=new NumberAttr(0),this.deltaX=new NumberAttr(0),this.deltaY=new NumberAttr(0),this.delta=new Vector2DAttr(0,0),this.registerAttribute(this.x,"deviceX"),this.registerAttribute(this.y,"deviceY"),this.registerAttribute(this.deltaX,"deltaX"),this.registerAttribute(this.deltaY,"deltaY"),this.registerAttribute(this.delta,"delta"),this.addEventType(eEventType.MouseMove),this.addEventType(eEventType.MouseLeftDown)}function KeyboardHandler(){DeviceHandler.call(this),this.className="KeyboardHandler",this.attrType=eAttrType.KeyboardHandler,this.name.setValueDirect("KeyboardHandler"),this.keyString=new StringAttr,this.registerAttribute(this.keyString,"keyString")}function Command(){EventListener.call(this),this.className="Command",this.attrType=eAttrType.Command,this.borrowedAttributes=[],this.attributeValuePairs=[],this.attributeRefPairs=[],this.target=new StringAttr(""),this.registerAttribute(this.target,"target")}function AppendNodeCommand(){Command.call(this),this.className="AppendNodeCommand",this.attrType=eAttrType.AppendNode,this.parent=new StringAttr(""),this.child=new StringAttr(""),this.parentNode=null,this.childNode=null,this.parent.addModifiedCB(AppendNodeCommand_ParentModifiedCB,this),this.child.addModifiedCB(AppendNodeCommand_ChildModifiedCB,this),this.registerAttribute(this.parent,"parent"),this.registerAttribute(this.child,"child")}function AppendNodeCommand_ParentModifiedCB(t,e){var i=t.getValueDirect().join("");e.parentNode=e.registry.find(i)}function AppendNodeCommand_ChildModifiedCB(t,e){var i=t.getValueDirect().join("");e.childNode=e.registry.find(i)}function SetCommand(){Command.call(this),this.className="Set",this.attrType=eAttrType.Set,this.target.addModifiedCB(SetCommand_TargetModifiedCB,this)}function SetCommand_TargetModifiedCB(t,e){var i=t.getValueDirect().join(""),r=i.split(",");e.targets.length=0;for(var o=0;o<r.length;o++){var n=e.registry.find(r[o]);n&&e.registerTargetAttributes(n,r[o])}setAttributeBin(e.attributeValuePairs)}function ConnectionDesc(){this.sourceContainer=null,this.targetContainer=null,this.sourceAttribute=null,this.targetAttribute=null,this.sourceAttributeName="",this.targetAttributeName="",this.sourceIndex=-1,this.targetIndex=-1}function registerConnectionHelper(t,e,i){gConnectionHelpers[t]=new Pair(e,i)}function ConnectAttributesCommand(){Command.call(this),this.className="ConnectAttributes",this.attrType=eAttrType.ConnectAttributes,this.connections=new Stack,this.connectionHelper=new Pair(null,null),this.sourceContainer=new StringAttr(""),this.targetContainer=new StringAttr(""),this.sourceAttribute=new StringAttr(""),this.targetAttribute=new StringAttr(""),this.source=new StringAttr(""),this.negate=new BooleanAttr(!1),this.persist=new BooleanAttr(!0),this.connectionType=new StringAttr(""),this.source.addTarget(this.sourceAttribute),this.target.addTarget(this.targetAttribute),this.sourceContainer.addModifiedCB(ConnectAttributesCommand_SourceContainerModifiedCB,this),this.targetContainer.addModifiedCB(ConnectAttributesCommand_TargetContainerModifiedCB,this),this.sourceAttribute.addModifiedCB(ConnectAttributesCommand_SourceAttributeModifiedCB,this),this.targetAttribute.addModifiedCB(ConnectAttributesCommand_TargetAttributeModifiedCB,this),this.connectionType.addModifiedCB(ConnectAttributesCommand_ConnectionTypeModifiedCB,this),this.negate.addModifiedCB(ConnectAttributesCommand_NegateModifiedCB,this),this.registerAttribute(this.sourceContainer,"sourceContainer"),this.registerAttribute(this.sourceContainer,"sourceEvaluator"),this.registerAttribute(this.targetContainer,"targetContainer"),this.registerAttribute(this.sourceAttribute,"sourceAttribute"),this.registerAttribute(this.sourceAttribute,"sourceOutput"),this.registerAttribute(this.targetAttribute,"targetAttribute"),this.registerAttribute(this.source,"source"),this.registerAttribute(this.negate,"negate"),this.registerAttribute(this.persist,"persist"),this.registerAttribute(this.connectionType,"connectionType")}function ConnectAttributesCommand_SourceContainerModifiedCB(t,e){0==e.connections.length()&&e.connections.push(new ConnectionDesc);var i=e.connections.top();i.sourceContainer=e.registry.find(t.getValueDirect().join(""))}function ConnectAttributesCommand_TargetContainerModifiedCB(t,e){0==e.connections.length()&&e.connections.push(new ConnectionDesc);var i=e.connections.top();i.targetContainer=e.registry.find(t.getValueDirect().join(""))}function ConnectAttributesCommand_SourceAttributeModifiedCB(t,e){var i=null,r=-1;0==e.connections.length()&&e.connections.push(new ConnectionDesc);var o=e.connections.top();if(o.sourceContainer){var n=t.getValueDirect().join("").split(":");i=o.sourceContainer.getAttribute(n[0]),n.length>1&&(r=n[1])}else i=e.registry.find(t.getValueDirect().join("")),i&&(o.sourceContainer=i.getContainer(),o.sourceContainer||(o.sourceContainer=i));o.sourceAttribute=i,o.sourceAttributeName=t.getValueDirect().join(""),o.sourceIndex=r,o.sourceAttribute&&o.targetAttribute&&(e.connections.push(new ConnectionDesc),e.connections.top().sourceContainer=o.sourceContainer,e.connections.top().targetContainer=o.targetContainer)}function ConnectAttributesCommand_TargetAttributeModifiedCB(t,e){var i=null,r=-1;0==e.connections.length()&&e.connections.push(new ConnectionDesc);var o=e.connections.top();if(o.targetContainer){var n=t.getValueDirect().join("").split(":");i=o.targetContainer.getAttribute(n[0]),n.length>1&&(r=n[1])}else i=e.registry.find(t.getValueDirect().join("")),i&&(o.targetContainer=i.getContainer(),o.targetContainer||(o.targetContainer=i));o.targetAttribute=i,o.targetAttributeName=t.getValueDirect().join(""),o.targetIndex=r,o.sourceAttribute&&o.targetAttribute&&(e.connections.push(new ConnectionDesc),e.connections.top().sourceContainer=o.sourceContainer,e.connections.top().targetContainer=o.targetContainer)}function ConnectAttributesCommand_ConnectionTypeModifiedCB(t,e){var i=gConnectionHelpers[t.getValueDirect().join("")];i&&(e.connectionHelper.first=i.first,e.connectionHelper.second=i.second)}function ConnectAttributesCommand_NegateModifiedCB(t,e){var i=t.getValueDirect();i?(e.className="DisconnectAttributes",e.attrType=eAttrType.DisconnectAttributes):(e.className="ConnectAttributes",e.attrType=eAttrType.ConnectAttributes)}function AutoInterpolateCommand(){Command.call(this),this.className="AutoInterpolate",this.attrType=eAttrType.AutoInterpolate,this.kfi=null,this.numValueChannels=0,this.numReferenceChannels=0,this.numChannels=0,this.shape=new NumberAttr(eKeyframeShape.Linear),this.duration=new NumberAttr(1),this.preBehavior=new NumberAttr(eEndBehavior.Constant),this.postBehavior=new NumberAttr(eEndBehavior.Constant),this.renderAndRelease=new BooleanAttr(!0),this.target.addModifiedCB(AutoInterpolateCommand_TargetModifiedCB,this),this.registerAttribute(this.shape,"shape"),this.registerAttribute(this.duration,"duration"),this.registerAttribute(this.preBehavior,"preBehavior"),this.registerAttribute(this.postBehavior,"postBehavior"),this.registerAttribute(this.renderAndRelease,"renderAndRelease")}function AutoInterpolateCommand_TargetModifiedCB(t,e){var i=t.getValueDirect().join(""),r=i.split(",");e.targets.length=0;for(var o=0;o<r.length;o++){var n=e.registry.find(r[o]);n&&e.registerTargetAttributes(n,r[o])}setAttributeBin(e.attributeValuePairs),setAttributePairs(e.attributeRefPairs)}function MotionInterpolateCommand(){AutoInterpolateCommand.call(this),this.className="MotionInterpolateCommand",this.startPosition=new Vector3DAttr,this.endPosition=new Vector3DAttr,this.resultPosition=new Vector3DAttr,this.positionControl=new Vector3DAttr,this.easeIn=new BooleanAttr(!0),this.easeOut=new BooleanAttr(!0),this.midPosition=new Vector3DAttr,this.registerAttribute(this.startPosition,"startPosition"),this.registerAttribute(this.endPosition,"endPosition"),this.registerAttribute(this.resultPosition,"resultPosition"),this.registerAttribute(this.positionControl,"positionControl"),this.registerAttribute(this.easeIn,"easeIn"),this.registerAttribute(this.easeOut,"easeOut")}function MotionInterpolateCommand_ResultPositionModifiedCB(t){var e=t.getValueDirect();OutputDebugMsg("x: "+e.x+" y: "+e.y+" z: "+e.z+"\n")}function LocateCommand(){Command.call(this),this.className="LocateCommand",this.attrType=eAttrType.Locate,this.targetNode=null,this.directive=new BBoxDirective,this.locator=new BBoxLocator,this.inspector=null,this.duration=new NumberAttr(1),this.transition=new BooleanAttr(!0),this.updateClipPlanes=new BooleanAttr(!1),this.shape=new NumberAttr(eKeyframeShape.TCB),this.easeIn=new BooleanAttr(!0),this.easeOut=new BooleanAttr(!0),this.resultPosition=new Vector3DAttr,this.resultFarDistance=new NumberAttr,this.resultWidth=new NumberAttr,this.target.addModifiedCB(LocateCommand_TargetModifiedCB,this),this.registerAttribute(this.duration,"duration"),this.registerAttribute(this.transition,"transition"),this.registerAttribute(this.updateClipPlanes,"updateClipPlanes"),this.registerAttribute(this.shape,"shape"),this.registerAttribute(this.easeIn,"easeIn"),this.registerAttribute(this.easeOut,"easeOut"),this.registerAttribute(this.resultPosition,"resultPosition"),this.registerAttribute(this.resultFarDistance,"resultFarDistance"),this.registerAttribute(this.resultWidth,"resultWidth"),this.registerAttribute(this.locator.getAttribute("closeness"),"closeness"),this.registerAttribute(this.locator.getAttribute("resultPivotDistance"),"resultPivotDistance")}function LocateCommand_TargetModifiedCB(t,e){var i=t.getValueDirect().join(""),r=e.registry.find(i);r?(e.targetNode=r,e.inspector=e.registry.find("SceneInspector")):console.debug("TODO: "+arguments.callee.name)}function PlayCommand(){Command.call(this),this.className="Play",this.attrType=eAttrType.Play,this.evaluators=[],this.negate=new BooleanAttr(!1),this.registerAttribute(this.negate,"negate"),this.target.addModifiedCB(PlayCommand_TargetModifiedCB,this),this.negate.addModifiedCB(PlayCommand_NegateModifiedCB,this)}function PlayCommand_TargetModifiedCB(t,e){var i=t.getValueDirect().join(""),r=i.split(",");e.targets.length=0;for(var o=0;o<r.length;o++){var n=e.registry.find(r[o]);n&&(e.evaluators[o]=n)}}function PlayCommand_NegateModifiedCB(t,e){var i=t.getValueDirect();i?(e.className="Pause",e.attrType=eAttrType.Pause):(e.className="Play",e.attrType=eAttrType.Play)}function RemoveCommand(){Command.call(this),this.className="RemoveCommand",this.attrType=eAttrType.Remove,this.targetAttribute=null,this.target.addModifiedCB(RemoveCommand_TargetModifiedCB,this)}function RemoveCommand_TargetModifiedCB(t,e){var i=t.getValueDirect().join("");e.targetAttribute=e.registry.find(i)}function StopCommand(){Command.call(this),this.className="Stop",this.attrType=eAttrType.Stop,this.evaluators=[],this.target.addModifiedCB(StopCommand_TargetModifiedCB,this)}function StopCommand_TargetModifiedCB(t,e){var i=t.getValueDirect().join(""),r=i.split(",");e.targets.length=0;for(var o=0;o<r.length;o++){var n=e.registry.find(r[o]);n&&(e.evaluators[o]=n)}}function CommandSequence(){Command.call(this),this.className="CommandSequence",this.attrType=eAttrType.CommandSequence,this.sequence=[]}function CommandMgr(){AttributeContainer.call(this),this.className="CommandMgr",this.commandSeqStack=new Stack,this.name=new StringAttr("CommandMgr"),this.registerAttribute(this.name,"name")}function CommandMgr_CommandTriggerModifiedCB(t,e){this.createCommandTrigger(t,e)}function AttributeTrigger(t,e,i,r,o,n){this.input=t,this.trigger=e,this.target=i,this.lastValues=[],this.input.getValue(this.lastValues),this.attrType=eAttrType.AttributeTrigger,this.item=r,this.not=o,this.executionCount=n,this.input.addModifiedCB(AttributeTrigger_InputModifiedCB,this);
var a=this.input.getLength();1==a&&(this.item=0)}function AttributeTrigger_InputModifiedCB(t,e){e.execute()}function BwRegistry(){AttributeRegistry.call(this),this.className="BwRegistry",this.attrType=eAttrType.AttributeRegistry,this.rootPtr=new ReferenceAttr(null),this.subtreePtr=new ReferenceAttr(null),this.sgPointer=new StringAttr(""),this.maxAnimationTimeInSecs=new NumberAttr(0),this.rootPtr.addModifiedCB(BwRegistry_RootPtrModifiedCB,this),this.sgPointer.addModifiedCB(BwRegistry_SgPointerModifiedCB,this),this.registerAttribute(this.rootPtr,"rootPtr"),this.registerAttribute(this.subtreePtr,"subtreePtr"),this.registerAttribute(this.sgPointer,"sgPointer"),this.registerAttribute(this.maxAnimationTimeInSecs,"maxAnimationTimeInSecs"),this.registerByName(this,"NodeMgr"),this.registerByName(this,"EvaluatorMgr")}function BwRegistry_RootPtrModifiedCB(t){t.getValueDirect()}function BwRegistry_SgPointerModifiedCB(t,e){e.sgPointerModified()}function BwSceneInspector(){SceneInspector.call(this),this.className="BwSceneInspector",this.attrType=eAttrType.SceneInspector,this.viewport=new Viewport,this.worldUnitsPerPixel=new Vector2D,this.clickPosWorld=new Vector3D,this.last_d3=0,this.translationSensitivity=new Vector3DAttr(1,1,1),this.panSensitivity=new Vector3DAttr(1,1,1),this.trackSensitivity=new Vector3DAttr(1,1,1),this.rotationSensitivity=new Vector3DAttr(1,1,1),this.zoomSensitivity=new NumberAttr(1),this.invertedTranslationDelta=new Vector3DAttr(0,0,0),this.invertedPanDelta=new Vector3DAttr(0,0,0),this.invertedTrackDelta=new Vector3DAttr(0,0,0),this.invertedRotationDelta=new Vector3DAttr(0,0,0),this.zoomDelta=new NumberAttr(0),this.invertedZoomDelta=new NumberAttr(0),this.selectionOccurred=new BooleanAttr(!1),this.viewRelativeTranslationDelta=new Vector3DAttr(0,0,0),this.translationDelta.addModifiedCB(BwSceneInspector_TranslationDeltaModifiedCB,this),this.panDelta.addModifiedCB(BwSceneInspector_PanDeltaModifiedCB,this),this.trackDelta.addModifiedCB(BwSceneInspector_TrackDeltaModifiedCB,this),this.rotationDelta.addModifiedCB(BwSceneInspector_RotationDeltaModifiedCB,this),this.invertedTranslationDelta.addModifiedCB(BwSceneInspector_InvertedTranslationDeltaModifiedCB,this),this.invertedPanDelta.addModifiedCB(BwSceneInspector_InvertedPanDeltaModifiedCB,this),this.invertedTrackDelta.addModifiedCB(BwSceneInspector_InvertedTrackDeltaModifiedCB,this),this.invertedRotationDelta.addModifiedCB(BwSceneInspector_InvertedRotationDeltaModifiedCB,this),this.zoomDelta.addModifiedCB(BwSceneInspector_ZoomDeltaModifiedCB,this),this.invertedZoomDelta.addModifiedCB(BwSceneInspector_InvertedZoomDeltaModifiedCB,this),this.selectionOccurred.addModifiedCB(BwSceneInspector_SelectionOccurredCB,this),this.viewRelativeTranslationDelta.addModifiedCB(BwSceneInspector_TrackDeltaModifiedCB,this),this.registerAttribute(this.translationSensitivity,"translationSensitivity"),this.registerAttribute(this.panSensitivity,"panSensitivity"),this.registerAttribute(this.trackSensitivity,"trackSensitivity"),this.registerAttribute(this.rotationSensitivity,"rotationSensitivity"),this.registerAttribute(this.zoomSensitivity,"zoomSensitivity"),this.registerAttribute(this.invertedTranslationDelta,"invertedTranslationDelta"),this.registerAttribute(this.invertedPanDelta,"invertedPanDelta"),this.registerAttribute(this.invertedTrackDelta,"invertedTrackDelta"),this.registerAttribute(this.invertedRotationDelta,"invertedRotationDelta"),this.registerAttribute(this.zoomDelta,"zoomDelta"),this.registerAttribute(this.invertedZoomDelta,"invertedZoomDelta"),this.registerAttribute(this.selectionOccurred,"selectionOccurred"),this.registerAttribute(this.viewRelativeTranslationDelta,"viewRelativeTranslationDelta"),this.orphan.setValueDirect(!0),this.enabled.addModifiedCB(BwSceneInspector_EnabledModifiedCB,this)}function BwSceneInspector_TranslationDeltaModifiedCB(t,e){var i=e.enabled.getValueDirect();i&&e.translate(t.getValueDirect())}function BwSceneInspector_PanDeltaModifiedCB(t,e){var i=e.enabled.getValueDirect();i&&e.pan(t.getValueDirect())}function BwSceneInspector_TrackDeltaModifiedCB(t,e){var i=e.enabled.getValueDirect();i&&e.track(t.getValueDirect())}function BwSceneInspector_RotationDeltaModifiedCB(t,e){var i=e.enabled.getValueDirect();i&&e.rotate(t.getValueDirect())}function BwSceneInspector_InvertedTranslationDeltaModifiedCB(t,e){var i=e.enabled.getValueDirect();if(i){var r=t.getValueDirect();r.x*=-1,r.y*=-1,r.z*=-1,e.translate(r),(0!=r.x||0!=r.y||0!=r.z)&&alert("rotate")}}function BwSceneInspector_InvertedPanDeltaModifiedCB(t,e){var i=e.enabled.getValueDirect();if(i){var r=t.getValueDirect();r.x*=-1,r.y*=-1,r.z*=-1,e.pan(r)}}function BwSceneInspector_InvertedTrackDeltaModifiedCB(t,e){var i=e.enabled.getValueDirect();if(i){var r=t.getValueDirect();r.x*=-1,r.y*=-1,r.z*=-1,e.track(r)}}function BwSceneInspector_InvertedRotationDeltaModifiedCB(t,e){var i=e.enabled.getValueDirect();if(i){var r=t.getValueDirect();r.x*=-1,r.y*=-1,r.z*=-1,e.rotate(r)}}function BwSceneInspector_ZoomDeltaModifiedCB(t,e){var i=e.enabled.getValueDirect();i&&e.zoom(t.getValueDirect())}function BwSceneInspector_InvertedZoomDeltaModifiedCB(t,e){var i=e.enabled.getValueDirect();i&&e.zoom(-1*t.getValueDirect())}function BwSceneInspector_SelectionOccurredCB(t,e){var i=e.registry.find("Selector");if(i){i.selections.viewports.length>0&&e.viewport.loadViewport(i.selections.viewports[0]),e.clickPosWorld.copy(i.getAttribute("pointWorld").getValueDirect());var r=i.getAttribute("pointView").getValueDirect();e.getWorldUnitsPerPixel(r.z)}}function BwSceneInspector_EnabledModifiedCB(t){t.getValueDirect()}function ObjectInspector(){ArcballInspector.call(this),this.className="ObjectInspector",this.attrType=eAttrType.ObjectInspector,this.camera=null,this.selectedObjects=[],this.pointView=new Vector3DAttr(1,1,1),this.translationDelta=new Vector3DAttr(0,0,0),this.rotationDelta=new Vector3DAttr(0,0,0),this.translationNow=new Vector3DAttr(0,0,0),this.rotationNow=new Vector3DAttr(0,0,0),this.selectionOccurred=new BooleanAttr(!1),this.selectionCleared=new BooleanAttr(!1),this.translationDelta.addModifiedCB(ObjectInspector_TranslationDeltaModifiedCB,this),this.rotationDelta.addModifiedCB(ObjectInspector_RotationDeltaModifiedCB,this),this.translationNow.addModifiedCB(ObjectInspector_TranslationNowModifiedCB,this),this.rotationNow.addModifiedCB(ObjectInspector_RotationNowModifiedCB,this),this.selectionOccurred.addModifiedCB(ObjectInspector_SelectionOccurredCB,this),this.selectionCleared.addModifiedCB(ObjectInspector_SelectionClearedCB,this),this.registerAttribute(this.pointView,"pointView"),this.registerAttribute(this.translationDelta,"translationDelta"),this.registerAttribute(this.rotationDelta,"rotationDelta"),this.registerAttribute(this.translationNow,"translationNow"),this.registerAttribute(this.rotationNow,"rotationNow"),this.registerAttribute(this.selectionOccurred,"selectionOccurred"),this.registerAttribute(this.selectionCleared,"selectionCleared"),this.orphan.setValueDirect(!0),this.enabled.addModifiedCB(ObjectInspector_EnabledModifiedCB,this)}function ObjectInspector_TranslationDeltaModifiedCB(t,e){var i=e.enabled.getValueDirect();i&&e.translationDeltaModified()}function ObjectInspector_RotationDeltaModifiedCB(t,e){var i=e.enabled.getValueDirect();i&&e.rotationDeltaModified()}function ObjectInspector_TranslationNowModifiedCB(){}function ObjectInspector_RotationNowModifiedCB(t,e){var i=e.enabled.getValueDirect();i&&e.rotationNowModified()}function ObjectInspector_SelectionOccurredCB(t,e){var i=e.enabled.getValueDirect();i&&e.runSelectionOccurred()}function ObjectInspector_SelectionClearedCB(t,e){e.runSelectionCleared()}function ObjectInspector_EnabledModifiedCB(t,e){console.debug("ObjectInspector.enable modified: "+e.enabled.getValueDirect().toString())}function ConnectionMgr(){AttributeContainer.call(this),this.className="ConnectionMgr",this.name=new StringAttr("ConnectionMgr"),this.registerAttribute(this.name,"name"),registerConnectionHelper("DisconnectAllTargets",null,ConnectionMgr.prototype.disconnectAllTargets),registerConnectionHelper("dissolve",ConnectionMgr.prototype.connectDissolve,ConnectionMgr.prototype.disconnectDissolve),registerConnectionHelper("walkSimulation",ConnectionMgr.prototype.connectWalkSimulation,ConnectionMgr.prototype.disconnectWalkSimulation)}function RenderAgent(t){Agent.call(this),this.className="RenderAgent",this.bridgeworks=t,this.name.setValueDirect("RenderAgent"),this.timer=new Timer,this.frameRate=new NumberAttr(0),this.desiredFrameRate=new NumberAttr(30),this.timeIncrement=new NumberAttr(0),this.globalTimeInSecs=new NumberAttr(0),this.elapsedTimeInSecs=new NumberAttr(0),this.desiredFrameRate.addModifiedCB(RenderAgent_DesiredFrameRateModified,this),this.globalTimeInSecs.addModifiedCB(RenderAgent_GlobalTimeInSecsModified,this),this.registerAttribute(this.frameRate,"frameRate"),this.registerAttribute(this.desiredFrameRate,"desiredFrameRate"),this.registerAttribute(this.timeIncrement,"timeIncrement"),this.registerAttribute(this.globalTimeInSecs,"globalTimeInSecs"),this.registerAttribute(this.elapsedTimeInSecs,"elapsedTimeInSecs")}function RenderAgent_DesiredFrameRateModified(){}function RenderAgent_GlobalTimeInSecsModified(t,e){var i=e.registry.find("RenderAgent");i.globalTimeInSecsModified()}function RenderController(t){AttributeContainer.call(this),this.className="RenderController",this.playState=ePlayState.Pause,this.renderAgent=t.renderAgent}function Selections(){this.viewports=[],this.cameras=[],this.lights=[],this.models=[],this.surfaces=[],this.labels=[],this.clear=function(){this.viewports=[],this.cameras=[],this.lights=[],this.models=[],this.surfaces=[],this.labels=[]}}function SelectionListener(){EventListener.call(this),this.className="SelectionListener",this.name.setValueDirect("Selector"),this.rayPick=null,this.selections=new Selections,this.selectionEvent=null,this.selected=null,this.unsnapped=null,this.selectionOccurred=new PulseAttr,this.selectionCleared=new PulseAttr,this.pointView=new Vector3DAttr,this.pointWorld=new Vector3DAttr,this.pointObject=new Vector3DAttr,this.pointGeo=new Vector3DAttr,this.normalView=new Vector3DAttr,this.normalWorld=new Vector3DAttr,this.normalObject=new Vector3DAttr,this.triIndex=new NumberAttr,this.distance=new NumberAttr,this.distanceFromScreenCenter=new NumberAttr,this.computePivotDistance=new BooleanAttr(!0),this.selectedName=new StringAttr,this.selectedElement=new NumberAttr(-1),this.lastSelectedName=new StringAttr,this.pointWorld.addModifiedCB(SelectionListener_PointWorldModifiedCB,this),this.registerAttribute(this.selectionOccurred,"selectionOccurred"),this.registerAttribute(this.selectionCleared,"selectionCleared"),this.registerAttribute(this.pointView,"pointView"),this.registerAttribute(this.pointWorld,"pointWorld"),this.registerAttribute(this.pointObject,"pointObject"),this.registerAttribute(this.pointGeo,"pointGeo"),this.registerAttribute(this.normalView,"normalView"),this.registerAttribute(this.normalWorld,"normalWorld"),this.registerAttribute(this.normalObject,"normalObject"),this.registerAttribute(this.triIndex,"triIndex"),this.registerAttribute(this.distance,"distance"),this.registerAttribute(this.distanceFromScreenCenter,"distanceFromScreenCenter"),this.registerAttribute(this.computePivotDistance,"computePivotDistance"),this.registerAttribute(this.selectedName,"selectedName"),this.registerAttribute(this.lastSelectedName,"lastSelectedName"),this.numResponses.setValueDirect(-1)}function SelectionListener_ClickPointModifiedCB(t,e){e.clickPointModified()}function SelectionListener_PointWorldModifiedCB(){}function ViewportLayout(){AttributeContainer.call(this),this.className="ViewportLayout",this.name=new StringAttr("ViewportLayout"),this.width=new NumberAttr(0),this.height=new NumberAttr(0),this.registerAttribute(this.name,"name"),this.registerAttribute(this.width,"width"),this.registerAttribute(this.height,"height")}function GridLayout(){ViewportLayout.call(this),this.className="GridLayout",this.name.setValueDirect("GridLayout"),this.rows=new NumberAttr(1),this.cols=new NumberAttr(1),this.registerAttribute(this.rows,"rows"),this.registerAttribute(this.cols,"cols")}function ViewportMgr(){AttributeContainer.call(this),this.className="ViewportMgr",this.name=new StringAttr("ViewportMgr"),this.cursor=new StringAttr("Arrow"),this.width=new NumberAttr(0),this.height=new NumberAttr(0),this.layout=new ReferenceAttr(null),this.cursor.addModifiedCB(ViewportMgr_CursorModifiedCB,this),this.width.addModifiedCB(ViewportMgr_WidthModifiedCB,this),this.height.addModifiedCB(ViewportMgr_HeightModifiedCB,this),this.layout.addModifiedCB(ViewportMgr_LayoutModifiedCB,this),this.registerAttribute(this.name,"name"),this.registerAttribute(this.cursor,"cursor"),this.registerAttribute(this.width,"width"),this.registerAttribute(this.height,"height"),this.registerAttribute(this.layout,"layout")}function ViewportMgr_CursorModifiedCB(){}function ViewportMgr_WidthModifiedCB(t,e){var i=e.layout.getValueDirect();i&&i.getAttribute("width").setValueDirect(t.getValueDirect())}function ViewportMgr_HeightModifiedCB(t,e){var i=e.layout.getValueDirect();i&&i.getAttribute("height").setValueDirect(t.getValueDirect())}function ViewportMgr_LayoutModifiedCB(t,e){var i=t.getValueDirect();i&&(i.getAttribute("width").setValueDirect(e.width.getValueDirect()),i.getAttribute("height").setValueDirect(e.height.getValueDirect()))}function RasterComponentEventListener(){EventListener.call(this),this.className="RasterComponentEventListener",this.rcs=[],this.rcsSelectionState=[],this.rcListenMap=[],this.rcEventMap=[],this.styleMgr=null,this.selectionEvent=new InputEvent(eEventType.Unknown,0,4294967295,0,eEventType.Key_Up),this.name.setValueDirect("RasterComponentEventListener"),this.numResponses.setValueDirect(-1)}function addInspectionGroup(t,e){var i=getInspectionGroup(t);if(!i){var r=new Group;r.setGraphMgr(e.graphMgr);var o=new Translate;o.setGraphMgr(e.graphMgr);var n=new Scale;n.setGraphMgr(e.graphMgr);var a=new QuaternionRotate;a.setGraphMgr(e.graphMgr);var s=new Translate;s.setGraphMgr(e.graphMgr);var l=new Scale;l.setGraphMgr(e.graphMgr),a.addModifiedCB(Util_InspectionGroup_RotationQuatModifiedCB,t),r.name.setValueDirect("InspectionGroup"),o.name.setValueDirect("Translate"),n.name.setValueDirect("ScaleInverse"),a.name.setValueDirect("Quaternion"),s.name.setValueDirect("TranslateBack"),l.name.setValueDirect("Scale"),r.addChild(o),r.addChild(n),r.addChild(a),r.addChild(l),r.addChild(s);var c=t.getChild(0);c&&c.insertChild(r,0),t.registerAttribute(o.translation,"inspectionGroup_translate"),t.registerAttribute(n.scale,"inspectionGroup_scaleInverse"),t.registerAttribute(a.rotationQuat,"inspectionGroup_rotationQuat"),t.registerAttribute(a.enabled,"inspectionGroup_rotationEnabled"),t.registerAttribute(l.scale,"inspectionGroup_scale"),t.registerAttribute(s.translation,"inspectionGroup_translateBack"),o.translation.setContainer(t),n.scale.setContainer(t),a.rotationQuat.setContainer(t),a.enabled.setContainer(t),l.scale.setContainer(t),s.translation.setContainer(t)}}function deleteInspectionGroup(t){var e=getInspectionGroup(t);e&&(e.getChild(0).getAttribute("translation").setContainer(e.getChild(0)),e.getChild(1).getAttribute("scale").setContainer(e.getChild(1)),e.getChild(2).getAttribute("rotationQuat").setContainer(e.getChild(2)),e.getChild(2).getAttribute("enabled").setContainer(e.getChild(2)),e.getChild(3).getAttribute("scale").setContainer(e.getChild(3)),e.getChild(4).getAttribute("translation").setContainer(e.getChild(4)),t.unregisterAttribute(t.getAttribute("inspectionGroup_translate")),t.unregisterAttribute(t.getAttribute("inspectionGroup_scaleInverse")),t.unregisterAttribute(t.getAttribute("inspectionGroup_rotationQuat")),t.unregisterAttribute(t.getAttribute("inspectionGroup_rotationEnabled")),t.unregisterAttribute(t.getAttribute("inspectionGroup_scale")),t.unregisterAttribute(t.getAttribute("inspectionGroup_translateBack")),t.removeChild(e))}function getInspectionGroup(t){var e=null,i=t.getChild(0);return i&&(e=i.getNamedChild("InspectionGroup")),e}function setInspectionGroupActivationState(t,e){var i=getInspectionGroup(t);if(i){var r=i.getChild(2);if(r&&(r.enabled.setValueDirect(e),!e)){var o=new Quaternion;o.loadIdentity();var n=r.rotationQuat;n.setValueDirect(o)}var a=t.getAttribute("position");if(e)t in g_objPosMap||(g_objPosMap[t]=a.getValueDirect());else{var s=g_objPosMap[t];a.setValueDirect(s)}}}function setInspectionGroupContainer(t){var e=getInspectionGroup(t);e&&(t.unregisterAttribute(t.getAttribute("inspectionGroup_translate")),t.unregisterAttribute(t.getAttribute("inspectionGroup_scaleInverse")),t.unregisterAttribute(t.getAttribute("inspectionGroup_rotationQuat")),t.unregisterAttribute(t.getAttribute("inspectionGroup_rotationEnabled")),t.unregisterAttribute(t.getAttribute("inspectionGroup_scale")),t.unregisterAttribute(t.getAttribute("inspectionGroup_translateBack")),t.registerAttribute(e.getChild(0).getAttribute("translation"),"inspectionGroup_translate"),t.registerAttribute(e.getChild(1).getAttribute("scale"),"inspectionGroup_scaleInverse"),t.registerAttribute(e.getChild(2).getAttribute("rotationQuat"),"inspectionGroup_rotationQuat"),t.registerAttribute(e.getChild(2).getAttribute("enabled"),"inspectionGroup_rotationEnabled"),t.registerAttribute(e.getChild(3).getAttribute("scale"),"inspectionGroup_scale"),t.registerAttribute(e.getChild(4).getAttribute("translation"),"inspectionGroup_translateBack"),e.getChild(0).getAttribute("translation").setContainer(t),e.getChild(1).getAttribute("scale").setContainer(t),e.getChild(2).getAttribute("rotationQuat").setContainer(t),e.getChild(2).getAttribute("enabled").setContainer(t),e.getChild(3).getAttribute("scale").setContainer(t),e.getChild(4).getAttribute("translation").setContainer(t))}function zeroInspectionGroup(t){var e=getInspectionGroup(t);if(e){var i=e.getChild(2);if(i){var r=new Quaternion;r.loadIdentity();var o=i.rotationQuat;o.setValueDirect(r)}}}function clearObjectPositionMap(){g_objPosMap={}}function Util_InspectionGroup_RotationQuatModifiedCB(t,e){e.setModified()}function SerializeCommand(){Command.call(this),this.className="Serialize",this.attrType=eAttrType.Serialize,this.targetAttribute=null,this.target.addModifiedCB(SerializeCommand_TargetModifiedCB,this),this.directive=null,this.serialized=""}function SerializeCommand_TargetModifiedCB(t,e){var i=t.getValueDirect().join("");e.targetAttribute=e.registry.find(i)}function ScreenCaptureCommand(){Command.call(this),this.className="ScreenCapture",this.attrType=eAttrType.ScreenCapture,this.canvasId=new StringAttr,this.registerAttribute(this.canvasId,"canvasId"),this.numResponses.setValueDirect(0)}function ExportCommand(){Command.call(this),this.className="Export",this.attrType=eAttrType.Export,this.targetNode=null,this.url=new StringAttr,this.target.addModifiedCB(ExportCommand_TargetModifiedCB,this),this.registerAttribute(this.url,"url")}function ExportCommand_TargetModifiedCB(t,e){var i=t.getValueDirect().join(""),r=e.registry.find(i);r&&(e.targetNode=r)}function MorphCommand(){Command.call(this),this.className="Morph",this.attrType=eAttrType.Morph,this.sourceModel=null,this.targetModel=null,this.source=new StringAttr(""),this.morphIncr=new NumberAttr(.1),this.source.addModifiedCB(MorphCommand_SourceModifiedCB,this),this.target.addModifiedCB(MorphCommand_TargetModifiedCB,this),this.registerAttribute(this.source,"source"),this.registerAttribute(this.morphIncr,"morphIncr")}function MorphCommand_SourceModifiedCB(t,e){var i=t.getValueDirect().join(""),r=e.registry.find(i);r&&(e.sourceModel=r)}function MorphCommand_TargetModifiedCB(t,e){var i=t.getValueDirect().join(""),r=e.registry.find(i);r&&(e.targetModel=r)}function SnapToCommand(){Command.call(this),this.className="SnapTo",this.attrType=eAttrType.SnapTo,this.models=new SnapModelDescriptors,this.registerAttribute(this.models,"models"),this.numResponses.setValueDirect(0)}function SnapMgr(){AttributeContainer.call(this),this.className="SnapMgr",this.name=new StringAttr("SnapMgr"),this.registerAttribute(this.name,"name")}function LWO2BlockData(){this.type="",this.ordinal="",this.channel=0,this.enable=1,this.opacityType=7,this.opacity=1,this.opacityEnvelope=0,this.negative=0,this.center=new Vector3D,this.size=new Vector3D,this.coordSys=0,this.projMode=0,this.axis=0,this.imageIndex=0,this.widthWrap=1,this.heightWrap=1,this.widthWrapAmt=0,this.heightWrapAmt=0,this.uvMapName=""}function LWO2SurfaceData(){this.name="",this.source="",this.color=new Vector3D,this.diffuseLevel=1,this.specularLevel=0,this.luminosityLevel=0,this.transparencyLevel=0,this.glossiness=.4,this.doubleSided=!1,this.smoothingAngle=0,this.blocks=[],this.addBlock=function(){this.blocks.push(new LWO2BlockData)},this.currentBlock=function(){return this.blocks.length>0?this.blocks[this.blocks.length-1]:null}}function LWO2ClipData(){this.type=0,this.negative=0;var t="",e="";this.setPlatformNeutralFilename=function(i){if(e=i,t=i,t.indexOf(":")>=0){var r=new Array;r=t.split(":"),t=r[0]+":/"+r[1]}},this.setFilename=function(i){t=i,e=i;var r=t.indexOf(":");if(r>=0&&"/"!=t.charAt(r+1)&&"\\"!=t.charAt(r+1)){var o=new Array;o=t.split(":"),t=o[0]+":/"+o[1]}if(r=e.indexOf(":"),r>=0&&("/"==e.charAt(r+1)||"\\"==e.charAt(r+1))){var o=new Array;o=e.split(":"),e=o[0]+":"+o[1].substr(1,o[1].length)}this.getPlatformNeutralFilename=function(){return e},this.getFilename=function(){return t}}}function LWO2EnvelopeData(){this.userFormat=0,this.type=0,this.preBehavior=0,this.postBehavior=0,this.keyframes=[],this.currentKyframe=function(){return this.keyframes.length>0?this.keyframes[this.keyframes.length-1]:null}}function LWO2VMAPData(){this.vertex=0,this.u=0,this.v=0}function LWO2VMADData(){this.poly=0,this.vertex=0,this.u=0,this.v=0}function LWO2PTAGData(){this.poly=0,this.tag=0}function LWO2LayerData(){this.number=0,this.name="",this.pnts=[],this.pols=[],this.ptagsSURF=[],this.vmapsTXUV=[],this.vmadsTXUV=[],this.ptagsSURFMaxIndex=0,this.pivot=new Vector3D,this.getVmap=function(t,e){switch(t){case"TXUV":return this.vmapsTXUV[e];default:return null}},this.putVmap=function(t,e,i){switch(t){case"TXUV":void 0==this.vmapsTXUV[e]&&(this.vmapsTXUV[e]=[]),this.vmapsTXUV[e].push(i)}},this.getVmad=function(t,e){switch(t){case"TXUV":return this.vmadsTXUV[e];default:return null}},this.putVmad=function(t,e,i){switch(t){case"TXUV":void 0==this.vmadsTXUV[e]&&(this.vmadsTXUV[e]=[]),this.vmadsTXUV[e].push(i)}},this.putPtag=function(t){this.ptagsSURF.push(t)}}function LWO2Data(){this.name="",this.contentDir="",this.layers=[],this.tags=[],this.surfaces=[],this.clips=[],this.envelopes=[],this.subChunkContext="",this.evaluators=[];var t=null,e=null,i=null;this.addLayer=function(t){var e=new LWO2LayerData;e.number=t,this.layers.length<=t&&(this.layers.length=t+1),this.layers[t]=e,i=e},this.currentLayer=function(){return i},this.addSurface=function(t,e){var i=new LWO2SurfaceData;i.name=t,i.source=e,this.surfaces.push(i)},this.currentSurface=function(){return this.surfaces.length>0?this.surfaces[this.surfaces.length-1]:null},this.getSurface=function(t){for(var e=0;e<this.surfaces.length;e++)if(this.surfaces[e].name==t)return this.surfaces[e];return null},this.addClip=function(e){var i=new LWO2ClipData;this.clips.length<=e&&(this.clips.length=e+1),this.clips[e]=i,t=i},this.currentClip=function(){return t},this.addEnvelope=function(t){var i=new LWO2EnvelopeData;this.envelopes[t]=i,e=i},this.currentEnvelope=function(){return e}}function LWObjectHandler(){ContentHandler.call(this),this.className="LWObjectHandler",this.lwo2DataHandlers=[],this.lwo2DataHandlersData=[]}function LWObjectBuilder(){ContentBuilder.call(this),this.className="LWObjectBuilder",this.graphMgr=null,this.indexGeometry=new BooleanAttr(!0),this.registerAttribute(this.indexGeometry,"indexGeometry")}function LWObjectBuilder_ObjectHandler(t,e){e.allocateModel(t)}function LWObjectBuilder_CompareVmapEntries(t,e){return t.vertex<e.vertex?-1:t.vertex>e.vertex?1:0}function LWObjectBuilder_CompareVmadEntries(t,e){return t.poly<e.poly?-1:t.poly>e.poly?1:0}function LWSceneHandler(){ContentHandler.call(this),this.className="LWSceneHandler",this.tokenHandlers=[],this.tokenHandlersData=[]}function TLWSCSceneData(){}function TLWSCv3LightDesc(){this.name="",this.type=0,this.colorR=0,this.colorG=0,this.colorB=0,this.intensity=0,this.range=0,this.coneAngle=0,this.edgeAngle=0,this.motion=null,this.parentItem=0}function LWSceneBuilder(){ContentBuilder.call(this),this.className="LWSceneBuilder",this.root=null,this.sgRoot=null,this.evaluatorsGroup=null,this.camerasSelector=null,this.lightsGroup=null,this.modelsGroup=null,this.renderDirective=null,this.boneFalloffType=eBoneFalloffType.InverseDistance,this.parsingBgImage=!1,this.parsingFgImage=!1,this.parsingFgAlphaImage=!1,this.imagePath="",this.currElement=null,this.currChannel=0,this.sceneData=new TLWSCSceneData,this.ambientLightDesc=new TLWSCv3LightDesc,this.globalLightDesc=new TLWSCv3LightDesc,this.lightDescs=[],this.parentItems=[],this.bones=[],this.objectBones=[],this.indexGeometry=new BooleanAttr(!0),this.registerAttribute(this.indexGeometry,"indexGeometry"),this.ambientLightDesc.colorR=1,this.ambientLightDesc.colorG=1,this.ambientLightDesc.colorB=1,this.ambientLightDesc.intensity=.05,this.globalLightDesc.intensity=1}function LWSceneBuilder_TokenHandler(t,e){e.handleToken(t[0],t.slice(1))}function AttributeFactory(){AttributeContainer.call(this),this.className="AttributeFactory",this.attrType=eAttrType.AttributeFactory,this.newResourceProcs=[],this.configureProcs=[],this.finalizeProcs=[],this.registry=null,this.graphMgr=null,this.name=new StringAttr("AttributeFactory"),this.registerAttribute(this.name,"name"),this.initializeNewResourceMap(),this.initializeConfigureMap(),this.initializeFinalizeMap()}function newAttribute(t){var e=null;switch(t){case"BalloonTipLabelStyleAttr":e=new BalloonTipLabelStyleAttr;break;case"BBoxAttr":e=new BBoxAttr;break;case"BooleanAttr":e=new BooleanAttr;break;case"ColorAttr":e=new ColorAttr;break;case"FontStyleAttr":e=new FontStyleAttr;break;case"IconStyleAttr":e=new IconStyleAttr;break;case"ImageAttr":e=new ImageAttr;break;case"KeyframeAttr":e=new KeyframeAttr;break;case"KeyframesAttr":e=new KeyframesAttr;break;case"LabelStyleAttr":e=new LabelStyleAttr;break;case"HTMLLabelStyleAttr":e=new HTMLLabelStyleAttr;break;case"NumberArrayAttr":e=new NumberArrayAttr;break;case"NumberAttr":e=new NumberAttr;break;case"Matrix4x4Attr":e=new Matrix4x4Attr;break;case"PlaneAttr":e=new PlaneAttr;break;case"PulseAttr":e=new PulseAttr;break;case"QuaternionAttr":e=new QuaternionAttr;break;case"RectAttr":e=new RectAttr;break;case"ReferenceAttr":e=new ReferenceAttr;break;case"StringAttr":e=new StringAttr;break;case"StyleAttr":e=new StyleAttr;break;case"StylesAttr":e=new StylesAttr;break;case"StyleMapAttr":e=new StyleMapAttr;break;case"StylesMapAttr":e=new StylesMapAttr;break;case"Vector2DAttr":e=new Vector2DAttr;break;case"Vector3DAttr":e=new Vector3DAttr;break;case"ViewportAttr":e=new ViewportAttr;break;case"ViewVolumeAttr":e=new ViewVolumeAttr;break;case"RenderableElementStyleAttr":e=new RenderableElementStyleAttr;break;case"Serializer":e=new Serializer;break;case"Bone":e=new Bone}return e}function newSGNode(t,e){var i=null;switch(t){case"DirectionalLight":i=new DirectionalLight,registerParentableAttributes(i,e);break;case"GlobalIllumination":i=new GlobalIllumination;break;case"Group":i=new Group;break;case"Isolator":i=new Isolator;break;case"Label":i=new Label;break;case"HTMLLabel":i=new HTMLLabel;break;case"BalloonTipLabel":i=new BalloonTipLabel;break;case"LineList":i=new LineList;break;case"MediaTexture":i=new MediaTexture;break;case"OrthographicCamera":i=new OrthographicCamera,registerParentableAttributes(i,e);break;case"PerspectiveCamera":i=new PerspectiveCamera,registerParentableAttributes(i,e);break;case"PointLight":i=new PointLight,registerParentableAttributes(i,e);break;case"PointList":i=new PointList;break;case"QuaternionRotate":i=new QuaternionRotate;break;case"Rotate":i=new Rotate;break;case"Scale":i=new Scale;break;case"Selector":i=new Selector;break;case"Surface":i=new Surface;break;case"Transform":i=new Transform;break;case"Translate":i=new Translate;break;case"TriList":i=new TriList;break;case"NullObject":i=new NullObject,registerParentableAttributes(i,e);break;case"Material":i=new Material;break;case"ScreenRect":i=new ScreenRect}return i&&i.setGraphMgr(e.graphMgr),i}function newSGDirective(t,e){var i=null;switch(t){case"BBoxDirective":i=new BBoxDirective;break;case"RayPickDirective":i=new RayPickDirective;break;case"RenderDirective":i=new RenderDirective;break;case"SerializeDirective":i=new SerializeDirective;break;case"UpdateDirective":i=new UpdateDirective;break;case"CollideDirective":i=new CollideDirective;break;case"HighlightDirective":i=new HighlightDirective}return i&&i.setGraphMgr(e.graphMgr),i}function newModel(t,e){var i=new Model;return i.setGraphMgr(e.graphMgr),registerParentableAttributes(i,e),addInspectionGroup(i,e),i}function newSnapModel(t,e){var i=new SnapModel;return i.setGraphMgr(e.graphMgr),registerParentableAttributes(i,e),addInspectionGroup(i,e),i}function newShape(t,e){var i=null;switch(t){case"Ball":i=new Ball;break;case"Beam":i=new Beam;break;case"Box":i=new Box;break;case"Elbow":i=new Elbow;break;case"Gear":i=new Gear;break;case"Plank":i=new Plank;break;case"Pyramid":i=new Pyramid;break;case"Ring":i=new Ring;break;case"Tube":i=new Tube;break;case"Wall":i=new Wall;break;case"Wedge":i=new Wedge}return i&&(i.setGraphMgr(e.graphMgr),registerParentableAttributes(i,e),addInspectionGroup(i,e)),i}function newBBoxLocator(t,e){var i=new BBoxLocator;return registerEvaluatorAttributes(i,e),i}function newKeyframeInterpolator(t,e){var i=new KeyframeInterpolator;return registerEvaluatorAttributes(i,e),i}function newMapProjectionCalculator(t,e){var i=new MapProjectionCalculator;return registerEvaluatorAttributes(i,e),i}function newObjectInspector(t,e){var i=new ObjectInspector;registerEvaluatorAttributes(i,e);var r=e.registry.find("Selector");return r&&(r.getAttribute("selectionOccurred").addTarget(i.getAttribute("selectionOccurred"),eAttrSetOp.Replace,null,!1),r.getAttribute("selectionCleared").addTarget(i.getAttribute("selectionCleared"),eAttrSetOp.Replace,null,!1),r.getAttribute("pointView").addTarget(i.getAttribute("pointView"),eAttrSetOp.Replace,null,!1)),i}function newSceneInspector(t,e){var i=new BwSceneInspector;registerEvaluatorAttributes(i,e);var r=e.registry.find("Selector");return r&&(r.getAttribute("selectionOccurred").addTarget(i.getAttribute("selectionOccurred"),eAttrSetOp.Replace,null,!1),r.getAttribute("distanceFromScreenCenter").addTarget(i.getAttribute("pivotDistance"),eAttrSetOp.Replace,null,!1)),i}function newTargetObserver(t,e){var i=new BwTargetObserver;return registerEvaluatorAttributes(i,e),i}function newAnimalMover(t,e){var i=new AnimalMover;return registerEvaluatorAttributes(i,e),i}function newWalkSimulator(t,e){var i=new WalkSimulator;return registerEvaluatorAttributes(i,e),i}function newMorphEffector(t,e){var i=new MorphEffector;return registerEvaluatorAttributes(i,e),i}function newBoneEffector(t,e){var i=new BoneEffector;return registerEvaluatorAttributes(i,e),i}function newPhysicsSimulator(t,e){var i=new PhysicsSimulator;return registerEvaluatorAttributes(i,e),i}function newGoblinPhysicsSimulator(t,e){var i=new GoblinPhysicsSimulator;return registerEvaluatorAttributes(i,e),i}function newCannonPhysicsSimulator(t,e){var i=new CannonPhysicsSimulator;return registerEvaluatorAttributes(i,e),i}function newAnimator(t){var e=null;switch(t){case"Spinner":e=new Spinner}return e}function newCommand(t,e){var i=null;switch(t){case"AppendNode":i=new AppendNodeCommand;break;case"AutoInterpolate":i=new AutoInterpolateCommand;break;case"CommandSequence":i=new CommandSequence;break;case"ConnectAttributes":i=new ConnectAttributesCommand;break;case"ConnectOutputs":i=new ConnectAttributesCommand;break;case"DisconnectAttributes":i=new ConnectAttributesCommand,i.getAttribute("negate").setValueDirect(!0);
break;case"DisconnectOutputs":i=new ConnectAttributesCommand,i.getAttribute("negate").setValueDirect(!0);break;case"Export":i=new ExportCommand;break;case"Locate":i=new LocateCommand;break;case"MotionInterpolate":i=new MotionInterpolateCommand;break;case"Pause":i=new PlayCommand,i.getAttribute("negate").setValueDirect(!0);break;case"Play":i=new PlayCommand;break;case"Remove":i=new RemoveCommand;break;case"ScreenCapture":i=new ScreenCaptureCommand;break;case"Serialize":i=new SerializeCommand;break;case"Set":i=new SetCommand;break;case"Stop":i=new StopCommand;break;case"Morph":i=new MorphCommand;break;case"SnapTo":i=new SnapToCommand}if("CommandSequence"==t){var r=e.registry.find("CommandMgr");r&&r.pushCommandSequence(i)}return i}function newDeviceHandler(t){var e=null;switch(t){case"MouseHandler":e=new MouseHandler;break;case"KeyboardHandler":e=new KeyboardHandler}return e}function configureModel(){console.debug("TODO: "+arguments.callee.name)}function configureDirective(t,e){var i=new StringAttr("");i.addModifiedCB(AttributeFactory_DirectiveRootModifiedCB,e),t.registerAttribute(i,"root");var r=e.registry.getAttribute("rootPtr").getValueDirect();r&&i.setValueDirect(r.getAttribute("name").getValueDirect().join(""))}function finalizeModel(t,e){console.debug("TODO: remove LWO assumption");var i=t.getAttribute("url").getValueDirect();if(i){i=i.join("");var r=formatPath(i);console.debug("path: "+r[0]),console.debug("content dir: "+r[1]);var o=new LWObjectHandler;o.getAttribute("contentDirectory").setValueDirect(r[1]);var n=new LWObjectBuilder;n.setRegistry(e.registry),n.models.push(t),n.layer=t.getAttribute("layer").getValueDirect(),n.visitHandler(o),o.parseFileStream(r[0])}var a=e.registry.find("Bridgeworks");a.physicsSimulator.bodies.push_back(t.name)}function finalizeDirective(){}function finalizeCommand(t,e){t.finalize();var i=e.registry.find("CommandMgr");i&&("CommandSequence"==t.className&&i.popCommandSequence(),i.addCommand(t))}function finalizeDeviceHandler(t,e){var i=e.registry.find("EventMgr");if(i)for(var r=t.getEventTypes(),o=0;o<r.length;o++)i.addListener(r[o],t)}function finalizeEvaluator(t,e){switch(console.debug("TODO: "+arguments.callee.name),t.className){case"KeyframeInterpolator":var i=t.getAttribute("url").getValueDirect();if(i){i=i.join("");var r=formatPath(i),o=new LWSceneHandler;o.getAttribute("contentDirectory").setValueDirect(r[1]);var n=new LWSceneBuilder;n.setRegistry(e.registry),n.evaluators.push(t),n.visitHandler(o),o.parseFileStream(r[0])}AttributeFactory_EvaluatorTargetConnectionTypeModifiedCB(t.getAttribute("targetConnectionType"),e)}}function registerEvaluatorAttributes(t,e){if(!t.getAttribute("url")){var i=new StringAttr("");t.registerAttribute(i,"url")}if(!t.getAttribute("target")){var r=new StringAttr("");t.registerAttribute(r,"target")}if(!t.getAttribute("renderAndRelease")){var o=new BooleanAttr(!1);t.registerAttribute(o,"renderAndRelease")}if(!t.getAttribute("targetConnectionType")){var n=new StringAttr("transform");n.addModifiedCB(AttributeFactory_EvaluatorTargetConnectionTypeModifiedCB,e),t.registerAttribute(n,"targetConnectionType")}}function registerParentableAttributes(t,e){if(!t.getAttribute("label")){var i=new StringAttr("");t.registerAttribute(i,"label"),i.addModifiedCB(AttributeFactory_ParentableLabelModifiedCB,e)}if(!t.getAttribute("geoPosition")){var r=new Vector3DAttr;t.registerAttribute(r,"geoPosition"),r.addModifiedCB(AttributeFactory_ParentableGeoPositionModifiedCB,e)}if(!t.getAttribute("altitude")){var o=new NumberAttr;t.registerAttribute(o,"altitude")}if(!t.getAttribute("latitude")){var n=new NumberAttr;t.registerAttribute(n,"latitude")}if(!t.getAttribute("longitude")){var a=new NumberAttr;t.registerAttribute(a,"longitude")}t.getAttribute("worldCenter").addModifiedCB(AttributeFactory_ParentableWorldPositionModifiedCB,e)}function getSceneGraph(){return this.sceneGraph}function AttributeFactory_DirectiveRootModifiedCB(t,e){var i=t.getContainer(),r=e.registry.getByName(t.getValueDirect().join(""));r&&i.getAttribute("rootNode").setValueDirect(r[0])}function AttributeFactory_ParentableLabelModifiedCB(){console.debug("TODO: "+arguments.callee.name)}function AttributeFactory_ParentableGeoPositionModifiedCB(t,e){var i=t.getContainer();if(i){var r=e.registry.getByName("ConnectionMgr");if(r&&r.length){var o=r[0],n=e.registry.getByType(eAttrType.MapProjectionCalculator);if(n&&n.length){var a=n[0];a.getAttribute("geoPosition").copyValue(t),o.connectMapProjectionCalculator(a,i),o.disconnectMapProjectionCalculator(a,i)}}}}function AttributeFactory_ParentableWorldPositionModifiedCB(){}function AttributeFactory_EvaluatorTargetConnectionTypeModifiedCB(t,e){var i=t.getContainer();if(i){var r=new ConnectAttributesCommand;r.setRegistry(e.registry),r.getAttribute("sourceContainer").copyValue(i.getAttribute("name")),r.getAttribute("targetContainer").copyValue(i.getAttribute("target")),r.getAttribute("connectionType").copyValue(t),r.execute()}}function Bridgeworks(t,e,i){AttributeContainer.call(this),this.className="Bridgeworks",this.renderContext=newRenderContext("webgl",t,e),this.renderContext&&(i=null==i?"BwContent":i,this.canvas=t,this.contentDir=i,this.graphMgr=new GraphMgr,this.graphMgr.setRenderContext(this.renderContext),this.styleMgr=new StyleMgr,this.registry=new BwRegistry,this.factory=new AttributeFactory,this.parser=new XMLParser(this.factory,this.registry,this.contentDir),this.eventAdapter=new EventAdapter,this.eventMgr=new EventMgr,this.commandMgr=new CommandMgr,this.connectionMgr=new ConnectionMgr,this.viewportMgr=new ViewportMgr,this.selector=new SelectionListener,this.rayPick=new RayPickDirective,this.renderAgent=new RenderAgent(this),this.renderController=new RenderController(this),this.layout=new GridLayout,this.mapProjectionCalculator=new MapProjectionCalculator,this.rasterComponentEventListener=new RasterComponentEventListener,this.snapMgr=new SnapMgr,this.physicsSimulator=new PhysicsSimulator,this.graphMgr.setRegistry(this.registry),this.factory.setRegistry(this.registry),this.eventAdapter.setRegistry(this.registry),this.eventMgr.setRegistry(this.registry),this.commandMgr.setRegistry(this.registry),this.connectionMgr.setRegistry(this.registry),this.viewportMgr.setRegistry(this.registry),this.selector.setRegistry(this.registry),this.renderAgent.setRegistry(this.registry),this.layout.setRegistry(this.registry),this.mapProjectionCalculator.setRegistry(this.registry),this.rasterComponentEventListener.setRegistry(this.registry),this.snapMgr.setRegistry(this.registry),this.physicsSimulator.setRegistry(this.registry),this.factory.setGraphMgr(this.graphMgr),this.selector.setRayPick(this.rayPick),this.rasterComponentEventListener.setStyleMgr(this.styleMgr),this.rasterComponents=null,this.physicsSimulator.orphan.setValueDirect(!0),this.name=new StringAttr("Bridgeworks"),this.onLoad=new StringAttr,this.onLoad.addModifiedCB(Bridgeworks_OnLoadModifiedCB,this),this.registerAttribute(this.name,"name"),this.registerAttribute(this.onLoad,"onLoad"),this.viewportMgr.getAttribute("width").setValueDirect(this.canvas.width),this.viewportMgr.getAttribute("height").setValueDirect(this.canvas.height),this.viewportMgr.getAttribute("layout").setValueDirect(this.layout),enumerateAttributeTypes(),enumerateAttributeElementTypes(),console.debug("TODO: "+arguments.callee.name),this.initRegistry(),this.initEventListeners(),this.viewportMgr.initLayout())}function Bridgeworks_OnLoadModifiedCB(t,e){e.onLoadModified()}Base.prototype.destroy=function(){delete this};var message="",imgeData="",cimageData="",serializedScene="";Allocator.prototype.allocate=function(){return null},Color.prototype.v=function(){var t=[this.r,this.g,this.b,this.a];return t},Color.prototype.load=function(t,e,i,r){this.r=t,this.g=e,this.b=i,this.a=r},Color.prototype.copy=function(t){t&&(this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a)},Rect.prototype.load=function(t,e,i,r){this.left=t,this.top=e,this.right=i,this.bottom=r},Rect.prototype.loadRect=function(t){this.left=t.left,this.top=t.top,this.right=t.right,this.bottom=t.bottom},Viewport.prototype.load=function(t,e,i,r){this.x=t,this.y=e,this.width=i,this.height=r},Viewport.prototype.loadViewport=function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},Viewport.prototype.containsPoint=function(t,e){return t>=this.x&&e>=this.y&&t<=this.x+this.width&&e<=this.y+this.height?!0:!1},Stack.prototype.push=function(t){this.maxLength>0&&this.stack.length>=this.maxLength&&this.pop(),this.stack.push(t)},Stack.prototype.pop=function(){this.stack.length>0&&this.stack.pop()},Stack.prototype.load=function(t){this.pop(),this.push(t)},Stack.prototype.top=function(){return this.stack.length>0?this.stack[this.stack.length-1]:null},Stack.prototype.getAt=function(t){return this.stack.length>t?this.stack[t]:null},Stack.prototype.length=function(){return this.stack.length},Stack.prototype.empty=function(){return 0==this.stack.length},Stack.prototype.clear=function(){this.stack.length=0},Stack.prototype.copy=function(){return this.stack.slice()},Queue.prototype.push=function(t){this.maxLength>0&&this.queue.length>=this.maxLength&&this.pop(),this.queue.push(t)},Queue.prototype.pop=function(){this.queue.length>0&&this.queue.shift()},Queue.prototype.load=function(t){this.pop(),this.push(t)},Queue.prototype.front=function(){return this.queue.length>0?this.queue[0]:null},Queue.prototype.getAt=function(t){return this.queue.length>t?this.queue[t]:null},Queue.prototype.length=function(){return this.queue.length},Queue.prototype.empty=function(){return 0==this.queue.length},Queue.prototype.clear=function(){this.queue.length=0},Queue.prototype.copy=function(){return this.queue.slice()};var gAttributeBin=null,gAttributePairs=null,whitespace="\n\r	 ";XMLP=function(t){t=SAXStrings.replace(t,null,null,"\r\n","\n"),t=SAXStrings.replace(t,null,null,"\r","\n"),this.m_xml=t,this.m_iP=0,this.m_iState=XMLP._STATE_PROLOG,this.m_stack=new saxStack,this._clearAttributes()},XMLP._NONE=0,XMLP._ELM_B=1,XMLP._ELM_E=2,XMLP._ELM_EMP=3,XMLP._ATT=4,XMLP._TEXT=5,XMLP._ENTITY=6,XMLP._PI=7,XMLP._CDATA=8,XMLP._COMMENT=9,XMLP._DTD=10,XMLP._ERROR=11,XMLP._CONT_XML=0,XMLP._CONT_ALT=1,XMLP._ATT_NAME=0,XMLP._ATT_VAL=1,XMLP._STATE_PROLOG=1,XMLP._STATE_DOCUMENT=2,XMLP._STATE_MISC=3,XMLP._errs=new Array,XMLP._errs[XMLP.ERR_CLOSE_PI=0]="PI: missing closing sequence",XMLP._errs[XMLP.ERR_CLOSE_DTD=1]="DTD: missing closing sequence",XMLP._errs[XMLP.ERR_CLOSE_COMMENT=2]="Comment: missing closing sequence",XMLP._errs[XMLP.ERR_CLOSE_CDATA=3]="CDATA: missing closing sequence",XMLP._errs[XMLP.ERR_CLOSE_ELM=4]="Element: missing closing sequence",XMLP._errs[XMLP.ERR_CLOSE_ENTITY=5]="Entity: missing closing sequence",XMLP._errs[XMLP.ERR_PI_TARGET=6]="PI: target is required",XMLP._errs[XMLP.ERR_ELM_EMPTY=7]="Element: cannot be both empty and closing",XMLP._errs[XMLP.ERR_ELM_NAME=8]='Element: name must immediatly follow "<"',XMLP._errs[XMLP.ERR_ELM_LT_NAME=9]='Element: "<" not allowed in element names',XMLP._errs[XMLP.ERR_ATT_VALUES=10]="Attribute: values are required and must be in quotes",XMLP._errs[XMLP.ERR_ATT_LT_NAME=11]='Element: "<" not allowed in attribute names',XMLP._errs[XMLP.ERR_ATT_LT_VALUE=12]='Attribute: "<" not allowed in attribute values',XMLP._errs[XMLP.ERR_ATT_DUP=13]="Attribute: duplicate attributes not allowed",XMLP._errs[XMLP.ERR_ENTITY_UNKNOWN=14]="Entity: unknown entity",XMLP._errs[XMLP.ERR_INFINITELOOP=15]="Infininte loop",XMLP._errs[XMLP.ERR_DOC_STRUCTURE=16]="Document: only comments, processing instructions, or whitespace allowed outside of document element",XMLP._errs[XMLP.ERR_ELM_NESTING=17]="Element: must be nested correctly",XMLP.prototype._addAttribute=function(t,e){this.m_atts[this.m_atts.length]=new Array(t,e)},XMLP.prototype._checkStructure=function(t){if(XMLP._STATE_PROLOG==this.m_iState){if((XMLP._TEXT==t||XMLP._ENTITY==t)&&-1!=SAXStrings.indexOfNonWhitespace(this.getContent(),this.getContentBegin(),this.getContentEnd()))return this._setErr(XMLP.ERR_DOC_STRUCTURE);(XMLP._ELM_B==t||XMLP._ELM_EMP==t)&&(this.m_iState=XMLP._STATE_DOCUMENT)}if(XMLP._STATE_DOCUMENT==this.m_iState){if((XMLP._ELM_B==t||XMLP._ELM_EMP==t)&&this.m_stack.push(this.getName()),XMLP._ELM_E==t||XMLP._ELM_EMP==t){var e=this.m_stack.pop();if(null==e||e!=this.getName())return this._setErr(XMLP.ERR_ELM_NESTING)}if(0==this.m_stack.count())return this.m_iState=XMLP._STATE_MISC,t}if(XMLP._STATE_MISC==this.m_iState){if(XMLP._ELM_B==t||XMLP._ELM_E==t||XMLP._ELM_EMP==t||XMLP.EVT_DTD==t)return this._setErr(XMLP.ERR_DOC_STRUCTURE);if((XMLP._TEXT==t||XMLP._ENTITY==t)&&-1!=SAXStrings.indexOfNonWhitespace(this.getContent(),this.getContentBegin(),this.getContentEnd()))return this._setErr(XMLP.ERR_DOC_STRUCTURE)}return t},XMLP.prototype._clearAttributes=function(){this.m_atts=new Array},XMLP.prototype._findAttributeIndex=function(t){for(var e=0;e<this.m_atts.length;e++)if(this.m_atts[e][XMLP._ATT_NAME]==t)return e;return-1},XMLP.prototype.getAttributeCount=function(){return this.m_atts?this.m_atts.length:0},XMLP.prototype.getAttributeName=function(t){return 0>t||t>=this.m_atts.length?null:this.m_atts[t][XMLP._ATT_NAME]},XMLP.prototype.getAttributeValue=function(t){return 0>t||t>=this.m_atts.length?null:__unescapeString(this.m_atts[t][XMLP._ATT_VAL])},XMLP.prototype.getAttributeValueByName=function(t){return this.getAttributeValue(this._findAttributeIndex(t))},XMLP.prototype.getColumnNumber=function(){return SAXStrings.getColumnNumber(this.m_xml,this.m_iP)},XMLP.prototype.getContent=function(){return this.m_cSrc==XMLP._CONT_XML?this.m_xml:this.m_cAlt},XMLP.prototype.getContentBegin=function(){return this.m_cB},XMLP.prototype.getContentEnd=function(){return this.m_cE},XMLP.prototype.getLineNumber=function(){return SAXStrings.getLineNumber(this.m_xml,this.m_iP)},XMLP.prototype.getName=function(){return this.m_name},XMLP.prototype.next=function(){return this._checkStructure(this._parse())},XMLP.prototype._parse=function(){return this.m_iP==this.m_xml.length?XMLP._NONE:this.m_iP==this.m_xml.indexOf("<?",this.m_iP)?this._parsePI(this.m_iP+2):this.m_iP==this.m_xml.indexOf("<!DOCTYPE",this.m_iP)?this._parseDTD(this.m_iP+9):this.m_iP==this.m_xml.indexOf("<!--",this.m_iP)?this._parseComment(this.m_iP+4):this.m_iP==this.m_xml.indexOf("<![CDATA[",this.m_iP)?this._parseCDATA(this.m_iP+9):this.m_iP==this.m_xml.indexOf("<",this.m_iP)?this._parseElement(this.m_iP+1):this.m_iP==this.m_xml.indexOf("&",this.m_iP)?this._parseEntity(this.m_iP+1):this._parseText(this.m_iP)},XMLP.prototype._parseAttribute=function(t,e){var i,r,o,n,a,s,l,c;return this.m_cAlt="",i=SAXStrings.indexOfNonWhitespace(this.m_xml,t,e),-1==i||i>=e?i:(o=this.m_xml.indexOf("=",i),-1==o||o>e?this._setErr(XMLP.ERR_ATT_VALUES):(r=SAXStrings.lastIndexOfNonWhitespace(this.m_xml,i,o),n=SAXStrings.indexOfNonWhitespace(this.m_xml,o+1,e),-1==n||n>e?this._setErr(XMLP.ERR_ATT_VALUES):(s=this.m_xml.charAt(n),-1==SAXStrings.QUOTES.indexOf(s)?this._setErr(XMLP.ERR_ATT_VALUES):(a=this.m_xml.indexOf(s,n+1),-1==a||a>e?this._setErr(XMLP.ERR_ATT_VALUES):(l=this.m_xml.substring(i,r+1),c=this.m_xml.substring(n+1,a),-1!=l.indexOf("<")?this._setErr(XMLP.ERR_ATT_LT_NAME):-1!=c.indexOf("<")?this._setErr(XMLP.ERR_ATT_LT_VALUE):(c=SAXStrings.replace(c,null,null,"\n"," "),c=SAXStrings.replace(c,null,null,"	"," "),iRet=this._replaceEntities(c),iRet==XMLP._ERROR?iRet:(c=this.m_cAlt,-1!=this._findAttributeIndex(l)?this._setErr(XMLP.ERR_ATT_DUP):(this._addAttribute(l,c),this.m_iP=a+2,XMLP._ATT))))))))},XMLP.prototype._parseCDATA=function(t){var e=this.m_xml.indexOf("]]>",t);return-1==e?this._setErr(XMLP.ERR_CLOSE_CDATA):(this._setContent(XMLP._CONT_XML,t,e),this.m_iP=e+3,XMLP._CDATA)},XMLP.prototype._parseComment=function(t){var e=this.m_xml.indexOf("-->",t);return-1==e?this._setErr(XMLP.ERR_CLOSE_COMMENT):(this._setContent(XMLP._CONT_XML,t,e),this.m_iP=e+3,XMLP._COMMENT)},XMLP.prototype._parseDTD=function(t){var e,i,r,o;if(e=this.m_xml.indexOf(">",t),-1==e)return this._setErr(XMLP.ERR_CLOSE_DTD);for(r=this.m_xml.indexOf("[",t),i=-1!=r&&e>r?"]>":">";;){if(e==o)return this._setErr(XMLP.ERR_INFINITELOOP);if(o=e,e=this.m_xml.indexOf(i,t),-1==e)return this._setErr(XMLP.ERR_CLOSE_DTD);if("]]>"!=this.m_xml.substring(e-1,e+2))break}return this.m_iP=e+i.length,XMLP._DTD},XMLP.prototype._parseElement=function(t){var e,i,r,o,n,a,s;if(i=e=this.m_xml.indexOf(">",t),-1==e)return this._setErr(XMLP.ERR_CLOSE_ELM);if("/"==this.m_xml.charAt(t)?(n=XMLP._ELM_E,t++):n=XMLP._ELM_B,"/"==this.m_xml.charAt(e-1)){if(n==XMLP._ELM_E)return this._setErr(XMLP.ERR_ELM_EMPTY);n=XMLP._ELM_EMP,i--}if(i=SAXStrings.lastIndexOfNonWhitespace(this.m_xml,t,i),e-t!=1&&SAXStrings.indexOfNonWhitespace(this.m_xml,t,i)!=t)return this._setErr(XMLP.ERR_ELM_NAME);if(this._clearAttributes(),r=SAXStrings.indexOfWhitespace(this.m_xml,t,i),-1==r)r=i+1;else for(this.m_iP=r;this.m_iP<i;){if(this.m_iP==s)return this._setErr(XMLP.ERR_INFINITELOOP);if(s=this.m_iP,o=this._parseAttribute(this.m_iP,i),o==XMLP._ERROR)return o}return a=this.m_xml.substring(t,r),-1!=a.indexOf("<")?this._setErr(XMLP.ERR_ELM_LT_NAME):(this.m_name=a,this.m_iP=e+1,n)},XMLP.prototype._parseEntity=function(t){var e=this.m_xml.indexOf(";",t);return-1==e?this._setErr(XMLP.ERR_CLOSE_ENTITY):(this.m_iP=e+1,this._replaceEntity(this.m_xml,t,e))},XMLP.prototype._parsePI=function(t){var e,i,r,o,n;return e=this.m_xml.indexOf("?>",t),-1==e?this._setErr(XMLP.ERR_CLOSE_PI):(i=SAXStrings.indexOfNonWhitespace(this.m_xml,t,e),-1==i?this._setErr(XMLP.ERR_PI_TARGET):(r=SAXStrings.indexOfWhitespace(this.m_xml,i,e),-1==r&&(r=e),o=SAXStrings.indexOfNonWhitespace(this.m_xml,r,e),-1==o&&(o=e),n=SAXStrings.lastIndexOfNonWhitespace(this.m_xml,o,e),-1==n&&(n=e-1),this.m_name=this.m_xml.substring(i,r),this._setContent(XMLP._CONT_XML,o,n+1),this.m_iP=e+2,XMLP._PI))},XMLP.prototype._parseText=function(t){var e,i;return e=this.m_xml.indexOf("<",t),-1==e&&(e=this.m_xml.length),i=this.m_xml.indexOf("&",t),-1!=i&&e>=i&&(e=i),this._setContent(XMLP._CONT_XML,t,e),this.m_iP=e,XMLP._TEXT},XMLP.prototype._replaceEntities=function(t,e,i){if(SAXStrings.isEmpty(t))return"";e=e||0,i=i||t.length;var r,o,n="";for(r=t.indexOf("&",e),o=e;r>0&&i>r;){if(n+=t.substring(o,r),o=t.indexOf(";",r)+1,0==o||o>i)return this._setErr(XMLP.ERR_CLOSE_ENTITY);if(iRet=this._replaceEntity(t,r+1,o-1),iRet==XMLP._ERROR)return iRet;n+=this.m_cAlt,r=t.indexOf("&",o)}return o!=i&&(n+=t.substring(o,i)),this._setContent(XMLP._CONT_ALT,n),XMLP._ENTITY},XMLP.prototype._replaceEntity=function(t,e,i){if(SAXStrings.isEmpty(t))return-1;switch(e=e||0,i=i||t.length,t.substring(e,i)){case"amp":strEnt="&";break;case"lt":strEnt="<";break;case"gt":strEnt=">";break;case"apos":strEnt="'";break;case"quot":strEnt='"';break;default:if("#"!=t.charAt(e))return this._setErr(XMLP.ERR_ENTITY_UNKNOWN);strEnt=String.fromCharCode(parseInt(t.substring(e+1,i)))}return this._setContent(XMLP._CONT_ALT,strEnt),XMLP._ENTITY},XMLP.prototype._setContent=function(t){var e=arguments;XMLP._CONT_XML==t?(this.m_cAlt=null,this.m_cB=e[1],this.m_cE=e[2]):(this.m_cAlt=e[1],this.m_cB=0,this.m_cE=e[1].length),this.m_cSrc=t},XMLP.prototype._setErr=function(t){var e=XMLP._errs[t];return this.m_cAlt=e,this.m_cB=0,this.m_cE=e.length,this.m_cSrc=XMLP._CONT_ALT,XMLP._ERROR},SAXDriver=function(){this.m_hndDoc=null,this.m_hndErr=null,this.m_hndLex=null},SAXDriver.DOC_B=1,SAXDriver.DOC_E=2,SAXDriver.ELM_B=3,SAXDriver.ELM_E=4,SAXDriver.CHARS=5,SAXDriver.PI=6,SAXDriver.CD_B=7,SAXDriver.CD_E=8,SAXDriver.CMNT=9,SAXDriver.DTD_B=10,SAXDriver.DTD_E=11,SAXDriver.prototype.parse=function(t){var e=new XMLP(t);this.m_hndDoc&&this.m_hndDoc.setDocumentLocator&&this.m_hndDoc.setDocumentLocator(this),this.m_parser=e,this.m_bErr=!1,this.m_bErr||this._fireEvent(SAXDriver.DOC_B),this._parseLoop(),this.m_bErr||this._fireEvent(SAXDriver.DOC_E),this.m_xml=null,this.m_iP=0},SAXDriver.prototype.setDocumentHandler=function(t){this.m_hndDoc=t},SAXDriver.prototype.setErrorHandler=function(t){this.m_hndErr=t},SAXDriver.prototype.setLexicalHandler=function(t){this.m_hndLex=t},SAXDriver.prototype.getColumnNumber=function(){return this.m_parser.getColumnNumber()},SAXDriver.prototype.getLineNumber=function(){return this.m_parser.getLineNumber()},SAXDriver.prototype.getMessage=function(){return this.m_strErrMsg},SAXDriver.prototype.getPublicId=function(){return null},SAXDriver.prototype.getSystemId=function(){return null},SAXDriver.prototype.getLength=function(){return this.m_parser.getAttributeCount()},SAXDriver.prototype.getName=function(t){return this.m_parser.getAttributeName(t)},SAXDriver.prototype.getValue=function(t){return this.m_parser.getAttributeValue(t)},SAXDriver.prototype.getValueByName=function(t){return this.m_parser.getAttributeValueByName(t)},SAXDriver.prototype._fireError=function(t){this.m_strErrMsg=t,this.m_bErr=!0,this.m_hndErr&&this.m_hndErr.fatalError&&this.m_hndErr.fatalError(this)},SAXDriver.prototype._fireEvent=function(t){var e,i,r=arguments,o=r.length-1;this.m_bErr||(SAXDriver.DOC_B==t?(i="startDocument",e=this.m_hndDoc):SAXDriver.DOC_E==t?(i="endDocument",e=this.m_hndDoc):SAXDriver.ELM_B==t?(i="startElement",e=this.m_hndDoc):SAXDriver.ELM_E==t?(i="endElement",e=this.m_hndDoc):SAXDriver.CHARS==t?(i="characters",e=this.m_hndDoc):SAXDriver.PI==t?(i="processingInstruction",e=this.m_hndDoc):SAXDriver.CD_B==t?(i="startCDATA",e=this.m_hndLex):SAXDriver.CD_E==t?(i="endCDATA",e=this.m_hndLex):SAXDriver.CMNT==t&&(i="comment",e=this.m_hndLex),e&&e[i]&&(0==o?e[i]():1==o?e[i](r[1]):2==o?e[i](r[1],r[2]):3==o&&e[i](r[1],r[2],r[3])))},SAXDriver.prototype._parseLoop=function(t){var e,t;for(t=this.m_parser;!this.m_bErr;)if(e=t.next(),e==XMLP._ELM_B)this._fireEvent(SAXDriver.ELM_B,t.getName(),this);else if(e==XMLP._ELM_E)this._fireEvent(SAXDriver.ELM_E,t.getName());else if(e==XMLP._ELM_EMP)this._fireEvent(SAXDriver.ELM_B,t.getName(),this),this._fireEvent(SAXDriver.ELM_E,t.getName());else if(e==XMLP._TEXT)this._fireEvent(SAXDriver.CHARS,t.getContent(),t.getContentBegin(),t.getContentEnd()-t.getContentBegin());else if(e==XMLP._ENTITY)this._fireEvent(SAXDriver.CHARS,t.getContent(),t.getContentBegin(),t.getContentEnd()-t.getContentBegin());else if(e==XMLP._PI)this._fireEvent(SAXDriver.PI,t.getName(),t.getContent().substring(t.getContentBegin(),t.getContentEnd()));else if(e==XMLP._CDATA)this._fireEvent(SAXDriver.CD_B),this._fireEvent(SAXDriver.CHARS,t.getContent(),t.getContentBegin(),t.getContentEnd()-t.getContentBegin()),this._fireEvent(SAXDriver.CD_E);else if(e==XMLP._COMMENT)this._fireEvent(SAXDriver.CMNT,t.getContent(),t.getContentBegin(),t.getContentEnd()-t.getContentBegin());else if(e==XMLP._DTD);else if(e==XMLP._ERROR)this._fireError(t.getContent());else if(e==XMLP._NONE)return},SAXStrings=function(){},SAXStrings.WHITESPACE=" 	\n\r",SAXStrings.QUOTES="\"'",SAXStrings.getColumnNumber=function(t,e){if(SAXStrings.isEmpty(t))return-1;e=e||t.length;{var i=t.substring(0,e).split("\n");i[i.length-1]}i.length--;var r=i.join("\n").length;return e-r},SAXStrings.getLineNumber=function(t,e){return SAXStrings.isEmpty(t)?-1:(e=e||t.length,t.substring(0,e).split("\n").length)},SAXStrings.indexOfNonWhitespace=function(t,e,i){if(SAXStrings.isEmpty(t))return-1;e=e||0,i=i||t.length;for(var r=e;i>r;r++)if(-1==SAXStrings.WHITESPACE.indexOf(t.charAt(r)))return r;return-1},SAXStrings.indexOfWhitespace=function(t,e,i){if(SAXStrings.isEmpty(t))return-1;e=e||0,i=i||t.length;for(var r=e;i>r;r++)if(-1!=SAXStrings.WHITESPACE.indexOf(t.charAt(r)))return r;return-1},SAXStrings.isEmpty=function(t){return null==t||0==t.length},SAXStrings.lastIndexOfNonWhitespace=function(t,e,i){if(SAXStrings.isEmpty(t))return-1;e=e||0,i=i||t.length;for(var r=i-1;r>=e;r--)if(-1==SAXStrings.WHITESPACE.indexOf(t.charAt(r)))return r;return-1},SAXStrings.replace=function(t,e,i,r,o){return SAXStrings.isEmpty(t)?"":(e=e||0,i=i||t.length,t.substring(e,i).split(r).join(o))},saxStack=function(){this.m_arr=new Array},saxStack.prototype.clear=function(){this.m_arr=new Array},saxStack.prototype.count=function(){return this.m_arr.length},saxStack.prototype.destroy=function(){this.m_arr=null},saxStack.prototype.peek=function(){return 0==this.m_arr.length?null:this.m_arr[this.m_arr.length-1]},saxStack.prototype.pop=function(){if(0==this.m_arr.length)return null;var t=this.m_arr[this.m_arr.length-1];return this.m_arr.length--,t},saxStack.prototype.push=function(t){this.m_arr[this.m_arr.length]=t};var xmlTextArray,xmlCDataArray,xmlAttrArray;xmlHandler=function(){this.m_strError="",this.m_treePath=[],this.m_xPath=[""],this.m_text=[""],this.m_cdata=[""],this.m_attr=[""],this.m_pi=[""],this.cdata=!1},xmlHandler.prototype.characters=function(t,e,i){var r=t.substr(e,i);return"\n"==r?null:void(this.m_treePath.length>0&&(0==this.cdata?(this.m_text[this.m_xPath.join("/")]||(this.m_text[this.m_xPath.join("/")]=""),this.m_text[this.m_xPath.join("/")]+=r):(this.m_cdata[this.m_xPath.join("/")]||(this.m_cdata[this.m_xPath.join("/")]=""),this.m_cdata[this.m_xPath.join("/")]+=r)))},xmlHandler.prototype.comment=function(t,e,i){t.substr(e,i)},xmlHandler.prototype.endCDATA=function(){this.cdata=!1},xmlHandler.prototype.endDocument=function(){},xmlHandler.prototype.endElement=function(){this.m_xPath=this.m_xPath.slice(0,-1)},xmlHandler.prototype.error=function(t){this.m_strError+="Error:"+t.getMessage()+"\n"},xmlHandler.prototype.fatalError=function(t){this.m_strError+="fatal error:"+t.getMessage()+"\n"},xmlHandler.prototype.getAttr_Array=function(){return this.m_attr},xmlHandler.prototype.getCDATA_Array=function(){return this.m_cdata},xmlHandler.prototype.getError=function(){return this.m_strError},xmlHandler.prototype.getPath_Array=function(){return this.m_treePath},xmlHandler.prototype.getText_Array=function(){return this.m_text},xmlHandler.prototype.processingInstruction=function(){},xmlHandler.prototype.setDocumentLocator=function(t){this.m_locator=t},xmlHandler.prototype.startCDATA=function(){this.cdata=!0},xmlHandler.prototype.startDocument=function(){},xmlHandler.prototype.startElement=function(t,e){alert(t);var r,o=e.getLength();if(this.m_xPath[this.m_xPath.length]=t,r=this.m_xPath.join("/"),this.m_treePath[this.m_treePath.length]=r,o){var n=[];for(i=0;i<o;i++)n[e.getName(i)]=e.getValue(i);this.m_attr[this.m_xPath.join("/")]=n}},xmlHandler.prototype.warning=function(t){this.m_strError+="Warning:"+t.getMessage()+"\n"},Timer.prototype.start=function(){var t=new Date;this.startTime=t.getTime()},Timer.prototype.stop=function(){var t=new Date;this.stopTime=t.getTime()},Timer.prototype.getTime=function(){return this.startTime&&this.stopTime?(this.stopTime-this.startTime)/1e3:0};var __userAgent=navigator.userAgent,__isIE=null!=navigator.appVersion.match(/MSIE/),__IEVersion=__getIEVersion(),__isIENew=__isIE&&__IEVersion>=8,__isIEOld=__isIE&&!__isIENew,__isFireFox=null!=__userAgent.match(/firefox/i),__isFireFoxOld=__isFireFox&&(null!=__userAgent.match(/firefox\/2./i)||null!=__userAgent.match(/firefox\/1./i)),__isFireFoxNew=__isFireFox&&!__isFireFoxOld,__isWebKit=null!=navigator.appVersion.match(/WebKit/),__isChrome=null!=navigator.appVersion.match(/Chrome/),__isOpera=null!=window.opera,__operaVersion=__getOperaVersion(),__isOperaOld=__isOpera&&10>__operaVersion,eEndBehavior={Reset:0,Constant:1,Repeat:2,Oscillate:3,OffsetRepeat:4,Linear:5},eImageAntialiasOp={None:0,TwoPass:1,FourPass:2,EightPass:3,EnumCount:4},eKeyframeShape={Linear:0,Stepped:1,TCB:2,Bezier1D:3,Bezier2D:4,Hermite:5},eTextureType={Color:0,Diffuse:1,Luminosity:2,Reflection:3,Specularity:4,Transparency:5,Clip:6,Bump:7,EnumCount:8},eTextureWrap={None:0,Clamp:1,Repeat:2,Mirror:3,EnumCount:4},eHighlightType={None:0,FourPass:1,EightPass:2},eBoneFalloffType={InverseDistance:0,InverseDistance_2:1,InverseDistance_4:2,InverseDistance_8:3,InverseDistance_16:4},FLT_EPSILON=1.192092896e-7,FLT_MAX=3.402823466e38,TWOPI=2*Math.PI,HALFPI=Math.PI/2,QUARTERPI=Math.PI/4;Vector2D.prototype.v=function(){var t=[this.x,this.y];return t},Vector2D.prototype.load=function(t,e){this.x=t,this.y=e},Vector2D.prototype.copy=function(t){t&&(this.x=t.x,this.y=t.y)},Vector3D.prototype.alert=function(){var t="x: "+this.x+"\n";t+="y: "+this.y+"\n",t+="z: "+this.z+"\n",alert(t)},Vector3D.prototype.v=function(){var t=[this.x,this.y,this.z];return t},Vector3D.prototype.load=function(t,e,i){this.x=t,this.y=e,this.z=i},Vector3D.prototype.copy=function(t){t&&(this.x=t.x,this.y=t.y,this.z=t.z)},Vector3D.prototype.multiplyScalar=function(t){this.x*=t,this.y*=t,this.z*=t},Vector3D.prototype.multiplyVector=function(t){this.x*=t.x,this.y*=t.y,this.z*=t.z},Vector3D.prototype.addVector=function(t){this.x+=t.x,this.y+=t.y,this.z+=t.z},Vector3D.prototype.subtractVector=function(t){this.x-=t.x,this.y-=t.y,this.z-=t.z},Vector3D.prototype.normalize=function(){var t=magnitude(this.x,this.y,this.z);0!=t&&(this.x/=t,this.y/=t,this.z/=t)},Vector4D.prototype.v=function(){var t=[this.x,this.y,this.z,this.w];return t},Vector4D.prototype.load=function(t,e,i,r){Vector4D&&(this.x=t,this.y=e,this.z=i,this.w=r)},Vector4D.prototype.copy=function(t){this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w},Matrix4x4.prototype.alert=function(){alert([[this._11,this._12,this._13,this._14].join(" "),[this._21,this._22,this._23,this._24].join(" "),[this._31,this._32,this._33,this._34].join(" "),[this._41,this._42,this._43,this._44].join(" ")].join("\n"))},Matrix4x4.prototype.flatten=function(){var t=[this._11,this._12,this._13,this._14,this._21,this._22,this._23,this._24,this._31,this._32,this._33,this._34,this._41,this._42,this._43,this._44];return t},Matrix4x4.prototype.getAt=function(t,e){switch(t){case 0:switch(e){case 0:return this._11;case 1:return this._12;case 2:return this._13;case 3:return this._14}break;case 1:switch(e){case 0:return this._21;case 1:return this._22;case 2:return this._23;case 3:return this._24}break;case 2:switch(e){case 0:return this._31;case 1:return this._32;case 2:return this._33;case 3:return this._34}break;case 3:switch(e){case 0:return this._41;case 1:return this._42;case 2:return this._43;case 3:return this._44}}},Matrix4x4.prototype.setAt=function(t,e,i){switch(t){case 0:switch(e){case 0:this._11=i;break;case 1:this._12=i;break;case 2:this._13=i;break;case 3:this._14=i}break;case 1:switch(e){case 0:this._21=i;break;case 1:this._22=i;break;case 2:this._23=i;break;case 3:this._24=i}break;case 2:switch(e){case 0:this._31=i;break;case 1:this._32=i;break;case 2:this._33=i;break;case 3:this._34=i}break;case 3:switch(e){case 0:this._41=i;break;case 1:this._42=i;break;case 2:this._43=i;break;case 3:this._44=i}}},Matrix4x4.prototype.load=function(t,e,i,r,o,n,a,s,l,c,h,u,d,p,f,_){this._11=t,this._12=e,this._13=i,this._14=r,this._21=o,this._22=n,this._23=a,this._24=s,this._31=l,this._32=c,this._33=h,this._34=u,this._41=d,this._42=p,this._43=f,this._44=_},Matrix4x4.prototype.loadMatrix=function(t){this._11=t._11,this._12=t._12,this._13=t._13,this._14=t._14,this._21=t._21,this._22=t._22,this._23=t._23,this._24=t._24,this._31=t._31,this._32=t._32,this._33=t._33,this._34=t._34,this._41=t._41,this._42=t._42,this._43=t._43,this._44=t._44},Matrix4x4.prototype.loadArray=function(t){this._11=t[0],this._12=t[1],this._13=t[2],this._14=t[3],this._21=t[4],this._22=t[5],this._23=t[6],this._24=t[7],this._31=t[8],this._32=t[9],this._33=t[10],this._34=t[11],this._41=t[12],this._42=t[13],this._43=t[14],this._44=t[15]},Matrix4x4.prototype.loadIdentity=function(){this._11=1,this._12=0,this._13=0,this._14=0,this._21=0,this._22=1,this._23=0,this._24=0,this._31=0,this._32=0,this._33=1,this._34=0,this._41=0,this._42=0,this._43=0,this._44=1},Matrix4x4.prototype.loadTranslation=function(t,e,i){this.loadIdentity(),this._41=t,this._42=e,this._43=i},Matrix4x4.prototype.loadRotation=function(t,e,i,r){var o=new Matrix4x4,n=new Matrix4x4,a=Math.sqrt(e*e+i*i);if(0!=a){var s=e/a,l=i/a;o._22=l,o._23=s,o._32=-s,o._33=l,n._22=l,n._23=-s,n._32=s,n._33=l}var c=new Matrix4x4,h=new Matrix4x4,u=magnitude(t,e,i);if(0!=u){var d=a/u,p=t/u;c._11=d,c._13=p,c._31=-p,c._33=d,h._11=d,h._13=-p,h._31=p,h._33=d}var f=new Matrix4x4,_=Math.cos(toRadians(r)),m=Math.sin(toRadians(r));
f._11=_,f._12=m,f._21=-m,f._22=_;var g=o.multiply(c.multiply(f.multiply(h.multiply(n))));this.loadMatrix(g)},Matrix4x4.prototype.loadXAxisRotation=function(t){this.loadIdentity();var e=Math.cos(toRadians(t)),i=Math.sin(toRadians(t));this._22=e,this._23=i,this._32=-i,this._33=e},Matrix4x4.prototype.loadYAxisRotation=function(t){this.loadIdentity();var e=Math.cos(toRadians(t)),i=Math.sin(toRadians(t));this._11=e,this._13=-i,this._31=i,this._33=e},Matrix4x4.prototype.loadZAxisRotation=function(t){this.loadIdentity();var e=Math.cos(toRadians(t)),i=Math.sin(toRadians(t));this._11=e,this._12=i,this._21=-i,this._22=e},Matrix4x4.prototype.loadXYZAxisRotation=function(t,e,i){var r=new Matrix4x4,o=new Matrix4x4,n=new Matrix4x4;r.loadXAxisRotation(t),o.loadYAxisRotation(e),n.loadZAxisRotation(i);var a=o.multiply(r.multiply(n));this.loadMatrix(a)},Matrix4x4.prototype.getTranslation=function(){return{x:this._41,y:this._42,z:this._43}},Matrix4x4.prototype.getRotationAngles=function(){var t,e,i;t=Math.asin(clamp(this._23,-1,1));var r=Math.cos(t);if(epsilonEqual(r,0,FLT_EPSILON)){var o=new Matrix4x4;o.loadXAxisRotation(toDegrees(t)),o.transpose(),o.loadMatrix(o.multiply(this)),e=0,i=Math.atan2(-o._21,o._22)}else e=Math.atan2(-this._13/r,this._33/r),i=Math.atan2(-this._21/r,this._22/r);return{x:toDegrees(t),y:toDegrees(e),z:toDegrees(i)}},Matrix4x4.prototype.getQuaternion=function(){var t=new Matrix4x4;t.loadMatrix(this);var e=t.getScalingFactors(),i=new Matrix4x4;i.loadScale(1/e.x,1/e.y,1/e.z),t=t.multiply(i),t.transpose();var r=new Quaternion;return r.w=Math.sqrt(Math.max(0,1+t._11+t._22+t._33))/2,r.x=Math.sqrt(Math.max(0,1+t._11-t._22-t._33))/2,r.y=Math.sqrt(Math.max(0,1-t._11+t._22-t._33))/2,r.z=Math.sqrt(Math.max(0,1-t._11-t._22+t._33))/2,r.x*=SIGN(t._32-t._23),r.y*=SIGN(t._13-t._31),r.z*=SIGN(t._21-t._12),r},Matrix4x4.prototype.loadScale=function(t,e,i){this.loadIdentity(),this._11=t,this._22=e,this._33=i},Matrix4x4.prototype.getScalingFactors=function(){var t,e;t=this.transform(1,0,0,0),e=this.transform(2,0,0,0);var i=magnitude(e.x,e.y,e.z)-magnitude(t.x,t.y,t.z);t=this.transform(0,1,0,0),e=this.transform(0,2,0,0);var r=magnitude(e.x,e.y,e.z)-magnitude(t.x,t.y,t.z);t=this.transform(0,0,1,0),e=this.transform(0,0,2,0);var o=magnitude(e.x,e.y,e.z)-magnitude(t.x,t.y,t.z);return{x:i,y:r,z:o}},Matrix4x4.prototype.multiply=function(t){var e=new Matrix4x4;return t?(e.load(this._11*t._11+this._12*t._21+this._13*t._31+this._14*t._41,this._11*t._12+this._12*t._22+this._13*t._32+this._14*t._42,this._11*t._13+this._12*t._23+this._13*t._33+this._14*t._43,this._11*t._14+this._12*t._24+this._13*t._34+this._14*t._44,this._21*t._11+this._22*t._21+this._23*t._31+this._24*t._41,this._21*t._12+this._22*t._22+this._23*t._32+this._24*t._42,this._21*t._13+this._22*t._23+this._23*t._33+this._24*t._43,this._21*t._14+this._22*t._24+this._23*t._34+this._24*t._44,this._31*t._11+this._32*t._21+this._33*t._31+this._34*t._41,this._31*t._12+this._32*t._22+this._33*t._32+this._34*t._42,this._31*t._13+this._32*t._23+this._33*t._33+this._34*t._43,this._31*t._14+this._32*t._24+this._33*t._34+this._34*t._44,this._41*t._11+this._42*t._21+this._43*t._31+this._44*t._41,this._41*t._12+this._42*t._22+this._43*t._32+this._44*t._42,this._41*t._13+this._42*t._23+this._43*t._33+this._44*t._43,this._41*t._14+this._42*t._24+this._43*t._34+this._44*t._44),e):null},Matrix4x4.prototype.leftMultiply=function(t){var e=t.multiply(this);return e},Matrix4x4.prototype.transpose=function(){var t=new Matrix4x4;t.loadMatrix(this),this._11=t._11,this._12=t._21,this._13=t._31,this._14=t._41,this._21=t._12,this._22=t._22,this._23=t._32,this._24=t._42,this._31=t._13,this._32=t._23,this._33=t._33,this._34=t._43,this._41=t._14,this._42=t._24,this._43=t._34,this._44=t._44},Matrix4x4.prototype.invert=function(t){var e=determinant4x4(this._11,this._12,this._13,this._14,this._21,this._22,this._23,this._24,this._31,this._32,this._33,this._34,this._41,this._42,this._43,this._44);if(0!=e){var i,r,o,n,a,s=new Matrix4x4;for(i=0;4>i;i++)for(r=0;4>r;r++){var l=[];for(o=0,a=0;4>o;o++)if(o!=i)for(n=0;4>n;n++)n!=r&&(l[a++]=this.getAt(o,n));s.setAt(i,r,determinant3x3(l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],l[8])/e*(i+r&1?-1:1))}t||s.transpose(),this.loadMatrix(s)}},Matrix4x4.prototype.transform=function(t,e,i,r){var o,n,a;return 0==r?(o=this._11*t+this._21*e+this._31*i,n=this._12*t+this._22*e+this._32*i,a=this._13*t+this._23*e+this._33*i):1==r?(o=this._11*t+this._21*e+this._31*i+this._41,n=this._12*t+this._22*e+this._32*i+this._42,a=this._13*t+this._23*e+this._33*i+this._43):(o=this._11*t+this._21*e+this._31*i+this._41*r,n=this._12*t+this._22*e+this._32*i+this._42*r,a=this._13*t+this._23*e+this._33*i+this._43*r),{x:o,y:n,z:a}},Matrix4x4.prototype.transformw=function(t,e,i,r){var o,n,a,s;return 0==r?(o=this._11*t+this._21*e+this._31*i,n=this._12*t+this._22*e+this._32*i,a=this._13*t+this._23*e+this._33*i,s=this._14*t+this._24*e+this._34*i):1==r?(o=this._11*t+this._21*e+this._31*i+this._41,n=this._12*t+this._22*e+this._32*i+this._42,a=this._13*t+this._23*e+this._33*i+this._43,s=this._14*t+this._24*e+this._34*i+this._44):(o=this._11*t+this._21*e+this._31*i+this._41*r,n=this._12*t+this._22*e+this._32*i+this._42*r,a=this._13*t+this._23*e+this._33*i+this._43*r,s=this._14*t+this._24*e+this._34*i+this._44*r),{x:o,y:n,z:a,w:s}},Matrix4x4.prototype.transformVector3D=function(t,e){return this.transform(t.x,t.y,t.z,e)},MatrixStack.prototype=new Stack,MatrixStack.prototype.constructor=MatrixStack,MatrixStack.prototype.push=function(t){this.stack.push(t?t:this.top())},MatrixStack.prototype.loadMatrix=function(t){this.load(t)},MatrixStack.prototype.leftMultiply=function(t){var e=t.multiply(this.top());this.pop(),Stack.prototype.push.call(this,e)},MatrixStack.prototype.rightMultiply=function(t){var e=this.top().multiply(t);this.pop(),Stack.prototype.push.call(this,e)},Quaternion.prototype.load=function(t,e,i,r){this.w=t,this.x=e,this.y=i,this.z=r},Quaternion.prototype.loadQuaternion=function(t){this.w=t.w,this.x=t.x,this.y=t.y,this.z=t.z},Quaternion.prototype.loadArray=function(t){this.w=t[0],this.x=t[1],this.y=t[2],this.z=t[3]},Quaternion.prototype.loadIdentity=function(){this.w=1,this.x=0,this.y=0,this.z=0},Quaternion.prototype.magnitude=function(){return Math.sqrt(this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z)},Quaternion.prototype.normalize=function(){var t=this.magnitude();this.w/=t,this.x/=t,this.y/=t,this.z/=t},Quaternion.prototype.loadRotation=function(t,e,i,r){var o=toRadians(r)/2,n=Math.sin(o),a=Math.cos(o);this.w=a,this.x=t*n,this.y=e*n,this.z=i*n,this.normalize()},Quaternion.prototype.loadXAxisRotation=function(t){var e=toRadians(t)/2;this.w=Math.cos(e),this.x=Math.sin(e),this.y=0,this.z=0},Quaternion.prototype.loadYAxisRotation=function(t){var e=toRadians(t)/2;this.w=Math.cos(e),this.x=0,this.y=Math.sin(e),this.z=0},Quaternion.prototype.loadZAxisRotation=function(t){var e=toRadians(t)/2;this.w=Math.cos(e),this.x=0,this.y=0,this.z=Math.sin(e)},Quaternion.prototype.loadXYZAxisRotation=function(t,e,i){var r=toRadians(t)/2,o=toRadians(e)/2,n=toRadians(i)/2,a=new Quaternion;a.load(Math.cos(r),Math.sin(r),0,0);var s=new Quaternion;s.load(Math.cos(o),0,Math.sin(o),0);var l=new Quaternion;l.load(Math.cos(n),0,0,Math.sin(n));var c=s.multiply(a.multiply(l));this.loadQuaternion(c)},Quaternion.prototype.multiply=function(t){var e=new Quaternion;return e.load(this.w*t.w-this.x*t.x-this.y*t.y-this.z*t.z,this.w*t.x+this.x*t.w+this.y*t.z-this.z*t.y,this.w*t.y+this.y*t.w+this.z*t.x-this.x*t.z,this.w*t.z+this.z*t.w+this.x*t.y-this.y*t.x),e},Quaternion.prototype.getMatrix=function(){var t=new Matrix4x4,e=this.x+this.x,i=this.y+this.y,r=this.z+this.z,o=this.x*e,n=this.x*i,a=this.x*r,s=this.y*i,l=this.y*r,c=this.z*r,h=this.w*e,u=this.w*i,d=this.w*r;return t._11=1-(s+c),t._21=n-d,t._31=a+u,t._41=0,t._12=n+d,t._22=1-(o+c),t._32=l-h,t._42=0,t._13=a-u,t._23=l+h,t._33=1-(o+s),t._43=0,t._14=0,t._24=0,t._34=0,t._44=1,t},Quaternion.prototype.getRotationAngles=function(){var t=this.x*this.x,e=this.y*this.y,i=this.z*this.z,r=this.x*this.y,o=this.x*this.z,n=this.y*this.z,a=this.w*this.x,s=this.w*this.y,l=this.w*this.z,n=this.y*this.z,c=Math.atan2(2*(a+n),1-2*(t+e)),h=Math.asin(2*(s-o)),u=Math.atan2(2*(l+r),1-2*(e+i));return{x:toDegrees(c),y:toDegrees(h),z:toDegrees(u)}},Plane2.prototype=new Plane,Plane2.prototype.constructor=Plane2,ViewVolume.prototype.setPerspective=function(t,e,i,r){var o=i*Math.tan(.5*t),n=o*e,a=new Vector3D(-n,o,i),s=new Vector3D(n,o,i),l=new Vector3D(-n,-o,i),c=new Vector3D(n,-o,i);o=r*Math.tan(.5*t),n=o*e;var h=new Vector3D(-n,o,r),u=new Vector3D(n,o,r),d=new Vector3D(-n,-o,r),p=new Vector3D(n,-o,r);this.left=new Plane2(a,l,d),this.right=new Plane2(c,s,u),this.top=new Plane2(a,h,u),this.bottom=new Plane2(l,c,p),this.near=new Plane2(l,a,s),this.far=new Plane2(p,u,h)},ViewVolume.prototype.setOrthographic=function(t,e,i,r,o,n){var a=new Vector3D(t,i,o),s=new Vector3D(e,i,o),l=new Vector3D(t,r,o),c=new Vector3D(e,r,o),h=new Vector3D(t,i,n),u=new Vector3D(e,i,n),d=new Vector3D(t,r,n),p=new Vector3D(e,r,n);this.left=new Plane2(d,h,a),this.right=new Plane2(c,s,u),this.top=new Plane2(a,h,u),this.bottom=new Plane2(p,d,l),this.near=new Plane2(l,a,s),this.far=new Plane2(p,u,h)};var EPSILON=1e-8,eAttrType={Unknown:-1,Attribute:0,AttributeContainer:1,AttributeVector:2,AttributeFactory:3,AttributeRegistry:4,BalloonTipLabelStyleAttr:5,BBoxAttr:6,BooleanAttr:7,ColorAttr:8,FontStyleAttr:9,IconStyleAttr:10,ImageAttr:11,KeyframeAttr:12,KeyframesAttr:13,LabelStyleAttr:14,HTMLLabelStyleAttr:15,NumberArrayAttr:16,NumberAttr:17,Matrix4x4Attr:18,PlaneAttr:19,PulseAttr:20,RectAttr:21,ReferenceAttr:22,StringAttr:23,StyleAttr:24,StylesAttr:25,StyleMapAttr:26,StylesMapAttr:27,Vector2DAttr:28,Vector3DAttr:29,ViewportAttr:30,ViewVolumeAttr:31,RenderableElementStyleAttr:32,Bone:33,SnapConnector:34,GenericConnector:36,GenericConnectors:37,SocketConnector:38,SocketConnectors:39,PlugConnector:40,PlugConnectors:41,SphereAttr:42,PhysicalPropertiesAttr:43,SnapModelDescriptor:44,SnapModelDescriptors:45,Node:1e3,ParentableMotionElement:1001,Camera:1002,PerspectiveCamera:1003,OrthographicCamera:1004,Light:1005,DirectionalLight:1006,PointLight:1007,SpotLight:1008,GlobalIllumination:1009,Material:1010,Texture:1011,RenderableElement:1012,Geometry:1013,VertexGeoemtry:1014,TriList:1015,Group:1016,Isolator:1017,Dissolve:1018,Transform:1019,QuaternionRotate:1020,Scale:1021,Rotate:1022,Translate:1023,Model:1024,Surface:1025,MediaTexture:1026,NullObject:1027,Label:1028,HTMLLabel:1029,BalloonTipLabel:1030,PathTrace:1031,Bone:1032,Selector:1033,ScreenRect:1034,SnapModel:1035,Ball:1036,Beam:1037,Box:1038,Elbow:1039,Gear:1040,Plank:1041,Pyramid:1042,Ring:1043,Tube:1044,Wall:1045,Wedge:1046,Evaluator:1100,SceneInspector:1101,KeyframeInterpolator:1102,BBoxLocator:1103,ArcballInspector:1104,MapProjectionCalculator:1105,ObjectInspector:1106,MultiTargetObserver:1107,ObjectMover:1108,AnimalMover:1109,WalkSimulator:1110,MorphEffector:1111,BoneEffector:1112,PhysicsSimulator:1113,GoblinPhysicsSimulator:1114,CannonPhysicsSimulator:1115,Animator:1116,Spinner:1117,Evaluator_End:1199,Node_End:1999,Directive:2e3,UpdateDirective:2001,RenderDirective:2002,RayPickDirective:2003,BBoxDirective:2004,SerializeDirective:2005,CollideDirective:2006,HighlightDirective:2007,ShadowDirective:2008,Directive_End:2999,Command:3e3,CommandSequence:3001,AppendNode:3002,AttributeTrigger:3003,AutoInterpolate:3004,Locate:3005,Play:3006,Pause:3007,Remove:3008,ScreenCapture:3009,Serialize:3010,Set:3011,Stop:3012,ConnectAttributes:3013,DisconnectAttributes:3014,Export:3015,Morph:3016,SnapTo:3017,Command_End:3999,DeviceHandler:4e3,MouseHandler:4001,KeyboardHandler:4002,DeviceHandler_End:4999,UserDefined:5e3},eAttrElemType={Unknown:-1,Attribute:0,Int:1,UnsignedInt:2,Char:3,UnsignedChar:4,Float:5,Double:6,UserDefined:100},eAttrSetOp={Replace:0,Add:1,Subtract:2,Multiply:3,Divide:4,Append:5,AND:6,OR:7,XOR:8,NAND:9,NOR:10};Attribute.prototype=new Base,Attribute.prototype.constructor=Attribute,Attribute.prototype.destroy=function(){this.removeAllSources(),this.removeAllTargets(),Base.prototype.destroy.call(this)},Attribute.prototype.clone=function(){return null},Attribute.prototype.getValue=function(t,e){var i=e?e.elementIndex:-1;if(0>i)if(null==this.values)t[0]=null;else if(void 0==this.values.length)t[0]=this.values;else for(var r=0;r<this.values.length;r++)t[r]=this.values[r];else{var o=Math.max(0,e?e.valueElementIndex:0);t[o]=this.values[i]}},Attribute.prototype.getLastValue=function(t,e){var i=e?e.elementIndex:-1;if(0>i)if(null==this.lastValues)t[0]=null;else if(void 0==this.lastValues.length)t[0]=this.lastValues;else for(var r=0;r<this.lastValues.length;r++)t[r]=this.lastValues[r];else{var o=Math.max(0,e?e.valueElementIndex:0);t[o]=this.lastValues[i]}},Attribute.prototype.setValue=function(t,e){this.lastValues=this.values.slice();var i=e?e.elementIndex:-1,r=e?e.op:eAttrSetOp.Replace;if(0>i)if(null==t)this.values[0]=null;else if(void 0==t.length)switch(r){case eAttrSetOp.Add:this.values[0]+=t;break;case eAttrSetOp.Replace:this.values[0]=t;break;case eAttrSetOp.AND:this.values[0]&=t;break;default:alert("unsupported operation passed to Attribute::setValue")}else{this.values.length=t.length;for(var o=0;o<t.length;o++)switch(r){case eAttrSetOp.Add:this.values[o]+=t[o];break;case eAttrSetOp.Replace:this.values[o]=t[o];break;case eAttrSetOp.AND:this.values[o]&=t[o];break;default:alert("unsupported operation passed to Attribute::setValue")}}else if(null==t)this.values[i]=null;else if(void 0==t.length)this.values[i]=t;else{var n=Math.max(0,e?e.valueElementIndex:0);this.values[i]=t[n]}var a=e?e.alertModifiedCBs:!0;if(a)for(var o=0;o<this.modifiedCBs.length;o++)this.modifiedCBs[o](this,this.modifiedCBsData[o]);var s=e?e.updateTargets:!0;if(s)for(var l=e?e.caller:null,o=0;o<this.targets.length;o++){var c=this.targets[o];if(l!=c.target){var e=new AttributeSetParams(c.targetElementIndex,c.sourceElementIndex,c.op,!0,!0,this);c.target.setValue(this.values,e)}}this.modificationCount++},Attribute.prototype.revertValues=function(){this.setValue(this.lastValues,null)},Attribute.prototype.getElement=function(t){return this.values.length>t?this.values[t]:void 0},Attribute.prototype.setElement=function(){console.debug("TODO: "+arguments.callee.name)},Attribute.prototype.getLength=function(){return void 0==this.values.length?void 0==this.values?0:1:this.values.length},Attribute.prototype.setLength=function(t){this.values.length=t},Attribute.prototype.addModifiedCB=function(t,e){var i=this.modifiedCBs.indexOf(t),r=this.modifiedCBsData.indexOf(e);i>=0&&i==r||(this.modifiedCBs.push(t),this.modifiedCBsData.push(e))},Attribute.prototype.removeModifiedCB=function(t,e){var i=this.modifiedCBsData.indexOf(e);i>=0&&(this.modifiedCBs.splice(i,1),this.modifiedCBsData.splice(i,1))},Attribute.prototype.addTarget=function(t,e,i,r){void 0==e&&(e=eAttrSetOp.Replace),void 0==i&&(i=null),void 0==r&&(r=!0),this.addElementTarget(t,-1,-1,e,i,r)},Attribute.prototype.addSource=function(t,e,i,r){t.addTarget(this,e,i,r)},Attribute.prototype.removeTarget=function(t){this.removeElementTarget(t,-1,-1)},Attribute.prototype.removeSource=function(t){t.removeTarget(this)},Attribute.prototype.removeAllTargets=function(){for(;this.targets.length>0;)this.removeElementTarget(this.targets[0].target,this.targets[0].sourceElementIndex,this.targets[0].targetElementIndex)},Attribute.prototype.removeAllSources=function(){for(;this.sources.length>0;)this.sources[0].source.removeElementTarget(this,this.sources[0].sourceElementIndex,this.sources[0].targetElementIndex)},Attribute.prototype.addElementTarget=function(t,e,i,r,o,n){if(t&&(void 0==e&&(e=-1),void 0==i&&(i=-1),void 0==r&&(r=eAttrSetOp.Replace),void 0==o&&(o=null),void 0==n&&(n=!0),this.createTarget(new AttributeTargetDesc(t,e,i,r,o)),t.createSource(new AttributeSourceDesc(this,e,i,r,o)),n)){var a=new AttributeSetParams(i,e,r,!0,!0);t.setValue(this.values,a)}},Attribute.prototype.addElementSource=function(t,e,i,r,o,n){t.addElementTarget(this,e,i,r,o,n)},Attribute.prototype.removeElementTarget=function(t,e,i){t&&(this.deleteTarget(new AttributeTargetDesc(t,e,i)),t.deleteSource(new AttributeSourceDesc(this,e,i)))},Attribute.prototype.removeElementSource=function(t,e,i){t.removeElementTarget(this,e,i)},Attribute.prototype.createTarget=function(t){this.targets.push(t)},Attribute.prototype.createSource=function(t){this.sources.push(t)},Attribute.prototype.deleteTarget=function(t){for(var e=0;e<this.targets.length;e++){var i=this.targets[e];if(i.target==t.target&&i.sourceElementIndex==t.sourceElementIndex&&i.targetElementIndex==t.targetElementIndex){this.targets.splice(e,1);break}}},Attribute.prototype.deleteSource=function(t){for(var e=0;e<this.sources.length;e++){var i=this.sources[e];if(i.source==t.source&&i.sourceElementIndex==t.sourceElementIndex&&i.targetElementIndex==t.targetElementIndex){this.sources.splice(e,1);break}}},Attribute.prototype.copyValue=function(t,e){t.addTarget(this,e),t.removeTarget(this)},Attribute.prototype.isContainer=function(){return!1},Attribute.prototype.isCollection=function(){return!1},Attribute.prototype.isNode=function(){return!1},Attribute.prototype.getContainer=function(){return this.container},Attribute.prototype.setContainer=function(t){this.container=t},Attribute.prototype.setNative=function(t){this["native"]=t},Attribute.prototype.isNative=function(){return this["native"]},Attribute.prototype.setTransient=function(t){this["transient"]=t},Attribute.prototype.isTransient=function(){return this["transient"]},Attribute.prototype.setPersistent=function(t){this.persistent=t},Attribute.prototype.isPersistent=function(){return this.persistent},Attribute.prototype.getRegistry=function(){return this.registry},Attribute.prototype.setRegistry=function(t){this.registry=t},Attribute.prototype.onRegister=function(){},Attribute.prototype.onUnregister=function(){},Attribute.prototype.flagDeserializedFromXML=function(){this.deserialized=!0,this.attrContainer&&this.attrContainer.flagDeserializedFromXML()},Attribute.prototype.isDeserializedFromXML=function(){return this.deserialized},AttributeContainer.prototype=new Attribute,AttributeContainer.prototype.constructor=AttributeContainer,AttributeContainer.prototype.clone=function(){var t=this.registry.find("AttributeFactory"),e=t.create(this.className);return e&&e.synchronize(this,!0),e},AttributeContainer.prototype.destroy=function(){for(var t in this.attrNameMap)for(var e=0;e<this.attrNameMap[t].length;e++){var i=this.attrNameMap[t][e];i.getContainer()==this&&i.destroy()}Attribute.prototype.destroy.call(this)},AttributeContainer.prototype.isContainer=function(){return!0},AttributeContainer.prototype.registerAttribute=function(t,e){t&&(void 0==this.attrNameMap[e]&&(this.attrNameMap[e]=new Array),this.attrNameMap[e].push(t),t.getContainer()||t.setContainer(this),this.attrModifiedCBsEnabled&&t.addModifiedCB(AttributeContainer_AttributeModifiedCB,this))},AttributeContainer.prototype.unregisterAttribute=function(t){if(t)for(var e in this.attrNameMap)for(var i=0;i<this.attrNameMap[e].length;i++)if(this.attrNameMap[e][i]==t){this.attrModifiedCBsEnabled&&t.removeModifiedCB(AttributeContainer_AttributeModifiedCB,this),delete this.attrNameMap[e][i],this.attrNameMap[e].splice(i,1);break}},AttributeContainer.prototype.getAttribute=function(t){return void 0==this.attrNameMap[t]?null:this.attrNameMap[t][0]},AttributeContainer.prototype.getAttributeAt=function(t){var e=0;for(var i in this.attrNameMap)for(var r=0;r<this.attrNameMap[i].length;r++){if(e==t)return this.attrNameMap[i][r];e++}return null},AttributeContainer.prototype.getAttributeName=function(t){var e=0;for(var i in this.attrNameMap)for(var r=0;r<this.attrNameMap[i].length;r++){if(this.attrNameMap[i][r]==t)return i;e++}return null},AttributeContainer.prototype.getAttributeNameAt=function(t){var e=0;for(var i in this.attrNameMap)for(var r=0;r<this.attrNameMap[i].length;r++){if(e==t)return i;e++}return null},AttributeContainer.prototype.getAttributeCount=function(){var t=0;for(var e in this.attrNameMap)t+=this.attrNameMap[e].length;return t},AttributeContainer.prototype.addTarget=function(t,e,i,r){if(t){void 0==e&&(e=null),void 0==i&&(i=null),void 0==r&&(r=!0);var o=Math.max(this.getAttributeCount(),t.getAttributeCount());if(0==o)return;for(var n=null,a=null,s=0;o>s;s++)n=this.getAttributeAt(s),a=t.getAttribute(this.getAttributeNameAt(s)),n&&a&&n.addTarget(a,e,i,r)}},AttributeContainer.prototype.removeTarget=function(t){if(t){var e=Math.max(this.getAttributeCount(),t.getAttributeCount());if(0==e)return;for(var i=null,r=null,o=0;e>o;o++)i=this.getAttributeAt(o),r=t.getAttribute(this.getAttributeNameAt(o)),i&&r&&i.removeTarget(r)}},AttributeContainer.prototype.synchronize=function(t,e){void 0==e&&(e=!0);for(var i in t.attrNameMap)for(var r=0;r<t.attrNameMap[i].length;r++)if(this.attrNameMap[i]&&!(this.attrNameMap[i].length<=r)){var o=this.attrNameMap[i][r];if(!o){if(o=t.attrNameMap[i].clone(),!o)continue;o.setContainer(this),this.registerAttribute(o,i)}o&&e&&o.copyValue(t.attrNameMap[i][r])}},AttributeContainer.prototype.addModifiedCB=function(t,e){if(!this.attrModifiedCBsEnabled){this.attrModifiedCBsEnabled=!0;for(var i in this.attrNameMap)for(var r=0;r<this.attrNameMap[i].length;r++)this.attrNameMap[i][r].addModifiedCB(AttributeContainer_AttributeModifiedCB,this)}Attribute.prototype.addModifiedCB.call(this,t,e)},AttributeRegistry.prototype=new AttributeContainer,AttributeRegistry.prototype.constructor=AttributeRegistry,AttributeRegistry.prototype.addUnique=function(t){for(var e=0;e<this.uniqueAttributes.length;e++)if(this.uniqueAttributes[e]==t)return;this.uniqueAttributes.push(t)},AttributeRegistry.prototype.removeUnique=function(t){for(var e=0;e<this.uniqueAttributes.length;e++)if(this.uniqueAttributes[e]==t)return void this.uniqueAttributes.splice(e,1)},AttributeRegistry.prototype.registerByType=function(t,e){void 0==this.typeRegistry[e]&&(this.typeRegistry[e]=new Array),this.typeRegistry[e].push(t)},AttributeRegistry.prototype.registerByName=function(t,e){0==e.length&&(e="unnamed"),void 0==this.nameRegistry[e]&&(this.nameRegistry[e]=new Array),this.nameRegistry[e].push(t)},AttributeRegistry.prototype.register=function(t){if(this.registerByType(t,t.attrType),t.isContainer()){var e=t.getAttribute("name")||t.getAttribute("id");e&&(this.registerByName(t,e.getValueDirect().join("")),e.addModifiedCB(AttributeRegistry_AttributeContainerNameModifiedCB,this))}this.addUnique(t),this.objectCount++,t.onRegister(this)},AttributeRegistry.prototype.unregisterByType=function(t,e){this.typeRegistry[e]&&this.typeRegistry[e].splice(this.typeRegistry[e].indexOf(t),1)},AttributeRegistry.prototype.unregisterByName=function(t,e){0==e.length&&(e="unnamed"),this.nameRegistry[e]&&this.nameRegistry[e].splice(this.nameRegistry[e].indexOf(t),1)},AttributeRegistry.prototype.unregister=function(t){if(this.unregisterByType(t,t.attrType),t.isContainer()){var e=t.getAttribute("name")||t.getAttribute("id");e&&(this.unregisterByName(t,e.getValueDirect().join("")),e.removeModifiedCB(AttributeRegistry_AttributeContainerNameModifiedCB,this))}this.removeUnique(t),this.objectCount--,t.onUnregister(this)},AttributeRegistry.prototype.getByType=function(t){switch(t){case eAttrType.Camera:var e=[],i=this.getByType(eAttrType.PerspectiveCamera);if(i)for(var r=0;r<i.length;r++)e.push(i[r]);var o=this.getByType(eAttrType.OrthographicCamera);if(o)for(var r=0;r<o.length;r++)e.push(o[r]);return e;case eAttrType.Evaluator:for(var e=[],n=eAttrType.Evaluator+1;n!=eAttrType.Evaluator_End;n++){var a=this.getByType(n);if(a)for(var r=0;r<a.length;r++)e.push(a[r])}return e;default:return this.typeRegistry[t]}},AttributeRegistry.prototype.getByName=function(t){return this.nameRegistry[t]},AttributeRegistry.prototype.updateName=function(t,e){for(var i in this.nameRegistry)for(var r=0;r<this.nameRegistry[i].length;r++)if(this.nameRegistry[i][r]==t)return this.nameRegistry[i].splice(r,1),void this.registerByName(t,e)},AttributeRegistry.prototype.clear=function(){for(var t in this.typeRegistry)this.typeRegistry[t]=[];this.typeRegistry=[];for(var t in this.nameRegistry)this.nameRegistry[t]=[];this.nameRegistry=[],this.uniqueAttributes=[],this.objectCount=0},AttributeRegistry.prototype.getObjectCount=function(){return this.uniqueAttributes.length},AttributeRegistry.prototype.getObject=function(t){return t<this.uniqueAttributes.length?this.uniqueAttributes[t]:null},BooleanAttr.prototype=new Attribute,BooleanAttr.prototype.constructor=BooleanAttr,BooleanAttr.prototype.clone=function(){var t=new BooleanAttr;return t.setValue(this.values),t},BooleanAttr.prototype.getValueDirect=function(){return this.values[0]},BooleanAttr.prototype.getLastValueDirect=function(){var t=[];return this.getLastValue(t),t},BooleanAttr.prototype.setValueDirect=function(t,e){this.setValue(t,e)},ColorAttr.prototype=new Attribute,ColorAttr.prototype.constructor=ColorAttr,ColorAttr.prototype.clone=function(){var t=new ColorAttr;return t.setValue(this.values),t},ColorAttr.prototype.getValueDirect=function(){return{r:this.values[0],g:this.values[1],b:this.values[2],a:this.values[3]}},ColorAttr.prototype.setValueDirect=function(t,e,i,r,o){var n=[t,e,i,r];this.setValue(n,o)},Matrix4x4Attr.prototype=new Attribute,Matrix4x4Attr.prototype.constructor=Matrix4x4Attr,Matrix4x4Attr.prototype.clone=function(){var t=new Matrix4x4Attr;return t.setValue(this.values),t},Matrix4x4Attr.prototype.getValueDirect=function(){var t=new Matrix4x4;return t.loadArray(this.values),t},Matrix4x4Attr.prototype.setValueDirect=function(t,e){var i=[t._11,t._12,t._13,t._14,t._21,t._22,t._23,t._24,t._31,t._32,t._33,t._34,t._41,t._42,t._43,t._44];this.setValue(i,e)},NumberArrayAttr.prototype=new Attribute,NumberArrayAttr.prototype.constructor=NumberArrayAttr,NumberArrayAttr.prototype.clone=function(){var t=new NumberArrayAttr;return t.setValue(this.values),t},NumberArrayAttr.prototype.getValueDirect=function(){return this.values},NumberArrayAttr.prototype.setValueDirect=function(t,e){this.setValue(t,e)},NumberAttr.prototype=new Attribute,NumberAttr.prototype.constructor=NumberAttr,NumberAttr.prototype.clone=function(){var t=new NumberAttr;return t.setValue(this.values),t},NumberAttr.prototype.getValueDirect=function(){return this.values[0]},NumberAttr.prototype.setValueDirect=function(t,e){var i=[t];this.setValue(i,e)},PulseAttr.prototype=new BooleanAttr,PulseAttr.prototype.constructor=PulseAttr,PulseAttr.prototype.clone=function(){var t=new PulseAttr;return t.setValue(this.values),t},PulseAttr.prototype.pulse=function(){this.setValueDirect(!0),this.setValueDirect(!1)},QuaternionAttr.prototype=new Attribute,QuaternionAttr.prototype.constructor=QuaternionAttr,QuaternionAttr.prototype.clone=function(){var t=new QuaternionAttr;return t.setValue(this.values),t},QuaternionAttr.prototype.getValueDirect=function(){var t=new Quaternion;return t.loadArray(this.values),t},QuaternionAttr.prototype.setValueDirect=function(t,e){var i=[t.w,t.x,t.y,t.z];this.setValue(i,e)},ReferenceAttr.prototype=new Attribute,ReferenceAttr.prototype.constructor=ReferenceAttr,ReferenceAttr.prototype.clone=function(){var t=new ReferenceAttr;return t.setValue(this.values),t},ReferenceAttr.prototype.getValueDirect=function(){return this.values[0]},ReferenceAttr.prototype.setValueDirect=function(t,e){this.setValue(t,e)},StringAttr.prototype=new Attribute,StringAttr.prototype.constructor=StringAttr,StringAttr.prototype.clone=function(){var t=new StringAttr;return t.setValue(this.values),t},StringAttr.prototype.getValueDirect=function(){return this.values},StringAttr.prototype.getLastValueDirect=function(){var t=[];return this.getLastValue(t),t},StringAttr.prototype.setValueDirect=function(t,e){this.setValue(t,e)},StringAttr.prototype.setValue=function(t,e){this.values=[],Attribute.prototype.setValue.call(this,t,e)},StringAttrAllocator.prototype=new Allocator,StringAttrAllocator.prototype.constructor=StringAttrAllocator,StringAttrAllocator.prototype.allocate=function(){return new StringAttr},TernaryAttr.prototype=new NumberAttr,TernaryAttr.prototype.constructor=TernaryAttr,TernaryAttr.prototype.clone=function(){var t=new TernaryAttr;return t.setValue(this.values),t},Vector2DAttr.prototype=new Attribute,Vector2DAttr.prototype.constructor=Vector2DAttr,Vector2DAttr.prototype.clone=function(){var t=new Vector2DAttr;return t.setValue(this.values),t},Vector2DAttr.prototype.getValueDirect=function(){return{x:this.values[0],y:this.values[1]}},Vector2DAttr.prototype.setValueDirect=function(t,e,i){var r=[t,e];this.setValue(r,i)},Vector3DAttr.prototype=new Attribute,Vector3DAttr.prototype.constructor=Vector3DAttr,Vector3DAttr.prototype.clone=function(){var t=new Vector3DAttr;return t.setValue(this.values),t},Vector3DAttr.prototype.getValueDirect=function(){return{x:this.values[0],y:this.values[1],z:this.values[2]}},Vector3DAttr.prototype.setValueDirect=function(t,e,i,r){var o=[t,e,i];this.setValue(o,r)},Vector3DAttr.prototype.isZero=function(){var t=[];return this.getValue(t),0==t[0]&&0==t[1]&&0==t[2]?!0:!1},ViewportAttr.prototype=new Attribute,ViewportAttr.prototype.constructor=ViewportAttr,ViewportAttr.prototype.clone=function(){var t=new ViewportAttr;return t.setValue(this.values),t},ViewportAttr.prototype.getValueDirect=function(){return{x:this.values[0],y:this.values[1],width:this.values[2],height:this.values[3]}},ViewportAttr.prototype.setValueDirect=function(t,e,i,r,o){var n=[t,e,i,r];this.setValue(n,o)},AttributeVector.prototype=new AttributeContainer,AttributeVector.prototype.constructor=AttributeVector,AttributeVector.prototype.allocatesElements=function(){return this.allocator?!0:!1},AttributeVector.prototype.push_back=function(t){this.addElement(this.vector.length,t)},AttributeVector.prototype.erase=function(t){for(var e=0;e<this.vector.length;e++)if(this.vector[e]==t)return void this.removeElement(e)},AttributeVector.prototype.resize=function(t){this.size.setValueDirect(t)},AttributeVector.prototype.clear=function(){this.resize(0)},AttributeVector.prototype.indexOf=function(t){for(var e=0;e<this.vector.length;e++)if(this.vector[e]==t)return e;return-1},AttributeVector.prototype.getAt=function(t){return this.vector.length>t?this.vector[t]:null},AttributeVector.prototype.setAt=function(t,e){this.vector.length>t&&(this.vector[t]=e)},AttributeVector.prototype.prev=function(t){for(var e=0;e<this.vector.length;e++)if(this.vector[e]==t){if(e>0)return this.vector[e-1];break}return null},AttributeVector.prototype.next=function(t){for(var e=0;e<this.vector.length;e++)if(this.vector[e]==t){if(e<this.vector.length-1)return this.vector[e+1];break}return null},AttributeVector.prototype.addElement=function(t,e){this.vector.splice(t,0,e),this.size.setValueDirect(this.vector.length)},AttributeVector.prototype.removeElement=function(t){this.vector.splice(t,1),this.size.setValueDirect(this.vector.length)},AttributeVector.prototype.Size=function(){return this.size.getValueDirect()},AttributeVector.prototype.AppendParsedElements=function(){return this.appendParsedElements.getValueDirect()},AttributeVector.prototype.setElementName=function(t,e){this.unregisterAttribute(t),this.registerAttribute(t,e),console.debug("TODO: add to element name map")},AttributeVector.prototype.synchronize=function(t,e){for(var i=this.Size(),r=t.Size();r>i;)this.push_back(t.getAt(i)),i++;for(;i>r;)this.removeElement(i-1),i--;if(e)for(var o=0;i>o;o++)t.getAt(o).getValueDirect()!=this.getAt(o).getValueDirect()&&this.getAt(o).copyValue(t.getAt(o))},AttributeVector.prototype.isCollection=function(){return!0},AttributeVector.prototype.sizeModified=function(){var t,e,i=this.vector.length,r=this.size.getValueDirect();if(r>i){t=i,e=t+(r-i);for(var o=t;e>o;o++)this.addElement(o,this.allocator?this.allocator.allocate():null)}else if(i>r){t=i,e=t-(i-r);for(var o=t-1;o>=e;o--)this.removeElement(o)}},StyleAttr.prototype=new AttributeContainer,StyleAttr.prototype.constructor=StyleAttr,StyleAttr.prototype.updateStyle=function(){},StyleAttr.prototype.styleUrlModified=function(){var t=this.styleUrl.getValueDirect().join("");
this.registry&&this.updateStyle(this.registry.find(t))},StylesAttr.prototype=new AttributeVector,StylesAttr.prototype.constructor=StylesAttr,StylesAttr.prototype.updateStyle=function(t){var e=this.enabled.getValueDirect();if(e)for(var i=0;i<t.Size();i++)for(var r=0;r<this.Size();r++)if(this.vector[r].attrType==t.vector[i].attrType){this.vector[r].updateStyle(t.vector[i]);break}},StylesAttr.prototype.registerStyle=function(t,e){this.push_back(t),this.setElementName(t,e),this.alertRegisteredCBs(t,!0)},StylesAttr.prototype.unregisterStyle=function(t){for(var e in this.vector)if(this.vector[e]==t){this.alertRegisteredCBs(t,!1),delete this.vector[e];break}},StylesAttr.prototype.addRegisteredCB=function(t,e){this.registeredCBs.push(t),this.registeredCBsData.push(e)},StylesAttr.prototype.alertRegisteredCBs=function(t){for(var e=0;e<this.registeredCBs.length;e++)this.registeredCBs[e](t,this.registeredCBs[e])},StylesAttr.prototype.push_back=function(t){AttributeVector.prototype.push_back.call(this,t),this.alertRegisteredCBs(t,!0)},StylesAttr.prototype.getStyle=function(t){for(var e=0;e<this.Size();e++)if(this.vector[e].attrType==t)return this.vector[e];return void 0},StyleMapAttr.prototype=new AttributeContainer,StyleMapAttr.prototype.constructor=StyleMapAttr,StyleMapAttr.prototype.getStyles=function(t){var e=null,i=null;return this.eventType==t&&(e=this.styles,i=this.targetContainer),{styles:e,target:i}},StyleMapAttr.prototype.setStyles=function(t){this.styles=t},StyleMapAttr.prototype.setTargetContainer=function(t){this.targetContainer=t},StyleMapAttr.prototype.eventModified=function(){var t=this.event.getValueDirect().join("");this.eventType=eEventNameMap[t]},StyleMapAttr.prototype.styleUrlModified=function(){var t=this.styleUrl.getValueDirect();"#"==t[0]&&t.splice(0,1),t=t.join("");var e=this.registry.find(t);e&&(this.styles=e)},StyleMapAttr.prototype.targetModified=function(){var t=this.target.getValueDirect().join("");this.targetContainer=this.registry.find(t)},StyleMapAttrAllocator.prototype=new Allocator,StyleMapAttrAllocator.prototype.constructor=StyleMapAttrAllocator,StyleMapAttrAllocator.prototype.allocate=function(){return new StyleMapAttr},StylesMapAttr.prototype=new AttributeVector,StylesMapAttr.prototype.constructor=StylesMapAttr,StylesMapAttr.prototype.getStyles=function(t){for(var e=null,i=!1,r=null,o=0;o<this.Size();o++){var n=this.vector[o].getStyles(t);n.styles&&(e=n.styles,r=n.target,this.stylesEnabledMap[n.styles]&&(i=this.stylesEnabledMap[n.styles]))}return{styles:e,target:r,enabled:i}},StylesMapAttr.prototype.StylesMapAttr_SizeModified=function(){for(var t=0;t<this.Size();t++)this.vector[t].registry||this.vector[t].setRegistry(this.registry),this.stylesEnabledMap[this.vector[t].styles]||(this.stylesEnabledMap[this.vector[t].styles]=new BooleanAttr(!0))},KeyframeAttr.prototype=new AttributeContainer,KeyframeAttr.prototype.constructor=KeyframeAttr,KeyframesAttr.prototype=new AttributeVector,KeyframesAttr.prototype.constructor=KeyframesAttr,BBoxAttr.prototype=new AttributeContainer,BBoxAttr.prototype.constructor=BBoxAttr,BBoxAttr.prototype.setValueDirect=function(t,e){this.min.setValueDirect(t.x,t.y,t.z),this.max.setValueDirect(e.x,e.y,e.z)},ImageAttr.prototype=new AttributeContainer,ImageAttr.prototype.constructor=ImageAttr,RectAttr.prototype=new AttributeContainer,RectAttr.prototype.constructor=RectAttr,RectAttr.prototype.getValueDirect=function(){var t=new Rect;return t.left=this.left.getValueDirect(),t.top=this.top.getValueDirect(),t.right=this.right.getValueDirect(),t.bottom=this.bottom.getValueDirect(),t},RectAttr.prototype.setValueDirect=function(t){this.left.setValueDirect(t.left),this.top.setValueDirect(t.top),this.right.setValueDirect(t.right),this.bottom.setValueDirect(t.bottom)},RectAttr.prototype.containsPoint=function(t,e){return t>=this.left.getValueDirect()&&e>=this.top.getValueDirect()&&t<=this.right.getValueDirect()&&e<=this.bottom.getValueDirect()?!0:!1},FontStyleAttr.prototype=new StyleAttr,FontStyleAttr.prototype.constructor=FontStyleAttr,FontStyleAttr.prototype.updateStyle=function(t){var e=t.setOp.getValueDirect();t.antialiasType.modificationCount>0&&this.antialiasType.copyValue(t.antialiasType,e),t.borderColor.modificationCount>0&&this.borderColor.copyValue(t.borderColor,e),t.borderWidth.modificationCount>0&&this.borderWidth.copyValue(t.borderWidth,e),t.color.modificationCount>0&&this.color.copyValue(t.color,e),t.effects.modificationCount>0&&this.effects.copyValue(t.effects,e),t.font.modificationCount>0&&this.font.copyValue(t.font,e),t.opacity.modificationCount>0&&this.opacity.copyValue(t.opacity,e),t.size.modificationCount>0&&this.size.copyValue(t.size,e),t.style.modificationCount>0&&this.style.copyValue(t.style,e)},LabelStyleAttr.prototype=new StyleAttr,LabelStyleAttr.prototype.constructor=LabelStyleAttr,LabelStyleAttr.prototype.updateStyle=function(t){var e=t.setOp.getValueDirect();t.angle.modificationCount>0&&this.angle.copyValue(t.angle,e),t.backgroundColor.modificationCount>0&&this.backgroundColor.copyValue(t.backgroundColor,e),t.backgroundOpacity.modificationCount>0&&this.backgroundOpacity.copyValue(t.backgroundOpacity,e),this.fontStyle.updateStyle(t.fontStyle),t.format.modificationCount>0&&this.format.copyValue(t.format,e),t.height.modificationCount>0&&this.height.copyValue(t.height,e),t.offset.modificationCount>0&&this.offset.copyValue(t.offset,e),t.padding.modificationCount>0&&this.padding.copyValue(t.padding,e),t.scale.modificationCount>0&&this.scale.copyValue(t.scale,e),t.textAlign.modificationCount>0&&this.textAlign.copyValue(t.textAlign,e),t.width.modificationCount>0&&this.width.copyValue(t.width,e)},IconStyleAttr.prototype=new StyleAttr,IconStyleAttr.prototype.constructor=IconStyleAttr,IconStyleAttr.prototype.updateStyle=function(t){var e=t.setOp.getValueDirect();t.alphaUrl.modificationCount>0&&this.alphaUrl.copyValue(t.alphaUrl,e),t.color.modificationCount>0&&this.color.copyValue(t.color,e),t.opacity.modificationCount>0&&this.opacity.copyValue(t.opacity,e),t.scale.modificationCount>0&&this.scale.copyValue(t.scale,e),t.url.modificationCount>0&&this.url.copyValue(t.url,e)},HTMLLabelStyleAttr.prototype=new StyleAttr,HTMLLabelStyleAttr.prototype.constructor=HTMLLabelStyleAttr,BalloonTipLabelStyleAttr.prototype=new StyleAttr,BalloonTipLabelStyleAttr.prototype.constructor=BalloonTipLabelStyleAttr,BalloonTipLabelStyleAttr.prototype.updateStyle=function(t){var e=t.setOp.getValueDirect();t.balloonOffset.modificationCount>0&&this.balloonOffset.copyValue(t.balloonOffset,e),t.bgColor.modificationCount>0&&this.bgColor.copyValue(t.bgColor,e),t.displayMode.modificationCount>0&&this.displayMode.copyValue(t.displayMode,e),this.htmlLabelStyle.updateStyle(t.htmlLabelStyle),t.text.modificationCount>0&&this.text.copyValue(t.text,e),t.textColor.modificationCount>0&&this.textColor.copyValue(t.textColor,e)},RenderableElementStyleAttr.prototype=new StyleAttr,RenderableElementStyleAttr.prototype.constructor=RenderableElementStyleAttr,RenderableElementStyleAttr.prototype.updateStyle=function(t){var e=t.setOp.getValueDirect();t.hasFocus.modificationCount>0&&this.hasFocus.copyValue(t.hasFocus,e),t.selected.modificationCount>0&&this.selected.copyValue(t.selected,e)},PlaneAttr.prototype=new AttributeContainer,PlaneAttr.prototype.constructor=PlaneAttr,PlaneAttr.prototype.getValueDirect=function(){var t=this.point.getValueDirect(),e=this.normal.getValueDirect(),i=new Plane(new Vector3D(t.x,t.y,t.z),new Vector3D(e.x,e.y,e.z));return i},PlaneAttr.prototype.setValueDirect=function(t){this.point.setValueDirect(t.point.x,t.point.y,t.point.z),this.normal.setValueDirect(t.normal.x,t.normal.y,t.normal.z),this.dot.setValueDirect(t.dot)},ViewVolumeAttr.prototype=new AttributeContainer,ViewVolumeAttr.prototype.constructor=ViewVolumeAttr,ViewVolumeAttr.prototype.setValueDirect=function(t,e,i,r,o,n){this.left.setValueDirect(t),this.right.setValueDirect(e),this.top.setValueDirect(i),this.bottom.setValueDirect(r),this.near.setValueDirect(o),this.far.setValueDirect(n)},SphereAttr.prototype=new AttributeContainer,SphereAttr.prototype.constructor=SphereAttr,PhysicalPropertiesAttr.prototype=new AttributeContainer,PhysicalPropertiesAttr.prototype.constructor=PhysicalPropertiesAttr,Agent.prototype=new AttributeContainer,Agent.prototype.constructor=Agent,Agent.prototype.start=function(){this.running=!0},Agent.prototype.stop=function(){this.running=!1},Agent.prototype.pause=function(){this.running=!1},Sphere.prototype.setTransform=function(t){var e=t.transform(this.center.x,this.center.y,this.center.z,1);this.xcenter.x=e.x,this.xcenter.y=e.y,this.xcenter.z=e.z;var i=t.getScalingFactors();this.xradius=this.radius*max3(i.x,i.y,i.z)},Sphere.prototype.intersects=function(t){var e=distanceBetween(this.xcenter,t.xcenter),i=this.xradius+t.xradius;return i>e?!0:!1},Region.prototype.setPlanes=function(){this.xpos=new Plane(this.max,new Vector3D(1,0,0)),this.xneg=new Plane(this.min,new Vector3D(-1,0,0)),this.ypos=new Plane(this.max,new Vector3D(0,1,0)),this.yneg=new Plane(this.min,new Vector3D(0,-1,0)),this.zpos=new Plane(this.max,new Vector3D(0,0,1)),this.zneg=new Plane(this.min,new Vector3D(0,0,-1));var t=new Vector3D(this.max.x,this.max.y,this.max.z),e=new Vector3D(this.max.x,this.max.y,this.min.z),i=new Vector3D(this.max.x,this.min.y,this.max.z),r=new Vector3D(this.max.x,this.min.y,this.min.z),o=new Vector3D(this.min.x,this.max.y,this.max.z),n=new Vector3D(this.min.x,this.max.y,this.min.z),a=new Vector3D(this.min.x,this.min.y,this.max.z),s=new Vector3D(this.min.x,this.min.y,this.min.z);this.xpos_ypos_zpos=new Plane(t,t-s),this.xpos_ypos_zneg=new Plane(e,e-a),this.xpos_yneg_zpos=new Plane(i,i-n),this.xpos_yneg_zneg=new Plane(r,r-o),this.xneg_ypos_zpos=new Plane(o,o-r),this.xneg_ypos_zneg=new Plane(n,n-i),this.xneg_yneg_zpos=new Plane(a,a-e),this.xneg_yneg_zneg=new Plane(s,s-t)},Region.prototype.containsGeometry=function(t,e){for(var i=[],r=0;r<e.length;r++)this.containsTriangle(t[e[r]])&&i.push(e[r]);return i},Region.prototype.containsTriangle=function(t){var e=new Array(3);e[0]=t.v0,e[1]=t.v1,e[2]=t.v2;for(var i=0;3>i;i++)if(e[i].x>=this.min.x&&e[i].y>=this.min.y&&e[i].z>=this.min.z&&e[i].x<=this.max.x&&e[i].y<=this.max.y&&e[i].z<=this.max.z)return!0;if(triangleOnPositiveSideOfPlane(e[0],e[1],e[2],this.xpos)||triangleOnPositiveSideOfPlane(e[0],e[1],e[2],this.xneg)||triangleOnPositiveSideOfPlane(e[0],e[1],e[2],this.ypos)||triangleOnPositiveSideOfPlane(e[0],e[1],e[2],this.yneg)||triangleOnPositiveSideOfPlane(e[0],e[1],e[2],this.zpos)||triangleOnPositiveSideOfPlane(e[0],e[1],e[2],this.zneg)||triangleOnPositiveSideOfPlane(e[0],e[1],e[2],this.xpos_ypos_zpos)||triangleOnPositiveSideOfPlane(e[0],e[1],e[2],this.xpos_ypos_zneg)||triangleOnPositiveSideOfPlane(e[0],e[1],e[2],this.xpos_yneg_zpos)||triangleOnPositiveSideOfPlane(e[0],e[1],e[2],this.xpos_yneg_zneg)||triangleOnPositiveSideOfPlane(e[0],e[1],e[2],this.xneg_ypos_zpos)||triangleOnPositiveSideOfPlane(e[0],e[1],e[2],this.xneg_ypos_zneg)||triangleOnPositiveSideOfPlane(e[0],e[1],e[2],this.xneg_yneg_zpos)||triangleOnPositiveSideOfPlane(e[0],e[1],e[2],this.xneg_yneg_zneg))return!1;for(var r,i=0;3>i;i++){var o=e[i],n=e[(i+1)%3];if(r=lineSegmentPlaneIntersection(o,n,this.xpos),r.count>0&&r.point.y>=this.min.y&&r.point.y<=this.max.y&&r.point.z>=this.min.z&&r.point.z<=this.max.z)return!0;if(r=lineSegmentPlaneIntersection(o,n,this.xneg),r.count>0&&r.point.y>=this.min.y&&r.point.y<=this.max.y&&r.point.z>=this.min.z&&r.point.z<=this.max.z)return!0;if(r=lineSegmentPlaneIntersection(o,n,this.ypos),r.count>0&&r.point.x>=this.min.x&&r.point.x<=this.max.x&&r.point.z>=this.min.z&&r.point.z<=this.max.z)return!0;if(r=lineSegmentPlaneIntersection(o,n,this.yneg),r.count>0&&r.point.x>=this.min.x&&r.point.x<=this.max.x&&r.point.z>=this.min.z&&r.point.z<=this.max.z)return!0;if(r=lineSegmentPlaneIntersection(o,n,this.zpos),r.count>0&&r.point.x>=this.min.x&&r.point.x<=this.max.x&&r.point.y>=this.min.y&&r.point.y<=this.max.y)return!0;if(r=lineSegmentPlaneIntersection(o,n,this.zneg),r.count>0&&r.point.x>=this.min.x&&r.point.x<=this.max.x&&r.point.y>=this.min.y&&r.point.y<=this.max.y)return!0}return r=lineSegmentTriangleIntersection(this.min,this.max,e[0],e[1],e[2]),r.count>0?!0:(r=lineSegmentTriangleIntersection(new Vector3D(this.min.x,this.max.y,this.min.z),new Vector3D(this.max.x,this.min.y,this.max.z),e[0],e[1],e[2]),r.count>0?!0:(r=lineSegmentTriangleIntersection(new Vector3D(this.max.x,this.min.y,this.min.z),new Vector3D(this.min.x,this.max.y,this.max.z),e[0],e[1],e[2]),r.count>0?!0:(r=lineSegmentTriangleIntersection(new Vector3D(this.min.x,this.min.y,this.max.z),new Vector3D(this.max.x,this.max.y,this.min.z),e[0],e[1],e[2]),r.count>0?!0:!1)))},SphereTreeNode.prototype.isLeaf=function(){return 0==this.children.length?!0:!1},SphereTreeNode.prototype.addChild=function(t){this.children.push(t),t.parent=this},SphereTreeNode.prototype.intersects=function(t){return this.sphere.intersects(t.sphere)},SphereTreeNode.prototype.trisIntersect=function(){return!0},BoundingTree.prototype.setTriangles=function(t,e,i){this.tris=t.slice(),this.min.copy(e),this.max.copy(i)},BoundingTree.prototype.setTransform=function(t){this.xform.loadMatrix(t)},SphereTree.prototype=new BoundingTree,SphereTree.prototype.constructor=SphereTree,SphereTree.prototype.setTransform=function(t){this.root&&this.transformNode(t,this.root),BoundingTree.prototype.setTransform.call(this,t)},SphereTree.prototype.transformNode=function(t,e){e.sphere.setTransform(t);for(var i=0;i<e.children.length;i++)this.transformNode(t,e.children[i])},SphereTree.prototype.collides=function(t){if(!this.root||!t.root)return!1;if(this.nodesCollide(this.root,t.root)){if(this.root.isLeaf()&&t.root.isLeaf())return this.root.trisIntersect(t.root);var e=new SphereHitRec,i=[];return t.root.isLeaf()?(e.target=t.root,e.testList=this.root.children):(e.target=this.root,e.testList=t.root.children),i.push(e),this.testSphereHits(i)}return!1},SphereTree.prototype.obstructs=function(t,e){if(!this.root||!t.root)return 0;var i=t.root.sphere.xcenter,r=new Vector3D(i.x+e.x,i.y+e.y,i.z+e.z),o=t.root.sphere.xradius,n=distanceBetweenLineSegmentAndPoint(i,r,this.root.sphere.xcenter);return n<this.root.sphere.xradius+o?n:0},SphereTree.prototype.nodesCollide=function(t,e){return t.intersects(e)},SphereTree.prototype.testSphereHits=function(t){for(;t.length>0;){if(this.testSphereHit(t[0],t))return!0;t.splice(0,1)}return!1},SphereTree.prototype.testSphereHit=function(t,e){for(var i=0;i<t.testList.length;i++)if(this.nodesCollide(t.target,t.testList[i])){var r=new SphereHitRec;if(r.target=t.testList[i],t.target.isLeaf()?r.testList.push(t.target):r.testList=t.target.children,e.push(r),t.target.isLeaf()&&t.testList[i].isLeaf())return t.target.trisIntersect(t.testList[i])}return!1},SphereTree.prototype.rayIntersectsTree=function(t){if(this.root){this.visited.length=this.tris.length;for(var e=0;e<this.visited.length;e++)this.visited[e]=!1;return this.rayIntersectsTreeNode(this.root,t)}return!1},SphereTree.prototype.rayIntersectsTreeNode=function(t,e){if(t.children.length>0){if(0==this.rayIntersectsSphere(t,e))return!1;for(var i=!1,r=0;r<t.children.length;r++)1==this.rayIntersectsTreeNode(t.children[r],e)&&(i=!0);return i?!0:!1}return this.rayIntersectsTriangleList(t.triIndices,e)},SphereTree.prototype.rayIntersectsSphere=function(t,e){var i=e.worldViewMatrix.transform(t.sphere.center.x,t.sphere.center.y,t.sphere.center.z,1),r=t.sphere.radius*max3(e.scale.x,e.scale.y,e.scale.z),o=raySphereIntersection(e.rayOrigin,e.rayDir,i,r);switch(o.count){case 2:if(o.root1<=0&&o.root2<=0)return!1;break;case 1:if(o.root1<=0)return!1;break;case 0:default:return!1}return!0},SphereTree.prototype.rayIntersectsTriangleList=function(t,e){for(var i=0;i<t.length;i++){var r=t[i];if(1!=this.visited[r]){var o=this.tris[r],n=e.worldViewMatrix.transform(o.v0.x,o.v0.y,o.v0.z,1),a=e.worldViewMatrix.transform(o.v1.x,o.v1.y,o.v1.z,1),s=e.worldViewMatrix.transform(o.v2.x,o.v2.y,o.v2.z,1),l=rayTriangleIntersection(e.rayOrigin,e.rayDir,n,a,s,!1,e.doubleSided?!1:!0);if(l.result&&l.t>=e.nearDistance&&l.t<=e.farDistance&&l.t<e.intersectRecord.distance){for(var c=new Vector3D(o.v0.x*(1-l.u-l.v)+o.v1.x*l.u+o.v2.x*l.v,o.v0.y*(1-l.u-l.v)+o.v1.y*l.u+o.v2.y*l.v,o.v0.z*(1-l.u-l.v)+o.v1.z*l.u+o.v2.z*l.v),h=e.worldMatrix.transform(c.x,c.y,c.z,1),u=e.worldViewMatrix.transform(c.x,c.y,c.z,1),d=0;d<e.clipPlanes.length;d++)if(pointOnNegativeSideOfPlane(h,e.clipPlanes[d])){this.visited[r]=!0;break}if(this.visited[r])continue;var p=new Vector3D,f=new Vector3D;p.load(o.v1.x-o.v0.x,o.v1.y-o.v0.y,o.v1.z-o.v0.z),f.load(o.v2.x-o.v0.x,o.v2.y-o.v0.y,o.v2.z-o.v0.z);var _=crossProduct(p,f);_.normalize();var m=e.worldMatrix.transform(_.x,_.y,_.z,0);m=new Vector3D(m.x,m.y,m.z),m.normalize();var g=e.worldViewMatrix.transform(_.x,_.y,_.z,0);g=new Vector3D(g.x,g.y,g.z),g.normalize(),e.intersectRecord.distance=l.t,e.intersectRecord.pointModel.copy(c),e.intersectRecord.pointWorld.copy(h),e.intersectRecord.pointView.copy(u),e.intersectRecord.normalModel.copy(_),e.intersectRecord.normalWorld.copy(m),e.intersectRecord.normalView.copy(g),e.intersectRecord.triIndex=r,e.intersects=!0}this.visited[r]=!0}}return e.intersects},Octree.prototype=new SphereTree,Octree.prototype.constructor=Octree,Octree.prototype.buildTree=function(t){if(!(0>t)){var e=new SphereTreeNode(this);e.sphere.center.copy(midpoint(this.min,this.max)),e.sphere.xcenter.copy(e.sphere.center),e.sphere.radius=distanceBetween(e.sphere.center,this.max),e.sphere.xradius=e.sphere.radius,e.triIndices.length=this.tris.length;for(var i=0;i<this.tris.length;i++)e.triIndices[i]=i;t>0&&this.buildTreeLevels(t,this.min,this.max,e,e.triIndices),this.root=e}},Octree.prototype.buildTreeLevels=function(t,e,i,r,o){if(r.level!=t&&1!=o.length){var n=new Vector3D(e.x+(i.x-e.x)/2,e.y+(i.y-e.y)/2,e.z+(i.z-e.z)/2),a=new Array(8);a[0]=new Region(e.x,e.y,e.z,n.x,n.y,n.z),a[1]=new Region(n.x,e.y,e.z,i.x,n.y,n.z),a[2]=new Region(e.x,e.y,n.z,n.x,n.y,i.z),a[3]=new Region(n.x,e.y,n.z,i.x,n.y,i.z),a[4]=new Region(e.x,n.y,e.z,n.x,i.y,n.z),a[5]=new Region(n.x,n.y,e.z,i.x,i.y,n.z),a[6]=new Region(e.x,n.y,n.z,n.x,i.y,i.z),a[7]=new Region(n.x,n.y,n.z,i.x,i.y,i.z);for(var s=0;8>s;s++){var l=a[s].containsGeometry(this.tris,o);if(l.length>0){var c=new SphereTreeNode(this);c.level=r.level+1,c.sphere.center.copy(midpoint(a[s].min,a[s].max)),c.sphere.xcenter.copy(c.sphere.center),c.sphere.radius=distanceBetween(c.sphere.center,a[s].max),c.sphere.xradius=c.sphere.radius,c.triIndices=l.slice(),r.addChild(c),this.buildTreeLevels(t,a[s].min,a[s].max,c,c.triIndices)}}}},Context.prototype.clear=function(){this.container=null,this.attribute=null,this.item=0,this.containerName="",this.attributeName=""};var eRenderContextMethod={Unknown:0,ApplyProjectionTransform:1,ApplyViewTransform:2,ApplyWorldTransform:3,Clear:4,ClearColor:5,ClearDepth:6,ClearStencil:7,CreateProgram:8,CreateTextureObject:9,CreateVertexBuffer:10,CullFace:11,Disable:12,Enable:13,EnableClipPlane:14,Enabled:15,EnableLight:16,EnableTextureStage:17,Finish:18,GetClipPlane:19,GetEnabledClipPlanes:20,GetEnabledLights:21,GetGlobalIllumination:22,GetLight:23,GetMaxLightCount:24,GetMaxTextureStages:25,GetProgram:26,PerspectiveMatrixLH:27,OrthographicMatrixLH:28,SetBlendColor:29,SetBlendFactor:30,SetClipPlane:31,SetDepthFunc:32,SetEnabledClipPlanes:33,SetEnabledLights:34,SetFrontMaterial:35,SetGlobalIllumination:36,SetLight:37,SetShadeModel:38,SetStencilFunc:39,SetStencilMask:40,SetStencilOp:41,SetTextureBlendFactor:42,SetTextureBlendOp:43,SetTextureColorMask:44,SetViewport:45,VB_SetPrimitiveType:46,VB_SetVertices:47,VB_SetNormals:48,VB_SetColors:49,VB_SetUVCoords:50,VB_SetTextureStage:51,VB_Draw:52,TO_SetImage:53,TO_SetImageData:54,TO_SetVideo:55,SetMatrixMode:56,PushMatrix:57,PopMatrix:58,LoadMatrix:59,LeftMultMatrix:60,RightMultMatrix:61,UseProgram:62,SetModelID:63};DisplayListObj.prototype.record_begin=function(){this.clear(),this.renderContext.setDisplayList(this)},DisplayListObj.prototype.record_end=function(){this.renderContext.setDisplayList(null)},DisplayListObj.prototype.play=function(){for(var t=0;t<this.displayList.length;t++)this.invokeMethod(this.displayList[t])},DisplayListObj.prototype.addMethodDesc=function(t){this.displayList.push(t)},DisplayListObj.prototype.clear=function(){this.displayList=[]},DisplayListObj.prototype.invokeMethod=function(t){switch(t.method){case eRenderContextMethod.ApplyProjectionTransform:this.renderContext.applyProjectionTransform();break;case eRenderContextMethod.ApplyViewTransform:this.renderContext.applyViewTransform();break;case eRenderContextMethod.ApplyWorldTransform:this.renderContext.applyWorldTransform();break;case eRenderContextMethod.Clear:return this.renderContext.clear(t.params[0]);case eRenderContextMethod.ClearColor:this.renderContext.clearColor(t.params[0],t.params[1],t.params[2],t.params[3]);break;case eRenderContextMethod.ClearDepth:this.renderContext.clearDepth(t.params[0]);break;case eRenderContextMethod.ClearStencil:this.renderContext.clearStencil(t.params[0]);break;case eRenderContextMethod.CreateProgram:return this.renderContext.createProgram();case eRenderContextMethod.CreateTextureObject:return this.renderContext.createTextureObject();case eRenderContextMethod.CreateVertexBuffer:return this.renderContext.createVertexBuffer(t.params[0]);case eRenderContextMethod.CullFace:return this.renderContext.cullFace(t.params[0]);case eRenderContextMethod.Disable:this.renderContext.disable(t.params[0]);break;case eRenderContextMethod.Enable:this.renderContext.enable(t.params[0]);break;case eRenderContextMethod.EnableClipPlane:this.renderContext.enableClipPlane(t.params[0],t.params[1]);break;case eRenderContextMethod.Enabled:return this.renderContext.enabled(t.params[0]);case eRenderContextMethod.EnableLight:this.renderContext.enableLight(t.params[0],t.params[1]);break;case eRenderContextMethod.EnableTextureStage:this.renderContext.enableTextureStage(t.params[0],t.params[1]);break;case eRenderContextMethod.Finish:this.renderContext.finish();break;case eRenderContextMethod.GetClipPlane:return this.renderContext.getClipPlane(t.params[0]);case eRenderContextMethod.GetEnabledClipPlanes:return this.renderContext.getEnabledClipPlanes();case eRenderContextMethod.GetEnabledLights:return this.renderContext.getEnabledLights();case eRenderContextMethod.GetGlobalIllumination:return this.renderContext.getGlobalIllumination();case eRenderContextMethod.GetLight:return this.renderContext.getLight(t.params[0]);case eRenderContextMethod.GetMaxLightCount:return this.renderContext.getMaxLightCount();case eRenderContextMethod.GetMaxTextureStages:return this.renderContext.getMaxTextureStages();case eRenderContextMethod.GetProgram:return this.renderContext.getProgram();case eRenderContextMethod.PerspectiveMatrixLH:this.renderContext.perspectiveMatrixLH(t.params[0],t.params[1],t.params[2],t.params[3],t.params[4],t.params[5]);break;case eRenderContextMethod.OrthographicMatrixLH:this.renderContext.orthographicMatrixLH(t.params[0],t.params[1],t.params[2],t.params[3],t.params[4],t.params[5]);break;case eRenderContextMethod.SetBlendColor:this.renderContext.setBlendColor(t.params[0],t.params[1],t.params[2],t.params[3]);break;case eRenderContextMethod.SetBlendFactor:this.renderContext.setBlendFactor(t.params[0],t.params[1]);break;case eRenderContextMethod.SetClipPlane:this.renderContext.setClipPlane(t.params[0]);break;case eRenderContextMethod.SetDepthFunc:this.renderContext.setDepthFunc(t.params[0]);break;case eRenderContextMethod.SetEnabledClipPlanes:this.renderContext.setEnabledClipPlanes(t.params[0]);break;case eRenderContextMethod.SetEnabledLights:this.renderContext.setEnabledLights(t.params[0]);break;case eRenderContextMethod.SetFrontMaterial:this.renderContext.setFrontMaterial(t.params[0]);break;case eRenderContextMethod.SetGlobalIllumination:this.renderContext.setGlobalIllumination(t.params[0]);break;case eRenderContextMethod.SetLight:this.renderContext.setLight(t.params[0],t.params[1]);break;case eRenderContextMethod.SetModelID:this.renderContext.setModelID(t.params[0]);break;case eRenderContextMethod.SetShadeModel:this.renderContext.setShadeModel(t.params[0]);break;case eRenderContextMethod.SetStencilFunc:this.renderContext.setStencilFunc(t.params[0],t.params[1],t.params[2]);break;case eRenderContextMethod.SetStencilMask:this.renderContext.setStencilMask(t.params[0]);break;case eRenderContextMethod.SetStencilOp:this.renderContext.setStencilOp(t.params[0],t.params[1],t.params[2]);break;case eRenderContextMethod.SetTextureBlendFactor:this.renderContext.setTextureBlendFactor(t.params[0]);break;case eRenderContextMethod.SetTextureBlendOp:this.renderContext.setTextureBlendOp(t.params[0]);break;case eRenderContextMethod.SetTextureColorMask:this.renderContext.setTextureColorMask(t.params[0],t.params[1],t.params[2],t.params[3]);break;case eRenderContextMethod.SetViewport:this.renderContext.setViewport(t.params[0],t.params[1],t.params[2],t.params[3]);break;case eRenderContextMethod.VB_SetPrimitiveType:t.params[0].setPrimitiveType(t.params[1]);break;case eRenderContextMethod.VB_SetVertices:t.params[0].setVertices(t.params[1]);break;case eRenderContextMethod.VB_SetNormals:t.params[0].setNormals(t.params[1]);break;case eRenderContextMethod.VB_SetColors:t.params[0].setColors(t.params[1]);break;case eRenderContextMethod.VB_SetUVCoords:t.params[0].setUVCoords(t.params[1],t.params[2]);break;case eRenderContextMethod.VB_SetTextureStage:t.params[0].setTextureStage(t.params[1],t.params[2],t.params[3],t.params[4],t.params[5],t.params[6]);break;case eRenderContextMethod.VB_Draw:t.params[0].draw();break;case eRenderContextMethod.TO_SetImage:t.params[0].setImage(t.params[1],t.params[2],t.params[3]);break;case eRenderContextMethod.TO_SetImageData:t.params[0].setImageData(t.params[1],t.params[2],t.params[3],t.params[4],t.params[5]);break;case eRenderContextMethod.TO_SetVideo:t.params[0].setVideo(t.params[1]);break;case eRenderContextMethod.SetMatrixMode:this.renderContext.setMatrixMode(t.params[0]);break;case eRenderContextMethod.PushMatrix:this.renderContext.pushMatrix();break;case eRenderContextMethod.PopMatrix:this.renderContext.popMatrix();break;case eRenderContextMethod.LoadMatrix:this.renderContext.loadMatrix(t.params[0]);break;case eRenderContextMethod.LeftMultMatrix:this.renderContext.leftMultMatrix(t.params[0]);break;case eRenderContextMethod.RightMultMatrix:this.renderContext.rightMultMatrix(t.params[0]);break;case eRenderContextMethod.UseProgram:this.renderContext.useProgram(t.params[0])}};var eRenderMode={AlphaBlend:1,CullBackFace:2,DepthTest:3,DepthBufferWrite:4,Lighting:5,NormalizeNormals:6,Fog:7,StencilTest:8,PolygonOffset_Fill:9,PolygonOffset_Line:10,PolygonOffset_Point:11},eDepthFunc={Never:1,Less:2,LessEqual:3,Equal:4,NotEqual:5,GreaterEqual:6,Greater:7,Always:8},eStencilFunc={Never:1,Less:2,LessEqual:3,Equal:4,NotEqual:5,GreaterEqual:6,Greater:7,Always:8},eStencilOp={Keep:0,Replace:1,Increment:2,Decrement:3,Invert:4,Zero:5},eShadeModel={Flat:1,Gouraud:2},RC_BLEND=1,RC_CULL_FACE=2884,RC_FRONT=16,RC_BACK=32,LIGHTDESC_POSITION_BIT=1,LIGHTDESC_DIRECTION_BIT=2,LIGHTDESC_AMBIENT_BIT=4,LIGHTDESC_DIFFUSE_BIT=8,LIGHTDESC_SPECULAR_BIT=16,LIGHTDESC_CONSTANT_ATT_BIT=32,LIGHTDESC_LINEAR_ATT_BIT=64,LIGHTDESC_QUADRATIC_ATT_BIT=128,LIGHTDESC_RANGE_BIT=256,LIGHTDESC_OUTER_CONE_DEG_BIT=512,LIGHTDESC_INNER_CONE_DEG_BIT=1024,LIGHTDESC_CONE_FALLOFF_BIT=2048,MATERIALDESC_AMBIENT_BIT=1,MATERIALDESC_DIFFUSE_BIT=2,MATERIALDESC_SPECULAR_BIT=4,MATERIALDESC_EMISSIVE_BIT=8,MATERIALDESC_GLOSSINESS_BIT=16,MATERIALDESC_ALL_BITS=31,RC_COLOR_BUFFER_BIT=1,RC_DEPTH_BUFFER_BIT=2,RC_STENCIL_BUFFER_BIT=4,RC_ZERO=1,RC_ONE=2,RC_SRC_COLOR=4,RC_SRC_ALPHA=8,RC_ONE_MINUS_SRC_COLOR=16,RC_ONE_MINUS_SRC_ALPHA=32,RC_DEST_COLOR=64,RC_DEST_ALPHA=128,RC_ONE_MINUS_DEST_COLOR=256,RC_ONE_MINUS_DEST_ALPHA=512,RC_MODULATE=1,RC_REPLACE=2,RC_BLEND=4,RC_DECAL=8,eTextureUnit={Color0:0,Color1:1,ShadowMap:2},eTextureCoordSrc={VertexUVs:1,ViewSpaceVertexPosition:2,ViewSpaceReflectionVector:3},RC_REPEAT=10497,RC_CLAMP_TO_EDGE=33071,RC_MIRRORED_REPEAT=33648,RC_WORLD=1,RC_VIEW=2,RC_PROJECTION=4,RC_TEXTURE=8,eCubeMapFace={Positive_X:0,Negative_X:1,Positive_Y:2,Negative_Y:3,Positive_Z:4,Negative_Z:5},RENDERSTATE_TRANSFORM_BIT=1,RENDERSTATE_LIGHTING_BIT=2,RENDERSTATE_MATERIAL_BIT=4,RENDERSTATE_FOG_BIT=8,RENDERSTATE_CLIP_PLANE_BIT=16,RENDERSTATE_ZBUFFER_BIT=32,RENDERSTATE_ALL_BITS=63,RC_POINTS=0,RC_LINES=1,RC_LINE_LOOP=2,RC_LINE_STRIP=3,RC_TRIANGLES=4,RC_TRIANGLE_STRIP=5,RC_TRIANGLE_FAN=6;WebGLDebugUtils=function(){function t(t){if(null==l){l={};for(var e in t)"number"==typeof t[e]&&(l[t[e]]=e)}}function e(){if(null==l)throw"WebGLDebugUtils.init(ctx) not called"}function i(t){return e(),void 0!==l[t]}function r(t){e();var i=l[t];return void 0!==i?i:"*UNKNOWN WebGL ENUM"}function o(t,e,i){var o=s[t];return void 0!==o&&o[e]?r(i):i.toString()}function n(e,i){function n(t,e){return function(){var r=t[e].apply(t,arguments),o=t.getError();return 0!=o&&(s[o]=!0,i(o,e,arguments)),r}}t(e),i=i||function(t,e,i){for(var n="",s=0;s<i.length;++s)n+=(0==s?"":", ")+o(e,s,i[s]);a("WebGL error "+r(t)+" in "+e+"("+n+")")};var s={},l={};for(var c in e)l[c]="function"==typeof e[c]?n(e,c):e[c];return l.getError=function(){for(var t in s)if(s[t])return s[t]=!1,t;return e.NO_ERROR},l}var a=function(t){window.console&&window.console.log&&window.console.log(t)},s={enable:{0:!0},disable:{0:!0},getParameter:{0:!0},drawArrays:{0:!0},drawElements:{0:!0,2:!0},createShader:{0:!0},getShaderParameter:{1:!0},getProgramParameter:{1:!0},getVertexAttrib:{1:!0},vertexAttribPointer:{2:!0},bindTexture:{0:!0},activeTexture:{0:!0},getTexParameter:{0:!0,1:!0},texParameterf:{0:!0,1:!0},texParameteri:{0:!0,1:!0,2:!0},texImage2D:{0:!0,2:!0,6:!0,7:!0},texSubImage2D:{0:!0,6:!0,7:!0},copyTexImage2D:{0:!0,2:!0},copyTexSubImage2D:{0:!0},generateMipmap:{0:!0},bindBuffer:{0:!0},bufferData:{0:!0,2:!0},bufferSubData:{0:!0},getBufferParameter:{0:!0,1:!0},pixelStorei:{0:!0,1:!0},readPixels:{4:!0,5:!0},bindRenderbuffer:{0:!0},bindFramebuffer:{0:!0},checkFramebufferStatus:{0:!0},framebufferRenderbuffer:{0:!0,1:!0,2:!0},framebufferTexture2D:{0:!0,1:!0,2:!0},getFramebufferAttachmentParameter:{0:!0,1:!0,2:!0},getRenderbufferParameter:{0:!0,1:!0},renderbufferStorage:{0:!0,1:!0},clear:{0:!0},depthFunc:{0:!0},blendFunc:{0:!0,1:!0},blendFuncSeparate:{0:!0,1:!0,2:!0,3:!0},blendEquation:{0:!0},blendEquationSeparate:{0:!0,1:!0},stencilFunc:{0:!0},stencilFuncSeparate:{0:!0,1:!0},stencilMaskSeparate:{0:!0},stencilOp:{0:!0,1:!0,2:!0},stencilOpSeparate:{0:!0,1:!0,2:!0,3:!0},cullFace:{0:!0},frontFace:{0:!0}},l=null;return{init:t,mightBeEnum:i,glEnumToString:r,glFunctionArgToString:o,makeDebugContext:n}}(),function(){var t,e,i,r,o,n,a,s,l,c,h,u,d,p,f=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1};if(o=function(){var t,e,i;return t=document.createElement("canvas"),t.width=2,t.height=2,e=t.getContext("2d"),i=e.getImageData(0,0,2,2),i.data.set(new Uint8ClampedArray([0,0,0,0,255,255,255,255,0,0,0,0,255,255,255,255])),e.putImageData(i,0,0),t},o(),e=function(t,e){var i,r,n,a,s,l,c,h,u,d,p,f,_,m;if(l=t.createProgram(),_=t.createShader(t.VERTEX_SHADER),t.attachShader(l,_),t.shaderSource(_,"attribute vec2 position;\nvoid main(){\n    gl_Position = vec4(position, 0.0, 1.0);\n}"),t.compileShader(_),!t.getShaderParameter(_,t.COMPILE_STATUS))throw t.getShaderInfoLog(_);if(n=t.createShader(t.FRAGMENT_SHADER),t.attachShader(l,n),t.shaderSource(n,"uniform sampler2D source;\nvoid main(){\n    gl_FragColor = texture2D(source, vec2(1.0, 1.0));\n}"),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw t.getShaderInfoLog(n);if(t.linkProgram(l),!t.getProgramParameter(l,t.LINK_STATUS))throw t.getProgramInfoLog(l);return t.useProgram(l),r=function(){return t.deleteShader(n),t.deleteShader(_),t.deleteProgram(l),t.deleteBuffer(i),t.deleteTexture(u),t.deleteTexture(f),t.deleteFramebuffer(a),t.bindBuffer(t.ARRAY_BUFFER,null),t.useProgram(null),t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null)
},f=t.createTexture(),t.bindTexture(t.TEXTURE_2D,f),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,2,2,0,t.RGBA,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),a=t.createFramebuffer(),t.bindFramebuffer(t.FRAMEBUFFER,a),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,f,0),d=o(),u=t.createTexture(),t.bindTexture(t.TEXTURE_2D,u),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,e,d),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),m=new Float32Array([1,1,-1,1,-1,-1,1,1,-1,-1,1,-1]),i=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,i),t.bufferData(t.ARRAY_BUFFER,m,t.STATIC_DRAW),s=t.getAttribLocation(l,"position"),p=t.getUniformLocation(l,"source"),t.enableVertexAttribArray(s),t.vertexAttribPointer(s,2,t.FLOAT,!1,0,0),t.uniform1i(p,0),t.drawArrays(t.TRIANGLES,0,6),c=new Uint8Array(16),t.readPixels(0,0,2,2,t.RGBA,t.UNSIGNED_BYTE,c),h=Math.abs(c[0]-127)<10,r(),h},r=function(t,e){var i;return i=t.createTexture(),t.bindTexture(t.TEXTURE_2D,i),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,2,2,0,t.RGBA,e,null),0===t.getError()?(t.deleteTexture(i),!0):(t.deleteTexture(i),!1)},t=function(t,e){var i,r,o;return o=t.createTexture(),t.bindTexture(t.TEXTURE_2D,o),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,2,2,0,t.RGBA,e,null),r=t.createFramebuffer(),t.bindFramebuffer(t.FRAMEBUFFER,r),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,o,0),i=t.checkFramebufferStatus(t.FRAMEBUFFER),t.deleteTexture(o),t.deleteFramebuffer(r),t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),i===t.FRAMEBUFFER_COMPLETE?!0:!1},l=[],c={},h=[],i=function(){var i,o,n,a,s,u,d;i=document.createElement("canvas"),n=null;try{n=i.getContext("experimental-webgl"),null===n&&(n=i.getContext("webgl"))}catch(p){}return null!=n&&(u=n.getExtension("OES_texture_float"),null===u?r(n,n.FLOAT)?(d=!0,l.push("OES_texture_float"),c.OES_texture_float={shim:!0}):(d=!1,h.push("OES_texture_float")):r(n,n.FLOAT)?(d=!0,l.push("OES_texture_float")):(d=!1,h.push("OES_texture_float")),d&&(o=n.getExtension("WEBGL_color_buffer_float"),null===o?t(n,n.FLOAT)?(l.push("WEBGL_color_buffer_float"),c.WEBGL_color_buffer_float={shim:!0,RGBA32F_EXT:34836,RGB32F_EXT:34837,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT:33297,UNSIGNED_NORMALIZED_EXT:35863}):h.push("WEBGL_color_buffer_float"):t(n,n.FLOAT)?l.push("WEBGL_color_buffer_float"):h.push("WEBGL_color_buffer_float"),o=n.getExtension("OES_texture_float_linear"),null===o?e(n,n.FLOAT)?(l.push("OES_texture_float_linear"),c.OES_texture_float_linear={shim:!0}):h.push("OES_texture_float_linear"):e(n,n.FLOAT)?l.push("OES_texture_float_linear"):h.push("OES_texture_float_linear")),a=n.getExtension("OES_texture_half_float"),null===a?r(n,36193)?(s=!0,l.push("OES_texture_half_float"),a=c.OES_texture_half_float={HALF_FLOAT_OES:36193,shim:!0}):(s=!1,h.push("OES_texture_half_float")):r(n,a.HALF_FLOAT_OES)?(s=!0,l.push("OES_texture_half_float")):(s=!1,h.push("OES_texture_half_float")),s)?(o=n.getExtension("EXT_color_buffer_half_float"),null===o?t(n,a.HALF_FLOAT_OES)?(l.push("EXT_color_buffer_half_float"),c.EXT_color_buffer_half_float={shim:!0,RGBA16F_EXT:34842,RGB16F_EXT:34843,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT:33297,UNSIGNED_NORMALIZED_EXT:35863}):h.push("EXT_color_buffer_half_float"):t(n,a.HALF_FLOAT_OES)?l.push("EXT_color_buffer_half_float"):h.push("EXT_color_buffer_half_float"),o=n.getExtension("OES_texture_half_float_linear"),null===o?e(n,a.HALF_FLOAT_OES)?(l.push("OES_texture_half_float_linear"),c.OES_texture_half_float_linear={shim:!0}):h.push("OES_texture_half_float_linear"):e(n,a.HALF_FLOAT_OES)?l.push("OES_texture_half_float_linear"):h.push("OES_texture_half_float_linear")):void 0},null!=window.WebGLRenderingContext){for(i(),u={},d=0,p=h.length;p>d;d++)s=h[d],u[s]=!0;n=WebGLRenderingContext.prototype.getExtension,WebGLRenderingContext.prototype.getExtension=function(t){var e;return e=c[t],void 0===e?u[t]?null:n.call(this,t):e},a=WebGLRenderingContext.prototype.getSupportedExtensions,WebGLRenderingContext.prototype.getSupportedExtensions=function(){var t,e,i,r,o,n,s;for(i=a.call(this),e=[],r=0,n=i.length;n>r;r++)t=i[r],void 0===u[t]&&e.push(t);for(o=0,s=l.length;s>o;o++)t=l[o],f.call(e,t)<0&&e.push(t);return e},WebGLRenderingContext.prototype.getFloatExtension=function(t){var e,i,r,o,n,a,l,c,h,u,d,p,f,_,m,g,y,b,v,M,S,T,x,C,E,A,w,R,D;for(null==(C=t.prefer)&&(t.prefer=["half"]),null==(E=t.require)&&(t.require=[]),null==(A=t["throws"])&&(t["throws"]=!0),_=this.getExtension("OES_texture_float"),a=this.getExtension("OES_texture_half_float"),p=this.getExtension("WEBGL_color_buffer_float"),o=this.getExtension("EXT_color_buffer_half_float"),f=this.getExtension("OES_texture_float_linear"),n=this.getExtension("OES_texture_half_float_linear"),d={texture:null!==_,filterable:null!==f,renderable:null!==p,score:0,precision:"single",half:!1,single:!0,type:this.FLOAT},r={texture:null!==a,filterable:null!==n,renderable:null!==o,score:0,precision:"half",half:!0,single:!1,type:null!=(w=null!=a?a.HALF_FLOAT_OES:void 0)?w:null},i=[],d.texture&&i.push(d),r.texture&&i.push(r),u=[],g=0,v=i.length;v>g;g++){for(e=i[g],m=!0,R=t.require,y=0,M=R.length;M>y;y++)s=R[y],e[s]===!1&&(m=!1);m&&u.push(e)}for(b=0,S=u.length;S>b;b++)for(e=u[b],D=t.prefer,l=x=0,T=D.length;T>x;l=++x)h=D[l],c=Math.pow(2,t.prefer.length-l-1),e[h]&&(e.score+=c);if(u.sort(function(t,e){return t.score===e.score?0:t.score<e.score?1:t.score>e.score?-1:void 0}),0===u.length){if(t["throws"])throw"No floating point texture support that is "+t.require.join(", ");return null}return u=u[0],{filterable:u.filterable,renderable:u.renderable,type:u.type,precision:u.precision}}}}.call(this);var gl_MaxLights=4,gl_MaxTextureStages=2,gl_MaxClipPlanes=4;webglRC.prototype=new RenderContext,webglRC.prototype.constructor=webglRC,webglVB.prototype=new VertexBuffer,webglVB.prototype.constructor=webglVB,webglTO.prototype=new TextureObject,webglTO.prototype.constructor=webglTO;var default_fragment_lighting_vs=["attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec4 aVertexColor;","attribute vec2 aTextureCoord0;","attribute vec2 aTextureCoord1;","","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform mat4 uWorldMatrix;","uniform mat4 uNormalMatrix;","","varying vec4 vVertexPosition;","varying vec4 vTransformedNormal;","varying vec4 vVertexColor;","varying vec4 vViewPosition;","varying vec4 vViewDirection;","varying vec2 vTextureCoord["+gl_MaxTextureStages+"];","","void main()","{","   vVertexPosition = uWorldMatrix * vec4(aVertexPosition, 1);","   vTransformedNormal = normalize(uNormalMatrix * vec4(aVertexNormal, 0));","   vVertexColor = aVertexColor;","   vViewPosition = uViewMatrix * vec4(0, 0, 0, 1);","   vViewDirection = normalize(-vViewPosition);","   vTextureCoord[0] = aTextureCoord0;","   vTextureCoord[1] = aTextureCoord1;","   gl_Position = uProjectionMatrix * uViewMatrix * vVertexPosition;","}"].join("\n"),default_fragment_lighting_fs=["#ifdef GL_ES","precision highp float;","#endif","","vec4 gAmbient;","vec4 gDiffuse;","vec4 gSpecular;","","uniform vec4 uGlobalAmbientLight;","","struct lightSource","{","   int enabled;","   vec4 ambient;","   vec4 diffuse;","   vec4 specular;","   vec4 position;","   vec4 spotDirection;","   float spotExponent;","   float spotCutoff;","   float constantAttenuation;","   float linearAttenuation;","   float quadraticAttenuation;","   float range;","};","uniform lightSource uLightSource["+gl_MaxLights+"];","","struct material","{","   vec4 ambient;","   vec4 diffuse;","   vec4 specular;","   vec4 emissive;","   float shininess;","};","uniform material uFrontMaterial;","","uniform int uLightingEnabled;","uniform int uTexturesEnabled;","uniform int uTextureStageEnabled["+gl_MaxTextureStages+"];","uniform sampler2D uTextureSamplerColor["+gl_MaxTextureStages+"];","uniform sampler2D uTextureSamplerAlpha["+gl_MaxTextureStages+"];","uniform int uTextureBlendOp;","uniform vec4 uTextureColorMask;","uniform vec4 uClipPlane["+gl_MaxClipPlanes+"];","uniform int uClipPlaneEnabled["+gl_MaxClipPlanes+"];","","varying vec4 vVertexPosition;","varying vec4 vTransformedNormal;","varying vec4 vVertexColor;","varying vec4 vViewPosition;","varying vec4 vViewDirection;","varying vec2 vTextureCoord["+gl_MaxTextureStages+"];","","void directionalLight(vec4 position, vec4 ambient, vec4 diffuse, vec4 specular, vec3 normal, vec3 halfVector)","{","   vec3 lightDir;","   float nDotL;","   float nDotHV;","   float pf;","","   lightDir = normalize(vec3(position));","","   nDotL = max(dot(normal, lightDir), 0.0);","   if (nDotL == 0.0)","   {","       pf = 0.0;","   }","   else","   {","       nDotHV = max(0.0, dot(normal, halfVector));","       pf = pow(nDotHV, uFrontMaterial.shininess);","   }","","   gAmbient  += ambient * uFrontMaterial.ambient;","   gDiffuse  += diffuse * uFrontMaterial.diffuse * nDotL;","   gSpecular += specular * uFrontMaterial.specular * pf;","}","","void pointLight(vec4 position, float constantAttenuation, float linearAttenuation, float quadraticAttenuation, float range,","                vec4 ambient, vec4 diffuse, vec4 specular, vec3 normal, vec3 eye, vec3 vPosition)","{","   float nDotL;","   float nDotHV;","   float pf;","   float attenuation;","   float d;","   vec3  L;","   vec3  halfVector;","","","   L = vec3(position) - vPosition;","","","   d = length(L); if (d > range) return;","","","   L = normalize(L);","","","   attenuation = 1.0 / (constantAttenuation +","      linearAttenuation * d +","      quadraticAttenuation * d * d);","","   nDotL = max(0.0, dot(normal, L));","   nDotHV = max(0.0, dot(normal, normalize(L + eye)));","","   if (nDotL == 0.0)","   {","       pf = 0.0;","   }","   else","   {","       pf = pow(nDotHV, uFrontMaterial.shininess);","   }","","   gAmbient  += ambient * uFrontMaterial.ambient * attenuation;","   gDiffuse  += diffuse * uFrontMaterial.diffuse * nDotL * attenuation;","   gSpecular += specular * uFrontMaterial.specular * pf * attenuation;","}","","void main()","{","   vec4 lightingFactor;","   if (uLightingEnabled != 0)","   {","       gAmbient = vec4(0, 0, 0, 0);","       gDiffuse = vec4(0, 0, 0, 0);","       gSpecular = vec4(0, 0, 0, 0);","","       for (int i=0; i < "+gl_MaxLights+"; i++)","       {","           if (uLightSource[i].enabled != 0)","           {","               if (uLightSource[i].position[3] == 0.0)","               {","                   directionalLight(uLightSource[i].position, uLightSource[i].ambient,","                       uLightSource[i].diffuse, uLightSource[i].specular,","                       normalize(vec3(vTransformedNormal)),","                       normalize(vec3(vViewDirection) + vec3(uLightSource[i].position)));","               }","               else if (uLightSource[i].spotCutoff > 90.0)","               {","                   pointLight(uLightSource[i].position, uLightSource[i].constantAttenuation,","                       uLightSource[i].linearAttenuation, uLightSource[i].quadraticAttenuation, uLightSource[i].range,","                       uLightSource[i].ambient, uLightSource[i].diffuse, uLightSource[i].specular,","                       normalize(vec3(vTransformedNormal)),","                       vec3(vViewDirection), vec3(vVertexPosition));","               }","               else","               {","               }","           }","       }","","       lightingFactor  = uFrontMaterial.emissive;","       lightingFactor += uGlobalAmbientLight * uFrontMaterial.ambient;","       lightingFactor += gAmbient + gDiffuse + gSpecular;","       lightingFactor.a = uFrontMaterial.diffuse.a;","       lightingFactor = clamp(lightingFactor, 0.0, 1.0);","   }","   else","   {","       lightingFactor = vVertexColor;","   }","","   vec4 fragmentColor;","   vec4 fragmentColor1;","   vec4 fragmentColor2;","","   for (int i=0; i < "+gl_MaxClipPlanes+"; i++)","   {","       if (uClipPlaneEnabled[i] != 0)","       {","           if (dot(vVertexPosition.xyz, uClipPlane[i].xyz) - uClipPlane[i].w >= 0.0) discard;","       }","   }","","   if (uTexturesEnabled == 1 && uTextureStageEnabled[0] == 1 && uTextureStageEnabled[1] == 0)","   {","       fragmentColor = texture2D(uTextureSamplerColor[0], vec2(vTextureCoord[0].s, vTextureCoord[0].t));","       if (fragmentColor.r == uTextureColorMask.r && fragmentColor.g == uTextureColorMask.g && fragmentColor.b == uTextureColorMask.b && fragmentColor.a == uTextureColorMask.a) discard;","       if (uTextureBlendOp == "+RC_MODULATE+")","       {","           if (fragmentColor.a == 0.0) discard;","           else gl_FragColor = fragmentColor * lightingFactor;","       }","       else if (uTextureBlendOp == "+RC_REPLACE+")","       {","           gl_FragColor = fragmentColor;","       }","       else","       {","           gl_FragColor = lightingFactor;","       }","   }","   else if (uTexturesEnabled == 1 && uTextureStageEnabled[0] == 1 && uTextureStageEnabled[1] == 1)","   {","       fragmentColor1 = texture2D(uTextureSamplerColor[0], vec2(vTextureCoord[0].s, vTextureCoord[0].t));","       fragmentColor2 = texture2D(uTextureSamplerColor[1], vec2(vTextureCoord[1].s, vTextureCoord[1].t));","       if (uTextureBlendOp == "+RC_MODULATE+")","       {","           fragmentColor1.a = fragmentColor2.a;","           if (fragmentColor1.a == 0.0) discard;","           else gl_FragColor = fragmentColor1 * lightingFactor;","       }","       else if (uTextureBlendOp == "+RC_REPLACE+")","       {","           gl_FragColor = fragmentColor1 * fragmentColor2;","       }","       else","       {","           gl_FragColor = lightingFactor;","       }","   }","   else","   {","       gl_FragColor = lightingFactor;","   }","}"].join("\n"),default_vertex_lighting_vs=["#ifdef GL_ES","precision highp float;","#endif","","vec4 gAmbient;","vec4 gDiffuse;","vec4 gSpecular;","","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec4 aVertexColor;","attribute vec2 aTextureCoord0;","attribute vec2 aTextureCoord1;","","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform mat4 uWorldMatrix;","uniform mat4 uNormalMatrix;","","uniform vec4 uGlobalAmbientLight;","","struct lightSource","{","   int enabled;","   vec4 ambient;","   vec4 diffuse;","   vec4 specular;","   vec4 position;","   vec4 spotDirection;","   float spotExponent;","   float spotCutoff;","   float constantAttenuation;","   float linearAttenuation;","   float quadraticAttenuation;","   float range;","};","uniform lightSource uLightSource["+gl_MaxLights+"];","","struct material","{","   vec4 ambient;","   vec4 diffuse;","   vec4 specular;","   vec4 emissive;","   float shininess;","};","uniform material uFrontMaterial;","","uniform int uLightingEnabled;","","varying vec4 vVertexPosition;","varying vec4 vLightingFactor;","varying vec2 vTextureCoord["+gl_MaxTextureStages+"];","","void directionalLight(vec4 position, vec4 ambient, vec4 diffuse, vec4 specular, vec3 normal, vec3 halfVector)","{","   vec3 lightDir;","   float nDotL;","   float nDotHV;","   float pf;","","   lightDir = normalize(vec3(position));","","   nDotL = max(dot(normal, lightDir), 0.0);","   if (nDotL == 0.0)","   {","       pf = 0.0;","   }","   else","   {","       nDotHV = max(0.0, dot(normal, halfVector));","       pf = pow(nDotHV, uFrontMaterial.shininess);","   }","","   gAmbient  += ambient * uFrontMaterial.ambient;","   gDiffuse  += diffuse * uFrontMaterial.diffuse * nDotL;","   gSpecular += specular * uFrontMaterial.specular * pf;","}","","void pointLight(vec4 position, float constantAttenuation, float linearAttenuation, float quadraticAttenuation, float range,","                vec4 ambient, vec4 diffuse, vec4 specular, vec3 normal, vec3 eye, vec3 vPosition)","{","   float nDotL;","   float nDotHV;","   float pf;","   float attenuation;","   float d;","   vec3  L;","   vec3  halfVector;","","","   L = vec3(position) - vPosition;","","","   d = length(L); if (d > range) return;","","","   L = normalize(L);","","","   attenuation = 1.0 / (constantAttenuation +","      linearAttenuation * d +","      quadraticAttenuation * d * d);","","   nDotL = max(0.0, dot(normal, L));","   nDotHV = max(0.0, dot(normal, normalize(L + eye)));","","   if (nDotL == 0.0)","   {","       pf = 0.0;","   }","   else","   {","       pf = pow(nDotHV, uFrontMaterial.shininess);","   }","","   gAmbient  += ambient * uFrontMaterial.ambient * attenuation;","   gDiffuse  += diffuse * uFrontMaterial.diffuse * nDotL * attenuation;","   gSpecular += specular * uFrontMaterial.specular * pf * attenuation;","}","","void main()","{","   vec4 transformedNormal;","   vec4 viewPosition;","   vec4 viewDirection;","","   vVertexPosition = uWorldMatrix * vec4(aVertexPosition, 1);","","   if (uLightingEnabled != 0)","   {","       transformedNormal = normalize(uNormalMatrix * vec4(aVertexNormal, 0));","       viewPosition = uViewMatrix * vec4(0, 0, 0, 1);","       viewDirection = normalize(-viewPosition);","       gAmbient = vec4(0, 0, 0, 0);","       gDiffuse = vec4(0, 0, 0, 0);","       gSpecular = vec4(0, 0, 0, 0);","","       for (int i=0; i < "+gl_MaxLights+"; i++)","       {","           if (uLightSource[i].enabled != 0)","           {","               if (uLightSource[i].position[3] == 0.0)","               {","                   directionalLight(uLightSource[i].position, uLightSource[i].ambient,","                       uLightSource[i].diffuse, uLightSource[i].specular,","                       normalize(vec3(transformedNormal)),","                       normalize(vec3(viewDirection) + vec3(uLightSource[i].position)));","               }","               else if (uLightSource[i].spotCutoff > 90.0)","               {","                   pointLight(uLightSource[i].position, uLightSource[i].constantAttenuation,","                       uLightSource[i].linearAttenuation, uLightSource[i].quadraticAttenuation, uLightSource[i].range,","                       uLightSource[i].ambient, uLightSource[i].diffuse, uLightSource[i].specular,","                       normalize(vec3(transformedNormal)),","                       vec3(viewDirection), vec3(vVertexPosition));","               }","               else","               {","               }","           }","       }","","       vLightingFactor  = uFrontMaterial.emissive;","       vLightingFactor += uGlobalAmbientLight * uFrontMaterial.ambient;","       vLightingFactor += gAmbient + gDiffuse + gSpecular;","       vLightingFactor.a = uFrontMaterial.diffuse.a;","       vLightingFactor = clamp(vLightingFactor, 0.0, 1.0);","","   }","   else","   {","       vLightingFactor = aVertexColor;","   }","","   vTextureCoord[0] = aTextureCoord0;","   vTextureCoord[1] = aTextureCoord1;","   gl_Position = uProjectionMatrix * uViewMatrix * vVertexPosition;","}"].join("\n"),default_vertex_lighting_fs=["#ifdef GL_ES","precision highp float;","#endif","","uniform int uTexturesEnabled;","uniform int uTextureStageEnabled["+gl_MaxTextureStages+"];","uniform sampler2D uTextureSamplerColor["+gl_MaxTextureStages+"];","uniform sampler2D uTextureSamplerAlpha["+gl_MaxTextureStages+"];","uniform int uTextureBlendOp;","uniform vec4 uTextureColorMask;","uniform vec4 uClipPlane["+gl_MaxClipPlanes+"];","uniform int uClipPlaneEnabled["+gl_MaxClipPlanes+"];","","varying vec4 vVertexPosition;","varying vec4 vLightingFactor;","varying vec2 vTextureCoord["+gl_MaxTextureStages+"];","","void main()","{","   vec4 fragmentColor;","   vec4 fragmentColor1;","   vec4 fragmentColor2;","","   for (int i=0; i < "+gl_MaxClipPlanes+"; i++)","   {","       if (uClipPlaneEnabled[i] != 0)","       {","           if (dot(vVertexPosition.xyz, uClipPlane[i].xyz) - uClipPlane[i].w >= 0.0) discard;","       }","   }","","   if (uTexturesEnabled == 1 && uTextureStageEnabled[0] == 1 && uTextureStageEnabled[1] == 0)","   {","       fragmentColor = texture2D(uTextureSamplerColor[0], vec2(vTextureCoord[0].s, vTextureCoord[0].t));","       if (fragmentColor.r == uTextureColorMask.r && fragmentColor.g == uTextureColorMask.g && fragmentColor.b == uTextureColorMask.b && fragmentColor.a == uTextureColorMask.a) discard;","       if (uTextureBlendOp == "+RC_MODULATE+")","       {","           if (fragmentColor.a == 0.0) discard;","           else gl_FragColor = fragmentColor * vLightingFactor;","       }","       else if (uTextureBlendOp == "+RC_REPLACE+")","       {","           gl_FragColor = fragmentColor;","       }","       else","       {","           gl_FragColor = vLightingFactor;","       }","   }","   else if (uTexturesEnabled == 1 && uTextureStageEnabled[0] == 1 && uTextureStageEnabled[1] == 1)","   {","       fragmentColor1 = texture2D(uTextureSamplerColor[0], vec2(vTextureCoord[0].s, vTextureCoord[0].t));","       fragmentColor2 = texture2D(uTextureSamplerColor[1], vec2(vTextureCoord[1].s, vTextureCoord[1].t));","       if (uTextureBlendOp == "+RC_MODULATE+")","       {","           fragmentColor1.a = fragmentColor2.a;","           if (fragmentColor1.a == 0.0) discard;","           else gl_FragColor = fragmentColor1 * vLightingFactor;","       }","       else if (uTextureBlendOp == "+RC_REPLACE+")","       {","           gl_FragColor = fragmentColor1 * fragmentColor2;","       }","       else","       {","           gl_FragColor = vLightingFactor;","       }","   }","   else","   {","       gl_FragColor = vLightingFactor;","   }","}"].join("\n"),pcf_shadow_mapping_depth_pass_vs=["#ifdef GL_ES","precision highp float;","#endif","","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform mat4 uWorldMatrix;","uniform mat4 uNormalMatrix;","","varying vec4 vVertexPosition;","varying vec4 vTransformedNormal;","","void main()","{","   vVertexPosition = uWorldMatrix * vec4(aVertexPosition, 1);","   vTransformedNormal = normalize(uNormalMatrix * vec4(aVertexNormal, 0));","   gl_Position = uProjectionMatrix * uViewMatrix * vVertexPosition;","}"].join("\n"),pcf_shadow_mapping_depth_pass_fs=["#ifdef GL_ES","precision highp float;","#endif","","uniform vec3 uShadowCasterWorldPosition;","uniform int uModelID;","","varying vec4 vVertexPosition;","varying vec4 vTransformedNormal;","","void main()","{","   float depth = length(vVertexPosition.xyz - uShadowCasterWorldPosition);","   gl_FragColor = vec4(depth, uModelID, 0, 0);","}"].join("\n"),pcf_shadow_mapping_render_pass_vs=["attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec4 aVertexColor;","attribute vec2 aTextureCoord0;","attribute vec2 aTextureCoord1;","","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform mat4 uWorldMatrix;","uniform mat4 uNormalMatrix;","","varying vec4 vVertexPosition;","varying vec4 vTransformedNormal;","varying vec4 vVertexColor;","varying vec4 vViewPosition;","varying vec4 vViewDirection;","varying vec2 vTextureCoord["+gl_MaxTextureStages+"];","","void main()","{","   vVertexPosition = uWorldMatrix * vec4(aVertexPosition, 1);","   vTransformedNormal = normalize(uNormalMatrix * vec4(aVertexNormal, 0));","   vVertexColor = aVertexColor;","   vViewPosition = uViewMatrix * vec4(0, 0, 0, 1);","   vViewDirection = normalize(-vViewPosition);","   vTextureCoord[0] = aTextureCoord0;","   vTextureCoord[1] = aTextureCoord1;","   gl_Position = uProjectionMatrix * uViewMatrix * vVertexPosition;","}"].join("\n"),pcf_shadow_mapping_render_pass_fs=["#ifdef GL_ES","precision highp float;","#endif","","#define EPSILON 0.1","","vec4 gAmbient;","vec4 gDiffuse;","vec4 gSpecular;","","uniform vec4 uGlobalAmbientLight;","","struct lightSource","{","   int enabled;","   vec4 ambient;","   vec4 diffuse;","   vec4 specular;","   vec4 position;","   vec4 spotDirection;","   float spotExponent;","   float spotCutoff;","   float constantAttenuation;","   float linearAttenuation;","   float quadraticAttenuation;","   float range;","};","uniform lightSource uLightSource["+gl_MaxLights+"];","","struct material","{","   vec4 ambient;","   vec4 diffuse;","   vec4 specular;","   vec4 emissive;","   float shininess;","};","uniform material uFrontMaterial;","","uniform int uLightingEnabled;","uniform int uTexturesEnabled;","uniform int uTextureStageEnabled["+gl_MaxTextureStages+"];","uniform sampler2D uTextureSamplerColor["+gl_MaxTextureStages+"];","uniform sampler2D uTextureSamplerAlpha["+gl_MaxTextureStages+"];","uniform samplerCube uTextureSamplerShadowMap;","uniform int uTextureBlendOp;","uniform vec4 uTextureColorMask;","uniform vec4 uClipPlane["+gl_MaxClipPlanes+"];","uniform int uClipPlaneEnabled["+gl_MaxClipPlanes+"];","uniform vec3 uShadowCasterWorldPosition;","uniform int uModelID;","","varying vec4 vVertexPosition;","varying vec4 vTransformedNormal;","varying vec4 vVertexColor;","varying vec4 vViewPosition;","varying vec4 vViewDirection;","varying vec2 vTextureCoord["+gl_MaxTextureStages+"];","","float shadowFactor(vec3 lightDirection, float cosTheta)","{","   float distance = length(lightDirection);","   lightDirection.y = -lightDirection.y;","   vec2 moments = textureCube(uTextureSamplerShadowMap, lightDirection).rg;","","   float bias = EPSILON * tan(acos(cosTheta));","   if (distance <= moments.x + bias)","       return 1.0;","   else if (abs(float(uModelID) - moments.y) >= 1.0)","   {","       return 0.25;//p_max;","   }","   else return 1.0;","}","","void directionalLight(vec4 position, vec4 ambient, vec4 diffuse, vec4 specular, vec3 normal, vec3 halfVector)","{","   vec3 lightDir;","   float nDotL;","   float nDotHV;","   float pf;","","   lightDir = normalize(vec3(position));","","   nDotL = max(dot(normal, lightDir), 0.0);","   if (nDotL == 0.0)","   {","       pf = 0.0;","   }","   else","   {","       nDotHV = max(0.0, dot(normal, halfVector));","       pf = pow(nDotHV, uFrontMaterial.shininess);","   }","","   gAmbient  += ambient * uFrontMaterial.ambient;","   gDiffuse  += diffuse * uFrontMaterial.diffuse * nDotL;","   gSpecular += specular * uFrontMaterial.specular * pf;","}","","void pointLight(vec4 position, float constantAttenuation, float linearAttenuation, float quadraticAttenuation, float range,","                vec4 ambient, vec4 diffuse, vec4 specular, vec3 normal, vec3 eye, vec3 vPosition)","{","   float nDotL;","   float nDotHV;","   float pf;","   float attenuation;","   float d;","   vec3  L;","   vec3  halfVector;","","","   L = vec3(position) - vPosition;","","","   d = length(L); if (d > range) return;","","","   L = normalize(L);","","","   attenuation = 1.0 / (constantAttenuation +","      linearAttenuation * d +","      quadraticAttenuation * d * d) *","      shadowFactor(vPosition - uShadowCasterWorldPosition, max(0.0, dot(normal, L)));","","   nDotL = max(0.0, dot(normal, L));","   nDotHV = max(0.0, dot(normal, normalize(L + eye)));","","   if (nDotL == 0.0)","   {","       pf = 0.0;","   }","   else","   {","       pf = pow(nDotHV, uFrontMaterial.shininess);","   }","","   gAmbient  += ambient * uFrontMaterial.ambient * attenuation;","   gDiffuse  += diffuse * uFrontMaterial.diffuse * nDotL * attenuation;","   gSpecular += specular * uFrontMaterial.specular * pf * attenuation;","}","","void main()","{","   vec4 lightingFactor;","   if (uLightingEnabled != 0)","   {","       gAmbient = vec4(0, 0, 0, 0);","       gDiffuse = vec4(0, 0, 0, 0);","       gSpecular = vec4(0, 0, 0, 0);","","       for (int i=0; i < "+gl_MaxLights+"; i++)","       {","           if (uLightSource[i].enabled != 0)","           {","               if (uLightSource[i].position[3] == 0.0)","               {","                   directionalLight(uLightSource[i].position, uLightSource[i].ambient,","                       uLightSource[i].diffuse, uLightSource[i].specular,","                       normalize(vec3(vTransformedNormal)),","                       normalize(vec3(vViewDirection) + vec3(uLightSource[i].position)));","               }","               else if (uLightSource[i].spotCutoff > 90.0)","               {","                   pointLight(uLightSource[i].position, uLightSource[i].constantAttenuation,","                       uLightSource[i].linearAttenuation, uLightSource[i].quadraticAttenuation, uLightSource[i].range,","                       uLightSource[i].ambient, uLightSource[i].diffuse, uLightSource[i].specular,","                       normalize(vec3(vTransformedNormal)),","                       vec3(vViewDirection), vec3(vVertexPosition));","               }","               else","               {","               }","           }","       }","","       lightingFactor  = uGlobalAmbientLight * uFrontMaterial.ambient;","       lightingFactor += gAmbient + gDiffuse + gSpecular;","       lightingFactor.a  = uFrontMaterial.ambient.a / 3.0 + ","                           uFrontMaterial.diffuse.a / 3.0 + ","                           uFrontMaterial.specular.a / 3.0;","   }","   else","   {","       lightingFactor = vVertexColor;","   }","","   vec4 fragmentColor;","   vec4 fragmentColor1;","   vec4 fragmentColor2;","","   for (int i=0; i < "+gl_MaxClipPlanes+"; i++)","   {","       if (uClipPlaneEnabled[i] != 0)","       {","           if (dot(vVertexPosition.xyz, uClipPlane[i].xyz) - uClipPlane[i].w >= 0.0) discard;","       }","   }","","   if (uTexturesEnabled == 1 && uTextureStageEnabled[0] == 1 && uTextureStageEnabled[1] == 0)","   {","       fragmentColor = texture2D(uTextureSamplerColor[0], vec2(vTextureCoord[0].s, vTextureCoord[0].t));","       if (fragmentColor.r == uTextureColorMask.r && fragmentColor.g == uTextureColorMask.g && fragmentColor.b == uTextureColorMask.b && fragmentColor.a == uTextureColorMask.a) discard;","       if (uTextureBlendOp == "+RC_MODULATE+")","       {","           if (fragmentColor.a == 0.0) discard;","           else gl_FragColor = fragmentColor * lightingFactor;","       }","       else if (uTextureBlendOp == "+RC_REPLACE+")","       {","           gl_FragColor = fragmentColor;","       }","       else","       {","           gl_FragColor = lightingFactor;","       }","   }","   else if (uTexturesEnabled == 1 && uTextureStageEnabled[0] == 1 && uTextureStageEnabled[1] == 1)","   {","       fragmentColor1 = texture2D(uTextureSamplerColor[0], vec2(vTextureCoord[0].s, vTextureCoord[0].t));","       fragmentColor2 = texture2D(uTextureSamplerColor[1], vec2(vTextureCoord[1].s, vTextureCoord[1].t));","       if (uTextureBlendOp == "+RC_MODULATE+")","       {","           fragmentColor1.a = fragmentColor2.a;","           if (fragmentColor1.a == 0.0) discard;","           else gl_FragColor = fragmentColor1 * lightingFactor;","       }","       else if (uTextureBlendOp == "+RC_REPLACE+")","       {","           gl_FragColor = fragmentColor1 * fragmentColor2;","       }","       else","       {","           gl_FragColor = lightingFactor;","       }","   }","   else","   {","       gl_FragColor = lightingFactor;","   }","}"].join("\n");ContentHandler.prototype=new AttributeContainer,ContentHandler.prototype.constructor=ContentHandler,ContentHandler.prototype.parseFileStream=function(){},ContentHandler.prototype.matchesType=function(){},ContentBuilder.prototype=new AttributeContainer,ContentBuilder.prototype.constructor=ContentBuilder,ContentBuilder.prototype.setRegistry=function(t){AttributeContainer.prototype.setRegistry.call(this,t),this.factory=this.registry.find("AttributeFactory")},ContentBuilder.prototype.visitHandler=function(){},ContentBuilder.prototype.finalize=function(){},ContentBuilder.prototype.matchesType=function(){},XMLParser.prototype.parse=function(t){parser=new SAXDriver,parser.setDocumentHandler(this),parser.setErrorHandler(this),parser.setLexicalHandler(this),parser.parse(t)},XMLParser.prototype.processingInstruction=function(t,e){switch(t){case"bw":console.debug("TODO: "+t.toString());break;case"bwinclude":var i=new String(e),r=this.parseTokenValue(i,'url="','"');if(r){console.debug("Processing Instruction for: "+r);
var o=getFileExtension(r);switch(o){case"xml":var n=loadXMLResource(this.contentDir+"/"+r);this.parse(n);break;case"lws":var a=formatPath(r);console.debug("Include instruction for path: "+a[0]),console.debug("Include content dir: "+a[1]);var s=new LWSceneHandler;s.getAttribute("contentDirectory").setValueDirect(a[1]);var l=new LWSceneBuilder;l.setRegistry(this.factory.registry),l.visitHandler(s),s.parseFileStream(a[0])}}}},XMLParser.prototype.startElement=function(t,e){isUpper(t[0])?this.parseAttributeContainer(t,e):this.parseComplexAttribute(t,e)},XMLParser.prototype.endElement=function(t){isUpper(t[0])?this.parseAttributeContainer(t):this.parseComplexAttribute(t)},XMLParser.prototype.startCDATA=function(){},XMLParser.prototype.endCDATA=function(){},XMLParser.prototype.characters=function(t,e,i){for(var r="",o=0;i>o;o++)r+=t[e+o];if(r.length&&!isSpace(r[0])){var n=this.attributeStack.top();n&&deserializeAttribute(n,r)}},XMLParser.prototype.error=function(t){alert("Error: "+t.getMessage())},XMLParser.prototype.fatalError=function(t){alert("Fatal Error: "+t.getMessage())},XMLParser.prototype.parseAttributeContainer=function(t,e){if(e){var i=this.factory.create(t);if(!i)return void this.attributeStack.push(null);i.flagDeserializedFromXML(),resolveAttributeContainerReference(i,e.m_parser.m_atts,this.registry)||deserializeAttributeContainer(i,e.m_parser.m_atts),this.registry.registerResource(i);var r=this.attributeStack.top();if(r&&r.isCollection())if(r.allocatesElements())r.setElementName(r.getAt(r.Size()-1),t);else{r.push_back(i),r.setElementName(i,t);var o=this.collectionCountStack.top();o++,this.collectionCountStack.pop(),this.collectionCountStack.push(o)}this.attributeStack.push(i),i.isCollection()&&this.collectionCountStack.push(0)}else{var i=this.attributeStack.top();this.attributeStack.pop(),i&&i.isCollection()&&this.collectionCountStack.pop(),i&&(this.factory.finalize(t,i),this.registry.finalizeResource(i))}},XMLParser.prototype.parseComplexAttribute=function(t,e){if(e){var i=this.attributeStack.top();if(!i)return;var r=i.getAttribute(t);if(!r){if(!i.isCollection())return void this.attributeStack.push(i);var o=this.collectionCountStack.top();o++;var n=i.Size();i.AppendParsedElements()?(i.resize(n+1),o=n):o>=n&&i.resize(o+1),r=i.getAt(o)}this.attributeStack.push(r),r&&r.isContainer()?(resolveAttributeContainerReference(r,e.m_parser.m_atts,this.registry)||deserializeAttributeContainer(r,e.m_parser.m_atts),r.isCollection()&&this.collectionCountStack.push(0)):r&&(resolveComplexAttributeReference(r,e.m_parser.m_atts)||deserializeComplexAttribute(r,e.m_parser.m_atts))}else this.attributeStack.pop(),i&&i.isCollection()&&this.collectionCountStack.pop()},XMLParser.prototype.parsePrimitiveAttribute=function(){},XMLParser.prototype.parseTokenValue=function(t,e,i){var r=t.indexOf(e);if(-1==r)return void 0;r+=e.length;var o=t.indexOf(i,r);return-1==o?void 0:t.substring(r,o)},Serializer.prototype=new AttributeContainer,Serializer.prototype.constructor=Serializer,Serializer.prototype.serialize=function(t,e,i,r){this.RootElement=null,this.DOM=document.implementation.createDocument("","__InitialRoot",null),this.DOM&&(this.RootElement&&(this.DOM.removeChild(this.RootElement),this.RootElement=null,this.mixedModifiedCB(attr,data)),t?this.serializeAttribute(t,e,i):this.serializeAttribute(r,0,""))},Serializer.prototype.serializeAttribute=function(t,e,i){if(t){if(t.isTransient())return;if(1==this.serializeMinimum.getValueDirect()&&!t.isDeserializedFromXML())return;if(t.attrType==eAttrType.Model){var r=t;this.serializeModel(r)}else if(t.attrType==eAttrType.PerspectiveCamera){var o=t;this.serializeAttributeContainer(o)}else if(t.attrType>eAttrType.Command&&t.attrType<eAttrType.Command_End){var n=t;this.serializeCommand(n)}else if(t.isCollection()){var o=t;this.serializeAttributeCollection(o,i)}else if(t.isContainer()){var o=t;this.serializeAttributeContainer(o,i)}else if(i&&this.DOM){var a,s=t.attrType,l=null,c=null,h=null,u=t.getLength();if(i){for(var d=0;;){if(d=i.indexOf("("),-1==d)break;i.replace(d,1,"_x0028")}for(;;){if(d=i.indexOf(")"),-1==d)break;i.replace(d,1,"_x0029")}var p=i;if(p&&(l=this.DOM.createElement(p))){var f;if(f=this.getAttributeStringValue(t,e),""==f)return;if(e>=0||1==u||s==eAttrType.StringAttr){var _="<![CDATA[",m="]]>",g=0,y=f.indexOf(m);if(-1!=g&&-1!=y){g+=_.length,f=f.substr(g,f.length-g-m.length);var b=null;p=f,p&&(b=this.DOM.createCDATASection(p)),l.appendChild(b)}else l.textContent=f}else for(var v,M=0,S=0,T=0;u>T;++T)a="item"+T.toString(),S=T==u-1?f.length:f.indexOf(",",M),v=f.substr(M,S-M),M=S+1,this.bMixed?(c=this.DOM.createElement(a),c.textValue=v,l.appendChild(c)):(h=this.DOM.createAttribute(a),h.value=v,l.setAttributeNode(h));this.pushElement(l),this.popElement()}}}}},Serializer.prototype.serializeAttributeReference=function(t,e){if(t&&e&&this.DOM){var i=null,r=null,o=null,n=null,a=null;if(i=t.getContainer()){var s=i.getAttributeName(t);s&&(r=this.DOM.createElement(s))}if(r){if(r.attributes.length>0&&(o=this.DOM.createAttribute("ref"))){var l="",c="",h=null;if(i=e.getContainer(),i&&(l=i.getAttributeName(e),h=i.getAttribute("name"))){c=h.getValueDirect().join(""),c+="/",c+=l,l=c}o.textContent=l,n.setNamedItem(o,a)}this.pushElement(r),this.popElement()}}},Serializer.prototype.serializeModel=function(t){var e=null,i=null;if(this.DOM&&(e="ModelRoot",e&&(i=this.DOM.createElement(e),i&&this.pushElement(i))),t){this.serializeAttributeContainer(t);var r=null;if(r=getInspectionGroup(t)){var o,n=t,a=r.getChild(2).getAttribute("rotationQuat"),s=n.getAttribute("name");o=s.getValueDirect().join("");var l=null,c=this.registry.find("AttributeFactory");if(l=c.create("Set")){l.getAttribute("target").setValueDirect(o),l.getAttribute("target").flagDeserializedFromXML();var h=[];a.getValue(h),l.attributeValuePairs.push(new Pair(a,h)),this.serializeCommand(l),setAttributeBin(null),setAttributePairs(null)}}}i&&this.popElement()},Serializer.prototype.serializeCommand=function(t){var e;if(t&&this.DOM){var i=null,r=t.className;if("Serialize"==r)return;var o=r;if(o&&(i=this.DOM.createElement(o))){this.pushElement(i);var e,n=null,a=null,s=t.getAttributeCount();for(e=0;s>e;++e)n=t.getAttributeAt(e),a=t.getAttributeName(n),t.isBorrowed(n)||"sourceContainer"==a||"sourceEvaluator"==a||"sourceAttribute"==a||"sourceOutput"==a||"source"==a||"targetContainer"==a||"targetAttribute"==a||"target"==a||this.serializeAttribute(n,-1,a);n=t.getAttribute("sourceContainer"),n&&this.serializeAttribute(n,-1,"sourceContainer"),n=t.getAttribute("targetContainer"),n&&this.serializeAttribute(n,-1,"targetContainer");var l=[],c=[];for(e=0;s>e;++e){var h=t.getAttributeAt(e),u=t.getAttributeName(h);"sourceAttribute"==u?l.push(h):"targetAttribute"==u&&c.push(h)}for(e=0;e<l.length&&e<c.length;e++)this.serializeAttribute(l[e],-1,"sourceAttribute"),this.serializeAttribute(c[e],-1,"targetAttribute");0==c.length&&(n=t.getAttribute("target"),n&&this.serializeAttribute(n,-1,"target"));for(e=0;s>e;++e){n=t.getAttributeAt(e);var u=t.getAttributeName(n),d=t.isBorrowedAndValueModified(n);if(d.borrowed){var p=newAttribute(n.className);p&&(setAttributeValue(p,d.value),p.flagDeserializedFromXML(),this.serializeAttribute(p,-1,u))}else{var d=t.isBorrowedAndReferenceModified(n);d.borrowed&&this.serializeAttributeReference(n,d.reference)}}this.popElement()}}},Serializer.prototype.serializeAttributeContainer=function(t,e){if(t&&this.DOM){var i=null,r=e||t.className;"BwSceneInspector"==r?r="SceneInspector":"GenericConnector"==r?r="genericConnector":"PhysicalPropertiesAttr"==r?r="physicalProperties":"PlugConnector"==r?r="plugConnector":"SocketConnector"==r&&(r="socketConnector");var o=r;if(o&&(i=this.DOM.createElement(o))){this.pushElement(i);for(var n=null,a=t.getAttributeCount(),s=0;a>s;++s){n=t.getAttributeAt(s);var l=t.getAttributeName(n);1==n.isNative()&&this.serializeAttribute(n,-1,l)}this.serializeChildren.getValueDirect()&&this.doSerializeChildren(t);for(var s=0;a>s;++s)if(n=t.getAttributeAt(s),0!=n.modificationCount){var l=t.getAttributeName(n);0==n.isNative()&&this.serializeAttribute(n,-1,l)}this.popElement()}}},Serializer.prototype.serializeAttributeCollection=function(t,e){if(t&&this.DOM){var i=null,r=e,o=r;if(o&&(i=this.DOM.createElement(o))){this.pushElement(i);for(var n,a=t,s=a.baseName.getValueDirect().join(""),l=a.Size(),c=0;l>c;c++)n=s,n+=c.toString(),this.serializeAttribute(a.getAt(c),0,n);this.popElement()}}},Serializer.prototype.doSerializeChildren=function(t){if(!(t.attrType<eAttrType.Node||t.attrType>eAttrType.Node_End))for(var e=0;e<t.getChildCount();e++)this.serializeAttribute(t.getChild(e),0,null)},Serializer.prototype.pushElement=function(t){this.elementStack.push(t),this.RootElement?this.RootElement.appendChild(t):this.DOM.replaceChild(t,this.DOM.documentElement),this.RootElement=t},Serializer.prototype.popElement=function(){this.elementStack.pop(),this.elementStack.length()>0&&(this.RootElement=this.elementStack.top())},Serializer.prototype.getAttributeStringValue=function(t,e){strValue="";var i=t.attrType;switch(i){case eAttrType.NumberAttr:var r=t.getValueDirect();strValue=r.toString();break;case eAttrType.BooleanAttr:var o=t.getValueDirect();strValue=1==o?"true":"false";break;case eAttrType.StringAttr:{t.getLength()}strValue=t.getValueDirect().join("");break;case eAttrType.ColorAttr:case eAttrType.Vector2DAttr:case eAttrType.Vector3DAttr:case eAttrType.Matrix4x4Attr:case eAttrType.QuaternionAttr:var n=[];if(t.getValue(n),-1==e)for(var r=0;r<n.length;++r)strValue+=n[r].toString(),r<n.length-1&&(strValue+=",");else strValue+=n[e].toString();break;case eAttrType.NumberArrayAttr:case eAttrType.ViewportAttr:var a=[];if(t.getValue(a),-1==e)for(var r=0;r<a.length;++r)strValue+=a[r].toString(),r<a.length-1&&(strValue+=",");else strValue+=a[e].toString()}return strValue},Serializer.prototype.mixedModifiedCB=function(t,e){var i=[];t.getValue(i);var r=e;4294967295!=r&&(r.bMixed=i[0])};var ePixelFormat={Unknown:-1,R8G8B8:0,B8G8R8:1,X8X8X8:2,R8G8B8A8:3,B8G8R8A8:4,A8R8G8B8:5,A8B8G8R8:6,X8X8X8X8:7,A8:8},ePixelMap={Default:0,RGBToAlpha:1},eImageFormat={Unknown:-1,RGB:0,RGBA:1,Alpha:2,Luminance:3,Luminance_Alpha:4},FRAME_FILTER_SCALE_FRAME_BIT=1,FRAME_FILTER_INVERT_FRAME_BIT=2,FRAME_FILTER_NEGATE_COLOR_BIT=4,FRAME_FILTER_NEGATE_ALPHA_BIT=8,FRAME_FILTER_ALPHA_ONOFF_BIT=16;MediaPlayback.prototype.loadImage=function(t){this.ready=!1,this.frameRetrieved=!1,this.htmlImageElement=null,this.imageWidth=0,this.imageHeight=0,this.imagePitch=0,this.imagePixels=null;var e=getFileExtension(t);switch(e){case"avi":case"mpg":case"ogg":this.htmlImageElement=document.createElement("video"),this.htmlImageElement.container=this,this.htmlImageElement.controls="controls",this.htmlImageElement.src="http://localhost/bwjs/BwContent/images/Bear.ogg",this.video=!0,this.onVideoLoad();break;default:this.htmlImageElement=new Image,this.htmlImageElement.container=this,this.htmlImageElement.onload=MediaPlayback_OnImageLoad,this.htmlImageElement.src=t}this.url=t},MediaPlayback.prototype.onImageLoad=function(){var t=this.htmlImageElement;this.imageWidth=t.width,this.imageHeight=t.height,this.imagePitch=4*t.width;var e=document.createElement("canvas"),i=e.getContext("2d");e.width=t.width,e.height=t.height,i.drawImage(t,0,0);var r=i.getImageData(0,0,t.width,t.height);this.imagePixels=r.data,this.ready=!0,this.onload&&this.onload.call(this)},MediaPlayback.prototype.onVideoLoad=function(){this.ready=!0},MediaPlayback.prototype.getFrameDimensions=function(){return{width:this.imageWidth,height:this.imageHeight,pitch:this.imagePitch}},MediaPlayback.prototype.getPixelFormat=function(){return ePixelFormat.R8G8B8A8},MediaPlayback.prototype.getPixelByteAlignment=function(){return 4},MediaPlayback.prototype.getBytesPerPixel=function(){return BytesPerPixel(this.getPixelFormat())},MediaPlayback.prototype.getFramePixels=function(t){if(!this.ready||0==this.imageWidth||0==this.imageHeight||!this.imagePixels)return void 0;t.length=this.imagePixels.length;for(var e=0;e<this.imagePixels.length;e++)t[e]=this.imagePixels[e];return-1},MediaPlayback.prototype.newFrameDataAvailable=function(){return this.ready&&!this.frameRetrieved},MediaPlayback.prototype.getFrameData=function(t,e,i,r,o,n,a,s){if(!this.ready||0==this.imageWidth||0==this.imageHeight||!this.imagePixels)return void 0;if(0==t||0==e||t>i||r==ePixelFormat.Unknown||!o)return void 0;var l=-1,c=n&FRAME_FILTER_SCALE_FRAME_BIT?!0:!1,h=n&FRAME_FILTER_INVERT_FRAME_BIT?!0:!1,u=n&FRAME_FILTER_NEGATE_COLOR_BIT?!0:!1,d=n&FRAME_FILTER_NEGATE_ALPHA_BIT?!0:!1,p=n&FRAME_FILTER_ALPHA_ONOFF_BIT?!0:!1,f=this.getFrameDimensions(),_=f.width,m=f.height,g=f.pitch,y=this.getPixelFormat();if(y!=ePixelFormat.R8G8B8A8)return void 0;var b=[],v=this.getFramePixels(b,s);if(void 0==v)return void 0;if(c&&(t!=_||e!=m)){var M=this.getBytesPerPixel();g=t*M,g+=(4-g%4)%4;var S=[];if(!ScaleImage(y,_,m,this.getPixelByteAlignment(),b,t,e,4,S))return void 0;b=S,_=t,m=e}if(!this.alphaPlayback&&!u&&!h&&g==i&&m==e&&y==r){for(var T=0;T<o.length;T++)o[T]=b[T];return this.frameRetrieved=!0,l}var x,C=0,E=0,A=0,w=null;if(this.alphaChannel){if(f=this.alphaChannel.getFrameDimensions(),C=f.width,E=f.height,A=f.pitch,x=this.alphaChannel.getPixelFormat(),x!=ePixelFormat.R8G8B8A8)return void 0;var R=[],D=this.alphaChannel.getFramePixels(R,v);if(void 0!=D)if(C!=_||E!=m){var P=this.alphaChannel.getBytesPerPixel();A=_*P,A+=(4-A%4)%4;var B=[];ScaleImage(x,C,E,this.alphaChannel.getPixelByteAlignment(),w,_,m,4,B)&&(w=B,C=_,E=m)}else w=R}var V=Math.min(t,_),L=Math.min(e,m),k=0,H=0,I=0,O=0;switch(r){case ePixelFormat.R8G8B8:k=0,H=1,I=2;break;case ePixelFormat.B8G8R8:k=2,H=1,I=0;break;case ePixelFormat.R8G8B8A8:k=0,H=1,I=2,O=3;break;case ePixelFormat.B8G8R8A8:k=2,H=1,I=0,O=3;break;case ePixelFormat.A8R8G8B8:k=1,H=2,I=3,O=0;break;case ePixelFormat.A8B8G8R8:k=3,H=2,I=1,O=0}var J=0,N=0,F=0;h&&(J+=g*(L-1),w&&(N+=A*(L-1)));for(var G=new TPixel(0,0,0,255),z=new TPixel(0,0,0,255),j=0;L>j;j++){for(var U=0;V>U;U++)switch(G.red=b[J],G.green=b[J+1],G.blue=b[J+2],G.alpha=b[J+3],J+=4,u&&(G.red=255-G.red,G.green=255-G.green,G.blue=255-G.blue,G.alpha=255-G.alpha),w&&(z.red=w[N],z.green=w[N+1],z.blue=w[N+2],z.alpha=w[N+3],N+=4),d&&(z.red=255-z.red,z.green=255-z.green,z.blue=255-z.blue,z.alpha=255-z.alpha),r){case ePixelFormat.R8G8B8:case ePixelFormat.B8G8R8:o[F+k]=G.red,o[F+H]=G.green,o[F+I]=G.blue,F+=3;break;case ePixelFormat.R8G8B8A8:case ePixelFormat.B8G8R8A8:case ePixelFormat.A8R8G8B8:case ePixelFormat.A8B8G8R8:switch(a){case ePixelMap.RGBToAlpha:o[F+k]=0,o[F+H]=255,o[F+I]=0,o[F+O]=w?(G.red+G.green+G.blue)/3&(z.red+z.green+z.blue)/3:(G.red+G.green+G.blue)/3,p&&(o[F+O]=o[F+O]<=127?0:255),F+=4;break;case ePixelMap.Default:default:o[F+k]=G.red,o[F+H]=G.green,o[F+I]=G.blue,o[F+O]=w?(z.red+z.green+z.blue)/3:G.alpha,p&&(o[F+O]=o[F+O]<=127?0:255),F+=4}break;case ePixelFormat.A8:o[F]=w?(z.red+z.green+z.blue)/3:(G.red+G.green+G.blue)/3,p&&(o[F]=o[F]<=127?0:255),F+=1}h&&(J-=2*g),w&&h&&(N-=2*A)}return this.frameRetrieved=!0,l},MediaPlayback.prototype.setAlphaChannel=function(t){this.alphaPlayback=t},StyleMgr.prototype=new AttributeContainer,StyleMgr.prototype.constructor=StyleMgr,StyleMgr.prototype.eventPerformed=function(t,e){var i=e.stylesMap.getStyles(t.type);i.styles&&i.enabled&&this.applyStyle(i.styles,i.target?i.target:e)},StyleMgr.prototype.applyStyle=function(t,e){e.styles.updateStyle(t)},GraphMgr.prototype=new AttributeContainer,GraphMgr.prototype.constructor=GraphMgr,GraphMgr.prototype.setRenderContext=function(t){this.renderContext=t,this.renderState=new RenderState(t)},GraphMgr.prototype.getAvailableLightIndex=function(){return this.lightIndex++},GraphMgr.prototype.getCurrentMaterial=function(){return this.material},GraphMgr.prototype.setCurrentMaterial=function(t){this.material=t},GraphMgr.prototype.getCurrentDissolve=function(){return this.dissolve},GraphMgr.prototype.setCurrentDissolve=function(t){this.dissolve=t},GraphMgr.prototype.getCurrentBalloonTipLabel=function(){return this.balloonTipLabel},GraphMgr.prototype.setCurrentBalloonTipLabel=function(t){this.balloonTipLabel=t},GraphMgr.prototype.getDrawTextures=function(){return this.drawTextures},GraphMgr.prototype.setDrawTextures=function(t){this.drawTextures=t},GraphMgr.prototype.getNextLabelIndex=function(){return this.labelIndex++},GraphMgr.prototype.getNextBalloonTipLabelIndex=function(){return this.balloonTipLabelIndex++},GraphMgr.prototype.reset=function(){this.lightIndex=0,this.labelIndex=1,this.balloonTipLabelIndex=1,this.setCurrentDissolve(null),this.setCurrentMaterial(null),this.setCurrentBalloonTipLabel(null),this.setDrawTextures(!0),this.collisions=new Array;for(var t=0;gl_MaxLights>t;t++)this.renderContext.enableLight(t,!1)},NodeRegistry.prototype=new AttributeContainer,NodeRegistry.prototype.constructor=NodeRegistry,NodeRegistry.prototype.register=function(t){this.nodes[t.__nodeId__]=t},NodeRegistry.prototype.unregister=function(){},NodeRegistry.prototype.clear=function(){this.nodes=[]};var g__nodeId__=0;Node.prototype=new AttributeContainer,Node.prototype.constructor=Node,Node.prototype.copyNode=function(t,e,i,r){var o=!1;if(!t){if(!(t=new Node))return-1;o=!0}if(t.synchronize(this,!1),i.push(this),r.push(this),e){var n;for(var a in this.children){n=a-this.children.start();var s=null;if(a.getCreatedByParent()){if(s=t.getChild(a-this.children.start()),a.copyNode(s,e,i,r))return-1}else{if(a.copyNode(s,e,i,r))return-1;t.getChildCount()>n?t.insertChild(s,n):t.addChild(s),a.postCloneChild(s,i,r)}}}this.postClone(t,i,r)},Node.prototype.searchTree=function(t,e,i,r,o,n,a,s,l){var c=[],h=[];c.push(t)&&h.push(e)&&this.searchesTree(c,h,i,r,o,n,a,s,l)},Node.prototype.searchesTree=function(t,e,i,r,o,n,a,s,l){var c=!1,h=!1,u=!1;if(i)for(var d=0;d<t.size();d++)if(this.name!=t[d]){h=!0;break}if(r)for(var d=0;d<e.size();d++)if(this.attrType==e[d]){u=!0;break}if(c=i&&r?h&&u:i?h:u,(!c||l.push(this))&&this!=s){if(o)for(var d=0;d<this.parents.size();d++)this.parents[d]!=a&&this.parents[d].searchesTree(t,e,i,r,o,this,null,s,l);for(var d=0;d<this.children.size();d++)this.children[d]!=n&&this.children[d].searchesTree(t,e,i,r,!1,null,null,s,l)}},Node.prototype.setCreatedByParent=function(t){this.createdByParent=t},Node.prototype.getCreatedByParent=function(){return this.createdByParent},Node.prototype.isNode=function(){return!0},Node.prototype.addChild=function(t){this.children.push(t),this.setModified(),t.addParent(this)},Node.prototype.insertChild=function(t,e){this.children.splice(e,0,t),this.setModified(),t.addParent(this)},Node.prototype.removeChild=function(t){this.children.splice(this.children.indexOf(t),1),this.setModified(),t.removeParent(this)},Node.prototype.replaceChild=function(t,e){this.children.splice(this.children.indexOf(t),1,e),t.removeParent(this),e.addParent(this)},Node.prototype.getChild=function(t){return this.children.length>t?this.children[t]:null},Node.prototype.getNamedChild=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name.getValueDirect().join("")==t)return this.children[e];return null},Node.prototype.getChildCount=function(){return this.children.length},Node.prototype.getParent=function(t){return this.parents.length>t?this.parents[t]:null},Node.prototype.getParentCount=function(){return this.parents.length},Node.prototype.addParent=function(t){this.parents.push(t)},Node.prototype.removeParent=function(t){this.parents.splice(this.parents.indexOf(t),1)},Node.prototype.update=function(t,e){if(t.visited.push(this),e)for(var i=0;i<this.children.length;i++)this.children[i].update(t,e)},Node.prototype.apply=function(t,e,i){switch(t){case"serialize":var r=new Context;r.attribute=this;var o=this.registry.find("AttributeFactory"),n=o.create("Serializer"),a=new XMLSerializer;n.getAttribute("format").setValueDirect("xml"),n.getAttribute("serializeMinimum").setValueDirect(!0),n.getAttribute("serializeChildren").setValueDirect(!0),n.serialize(r.attribute,r.item,r.attributeName,r.container);var s=a.serializeToString(n.DOM);"<__InitialRoot/>"!=s&&(e.serialized+=s),i=!1}if(i)if(e.path){if(e.path.length>e.pathIndex)for(var l=0;l<this.children.length;l++){var c=e.path[e.pathIndex];this.children[l]==c&&(e.pathIndex++,this.children[l].apply(t,e,i))}}else for(var l=0;l<this.children.length;l++)this.children[l].apply(t,e,i)},Node.prototype.applyNode=function(t,e,i,r){t.apply(e,i,r)},Node.prototype.setModified=function(){this.modified.pulse(),this.graphMgr&&this.graphMgr.updateRegistry.register(this)},SGNode.prototype=new Node,SGNode.prototype.constructor=SGNode,SGNode.prototype.setGraphMgr=function(t){this.graphMgr=t},SGNode.prototype.update=function(t,e){this.recordDisplayList&&this.createDisplayList(),Node.prototype.update.call(this,t,e)},SGNode.prototype.apply=function(t,e,i){if(this.enabled_){var r=!1;switch(t){case"render":e.resetDisplayLists&&(this.recordDisplayList=!0),r=this.enableDisplayList.getValueDirect()&&null!=this.displayListObj&&null==e.displayListObj&&!e.disableDisplayLists,r&&(e.displayListObj=this.displayListObj,this.recordDisplayList?this.displayListObj.record_begin():(this.displayListObj.play(),i=!1));break;case"rayPick":e.currentNodePath.push(this);break;default:return void Node.prototype.apply.call(this,t,e,i)}if(i)if(e.path){if(e.path.length>e.pathIndex)for(var o=0;o<this.children.length;o++){var n=e.path[e.pathIndex];this.children[o]==n&&(e.pathIndex++,this.children[o].apply(t,e,i))}}else for(var o=0;o<this.children.length;o++)this.children[o].apply(t,e,i);switch(t){case"render":r&&(this.recordDisplayList&&(this.displayListObj.record_end(),this.recordDisplayList=!1),e.displayListObj=null);break;case"rayPick":e.currentNodePath.pop()}}},SGNode.prototype.isRecordingDisplayList=function(){return this.graphMgr.renderContext.getDisplayList()?!0:!1},SGNode.prototype.createDisplayList=function(){this.displayListObj=new DisplayListObj(this.graphMgr.renderContext)},SGNode.prototype.deleteDisplayList=function(){this.displayListObj=null},SGNode.prototype.enableDisplayListModified=function(){},SGNode.prototype.setModified=function(){Node.prototype.setModified.call(this),this.recordDisplayList=!0},RenderableElement.prototype=new SGNode,RenderableElement.prototype.constructor=RenderableElement,RenderableElement.prototype.setRegistry=function(t){this.stylesMap.setRegistry(t),SGNode.prototype.setRegistry.call(this,t)},RenderableElement.prototype.update=function(t,e){SGNode.prototype.update.call(this,t,e)},RenderableElement.prototype.apply=function(t,e,i){SGNode.prototype.apply.call(this,t,e,i)},ParentableMotionElement.prototype=new RenderableElement,ParentableMotionElement.prototype.constructor=ParentableMotionElement,ParentableMotionElement.prototype.getTransform=function(){var t=new Matrix4x4;return t.loadMatrix(this.transformCompound),t},ParentableMotionElement.prototype.getSectorTransform=function(){var t=new Matrix4x4;return t.loadMatrix(this.sectorTransformCompound),t},ParentableMotionElement.prototype.update=function(t,e){this.nonZeroVelocity&&this.updateVelocityMotion(t.timeIncrement),this.updateInheritance&&(this.updateInheritance=!1,this.inheritsPosition=this.inheritPosition_X.getValueDirect()&&this.inheritPosition_Y.getValueDirect()&&this.inheritPosition_Z.getValueDirect(),this.inheritsRotation=this.inheritRotation_X.getValueDirect()&&this.inheritRotation_Y.getValueDirect()&&this.inheritRotation_Z.getValueDirect(),this.inheritsScale=this.inheritScale_X.getValueDirect()&&this.inheritScale_Y.getValueDirect()&&this.inheritScale_Z.getValueDirect(),this.inheritsPivot=this.inheritPivot_X.getValueDirect()&&this.inheritPivot_Y.getValueDirect()&&this.inheritPivot_Z.getValueDirect()),this.updateSimpleTransform(),this.motionParent&&this.motionParent.update(t,!1),this.updateCompoundTransform(),this.updateWorldMotionInfo(),RenderableElement.prototype.update.call(this,t,e)},ParentableMotionElement.prototype.apply=function(t,e,i){if(!this.enabled_)return void RenderableElement.prototype.apply.call(this,t,e,i);switch(t){case"render":var r=toScreenSpace(this.sectorWorldPosition.getValueDirect(),e.viewMatrix,e.projMatrix,e.viewport);this.screenPosition.setValueDirect(r.x,r.y,r.z)}RenderableElement.prototype.apply.call(this,t,e,i)},ParentableMotionElement.prototype.updateChildDisplayLists=function(){},ParentableMotionElement.prototype.applyTransform=function(){this.graphMgr.renderContext.setMatrixMode(RC_WORLD),this.graphMgr.renderContext.leftMultMatrix(this.sectorTransformCompound),this.graphMgr.renderContext.applyWorldTransform()},ParentableMotionElement.prototype.updateVelocityMotion=function(t){var e=this.panVelocity.getValueDirect(),i=this.linearVelocity.getValueDirect();if(0!=e.x||0!=e.y||0!=e.z||0!=i.x||0!=i.y||0!=i.z){var r=this.position.getValueDirect(),o=this.getDirectionVectors(),n=this.linearVelocity_affectPosition_Y.getValueDirect();r.x=r.x+o.right.x*e.x*t+o.up.x*e.y*t+o.forward.x*e.z*t+i.x*t,n&&(r.y=r.y+o.right.y*e.x*t+o.up.y*e.y*t+o.forward.y*e.z*t+i.y*t),r.z=r.z+o.right.z*e.x*t+o.up.z*e.y*t+o.forward.z*e.z*t+i.z*t,this.position.setValueDirect(r.x,r.y,r.z)}var a=this.angularVelocity.getValueDirect();if(0!=a.x||0!=a.y||0!=a.z){var s=this.rotation.getValueDirect();s.x=s.x+a.x*t,s.y=s.y+a.y*t,s.z=s.z+a.z*t,this.rotation.setValueDirect(s.x,s.y,s.z)}var l=this.scalarVelocity.getValueDirect();if(0!=l.x||0!=l.y||0!=l.z){var c=this.scale.getValueDirect();c.x=c.x+l.x*t,c.y=c.y+l.y*t,c.z=c.z+l.z*t,this.scale.setValueDirect(c.x,c.y,c.z)}},ParentableMotionElement.prototype.updateSimpleTransform=function(){var t=!1;if(this.updatePosition||this.updateRotation||this.updateQuaternion||this.updateScale||this.updatePivot){var e;if(this.updatePosition&&(this.updatePosition=!1,e=this.position.getValueDirect(),this.translationMatrix.loadTranslation(e.x,e.y,e.z),t=!0),this.updateQuaternion){this.updateQuaternion=!1;var i=this.quaternion.getValueDirect();this.rotationMatrix=i.getMatrix(),t=!0}if(this.updateScale&&(this.updateScale=!1,e=this.scale.getValueDirect(),this.scaleMatrix.loadScale(e.x,e.y,e.z),t=!0),this.updatePivot&&(this.updatePivot=!1,e=this.pivot.getValueDirect(),this.pivotMatrix.loadTranslation(-e.x,-e.y,-e.z),t=!0),this.updateSectorPosition&&(this.updateSectorPosition=!1,e=this.sectorPosition.getValueDirect(),this.sectorTranslationMatrix.loadTranslation(e.x,e.y,e.z),t=!0),t){this.transformModified.pulse();var r=new Matrix4x4;r.loadMatrix(this.pivotMatrix.multiply(this.scaleMatrix.multiply(this.rotationMatrix))),this.transformSimple.loadMatrix(r.multiply(this.translationMatrix)),this.sectorTransformSimple.loadMatrix(r.multiply(this.sectorTranslationMatrix)),this.updateChildDisplayLists()}}return t},ParentableMotionElement.prototype.updateCompoundTransform=function(){if(this.transformCompound.loadMatrix(this.transformSimple),this.sectorTransformCompound.loadMatrix(this.sectorTransformSimple),this.motionParent){var t=new Matrix4x4,e=getInspectionGroup(this.motionParent);if(e){var i=e.getChild(0),r=i.getAttribute("matrix").getValueDirect(),o=e.getChild(1),n=o.getAttribute("matrix").getValueDirect(),a=e.getChild(2),s=a.getAttribute("matrix").getValueDirect(),l=e.getChild(3),c=l.getAttribute("matrix").getValueDirect(),h=e.getChild(4),u=h.getAttribute("matrix").getValueDirect();t=u.multiply(c.multiply(s.multiply(n.multiply(r))))}this.inheritsPosition&&this.inheritsRotation&&this.inheritsScale&&this.inheritsPivot&&(this.transformCompound.loadMatrix(this.transformCompound.multiply(t.multiply(this.motionParent.transformCompound))),this.sectorTransformCompound.loadMatrix(this.sectorTransformCompound.multiply(t.multiply(this.motionParent.sectorTransformCompound))))}},ParentableMotionElement.prototype.updateWorldMotionInfo=function(){this.worldTransform.setValueDirect(this.transformCompound),this.sectorWorldTransform.setValueDirect(this.sectorTransformCompound),this.updateWorldCenter(),this.updateWorldPosition(),this.updateWorldRotation(),this.updateWorldScale()},ParentableMotionElement.prototype.updateWorldCenter=function(){var t=this.center.getValueDirect();t=this.transformCompound.transform(t.x,t.y,t.z,1),this.worldCenter.setValueDirect(t.x,t.y,t.z),t=this.center.getValueDirect(),t=this.sectorTransformCompound.transform(t.x,t.y,t.z,1),this.sectorWorldCenter.setValueDirect(t.x,t.y,t.z)},ParentableMotionElement.prototype.updateWorldPosition=function(){var t=this.transformCompound.transform(0,0,0,1);this.worldPosition.setValueDirect(t.x,t.y,t.z),t=this.sectorTransformCompound.transform(0,0,0,1),this.sectorWorldPosition.setValueDirect(t.x,t.y,t.z)},ParentableMotionElement.prototype.updateWorldRotation=function(){var t=this.transformCompound.getRotationAngles();this.worldRotation.setValueDirect(t.x,t.y,t.z)},ParentableMotionElement.prototype.updateWorldScale=function(){var t=this.transformCompound.getScalingFactors();this.worldScale.setValueDirect(t.x,t.y,t.z)},ParentableMotionElement.prototype.synchronizePosition=function(){var t=new Vector3D;this.motionParent?(t.x=0,t.y=0,t.z=0):t=this.sectorOrigin.getValueDirect();var e=this.sectorPosition.getValueDirect(),i=new Vector3D;i.x=t.x+e.x,i.y=t.y+e.y,i.z=t.z+e.z,this.position.removeModifiedCB(ParentableMotionElement_PositionModifiedCB,this),this.position.setValueDirect(i.x,i.y,i.z),this.position.addModifiedCB(ParentableMotionElement_PositionModifiedCB,this),this.updatePosition=!0},ParentableMotionElement.prototype.synchronizeSectorPosition=function(){var t=new Vector3D;this.motionParent?(t.x=0,t.y=0,t.z=0):t=this.sectorOrigin.getValueDirect();var e=this.position.getValueDirect(),i=new Vector3D;i.x=e.x-t.x,i.y=e.y-t.y,i.z=e.z-t.z,this.sectorPosition.removeModifiedCB(ParentableMotionElement_SectorPositionModifiedCB,this),this.sectorPosition.setValueDirect(i.x,i.y,i.z),this.sectorPosition.addModifiedCB(ParentableMotionElement_SectorPositionModifiedCB,this),this.updateSectorPosition=!0},ParentableMotionElement.prototype.getDirectionVectors=function(){var t=this.sectorTransformCompound.transform(0,1,0,0),e=this.sectorTransformCompound.transform(1,0,0,0),i=this.sectorTransformCompound.transform(0,0,1,0);return{up:t,right:e,forward:i}},ParentableMotionElement.prototype.setMotionParent=function(t){if(t!=this){if(this.motionParent)for(var e=0;e<this.motionParent.motionChildren.length;e++)if(this.motionParent.motionChildren[e]==this){this.motionParent.motionChildren.splice(e,1);break}this.motionParent=t,t?(t.motionChildren.push(this),this.parent.removeModifiedCB(ParentableMotionElement_ParentModifiedCB,this),this.parent.copyValue(t.name),this.parent.addModifiedCB(ParentableMotionElement_ParentModifiedCB,this)):(this.parent.removeModifiedCB(ParentableMotionElement_ParentModifiedCB,this),this.parent.setValueDirect(""),this.parent.addModifiedCB(ParentableMotionElement_ParentModifiedCB,this)),this.synchronizeSectorPosition(),this.setModified()}},ParentableMotionElement.prototype.isMotionAncestor=function(t){return t&&this.motionParent?this.motionParent==t?!0:this.motionParent.isMotionAncestor(t):!1},ParentableMotionElement.prototype.velocityModified=function(){this.nonZeroVelocity=this.panVelocity.isZero()&&this.linearVelocity.isZero()&&this.angularVelocity.isZero()&&this.scalarVelocity.isZero()?!1:!0},ParentableMotionElement.prototype.setModified=function(){RenderableElement.prototype.setModified.call(this);for(var t=0;t<this.motionChildren.length;t++)this.motionChildren[t].setModified()},Directive.prototype=new AttributeContainer,Directive.prototype.constructor=Directive,SGDirective.prototype=new Directive,SGDirective.prototype.constructor=SGDirective,SGDirective.prototype.setGraphMgr=function(t){this.graphMgr=t},UpdateParams.prototype=new DirectiveParams,UpdateParams.prototype.constructor=UpdateParams(),UpdateDirective.prototype=new SGDirective,UpdateDirective.prototype.constructor=UpdateDirective,UpdateDirective.prototype.setRegistry=function(t){this.collideDirective.setRegistry(t),SGDirective.prototype.setRegistry.call(this,t),this.registry.register(this.collideDirective)},UpdateDirective.prototype.setGraphMgr=function(t){SGDirective.prototype.setGraphMgr.call(this,t),this.collideDirective.setGraphMgr(t)
},UpdateDirective.prototype.execute=function(t,e){t=t||this.rootNode.getValueDirect(),void 0==e&&(e=!0),this.update(),e&&(collideParams=new CollideParams,collideParams.directive=this.collideDirective,this.collideDirective.execute(t,collideParams),this.update())},UpdateDirective.prototype.update=function(){var t=new UpdateParams;t.directive=this.updateDirective,t.disableDisplayLists=this.resetDisplayLists,t.timeIncrement=this.timeIncrement.getValueDirect();for(var e in this.graphMgr.updateRegistry.nodes)this.graphMgr.updateRegistry.nodes[e].update(t,!1);this.graphMgr.updateRegistry.clear()},Camera.prototype=new ParentableMotionElement,Camera.prototype.constructor=Camera,Camera.prototype.update=function(t,e){this.updateNearDistance&&(this.updateNearDistance=!1,this.near=this.nearDistance.getValueDirect(),this.updateClipPlanes=!0),this.updateFarDistance&&(this.updateFarDistance=!1,this.far=this.farDistance.getValueDirect(),this.updateClipPlanes=!0),ParentableMotionElement.prototype.update.call(this,t,e)},Camera.prototype.apply=function(t,e,i){if(!this.enabled_)return void ParentableMotionElement.prototype.apply.call(this,t,e,i);switch(t){case"render":this.applyTransform(),e.projMatrix.loadMatrix(this.projectionMatrix),e.viewMatrix.loadMatrix(this.sectorTransformCompound),e.viewMatrix.invert();break;case"rayPick":if(!e.camera||e.camera==this){var r=this.getViewSpaceRay(e.viewport,e.clickPoint);e.rayOrigin=r.origin,e.rayDir=r.direction,e.currentCamera=this,e.nearDistance=this.nearDistance.getValueDirect(),e.farDistance=this.farDistance.getValueDirect(),e.viewMatrix.loadMatrix(this.sectorTransformCompound),e.viewMatrix.invert()}break;case"bbox":e.viewMatrix.loadMatrix(this.sectorTransformCompound),e.viewMatrix.invert();break;case"highlight":e.projMatrix.loadMatrix(this.projectionMatrix),e.viewMatrix.loadMatrix(this.transformCompound),e.viewMatrix.invert(),e.camera=this,e.viewport=this.viewport}ParentableMotionElement.prototype.apply.call(this,t,e,i)},Camera.prototype.applyTransform=function(){var t=new Matrix4x4;t.loadMatrix(this.sectorTransformCompound),t.invert(),this.graphMgr.renderContext.setMatrixMode(RC_VIEW),this.graphMgr.renderContext.loadMatrix(t),this.graphMgr.renderContext.applyViewTransform()},OrthographicCamera.prototype=new Camera,OrthographicCamera.prototype.constructor=OrthographicCamera,OrthographicCamera.prototype.update=function(t,e){this.updateWidth&&(this.updateWidth=!1,this.updateClipPlanes=!0),Camera.prototype.update.call(this,t,e)},OrthographicCamera.prototype.apply=function(t,e,i){if(!this.enabled_)return void Camera.prototype.apply.call(this,t,e,i);switch(t){case"render":this.viewport.equals(e.viewport)||(this.viewport=e.viewport,this.updateClipPlanes=!0),this.updateClipPlanes&&(this.updateClipPlanes=!1,this.setClipPlanes()),this.applyOrthographicTransform()}Camera.prototype.apply.call(this,t,e,i)},OrthographicCamera.prototype.setClipPlanes=function(){var t=this.width.getValueDirect(),e=t*this.viewport.height/this.viewport.width;this.top=e/2,this.bottom=-this.top,this.right=t/2,this.left=-this.right,this.projectionMatrix.loadMatrix(this.graphMgr.renderContext.orthographicMatrixLH(this.left,this.right,this.top,this.bottom,this.near,this.far));var i=new ViewVolume;i.setOrthographic(this.left,this.right,this.top,this.bottom,this.near,this.far),this.viewVolume.setValueDirect(i.left,i.right,i.top,i.bottom,i.near,i.far)},OrthographicCamera.prototype.applyOrthographicTransform=function(){this.graphMgr.renderContext.projectionMatrixStack.top().loadMatrix(this.projectionMatrix),this.graphMgr.renderContext.applyProjectionTransform()},OrthographicCamera.prototype.getViewSpaceRay=function(t,e){var i=(e.x-t.x)/t.width*2-1,r=-((e.y-t.y)/t.height*2-1),o=(this.right-this.left)/2,n=(this.top-this.bottom)/2,a=new Vector3D(i*o,r*n,this.near),s=new Vector3D(0,0,1);return{origin:a,direction:s}},PerspectiveCamera.prototype=new Camera,PerspectiveCamera.prototype.constructor=PerspectiveCamera,PerspectiveCamera.prototype.update=function(t,e){this.updateZoom&&(this.updateZoom=!1,this.fovyRadians=2*Math.atan2(1,this.zoom.getValueDirect()),this.updateClipPlanes=!0),Camera.prototype.update.call(this,t,e)},PerspectiveCamera.prototype.apply=function(t,e,i){if(!this.enabled_)return void Camera.prototype.apply.call(this,t,e,i);switch(t){case"render":this.viewport.equals(e.viewport)||(this.viewport=e.viewport,this.updateClipPlanes=!0),this.updateClipPlanes&&(this.updateClipPlanes=!1,this.setClipPlanes()),this.applyPerspectiveTransform()}Camera.prototype.apply.call(this,t,e,i)},PerspectiveCamera.prototype.setClipPlanes=function(){this.top=Math.tan(this.fovyRadians/2)*this.near,this.bottom=-this.top,this.right=this.top*(this.viewport.width/this.viewport.height),this.left=-this.right,this.projectionMatrix.loadMatrix(this.graphMgr.renderContext.perspectiveMatrixLH(this.left,this.right,this.top,this.bottom,this.near,this.far));var t=new ViewVolume;t.setPerspective(this.fovyRadians,this.viewport.width/this.viewport.height,this.near,this.far),this.viewVolume.setValueDirect(t.left,t.right,t.top,t.bottom,t.near,t.far)},PerspectiveCamera.prototype.applyPerspectiveTransform=function(){this.graphMgr.renderContext.setMatrixMode(RC_PROJECTION),this.graphMgr.renderContext.loadMatrix(this.projectionMatrix),this.graphMgr.renderContext.applyProjectionTransform()},PerspectiveCamera.prototype.getViewSpaceRay=function(t,e){var i=(e.x-t.x)/t.width*2-1,r=-((e.y-t.y)/t.height*2-1),o=this.fovyRadians,n=2*Math.atan(t.width/t.height*Math.tan(o/2)),a=Math.tan(n/2)*this.far,s=Math.tan(o/2)*this.far,l=new Vector3D(0,0,0),c=new Vector3D(i*a,r*s,this.far);return{origin:l,direction:c}},Light.prototype=new ParentableMotionElement,Light.prototype.constructor=Light,Light.prototype.setGraphMgr=function(t){this.lightIndex=t.getAvailableLightIndex(),ParentableMotionElement.prototype.setGraphMgr.call(this,t)},Light.prototype.update=function(t,e){this.updateAmbient&&(this.updateAmbient=!1,this.lightDesc.ambient.copy(this.ambient.getValueDirect()),this.lightDesc.validMembersMask|=LIGHTDESC_AMBIENT_BIT),this.updateDiffuse&&(this.updateDiffuse=!1,this.lightDesc.diffuse.copy(this.diffuse.getValueDirect()),this.lightDesc.validMembersMask|=LIGHTDESC_DIFFUSE_BIT),this.updateSpecular&&(this.updateSpecular=!1,this.lightDesc.specular.copy(this.specular.getValueDirect()),this.lightDesc.validMembersMask|=LIGHTDESC_SPECULAR_BIT),this.updateConstantAttenuation&&(this.updateConstantAttenuation=!1,this.lightDesc.constantAttenuation=this.constantAttenuation.getValueDirect(),this.lightDesc.validMembersMask|=LIGHTDESC_CONSTANT_ATT_BIT),this.updateLinearAttenuation&&(this.updateLinearAttenuation=!1,this.lightDesc.linearAttenuation=this.linearAttenuation.getValueDirect(),this.lightDesc.validMembersMask|=LIGHTDESC_LINEAR_ATT_BIT),this.updateQuadraticAttenuation&&(this.updateQuadraticAttenuation=!1,this.lightDesc.quadraticAttenuation=this.quadraticAttenuation.getValueDirect(),this.lightDesc.validMembersMask|=LIGHTDESC_QUADRATIC_ATT_BIT),this.lightDesc.validMembersMask&&(this.setLightDesc=!0),this.setModified(),ParentableMotionElement.prototype.update.call(this,t,e)},Light.prototype.apply=function(t,e,i){if(!this.enabled_){switch(t){case"render":this.setLightEnabled()}return void ParentableMotionElement.prototype.apply.call(this,t,e,i)}switch(t){case"render":this.setLightDesc&&(this.setLightDesc=!1,this.applyLightDesc()),this.setLightEnabled(),e.lights.push(this)}ParentableMotionElement.prototype.apply.call(this,t,e,i)},Light.prototype.applyLightDesc=function(){this.graphMgr.renderContext.setLight(this.lightIndex,this.lightDesc)},Light.prototype.setLightEnabled=function(){this.graphMgr.renderContext.enableLight(this.lightIndex,this.enabled.getValueDirect()?1:0)},Light.prototype.onUnregister=function(){this.graphMgr.renderContext.enableLight(this.lightIndex,0)},DirectionalLight.prototype=new Light,DirectionalLight.prototype.constructor=DirectionalLight,DirectionalLight.prototype.update=function(t,e){this.validMembersMask=0,Light.prototype.update.call(this,t,e)},DirectionalLight.prototype.apply=function(t,e,i){var r=this.enabled.getValueDirect();if(!r)return void Light.prototype.apply.call(this,t,e,i);switch(t){case"render":var o=this.sectorTransformCompound.transform(0,0,1,0);this.lightDesc.direction.copy(o),this.lightDesc.validMembersMask|=LIGHTDESC_DIRECTION_BIT,this.setLightDesc=!0}Light.prototype.apply.call(this,t,e,i)},PointLight.prototype=new Light,PointLight.prototype.constructor=PointLight,PointLight.prototype.setGraphMgr=function(t){Light.prototype.setGraphMgr.call(this,t),this.range.setValueDirect(FLT_MAX)},PointLight.prototype.update=function(t,e){this.validMembersMask=0,this.updateRange&&(this.updateRange=!1,this.lightDesc.range=this.range.getValueDirect(),this.lightDesc.validMembersMask|=LIGHTDESC_RANGE_BIT),Light.prototype.update.call(this,t,e)},PointLight.prototype.apply=function(t,e,i){if(!this.enabled_)return void Light.prototype.apply.call(this,t,e,i);switch(t){case"render":var r=this.sectorTransformCompound.transform(0,0,0,1);this.lightDesc.position.copy(r),this.lightDesc.validMembersMask|=LIGHTDESC_POSITION_BIT,this.lightDesc.outerConeDegrees=180,this.lightDesc.validMembersMask|=LIGHTDESC_OUTER_CONE_DEG_BIT,this.setLightDesc=!0}Light.prototype.apply.call(this,t,e,i)},GlobalIllumination.prototype=new SGNode,GlobalIllumination.prototype.constructor=GlobalIllumination,GlobalIllumination.prototype.update=function(t,e){this.updateAmbient&&(this.updateAmbient=!1,this.setGlobalIllumination=!0),SGNode.prototype.update.call(this,t,e)},GlobalIllumination.prototype.apply=function(t,e,i){if(!this.enabled_)return void ParentableMotionElement.prototype.apply.call(this,t,e,i);switch(t){case"render":this.setGlobalIllumination&&(this.setGlobalIllumination=!1,this.applyGlobalIllumination())}SGNode.prototype.apply.call(this,t,e,i)},GlobalIllumination.prototype.applyGlobalIllumination=function(){this.graphMgr.renderContext.setGlobalIllumination(this.ambient.getValueDirect())},GlobalIllumination.prototype.onUnregister=function(){var t=new Color(0,0,0,0);this.graphMgr.renderContext.setGlobalIllumination(t)},Group.prototype=new SGNode,Group.prototype.constructor=Group,Group.prototype.addChild=function(t){1==this.proxyChildAttrs.getValueDirect()&&this.proxyAttributes(t),SGNode.prototype.addChild.call(this,t)},Group.prototype.insertChild=function(t,e){1==this.proxyChildAttrs.getValueDirect()&&this.proxyAttributes(t),SGNode.prototype.insertChild.call(this,t,e)},Group.prototype.removeChild=function(t){return 1==this.proxyChildAttrs.getValueDirect()&&this.synchronizeProxiedAttributes(),SGNode.prototype.removeChild.call(this,t)},Group.prototype.replaceChild=function(t,e){return 1==this.proxyChildAttrs.getValueDirect()&&(this.proxyAttributes(t),this.synchronizeProxiedAttributes()),SGNode.prototype.replaceChild.call(this,t,e)},Group.prototype.update=function(t,e){SGNode.prototype.update.call(this,t,e)},Group.prototype.apply=function(t,e,i){SGNode.prototype.apply.call(this,t,e,i)},Group.prototype.proxyChildAttrsModified=function(){},Isolator.prototype=new Group,Isolator.prototype.constructor=Isolator,Isolator.prototype.update=function(t,e){Group.prototype.update.call(this,t,e)},Isolator.prototype.apply=function(t,e,i){if(!this.enabled_)return void Group.prototype.apply.call(this,t,e,i);var r=this.isolateLights.values[0],o=this.isolateTransforms.values[0],n=this.isolateTextures.values[0],a=this.isolateDissolves.values[0],s=(this.isolateClipPlanes.values[0],0),l=null,c=null,h=null,u=null,d=null;switch(t){case"render":case"shadow":this.pushIsolatedStates(),r&&(d=e.lights.slice()),o&&(c=e.projMatrix,h=e.viewMatrix,u=e.worldMatrix,this.graphMgr.renderContext.setMatrixMode(RC_PROJECTION),this.graphMgr.renderContext.pushMatrix(),this.graphMgr.renderContext.setMatrixMode(RC_VIEW),this.graphMgr.renderContext.pushMatrix(),this.graphMgr.renderContext.setMatrixMode(RC_WORLD),this.graphMgr.renderContext.pushMatrix()),n&&this.graphMgr.textureArrayStack.push(new TextureArray(this.graphMgr.textureArrayStack.top()));break;case"rayPick":a&&(s=e.dissolve,l=this.graphMgr.getCurrentDissolve());break;case"bbox":o&&(u=e.worldMatrix);break;case"collide":o&&(u=e.worldMatrix);break;case"highlight":o&&(u=e.worldMatrix)}switch(Group.prototype.apply.call(this,t,e,i),t){case"render":case"shadow":this.popIsolatedStates(),r&&(e.lights=d.slice()),o&&(e.projMatrix=c,e.viewMatrix=h,e.worldMatrix=u,this.graphMgr.renderContext.setMatrixMode(RC_PROJECTION),this.graphMgr.renderContext.popMatrix(),this.graphMgr.renderContext.setMatrixMode(RC_VIEW),this.graphMgr.renderContext.popMatrix(),this.graphMgr.renderContext.setMatrixMode(RC_WORLD),this.graphMgr.renderContext.popMatrix()),n&&this.graphMgr.textureArrayStack.pop();break;case"rayPick":a&&(e.dissolve=s,this.graphMgr.setCurrentDissolve(l));break;case"bbox":o&&(e.worldMatrix=u);break;case"collide":o&&(e.worldMatrix=u);break;case"highlight":o&&(e.worldMatrix=u)}},Isolator.prototype.pushIsolatedStates=function(){},Isolator.prototype.popIsolatedStates=function(){},Selector.prototype=new Group,Selector.prototype.constructor=Selector,Selector.prototype.update=function(t,e){var i=this.selectee.getValueDirect();return e&&this.children.length>i?void this.children[i].update(t,e):void Group.prototype.update.call(this,t,e)},Selector.prototype.apply=function(t,e,i){if(!this.enabled_)return void Group.prototype.apply.call(this,t,e,i);var r=this.selectee.getValueDirect();return i&&this.children.length>r?void this.children[r].apply(t,e,i):void Group.prototype.apply.call(this,t,e,i)},Dissolve.prototype=new SGNode,Dissolve.prototype.constructor=Dissolve,Dissolve.prototype.update=function(t,e){SGNode.prototype.update.call(this,t,e)},Dissolve.prototype.apply=function(t,e,i){if(!this.enabled_)return void Group.prototype.apply.call(this,t,e,i);switch(t){case"render":case"shadow":var r=this.dissolve.getValueDirect();this.lastDissolve=r,e.dissolve=r;break;case"rayPick":e.dissolve=this.lastDissolve}SGNode.prototype.apply.call(this,t,e,i)},RenderParams.prototype=new DirectiveParams,RenderParams.prototype.constructor=RenderParams(),RenderDirective.prototype=new SGDirective,RenderDirective.prototype.constructor=RenderDirective,RenderDirective.prototype.setRegistry=function(t){this.distanceSortAgent.setRegistry(t),this.updateDirective.setRegistry(t),this.highlightDirective.setRegistry(t),this.shadowDirective.setRegistry(t),t.register(this.shadowDirective),this.backgroundScreen.setRegistry(t),this.backgroundTexture.setRegistry(t),this.backgroundScreenRect.setRegistry(t),SGDirective.prototype.setRegistry.call(this,t)},RenderDirective.prototype.setGraphMgr=function(t){this.distanceSortAgent.setGraphMgr(t),this.updateDirective.setGraphMgr(t),this.highlightDirective.setGraphMgr(t),this.shadowDirective.setGraphMgr(t),this.backgroundScreen.setGraphMgr(t),this.backgroundTexture.setGraphMgr(t),this.backgroundScreenRect.setGraphMgr(t),this.program=1==this.shadowsEnabled.getValueDirect()?t.renderContext.createProgram(pcf_shadow_mapping_render_pass_vs,pcf_shadow_mapping_render_pass_fs):t.renderContext.createProgram(default_vertex_lighting_vs,default_vertex_lighting_fs),SGDirective.prototype.setGraphMgr.call(this,t)},RenderDirective.prototype.execute=function(t){this.graphMgr.renderContext.useProgram(this.program),t=t||this.rootNode.getValueDirect(),this.updateDirective.execute(t),1==this.shadowsEnabled.getValueDirect()&&this.shadowDirective.execute(t),params=new RenderParams,params.directive=this,params.path=null,params.pathIndex=1,params.viewport.loadViewport(this.viewport.getValueDirect()),params.distanceSortAgent=this.distanceSortAgent,params.drawTextures=this.texturesEnabled.getValueDirect(),this.resetDisplayLists&&(params.resetDisplayLists=!0,this.resetDisplayLists=!1),t.apply("render",params,!0),this.distanceSortAgent.isEmpty()||(this.distanceSortAgent.sort(),this.distanceSortAgent.draw(),this.distanceSortAgent.clear()),this.drawHighlights(t)},RenderDirective.prototype.drawBackground=function(){if(this.backgroundImageSet){var t=this.updateDirective.execute(this.backgroundScreen,!1);params=new RenderParams,params.directive=this,params.path=null,params.pathIndex=1,params.viewport.loadViewport(this.viewport.getValueDirect()),t[0].apply("render",params,!0)}},RenderDirective.prototype.drawHighlights=function(t){switch(this.highlightType.getValueDirect()){case eHighlightType.FourPass:case eHighlightType.EightPass:this.highlightDirective.execute(t);break;case eHighlightType.None:}},RenderDirective.prototype.backgroundColorModified=function(){var t=this.backgroundColor.getValueDirect();this.graphMgr.renderContext.clearColor(t.r,t.g,t.b,t.a)},RayPickParams.prototype=new DirectiveParams,RayPickParams.prototype.constructor=RayPickParams(),RayPickDirective.prototype=new SGDirective,RayPickDirective.prototype.constructor=RayPickDirective,RayPickDirective.prototype.execute=function(t){t=t||this.rootNode.getValueDirect(),this.picked.length=0;var e=new RayPickParams;e.directive=this,e.camera=this.camera.getValueDirect(),e.viewport.loadViewport(this.viewport.getValueDirect()),e.clickPoint.copy(this.clickPoint.getValueDirect()),t.apply("rayPick",e,!0)},RayPickDirective.prototype.addPickRecord=function(t){for(var e=0;e<this.picked.length&&!(this.picked[e].intersectRecord.distance>t.intersectRecord.distance);e++);this.picked.splice(e,0,t)},BBoxParams.prototype=new DirectiveParams,BBoxParams.prototype.constructor=BBoxParams(),BBoxDirective.prototype=new SGDirective,BBoxDirective.prototype.constructor=BBoxDirective,BBoxDirective.prototype.execute=function(t){t=t||this.rootNode.getValueDirect();var e=new BBoxParams;e.viewSpace=this.viewSpace.getValueDirect();var i=this.viewTransform.getValueDirect();e.viewMatrix.load(i._11,i._12,i._13,i._14,i._21,i._22,i._23,i._24,i._31,i._32,i._33,i._34,i._41,i._42,i._43,i._44),t.apply("bbox",e,!0),this.min=e.minPoint,this.max=e.maxPoint},BBoxDirective.prototype.getBounds=function(){return{min:this.min,max:this.max}},Geometry.prototype=new RenderableElement,Geometry.prototype.constructor=Geometry,Geometry.prototype.update=function(t,e){this.updateBoundingTree&&(this.updateBoundingTree=!1,this.buildBoundingTree()),RenderableElement.prototype.update.call(this,t,e)},Geometry.prototype.apply=function(t,e,i){if(!this.enabled_)return void RenderableElement.prototype.apply.call(this,t,e,i);switch(t){case"render":var r=!0,o=e.dissolve,n=e.opacity;if(1==o)r=!1;else if(o>0||1>n||this.graphMgr.textureArrayStack.top().textures[eTextureType.Transparency].length>0||this.graphMgr.projectionTextureArrayStack.top().textures[eTextureType.Transparency].length>0){var a=this.getBBox();e.distanceSortAgent.addGeometry(this,a.min,a.max,o),r=!1}r&&this.draw(o);break;case"rayPick":if(1==this.selectable.getValueDirect()&&e.opacity>0&&e.dissolve<1){var s=e.worldMatrix.multiply(e.viewMatrix),l=s.getScalingFactors(),c=rayPick(this.boundingTree,e.rayOrigin,e.rayDir,e.nearDistance,e.farDistance,e.worldMatrix,e.viewMatrix,max3(l.x,l.y,l.z),e.doubleSided,e.clipPlanes);c&&(e.currentNodePath.push(this),e.directive.addPickRecord(new RayPickRecord(e.currentNodePath,c,e.camera)),e.currentNodePath.pop())}break;case"bbox":var a=this.getBBox(),h=new Matrix4x4;h.loadMatrix(e.worldMatrix),e.viewSpace&&h.loadMatrix(h.multiply(e.viewMatrix));var u=h.transform(a.min.x,a.min.y,a.min.z,1),d=h.transform(a.max.x,a.max.y,a.max.z,1);e.minMaxSet?(e.minPoint.x=Math.min(e.minPoint.x,Math.min(u.x,d.x)),e.minPoint.y=Math.min(e.minPoint.y,Math.min(u.y,d.y)),e.minPoint.z=Math.min(e.minPoint.z,Math.min(u.z,d.z)),e.maxPoint.x=Math.max(e.maxPoint.x,Math.max(u.x,d.x)),e.maxPoint.y=Math.max(e.maxPoint.y,Math.max(u.y,d.y)),e.maxPoint.z=Math.max(e.maxPoint.z,Math.max(u.z,d.z))):(e.minPoint.x=Math.min(u.x,d.x),e.minPoint.y=Math.min(u.y,d.y),e.minPoint.z=Math.min(u.z,d.z),e.maxPoint.x=Math.max(u.x,d.x),e.maxPoint.y=Math.max(u.y,d.y),e.maxPoint.z=Math.max(u.z,d.z),e.minMaxSet=!0);break;case"highlight":this.highlight.getValueDirect()&&e.targets.length>0&&e.targets[e.targets.length-1].geometries.push(this)}RenderableElement.prototype.apply.call(this,t,e,i)},Geometry.prototype.draw=function(){},Geometry.prototype.drawPrimitives=function(){},Geometry.prototype.getBBox=function(){return{min:this.bbox.min.getValueDirect(),max:this.bbox.max.getValueDirect()}},Geometry.prototype.getTriangles=function(){return new Array},VertexGeometry.prototype=new Geometry,VertexGeometry.prototype.constructor=VertexGeometry,VertexGeometry.prototype.clone=function(){for(var t=Geometry.prototype.clone.call(this),e=0;e<this.uvCoords.length;e++)t.getUVCoords(this.uvCoords[e].first).copyValue(this.uvCoords[e].second);return t},VertexGeometry.prototype.postCloneChild=function(t,e,i){var r,o,n;for(r=0;r<e.length();r++)if(o=e.stack[r],o.getAttribute()==eAttrType.Texture&&!n.push(o))return;var a;for(r=0;r<i.length();r++)if(o=i.stack[r],o.getAttribute()==eAttrType.Texture&&!a.push(o))return;var s=new NumberArrayAttr;for(r=0;r<n.size()&&r<a.size();r++)if(s=this.findUVCoords(n[r])){var l=new NumberArrayAttr;l=t.getUVCoords(a[r]),l.copyValue(s)}},VertexGeometry.prototype.getUVCoords=function(t){for(var e=0;e<this.uvCoords.length;e++)if(this.uvCoords[e].first==t)return this.uvCoords[e].second;var i=new NumberArrayAttr;return i.addModifiedCB(VertexGeometry_UVCoordsModifiedCB,this),this.uvCoords.push(new Pair(t,i)),i},VertexGeometry.prototype.findUVCoords=function(t){if(!t)return null;for(var e=0;e<this.uvCoords.length;e++)if(this.uvCoords[e].first==t)return this.uvCoords[e].second;return null},VertexGeometry.prototype.update=function(t,e){if(this.updateVertices){this.updateVertices=!1;var i=this.vertices.getValueDirect();this.vertexBuffer.setVertices(i),this.updateBoundingTree=!0}if(this.updateColors&&(this.updateColors=!1,this.vertexBuffer.setColors(this.colors.getValueDirect())),this.updateUVCoords.length){for(var r=0;r<this.updateUVCoords.length;r++)for(var o=0;o<this.uvCoords.length;o++)if(this.uvCoords[o].second==this.updateUVCoords[r]){this.vertexBuffer.setUVCoords(this.uvCoords[o].first.textureObj,this.uvCoords[o].second.getValueDirect());break}this.updateUVCoords.length=0}Geometry.prototype.update.call(this,t,e)},VertexGeometry.prototype.apply=function(t,e,i){if(!this.enabled_)return void Geometry.prototype.apply.call(this,t,e,i);switch(t){case"render":break;case"shadow":{var r=!0,o=e.dissolve;e.opacity}1==o&&(r=!1),r&&this.vertexBuffer.draw()}Geometry.prototype.apply.call(this,t,e,i)},VertexGeometry.prototype.drawTextured=function(t){var e=null,i=null,r=2,o=this.graphMgr.textureArrayStack.top(),n=1,a=1,s=1,l=1,c=this.graphMgr.getCurrentMaterial();c&&(n=c.getAttribute("ambientLevel").getValueDirect(),a=c.getAttribute("diffuseLevel").getValueDirect(),s=c.getAttribute("specularLevel").getValueDirect(),l=c.getAttribute("emissiveLevel").getValueDirect());var h=this.graphMgr.renderContext.getFrontMaterial();if(t>0&&(h.ambient.a*=1-t,h.diffuse.a*=1-t,h.specular.a*=1-t,h.emissive.a*=1-t,this.graphMgr.renderContext.setFrontMaterial(h)),o.textures[eTextureType.Transparency].length){var u=o.textures[eTextureType.Transparency][0],d=this.getUVCoords(u);d&&d.getLength()>0&&(this.setTextureStage(0,eTextureType.Transparency,u,u.transformCompound),e=u),r>1&&(this.graphMgr.renderContext.enableTextureStage(1,0),i=null)}o.textures[eTextureType.Color].length,this.graphMgr.renderContext.setTextureBlendFactor(h.diffuse.a*(1-t)),(0==o.textures[eTextureType.Color].length||o.textures[eTextureType.Color][0].getAttribute("opacity").getValueDirect()<1)&&this.vertexBuffer.draw(),e&&(this.graphMgr.renderContext.enableTextureStage(0,0),e=null),i&&(this.graphMgr.renderContext.enableTextureStage(1,0),i=null);for(var p=0;p<o.textures[eTextureType.Color].length;p++){var u=o.textures[eTextureType.Color][p],d=this.getUVCoords(u);d&&d.getLength()>0&&(this.setTextureStage(0,eTextureType.Color,u,u.transformCompound),e=u,this.graphMgr.renderContext.setTextureBlendFactor(h.diffuse.a*(1-t)*u.getAttribute("opacity").getValueDirect())),r>1&&o.textures[eTextureType.Transparency].length&&(u=o.textures[eTextureType.Transparency][0],d=this.getUVCoords(u),d&&d.getLength()>0&&(this.setTextureStage(1,eTextureType.Transparency,u,u.transformCompound),i=u)),this.vertexBuffer.draw(),e&&(this.graphMgr.renderContext.enableTextureStage(0,0),e=null),i&&(this.graphMgr.renderContext.enableTextureStage(1,0),i=null)}this.graphMgr.renderContext.enableTextureStage(0,0),this.graphMgr.renderContext.enableTextureStage(1,0)},VertexGeometry.prototype.drawPrimitives=function(){this.vertexBuffer.draw()},VertexGeometry.prototype.setTextureStage=function(t,e,i,r,o,n){r=r||new Matrix4x4,o=o||eTextureCoordSrc.VertexUVs,n=n||new Matrix4x4,this.graphMgr.renderContext.enableTextureStage(t,1);var a,s,l=i.getAttribute("widthWrap").getValueDirect(),c=i.getAttribute("heightWrap").getValueDirect();switch(l){case eTextureWrap.Clamp:a=RC_CLAMP_TO_EDGE;break;case eTextureWrap.Repeat:default:a=RC_REPEAT}switch(c){case eTextureWrap.Clamp:s=RC_CLAMP_TO_EDGE;break;case eTextureWrap.Repeat:default:s=RC_REPEAT}this.vertexBuffer.setTextureStage(t,i.textureObj,a,s,o,n),this.graphMgr.renderContext.setTextureBlendOp(i.blendOp.getValueDirect())},VertexGeometry.prototype.setBlendingMaterial=function(t,e,i,r,o){var n=this.graphMgr.renderContext.getFrontMaterial(),a=t*e,s=t*i,l=t*o;n.ambient.r=a+n.ambient.r*(1-t),n.ambient.g=a+n.ambient.g*(1-t),n.ambient.b=a+n.ambient.b*(1-t),n.diffuse.r=s+n.diffuse.r*(1-t),n.diffuse.g=s+n.diffuse.g*(1-t),n.diffuse.b=s+n.diffuse.b*(1-t),n.specular.r=0,n.specular.g=0,n.specular.b=0,n.glossiness=1,n.emissive.r=l+n.emissive.r*(1-t),n.emissive.g=l+n.emissive.g*(1-t),n.emissive.b=l+n.emissive.b*(1-t),n.validMembersMask=MATERIALDESC_ALL_BITS,this.graphMgr.renderContext.setFrontMaterial(n)},VertexGeometry.prototype.setSpecularMaterial=function(t,e){var i=new MaterialDesc;i.validMembersMask=MATERIALDESC_ALL_BITS,i.specular=t,i.glossiness=e,this.graphMgr.renderContext.setFrontMaterial(i),this.graphMgr.renderContext.setBlendFactor(RC_ONE_MINUS_SRC_ALPHA,RC_ONE)},VertexGeometry.prototype.calculateBBox=function(){var t=this.vertices.getValueDirect();if(!(t.length<3)){for(var e=new Vector3D(t[0],t[1],t[2]),i=new Vector3D(t[0],t[1],t[2]),r=3;r<t.length;r+=3)e.x=Math.min(e.x,t[r]),e.y=Math.min(e.y,t[r+1]),e.z=Math.min(e.z,t[r+2]),i.x=Math.max(i.x,t[r]),i.y=Math.max(i.y,t[r+1]),i.z=Math.max(i.z,t[r+2]);this.bbox.getAttribute("min").setValueDirect(e.x,e.y,e.z),this.bbox.getAttribute("max").setValueDirect(i.x,i.y,i.z)}},TriList.prototype=new VertexGeometry,TriList.prototype.constructor=TriList,TriList.prototype.update=function(t,e){this.vertexBuffer||(this.vertexBuffer=this.graphMgr.renderContext.createVertexBuffer(3),this.vertexBuffer.setPrimitiveType(this.primitiveType)),this.updateNormals&&(this.updateNormals=!1,this.vertexBuffer.setNormals(this.normals.getValueDirect())),VertexGeometry.prototype.update.call(this,t,e)},TriList.prototype.apply=function(t,e,i){VertexGeometry.prototype.apply.call(this,t,e,i)},TriList.prototype.draw=function(t){var e=this.graphMgr.textureArrayStack.top();if(0==e.textures[eTextureType.Color].length&&0==e.textures[eTextureType.Transparency].length){if(t>0){var i=this.graphMgr.renderContext.getFrontMaterial();i.ambient.a*=1-t,i.diffuse.a*=1-t,i.specular.a*=1-t,i.emissive.a*=1-t,this.graphMgr.renderContext.setFrontMaterial(i)}this.vertexBuffer.draw()}else this.drawTextured(t)},TriList.prototype.buildBoundingTree=function(){var t=this.bbox.getAttribute("min").getValueDirect(),e=this.bbox.getAttribute("max").getValueDirect();this.boundingTree.setTriangles(this.getTriangles(),t,e),this.boundingTree.buildTree(this.approximationLevels.getValueDirect())},TriList.prototype.getTriangles=function(){for(var t=this.vertices.getValueDirect(),e=[],i=0,r=0;r+8<t.length;i++,r+=9)e.push(new Triangle(t[r],t[r+1],t[r+2],t[r+3],t[r+4],t[r+5],t[r+6],t[r+7],t[r+8]));return e},Material.prototype=new SGNode,Material.prototype.constructor=Material,Material.prototype.update=function(t,e){if(this.updateColor&&(this.updateColor=!1,this.updateAmbientLevel=!0,this.updateDiffuseLevel=!0,this.updateSpecularLevel=!0,this.updateEmissiveLevel=!0),this.updateAmbientLevel||this.updateDiffuseLevel||this.updateSpecularLevel||this.updateEmissiveLevel){var i=this.color.getValueDirect();if(this.updateAmbientLevel){this.updateAmbientLevel=!1;var r=this.ambientLevel.getValueDirect();this.ambient.setValueDirect(i.r*r,i.g*r,i.b*r,i.a)}if(this.updateDiffuseLevel){this.updateDiffuseLevel=!1;var r=this.diffuseLevel.getValueDirect();this.diffuse.setValueDirect(i.r*r,i.g*r,i.b*r,i.a)}if(this.updateSpecularLevel){this.updateSpecularLevel=!1;var r=this.specularLevel.getValueDirect();this.specular.setValueDirect(i.r*r,i.g*r,i.b*r,i.a)}if(this.updateEmissiveLevel){this.updateEmissiveLevel=!1;var r=this.emissiveLevel.getValueDirect();this.emissive.setValueDirect(i.r*r,i.g*r,i.b*r,i.a)}}var o=this.opacity.getValueDirect(),n=!1;this.updateOpacity&&(this.updateOpacity=!1,this.lastOpacity=o,n=!0),(this.updateAmbient||n)&&(this.updateAmbient=!1,this.materialDesc.ambient.copy(this.ambient.getValueDirect()),this.materialDesc.ambient.a*=o),(this.updateDiffuse||n)&&(this.updateDiffuse=!1,this.materialDesc.diffuse.copy(this.diffuse.getValueDirect()),this.materialDesc.diffuse.a*=o),(this.updateSpecular||n)&&(this.updateSpecular=!1,this.materialDesc.specular.copy(this.specular.getValueDirect()),this.materialDesc.specular.a*=o),(this.updateEmissive||n)&&(this.updateEmissive=!1,this.materialDesc.emissive.copy(this.emissive.getValueDirect()),this.materialDesc.emissive.a*=o),(this.updateGlossiness||n)&&(this.updateGlossiness=!1,this.materialDesc.glossiness=this.glossiness.getValueDirect()),SGNode.prototype.update.call(this,t,e)},Material.prototype.apply=function(t,e,i){if(!this.enabled_)return void SGNode.prototype.apply.call(this,t,e,i);switch(t){case"render":e.opacity=this.lastOpacity,this.applyMaterialDesc(),this.graphMgr.setCurrentMaterial(this);break;case"rayPick":e.doubleSided=this.lastDoubleSided,e.opacity=this.lastOpacity}SGNode.prototype.apply.call(this,t,e,i)},Material.prototype.applyMaterialDesc=function(){this.graphMgr.renderContext.setFrontMaterial(this.materialDesc);var t=this.doubleSided.getValueDirect();this.lastDoubleSided=t,t?this.graphMgr.renderContext.disable(eRenderMode.CullBackFace):this.graphMgr.renderContext.enable(eRenderMode.CullBackFace)},Surface.prototype=new Isolator,Surface.prototype.constructor=Surface,Surface.prototype.clone=function(){for(var t=Isolator.prototype.clone.call(this),e=0;e<this.colorTexturesNode.children.length;e++)t.addTexture(this.colorTexturesNode.children[e]);return t},Surface.prototype.setGraphMgr=function(t){this.materialNode.setGraphMgr(t),this.colorTexturesNode.setGraphMgr(t),this.diffuseTexturesNode.setGraphMgr(t),this.luminosityTexturesNode.setGraphMgr(t),this.specularityTexturesNode.setGraphMgr(t),this.transparencyTexturesNode.setGraphMgr(t),Isolator.prototype.setGraphMgr.call(this,t)},Surface.prototype.update=function(t,e){Isolator.prototype.update.call(this,t,e)},Surface.prototype.apply=function(t,e,i){Isolator.prototype.apply.call(this,t,e,i)},Surface.prototype.connectMaterialAttributes=function(t){this.connectMaterialAttribute(t,this.color,"color"),this.connectMaterialAttribute(t,this.ambientLevel,"ambientLevel"),this.connectMaterialAttribute(t,this.diffuseLevel,"diffuseLevel"),this.connectMaterialAttribute(t,this.specularLevel,"specularLevel"),this.connectMaterialAttribute(t,this.emissiveLevel,"emissiveLevel"),this.connectMaterialAttribute(t,this.ambient,"ambient"),this.connectMaterialAttribute(t,this.diffuse,"diffuse"),this.connectMaterialAttribute(t,this.specular,"specular"),this.connectMaterialAttribute(t,this.emissive,"emissive"),this.connectMaterialAttribute(t,this.glossiness,"glossiness"),this.connectMaterialAttribute(t,this.opacity,"opacity"),this.connectMaterialAttribute(t,this.doubleSided,"doubleSided")},Surface.prototype.connectMaterialAttribute=function(t,e,i){var r=e.modificationCount>0?!0:!1;e.addTarget(t.getAttribute(i),eAttrSetOp.Replace,null,r)
},Surface.prototype.addGeometry=function(t){this.addChild(t),this.geometries.push(t)},Surface.prototype.removeGeometry=function(t){this.removeChild(t);for(var e=0;e<this.geometries.length;e++)if(this.geometries[e]==t){this.geometries.splice(e,1);break}},Surface.prototype.addTexture=function(t){t.getAttribute("modified").addTarget(this.modified),this.colorTexturesNode.addChild(t)},Model.prototype=new ParentableMotionElement,Model.prototype.constructor=Model,Model.prototype.synchronize=function(t,e){ParentableMotionElement.prototype.synchronize.call(this,t,e),this.position.copyValue(t.getAttribute("position"))},Model.prototype.copyModel=function(t,e,i,r){var o=!1;if(!t){if(!(t=new Model))return-1;o=!0}return this.copyNode(t,e,i,r)?-1:void 0},Model.prototype.initializeSurfaceAttrConnectionsMap=function(){this.surfaceAttrConnections.push(new Pair(this.color,!1)),this.surfaceAttrConnections.push(new Pair(this.ambientLevel,!1)),this.surfaceAttrConnections.push(new Pair(this.diffuseLevel,!1)),this.surfaceAttrConnections.push(new Pair(this.specularLevel,!1)),this.surfaceAttrConnections.push(new Pair(this.emissiveLevel,!1)),this.surfaceAttrConnections.push(new Pair(this.ambient,!1)),this.surfaceAttrConnections.push(new Pair(this.diffuse,!1)),this.surfaceAttrConnections.push(new Pair(this.specular,!1)),this.surfaceAttrConnections.push(new Pair(this.emissive,!1)),this.surfaceAttrConnections.push(new Pair(this.glossiness,!1)),this.surfaceAttrConnections.push(new Pair(this.opacity,!1)),this.surfaceAttrConnections.push(new Pair(this.doubleSided,!1)),this.surfaceAttrConnections.push(new Pair(this.texturesEnabled,!1)),this.surfaceAttrConnections.push(new Pair(this.renderSequenceSlot,!1))},Model.prototype.initializeGeometryAttrConnectionsMap=function(){this.geometryAttrConnections.push(new Pair(this.selectable,!1)),this.geometryAttrConnections.push(new Pair(this.cullable,!1)),this.geometryAttrConnections.push(new Pair(this.show,!1)),this.geometryAttrConnections.push(new Pair(this.approximationLevels,!1)),this.geometryAttrConnections.push(new Pair(this.showApproximationLevel,!1)),this.geometryAttrConnections.push(new Pair(this.sortPolygons,!1)),this.geometryAttrConnections.push(new Pair(this.flipPolygons,!1)),this.geometryAttrConnections.push(new Pair(this.intersector,!1)),this.geometryAttrConnections.push(new Pair(this.intersectee,!1)),this.geometryAttrConnections.push(new Pair(this.stationary,!1)),this.geometryAttrConnections.push(new Pair(this.shadowCaster,!1)),this.geometryAttrConnections.push(new Pair(this.shadowTarget,!1))},Model.prototype.clearSurfaceAttrConnectionMap=function(){this.surfaceAttrConnections=[],this.initializeSurfaceAttrConnectionsMap()},Model.prototype.clearGeometryAttrConnectionsMap=function(){this.geometryAttrConnections=[],this.initializeGeometryAttrConnectionsMap()},Model.prototype.setGraphMgr=function(t){this.isolatorNode.setGraphMgr(t),this.dissolveNode.setGraphMgr(t),this.surfacesNode.setGraphMgr(t),ParentableMotionElement.prototype.setGraphMgr.call(this,t)},Model.prototype.update=function(t,e){this.updateBoundingTree&&(this.updateBoundingTree=!1,this.buildBoundingTree()),ParentableMotionElement.prototype.update.call(this,t,e)},Model.prototype.apply=function(t,e,i){if(!this.enabled_)return void ParentableMotionElement.prototype.apply.call(this,t,e,i);switch(t){case"render":case"shadow":var r=this.show.getValueDirect();if(!r)return void ParentableMotionElement.prototype.apply.call(this,t,e,i);var o=new Matrix4x4;o.loadMatrix(e.worldMatrix),e.worldMatrix=e.worldMatrix.multiply(this.sectorTransformCompound),this.pushMatrix(),this.applyTransform(),this.graphMgr.renderContext.setModelID(e.modelID++),ParentableMotionElement.prototype.apply.call(this,t,e,i),this.popMatrix(),e.worldMatrix.loadMatrix(o);break;case"rayPick":var o=new Matrix4x4;o.loadMatrix(e.worldMatrix),e.worldMatrix=e.worldMatrix.multiply(this.sectorTransformCompound),ParentableMotionElement.prototype.apply.call(this,t,e,i),e.worldMatrix.loadMatrix(o);break;case"bbox":var o=new Matrix4x4;o.loadMatrix(e.worldMatrix),e.worldMatrix.loadMatrix(this.sectorTransformCompound.multiply(e.worldMatrix)),ParentableMotionElement.prototype.apply.call(this,t,e,i),e.worldMatrix.loadMatrix(o);break;case"collide":var o=new Matrix4x4;o.loadMatrix(e.worldMatrix),e.worldMatrix=e.worldMatrix.multiply(this.sectorTransformCompound),ParentableMotionElement.prototype.apply.call(this,t,e,i),this.detectCollision.getValueDirect()&&(this.boundingTree.setTransform(e.worldMatrix),e.detectCollisions[this.name.getValueDirect().join("")]=new CollideRec(this,this.boundingTree,e.worldMatrix)),e.worldMatrix.loadMatrix(o);break;case"highlight":if(this.highlight.getValueDirect()){var n=new HighlightTarget;n.projMatrix=e.projMatrix,n.viewMatrix=e.viewMatrix,n.worldMatrix=this.sectorTransformCompound.multiply(e.worldMatrix),n.camera=e.camera,n.viewport=e.viewport,n.center=this.center.getValueDirect();var a=this.highlightColor.getValueDirect();n.highlightColor_r=a.r,n.highlightColor_g=a.g,n.highlightColor_b=a.b,n.highlightColor_a=a.a,n.highlightWidth=this.highlightWidth.getValueDirect(),e.targets.push(n),ParentableMotionElement.prototype.apply.call(this,t,e,i)}break;default:ParentableMotionElement.prototype.apply.call(this,t,e,i)}},Model.prototype.onUnregister=function(){var t=(this.name.getValueDirect().join(""),this.registry.getByType(eAttrType.PhysicsSimulator));if(t)for(var e=0;e<t.length;e++)t[e].bodies.erase(this.name)},Model.prototype.pushMatrix=function(){this.graphMgr.renderContext.setMatrixMode(RC_WORLD),this.graphMgr.renderContext.pushMatrix()},Model.prototype.popMatrix=function(){this.graphMgr.renderContext.setMatrixMode(RC_WORLD),this.graphMgr.renderContext.popMatrix(),this.graphMgr.renderContext.applyWorldTransform()},Model.prototype.addSurface=function(t){this.surfacesNode.addChild(t),this.surfaces.push(t),this.registerAttribute(t,t.getAttribute("name").getValueDirect().join("")),this.connectSurfaceAttributes(t)},Model.prototype.removeSurface=function(t){this.surfacesNode.removeChild(t);for(var e=0;e<this.surfaces.length;e++)if(this.surfaces[e]==t){this.surfaces.splice(e,1);break}this.unregisterAttribute(t),this.disconnectSurfaceAttributes(t)},Model.prototype.addGeometry=function(t,e,i){i&&i.addGeometry(t),this.connectGeometryAttributes(t),this.geometries.push(t),e&&this.geometryIndices.push(e),t.bbox.addModifiedCB(Model_GeometryBBoxModifiedCB,this),this.updateBBox()},Model.prototype.removeGeometry=function(t,e,i){i&&i.removeGeometry(t),this.disconnectGeometryAttributes(t);for(var r=0;r<this.geometries.length;r++)if(this.geometries[r]==t){this.geometries.splice(r,1);break}if(e)for(var r=0;r<this.geometryIndices.length;r++)if(this.geometryIndices[r]==e){this.geometryIndices.splice(r,1);break}t.bbox.removeModifiedCB(Model_GeometryBBoxModifiedCB,this),this.updateBBox()},Model.prototype.connectSurfaceAttributes=function(t){this.connectSurfaceAttribute(t,this.color,"color"),this.connectSurfaceAttribute(t,this.ambientLevel,"ambientLevel"),this.connectSurfaceAttribute(t,this.diffuseLevel,"diffuseLevel"),this.connectSurfaceAttribute(t,this.specularLevel,"specularLevel"),this.connectSurfaceAttribute(t,this.emissiveLevel,"emissiveLevel"),this.connectSurfaceAttribute(t,this.ambient,"ambient"),this.connectSurfaceAttribute(t,this.diffuse,"diffuse"),this.connectSurfaceAttribute(t,this.specular,"specular"),this.connectSurfaceAttribute(t,this.emissive,"emissive"),this.connectSurfaceAttribute(t,this.glossiness,"glossiness"),this.connectSurfaceAttribute(t,this.opacity,"opacity"),this.connectSurfaceAttribute(t,this.doubleSided,"doubleSided"),this.connectSurfaceAttribute(t,this.texturesEnabled,"texturesEnabled"),this.connectSurfaceAttribute(t,this.enabled,"enabled")},Model.prototype.connectSurfaceAttribute=function(t,e,i){var r=e.modificationCount>0?!0:!1;e.addTarget(t.getAttribute(i),eAttrSetOp.Replace,null,r)},Model.prototype.disconnectSurfaceAttributes=function(t){this.disconnectSurfaceAttribute(t,this.color,"color"),this.disconnectSurfaceAttribute(t,this.ambientLevel,"ambientLevel"),this.disconnectSurfaceAttribute(t,this.diffuseLevel,"diffuseLevel"),this.disconnectSurfaceAttribute(t,this.specularLevel,"specularLevel"),this.disconnectSurfaceAttribute(t,this.emissiveLevel,"emissiveLevel"),this.disconnectSurfaceAttribute(t,this.ambient,"ambient"),this.disconnectSurfaceAttribute(t,this.diffuse,"diffuse"),this.disconnectSurfaceAttribute(t,this.specular,"specular"),this.disconnectSurfaceAttribute(t,this.emissive,"emissive"),this.disconnectSurfaceAttribute(t,this.glossiness,"glossiness"),this.disconnectSurfaceAttribute(t,this.opacity,"opacity"),this.disconnectSurfaceAttribute(t,this.doubleSided,"doubleSided"),this.disconnectSurfaceAttribute(t,this.texturesEnabled,"texturesEnabled"),this.disconnectSurfaceAttribute(t,this.enabled,"enabled")},Model.prototype.disconnectSurfaceAttribute=function(t,e,i){e.removeTarget(t.getAttribute(i))},Model.prototype.connectGeometryAttributes=function(t){this.connectGeometryAttribute(t,this.name,"name"),this.connectGeometryAttribute(t,this.selectable,"selectable"),this.connectGeometryAttribute(t,this.cullable,"cullable"),this.connectGeometryAttribute(t,this.show,"show"),this.connectGeometryAttribute(t,this.approximationLevels,"approximationLevels"),this.connectGeometryAttribute(t,this.sortPolygons,"sortPolygons"),this.connectGeometryAttribute(t,this.flipPolygons,"flipPolygons"),this.connectGeometryAttribute(t,this.shadowCaster,"shadowCaster"),this.connectGeometryAttribute(t,this.shadowTarget,"shadowTarget"),this.connectGeometryAttribute(t,this.renderSequenceSlot,"renderSequenceSlot"),this.connectGeometryAttribute(t,this.highlight,"highlight")},Model.prototype.connectGeometryAttribute=function(t,e,i){var r=e.modificationCount>0?!0:!1;e.addTarget(t.getAttribute(i),eAttrSetOp.Replace,null,r)},Model.prototype.disconnectGeometryAttributes=function(t){this.disconnectGeometryAttribute(t,this.name,"name"),this.disconnectGeometryAttribute(t,this.selectable,"selectable"),this.disconnectGeometryAttribute(t,this.cullable,"cullable"),this.disconnectGeometryAttribute(t,this.show,"show"),this.disconnectGeometryAttribute(t,this.approximationLevels,"approximationLevels"),this.disconnectGeometryAttribute(t,this.sortPolygons,"sortPolygons"),this.disconnectGeometryAttribute(t,this.flipPolygons,"flipPolygons"),this.disconnectGeometryAttribute(t,this.shadowCaster,"shadowCaster"),this.disconnectGeometryAttribute(t,this.shadowTarget,"shadowTarget"),this.disconnectGeometryAttribute(t,this.renderSequenceSlot,"renderSequenceSlot"),this.disconnectGeometryAttribute(t,this.highlight,"highlight")},Model.prototype.disconnectGeometryAttribute=function(t,e,i){e.removeTarget(t.getAttribute(i))},Model.prototype.updateBBox=function(){for(var t=new Vector3D(FLT_MAX,FLT_MAX,FLT_MAX),e=new Vector3D(-FLT_MAX,-FLT_MAX,-FLT_MAX),i=0;i<this.geometries.length;i++){var r=this.geometries[i].bbox.min.getValueDirect(),o=this.geometries[i].bbox.max.getValueDirect();t.x=Math.min(t.x,r.x),t.y=Math.min(t.y,r.y),t.z=Math.min(t.z,r.z),e.x=Math.max(e.x,o.x),e.y=Math.max(e.y,o.y),e.z=Math.max(e.z,o.z)}this.bbox.min.setValueDirect(t.x,t.y,t.z),this.bbox.max.setValueDirect(e.x,e.y,e.z);var n=new Vector3D((t.x+e.x)/2,(t.y+e.y)/2,(t.z+e.z)/2);this.center.setValueDirect(n.x,n.y,n.z),this.updateBoundingTree=!0},Model.prototype.buildBoundingTree=function(){for(var t=[],e=0;e<this.geometries.length;e++)t=t.concat(this.geometries[e].getTriangles());this.boundingTree=new Octree,this.boundingTree.setTriangles(t,this.bbox.min.getValueDirect(),this.bbox.max.getValueDirect()),this.boundingTree.buildTree(this.approximationLevels.getValueDirect())},Model.prototype.collisionDetectedModified=function(){},Model.prototype.physicsEnabledModified=function(t){if(t){var e=this.registry.find("Bridgeworks");e.physicsSimulator.updatePhysicsBody(e.physicsSimulator.getPhysicsBodyIndex(this))}},Texture.prototype=new ParentableMotionElement,Texture.prototype.constructor=Texture,Texture.prototype.setGraphMgr=function(t){this.textureObj=t.renderContext.createTextureObject(),ParentableMotionElement.prototype.setGraphMgr.call(this,t)},Texture.prototype.update=function(t,e){this.updateImage&&(this.updateImage=!1,this.setImage=!0),this.updateMipmappingEnabled&&this.imageSet&&(this.setImage=!0,this.updateMipmappingEnabled=!1),this.setImage&&(this.setImage=!this.SetImage()),this.updatePosition||this.updateRotation||this.updateScale?ParentableMotionElement.prototype.update.call(this,t,e):SGNode.prototype.update.call(this,t,e)},Texture.prototype.apply=function(t,e,i){if(!this.enabled_)return void ParentableMotionElement.prototype.apply.call(this,t,e,i);switch(t){case"render":if(this.imageSet){var r=e.drawTextures&&this.graphMgr.getDrawTextures();if(r){var o=this.graphMgr.textureArrayStack.top().textures,n=this.textureType.getValueDirect();o[n]&&o[n].push(this)}}}ParentableMotionElement.prototype.apply.call(this,t,e,i)},Texture.prototype.SetImage=function(){var t=this.image.width.getValueDirect(),e=this.image.height.getValueDirect(),i=this.image.pixelFormat.getValueDirect(),r=this.image.pixels.getValueDirect();if(0==t||0==e||i==ePixelFormat.Unknown||null==r)return!1;var o;switch(this.textureType.getValueDirect()){case eTextureType.Diffuse:case eTextureType.Luminosity:case eTextureType.Specularity:case eTextureType.Transparency:o=eImageFormat.Alpha;break;case eTextureType.Color:default:o=eImageFormat.RGBA}return this.textureObj.setImageData(t,e,i,o,r),this.imageSet=!0,!0},MediaTexture.prototype=new Texture,MediaTexture.prototype.constructor=MediaTexture,MediaTexture.prototype.setGraphMgr=function(t){Texture.prototype.setGraphMgr.call(this,t)},MediaTexture.prototype.update=function(t,e){(this.updateImageFilename||this.updateAlphaFilename)&&(this.updateImageFilename=!1,this.updateAlphaFilename=!1,this.frame.setValueDirect(-1),this.loadMedia()),this.updateTextureType&&(this.updateTextureType=!1,this.setImageSize(),this.forceImageUpdate=!0),this.updateNegateImage&&(this.updateNegateImage=!1,this.forceImageUpdate=!0),this.updateNegateAlpha&&(this.updateNegateAlpha=!1,this.forceImageUpdate=!0),this.enabled.getValueDirect()&&this.updateMediaTextureImage(),Texture.prototype.update.call(this,t,e)},MediaTexture.prototype.apply=function(t,e,i){return this.enabled_?void Texture.prototype.apply.call(this,t,e,i):void Texture.prototype.apply.call(this,t,e,i)},MediaTexture.prototype.loadMedia=function(){var t=this.imageFilename.getValueDirect().join("");(t&&""!=t&&!this.imagePlayback||this.imagePlayback&&this.imagePlayback.url!=t)&&(this.imagePlayback=new MediaPlayback(this,MediaTexture_OnImageLoad),this.imagePlayback.container=this,this.imagePlayback.loadImage(t));var e=this.alphaFilename.getValueDirect().join("");(e&&""!=e&&!this.alphaPlayback||this.alphaPlayback&&this.alphaPlayback.url!=e)&&(this.alphaPlayback=new MediaPlayback(this,MediaTexture_OnAlphaLoad),this.alphaPlayback.container=this,this.alphaPlayback.loadImage(e),this.imagePlayback&&this.imagePlayback.setAlphaChannel(this.alphaPlayback)),this.setModified()},MediaTexture.prototype.setImageSize=function(){if((this.textureType.getValueDirect()!=eTextureType.Color||this.alphaPlayback)&&this.imagePlayback){var t,e=this.imagePlayback.getFrameDimensions(),i=nextHighestPowerOfTwo(e.width),r=nextHighestPowerOfTwo(e.height);switch(this.textureType.getValueDirect()){case eTextureType.Diffuse:case eTextureType.Luminosity:case eTextureType.Specularity:case eTextureType.Transparency:case eTextureType.Clip:t=ePixelFormat.A8,this.pixelMap=ePixelMap.RGBToAlpha;break;case eTextureType.Color:default:t=this.imagePlayback.getPixelFormat(),this.pixelMap=ePixelMap.Default}if(this.alphaPlayback)switch(t){case ePixelFormat.R8G8B8:t=ePixelFormat.R8G8B8A8;break;case ePixelFormat.B8G8R8:t=ePixelFormat.B8G8R8A8}var o=this.imagePlayback.getPixelByteAlignment();this.pitch=i*BytesPerPixel(t),this.pitch+=(o-this.pitch%o)%o,this.image.width.setValueDirect(i),this.image.height.setValueDirect(r),this.image.pixelFormat.setValueDirect(t),this.image.byteAlignment.setValueDirect(o),this.image.pixels.setLength(r*this.pitch)}},MediaTexture.prototype.updateMediaTextureImage=function(){if(this.textureType.getValueDirect()!=eTextureType.Color||this.alphaPlayback){if(this.imagePlayback&&this.imagePlayback.ready&&(this.imagePlayback.newFrameDataAvailable()||this.alphaPlayback&&this.alphaPlayback.newFrameDataAvailable()||this.forceImageUpdate)){var t=this.image.width.getValueDirect(),e=this.image.height.getValueDirect(),i=this.image.pixelFormat.getValueDirect(),r=FRAME_FILTER_SCALE_FRAME_BIT;this.negateImage.getValueDirect()&&(r|=FRAME_FILTER_NEGATE_COLOR_BIT),this.negateAlpha.getValueDirect()&&(r|=FRAME_FILTER_NEGATE_ALPHA_BIT);var o=this.imagePlayback.getFrameData(t,e,this.pitch,i,this.image.pixels.values,r,this.pixelMap,this.frame.getValueDirect());this.frameRetrieved.setValueDirect(o),this.forceImageUpdate=!1}this.setModified()}},MediaTexture.prototype.onImageLoad=function(){return this.textureType.getValueDirect()!=eTextureType.Color||this.alphaPlayback?void this.setImageSize():(this.textureObj.setImage(this.imagePlayback.htmlImageElement,ePixelFormat.R8G8B8A8,eImageFormat.RGBA),this.imageSet=!0,void this.setModified())},MediaTexture.prototype.onAlphaLoad=function(){},MediaTexture.prototype.onVideoLoad=function(){this.textureObj.setVideo(this.htmlImageElement),this.textureObj.negate=this.negateImage.getValueDirect(),this.imageSet=!0},Evaluator.prototype=new Node,Evaluator.prototype.constructor=Evaluator,Evaluator.prototype.evaluate=function(){},Evaluator.prototype.update=function(t,e){var i=this.enabled_,r=this.expired.getValueDirect();i&&!r&&this.evaluate(),Node.prototype.update.call(this,t,e)},SceneInspector.prototype=new Evaluator,SceneInspector.prototype.constructor=SceneInspector,SceneInspector.prototype.setCamera=function(t){this.camera=t},SceneInspector.prototype.getCamera=function(){return this.camera},SceneInspector.prototype.evaluate=function(){if(this.enabled_){var t=this.viewPosition.getValueDirect(),e=this.viewRotation.getValueDirect(),i=this.translationDelta.getValueDirect(),r=this.panDelta.getValueDirect(),o=this.trackDelta.getValueDirect(),n=this.rotationDelta.getValueDirect(),a=this.viewRelativeXAxisRotation.getValueDirect(),s=this.viewRelativeYAxisRotation.getValueDirect(),l=this.viewRelativeZAxisRotation.getValueDirect(),c=this.pivotDistance.getValueDirect(),h=new Matrix4x4;h.loadTranslation(-t.x,-t.y,-t.z);var u=new Matrix4x4;u.loadXYZAxisRotation(-e.x,-e.y,-e.z);var d=h.multiply(u),p=this.transformDirectionVector(0,1,0,d),f=this.transformDirectionVector(1,0,0,d),_=this.transformDirectionVector(0,0,1,d),m=new Matrix4x4,g=new Matrix4x4,y=new Matrix4x4;a?m.loadRotation(f.x,f.y,f.z,-n.x):m.loadXAxisRotation(-n.x),s?g.loadRotation(p.x,p.y,p.z,-n.y):g.loadYAxisRotation(-n.y),l?y.loadRotation(_.x,_.y,_.z,-n.z):y.loadXAxisRotation(-n.z);var b=g.multiply(m.multiply(y)),v=new Matrix4x4;if(v.loadTranslation(i.x,-i.y,-i.z),0!=r.x||0!=r.y||0!=r.z||0!=o.x||0!=o.y||0!=o.z){var M=this.upVector.getValueDirect(),S=this.rightVector.getValueDirect(),T=this.forwardVector.getValueDirect();0==M.x&&0==M.y&&0==M.z&&(M=p),0==S.x&&0==S.y&&0==S.z&&(S=f),0==T.x&&0==T.y&&0==T.z&&(T=_);var x=M,C=S,E=T,A=new Matrix4x4;A.loadTranslation(C.x*r.x+x.x*-r.y+E.x*-r.z,C.y*r.x+x.y*-r.y+E.y*-r.z,C.z*r.x+x.z*-r.y+E.z*-r.z),v=v.multiply(A);{var w=new Matrix4x4,R=new Matrix4x4,D=!1;Math.abs(e.y),Math.abs(e.x),Math.abs(e.z)}e.z>=90&&e.z<=270?D=!0:e.z<=-90&&e.z>=-270?D=!0:(e.x<=-45||e.x>=45&&e.x<=90)&&(D=!0);var P=E;R.loadRotation(C.x,C.y,C.z,e.x),E=this.transformDirectionVector(E.x,E.y,E.z,R);{toDegrees(Math.acos(cosineAngleBetween(P,E)))}R.loadRotation(C.x,C.y,C.z,90),x=this.transformDirectionVector(x.x,x.y,x.z,R),w.loadTranslation(C.x*o.x+x.x*-o.y+E.x*-o.z,C.y*o.x+x.y*-o.y+0,C.z*o.x+x.z*-o.y+E.z*-o.z),v=v.multiply(w)}var B=new Matrix4x4;B.loadMatrix(d),B.invert();var V=new Vector3D;V.load(B._41,B._42,B._43);var L=new Vector3D;L.load(V.x+_.x*c,V.y+_.y*c,V.z+_.z*c),this.pivotPointWorld.setValueDirect(L.x,L.y,L.z);var k=new Matrix4x4,H=new Matrix4x4;k.loadTranslation(-L.x,-L.y,-L.z),H.loadTranslation(L.x,L.y,L.z);var I=v.multiply(k.multiply(b.multiply(H.multiply(d)))),O=I.getRotationAngles(),J=new Vector3D;J.load(I._41,I._42,I._43),I.transpose(),J=I.transform(J.x,J.y,J.z,0),this.resultPosition.setValueDirect(this.affectPosition_X.getValueDirect()?-J.x:t.x,this.affectPosition_Y.getValueDirect()?-J.y:t.y,this.affectPosition_Z.getValueDirect()?-J.z:t.z),this.resultRotation.setValueDirect(this.affectRotation_X.getValueDirect()?-O.x:e.x,this.affectRotation_Y.getValueDirect()?-O.y:e.y,this.affectRotation_Z.getValueDirect()?-O.z:e.z)}},SceneInspector.prototype.transformDirectionVector=function(t,e,i,r){var o=new Matrix4x4;return o.loadMatrix(r),o.transpose(),o.transform(t,e,i,0)},ArcballInspector.prototype=new Evaluator,ArcballInspector.prototype.constructor=ArcballInspector,ArcballInspector.prototype.evaluate=function(){if(this.enabled.getValueDirect()){var t=this.sphereCenter.getValueDirect(),e=this.sphereRadius.getValueDirect(),i=this.mouseDown.getValueDirect(),r=this.mouseNow.getValueDirect(),o=this.quatAtMouseDown.getValueDirect(),n=this.viewport,a=this.worldTransform.getValueDirect(),s=this.viewTransform.getValueDirect();a.invert(),s=s.multiply(a);var l=this.constrainToAxis.getValueDirect();t.x=2*(t.x-n.x)/n.width-1,t.y=2*(n.height-t.y-n.y)/n.height-1,i.x=2*(i.x-n.x)/n.width-1,i.y=2*(n.height-i.y-n.y)/n.height-1,r.x=2*(r.x-n.x)/n.width-1,r.y=2*(n.height-r.y-n.y)/n.height-1;var c,h;if(l){var u=this.constraintAxis.getValueDirect();c=this.getSpherePointAboutAxis(i,t,e,u),h=this.getSpherePointAboutAxis(r,t,e,u)}else c=this.getSpherePoint(i,t,e),h=this.getSpherePoint(r,t,e);var d=s.transform(c.x,c.y,c.z,0),p=s.transform(h.x,h.y,h.z,0);c.x=d.x,c.y=d.y,c.z=d.z,h.x=p.x,h.y=p.y,h.z=p.z,c.normalize(),h.normalize();var f=this.getQuatFromSpherePoints(c,h);f=f.multiply(o),this.resultQuat.setValueDirect(f)}},ArcballInspector.prototype.getSpherePoint=function(t,e,i){var r=new Vector3D;r.x=(t.x-e.x)/i,r.y=(t.y-e.y)/i;var o=r.x*r.x+r.y*r.y;if(o>1){var n=1/Math.sqrt(o);r.x*=n,r.y*=n,r.z=0}else r.z=-Math.sqrt(1-o);return r},ArcballInspector.prototype.getSpherePointAboutAxis=function(t,e,i,r){point=this.getSpherePoint(t,e,i);var o=dotProduct(point,r);r.multiplyScalar(o);var n=new Vector3D(point.x,point.y,point.z);n.subtractVector(r);var a=magnitude(n.x,n.y,n.z);if(point=null,a>0){var s=1/Math.sqrt(a);n.z<0&&(n.x=-n.x,n.y=-n.y,n.z=-n.z),point=n.multiplyScalar(s)}else 1==r.z?point=new Vector3D(1,0,0):point.normalize()},ArcballInspector.prototype.getQuatFromSpherePoints=function(t,e){var i=new Quaternion;return i.x=t.y*e.z-t.z*e.y,i.y=t.z*e.x-t.x*e.z,i.z=t.x*e.y-t.y*e.x,i.w=t.x*e.x+t.y*e.y+t.z*e.z,i},KeyframeInterpolator.prototype=new Evaluator,KeyframeInterpolator.prototype.constructor=KeyframeInterpolator,KeyframeInterpolator.prototype.setNumChannels=function(t){this.channels.resize(0),this.startKeys.resize(0),this.endKeys.resize(0),this.preBehaviors.resize(0),this.postBehaviors.resize(0),this.resultValues.resize(0);for(var e=0;t>e;e++)this.channels.push_back(new KeyframesAttr),this.startKeys.push_back(new NumberAttr(-1)),this.endKeys.push_back(new NumberAttr(-1)),this.preBehaviors.push_back(new NumberAttr(eEndBehavior.Reset)),this.postBehaviors.push_back(new NumberAttr(eEndBehavior.Reset)),this.resultValues.push_back(new NumberAttr(0))},KeyframeInterpolator.prototype.evaluate=function(){this.endState.initialized||(this.updateEndState(),this.endState.initialized=!0);for(var t,e,i,r,o=this.time.getValueDirect(),n=0;n<this.channels.vector.length;n++){var a=this.channels.getAt(n);if(0!=a.vector.length){t=this.endState.startKeyIts[n],e=this.endState.endKeyIts[n],i=this.preBehaviors.getAt(n).getValueDirect(),r=this.postBehaviors.getAt(n).getValueDirect();var s=interpolate(o,a,t,e,i,r);this.resultValues.getAt(n).setValueDirect(s)}}this.lastTime=o,this.evaluated=!0},KeyframeInterpolator.prototype.timeModified=function(){this.updateExpired()},KeyframeInterpolator.prototype.updateExpired=function(){this.expired.setValueDirect(!1);for(var t=!1,e=this.time.getValueDirect(),i=0,r=null,o=this.channels.vector.length,n=0;o>n;n++)if(r=this.postBehaviors.getAt(n),r&&(i=r.getValueDirect()),i!=eEndBehavior.Constant){t=!0;break}!t&&(e<this.endState.startTime||e>this.endState.endTime)&&this.expired.setValueDirect(!0)},KeyframeInterpolator.prototype.updateEndState=function(){var t=-1,e=-1,i=FLT_MAX,r=-FLT_MAX,o=-1,n=-1,a=null,s=this.channels.vector.length;this.startKeys.resize(s),this.endKeys.resize(s);for(var l=0;s>l;l++)a=this.channels.getAt(l),o=this.startKeys.vector.length>l?this.startKeys.getAt(l).getValueDirect():-1,n=this.endKeys.vector.length>l?this.endKeys.getAt(l).getValueDirect():-1,o>n&&(n=o),this.endState.startKeyIts[l]=a.getAt(0),this.endState.endKeyIts[l]=a.getAt(a.vector.length-1),this.endState.startKeyIts[l]&&this.endState.endKeyIts[l]&&(o>=0&&o<a.vector.length&&(this.endState.startKeyIts[l]=a.getAt(o)),n>=0&&n<a.vector.length&&(this.endState.endKeyIts[l]=a.getAt(n)),t=this.endState.startKeyIts[l].getTime(),e=this.endState.endKeyIts[l].getTime(),i=i>t?t:i,r=e>=r?e:r);this.endState.startTime=i,this.endState.endTime=r},BBoxLocator.prototype=new Evaluator,BBoxLocator.prototype.constructor=BBoxLocator,BBoxLocator.prototype.evaluate=function(){var t=this.viewPosition.getValueDirect(),e=this.viewTransform.getValueDirect(),i=this.viewVolume.left.getValueDirect(),r=this.viewVolume.right.getValueDirect(),o=this.viewVolume.top.getValueDirect(),n=this.viewVolume.bottom.getValueDirect(),a=this.viewVolume.near.getValueDirect(),s=(this.viewVolume.far.getValueDirect(),this.viewport.getValueDirect()),l=this.bbox.min.getValueDirect(),c=this.bbox.max.getValueDirect(),h=this.closeness.getValueDirect();if(0!=h){var u=c.x-l.x,d=c.y-l.y;u+=u*h,d+=d*h,s.width/s.height<u/d?(u=(u-(c.x-l.x))/2,l.x-=u,c.x+=u):(d=(d-(c.y-l.y))/2,l.y-=d,c.y+=d)}var p=new Array(8);p[0]=new Vector3D(l.x,l.y,l.z),p[1]=new Vector3D(l.x,l.y,c.z),p[2]=new Vector3D(l.x,c.y,l.z),p[3]=new Vector3D(l.x,c.y,c.z),p[4]=new Vector3D(c.x,l.y,l.z),p[5]=new Vector3D(c.x,l.y,c.z),p[6]=new Vector3D(c.x,c.y,l.z),p[7]=new Vector3D(c.x,c.y,c.z);var f=new Vector3D((l.x+c.x)/2,(l.y+c.y)/2,(l.z+c.z)/2),_=new Vector3D;_.copy(e.transform(0,0,1,0)),_.normalize();var m,g=0,y=planesIntersect(i,r);if(y){var b=new Array(5);b[0]=this.getPlane(i.point,f,i.normal,e),b[1]=this.getPlane(r.point,f,r.normal,e),b[2]=this.getPlane(o.point,f,o.normal,e),b[3]=this.getPlane(n.point,f,n.normal,e),b[4]=this.getPlane(a.point,f,a.normal,e);for(var v=0;8>v;v++)for(var M=0;5>M;M++)if(pointOnPositiveSideOfPlane(p[v],b[M])){var S=this.distanceFromPlane(p[v],_,b[M]);S.intersection&&(g=Math.max(g,S.distance))}m=new Vector3D(f.x,f.y,f.z),_.multiplyScalar(g),m.subtractVector(_)}else{m=new Vector3D(f.x,f.y,f.z),g=magnitude(t.x,t.y,t.z),_.multiplyScalar(g),m.subtractVector(_);var T=this.bboxView.min.getValueDirect(),x=this.bboxView.max.getValueDirect(),C=distanceBetweenPlanes(r,i),E=distanceBetweenPlanes(o,n),A=C/E,w=Math.abs(x.x-T.x),R=Math.abs(x.y-T.y);w>R?(C=w,E=C/A,R>E&&(E=R,C=E*A)):(E=R,C=E*A,w>C&&(C=w)),this.resultWidth.setValueDirect(C)}this.resultPosition.setValueDirect(m.x,m.y,m.z),g=0;for(var v=0;8>v;v++){{e.transform(p[v].x,p[v].y,p[v].z,1)}g=Math.max(g,distanceBetween(p[v],m))}this.resultFarDistance.setValueDirect(this.nearDistance.getValueDirect()+g),g=distanceBetween(m,new Vector3D(f.x,f.y,f.z)),this.resultPivotDistance.setValueDirect(g)},BBoxLocator.prototype.getPlane=function(t,e,i,r){var o=r.transformVector3D(t,0);o.x+=e.x,o.y+=e.y,o.z+=e.z;var n=r.transformVector3D(i,0),a=new Plane(new Vector3D(o.x,o.y,o.z),new Vector3D(n.x,n.y,n.z));return a},BBoxLocator.prototype.distanceFromPlane=function(t,e,i){var r,o=new Line(t,e),n=lineIntersectsPlane(o,i);switch(n.result){case 0:r=FLT_MAX;break;case 1:r=distanceBetween(t,n.point);break;case 2:default:r=0}return{intersection:n.result,distance:r}},RasterComponent.prototype=new ParentableMotionElement,RasterComponent.prototype.constructor=RasterComponent,RasterComponent.prototype.setRegistry=function(t){var e=t.find("Bridgeworks");e&&(this.rcEventListener=e.rasterComponentEventListener,this.rcEventListener&&(this.rcEventListener.registerComponent(this),this.rcEventListener.Listen(this))),ParentableMotionElement.prototype.setRegistry.call(this,t)},RasterComponent.prototype.isSelected=function(t,e){var i=this.show.getValueDirect();return i&&this.screenRect.containsPoint(t,e)?!0:!1},RasterComponent.prototype.stylesMapSizeModified=function(){for(var t=this.stylesMap.Size(),e=0;t>e;e++){var i=this.stylesMap.getAt(e);i&&(i.event.removeModifiedCB(RasterComponent_StylesMapElementEventModifiedCB,this),i.event.addModifiedCB(RasterComponent_StylesMapElementEventModifiedCB,this),RasterComponent_StylesMapElementEventModifiedCB(i.event,this))}},RasterComponent.prototype.stylesMapElementEventModified=function(t){this.rcEventListener.listenEvent(this,eEventNameMap[t])},RasterComponent.prototype.showModified=function(){},Label.prototype=new RasterComponent,Label.prototype.constructor=Label,Label.prototype.setGraphMgr=function(t){RasterComponent.prototype.setGraphMgr.call(this,t),this.id="Label"+this.graphMgr.getNextLabelIndex(),this.labelId=this.id+"_label",this.iconId=this.id+"_icon";var e=CreateHTMLLabel(this.id,this.labelId,this.iconId);this.htmlLabel=e.label,this.htmlIconImg=e.iconImg,this.htmlIconDiv=e.iconDiv,this.htmlIconImg.baseWidth=0,this.htmlIconImg.baseHeight=0,Label_LabelStyleBackgroundColorModifiedCB(this.labelStyle.backgroundColor,this),Label_LabelStyleBackgroundOpacityModifiedCB(this.labelStyle.backgroundOpacity,this),Label_LabelStyleFontBorderModifiedCB(null,this),Label_LabelStyleFontStyleColorModifiedCB(this.labelStyle.fontStyle.color,this),Label_LabelStyleFontStyleFontModifiedCB(this.labelStyle.fontStyle.font,this),Label_LabelStyleFontStyleOpacityModifiedCB(this.labelStyle.fontStyle.opacity,this),Label_LabelStyleFontStyleSizeModifiedCB(this.labelStyle.fontStyle.size,this),Label_LabelStyleFontStyleStyleModifiedCB(this.labelStyle.fontStyle.style,this),Label_LabelStyleFormatModifiedCB(this.labelStyle.format,this),Label_LabelStylePaddingModifiedCB(this.labelStyle.padding,this),Label_IconStyleUrlModifiedCB(this.iconStyle.url,this)},Label.prototype.update=function(t,e){this.updateIconScale(),RasterComponent.prototype.update.call(this,t,e)},Label.prototype.updateIconScale=function(){var t=this.iconStyle.scale.getValueDirect();0==this.htmlIconImg.baseWidth&&(this.htmlIconImg.baseWidth=this.htmlIconImg.offsetWidth,this.htmlIconImg.baseHeight=this.htmlIconImg.offsetHeight),this.htmlIconImg.baseWidth&&(this.htmlIconImg.width=this.htmlIconImg.baseWidth*t.x,this.htmlIconImg.height=this.htmlIconImg.baseHeight*t.y)},Label.prototype.apply=function(t,e,i){if(!this.enabled_)return void RasterComponent.prototype.apply.call(this,t,e,i);switch(t){case"render":this.draw(e.viewport);break;case"rayPick":if(1==this.selectable.getValueDirect()&&1==this.show.getValueDirect()&&this.isSelected(e.clickPoint.x,e.clickPoint.y)){var r=new RayIntersectRecord;r.distance=0,e.currentNodePath.push(this),e.directive.addPickRecord(new RayPickRecord(e.currentNodePath,r,e.camera)),e.currentNodePath.pop()}}RasterComponent.prototype.apply.call(this,t,e,i)},Label.prototype.draw=function(){var t=this.registry.find("Bridgeworks");if(0==this.show.getValueDirect())return this.htmlLabel.style.visibility="hidden",void(this.htmlIconImg.style.visibility="hidden");this.htmlLabel.style.visibility="visible",this.htmlIconImg.style.visibility="visible",0==this.labelStyle.fontStyle.opacity.getValueDirect()&&(this.htmlLabel.style.visibility="hidden");var e=this.iconStyle.color.getValueDirect();(0==e.a||0==this.iconStyle.opacity.getValueDirect())&&(this.htmlIconImg.style.visibility="hidden");var i=this.getRenderingPositions(),r=this.htmlLabel.offsetWidth,o=this.htmlLabel.offsetHeight,n=this.htmlIconImg.offsetWidth,a=this.htmlIconImg.offsetHeight;(i.labelX<0||i.labelY<0||i.labelX+r>t.canvas.width||i.labelY+o>t.canvas.height)&&(this.htmlLabel.style.visibility="hidden"),(i.iconX<0||i.iconY<0||i.iconX+n>t.canvas.width||i.iconY+a>t.canvas.height)&&(this.htmlIconImg.style.visibility="hidden"),"visible"==this.htmlLabel.style.visibility?(this.htmlLabel.style.left=t.canvas.offsetLeft+i.labelX,this.htmlLabel.style.top=t.canvas.offsetTop+i.labelY,this.labelRect.load(t.canvas.offsetLeft+i.labelX,t.canvas.offsetTop+i.labelY,this.labelRect.left+r,this.labelRect.top+o)):this.labelRect.load(0,0,0,0),"visible"==this.htmlIconImg.style.visibility?(this.htmlIconDiv.style.left=t.canvas.offsetLeft+i.iconX,this.htmlIconDiv.style.top=t.canvas.offsetTop+i.iconY,this.iconRect.load(t.canvas.offsetLeft+i.iconX,t.canvas.offsetTop+i.iconY,this.iconRect.left+n,this.iconRect.top+a)):this.iconRect.load(0,0,0,0);
var s=new Rect(0,0,0,0);"visible"==this.htmlLabel.style.visibility&&"visible"==this.htmlIconImg.style.visibility?(s.left=Math.min(this.labelRect.left,this.iconRect.left),s.top=Math.min(this.labelRect.top,this.iconRect.top),s.right=Math.max(this.labelRect.right,this.iconRect.right),s.bottom=Math.max(this.labelRect.bottom,this.iconRect.bottom)):"visible"==this.htmlLabel.style.visibility?s.loadRect(this.labelRect):"visible"==this.htmlIconImg.style.visibility&&s.loadRect(this.iconRect),this.screenRect.setValueDirect(s)},Label.prototype.getRenderingPositions=function(){var t=0,e=0,i=0,r=0,o=this.screenPosition.getValueDirect(),n=this.anchor.getValueDirect(),a=this.labelStyle.offset.getValueDirect();if(this.htmlIconImg.offsetWidth>0&&this.htmlLabel.offsetWidth>0){var s=this.htmlLabel.offsetWidth,l=this.htmlLabel.offsetHeight,c=this.htmlIconImg.offsetWidth,h=this.htmlIconImg.offsetHeight;switch("bottomLeft"==this.origin.getValueDirect().join("")&&(n.y=h-n.y),i=o.x-n.x,r=o.y-n.y,t=i+a.x,e=r+a.y,this.labelStyle.textAlign.getValueDirect().join("")){case"topLeft":t-=s,e-=l/2;break;case"middleLeft":t-=s,e+=h/2-l/2;break;case"bottomLeft":t-=s,e+=h-l/2;break;case"topCenter":t+=c/2-s/2,e-=l;break;case"middleCenter":t+=c/2-s/2,e+=h/2-l/2;break;case"bottomCenter":t+=c/2-s/2,e+=h;break;case"topRight":t+=c,e-=l/2;break;case"bottomRight":t+=c,e+=h-l/2;break;case"middleRight":default:t+=c,e+=h/2-l/2}}else if(this.htmlLabel.offsetWidth>0){var s=this.htmlLabel.offsetWidth,l=this.htmlLabel.offsetHeight;switch(t=o.x+n.x+a.x,e=o.y-n.y+a.y,this.labelStyle.textAlign.getValueDirect().join("")){case"topLeft":t-=s,e-=l;break;case"middleLeft":t-=s,e-=l/2;break;case"bottomLeft":t-=s;break;case"topCenter":t-=s/2,e-=l;break;case"middleCenter":t-=s/2,e-=l/2;break;case"bottomCenter":t-=s/2;break;case"topRight":e-=l;break;case"bottomRight":break;case"middleRight":default:e-=l/2}}else{var c=this.htmlIconImg.offsetWidth,h=this.htmlIconImg.offsetHeight;n.y=h-n.y,i=o.x-n.x,r=o.y-n.y}return{labelX:t,labelY:e,iconX:i,iconY:r}},Label.prototype.eventPerformed=function(t){if(!this.show.getValueDirect())return!1;var e=this.isSelected(t.x,t.y);return e},Label.prototype.labelStyleFontBorderModified=function(){var t=this.labelStyle.fontStyle.borderColor.getValueDirect();t.a*=this.labelStyle.fontStyle.opacity.getValueDirect();for(var e=this.labelStyle.fontStyle.borderWidth.getValueDirect(),i="",r=0;r<t.a;r+=.2)r>0&&(i+=", "),i+="rgba("+255*t.r+","+255*t.g+","+255*t.b+","+t.a+") 0px 0px "+2*e+"px";this.htmlLabel.style.textShadow=i},BalloonTipLabel.prototype=new RasterComponent,BalloonTipLabel.prototype.constructor=BalloonTipLabel,BalloonTipLabel.prototype.setGraphMgr=function(t){RasterComponent.prototype.setGraphMgr.call(this,t),this.id="BalloonTipLabel"+this.graphMgr.getNextBalloonTipLabelIndex();var e=CreateHTMLBalloonTipLabel(this.id);this.htmlBalloonTipLabel=e.label,this.qtip=e.qtip,this.qtip_api=$("a[id="+this.id+"]").qtip("api")},BalloonTipLabel.prototype.update=function(t,e){if(t.userData){{t.userData}this.show.getValueDirect()&&(this.updateLabel=!1)}RasterComponent.prototype.update.call(this,t,e)},BalloonTipLabel.prototype.apply=function(t,e,i){if(!this.enabled_)return void RasterComponent.prototype.apply.call(this,t,e,i);switch(t){case"render":this.draw(e.viewport)}RasterComponent.prototype.apply.call(this,t,e,i)},BalloonTipLabel.prototype.updateLabel=function(){},BalloonTipLabel.prototype.updateLabelDimensions=function(){},BalloonTipLabel.prototype.updateShowStates=function(){},BalloonTipLabel.prototype.draw=function(){if(!this.show.getValueDirect())return void(this.graphMgr.getCurrentBalloonTipLabel()==this&&this.graphMgr.setCurrentBalloonTipLabel(null));this.graphMgr.setCurrentBalloonTipLabel(this);var t=this.registry.find("Bridgeworks"),e=this.getRenderingPositions(),i=this.htmlBalloonTipLabel.offsetWidth,r=this.htmlBalloonTipLabel.offsetHeight;this.htmlBalloonTipLabel.style.left=t.canvas.offsetLeft+e.labelX,this.htmlBalloonTipLabel.style.top=t.canvas.offsetTop+e.labelY,this.labelRect.load(t.canvas.offsetLeft+e.labelX,t.canvas.offsetTop+e.labelY,this.labelRect.left+i,this.labelRect.top+r),this.qtip_api&&this.qtip_api.reposition(null,!1);var o=new Rect(0,0,0,0);o.loadRect(this.labelRect),this.screenRect.setValueDirect(o)},BalloonTipLabel.prototype.getRenderingPositions=function(){var t=0,e=0,i=this.screenPosition.getValueDirect(),r=this.anchor.getValueDirect();return t=i.x+r.x,e=i.y-r.y,{labelX:t,labelY:e}},BalloonTipLabel.prototype.eventPerformed=function(t){if(!this.show.getValueDirect())return!1;var e=this.isSelected(t.x,t.y);return e},BalloonTipLabel.prototype.balloonTipLabelStyleModified=function(){},BalloonTipLabel.prototype.balloonTipLabelStyleBgColorModified=function(){},BalloonTipLabel.prototype.balloonTipLabelStyleDisplayModeModified=function(t){switch(t){case"default":this.show.setValueDirect(!0,!1);break;case"hide":this.motionParent&&this.motionParent.getAttribute("hasFocus").getValueDirect()>0?this.hasFocus.setValueDirect(1):this.show.setValueDirect(!1,!1)}this.setModified()},BalloonTipLabel.prototype.balloonTipLabelStyleHtmlLabelStyleModified=function(){var t=this.balloonTipLabelStyle.htmlLabelStyle.html.getValueDirect().join("");this.qtip_api&&this.qtip_api.set("content.text",t),this.setModified()},BalloonTipLabel.prototype.renderSequenceSlotModified=function(){},BalloonTipLabel.prototype.showModified=function(t){this.qtip_api&&(t?this.qtip_api.show():this.qtip_api.hide())},LineList.prototype=new VertexGeometry,LineList.prototype.constructor=LineList,LineList.prototype.update=function(t,e){this.vertexBuffer||(this.vertexBuffer=this.graphMgr.renderContext.createVertexBuffer(3),this.vertexBuffer.setPrimitiveType(RC_LINES)),VertexGeometry.prototype.update.call(this,t,e)},LineList.prototype.apply=function(t,e,i){VertexGeometry.prototype.apply.call(this,t,e,i)},LineList.prototype.draw=function(){this.vertexBuffer.draw()},LineList.prototype.buildBoundingTree=function(){},PointList.prototype=new VertexGeometry,PointList.prototype.constructor=PointList,PointList.prototype.update=function(t,e){this.vertexBuffer||(this.vertexBuffer=this.graphMgr.renderContext.createVertexBuffer(3),this.vertexBuffer.setPrimitiveType(RC_POINTS)),VertexGeometry.prototype.update.call(this,t,e)},PointList.prototype.apply=function(t,e,i){VertexGeometry.prototype.apply.call(this,t,e,i)},PointList.prototype.draw=function(){this.vertexBuffer.draw()},PointList.prototype.buildBoundingTree=function(){},DistanceSortAgent.prototype=new Agent,DistanceSortAgent.prototype.constructor=DistanceSortAgent,DistanceSortAgent.prototype.setGraphMgr=function(t){this.graphMgr=t},DistanceSortAgent.prototype.isEmpty=function(){return 0==this.sortRecs.length},DistanceSortAgent.prototype.addGeometry=function(t,e,i,r){var o=new DistanceSortRec;o.geometry=t,o.dissolve=r,o.stateRec=GetCurrentState(this.graphMgr);var n=new Matrix4x4;n.loadMatrix(this.graphMgr.renderContext.worldMatrixStack.top()),o.distance=FLT_MAX;for(var a,s=0;8>s;s++){switch(s){case 0:a=new Vector3D(i.x,i.y,i.z);break;case 1:a=new Vector3D(i.x,i.y,e.z);break;case 2:a=new Vector3D(i.x,e.y,i.z);break;case 3:a=new Vector3D(i.x,e.y,e.z);break;case 4:a=new Vector3D(e.x,i.y,i.z);break;case 5:a=new Vector3D(e.x,i.y,e.z);break;case 6:a=new Vector3D(e.x,e.y,i.z);break;case 7:a=new Vector3D(e.x,e.y,e.z)}a=n.transform(a.x,a.y,a.z,1),o.distance=Math.min(a.z,o.distance)}this.sortRecs.push(o)},DistanceSortAgent.prototype.clear=function(){this.sortRecs.length=0},DistanceSortAgent.prototype.sort=function(){this.sortRecs.sort(DistanceSortAgent_CompareSortRecs)},DistanceSortAgent.prototype.draw=function(){if(0!=this.sortRecs.length){for(var t=GetCurrentState(this.graphMgr),e=0;e<this.sortRecs.length;e++)SetCurrentState(this.graphMgr,this.sortRecs[e].stateRec),this.sortRecs[e].geometry.draw(this.sortRecs[e].dissolve),this.graphMgr.renderState.setState(RENDERSTATE_CLIP_PLANE_BIT,t.renderStateRec);this.graphMgr.renderContext.enable(eRenderMode.DepthBufferWrite),SetCurrentState(this.graphMgr,t)}};var EARTH_RADIUS_KM_EQ=6378,EARTH_RADIUS_KM_P=6377,UTM_ZONE_WIDTH_KM=667.956,EQ_ARC_WIDTH_KM=40075.16,EQ_ARC_HEIGHT_KM=40008,EQ_ARC_ONE_DEG_LAT_KM=EQ_ARC_HEIGHT_KM/360,EQ_ARC_ONE_DEG_LON_KM=EQ_ARC_WIDTH_KM/360,EQ_ARC_WIDTH_MI=24902,EQ_ARC_HEIGHT_MI=24900,EQ_ARC_ONE_DEG_LAT_MI=EQ_ARC_HEIGHT_MI/360,EQ_ARC_ONE_DEG_LON_MI=EQ_ARC_WIDTH_MI/360;MapProjectionCalculator.prototype=new Evaluator,MapProjectionCalculator.prototype.constructor=MapProjectionCalculator,MapProjectionCalculator.prototype.evaluate=function(){var t=this.geoPosition.getValueDirect(),e=this.computePosition(t.x,t.y,t.z);this.resultPosition.setValueDirect(e.x,e.y,e.z);var i=this.computeGeoPosition(e.x,e.y,e.z);this.resultGeoPosition.setValueDirect(i.x,i.y,i.z)},MapProjectionCalculator.prototype.computePosition=function(t,e,i){var r=void 0,o=this.mapProjection.getValueDirect().join(""),n=this.positionCalculators[o];if(n){var a=this.center2D.getValueDirect();r=n(t,e,i,a.x,a.y,this.unitsMultiplier)}return r},MapProjectionCalculator.prototype.computeGeoPosition=function(t,e,i){var r=void 0,o=this.mapProjection.getValueDirect().join(""),n=this.geoPositionCalculators[o];if(n){var a=this.center2D.getValueDirect();r=n(t,e,i,a.x,a.y,this.unitsMultiplier)}return r},NullObject.prototype=new ParentableMotionElement,NullObject.prototype.constructor=NullObject,Transform.prototype=new SGNode,Transform.prototype.constructor=Transform,Transform.prototype.clone=function(t){this.matrix=t.matrix.clone(),this.updateMatrix=t.updateMatrix},Transform.prototype.update=function(t,e){this.updateMatrix&&(this.updateMatrix=!1,this.matrixTransform=this.matrix.getValueDirect()),SGNode.prototype.update.call(this,t,e)},Transform.prototype.apply=function(t,e,i){if(!this.enabled.getValueDirect())return void SGNode.prototype.apply.call(this,t,e,i);switch(t){case"render":case"shadow":e.worldMatrix=this.matrixTransform.multiply(e.worldMatrix),this.applyTransform();break;case"rayPick":case"bbox":case"collide":e.worldMatrix=this.matrixTransform.multiply(e.worldMatrix);break;case"highlight":e.worldMatrix=this.matrixTransform.multiply(e.worldMatrix),e.targets.length>0&&(e.targets[e.targets.length-1].worldMatrix=this.matrixTransform.multiply(e.targets[e.targets.length-1].worldMatrix))}SGNode.prototype.apply.call(this,t,e,i)},Transform.prototype.applyTransform=function(){this.graphMgr.renderContext.setMatrixMode(RC_WORLD),this.graphMgr.renderContext.leftMultMatrix(this.matrixTransform),this.graphMgr.renderContext.applyWorldTransform()},QuaternionRotate.prototype=new Transform,QuaternionRotate.prototype.constructor=QuaternionRotate,QuaternionRotate.prototype.update=function(t,e){if(this.updateRotationQuat){this.updateRotationQuat=!1;var i=this.rotationQuat.getValueDirect(),r=i.getMatrix();this.matrix.setValueDirect(r);var o=r.getRotationAngles();this.rotation.setValueDirect(o.x,o.y,o.z)}Transform.prototype.update.call(this,t,e)},QuaternionRotate.prototype.apply=function(t,e,i){return this.enabled.getValueDirect()?void Transform.prototype.apply.call(this,t,e,i):void Transform.prototype.apply.call(this,t,e,i)},Rotate.prototype=new Transform,Rotate.prototype.constructor=Rotate,Rotate.prototype.update=function(t,e){if(this.updateRotation){this.updateRotation=!1;var i=this.rotation.getValueDirect(),r=new Matrix4x4;r.loadXYZAxisRotation(i.x,i.y,i.z),this.matrix.setValueDirect(r)}Transform.prototype.update.call(this,t,e)},Rotate.prototype.apply=function(t,e,i){return this.enabled.getValueDirect()?void Transform.prototype.apply.call(this,t,e,i):void Transform.prototype.apply.call(this,t,e,i)},Scale.prototype=new Transform,Scale.prototype.constructor=Scale,Scale.prototype.update=function(t,e){if(this.updateScale){this.updateScale=!1;var i=this.scale.getValueDirect(),r=new Matrix4x4;r.loadScale(i.x,i.y,i.z),this.matrix.setValueDirect(r)}Transform.prototype.update.call(this,t,e)},Scale.prototype.apply=function(t,e,i){return this.enabled.getValueDirect()?void Transform.prototype.apply.call(this,t,e,i):void Transform.prototype.apply.call(this,t,e,i)},Translate.prototype=new Transform,Translate.prototype.constructor=Translate,Translate.prototype.update=function(t,e){if(this.updateTranslation){this.updateTranslation=!1;var i=this.translation.getValueDirect(),r=new Matrix4x4;r.loadTranslation(i.x,i.y,i.z),this.matrix.setValueDirect(r)}Transform.prototype.update.call(this,t,e)},Translate.prototype.apply=function(t,e,i){return this.enabled.getValueDirect()?void Transform.prototype.apply.call(this,t,e,i):void Transform.prototype.apply.call(this,t,e,i)},MultiTargetObserver.prototype=new Evaluator,MultiTargetObserver.prototype.constructor=MultiTargetObserver,MultiTargetObserver.prototype.setNumberOfTargets=function(t){var e=this.targets.getValueDirect();if(e>0)for(var i=0;e>i;i++)this.unregisterAttribute(this.targetPosition[i]);if(this.targets.setValueDirect(t),t>0){this.targetPosition.length=t;for(var i=0;t>i;i++)this.targetPosition[i]=new Vector3DAttr(0,0,0),this.registerAttribute(this.targetPosition[i],"targetPosition"+i)}},MultiTargetObserver.prototype.evaluate=function(){if(this.enabled.getValueDirect()&&0!=this.targets.getValueDirect()){var t,e,i=this.getObserverAndTargetPositions(),r=i.observer,o=i.target,n=new Vector3D(o.x-r.x,o.y-r.y,o.z-r.z),a=XYZtoHP(n.x,n.y,n.z),t=a.heading,e=a.pitch,s=0;1==this.affectPitch.getValueDirect()&&(s=-toDegrees(e));var l=0;1==this.affectHeading.getValueDirect()&&(l=-toDegrees(t));var c=[r.x,r.y,r.z];this.resultPosition.setValue(c),1==this.affectPitch.getValueDirect()&&this.resultPitch.setValueDirect(s),1==this.affectHeading.getValueDirect()&&this.resultHeading.setValueDirect(l)}},MultiTargetObserver.prototype.getObserverAndTargetPositions=function(){var t,e;switch(this.targets.getValueDirect()){case 0:t=new Vector3D(0,0,0),e=new Vector3D(0,0,0);break;case 1:t=this.position.getValueDirect(),e=this.targetPosition[0].getValueDirect();break;case 2:var i=this.targetPosition[0].getValueDirect(),r=this.targetPosition[1].getValueDirect(),o=this.distanceFromFirstTarget.getValueDirect(),n=Normalize(i-r);t=n*o+i,e=0==o?i-n:i;break;default:t=new Vector3D(0,0,0),e=Vector3D(0,0,0)}return{observer:t,target:e}},SerializeParams.prototype=new DirectiveParams,SerializeParams.prototype.constructor=SerializeParams(),SerializeDirective.prototype=new SGDirective,SerializeDirective.prototype.constructor=SerializeDirective,SerializeDirective.prototype.execute=function(t){if(t){this.serialized=null;var e=new SerializeParams;e.serialized=new String,t.apply("serialize",e,!0),this.serialized=e.serialized}};var MIN_COLLIDE_DISTANCE=.01,MAX_SEE_AHEAD=2;CollideParams.prototype=new DirectiveParams,CollideParams.prototype.constructor=CollideParams(),CollideDirective.prototype=new SGDirective,CollideDirective.prototype.constructor=CollideDirective,CollideDirective.prototype.setRegistry=function(t){var e=t.find("Bridgeworks");this.physicsSimulator=e.physicsSimulator,SGDirective.prototype.setRegistry.call(this,t)},CollideDirective.prototype.execute=function(t){t=t||this.rootNode.getValueDirect();var e=new CollideParams;t.apply("collide",e,!0),this.detectCollisions(e.detectCollisions),this.detectObstructions(e.detectCollisions),this.detectSnapConnections(e.detectCollisions)},CollideDirective.prototype.detectCollisions=function(t){if(this.physicsSimulator){var e=null;for(var i in t){var r=t[i].model;r.getAttribute("collisionDetected").setValueDirect(!1),r.getAttribute("collisionList").clear(),this.isSelected(r)&&(e=r)}if(!e)return this.physicsSimulator.evaluate(),void(this.lastSelected=null);e!=this.lastSelected&&(e.lastSelectedPosition=e.position.getValueDirect(),this.lastSelected=e,this.lastColliding=!1,this.lastCollidingDistance=FLT_MAX),this.detectCollision(e)}},CollideDirective.prototype.detectCollision=function(t){this.physicsSimulator.updatePhysicsBodyPosition(this.physicsSimulator.getPhysicsBodyIndex(t),!0),this.physicsSimulator.evaluate();var e=this.physicsSimulator.isColliding(t);if(e.colliding&&e.distance>MIN_COLLIDE_DISTANCE){if(t.getAttribute("stopOnCollision").getValueDirect()){var i=new Ammo.btTransform;this.physicsSimulator.getPhysicsBody(t).getMotionState().getWorldTransform(i);var r=i.getOrigin(),o=i.getRotation(),n=new Quaternion;n.load(o.w(),o.x(),o.y(),o.z()),Ammo.destroy(i);var a=t.position.getValueDirect(),s=(t.lastSelectedPosition,new Vector3D(a.x-e.collideePoint.x,a.y-e.collideePoint.y,a.z-e.collideePoint.z));s.normalize(),s.multiplyScalar(e.distance),t.getAttribute("position").setValueDirect(r.x(),r.y(),r.z()),this.lastColliding=!0,this.lastCollidingDistance=e.distance}}else t.lastSelectedPosition=t.position.getValueDirect(),this.lastColliding=!1,this.lastCollidingDistance=FLT_MAX;return this.lastColliding},CollideDirective.prototype.detectObstructions=function(t){var e,i,r=[],o=[],n=[];for(e in t)0!=t[e].model.getAttribute("detectObstruction").getValueDirect()&&(r.push(t[e].model),o.push(t[e].tree),n.push(!1),t[e].model.getAttribute("obstructionList").clear());var a=0,s=FLT_MAX;for(e=0;e<o.length;e++){var l=r[e].scale.getValueDirect(),c=r[e].getDirectionVectors();for(c.forward.x*=MAX_SEE_AHEAD*l.x,c.forward.y*=MAX_SEE_AHEAD*l.y,c.forward.z*=MAX_SEE_AHEAD*l.z,i=0;i<o.length;i++)e!=i&&(a=o[i].obstructs(o[e],c.forward))>0&&s>a&&(r[e].getAttribute("obstructionList").clear(),r[e].getAttribute("obstructionList").push_back(r[i]),n[e]=!0,s=a)}for(e=0;e<n.length;e++)r[e].getAttribute("obstructionDetected").setValueDirect(n[e])},CollideDirective.prototype.detectSnapConnections=function(t){var e,i=null,r=[];for(e in t)this.isSelected(t[e].model)&&t[e].model.getAttribute("snapEnabled").getValueDirect()?i=t[e].model:t[e].model.getAttribute("snapEnabled").getValueDirect()&&r.push(t[e].model);if(i&&0!=r.length){var o=this.registry.find("SnapMgr");for(e=0;e<r.length;e++)if(i.boundingTree.collides(r[e].boundingTree)&&o.trySnap(i,r[e]))return}},CollideDirective.prototype.isSelected=function(t){var e=t.getAttribute("selected").getValueDirect();if(!e)for(var i=0;i<t.motionChildren.length&&!e;i++)e=this.isSelected(t.motionChildren[i]);return e},HighlightParams.prototype=new DirectiveParams,HighlightParams.prototype.constructor=HighlightParams(),HighlightDirective.prototype=new SGDirective,HighlightDirective.prototype.constructor=HighlightDirective,HighlightDirective.prototype.setGraphMgr=function(t){SGDirective.prototype.setGraphMgr.call(this,t),this.initHighlightSquareVB()},HighlightDirective.prototype.execute=function(t){t=t||this.rootNode.getValueDirect();var e=new HighlightParams;t.apply("highlight",e,!0),this.drawHighlights(e)},HighlightDirective.prototype.drawHighlights=function(t){if(0!=t.targets.length){var e=this.graphMgr.renderContext;if(e)for(var i,r,o,n=this.highlightType.getValueDirect(),a=0;a<t.targets.length;a++){var s=t.targets[a],l=s.camera.getDirectionVectors();i=l.up,r=l.right,o=l.forward;var c=s.worldMatrix.getScalingFactors(),h=max3(c.x,c.y,c.z),u=this.getWorldUnitsPerPixel(s.center,s.worldMatrix,s.viewMatrix,s.camera,s.viewport)/h,d=s.highlightWidth*u;e.clearStencil(0),e.clear(RC_STENCIL_BUFFER_BIT);for(var p,f=0;f<s.geometries.length;f++)switch(n){case eHighlightType.FourPass:for(var _=0;4>_;_++)p=this.getWorldViewMatrix(n,d,_,i,r,o,s.worldMatrix,s.viewMatrix),this.configureStencil_Target(e,s.geometries[f],s.projMatrix,p,eStencilOp.Increment);break;case eHighlightType.EightPass:for(var _=0;8>_;_++)p=this.getWorldViewMatrix(n,d,_,i,r,o,s.worldMatrix,s.viewMatrix),this.configureStencil_Target(e,s.geometries[f],s.projMatrix,p,eStencilOp.Increment)}p=s.worldMatrix.multiply(s.viewMatrix);for(var f=0;f<s.geometries.length;f++)this.configureStencil_Target(e,s.geometries[f],s.projMatrix,p,eStencilOp.Zero);this.highlightColor.setValueDirect(s.highlightColor_r,s.highlightColor_g,s.highlightColor_b,s.highlightColor_a),this.renderHighlightSquare(t,e)}}},HighlightDirective.prototype.getWorldUnitsPerPixel=function(t,e,i,r,o){var n=e.multiply(i),a=n.transform(t.x,t.y,t.z,1),s=new Vector2D;switch(r.attrType){case eAttrType.PerspectiveCamera:var l=r.getAttribute("zoom").getValueDirect();s=worldUnitsPerPixelPersp(o,l,a.z);break;case eAttrType.OrthographicCamera:var c=r.getAttribute("width").getValueDirect();s=worldUnitsPerPixelOrtho(o,c)}return Math.max(s.x,s.y)},HighlightDirective.prototype.getWorldViewMatrix=function(t,e,i,r,o,n,a,s){var l=0;switch(t){case eHighlightType.FourPass:l=90;break;case eHighlightType.EightPass:l=45}var c=new Matrix4x4;c.loadZAxisRotation(l*i);var h=c.transform(1,0,0,0);h.x*=e,h.y*=e,h.z*=e;var u=new Matrix4x4;return u.loadTranslation(o.x*h.x+r.x*h.y,o.y*h.x+r.y*h.y,o.z*h.x+r.z*h.y),u.multiply(a.multiply(s))},HighlightDirective.prototype.configureStencil_Target=function(t,e,i,r,o){var n=t.enabled(eRenderMode.DepthBufferWrite),a=t.enabled(eRenderMode.StencilTest),s=t.enabled(eRenderMode.AlphaBlend);t.setEnabled(eRenderMode.DepthBufferWrite,!1),t.setEnabled(eRenderMode.StencilTest,!0),t.setDepthFunc(eDepthFunc.LessEqual),t.setShadeModel(eShadeModel.Flat),t.setStencilFunc(eStencilFunc.Always,0,255),t.setStencilMask(255),t.setStencilOp(eStencilOp.Keep,o,o),t.setEnabled(eRenderMode.AlphaBlend,!0),t.setBlendFactor(RC_ZERO,RC_ONE),t.setMatrixMode(RC_PROJECTION),t.pushMatrix(),t.loadMatrix(i),t.applyProjectionTransform(),t.setMatrixMode(RC_VIEW),t.pushMatrix(),t.loadMatrix(new Matrix4x4),t.applyViewTransform(),t.setMatrixMode(RC_WORLD),t.pushMatrix(),t.loadMatrix(r),t.applyWorldTransform(),e.drawPrimitives(),t.setMatrixMode(RC_PROJECTION),t.popMatrix(),t.setMatrixMode(RC_VIEW),t.popMatrix(),t.setMatrixMode(RC_WORLD),t.popMatrix(),t.setEnabled(eRenderMode.DepthBufferWrite,n),t.setEnabled(eRenderMode.StencilTest,a),t.setDepthFunc(eDepthFunc.LessEqual),t.setShadeModel(eShadeModel.Gouraud),t.setEnabled(eRenderMode.AlphaBlend,s)},HighlightDirective.prototype.renderHighlightSquare=function(t,e){var i=e.enabled(eRenderMode.DepthTest),r=e.enabled(eRenderMode.StencilTest),o=e.enabled(eRenderMode.AlphaBlend),n=e.enabled(eRenderMode.Lighting);e.setDepthFunc(eDepthFunc.LessEqual),e.setEnabled(eRenderMode.DepthTest,!1),e.setEnabled(eRenderMode.StencilTest,!0),e.setEnabled(eRenderMode.AlphaBlend,!0),e.setEnabled(eRenderMode.Lighting,!1),e.setBlendFactor(RC_SRC_ALPHA,RC_ONE_MINUS_SRC_ALPHA),e.setStencilFunc(eStencilFunc.LessEqual,1,255),e.setStencilOp(eStencilOp.Keep,eStencilOp.Keep,eStencilOp.Keep);var a=new Matrix4x4;a.loadIdentity(),e.setMatrixMode(RC_PROJECTION),e.pushMatrix(),e.loadMatrix(a),e.applyProjectionTransform(),e.setMatrixMode(RC_VIEW),e.pushMatrix(),e.loadMatrix(a),e.applyViewTransform(),e.setMatrixMode(RC_WORLD),e.pushMatrix(),e.loadMatrix(a),e.applyWorldTransform(),this.vertexBuffer.draw(),e.popMatrix(),e.setMatrixMode(RC_VIEW),e.popMatrix(),e.setMatrixMode(RC_PROJECTION),e.popMatrix(),e.setDepthFunc(eDepthFunc.LessEqual),e.setEnabled(eRenderMode.DepthTest,i),e.setEnabled(eRenderMode.StencilTest,r),e.setEnabled(eRenderMode.AlphaBlend,o),e.setEnabled(eRenderMode.Lighting,n),e.setMatrixMode(RC_WORLD)},HighlightDirective.prototype.initHighlightSquareVB=function(){this.vertexBuffer=this.graphMgr.renderContext.createVertexBuffer(3),this.vertexBuffer.setPrimitiveType(RC_TRIANGLE_STRIP);var t=[-1,-1,1,-1,1,1,1,-1,1,1,1,1],e=[0,0,-1,0,0,-1,0,0,-1,0,0,-1],i=this.highlightColor.getValueDirect(),r=[i.r,i.g,i.b,i.a,i.r,i.g,i.b,i.a,i.r,i.g,i.b,i.a,i.r,i.g,i.b,i.a];this.vertexBuffer.setVertices(t),this.vertexBuffer.setNormals(e),this.vertexBuffer.setColors(r)},HighlightDirective.prototype.highlightColorModified=function(){if(this.vertexBuffer){var t=this.highlightColor.getValueDirect(),e=[t.r,t.g,t.b,t.a,t.r,t.g,t.b,t.a,t.r,t.g,t.b,t.a,t.r,t.g,t.b,t.a];this.vertexBuffer.setColors(e)}},ShadowParams.prototype=new DirectiveParams,ShadowParams.prototype.constructor=ShadowParams(),ShadowDirective.prototype=new SGDirective,ShadowDirective.prototype.constructor=ShadowDirective,ShadowDirective.prototype.setGraphMgr=function(t){this.program=t.renderContext.createProgram(pcf_shadow_mapping_depth_pass_vs,pcf_shadow_mapping_depth_pass_fs),this.shadowFBO=t.renderContext.createShadowFramebufferObject(),this.displayListObj=new DisplayListObj(t.renderContext),SGDirective.prototype.setGraphMgr.call(this,t)},ShadowDirective.prototype.execute=function(t){t=t||this.rootNode.getValueDirect();var e=this.graphMgr.renderContext.getProgram(),i=this.graphMgr.renderContext.getDisplayList(),r=this.graphMgr.renderContext.getViewport(),o=this.graphMgr.renderContext.getClearColor();this.graphMgr.renderContext.useProgram(this.program);var n=toRadians(90),a=1024,s=1024,l=1,c=100,h=Math.tan(n/2)*l,u=-h,d=h*(s/a),p=-d,f=this.graphMgr.renderContext.perspectiveMatrixLH(p,d,h,u,l,c);this.graphMgr.renderContext.setMatrixMode(RC_PROJECTION),this.graphMgr.renderContext.pushMatrix(),this.graphMgr.renderContext.loadMatrix(f),this.graphMgr.renderContext.applyProjectionTransform(),worldPos=this.casterWorldPosition.getValueDirect(),this.graphMgr.renderContext.setShadowCasterWorldPosition(worldPos.x,worldPos.y,worldPos.z);var _=new Matrix4x4;_.loadTranslation(worldPos.x,worldPos.y,worldPos.z);var m=new Matrix4x4;m.loadYAxisRotation(90);var g=m.multiply(_);g.invert(),this.graphMgr.renderContext.setMatrixMode(RC_VIEW),this.graphMgr.renderContext.pushMatrix(),this.graphMgr.renderContext.loadMatrix(g),this.graphMgr.renderContext.applyViewTransform(),this.shadowFBO.bindForWriting(eCubeMapFace.Positive_X),this.graphMgr.renderContext.setDisplayList(this.displayListObj),this.displayListObj.record_begin();var y=new ShadowParams;t.apply("shadow",y,!0),this.displayListObj.record_end();for(var b=1;6>b;b++){switch(this.shadowFBO.bindForWriting(eCubeMapFace.Positive_X+b),eCubeMapFace.Positive_X+b){case eCubeMapFace.Negative_X:m.loadYAxisRotation(-90);break;case eCubeMapFace.Positive_Y:m.loadXAxisRotation(90);break;case eCubeMapFace.Negative_Y:m.loadXAxisRotation(-90);break;case eCubeMapFace.Positive_Z:m.loadYAxisRotation(0);break;case eCubeMapFace.Negative_Z:m.loadYAxisRotation(180)}g=m.multiply(_),g.invert(),this.graphMgr.renderContext.setMatrixMode(RC_VIEW),this.graphMgr.renderContext.loadMatrix(g),this.graphMgr.renderContext.applyViewTransform(),this.displayListObj.play()}this.graphMgr.renderContext.setMatrixMode(RC_PROJECTION),this.graphMgr.renderContext.popMatrix(),this.graphMgr.renderContext.applyProjectionTransform(),this.graphMgr.renderContext.setMatrixMode(RC_VIEW),this.graphMgr.renderContext.popMatrix(),this.graphMgr.renderContext.applyViewTransform(),this.graphMgr.renderContext.setDisplayList(i),this.graphMgr.renderContext.setViewport(r.x,r.y,r.width,r.height),this.graphMgr.renderContext.clearColor(o.r,o.g,o.b,o.a),this.graphMgr.renderContext.useProgram(e),this.graphMgr.renderContext.setShadowCasterWorldPosition(worldPos.x,worldPos.y,worldPos.z),this.shadowFBO.bindForReading()};var OBJECTMOTION_PAN_BIT=1,OBJECTMOTION_LINEAR_BIT=2,OBJECTMOTION_ANGULAR_BIT=4,OBJECTMOTION_SCALAR_BIT=8,OBJECTMOTION_ALL_BITS=15;ObjectMotionDesc.prototype.assign=function(t){this.validMembersMask=t.validMembersMask,this.panVelocity=t.panVelocity,this.linearVelocity=t.linearVelocity,this.angularVelocity=t.angularVelocity,this.scalarVelocity=t.scalarVelocity,this.duration=t.duration},ObjectMover.prototype=new Evaluator,ObjectMover.prototype.constructor=ObjectMover,ObjectMover.prototype.onUnregister=function(){this.motionQueue.clear(),this.panVelocity.setValueDirect(0,0,0),this.linearVelocity.setValueDirect(0,0,0),this.angularVelocity.setValueDirect(0,0,0),this.scalarVelocity.setValueDirect(0,0,0)},ObjectMover.prototype.evaluate=function(){var t=this.timeIncrement.getValueDirect();this.updateActiveMotion(t),this.setMotion(this.activeMotion)},ObjectMover.prototype.setMotion=function(t){t.validMembersMask&OBJECTMOTION_PAN_BIT&&this.panVelocity.setValueDirect(t.panVelocity.x,t.panVelocity.y,t.panVelocity.z),t.validMembersMask&OBJECTMOTION_LINEAR_BIT&&this.linearVelocity.setValueDirect(t.linearVelocity.x,t.linearVelocity.y,t.linearVelocity.z),t.validMembersMask&OBJECTMOTION_ANGULAR_BIT&&this.angularVelocity.setValueDirect(t.angularVelocity.x,t.angularVelocity.y,t.angularVelocity.z),t.validMembersMask&OBJECTMOTION_SCALAR_BIT&&this.scalarVelocity.setValueDirect(t.scalarVelocity.x,t.scalarVelocity.y,t.scalarVelocity.z)},ObjectMover.prototype.updateActiveMotion=function(t){(!this.activeMotion||this.activeDuration>=this.activeMotion.duration)&&(this.activeDuration=0,this.activeMotion=this.motionQueue.front()||new ObjectMotionDesc,this.motionQueue.pop()),this.activeDuration+=t},ObjectMover.prototype.connectTarget=function(t){this.panVelocity.removeAllTargets(),this.linearVelocity.removeAllTargets(),this.angularVelocity.removeAllTargets(),this.scalarVelocity.removeAllTargets(),t&&(this.panVelocity.addTarget(t.getAttribute("panVelocity")),this.linearVelocity.addTarget(t.getAttribute("linearVelocity")),this.angularVelocity.addTarget(t.getAttribute("angularVelocity")),this.scalarVelocity.addTarget(t.getAttribute("scalarVelocity")),t.getAttribute("detectCollision").setValueDirect(!0),t.getAttribute("collisionDetected").addModifiedCB(ObjectMover_TargetCollisionDetectedModifiedCB,this),t.getAttribute("detectObstruction").setValueDirect(!0),t.getAttribute("obstructionDetected").addModifiedCB(ObjectMover_TargetObstructionDetectedModifiedCB,this)),this.targetObject=t},ObjectMover.prototype.collisionDetected=function(){},ObjectMover.prototype.obstructionDetected=function(){};var ANIMALMOVER_MAX_QUEUE_LENGTH=2;AnimalMover.prototype=new ObjectMover,AnimalMover.prototype.constructor=AnimalMover,AnimalMover.prototype.evaluate=function(){if(0==this.motionQueue.length()){var t=Math.random(),e=.5>t?-1:1,i=new ObjectMotionDesc;i.duration=5*t,i.angularVelocity=new Vector3D(0,this.angularSpeed.getValueDirect()*t*e,0),i.panVelocity=new Vector3D(0,0,this.linearSpeed.getValueDirect()),this.motionQueue.push(i)}ObjectMover.prototype.evaluate.call(this)},AnimalMover.prototype.collisionDetected=function(){},AnimalMover.prototype.obstructionDetected=function(t){if(t.Size()>0){this.motionQueue.clear(),this.activeMotion=null;var e=this.targetObject.getDirectionVectors(),i=this.targetObject.getAttribute("sectorPosition").getValueDirect(),r=new Vector3D(e.forward.x,e.forward.y,e.forward.z),o=t.getAt(0).getAttribute("sectorPosition").getValueDirect(),n=toDegrees(Math.acos(cosineAngleBetween(e.forward,new Vector3D(o.x-i.x,o.y-i.y,o.z-i.z))));0==n&&(o.x+=.1,o.z+=.1);var a=distanceBetween(i,o),s=new Vector3D(e.forward.x*a-o.x,e.forward.y*a-o.y,e.forward.z*a-o.z);s.normalize(),r.addVector(s),r.normalize(),r.multiplyScalar(this.linearSpeed.getValueDirect()),this.linearDirection=r;var l=cosineAngleBetween(e.forward,this.linearDirection);if(n=toDegrees(Math.acos(l)),n>0){0>l&&(n=-n);var c=this.targetObject.getAttribute("rotation").getValueDirect();this.targetObject.getAttribute("rotation").setValueDirect(c.x,n+c.y,c.z)}}},WalkSimulator.prototype=new SceneInspector,WalkSimulator.prototype.constructor=WalkSimulator,WalkSimulator.prototype.evaluate=function(){if(this.enabled_){var t=this.linearDelta.getValueDirect();t.x*=-1;var e=this.linearSensitivity.getValueDirect(),i=this.angularDelta.getValueDirect(),r=this.angularSensitivity.getValueDirect(),o=new Vector3D(t.x,t.y,t.z);o.multiplyVector(e);var n=new Vector3D(i.x,i.y,i.z);if(n.multiplyVector(r),0!=o.x||0!=o.y||0!=o.z||0!=n.x||0!=n.y||0!=n.z){this.panDelta.setValueDirect(o.x,o.y,o.z),this.rotationDelta.setValueDirect(n.x,n.y,n.z);var a=this.viewPosition.getValueDirect(),s=this.viewRotation.getValueDirect(),l=this.groundPlane.getValueDirect(),c=new Matrix4x4;c.loadTranslation(-a.x,-a.y,-a.z);var h=new Matrix4x4;h.loadXYZAxisRotation(-s.x,-s.y,-s.z);var u=c.multiply(h);this.upVector.setValueDirect(l.normal.x,l.normal.y,l.normal.z);var d=this.transformDirectionVector(0,0,1,u),p=planeProject(d,l),f=new Vector3D(p.x,p.y,p.z);f.normalize(),this.forwardVector.setValueDirect(f.x,f.y,f.z);var _=new Matrix4x4;_.loadYAxisRotation(90),d=_.transform(f.x,f.y,f.z,0),this.rightVector.setValueDirect(d.x,d.y,d.z),SceneInspector.prototype.evaluate.call(this)}}},WalkSimulator.prototype.enabledModified=function(){var t=this.enabled.getValueDirect();
t?(this.enableSceneInspectionState(),this.affectRotation_Z.setValueDirect(!1)):this.lastEnabled&&(this.restoreSceneInspectionState(),this.affectRotation_Z.setValueDirect(!0),this.upVector.setValueDirect(0,0,0,!1),this.rightVector.setValueDirect(0,0,0,!1),this.forwardVector.setValueDirect(0,0,0,!1)),this.lastEnabled=t},WalkSimulator.prototype.enableSceneInspectionState=function(){var t=this.registry.find("SceneInspector");t&&(t.enabled.setValueDirect(!0),this.sceneInspector_pivotDistanceValue=t.pivotDistance.getValueDirect(),t.pivotDistance.setValueDirect(0));var e=this.registry.find("Selector");e&&(this.selector_computePivotDistanceValue=e.computePivotDistance.getValueDirect(),e.computePivotDistance.setValueDirect(!1))},WalkSimulator.prototype.restoreSceneInspectionState=function(){var t=this.registry.find("SceneInspector");t&&t.pivotDistance.setValueDirect(this.sceneInspector_pivotDistanceValue);var e=this.registry.find("Selector");e&&e.computePivotDistance.setValueDirect(this.selector_computePivotDistanceValue)},ScreenRect.prototype=new TriList,ScreenRect.prototype.constructor=ScreenRect,ScreenRect.prototype.update=function(t,e){TriList.prototype.update.call(this,t,e)},ScreenRect.prototype.draw=function(t){var e=new Matrix4x4;this.graphMgr.renderContext.setMatrixMode(RC_WORLD),this.graphMgr.renderContext.pushMatrix(),this.graphMgr.renderContext.loadMatrix(e),this.graphMgr.renderContext.applyWorldTransform(),this.graphMgr.renderContext.setMatrixMode(RC_PROJECTION),this.graphMgr.renderContext.pushMatrix(),this.graphMgr.renderContext.loadMatrix(e),this.graphMgr.renderContext.applyProjectionTransform(),this.graphMgr.renderContext.disable(eRenderMode.DepthTest),this.graphMgr.renderContext.disable(eRenderMode.DepthBufferWrite),this.graphMgr.renderContext.disable(eRenderMode.Lighting);var i=this.textureColorMask.getValueDirect();this.graphMgr.renderContext.setTextureColorMask(i.r,i.g,i.b,i.a),TriList.prototype.draw.call(this,t),this.graphMgr.renderContext.popMatrix(),this.graphMgr.renderContext.applyProjectionTransform(),this.graphMgr.renderContext.setMatrixMode(RC_WORLD),this.graphMgr.renderContext.popMatrix(),this.graphMgr.renderContext.applyWorldTransform(),this.graphMgr.renderContext.enable(eRenderMode.DepthTest),this.graphMgr.renderContext.enable(eRenderMode.DepthBufferWrite),this.graphMgr.renderContext.enable(eRenderMode.Lighting),this.graphMgr.renderContext.setTextureColorMask(2,2,2,2)},ScreenRect.prototype.setTexture=function(t){var e=[0,0,0,1,1,0,1,1],i=this.getUVCoords(t);i.setValueDirect(e)},MorphEffector.prototype=new Evaluator,MorphEffector.prototype.constructor=MorphEffector,MorphEffector.prototype.evaluate=function(){var t=this.morphAmt.getValueDirect(),e=this.morphIncr.getValueDirect();t+=e,t=clamp(t,0,1),this.morphAmt.setValueDirect(t);var i=this.sourceVertices.getValueDirect(),r=this.targetVertices.getValueDirect(),o=[],n=Math.min(i.length,r.length);o.length=n;for(var a=0;n>a;a++)o[a]=(r[a]-i[a])*t+i[a];this.resultVertices.setValue(o)},Bone.prototype=new AttributeContainer,Bone.prototype.constructor=Bone,Bone.prototype.addChild=function(t){return!t||t.parent?!1:(t.parent=this,this.transform.addTarget(t.parentTransform),this.restTransform.addTarget(t.parentRestTransform),this.children.push(t),!0)},Bone.prototype.removeChild=function(t){if(!t)return!1;for(var e=0;e<this.children.length;e++)if(this.children[e]==t){t.parent=null,this.transform.removeTarget(t.parentTransform),this.restTransform.removeTarget(t.parentRestTransform);var i=new Matrix4x4;return i.loadIdentity(),t.parentTransform.setValueDirect(i),t.parentRestTransform.setValueDirect(i),this.children.splice(e,1),!0}return!1},Bone.prototype.getChild=function(t){return t>=this.children.length?null:this.children[t]},Bone.prototype.getChildCount=function(){return this.children.length},Bone.prototype.getParent=function(){return this.parent},Bone.prototype.getScaledStrength=function(){var t=this.strength.getValueDirect();return this.scaleBoneStrength.getValueDirect()&&(t*=this.restLength.getValueDirect()),t},Bone.prototype.calculateFalloffValues=function(t){var e=this.restMatrix.transform(0,0,0,1),i=this.restMatrix.transform(0,0,1,0),r=this.restLength.getValueDirect(),o=new Vector3D(e.x,e.y,e.z),n=new Vector3D(e.x+i.x*r,e.y+i.y*r,e.z+i.z*r),a=t.length/3,s=this.falloffType.getValueDirect(),l=[];l.length=a;for(var c=0,h=0;a>c;c++,h+=3){var u=distanceBetweenLineSegmentAndPoint(o,n,new Vector3D(t[h],t[h+1],t[h+2]));switch(s){case eBoneFalloffType.InverseDistance:l[c]=1/u;break;case eBoneFalloffType.InverseDistance_2:l[c]=1/(u*u);break;case eBoneFalloffType.InverseDistance_4:l[c]=1/(u*u*u*u);break;case eBoneFalloffType.InverseDistance_8:l[c]=1/(u*u*u*u*u*u*u*u);break;case eBoneFalloffType.InverseDistance_16:l[c]=1/(u*u*u*u*u*u*u*u*u*u*u*u*u*u*u*u)}l[c]*=this.getScaledStrength()}return l},Bone.prototype.update=function(){var t=!1;if(this.updatePosition||this.updateRotation||this.updateScale||this.updatePivot||this.updateParentTransform){if(this.updatePosition){this.updatePosition=!1;var e=this.position.getValueDirect();this.translationMatrix.loadTranslation(e.x,e.y,e.z)}if(this.updateRotation){this.updateRotation=!1;var i=this.rotation.getValueDirect();this.rotationQuat.loadXYZAxisRotation(i.x,i.y,i.z),this.rotationMatrix=this.rotationQuat.getMatrix()}if(this.updateScale){this.updateScale=!1;var r=this.scale.getValueDirect();this.scaleMatrix.loadScale(r.x,r.y,r.z)}if(this.updatePivot){this.updatePivot=!1;var o=this.pivot.getValueDirect();this.pivotMatrix.loadTranslation(-o.x,-o.y,-o.z)}this.updateParentTransform&&(this.updateParentTransform=!1,this.parentMatrix=this.parentTransform.getValueDirect()),this.matrix=this.pivotMatrix.multiply(this.scaleMatrix.multiply(this.rotationMatrix.multiply(this.translationMatrix.multiply(this.parentMatrix)))),this.transform.setValueDirect(this.matrix),t=!0}if(this.updateRestPosition||this.updateRestRotation||this.updateParentRestTransform){this.updateRestPosition=!1,this.updateRestRotation=!1,this.updateParentRestTransform=!1;var n=this.restPosition.getValueDirect(),a=new Matrix4x4;a.loadTranslation(n.x,n.y,n.z);var s=this.restRotation.getValueDirect(),l=new Quaternion;l.loadXYZAxisRotation(s.x,s.y,s.z);var c=l.getMatrix(),h=this.parentRestTransform.getValueDirect();this.restMatrix=c.multiply(a.multiply(h)),this.restMatrixInv=new Matrix4x4,this.restMatrixInv.loadMatrix(this.restMatrix),this.restMatrixInv.invert(),this.restTransform.setValueDirect(this.restMatrix),t=!0}this.updateRestLength&&(this.updateRestLength=!1),t&&(this.boneMatrix=this.restMatrixInv.multiply(this.matrix))},BoneEffector.prototype=new Evaluator,BoneEffector.prototype.constructor=BoneEffector,BoneEffector.prototype.evaluate=function(){this.update();for(var t=0;t<this.bones.length;t++)this.updateBones(this.bones[t]);for(var t=0;t<this.bones.length;t++)this.evaluateBones(this.bones[t],0==t?!0:!1);this.resultVertices.setValueDirect(this.resultVerticesArray),this.resultNormals.setValueDirect(this.resultNormalsArray)},BoneEffector.prototype.addBoneHierarchy=function(t){return t?(this.bones.push(t),this.verticesArray.length>0&&this.calculateFalloffValues(),!0):!1},BoneEffector.prototype.update=function(){this.updateVertices&&(this.updateVertices=!1,this.verticesArray=this.vertices.getValueDirect(),this.resultVerticesArray.length=this.verticesArray.length,this.calculateFalloffValues()),this.updateNormals&&(this.updateNormals=!1,this.normalsArray=this.normals.getValueDirect(),this.resultNormalsArray.length=this.normalsArray.length)},BoneEffector.prototype.calculateFalloffValues=function(){this.boneFalloffValuesMap=[];for(var t=0;t<this.bones.length;t++)this.updateBones(this.bones[t]),this.calculateBoneFalloffValues(this.bones[t]);this.sumFalloffValues()},BoneEffector.prototype.calculateBoneFalloffValues=function(t){if(t&&0!=this.verticesArray.length){var e=t.calculateFalloffValues(this.verticesArray);this.boneFalloffValuesMap.push(new Pair(t,e));for(var i=0;i<t.getChildCount();i++){var r=t.getChild(i);r&&this.calculateBoneFalloffValues(r)}}},BoneEffector.prototype.sumFalloffValues=function(){if(0!=this.verticesArray.length){var t=this.verticesArray.length/3;this.falloffSums.length=t;for(var e=0;t>e;e++)this.falloffSums[e]=0;for(var e=0;e<this.boneFalloffValuesMap.length;e++)for(var i=this.boneFalloffValuesMap[e].second,r=0;t>r;r++)this.falloffSums[r]+=i[r];for(var e=0;e<this.boneFalloffValuesMap.length;e++)for(var i=this.boneFalloffValuesMap[e].second,r=0;t>r;r++)0!=this.falloffSums[r]?i[r]/=this.falloffSums[r]:i[r]=0}},BoneEffector.prototype.updateBones=function(t){if(t){t.update();for(var e=0;e<t.getChildCount();e++){var i=t.getChild(e);i&&this.updateBones(i)}}},BoneEffector.prototype.evaluateBones=function(t,e){if(t){for(var i=null,r=0;r<this.boneFalloffValuesMap.length;r++)if(this.boneFalloffValuesMap[r].first==t){i=this.boneFalloffValuesMap[r].second;break}for(var o=t.boneMatrix,n=this.verticesArray.length/3,r=0,a=0;n>r;r++,a+=3)if(i[r]>0){var s=o.transform(this.verticesArray[a],this.verticesArray[a+1],this.verticesArray[a+2],1);e?(this.resultVerticesArray[a]=s.x*i[r],this.resultVerticesArray[a+1]=s.y*i[r],this.resultVerticesArray[a+2]=s.z*i[r]):(this.resultVerticesArray[a]+=s.x*i[r],this.resultVerticesArray[a+1]+=s.y*i[r],this.resultVerticesArray[a+2]+=s.z*i[r])}else this.resultVerticesArray[a]=this.verticesArray[a],this.resultVerticesArray[a+1]=this.verticesArray[a+1],this.resultVerticesArray[a+2]=this.verticesArray[a+2];for(var l=this.normalsArray.length/3,r=0,a=0;l>r;r++,a+=3)if(i[r]>0){var s=o.transform(this.normalsArray[a],this.normalsArray[a+1],this.normalsArray[a+2],0);e?(this.resultNormalsArray[a]=s.x*i[r],this.resultNormalsArray[a+1]=s.y*i[r],this.resultNormalsArray[a+2]=s.z*i[r]):(this.resultNormalsArray[a]+=s.x*i[r],this.resultNormalsArray[a+1]+=s.y*i[r],this.resultNormalsArray[a+2]+=s.z*i[r])}else this.resultNormalsArray[a]=this.normalsArray[a],this.resultNormalsArray[a+1]=this.normalsArray[a+1],this.resultNormalsArray[a+2]=this.normalsArray[a+2];for(var r=0;r<t.getChildCount();r++){var c=t.getChild(r);c&&this.evaluateBones(c)}}},Cube.prototype=new TriList,Cube.prototype.constructor=Cube,Cube.prototype.setGraphMgr=function(t){TriList.prototype.setGraphMgr.call(this,t),this.materialNode.setGraphMgr(t)},Cube.prototype.update=function(t,e){if(this.updateTransform){this.updateTransform=!1;var i=this.position.getValueDirect(),r=new Matrix4x4;r.loadTranslation(i.x,i.y,i.z);var o=this.rotation.getValueDirect(),n=new Matrix4x4;n.loadXYZAxisRotation(o.x,o.y,o.z);var a=this.scale.getValueDirect(),s=new Matrix4x4;s.loadScale(a.x,a.y,a.z),this.transform.loadMatrix(s.multiply(n.multiply(r)))}this.updateMaterial&&(this.updateMaterial=!1,this.materialNode.update(t,e)),this.updateTriList&&(this.updateTriList=!1,TriList.prototype.update.call(this,t,e))},Cube.prototype.apply=function(t,e,i){var r=this.show.getValueDirect(),o=this.enabled.getValueDirect();if(r&&o)switch(t){case"render":case"shadow":this.materialNode.apply(t,e,i),this.draw(e.dissolve)}},Cube.prototype.draw=function(){this.graphMgr.renderContext.setMatrixMode(RC_WORLD),this.graphMgr.renderContext.pushMatrix(),this.graphMgr.renderContext.leftMultMatrix(this.transform),this.graphMgr.renderContext.applyWorldTransform(),this.vertexBuffer.draw(),this.graphMgr.renderContext.setMatrixMode(RC_WORLD),this.graphMgr.renderContext.popMatrix(),this.graphMgr.renderContext.applyWorldTransform()},SnapConnector.prototype=new AttributeContainer,SnapConnector.prototype.constructor=SnapConnector,GenericConnector.prototype=new SnapConnector,GenericConnector.prototype.constructor=GenericConnector,GenericConnector.prototype.collides=function(t,e,i){return this.point.sphere.setTransform(e),t.point.sphere.setTransform(i),this.point.sphere.intersects(t.point.sphere)?1:0},GenericConnectors.prototype=new AttributeVector,GenericConnectors.prototype.constructor=GenericConnectors,GenericConnectors.prototype.get=function(t){for(var e=this.Size(),i=0;e>i;i++){var r=this.getAt(i);if(r.getAttribute("name").getValueDirect().join("")==t)return r}return null},GenericConnectorAllocator.prototype=new Allocator,GenericConnectorAllocator.prototype.constructor=GenericConnectorAllocator,GenericConnectorAllocator.prototype.allocate=function(){return new GenericConnector},SocketConnector.prototype=new SnapConnector,SocketConnector.prototype.constructor=SocketConnector,SocketConnectors.prototype=new AttributeVector,SocketConnectors.prototype.constructor=SocketConnectors,SocketConnectors.prototype.get=function(t){for(var e=this.Size(),i=0;e>i;i++){var r=this.getAt(i);if(r.getAttribute("name").getValueDirect().join("")==t)return r}return null},SocketConnectorAllocator.prototype=new Allocator,SocketConnectorAllocator.prototype.constructor=SocketConnectorAllocator,SocketConnectorAllocator.prototype.allocate=function(){return new SocketConnector},PlugConnector.prototype=new SnapConnector,PlugConnector.prototype.constructor=PlugConnector,PlugConnector.prototype.collides=function(t,e,i){return this.pin1.sphere.setTransform(e),t.slot1.sphere.setTransform(i),this.pin1.sphere.intersects(t.slot1.sphere)?1:(this.pin2.sphere.setTransform(e),t.slot2.sphere.setTransform(i),this.pin2.sphere.intersects(t.slot2.sphere)?2:0)},PlugConnectors.prototype=new AttributeVector,PlugConnectors.prototype.constructor=PlugConnectors,PlugConnectors.prototype.get=function(t){for(var e=this.Size(),i=0;e>i;i++){var r=this.getAt(i);if(r.getAttribute("name").getValueDirect().join("")==t)return r}return null},PlugConnectorAllocator.prototype=new Allocator,PlugConnectorAllocator.prototype.constructor=PlugConnectorAllocator,PlugConnectorAllocator.prototype.allocate=function(){return new PlugConnector},PhysicsSimulator.prototype=new Evaluator,PhysicsSimulator.prototype.constructor=PhysicsSimulator,PhysicsSimulator.prototype.evaluate=function(){for(var t=0;t<this.bodyModels.length;t++)switch(this.isSelected(this.bodyModels[t])){case 0:if(!this.bodyAdded[t]&&(this.bodyAdded[t]=!0,this.bodyModels[t].physicsEnabled.getValueDirect())){var e=this.gravity.getValueDirect(),i=new Ammo.btVector3(e.x,e.y,e.z);this.physicsBodies[t].setGravity(i),Ammo.destroy(i),this.updatePhysicsBodyPosition(t,!1)}break;case 1:var r=new Ammo.btVector3(0,0,0);this.physicsBodies[t].setGravity(r),Ammo.destroy(r),this.bodyAdded[t]=!1}var o=this.timeIncrement.getValueDirect()*this.timeScale.getValueDirect();this.stepSimulation(o);for(var n=new Ammo.btTransform,a=this.worldHalfExtents.getValueDirect(),s=[],t=0;t<this.physicsBodies.length;t++){var l=this.bodyModels[t].physicsEnabled.getValueDirect();if(this.bodyAdded[t]&&l){this.physicsBodies[t].getMotionState().getWorldTransform(n);var c=n.getOrigin(),h=new Vector3D(c.x(),c.y(),c.z()),u=n.getRotation(),d=new Quaternion;d.load(u.w(),u.x(),u.y(),u.z()),this.bodyModels[t].getAttribute("position").removeModifiedCB(PhysicsSimulator_ModelPositionModifiedCB,this),this.bodyModels[t].getAttribute("quaternion").removeModifiedCB(PhysicsSimulator_ModelQuaternionModifiedCB,this),this.bodyModels[t].getAttribute("position").setValueDirect(h.x,h.y,h.z),this.bodyModels[t].getAttribute("quaternion").setValueDirect(d),this.bodyModels[t].getAttribute("position").addModifiedCB(PhysicsSimulator_ModelPositionModifiedCB,this),this.bodyModels[t].getAttribute("quaternion").addModifiedCB(PhysicsSimulator_ModelQuaternionModifiedCB,this),(h.x<-a.x||h.x>a.x||h.y<-a.y||h.y>a.y||h.z<-a.z||h.z>a.z)&&s.push(this.bodyModels[t])}}Ammo.destroy(n);for(var t=0;t<s.length;t++)this.deletePhysicsBody(s[t])},PhysicsSimulator.prototype.update=function(){if(this.updateWorld&&(this.updateWorld=!1,this.updateBodies=!0,this.initPhysics()),this.updateBodies){this.updateBodies=!1,this.updatePhysicsBodies(),this.lastBodies=[];for(var t=0;t<this.bodies.Size();t++)this.lastBodies.push(this.bodies.getAt(t))}for(;this.updateBodyPositions.length>0;)this.updatePhysicsBodyPosition(this.updateBodyPositions[0])},PhysicsSimulator.prototype.stepSimulation=function(t,e){e=e||10,this.update(),this.world.stepSimulation(t,e)},PhysicsSimulator.prototype.isColliding=function(t){for(;t.motionParent;)t=t.motionParent;var e=this.getPhysicsBody(t);if(e)for(var i=this.world.getDispatcher().getNumManifolds(),r=0;i>r;r++){for(var o,n,a,s=this.world.getDispatcher().getManifoldByIndexInternal(r),l=s.getBody0(),c=s.getBody1(),h=s.getNumContacts(),u=0;h>u;u++){var d=s.getContactPoint(u),p=d.getPositionWorldOnA(),f=d.getPositionWorldOnB();o=new Vector3D(p.x(),p.y(),p.z()),n=new Vector3D(f.x(),f.y(),f.z()),a=Math.min(distanceBetween(new Vector3D(p.x(),p.y(),p.z()),new Vector3D(f.x(),f.y(),f.z()),a))}if(h>0){if(l.ptr==e.ptr){for(var _=null,u=0;u<this.physicsBodies.length;u++)if(c.ptr==this.physicsBodies[u].ptr){_=this.bodyModels[u];break}return{colliding:!0,collidee:_,collideePoint:o,distance:a}}if(c.ptr==e.ptr){for(var _=null,u=0;u<this.physicsBodies.length;u++)if(l.ptr==this.physicsBodies[u].ptr){_=this.bodyModels[u];break}return o.subtractVector(n),{colliding:!0,collidee:_,collideePoint:n,distance:a}}}}return{colliding:!1,vector:void 0}},PhysicsSimulator.prototype.getColliders=function(t){for(var e=[];t.motionParent;)t=t.motionParent;var i=this.getPhysicsBody(t);if(i)for(var r=this.world.getDispatcher().getNumManifolds(),o=0;r>o;o++){var n=this.world.getDispatcher().getManifoldByIndexInternal(o),a=n.getBody0(),s=n.getBody1(),l=n.getNumContacts();l>0&&(a.ptr==i.ptr?e.push(this.getBodyModel(s)):s.ptr==i.ptr&&e.push(this.getBodyModel(a)))}return e},PhysicsSimulator.prototype.getPhysicsBody=function(t){for(var e=0;e<this.bodyModels.length;e++)if(this.bodyModels[e]==t)return this.physicsBodies[e];return null},PhysicsSimulator.prototype.getPhysicsBodyIndex=function(t){return this.bodyModels.indexOf(t)},PhysicsSimulator.prototype.getBodyModel=function(t){for(var e=0;e<this.physicsBodies.length;e++)if(this.physicsBodies[e].ptr==t.ptr)return this.bodyModels[e];return null},PhysicsSimulator.prototype.isSelected=function(t){var e=t.getAttribute("selected").getValueDirect();if(!e)for(var i=0;i<t.motionChildren.length&&!e;i++)e=this.isSelected(t.motionChildren[i]);return e},PhysicsSimulator.prototype.updatePhysicsBodies=function(){var t,e=[];for(t=0;t<this.bodies.Size();t++){var i=this.bodies.getAt(t),r=this.lastBodies.indexOf(i);0>r&&e.push(i)}var o=[];for(t=0;t<this.lastBodies.length;t++){var i=this.lastBodies[t],r=this.bodies.indexOf(i);if(0>r)for(j=0;j<this.bodyModels.length;j++)if(this.bodyModels[j].name==i){o.push(this.bodyModels[j]);break}}for(t=0;t<o.length;t++)this.deletePhysicsBody(o[t]);for(var t=0;t<e.length;t++){var n=e[t].getValueDirect().join(""),a=this.registry.find(n);a&&this.createPhysicsBody(a)}},PhysicsSimulator.prototype.createPhysicsBody=function(t){if(t&&(t.getAttribute("vertices").addModifiedCB(PhysicsSimulator_ModelVerticesModifiedCB,this),t.getAttribute("position").addModifiedCB(PhysicsSimulator_ModelPositionModifiedCB,this),t.getAttribute("rotation").addModifiedCB(PhysicsSimulator_ModelRotationModifiedCB,this),t.getAttribute("quaternion").addModifiedCB(PhysicsSimulator_ModelQuaternionModifiedCB,this),t.getAttribute("scale").addModifiedCB(PhysicsSimulator_ModelScaleModifiedCB,this),t.getAttribute("parent").addModifiedCB(PhysicsSimulator_ModelParentModifiedCB,this),t.getAttribute("enabled").removeModifiedCB(PhysicsSimulator_ModelEnabledModifiedCB,this),t.getAttribute("enabled").addModifiedCB(PhysicsSimulator_ModelEnabledModifiedCB,this),t.getAttribute("physicalProperties").addModifiedCB(PhysicsSimulator_ModelPhysicalPropertiesModifiedCB,this),0!=t.getAttribute("enabled").getValueDirect()&&!t.motionParent)){var e=this.getCompoundShape(t),i=this.getNetProperties(t),r=new Ammo.btTransform;r.setIdentity();var o=t.getAttribute("position").getValueDirect();0==i.mass&&(o.y-=.075);var n=new Ammo.btVector3(o.x,o.y,o.z);r.setOrigin(n),Ammo.destroy(n);var a=t.getAttribute("quaternion").getValueDirect(),s=new Ammo.btQuaternion(a.x,a.y,a.z,a.w);r.setRotation(s),Ammo.destroy(s);var l=0!=i.mass,c=new Ammo.btVector3(0,0,0);l&&e.calculateLocalInertia(i.mass,c);var h=new Ammo.btDefaultMotionState(r);Ammo.destroy(r);var u=new Ammo.btRigidBodyConstructionInfo(i.mass,h,e,c);u.set_m_friction(i.friction),u.set_m_restitution(i.restitution),u.set_m_linearDamping(i.linearDamping),u.set_m_angularDamping(i.angularDamping),u.set_m_rollingFriction(i.rollingFriction),Ammo.destroy(c);var d=new Ammo.btRigidBody(u);Ammo.destroy(u),this.world.addRigidBody(d),this.bodyModels.push(t),this.physicsShapes.push(e),this.physicsBodies.push(d),this.bodyAdded.push(!0)}},PhysicsSimulator.prototype.deletePhysicsBodies=function(){for(;this.bodyModels.length>0;)this.deletePhysicsBody(this.bodyModels[0])},PhysicsSimulator.prototype.deletePhysicsBody=function(t){for(var e=0;e<this.bodyModels.length;e++)if(this.bodyModels[e]==t)return this.bodyModels[e].getAttribute("vertices").removeModifiedCB(PhysicsSimulator_ModelVerticesModifiedCB,this),this.bodyModels[e].getAttribute("position").removeModifiedCB(PhysicsSimulator_ModelPositionModifiedCB,this),this.bodyModels[e].getAttribute("rotation").removeModifiedCB(PhysicsSimulator_ModelRotationModifiedCB,this),this.bodyModels[e].getAttribute("quaternion").removeModifiedCB(PhysicsSimulator_ModelQuaternionModifiedCB,this),this.bodyModels[e].getAttribute("scale").removeModifiedCB(PhysicsSimulator_ModelScaleModifiedCB,this),this.bodyModels[e].getAttribute("parent").removeModifiedCB(PhysicsSimulator_ModelParentModifiedCB,this),this.world.removeRigidBody(this.physicsBodies[e]),Ammo.destroy(this.physicsShapes[e]),Ammo.destroy(this.physicsBodies[e].getMotionState()),Ammo.destroy(this.physicsBodies[e]),this.physicsBodies.splice(e,1),this.physicsShapes.splice(e,1),this.bodyModels.splice(e,1),void this.bodyAdded.splice(e,1)},PhysicsSimulator.prototype.getCompoundShape=function(t){var e=new Ammo.btCompoundShape,i=new Vector3D,r=new Vector3D,o=t.getAttribute("scale").getValueDirect();return this.addCollisionShape(t,i,r,o,e),e},PhysicsSimulator.prototype.addCollisionShape=function(t,e,i,r,o){this.getCollisionShape(t,e,i,r,o);for(var n=0;n<t.motionChildren.length;n++){var a=t.motionChildren[n],s=a.getAttribute("position").getValueDirect();s.x+=e.x,s.y+=e.y,s.z+=e.z;var l=a.getAttribute("rotation").getValueDirect();l.x+=i.x,l.y+=i.y,l.z+=i.z;var c=a.getAttribute("scale").getValueDirect();c.x*=r.x,c.y*=r.y,c.z*=r.z,this.addCollisionShape(a,s,l,c,o)}},PhysicsSimulator.prototype.getCollisionShape=function(t,e,i,r,o){switch(t.attrType){case eAttrType.Box:case eAttrType.Beam:case eAttrType.Plank:case eAttrType.Wall:shapes=this.getBoxCollisionShape(t,e,i,r,o);break;case eAttrType.Ball:shapes=this.getSphereCollisionShape(t,e,i,r,o);break;case eAttrType.SnapModel:case eAttrType.Model:default:shapes=this.getConvexCollisionShape(t,e,i,r,o)}},PhysicsSimulator.prototype.getConvexCollisionShape=function(t,e,i,r,o){for(var n=[],a=0;a<t.surfaces.length;a++){var s=t.surfaces[a].getAttribute("vertices").getValueDirect();if(0!=s.length){var l=new Matrix4x4;l.loadScale(r.x,r.y,r.z);for(var c=l,h=new Ammo.btConvexHullShape,u=0;u<s.length;u+=3){var d=c.transform(s[u],s[u+1],s[u+2],1),p=new Ammo.btVector3(d.x,d.y,d.z);h.addPoint(p),Ammo.destroy(p)}n.push(h)}}for(var a=0;a<n.length;a++){var f=new Ammo.btTransform;f.setIdentity();var _=new Ammo.btVector3(e.x,e.y,e.z);f.setOrigin(_),Ammo.destroy(_);var m=new Quaternion;m.loadXYZAxisRotation(i.x,i.y,i.z);var g=new Ammo.btQuaternion(m.x,m.y,m.z,m.w);f.setRotation(g),Ammo.destroy(g),o.addChildShape(f,n[a]),Ammo.destroy(f)}},PhysicsSimulator.prototype.getBoxCollisionShape=function(t,e,i,r,o){var n=[],a=t.bbox.min.getValueDirect(),s=t.bbox.max.getValueDirect(),l=new Ammo.btVector3((s.x-a.x)*r.x/2,(s.y-a.y)*r.y/2,(s.z-a.z)*r.z/2),c=new Ammo.btBoxShape(l);Ammo.destroy(l),n.push(c);for(var h=0;h<n.length;h++){var u=new Ammo.btTransform;u.setIdentity();var d=new Ammo.btVector3(e.x,e.y,e.z);u.setOrigin(d),Ammo.destroy(d);var p=new Quaternion;p.loadXYZAxisRotation(i.x,i.y,i.z);var f=new Ammo.btQuaternion(p.x,p.y,p.z,p.w);u.setRotation(f),Ammo.destroy(f),o.addChildShape(u,n[h]),Ammo.destroy(u)}},PhysicsSimulator.prototype.getSphereCollisionShape=function(t,e,i,r,o){var n=[],a=t.bbox.min.getValueDirect(),s=t.bbox.max.getValueDirect(),l=(s.x-a.x)*r.x/2,c=new Ammo.btSphereShape(l);n.push(c);for(var h=0;h<n.length;h++){var u=new Ammo.btTransform;u.setIdentity();var d=new Ammo.btVector3(e.x,e.y,e.z);u.setOrigin(d),Ammo.destroy(d);var p=new Quaternion;p.loadXYZAxisRotation(i.x,i.y,i.z);var f=new Ammo.btQuaternion(p.x,p.y,p.z,p.w);u.setRotation(f),Ammo.destroy(f),o.addChildShape(u,n[h]),Ammo.destroy(u)}},PhysicsSimulator.prototype.getNetProperties=function(t){for(var e=t.getAttribute("scale").getValueDirect(),i=(e.x+e.y+e.z)/3,r=t.getAttribute("physicalProperties"),o=r.getAttribute("mass").getValueDirect()*i,n=r.getAttribute("friction").getValueDirect(),a=r.getAttribute("restitution").getValueDirect(),s=r.getAttribute("linearDamping").getValueDirect(),l=r.getAttribute("angularDamping").getValueDirect(),c=r.getAttribute("rollingFriction").getValueDirect(),h=0;h<t.motionChildren.length;h++){var u=this.getNetProperties(t.motionChildren[h]);o+=u.mass,n+=u.friction,a+=u.restitution,s+=u.linearDamping,l+=u.angularDamping,c+=u.rollingFriction}return{mass:o,friction:n,restitution:a,linearDamping:s,angularDamping:l,rollingFriction:c}},PhysicsSimulator.prototype.updatePhysicsShape=function(t,e){var i=this.getPhysicsBodyIndex(t);if(-1!=i){var r=e||this.getCompoundShape(t),o=this.getNetProperties(t),n=0!=o.mass,a=new Ammo.btVector3(0,0,0);n&&r.calculateLocalInertia(o.mass,a);var s=this.physicsBodies[i].getMotionState(),l=new Ammo.btRigidBodyConstructionInfo(o.mass,s,r,a);l.set_m_friction(o.friction),l.set_m_restitution(o.restitution),l.set_m_linearDamping(o.linearDamping),l.set_m_angularDamping(o.angularDamping),l.set_m_rollingFriction(o.rollingFriction),Ammo.destroy(a);var c=new Ammo.btRigidBody(l);Ammo.destroy(l),this.world.removeRigidBody(this.physicsBodies[i]),Ammo.destroy(this.physicsBodies[i]),this.world.addRigidBody(c),this.physicsBodies[i]=c,this.physicsShapes[i]=r}},PhysicsSimulator.prototype.updatePhysicsBody=function(t){var e=this.bodyModels[t];if(e){var i=this.physicsBodies[t];if(i){var r=this.physicsShapes[t];if(r){var o=new Ammo.btTransform;o.setIdentity();var n=e.getAttribute("position").getValueDirect(),a=new Ammo.btVector3(n.x,n.y,n.z);o.setOrigin(a),Ammo.destroy(a);var s=getInspectionGroup(e);if(s){var l=s.getChild(2).getAttribute("rotationQuat").getValueDirect(),c=new Quaternion;c.load(l.w,l.x,l.y,l.z);var h=e.getAttribute("quaternion").getValueDirect(),u=new Quaternion;u.load(h.w,h.x,h.y,h.z);var d=u.multiply(c),p=new Ammo.btQuaternion(d.x,d.y,d.z,d.w);o.setRotation(p),Ammo.destroy(p)}this.world.removeRigidBody(i);var f=this.getNetProperties(e),_=0!=f.mass,m=new Ammo.btVector3(0,0,0);_&&r.calculateLocalInertia(f.mass,m);var g=new Ammo.btDefaultMotionState(o);Ammo.destroy(o);var y=new Ammo.btRigidBodyConstructionInfo(f.mass,g,r,m);y.set_m_friction(f.friction),y.set_m_restitution(f.restitution),y.set_m_linearDamping(f.linearDamping),y.set_m_angularDamping(f.angularDamping),y.set_m_rollingFriction(f.rollingFriction),Ammo.destroy(m);var i=new Ammo.btRigidBody(y);Ammo.destroy(y),this.world.addRigidBody(i),this.physicsBodies[t]=i}}}},PhysicsSimulator.prototype.updatePhysicsBodyPosition=function(t,e){var i=this.updateBodyPositions.indexOf(t);i>=0&&this.updateBodyPositions.splice(i,1);var r=this.bodyModels[t];if(r){var o=this.physicsBodies[t];if(o){var n=new Ammo.btTransform;n.setIdentity();var a=r.getAttribute("position").getValueDirect(),s=new Ammo.btVector3(a.x,a.y,a.z);n.setOrigin(s),Ammo.destroy(s);var l=getInspectionGroup(r);if(l){var c=l.getChild(2).getAttribute("rotationQuat").getValueDirect(),h=new Quaternion;h.load(c.w,c.x,c.y,c.z);var u=r.getAttribute("quaternion").getValueDirect(),d=new Quaternion;d.load(u.w,u.x,u.y,u.z);var p=d.multiply(h),f=new Ammo.btQuaternion(p.x,p.y,p.z,p.w);n.setRotation(f),Ammo.destroy(f),e||l.getChild(2).getAttribute("rotationQuat").setValueDirect(new Quaternion)}o.setWorldTransform(n),o.getMotionState().setWorldTransform(n),o.activate(!0),Ammo.destroy(n)}}},PhysicsSimulator.prototype.initPhysics=function(){this.collisionConfiguration&&Ammo.destroy(this.collisionConfiguration),this.dispatcher&&Ammo.destroy(this.dispatcher),this.overlappingPairCache&&Ammo.destroy(this.overlappingPairCache),this.solver&&Ammo.destroy(this.solver),this.collisionConfiguration=new Ammo.btDefaultCollisionConfiguration,this.dispatcher=new Ammo.btCollisionDispatcher(this.collisionConfiguration),this.overlappingPairCache=new Ammo.btDbvtBroadphase,this.solver=new Ammo.btSequentialImpulseConstraintSolver,this.world=new Ammo.btDiscreteDynamicsWorld(this.dispatcher,this.overlappingPairCache,this.solver,this.collisionConfiguration);var t=this.gravity.getValueDirect();t=new Ammo.btVector3(t.x,t.y,t.z),this.world.setGravity(t),Ammo.destroy(t)},PhysicsSimulator.prototype.bodiesModified=function(){this.updateBodies=!0},PhysicsSimulator.prototype.modelEnabledModified=function(t,e){e?(this.deletePhysicsBody(t),this.createPhysicsBody(t)):this.deletePhysicsBody(t)},PhysicsSimulator.prototype.modelPhysicalPropertiesModified=function(t){var e=this.getPhysicsBodyIndex(t);-1!=e&&this.updatePhysicsShape(t,this.physicsShapes[e])},SnapModelDescriptor.prototype=new AttributeContainer,SnapModelDescriptor.prototype.constructor=SnapModelDescriptor,SnapModelDescriptors.prototype=new AttributeVector,SnapModelDescriptors.prototype.constructor=SnapModelDescriptors,SnapModelDescriptorAllocator.prototype=new Allocator,SnapModelDescriptorAllocator.prototype.constructor=SnapModelDescriptorAllocator,SnapModelDescriptorAllocator.prototype.allocate=function(){return new SnapModelDescriptor},SnapModel.prototype=new Model,SnapModel.prototype.constructor=SnapModel,SnapModel.prototype.snap=function(t,e){var i,r,o,n,a,s,l,c,h,u,d,p,f=new SnapRec;f.model=t,f.matrix=e,t.enabled.setValueDirect(!1);var _=t.surfaces;for(i=0;i<_.length;i++){var m=_[i].clone();for(this.addSurface(m),m.snappedModel=t,f.surfaces.push(m),m.enabled.setValueDirect(!0),m.color.addTarget(_[i].color,eAttrSetOp.Replace,null,!1),m.ambientLevel.addTarget(_[i].ambientLevel,eAttrSetOp.Replace,null,!1),m.diffuseLevel.addTarget(_[i].diffuseLevel,eAttrSetOp.Replace,null,!1),m.specularLevel.addTarget(_[i].specularLevel,eAttrSetOp.Replace,null,!1),m.emissiveLevel.addTarget(_[i].emissiveLevel,eAttrSetOp.Replace,null,!1),m.ambient.addTarget(_[i].ambient,eAttrSetOp.Replace,null,!1),m.diffuse.addTarget(_[i].diffuse,eAttrSetOp.Replace,null,!1),m.specular.addTarget(_[i].specular,eAttrSetOp.Replace,null,!1),m.emissive.addTarget(_[i].emissive,eAttrSetOp.Replace,null,!1),m.glossiness.addTarget(_[i].glossiness,eAttrSetOp.Replace,null,!1),m.opacity.addTarget(_[i].opacity,eAttrSetOp.Replace,null,!1),m.doubleSided.addTarget(_[i].doubleSided,eAttrSetOp.Replace,null,!1),m.texturesEnabled.addTarget(_[i].texturesEnabled,eAttrSetOp.Replace,null,!1),a=[],n=m.getAttribute("vertices").getValueDirect(),r=0;r<n.length;r+=3)s=e.transform(n[r],n[r+1],n[r+2],1),a.push(s.x),a.push(s.y),a.push(s.z);m.getAttribute("vertices").setValueDirect(a);var g=_[i].geometries;for(r=0;r<g.length;r++){var y=g[r].clone();for(y.surface=m,a=[],n=y.getAttribute("vertices").getValueDirect(),o=0;o<n.length;o+=3)s=e.transform(n[o],n[o+1],n[o+2],1),a.push(s.x),a.push(s.y),a.push(s.z);for(y.getAttribute("vertices").setValueDirect(a),c=[],l=y.getAttribute("normals").getValueDirect(),o=0;o<l.length;o+=3)u=e.transform(l[o],l[o+1],l[o+2],0),c.push(u.x),c.push(u.y),c.push(u.z);y.getAttribute("normals").setValueDirect(c),this.addGeometry(y,null,m),f.geometries.push(y)}}for(a=[],n=t.vertices.getValueDirect(),i=0;i<n.length;i+=3)s=e.transform(n[i],n[i+1],n[i+2],1),a.push(s.x),a.push(s.y),a.push(s.z);n=this.vertices.getValueDirect(),f.vertices_start=n.length,f.vertices_count=a.length,n=n.concat(a),this.vertices.setValueDirect(n);var b=t.genericConnectors;for(i=0;i<b.Size();i++){var v=b.getAt(i),M=new GenericConnector;M.synchronize(v),h=M.normal.getValueDirect(),u=e.transform(h.x,h.y,h.z,0),M.normal.setValueDirect(u.x,u.y,u.z),d=M.point.center.getValueDirect(),p=e.transform(d.x,d.y,d.z,1),M.point.center.setValueDirect(p.x,p.y,p.z),this.genericConnectors.push_back(M),f.genericConnectors.push(M)
}var S=t.plugConnectors;for(i=0;i<S.Size();i++){var T=S.getAt(i),x=new PlugConnector;x.synchronize(T),h=M.normal.getValueDirect(),u=e.transform(h.x,h.y,h.z,0),M.normal.setValueDirect(u.x,u.y,u.z),d=x.pin1.center.getValueDirect(),p=e.transform(d.x,d.y,d.z,1),x.pin1.center.setValueDirect(p.x,p.y,p.z),d=x.pin2.center.getValueDirect(),p=e.transform(d.x,d.y,d.z,1),x.pin2.center.setValueDirect(p.x,p.y,p.z),this.plugConnectors.push_back(x),f.plugConnectors.push(x)}var C=t.socketConnectors;for(i=0;i<C.Size();i++){var E=C.getAt(i),A=new SocketConnector;A.synchronize(E),h=M.normal.getValueDirect(),u=e.transform(h.x,h.y,h.z,0),M.normal.setValueDirect(u.x,u.y,u.z),d=A.slot1.center.getValueDirect(),p=e.transform(d.x,d.y,d.z,1),A.slot1.center.setValueDirect(p.x,p.y,p.z),d=A.slot2.center.getValueDirect(),p=e.transform(d.x,d.y,d.z,1),A.slot2.center.setValueDirect(p.x,p.y,p.z),this.socketConnectors.push_back(A),f.socketConnectors.push(A)}this.snaps[t.__nodeId__]=f},SnapModel.prototype.unsnap=function(t){var e,i=this.snaps[t.__nodeId__];if(i){for(e=0;e<i.surfaces.length;e++){var r=i.surfaces[e];r.color.removeTarget(t.surfaces[e].color),r.ambientLevel.removeTarget(t.surfaces[e].ambientLevel),r.diffuseLevel.removeTarget(t.surfaces[e].diffuseLevel),r.specularLevel.removeTarget(t.surfaces[e].specularLevel),r.emissiveLevel.removeTarget(t.surfaces[e].emissiveLevel),r.ambient.removeTarget(t.surfaces[e].ambient),r.diffuse.removeTarget(t.surfaces[e].diffuse),r.specular.removeTarget(t.surfaces[e].specular),r.emissive.removeTarget(t.surfaces[e].emissive),r.glossiness.removeTarget(t.surfaces[e].glossiness),r.opacity.removeTarget(t.surfaces[e].opacity),r.doubleSided.removeTarget(t.surfaces[e].doubleSided),r.texturesEnabled.removeTarget(t.surfaces[e].texturesEnabled),this.removeSurface(r)}for(e=0;e<i.geometries.length;e++)this.removeGeometry(i.geometries[e],null,i.geometries[e].surface);var o=this.vertices.getValueDirect();for(o.splice(i.vertices_start,i.vertices_count),this.vertices.setValueDirect(o),e=0;e<i.genericConnectors.length;e++)this.genericConnectors.erase(i.genericConnectors[e]);for(e=0;e<i.plugConnectors.length;e++)this.plugConnectors.erase(i.plugConnectors[e]);for(e=0;e<i.socketConnectors.length;e++)this.socketConnectors.erase(i.socketConnectors[e]);var n=t.genericConnectors;for(e=0;e<n.Size();e++)n.getAt(e).getAttribute("connected").setValueDirect(!1);var a=t.plugConnectors;for(e=0;e<a.Size();e++)a.getAt(e).getAttribute("connected").setValueDirect(!1);var s=t.socketConnectors;for(e=0;e<s.Size();e++)s.getAt(e).getAttribute("connected").setValueDirect(!1);var l=i.matrix,c=l.transform(0,0,0,1);t.position.setValueDirect(c.x,c.y,c.z);var h=l.getRotationAngles();t.rotation.setValueDirect(h.x,h.y,h.z),t.setMotionParent(this),zeroInspectionGroup(t),t.updateSimpleTransform(),t.updateCompoundTransform(),t.setMotionParent(null),l=t.sectorTransformCompound,c=l.transform(0,0,0,1),t.position.setValueDirect(c.x,c.y,c.z);var u=l.getQuaternion();t.quaternion.setValueDirect(u),t.enabled.setValueDirect(!0),this.snaps[t.__nodeId__]=void 0}},SnapModel.prototype.unsnapAll=function(){var t=[],e=this.snaps.slice();for(var i in e)this.unsnap(e[i].model),t.push(e[i].model);return this.getParent(0).removeChild(this),this.registry.unregister(this),t},SnapModel.prototype.getSnapped=function(){var t,e=new SnapModelDescriptors;for(t in this.snaps){var i=this.snaps[t],r=i.model,o=i.matrix,n=o.transform(0,0,0,1);r.position.setValueDirect(n.x,n.y,n.z);var a=o.getRotationAngles();r.rotation.setValueDirect(a.x,a.y,a.z),r.setMotionParent(this),zeroInspectionGroup(r),r.updateSimpleTransform(),r.updateCompoundTransform(),r.setMotionParent(null),o=r.sectorTransformCompound,n=o.transform(0,0,0,1);var s=o.getQuaternion(),l=new SnapModelDescriptor;l.name.copyValue(r.name),l.position.setValueDirect(n.x,n.y,n.z),l.quaternion.setValueDirect(s),e.push_back(l)}return e},SnapModel.prototype.apply=function(t,e,i){Model.prototype.apply.call(this,t,e,i)},SnapModel.prototype.connectSurfaceAttribute=function(t,e,i){e.addTarget(t.getAttribute(i),eAttrSetOp.Replace,null,!1)},Animator.prototype=new Evaluator,Animator.prototype.constructor=Animator,Animator.prototype.evaluate=function(){},Animator.prototype.targetModified=function(t){this.targetObject=t},Spinner.prototype=new Animator,Spinner.prototype.constructor=Spinner,Spinner.prototype.evaluate=function(){if(this.targetObject){var t=this.timeIncrement.getValueDirect(),e=(this.targetObject.angularVelocity.getValueDirect(),this.axisEndpoint.getValueDirect()),i=new Vector3D(e.x-this.targetCenter.x,e.y-this.targetCenter.y,e.z-this.targetCenter.z),r=new Quaternion;r.loadXYZAxisRotation(i.x,i.y,i.z,this.angularVelocity.getValueDirect()*t);var o=this.targetObject.quaternion.getValueDirect();o=r.multiply(o),this.targetObject.quaternion.setValueDirect(o)}},Spinner.prototype.targetModified=function(t){this.targetObject=t,t&&(this.targetCenter=t.center.getValueDirect())},Ball.prototype=new Model,Ball.prototype.constructor=Ball,Beam.prototype=new Model,Beam.prototype.constructor=Beam,Box.prototype=new Model,Box.prototype.constructor=Box,Elbow.prototype=new Model,Elbow.prototype.constructor=Elbow,Gear.prototype=new Model,Gear.prototype.constructor=Gear,Plank.prototype=new Model,Plank.prototype.constructor=Plank,Pyramid.prototype=new Model,Pyramid.prototype.constructor=Pyramid,Ring.prototype=new Model,Ring.prototype.constructor=Ring,Tube.prototype=new Model,Tube.prototype.constructor=Tube,Wall.prototype=new Model,Wall.prototype.constructor=Wall,Wedge.prototype=new Model,Wedge.prototype.constructor=Wedge;var eEventType={Unknown:-1,Render_First:0,RenderBegin:1,RenderEnd:2,Render_End:9,Mouse_First:100,MouseMove:101,MouseDown:102,MouseLeftDown:103,MouseMiddleDown:104,MouseRightDown:105,MouseAllDown:106,MouseBothDown:107,MouseWheelDown:108,MouseUp:109,MouseLeftUp:110,MouseRightUp:111,MouseMiddleUp:112,MouseWheelUp:113,MouseLeftClick:114,MouseMiddleClick:115,MouseRightClick:116,MouseLeftDblClick:117,MouseMiddleDblClick:118,MouseRightDblClick:119,MouseDrag:120,MouseWheelForward:121,MouseWheelBackward:122,MouseHover:123,MouseLeave:124,MouseOver:125,MouseOut:126,Mouse_Last:199,Key_First:200,KeyDown_First:201,KeyDown_Last:500,KeyUp_First:501,KeyUp_Last:798,Key_Last:799,Element_First:800,ElementSelected:801,ElementUnselected:802,ElementFocus:803,ElementBlur:804,Element_Last:899,UserDefined:2e3},eEventNameMap={MButton1:eEventType.MouseLeftDown,"MButton1.Down":eEventType.MouseLeftDown,MButton2:eEventType.MouseMiddleDown,"MButton2.Down":eEventType.MouseMiddleDown,MButton3:eEventType.MouseRightDown,"MButton3.Down":eEventType.MouseRightDown,"MButton1+MButton2.Down":eEventType.MouseBothDown,"MButton2+MButton3.Down":eEventType.MouseBothDown,"MButton1+MButton3.Down":eEventType.MouseBothDown,"MButton1.Click":eEventType.MouseLeftClick,"MButton1.DoubleClick":eEventType.MouseLeftDblClick,"MButton1.Up":eEventType.MouseLeftUp,"MButton2.Click":eEventType.MouseMiddleClick,"MButton2.DoubleClick":eEventType.MouseMiddleDblClick,"MButton2.Up":eEventType.MouseMiddleUp,"MButton3.Click":eEventType.MouseRightClick,"MButton3.DoubleClick":eEventType.MouseRightDblClick,"MButton3.Up":eEventType.MouseRightUp,MWheel:eEventType.MouseWheelDown,"MWheel.Down":eEventType.MouseWheelDown,"MWheel.Click":eEventType.MouseWheelUp,"MWheel.Up":eEventType.MouseWheelUp,"Mouse.Move":eEventType.MouseMove,"Mouse.Hover":eEventType.MouseHover,"Mouse.Leave":eEventType.MouseLeave,"Mouse.Over":eEventType.MouseOver,"Mouse.Out":eEventType.MouseOut,"Element.Selected":eEventType.ElementSelected,"Element.Unselected":eEventType.ElementUnselected,"Element.Focus":eEventType.ElementFocus,"Element.Blur":eEventType.ElementBlur},eKeyCodeMap={VK_BACK:8,VK_TAB:9,VK_ENTER:13,VK_SHIFT:16,VK_CONTROL:17,VK_ALT:18,VK_PAUSE:19,VK_CAPITAL:20,VK_ESCAPE:27,VK_PAGEUP:33,VK_PAGEDOWN:34,VK_END:35,VK_HOME:36,VK_LEFT:37,VK_UP:38,VK_RIGHT:39,VK_DOWN:40,VK_INSERT:45,VK_DELETE:46,VK_0:48,VK_1:49,VK_2:50,VK_3:51,VK_4:52,VK_5:53,VK_6:54,VK_7:55,VK_8:56,VK_9:57,VK_A:65,VK_B:66,VK_C:67,VK_D:68,VK_E:69,VK_F:70,VK_G:71,VK_H:72,VK_I:73,VK_J:74,VK_K:75,VK_L:76,VK_M:77,VK_N:78,VK_O:79,VK_P:80,VK_Q:81,VK_R:82,VK_S:83,VK_T:84,VK_U:85,VK_V:86,VK_W:87,VK_X:88,VK_Y:89,VK_Z:90,VK_COMMA:189,VK_PERIOD:190,VK_SLASH:191};Event.prototype=new AttributeContainer,Event.prototype.constructor=Event,Event.prototype.synchronize=function(t){this.type=t.type,this.time=t.time,this.userData=t.userData},InputEvent.prototype=new Event,InputEvent.prototype.constructor=InputEvent,InputEvent.prototype.synchronize=function(t){this.inputId=t.inputId,this.modifiers=t.modifiers,this.state=t.state,Event.prototype.synchronize.call(this,t)};var MOUSEEVENT_LEFT_BUTTON=1,MOUSEEVENT_MIDDLE_BUTTON=2,MOUSEEVENT_RIGHT_BUTTON=4;MouseEvent.prototype=new InputEvent,MouseEvent.prototype.constructor=MouseEvent,KeyboardEvent.prototype=new InputEvent,KeyboardEvent.prototype.constructor=KeyboardEvent,EventAdapter.prototype=new AttributeContainer,EventAdapter.prototype.constructor=EventAdapter,EventAdapter.prototype.createKeyboardEvent=function(t,e){var i=new Date,r=eEventType.Unknown,o=i.getTime(),n=t.keyCode,a=0,s=0,e=e||t.type;switch(e){case"keydown":r=eEventType.KeyDown_First+n;break;case"keypress":r=eEventType.KeyDown_First+n-32;break;case"keyup":r=eEventType.KeyUp_First+n}var l=new KeyboardEvent(r,o,n,a,s);return l},EventAdapter.prototype.createMouseEvent=function(t){var e=new Date,i=eEventType.Unknown,r=e.getTime(),o=0,n=0,a=0,s=t.canvasX,l=t.canvasY;switch(t.type){case"click":switch(t.button){case 0:i=eEventType.MouseLeftClick;break;case 1:i=eEventType.MouseMiddleDown;break;case 2:i=eEventType.MouseRightClick}break;case"dblclick":switch(t.button){case 0:i=eEventType.MouseLeftDblClick;break;case 1:i=eEventType.MouseMiddleDblClick;break;case 2:i=eEventType.MouseRightDblClick}break;case"mousedown":switch(t.button){case 0:i=this.mouseState.rightButtonDown?eEventType.MouseBothDown:eEventType.MouseLeftDown,this.mouseState.leftButtonDown=!0;break;case 1:i=eEventType.MouseMiddleDown,this.mouseState.middleButtonDown=!0;break;case 2:i=this.mouseState.leftButtonDown?eEventType.MouseBothDown:eEventType.MouseRightDown,this.mouseState.rightButtonDown=!0}break;case"mouseup":switch(t.button){case 0:i=eEventType.MouseLeftUp,this.mouseState.leftButtonDown=!1;break;case 1:i=eEventType.MouseMiddleUp,this.mouseState.middleButtonDown=!1;break;case 2:i=eEventType.MouseRightUp,this.mouseState.rightButtonDown=!1}break;case"mousemove":i=eEventType.MouseMove;break;case"mousewheel":i=eEventType.MouseWheelBackward;break;default:i=eEventType.UserDefined}this.mouseState.leftButtonDown&&(o|=MOUSEEVENT_LEFT_BUTTON),this.mouseState.middleButtonDown&&(o|=MOUSEEVENT_MIDDLE_BUTTON),this.mouseState.rightButtonDown&&(o|=MOUSEEVENT_RIGHT_BUTTON);var c=new MouseEvent(i,r,o,n,a,s,l);return c},EventListener.prototype=new Agent,EventListener.prototype.constructor=EventListener,EventListener.prototype.addEventType=function(t){this.events.push(t);var e=this.event.getValueDirect().join(""),i=new StringAttr(e);i.flagDeserializedFromXML(),this.events.push(i),this.registerAttribute(i,"event")},EventListener.prototype.getEventTypes=function(){return this.events},EventListener.prototype.eventPerformed=function(){var t=this.numResponses.getValueDirect();t>0&&this.numResponses.setValueDirect(t-1)},EventListener.prototype.getTrigger=function(){this.trigger},EventListener.prototype.setTrigger=function(t){t&&(this.trigger=t)},EventMgr.prototype=new AttributeContainer,EventMgr.prototype.constructor=EventMgr,EventMgr.prototype.addListener=function(t,e){void 0==this.listeners[t]&&(this.listeners[t]=[]),-1==this.listeners[t].indexOf(e)&&this.listeners[t].push(e)},EventMgr.prototype.removeListener=function(t,e){this.listeners[t]&&this.listeners[t].splice(this.listeners[t].indexOf(e),1)},EventMgr.prototype.processEvent=function(t){var e=t.type,i=[];if(this.listeners[e])for(var r=0;r<this.listeners[e].length;r++){this.listeners[e][r].eventPerformed(t);var o=this.listeners[e][r].getAttribute("numResponses");o&&0==o.getValueDirect()&&i.push(this.listeners[e][r])}for(var r=0;r<i.length;r++)this.removeListener(e,i[r]),this.registry.unregister(i[r])},EventMgr.prototype.clearEvents=function(){this.listeners.length=0},DeviceHandler.prototype=new EventListener,DeviceHandler.prototype.constructor=DeviceHandler,DeviceHandler.prototype.eventPerformed=function(t){this.inputMessage.setValueDirect(t.type),this.inputId.setValueDirect(t.inputId),this.inputState.setValueDirect(t.state),this.inputModifier.setValueDirect(t.modifiers)},MouseHandler.prototype=new DeviceHandler,MouseHandler.prototype.constructor=MouseHandler,MouseHandler.prototype.eventPerformed=function(t){var e=t.x,i=t.y;switch(t.type){case eEventType.MouseMove:break;default:this.lastX=e,this.lastY=i}this.x.setValueDirect(e),this.y.setValueDirect(i),this.deltaX.setValueDirect(this.lastX-e),this.deltaY.setValueDirect(this.lastY-i),this.delta.setValueDirect(this.lastX-e,this.lastY-i),this.lastX=e,this.lastY=i,DeviceHandler.prototype.eventPerformed.call(this,t),this.deltaX.setValueDirect(0),this.deltaY.setValueDirect(0),this.delta.setValueDirect(0,0)},KeyboardHandler.prototype=new DeviceHandler,KeyboardHandler.prototype.constructor=KeyboardHandler,KeyboardHandler.prototype.eventPerformed=function(){},Command.prototype=new EventListener,Command.prototype.constructor=Command,Command.prototype.finalize=function(){},Command.prototype.eventPerformed=function(t){1==this.listen.getValueDirect()&&this.execute(),EventListener.prototype.eventPerformed.call(this,t)},Command.prototype.isBorrowed=function(t){for(var e=0;e<this.borrowedAttributes.length;e++)if(t==this.borrowedAttributes[e])return!0;return!1},Command.prototype.isBorrowedAndValueModified=function(t){if(this.isBorrowed(t))for(var e=0;e<this.attributeValuePairs.length;e++)if(t==this.attributeValuePairs[e].first)return{borrowed:!0,value:this.attributeValuePairs[e].second};return{borrowed:!1,value:null}},Command.prototype.isBorrowedAndReferenceModified=function(t){if(this.isBorrowed(t))for(var e=0;e<this.attributeRefPairs.length;e++)if(t==this.attributeRefPairs[e].second)return{borrowed:!0,reference:this.attributeRefPairs[e].first};return{borrowed:!1,reference:null}},AppendNodeCommand.prototype=new Command,AppendNodeCommand.prototype.constructor=AppendNodeCommand,AppendNodeCommand.prototype.execute=function(){this.parentNode&&this.childNode&&this.parentNode.addChild(this.childNode)},SetCommand.prototype=new Command,SetCommand.prototype.constructor=SetCommand,SetCommand.prototype.onUnregister=function(){for(var t=0;t<this.borrowedAttributes.length;t++)this.unregisterAttribute(this.borrowedAttributes[t])},SetCommand.prototype.execute=function(){this.applyAttributeValues()},SetCommand.prototype.applyAttributeValues=function(){for(var t=0;t<this.attributeValuePairs.length;t++)setAttributeValue(this.attributeValuePairs[t].first,this.attributeValuePairs[t].second)},SetCommand.prototype.registerTargetAttributes=function(t,e){for(var i,r=t.getAttributeCount(),o=0;r>o;o++){var n=t.getAttributeAt(o),a=t.getAttributeNameAt(o);null!=(i=this.getAttribute(a))?(sName=e+"_",sName+=a):sName=a,this.registerAttribute(n,sName),this.borrowedAttributes.push(n)}};var gConnectionHelpers=[];ConnectAttributesCommand.prototype=new Command,ConnectAttributesCommand.prototype.constructor=ConnectAttributesCommand,ConnectAttributesCommand.prototype.finalize=function(){for(var t=0;t<this.connections.length()-2;t++){var e=this.connections.getAt(t);if(e.sourceAttribute&&e.targetAttribute){var i=new StringAttr(e.sourceAttributeName);i.flagDeserializedFromXML(),this.registerAttribute(i,"sourceAttribute");var r=new StringAttr(e.targetAttributeName);r.flagDeserializedFromXML(),this.registerAttribute(r,"targetAttribute")}}Command.prototype.finalize.call(this)},ConnectAttributesCommand.prototype.eventPerformed=function(t){Command.prototype.eventPerformed.call(this,t)},ConnectAttributesCommand.prototype.execute=function(){var t=this.connections.top(),e=this.persist.getValueDirect(),i=null;if(t.sourceContainer&&t.sourceContainer.attrType>=eAttrType.Evaluator&&t.sourceContainer.attrType<=eAttrType.Evaluator_End&&(i=t.sourceContainer),0==this.negate.getValueDirect())this.connectionHelper.first?(this.connectionHelper.first(t.sourceContainer,t.targetContainer),!e&&this.connectionHelper.second&&(i&&i.evalute(),this.connectionHelper.second(t.sourceContainer,t.targetContainer))):(this.addOrRemoveTargets(!0),e||(i&&i.evalute(),this.addOrRemoveTargets(!1)));else if(this.connectionHelper.second){var t=this.connections.top();this.connectionHelper.second(t.sourceContainer,t.targetContainer),i&&i.evalute()}else this.addOrRemoveTargets(!1),i&&i.evalute()},ConnectAttributesCommand.prototype.addOrRemoveTargets=function(t){for(var e=0;e<this.connections.length();e++){var i=this.connections.getAt(e);if(i.sourceAttribute&&i.targetAttribute){i.sourceAttribute.removeElementTarget(i.targetAttribute,i.sourceIndex,i.targetIndex),t&&i.sourceAttribute.addElementTarget(i.targetAttribute,i.sourceIndex,i.targetIndex);var r=i.sourceAttribute.getContainer();if(r){var o=r.getAttribute("screenPosition");if(o&&o==i.sourceAttribute){var n=r.getAttribute("autoDisplayList");n&&n.setValueDirect(!1);var a=r.getAttribute("enableDisplayList");a&&a.setValueDirect(!1)}}}}},AutoInterpolateCommand.prototype=new Command,AutoInterpolateCommand.prototype.constructor=AutoInterpolateCommand,AutoInterpolateCommand.prototype.execute=function(){this.buildMotion(),this.kfi&&(this.kfi.getAttribute("time").setValueDirect(0),this.kfi.getAttribute("enabled").setValueDirect(!0))},AutoInterpolateCommand.prototype.buildMotion=function(){var t=this.registry.find("AttributeFactory");if(this.kfi=t.create("KeyframeInterpolator"),this.kfi){this.kfi.getAttribute("enabled").setValueDirect(!1),this.kfi.getAttribute("renderAndRelease").copyValue(this.renderAndRelease);var e=this.name.getValueDirect().join("");e+="_AutoInterpolator",this.kfi.getAttribute("name").setValueDirect(e);for(var i=0;i<this.attributeValuePairs.length;i++)this.numValueChannels+=this.attributeValuePairs[i].first.getLength();for(var i=0;i<this.attributeRefPairs.length;i++)this.numReferenceChannels+=this.attributeRefPairs[i].first.getLength();this.numChannels=this.numValueChannels+this.numReferenceChannels,this.kfi.setNumChannels(this.numChannels);for(var r=this.preBehavior.getValueDirect(),o=this.postBehavior.getValueDirect(),i=0;i<this.numChannels;i++)this.kfi.getAttribute("preBehaviors").getAt(i).setValueDirect(r),this.kfi.getAttribute("postBehaviors").getAt(i).setValueDirect(o);this.applyAttributeValues(),this.applyAttributeRefs()}},AutoInterpolateCommand.prototype.applyAttributeValues=function(){var t,e,i;for(t=0,i=0;i<this.attributeValuePairs.length;i++){var r=this.attributeValuePairs[i].first,o=this.attributeValuePairs[i].second;for(e=0;e<r.getLength();e++){var n=this.kfi.getAttribute("channels").getAt(t+e),a=new KeyframeAttr,s=new KeyframeAttr;a.getAttribute("time").setValueDirect(0),s.getAttribute("time").setValueDirect(this.duration.getValueDirect()),a.getAttribute("shape").setValueDirect(this.shape.getValueDirect()),s.getAttribute("shape").setValueDirect(this.shape.getValueDirect());var l=parseFloat(r.getElement(e)),c=parseFloat(r.getLength()>1?o[e]:o);if(this.isAttributeRotational(r)){var h=this.shortestPath(l,c);l=h.start,c=h.end}a.getAttribute("value").setValueDirect(l),s.getAttribute("value").setValueDirect(c),n.push_back(a),n.push_back(s),this.kfi.getAttribute("resultValues").getAt(t+e).addElementTarget(r,0,e)}t+=e}},AutoInterpolateCommand.prototype.applyAttributeRefs=function(){var t,e,i;for(t=0,i=0;i<this.attributeRefPairs.length;i++){var r=this.attributeRefPairs[i].first,o=this.attributeRefPairs[i].second;for(e=0;e<o.getLength();e++){var n=this.kfi.getAttribute("channels").getAt(t+e),a=new KeyframeAttr,s=new KeyframeAttr;a.getAttribute("time").setValueDirect(0),s.getAttribute("time").setValueDirect(this.duration.getValueDirect()),a.getAttribute("shape").setValueDirect(this.shape.getValueDirect()),s.getAttribute("shape").setValueDirect(this.shape.getValueDirect());var l=parseFloat(o.getElement(e)),c=parseFloat(r.getElement(e));if(this.isAttributeRotational(o)){var h=this.shortestPath(l,c);l=h.start,c=h.end}a.getAttribute("value").setValueDirect(l),s.getAttribute("value").setValueDirect(c),n.push_back(a),n.push_back(s),this.kfi.getAttribute("resultValues").getAt(t+e).addElementTarget(o,0,e)}t+=e}},AutoInterpolateCommand.prototype.registerTargetAttributes=function(t,e){for(var i,r=t.getAttributeCount(),o=0;r>o;o++){var n=t.getAttributeAt(o),a=t.getAttributeNameAt(o);null!=(i=this.getAttribute(a))?(sName=e+"_",sName+=a):sName=a,this.registerAttribute(n,sName),this.borrowedAttributes.push(n)}},AutoInterpolateCommand.prototype.isAttributeRotational=function(t){var e=t.getContainer();if(e){var i=e.getAttributeName(t);if(i&&("rotation"==i||"angle"==i))return!0}return!1},AutoInterpolateCommand.prototype.shortestPath=function(t,e){var i=degreeNormalize(t),r=degreeNormalize(e),o=r-i;if(180>=o&&o>=-180)return{start:t,end:e};var n=0;return n=o>180?360-o:360+o,t=i,e=r>i?i-n:i+n,{start:t,end:e}},MotionInterpolateCommand.prototype=new AutoInterpolateCommand,MotionInterpolateCommand.prototype.constructor=MotionInterpolateCommand,MotionInterpolateCommand.prototype.execute=function(){AutoInterpolateCommand.prototype.execute.call(this)},MotionInterpolateCommand.prototype.buildMotion=function(){var t=this.registry.find("AttributeFactory");if(this.kfi=t.create("KeyframeInterpolator"),this.kfi){this.kfi.getAttribute("enabled").setValueDirect(!1),this.kfi.getAttribute("renderAndRelease").copyValue(this.renderAndRelease),this.numChannels=3,this.kfi.setNumChannels(this.numChannels);for(var e=this.preBehavior.getValueDirect(),i=this.postBehavior.getValueDirect(),r=0;r<this.numChannels;r++)this.kfi.getAttribute("preBehaviors").getAt(r).setValueDirect(e),this.kfi.getAttribute("postBehaviors").getAt(r).setValueDirect(i);this.setKeyframes()}},MotionInterpolateCommand.prototype.setKeyframes=function(){var t=this.startPosition.getValueDirect(),e=this.endPosition.getValueDirect(),i=distanceBetween(t,e),r=new Vector3D;r.copy(this.positionControl.getValueDirect()),r.normalize();var o=new Vector3D((t.x+e.x)/2+r.x*(i/2),(t.y+e.y)/2+r.y*(i/2),(t.z+e.z)/2+r.z*(i/2));this.midPosition.setValueDirect(o.x,o.y,o.z);for(var n=(this.easeIn.getValueDirect(),this.easeOut.getValueDirect(),this.shape.getValueDirect()),a=this.duration.getValueDirect(),s=0;s<this.numChannels;s++){var l=this.kfi.getAttribute("channels").getAt(s),c=new KeyframeAttr,h=new KeyframeAttr,u=new KeyframeAttr;c.getAttribute("time").setValueDirect(0),h.getAttribute("time").setValueDirect(.5*a),u.getAttribute("time").setValueDirect(a),c.getAttribute("shape").setValueDirect(n),h.getAttribute("shape").setValueDirect(n),u.getAttribute("shape").setValueDirect(n),c.getAttribute("value").setValueDirect(this.startPosition.getElement(s)),h.getAttribute("value").setValueDirect(this.midPosition.getElement(s)),u.getAttribute("value").setValueDirect(this.endPosition.getElement(s)),l.push_back(c),l.push_back(h),l.push_back(u),this.kfi.getAttribute("resultValues").getAt(s).addElementTarget(this.resultPosition,0,s)}},LocateCommand.prototype=new Command,LocateCommand.prototype.constructor=LocateCommand,LocateCommand.prototype.execute=function(){this.targetNode&&this.locate()},LocateCommand.prototype.locate=function(){var t=this.registry.find("Selector"),e=this.registry.find("ViewportMgr"),i=t.getAttribute("clickPoint").getValueDirect(),r=e.getViewportAtScreenXY(i.x,i.y),o=r.camera,n=r.viewport;this.directive.execute(this.targetNode);var a=this.directive.getBounds();this.locator.getAttribute("bbox").setValueDirect(a.min,a.max);var s=r.camera.getTransform();s.invert(),this.directive.getAttribute("viewTransform").setValueDirect(s),this.directive.getAttribute("viewSpace").setValueDirect(!0),this.directive.execute(this.targetNode),a=this.directive.getBounds(),this.locator.getAttribute("bboxView").setValueDirect(a.min,a.max),this.locator.getAttribute("viewport").setValueDirect(n.x,n.y,n.width,n.height);var l=this.locator.getAttribute("nearDistance"),c=this.locator.getAttribute("viewVolume"),h=this.locator.getAttribute("viewPosition"),u=this.locator.getAttribute("viewTransform"),d=this.locator.getAttribute("resultPosition"),p=this.locator.getAttribute("resultWidth"),f=this.locator.getAttribute("resultFarDistance"),_=this.locator.getAttribute("resultPivotDistance"),m=null,g=this.updateClipPlanes.getValueDirect(),y=this.transition.getValueDirect();if(this.inspector&&(m=this.inspector.getAttribute("pivotDistance")),_&&m&&_.addTarget(m),cameraNear=o.getAttribute("nearDistance"),cameraFar=o.getAttribute("farDistance"),cameraWidth=o.getAttribute("width"),cameraVolume=o.getAttribute("viewVolume"),cameraPosition=o.getAttribute("sectorPosition"),cameraWorldPosition=o.getAttribute("sectorWorldPosition"),cameraWorldTransform=o.getAttribute("sectorWorldTransform"),cameraNear.addTarget(l),cameraVolume.addTarget(c),cameraWorldPosition.addTarget(h),cameraWorldTransform.addTarget(u),0==y)d.addTarget(cameraPosition),p.addTarget(cameraWidth),g&&f.addTarget(cameraFar),this.locator.evaluate(),d.removeTarget(cameraPosition),p.removeTarget(cameraWidth),f.removeTarget(cameraFar);else{switch(d.addTarget(this.resultPosition),p.addTarget(this.resultWidth),g&&f.addTarget(this.resultFarDistance),this.locator.evaluate(),d.removeTarget(this.resultPosition),p.removeTarget(this.resultWidth),f.removeTarget(this.resultFarDistance),this.shape.getValueDirect()){case eKeyframeShape.Stepped:case eKeyframeShape.TCB:case eKeyframeShape.Bezier1D:case eKeyframeShape.Bezier2D:var b=this.registry.find("AttributeFactory"),v=b.create("MotionInterpolate");v.getAttribute("shape").copyValue(this.shape),v.getAttribute("easeIn").copyValue(this.easeIn),v.getAttribute("easeOut").copyValue(this.easeOut),v.getAttribute("startPosition").copyValue(cameraPosition),v.getAttribute("endPosition").copyValue(this.resultPosition),v.getAttribute("resultPosition").addTarget(cameraPosition,eAttrSetOp.Replace,null,!1);var M=o.getDirectionVectors();v.getAttribute("positionControl").setValueDirect(-M.forward.x,-M.forward.y,-M.forward.z);break;case eKeyframeShape.Linear:default:var b=this.registry.find("AttributeFactory"),v=b.create("AutoInterpolate");v.attributeRefPairs.push(new Pair(this.resultPosition,cameraPosition))}g&&(cameraWidth&&v.attributeRefPairs.push(new Pair(this.resultWidth,cameraWidth)),cameraFar&&v.attributeRefPairs.push(new Pair(this.resultFarDistance,cameraFar))),v.target=o,v.getAttribute("duration").copyValue(this.duration),v.execute(),this.registry.unregister(v)}_&&m&&_.removeTarget(m)},PlayCommand.prototype=new Command,PlayCommand.prototype.constructor=PlayCommand,PlayCommand.prototype.execute=function(){var t=this.registry.find("RenderAgent");if(t)if(this.evaluators.length<1)t.setEvaluatorsPlayState(0==this.negate.getValueDirect()?ePlayState.Play:ePlayState.Pause);else for(var e=0;e<this.evaluators.length;e++)0==this.negate.getValueDirect()?t.setEvaluatorPlayState(evaluators[e],ePlayState.Play):t.setEvaluatorPlayState(evaluators[e],ePlayState.Pause)},RemoveCommand.prototype=new Command,RemoveCommand.prototype.constructor=RemoveCommand,RemoveCommand.prototype.execute=function(){if(this.targetAttribute){if(this.targetAttribute.isNode()){for(var t=0,e=null;e=this.targetAttribute.getParent(t++);)e.removeChild(this.targetAttribute);this.removeChildren(this.targetAttribute)}this.registry.unregister(this.targetAttribute),this.targetAttribute.destroy()}},RemoveCommand.prototype.removeChildren=function(t){for(var e=null;e=t.getChild(0);)this.removeChildren(e),this.registry.unregister(e),t.removeChild(e)},StopCommand.prototype=new Command,StopCommand.prototype.constructor=StopCommand,StopCommand.prototype.execute=function(){var t=this.registry.find("RenderAgent");if(t)if(this.evaluators.length<1)t.setEvaluatorsPlayState(ePlayState.Stop);else for(var e=0;e<this.evaluators.length;e++)t.setEvaluatorPlayState(evaluators[e],ePlayState.Stop)},CommandSequence.prototype=new Command,CommandSequence.prototype.constructor=CommandSequence,CommandSequence.prototype.execute=function(){for(var t=0;t<this.sequence.length;t++)this.sequence[t].execute()},CommandSequence.prototype.addCommand=function(t){this.sequence.push(t);var e=this.sequence.length-1,i="Command("+e.toString()+")";this.registerAttribute(t,i)},CommandMgr.prototype=new AttributeContainer,CommandMgr.prototype.constructor=CommandMgr,CommandMgr.prototype.pushCommandSequence=function(t){this.commandSeqStack.push(t)},CommandMgr.prototype.popCommandSequence=function(){this.commandSeqStack.pop()},CommandMgr.prototype.clearCommandSequenceStack=function(){this.commandSeqStack.clear()},CommandMgr.prototype.addCommand=function(t){if(setAttributeBin(null),setAttributePairs(null),this.commandSeqStack.length()>0)return this.commandSeqStack.top().addCommand(t),void this.registry.unregister(t);var e=t.getEventTypes(),i=t.getAttribute("trigger");if(e.length>0){var r=this.registry.find("EventMgr");if(r)for(var o=0;o<e.length;o++)r.addListener(e[o],t)}else i.getLength()>0?(i.addModifiedCB(CommandMgr_CommandTriggerModifiedCB,this),this.createCommandTrigger(t,i)):(t.execute(),this.registry.unregister(t))},CommandMgr.prototype.createCommandTrigger=function(t,e){var i=0,r=0,o=0,n=0,a="";if(a=e.getValueDirect().join(""),i=a.lastIndexOf("/"),-1!=i){var s=a.substring(0,i),l=bridgeworks.registry.find(s);if(l){var c=!1,h="",u="",d="",p="";if(r=a.lastIndexOf("!"),r>0&&(a.replace("!",""),c=!0),r=a.lastIndexOf("="),r>0){if(n=a.lastIndexOf("["),n>0){var f=a.lastIndexOf("]",n);u=a.substring(n+1,f-n-1)}var _=FLT_MAX,o=a.lastIndexOf(",");if(o>0){var p=a.substring(o+1,e.length()-o-1);_=p.parseFloat()}o=-1==o?a.length:o,d=a.substring(r+1,r+(o-r))}else if(n=a.lastIndexOf("["),n>0){var f=a.lastIndexOf("]",n);u=a.substring(n+1,f-n-1)}r=-1==n?-1==r?a.length():r:n,h=a.substring(i+1,r);var m=l.getAttribute(h),g=this.createAttribute(m,d);if(g){var y=-1;""!=u&&(y=parseInt(u));var b=t.numResponses,v=new AttributeTrigger(m,g,t,y,c,b);t.setTrigger(v)}a=s+"/"+h,console.debug(e),console.debug("\n")}}},CommandMgr.prototype.createAttribute=function(t,e){var i=null;if(t){{t.attrType,t.getLength()}i=new NumberAttr,i.setValueDirect(parseFloat(e))}return i},AttributeTrigger.prototype=new Command,AttributeTrigger.prototype.constructor=AttributeTrigger,AttributeTrigger.prototype.execute=function(){if(this.target){var t=this.trigger.attrType;switch(t){case eAttrType.StringAttr:var e=[],i=[];this.input.getValue(e),this.trigger.getValue(i);var r=e[0]==i[0]?!0:!1;if(r=this.not?!r:r){var o=this.executionCount.getValueDirect()-1;this.executionCount.setValueDirect(o)}0==this.executionCount&&(this.target=null);break;default:var e=[],i=[];if(this.input.getValue(e),this.trigger.getValue(i),-1!=this.item){var r=e[this.item]==i[0]||this.lastValues[this.item]>e[this.item]&&e[this.item]<i[0]||this.lastValues[this.item]<e[this.item]&&e[this.item]>i[0];if(r=this.not?!r:r){this.target.execute();var o=this.executionCount.getValueDirect()-1;this.executionCount.setValueDirect(o)}}else{for(var n=this.input.getLength(),a=0,s=0;n>s;++s){var r=e[s]==i[s]||this.lastValues[s]>e[s]&&e[s]<i[s]||this.lastValues[s]<e[s]&&e[s]>i[s];r=this.not?!r:r,r&&++a}(a=n)&&(err=this.target.execute(),this.executionCount.setValueDirect(--this.executionCount))}0==this.executionCount.getValueDirect()?(this.target=null,this.input.removeModifiedCB(AttributeTrigger_InputModifiedCB,this)):this.lastValues=e}}},BwRegistry.prototype=new AttributeRegistry,BwRegistry.prototype.constructor=BwRegistry,BwRegistry.prototype.find=function(t){if(!t)return null;for(var e=[],i=0;(i=t.indexOf("/"))>-1;)e.push(t.substring(0,i)),t=t.substring(i+1,t.length);e.push(t);var r=this.getByName(e[0]);r&&(r=r[0]);for(var o=1;o<e.length&&r;o++)r=r.getAttribute(e[o]);return r},BwRegistry.prototype.findContext=function(){},BwRegistry.prototype.registerResource=function(t){t.isNode()&&0==t.getAttribute("orphan").getValueDirect()&&this.updateTree(t)
},BwRegistry.prototype.finalizeResource=function(t){t.isNode()&&t.getParentCount()>0&&this.subtreePtr.setValueDirect(t.getParent(0))},BwRegistry.prototype.register=function(t){AttributeRegistry.prototype.register.call(this,t)},BwRegistry.prototype.unregister=function(t){AttributeRegistry.prototype.unregister.call(this,t)},BwRegistry.prototype.clear=function(){this.rootPtr.setValueDirect(null),this.subtreePtr.setValueDirect(null),this.sgPointer.setValueDirect(null),AttributeRegistry.prototype.clear.call(this)},BwRegistry.prototype.updateTree=function(t){var e=this.rootPtr.getValueDirect(),i=this.subtreePtr.getValueDirect();null==e?e=i=t:(i?i.addChild(t):e.addChild(t),i=t),this.rootPtr.setValueDirect(e),this.subtreePtr.setValueDirect(i)},BwRegistry.prototype.updateMaxAnimationTime=function(){},BwRegistry.prototype.formatContext=function(){},BwRegistry.prototype.sgPointerModified=function(){var t=this.find(this.sgPointer.getValueDirect().join(""));t&&this.subtreePtr.setValueDirect(t)},BwSceneInspector.prototype=new SceneInspector,BwSceneInspector.prototype.constructor=BwSceneInspector,BwSceneInspector.prototype.evaluate=function(){SceneInspector.prototype.evaluate.call(this)},BwSceneInspector.prototype.translate=function(t){if(0!=t.x||0!=t.y||0!=t.z){var e=this.translationSensitivity.getValueDirect();t.x*=e.x,t.y*=e.y,t.z*=e.z;var i=[t.x,t.y,t.z],r=new AttributeSetParams(-1,-1,0,!0,!1);this.translationDelta.setValue(i,r),this.evaluate();var o=[0,0,0];this.translationDelta.setValue(o,r),this.invertedTranslationDelta.setValue(o,r)}},BwSceneInspector.prototype.pan=function(t){if(0!=t.x||0!=t.y||0!=t.z){if(0==this.worldUnitsPerPixel.x&&0==this.worldUnitsPerPixel.y){var e=this.getWorldUnitsPerPixel(this.pivotDistance.getValueDirect());this.worldUnitsPerPixel.x=e.x,this.worldUnitsPerPixel.y=e.y}var i=this.panSensitivity.getValueDirect();t.x*=i.x*this.worldUnitsPerPixel.x,t.y*=i.y*this.worldUnitsPerPixel.y,t.z*=i.z*this.worldUnitsPerPixel.y;var r=[t.x,t.y,t.z],o=new AttributeSetParams(-1,-1,0,!0,!1);if(this.panDelta.setValue(r,o),0!=t.z){var n=this.pivotDistance.getValueDirect();n-=t.z,this.pivotDistance.setValueDirect(n)}this.evaluate();var a=[0,0,0];this.panDelta.setValue(a,o),this.invertedPanDelta.setValue(a,o)}},BwSceneInspector.prototype.track=function(t){if((0!=t.x||0!=t.y||0!=t.z)&&null!=this.camera&&this.camera.attrType!=eAttrType.OrthographicCamera&&!(this.viewport.width<=0||this.viewport.height<=0)){if(0==this.worldUnitsPerPixel.x&&0==this.worldUnitsPerPixel.y){var e=this.getWorldUnitsPerPixel(this.pivotDistance.getValueDirect());this.worldUnitsPerPixel.x=e.x,this.worldUnitsPerPixel.y=e.y}var i=this.trackSensitivity.getValueDirect();if(t.x*=i.x*this.worldUnitsPerPixel.x,t.y*=i.y*this.worldUnitsPerPixel.y,0!=t.z){var r=this.camera.getAttribute("position").getValueDirect(),o=this.camera.getAttribute("rotation").getValueDirect(),n=r.y-this.clickPosWorld.y,a=distanceBetween(r,this.clickPosWorld),s=Math.sqrt(a*a-n*n),l=this.camera.getAttribute("zoom").getValueDirect(),c=2*Math.atan2(1,l),h=c/this.viewport.height,u=Math.acos(n/a),d=u+t.z*h,p=Math.tan(d)*n,f=p-s;u>=toRadians(88)&&u<=toRadians(92)&&(f=0>f?-Math.abs(this.last_d3):Math.abs(this.last_d3));var _=Math.abs(o.z),m=!1;_>=90&&270>=_&&o.x>-45&&o.x<45&&(m=!0),m&&(f=-f),this.last_d3=f,t.z=f*i.z*(0>n?-1:1);var g=this.camera.getDirectionVectors();v=new Vector3D(g.forward.x,g.forward.y,g.forward.z),v.y=0,v.normalize();var y=subtract3D(this.clickPosWorld,r);y.y=0,y.normalize();var b,M=cosineAngleBetween(y,v),S=Math.acos(M),T=2*Math.atan(this.viewport.width/this.viewport.height*Math.tan(c/2)),x=T/this.viewport.width,C=this.registry.find("Selector");C&&(b=C.getAttribute("clickPoint").getValueDirect());var E=Math.abs(this.viewport.width/2-b.x)*x;S=E;var A=Math.tan(S)*f,w=new Plane(r,g.right);pointOnNegativeSideOfPlane(this.clickPosWorld,w)&&(A*=-1),m&&(A*=-1),t.x+=-A}var R=[t.x,t.y,t.z],D=new AttributeSetParams(-1,-1,0,!0,!1);this.trackDelta.setValue(R,D),this.evaluate();var P=[0,0,0];this.trackDelta.setValue(P,D),this.invertedTrackDelta.setValue(P,D)}},BwSceneInspector.prototype.rotate=function(t){if(0!=t.x||0!=t.y||0!=t.z){var e=this.rotationSensitivity.getValueDirect();t.x*=e.x,t.y*=e.y,t.z*=e.z;var i=[t.x,t.y,t.z],r=new AttributeSetParams(-1,-1,0,!0,!1);this.rotationDelta.setValue(i,r),this.evaluate();var o=[0,0,0];this.rotationDelta.setValue(o,r),this.invertedRotationDelta.setValue(o,r)}},BwSceneInspector.prototype.zoom=function(t){if(0!=t&&this.camera)switch(this.camera.className){case"PerspectiveCamera":var e=this.camera.getAttribute("zoom").getValueDirect();e+=t*this.zoomSensitivity.getValueDirect(),0>e&&(e=.05),this.camera.getAttribute("zoom").setValueDirect(e);break;case"OrthographicCamera":var i=this.camera.getAttribute("width").getValueDirect();i+=t*this.zoomSensitivity.getValueDirect(),0>i&&(i=0),this.camera.getAttribute("width").setValueDirect(i)}},BwSceneInspector.prototype.getWorldUnitsPerPixel=function(t){var e=0,i=0,r=this.registry.find("Selector");if(r){var o=r.selections.viewports[r.selections.viewports.length-1];if(this.camera)switch(this.camera.attrType){case eAttrType.PerspectiveCamera:var n=this.camera.getAttribute("zoom").getValueDirect(),a=worldUnitsPerPixelPersp(o,n,t);e=a.x,i=a.y;break;case eAttrType.OrthographicCamera:var s=this.camera.getAttribute("width").getValueDirect(),a=worldUnitsPerPixelOrtho(o,s);e=a.x,i=a.y}}return{x:e,y:i}},ObjectInspector.prototype=new ArcballInspector,ObjectInspector.prototype.constructor=ObjectInspector,ObjectInspector.prototype.applyCameraRelativeRotation=function(t){var e=null,i=null,r=null,o=null,n=this.viewport,a=this.camera;e=t.worldCenter.getValueDirect(),r=a.getTransform(),r.invert(),projection=a.projectionMatrix,i=toScreenSpace(e,r,projection,n),this.sphereCenter.setValueDirect(i.x,i.y,0),this.sphereRadius.setValueDirect(.75),o=t.getTransform(),this.worldTransform.setValueDirect(o),r=a.getTransform(),this.viewTransform.setValueDirect(r)},ObjectInspector.prototype.applyCameraRelativeTranslation=function(t){var e=this.camera,i=this.translationDelta.getValueDirect();if(0!=i.x||0!=i.y||0!=i.z){var r=e.getSectorTransform();r.invert();var o=t.sectorWorldCenter.getValueDirect(),n=e.sectorWorldPosition.getValueDirect(),a=new Vector3D(o.x-n.x,o.y-n.y,o.z-n.z);a.normalize();var s=this.viewport,l=this.pointView.getValueDirect(),c=new Vector3D(l.x,l.y,l.z),h=null,u=new Vector3D(1,0,0),d=new Vector3D(0,1,0),p=new Vector3D(a.x,a.y,a.z),f=new Vector3D(l.x,l.y,l.z),_=t.motionParent,m=null;_&&(m=_.getTransform(),m.invert());var g=-1,y=-1;switch(e.attrType){case eAttrType.PerspectiveCamera:y=e.zoom.getValueDirect(),g=worldUnitsPerPixelPersp(s,y,c.z);break;case eAttrType.OrthographicCamera:y=e.width.getValueDirect(),g=worldUnitsPerPixelOrtho(s,y)}u.multiplyScalar(g.x),u.multiplyScalar(-i.x),d.multiplyScalar(g.y),d.multiplyScalar(i.y),p.multiplyScalar(g.y),p.multiplyScalar(i.z),f.addVector(u),f.addVector(d),r.invert(),m&&(r=r.multiply(m),p=m.transform(p.x,p.y,p.z,0)),c=r.transform(c.x,c.y,c.z,1),f=r.transform(f.x,f.y,f.z,1),h=new Vector3D(f.x,f.y,f.z),h.subtractVector(c),h.addVector(p);var b=new AttributeSetParams(-1,-1,eAttrSetOp.Add,!0,!0),v=[h.x,h.y,h.z];t.sectorPosition.setValue(v,b);{t.sectorPosition.getValueDirect()}}},ObjectInspector.prototype.translationDeltaModified=function(){for(var t=null,e=0;e<this.selectedObjects.length;e++)if(t=this.getInspectionObject(this.selectedObjects[e])){var i=t.getAttribute("moveable").getValueDirect();i&&this.applyCameraRelativeTranslation(t)}var r=[0,0,0],o=new AttributeSetParams(0,0,0,!0,!1);this.translationDelta.setValue(r,o)},ObjectInspector.prototype.rotationDeltaModified=function(){for(var t=null,e=0;e<this.selectedObjects.length;e++)if(t=this.getInspectionObject(this.selectedObjects[e])){var i=t.moveable.getValueDirect();if(i){this.applyCameraRelativeRotation(t);var r=this.mouseNow.getValueDirect(),o=this.rotationDelta.getValueDirect();r.x-=o.x,r.y-=o.y,this.mouseNow.setValueDirect(r.y,r.x),this.evaluate()}}},ObjectInspector.prototype.rotationNowModified=function(){if(null!=this.selectedObjects&&void 0!=this.selectedObjects)for(var t=null,e=0;e<this.selectedObjects.length;e++){t=this.getInspectionObject(this.selectedObjects[e]);var i=t.moveable.getValueDirect();if(i){this.applyCameraRelativeRotation(t);var r=this.rotationNow.getValueDirect();this.mouseNow.setValueDirect(r.y,r.x),this.evaluate()}}},ObjectInspector.prototype.runSelectionOccurred=function(){var t=this.registry.find("Selector"),e=this.registry.find("ViewportMgr");if(t&&e){var i=t.getAttribute("clickPoint").getValueDirect(),r=e.getViewportAtScreenXY(i.x,i.y);this.viewport=r.viewport,this.camera=r.camera,this.selectedObjects=t.selections.models.slice();for(var o=this.resultQuat,n=this.quatAtMouseDown,a=this.mouseDown,s=this.mouseNow,l=null,c=null,h=null,u=null,d=0,p=0;p<this.selectedObjects.length;p++)if(o.removeAllTargets(),a.setValueDirect(i.x,i.y),s.setValueDirect(i.x,i.y),l=this.getInspectionObject(this.selectedObjects[p]),c=getInspectionGroup(l),c&&(h=c.getChild(2))){var f=[!0],_=new AttributeSetParams(-1,-1,eAttrSetOp.Replace,!0,!0);h.enabled.setValue(f,_),u=h.rotationQuat,o.addTarget(u,eAttrSetOp.Replace,null,!1);var m=u.getValueDirect();n.setValueDirect(m);var g=l.bbox,y=g.min.getValueDirect(),b=g.max.getValueDirect();d=new Vector3D(y.x,y.y,y.z),d.addVector(b),d.multiplyScalar(.5);var v=l.pivot.getValueDirect();l.pivotAboutGeometricCenter.getValueDirect()&&(v=d);var M=new Vector3D(v.x,v.y,v.z);M.multiplyScalar(-1),f=[v.x,v.y,v.z],c.getChild(0).translation.setValue(f,_);var S=l.worldScale.getValueDirect(),T=new Vector3D(1/S.x,1/S.y,1/S.z);f[0]=T.x,f[1]=T.y,f[2]=T.z,c.getChild(1).scale.setValue(f,_),f[0]=S.x,f[1]=S.y,f[2]=S.z,c.getChild(3).scale.setValue(f,_),f[0]=M.x,f[1]=M.y,f[2]=M.z,c.getChild(4).translation.setValue(f,_)}}},ObjectInspector.prototype.runSelectionCleared=function(){this.selectedObjects=[]},ObjectInspector.prototype.getInspectionObject=function(t){for(;t.motionParent;)t=t.motionParent;return t},ObjectInspector.prototype.clearSelection=function(t){for(var e=0;e<this.selectedObjects.length;e++)this.selectedObjects[e]==t&&this.selectedObjects.splice(e,1)},ConnectionMgr.prototype=new AttributeContainer,ConnectionMgr.prototype.constructor=ConnectionMgr,ConnectionMgr.prototype.connectSceneInspection=function(t,e){if(t&&e){var i=t.getCamera();i!=e&&(i&&this.disconnectSceneInspection(t,i),e.getAttribute("sectorPosition").addTarget(t.getAttribute("viewPosition"),eAttrSetOp.Replace,null,!0),e.getAttribute("rotation").addTarget(t.getAttribute("viewRotation"),eAttrSetOp.Replace,null,!0),t.getAttribute("resultPosition").addTarget(e.getAttribute("sectorPosition"),eAttrSetOp.Replace,null,!1),t.getAttribute("resultRotation").addTarget(e.getAttribute("rotation"),eAttrSetOp.Replace,null,!1),t.setCamera(e))}},ConnectionMgr.prototype.disconnectAllTargets=function(t){if(t)for(var e=t.getAttributeCount(),i=0;e>i;i++){var r=t.getAttributeAt(i);r&&r.removeAllTargets()}},ConnectionMgr.prototype.disconnectSceneInspection=function(t,e){t&&e&&(e.getAttribute("sectorPosition").removeTarget(t.getAttribute("viewPosition")),e.getAttribute("rotation").removeTarget(t.getAttribute("viewRotation")),t.getAttribute("resultPosition").removeTarget(e.getAttribute("sectorPosition")),t.getAttribute("resultRotation").removeTarget(e.getAttribute("rotation")),t.setCamera(null))},ConnectionMgr.prototype.connectMapProjectionCalculator=function(t,e){t&&e&&(t.getAttribute("resultPosition").addTarget(e.getAttribute("position")),t.evaluate())},ConnectionMgr.prototype.disconnectMapProjectionCalculator=function(t,e){t&&e&&t.getAttribute("resultPosition").removeTarget(e.getAttribute("position"))},ConnectionMgr.prototype.connectDissolve=function(t,e){if(t&&e){var i=e.getAttribute("dissolve");if(i){var r=t.getAttribute("resultValues");if(r){var o=r.getAt(0);o&&o.addTarget(i)}}}},ConnectionMgr.prototype.disconnectDissolve=function(t,e){if(t&&e){var i=e.getAttribute("dissolve");if(i){var r=t.getAttribute("resultValues");if(r){var o=r.getAt(0);o&&o.removeTarget(i)}}}},ConnectionMgr.prototype.connectWalkSimulation=function(t,e){ConnectionMgr.prototype.connectSceneInspection.call(null,t,e)},ConnectionMgr.prototype.disconnectWalkSimulation=function(t,e){ConnectionMgr.prototype.disconnectSceneInspection.call(null,t,e)},ConnectionMgr.prototype.connectModelsToMorph=function(t,e,i){if(t&&e)for(var r=this.registry.find("AttributeFactory"),o=e.getAttribute("vertices").getValueDirect(),n=0;n<t.geometry.length;n++){var a=t.geometryIndices[n];if(a){var s=r.create("MorphEffector");s.getAttribute("renderAndRelease").setValueDirect(!0),s.getAttribute("morphIncr").setValueDirect(i);var l=t.geometry[n].getAttribute("vertices").getValueDirect();s.getAttribute("sourceVertices").setValueDirect(l);for(var c=[],h=0;h<a.length;h++){var u=a[h];3*u+2<o.length?(c.push(o[3*u]),c.push(o[3*u+1]),c.push(o[3*u+2])):(c.push(l[3*h]),c.push(l[3*h+1]),c.push(l[3*h+2]))}s.getAttribute("targetVertices").setValueDirect(c),s.getAttribute("resultVertices").addTarget(t.geometry[n].getAttribute("vertices"))}}},RenderAgent.prototype=new Agent,RenderAgent.prototype.constructor=RenderAgent;var ePlayState={Unknown:-1,Play:0,Pause:1,Stop:2};RenderAgent.prototype.render=function(){this.timer.stop();var t=this.timer.getTime();this.timer.start(),this.timeIncrement.setValueDirect(t);var e=this.elapsedTimeInSecs.getValueDirect()+t;this.elapsedTimeInSecs.setValueDirect(e),this.frameRate.setValueDirect(1/t),this.animateEvaluators(t),this.executeRenderDirectives()},RenderAgent.prototype.animateEvaluators=function(t){for(var e=this.registry.getByType(eAttrType.Evaluator),i=0;i<e.length;i++)this.animateEvaluator(e[i],t)},RenderAgent.prototype.animateEvaluator=function(t,e){var i=t.getAttribute("enabled").getValueDirect(),r=t.getAttribute("expired").getValueDirect(),o=t.getAttribute("orphan").getValueDirect();if(i&&!r){switch(t.className){case"KeyframeInterpolator":var n=new AttributeSetParams(-1,-1,eAttrSetOp.Add,!0,!0);t.getAttribute("time").setValue(e,n);break;case"ObjectMover":case"AnimalMover":case"PhysicsSimulator":case"GoblinPhysicsSimulator":case"CannonPhysicsSimulator":case"Spinner":t.getAttribute("timeIncrement").setValueDirect(e)}o||t.evaluate()}r&&t.getAttribute("renderAndRelease").getValueDirect()&&this.registry.unregister(t)},RenderAgent.prototype.executeRenderDirectives=function(){var t=this.registry.getByType(eAttrType.RenderDirective);if(t){this.bridgeworks.viewportMgr.layoutDirectives(t);for(var e=0;e<t.length;e++)t[e].getAttribute("timeIncrement").setValueDirect(this.timeIncrement.getValueDirect()),t[e].execute()}},RenderAgent.prototype.globalTimeInSecsModified=function(){var t=this.globalTimeInSecs.getValueDirect();if(this.elapsedTimeInSecs.setValueDirect(t),this.registry){var e=this.registry.getByType(eAttrType.Evaluator);if(e)for(var i=0;i<e.length;i++){var r=e[i];if(r){var o=r.getAttribute("time");if(o){var n=r.getAttribute("globalTimeSyncEnabled");(n&&n.getValueDirect()||!n)&&o.setValueDirect(t)}r.evaluate()}}var a=this.registry.getByType(eAttrType.Model);if(a)for(var i=0;i<a.length;i++)setInspectionGroupActivationState(a[i],!1)}},RenderAgent.prototype.setEvaluatorPlayState=function(t,e){if(!t)return this.setEvaluatorPlayState(e);var i=t.getAttribute("enabled");switch(e){case ePlayState.Play:i.setValueDirect(!0);break;case ePlayState.Pause:i.setValueDirect(!1);break;case ePlayState.Stop:switch(i.setValueDirect(!1),t.className){case"KeyframeInterpolator":t.getAttribute("time").setValueDirect(0),t.evaluate()}}clearObjectPositionMap()},RenderAgent.prototype.setEvaluatorsPlayState=function(t){if(this.registry){var e=this.registry.getByType(eAttrType.Evaluator);if(e)for(i=0;i<e.length;i++){var r=e[i],o=(r.attrType,r.getAttribute("orphan").getValueDirect());o||this.setEvaluatorPlayState(r,t)}}},RenderAgent.prototype.setDesiredFrameRate=function(t){this.desiredFrameRate.setValueDirect(t)};var FRAME_RATE_DEFAULT=30,FRAME_RATE_MAX=32*FRAME_RATE_DEFAULT,FRAME_RATE_MIN=-32*FRAME_RATE_DEFAULT;RenderController.prototype=new AttributeContainer,RenderController.prototype.constructor=RenderController,RenderController.prototype.fastForward=function(){this.play();var t=this.renderAgent.frameRate.getValueDirect();0>t&&this.renderAgent.desiredFrameRate.setValueDirect(FRAME_RATE_DEFAULT),this.renderAgent.desiredFrameRate.setValueDirect(FRAME_RATE_MAX>t?2*Math.abs(this.renderAgent.frameRate):FRAME_RATE_MAX)},RenderController.prototype.pause=function(){this.renderAgent.desiredFrameRate.setValueDirect(FRAME_RATE_DEFAULT),this.renderAgent.setEvaluatorsPlayState(ePlayState.Pause)},RenderController.prototype.play=function(){this.renderAgent.desiredFrameRate.setValueDirect(FRAME_RATE_DEFAULT),this.renderAgent.setEvaluatorsPlayState(ePlayState.Play)},RenderController.prototype.rewind=function(){this.play();var t=this.renderAgent.frameRate.getValueDirect();t>0&&this.renderAgent.desiredFrameRate.setValueDirect(FRAME_RATE_DEFAULT),this.renderAgent.desiredFrameRate.setValueDirect(t>FRAME_RATE_MIN?-2*Math.abs(this.renderAgent.frameRate):FRAME_RATE_MIN)},RenderController.prototype.stop=function(){this.renderAgent.setEvaluatorsPlayState(ePlayState.Stop),this.renderAgent.desiredFrameRate.setValueDirect(1)},SelectionListener.prototype=new EventListener,SelectionListener.prototype.constructor=SelectionListener,SelectionListener.prototype.setRayPick=function(t){this.rayPick=t;var e=this.rayPick.getAttribute("clickPoint");this.registerAttribute(e,"clickPoint"),e.addModifiedCB(SelectionListener_ClickPointModifiedCB,this)},SelectionListener.prototype.eventPerformed=function(t){switch(this.selectionEvent=t,t.type){case eEventType.MouseMove:if(t.inputId&MOUSEEVENT_LEFT_BUTTON||t.inputId&MOUSEEVENT_MIDDLE_BUTTON||t.inputId&MOUSEEVENT_RIGHT_BUTTON)return}this.clearSelections(),this.getAttribute("clickPoint").setValueDirect(t.x,t.y)},SelectionListener.prototype.registerSelection=function(t,e){if(!this.selected){this.selected=t;var i=t.getAttribute("selected");i&&i.setValueDirect(1);var r=this.selected.getContainer();this.registerAttribute(this.selected,"Selected"),this.selected.setContainer(r);var o=t.getAttribute("name").getValueDirect().join("");this.selectedName.setValueDirect(o),e>=0&&(this.selectedElement.setValueDirect(e),this.selected.registerAttribute(this.selectedElement,"selectedElement"))}},SelectionListener.prototype.clearSelections=function(){if(this.selections.clear(),this.selectedElement.setValueDirect(-1),this.selected){this.selected.highlight.setValueDirect(!1),this.selected.getAttribute("stopOnCollision").setValueDirect(!1);var t=this.selected.getAttribute("selected");t&&t.setValueDirect(0),this.selected.getAttribute("selectedElement")&&this.selected.unregisterAttribute(this.selectedElement),this.selectedName.setValueDirect(""),this.unregisterAttribute(this.selected),this.selected=null}this.selectionCleared.pulse()},SelectionListener.prototype.processPick=function(t){for(var e=0;e<t.path.length;e++){var i=t.path[e],r=i.getAttribute("selectable"),o=i.getAttribute("show"),n=i.getAttribute("flipPolygons");if(!(r&&0==r.getValueDirect()||o&&0==o.getValueDirect()||n&&1==n.getValueDirect())){var a=-1;switch(i.attrType){case eAttrType.PerspectiveCamera:case eAttrType.OrthographicCamera:this.selections.cameras.push(i);break;case eAttrType.DirectionalLight:case eAttrType.PointLight:case eAttrType.SpotLight:this.selections.lights.push(i);break;case eAttrType.Model:case eAttrType.SnapModel:case eAttrType.Ball:case eAttrType.Beam:case eAttrType.Box:case eAttrType.Elbow:case eAttrType.Gear:case eAttrType.Plank:case eAttrType.Pyramid:case eAttrType.Ring:case eAttrType.Tube:case eAttrType.Wall:case eAttrType.Wedge:this.selections.models.push(i),this.registerSelection(i,a);break;case eAttrType.Surface:this.selections.surfaces.push(i);break;case eAttrType.Label:this.selections.labels.push(i),this.registerRasterComponentSelection(i,a)}}}if(this.selected){if(this.unsnapped!=this.selected&&this.unsnapped){this.unsnapped.snapEnabled.setValueDirect(!0);var s=this.registry.find("SnapMgr");s.resnap(this.unsnappedModels);for(var e=0;e<this.unsnappedModels.length;e++)this.unsnappedModels[e].physicsEnabled.setValueDirect(!0);this.unsnappedModels=null,this.unsnapped=null}if(this.selected.getAttribute("stopOnCollision").setValueDirect(!0),this.selectionEvent.type==eEventType.MouseLeftDblClick&&this.selected.attrType==eAttrType.SnapModel){this.unsnappedModels=this.selected.unsnapAll(),this.unsnapped=this.selections.surfaces[0].snappedModel,this.unsnapped.snapEnabled.setValueDirect(!1),this.selected=null,this.registerSelection(this.unsnapped,-1);for(var e=0;e<this.unsnappedModels.length;e++)this.unsnappedModels[e].physicsEnabled.setValueDirect(!1),this.unsnappedModels[e].stopOnCollision.setValueDirect(!1)}this.selected.highlight.setValueDirect(!0),this.pointObject.setValueDirect(t.intersectRecord.pointModel.x,t.intersectRecord.pointModel.y,t.intersectRecord.pointModel.z),this.pointWorld.setValueDirect(t.intersectRecord.pointWorld.x,t.intersectRecord.pointWorld.y,t.intersectRecord.pointWorld.z),this.pointView.setValueDirect(t.intersectRecord.pointView.x,t.intersectRecord.pointView.y,t.intersectRecord.pointView.z),this.normalObject.setValueDirect(t.intersectRecord.normalModel.x,t.intersectRecord.normalModel.y,t.intersectRecord.normalModel.z),this.normalWorld.setValueDirect(t.intersectRecord.normalWorld.x,t.intersectRecord.normalWorld.y,t.intersectRecord.normalWorld.z),this.normalView.setValueDirect(t.intersectRecord.normalView.x,t.intersectRecord.normalView.y,t.intersectRecord.normalView.z),this.triIndex.setValueDirect(t.intersectRecord.triIndex),this.distance.setValueDirect(t.intersectRecord.distance)}return this.selected?!0:!1},SelectionListener.prototype.processPicks=function(t){for(var e=0;e<t.length;e++)if(1==this.processPick(t[e]))return!0;return!1},SelectionListener.prototype.registerRasterComponentSelection=function(t,e){if(this.selected){var i=this.selected;if(i){var r=t.renderedSlot.getValueDirect(),o=i.renderedSlot.getValueDirect();if(r>o)return this.registerSelection(t,e,!0)}}else this.registerSelection(t,e)},SelectionListener.prototype.clickPointModified=function(){var t=this.getAttribute("clickPoint").getValueDirect(),e=this.registry.find("ViewportMgr"),i=e.getViewportAtScreenXY(t.x,t.y);this.selections.viewports.push(i.viewport),this.rayPick.getAttribute("viewport").setValueDirect(i.viewport.x,i.viewport.y,i.viewport.width,i.viewport.height),this.rayPick.getAttribute("camera").setValueDirect(i.camera);var r=this.registry.getAttribute("rootPtr").getValueDirect();this.rayPick.execute(r),this.rayPick.picked.length>0&&(this.processPicks(this.rayPick.picked),this.selectionOccurred.pulse()),this.updateDistanceFromScreenCenter(r),this.updateSceneInspectionCamera(i.camera)},SelectionListener.prototype.updateDistanceFromScreenCenter=function(t){if(0!=this.computePivotDistance.getValueDirect()){var e=this.registry.find("Bridgeworks");if(e){var i=e.canvas.width/2,r=e.canvas.height/2,o=this.rayPick.getAttribute("clickPoint").getValueDirect(),n=new AttributeSetParams(-1,-1,0,!1,!1);this.rayPick.getAttribute("clickPoint").setValueDirect(i,r,n),this.rayPick.execute(t);for(var a=!1,s=0;s<this.rayPick.picked.length&&!a;s++)if(0!=this.rayPick.picked[s].intersectRecord.distance){this.distanceFromScreenCenter.setValueDirect(this.rayPick.picked[s].intersectRecord.distance),a=!0;break}this.rayPick.getAttribute("clickPoint").setValueDirect(o.x,o.y,n)}}},SelectionListener.prototype.updateSceneInspectionCamera=function(t){var e=this.registry.find("SceneInspector");if(e){if(e.getCamera()==t)return;var i=this.registry.find("ConnectionMgr");i&&(i.disconnectSceneInspection(e,e.getCamera()),i.connectSceneInspection(e,t))}},ViewportLayout.prototype=new AttributeContainer,ViewportLayout.prototype.constructor=ViewportLayout,ViewportLayout.prototype.initialize=function(){},ViewportLayout.prototype.layoutDirectives=function(){},GridLayout.prototype=new ViewportLayout,GridLayout.prototype.constructor=GridLayout,GridLayout.prototype.initialize=function(){this.rows.setValueDirect(1),this.cols.setValueDirect(1),ViewportLayout.prototype.initialize.call(this)},GridLayout.prototype.layoutDirectives=function(t){if(t){var e=this.width.getValueDirect(),i=this.height.getValueDirect(),r=this.rows.getValueDirect(),o=this.cols.getValueDirect();if(!(0>=e||0>=i||0>=r||0>=o))for(var n=0,a=0,s=e/o,l=i/r,c=new Array(4),h=t.length,u=0,d=0;r>u&&h>d;u++){for(var p=0;o>p&&h>d;p++,d++)c[0]=n,c[1]=a,c[2]=s,c[3]=l,t[d].getAttribute("viewport").setValue(c),n+=s;n=0,a+=l}}},ViewportMgr.prototype=new AttributeContainer,ViewportMgr.prototype.constructor=ViewportMgr,ViewportMgr.prototype.initLayout=function(){var t=this.layout.getValueDirect();t&&t.initialize()},ViewportMgr.prototype.layoutDirectives=function(t){var e=this.layout.getValueDirect();e&&e.layoutDirectives(t)},ViewportMgr.prototype.getViewportAtScreenXY=function(t,e){var i=this.width.getValueDirect(),r=this.height.getValueDirect();t=clamp(t,0,i),e=clamp(e,0,r);for(var o,n,a=this.registry.getByType(eAttrType.Camera),s=i,l=r,c=0;c<a.length;c++)a[c].viewport.containsPoint(t,e)&&a[c].viewport.width<=s&&a[c].viewport.height<=l&&(o=a[c],n=a[c].viewport,s=a[c].viewport.width,l=a[c].viewport.height);return{viewport:n,camera:o}},RasterComponentEventListener.prototype=new EventListener,RasterComponentEventListener.prototype.constructor=Command,RasterComponentEventListener.prototype.eventPerformed=function(t){var e=this.enabled.getValueDirect();if(e)for(var i,r,o,n=0;n<this.rcs.length;n++)if(this.isListening(this.rcs[n])){if(r=this.rcsSelectionState[n],i=this.rcs[n].eventPerformed(t),this.styleMgr)if(i)switch(this.styleMgr.eventPerformed(t,this.rcs[n]),t.type){case eEventType.MouseLeftClick:this.isListeningEvent(this.rcs[n],eEventType.ElementFocus)&&this.rcs[n].hasFocus.getValueDirect()<=0&&(this.selectionEvent.synchronize(t),this.selectionEvent.type=eEventType.ElementFocus,o=m_rcs[n].eventPerformed(this.selectionEvent),this.styleMgr.eventPerformed(this.selectionEvent,this.rcs[n]),this.rcs[n].hasFocus.setValueDirect(1));break;case eEventType.MouseMove:this.isListeningEvent(this.rcs[n],eEventType.ElementSelected)&&this.rcs[n].selected.getValueDirect()<=0&&(this.selectionEvent.synchronize(t),this.selectionEvent.type=eEventType.ElementSelected,o=this.rcs[n].eventPerformed(this.selectionEvent),this.styleMgr.eventPerformed(this.selectionEvent,this.rcs[n]),this.rcs[n].selected.setValueDirect(1)),!r&&this.isListeningEvent(this.rcs[n],eEventType.MouseOver)&&(this.selectionEvent.synchronize(t),this.selectionEvent.type=eEventType.MouseOver,o=this.rcs[n].eventPerformed(this.selectionEvent),this.styleMgr.eventPerformed(this.selectionEvent,this.rcs[n]))}else switch(t.type){case eEventType.MouseLeftDown:case eEventType.MouseLeftClick:case eEventType.MouseLeftDblClick:case eEventType.MouseMiddleDown:case eEventType.MouseMiddleClick:case eEventType.MouseMiddleDblClick:case eEventType.MouseRightDown:case eEventType.MouseRightClick:case eEventType.MouseRightDblClick:case eEventType.MouseWheelDown:case eEventType.MouseBothDown:this.isListeningEvent(this.rcs[n],eEventType.ElementBlur)&&this.rcs[n].hasFocus.getValueDirect()>0&&(this.selectionEvent.synchronize(t),this.selectionEvent.type=eEventType.ElementBlur,o=this.rcs[n].eventPerformed(this.selectionEvent),this.styleMgr.eventPerformed(this.selectionEvent,this.rcs[n]),this.rcs[n].hasFocus.setValueDirect(-1));break;case eEventType.MouseMove:this.isListeningEvent(this.rcs[n],eEventType.ElementUnselected)&&this.rcs[n].selected.getValueDirect()>0&&(this.selectionEvent.synchronize(t),this.selectionEvent.type=eEventType.ElementUnselected,o=this.rcs[n].eventPerformed(this.selectionEvent),this.styleMgr.eventPerformed(this.selectionEvent,this.rcs[n]),this.rcs[n].selected.setValueDirect(-1)),r&&this.isListeningEvent(this.rcs[n],eEventType.MouseOut)&&(this.selectionEvent.synchronize(t),this.selectionEvent.type=eEventType.MouseOut,o=this.rcs[n].eventPerformed(this.selectionEvent),this.styleMgr.eventPerformed(this.selectionEvent,this.rcs[n]))}this.rcsSelectionState[n]=i}},RasterComponentEventListener.prototype.registerComponent=function(t,e){if(t)if(e){var i=this.rcs.indexOf(e);0>i&&(i=this.rcs.length),this.rcs.splice(i,0,t),this.rcsSelectionState.splice(i,0,t)}else this.rcs.push(t),this.rcsSelectionState.push(t)},RasterComponentEventListener.prototype.unregisterComponent=function(t){t&&this.rcs.splice(this.rcs.indexOf(t),1)},RasterComponentEventListener.prototype.Listen=function(t){t&&(this.rcListenMap[t]=!0)},RasterComponentEventListener.prototype.Ignore=function(t){t&&(this.rcListenMap[t]=!1)},RasterComponentEventListener.prototype.listenEvent=function(t,e){t&&(void 0==this.rcEventMap[t]&&(this.rcEventMap[t]=new Array),this.rcEventMap[t].push(e))},RasterComponentEventListener.prototype.ignoreEvent=function(t,e){t&&this.rcEventMap[t]&&this.rcEventMap[t].splice(this.rcEventMap[t].indexOf(e),1)},RasterComponentEventListener.prototype.setStyleMgr=function(t){this.styleMgr=t},RasterComponentEventListener.prototype.setSelectionState=function(t,e){this.rcsSelectionState[t]=e},RasterComponentEventListener.prototype.getComponent=function(t){return t<this.rcs.length?this.rcs[t]:null},RasterComponentEventListener.prototype.isListening=function(t){return t&&this.rcListenMap[t]?this.rcListenMap[t]:!1},RasterComponentEventListener.prototype.isListeningEvent=function(t,e){return t&&this.rcEventMap[t]&&this.rcEventMap[t].indexOf(e)>=0?!0:!1};var g_objPosMap={};SerializeCommand.prototype=new Command,SerializeCommand.prototype.constructor=SerializeCommand,SerializeCommand.prototype.execute=function(){this.directive&&this.serializeScene()},SerializeCommand.prototype.serializeScene=function(){var t,e=null,i=new Context;this.serialized='<?xml version="1.0" encoding="UTF-8"?><?bw onload="initialize"?><Session broadcast="false">';var r=bridgeworks.registry;if(r){var o=this.registry.find("AttributeFactory"),n=o.create("Serializer"),a=new XMLSerializer;n.serializeMinimum.setValueDirect(!0);var t,s=r.getObjectCount(),l=[];for(t=0;s>t;t++)if(e=r.getObject(t))if(e.attrType!=eAttrType.PhysicsSimulator){if(e.attrType>eAttrType.DeviceHandler&&e.attrType<eAttrType.DeviceHandler_End){i.attribute=e,n.serialize(i.attribute,i.item,i.attributeName,i.container);var c=a.serializeToString(n.DOM);if("<__InitialRoot/>"==c)continue;this.serialized+=c}else if(e.attrType>eAttrType.Node&&e.attrType<eAttrType.Node_End)0==e.getParentCount()&&(this.directive.execute(e),this.serialized+=this.directive.serialized);else if(e.attrType>eAttrType.Directive&&e.attrType<eAttrType.Directive_End){i.attribute=e,n.serialize(i.attribute,i.item,i.attributeName,i.container);var c=a.serializeToString(n.DOM);if("<__InitialRoot/>"==c)continue;this.serialized+=c}else if("SelectionListener"==e.className){var h=e.getAttribute("computePivotDistance").getValueDirect();this.serialized+='<Set target="Selector" computePivotDistance="',this.serialized+=h?"true":"false",this.serialized+='"/>'}}else l.push(e);for(t=0;s>t;t++)if(e=r.getObject(t),e&&"DisconnectAttributes"==e.className){i.attribute=e,n.serialize(i.attribute,i.item,i.attributeName,i.container);var c=a.serializeToString(n.DOM);if("<__InitialRoot/>"==c)continue;this.serialized+=c}for(t=0;s>t;t++)if(e=r.getObject(t),e&&e.attrType>eAttrType.Command&&e.attrType<eAttrType.Command_End&&"DisconnectAttributes"!=e.className){i.attribute=e,n.serialize(i.attribute,i.item,i.attributeName,i.container);var c=a.serializeToString(n.DOM);if("<__InitialRoot/>"==c)continue;this.serialized+=c}var u=this.registry.find("SnapMgr");for(this.serialized+=u.serialize(),t=0;t<l.length;t++)this.directive.execute(l[t]),this.serialized+=this.directive.serialized}this.serialized+="</Session>",serializedScene+=this.serialized,console.log(this.serialized)},SerializeCommand.prototype.undo=function(){},SerializeCommand.prototype.setRegistry=function(t){var e=bridgeworks.registry.find("AttributeFactory");this.directive=e.create("SerializeDirective"),Command.prototype.setRegistry.call(this,t)
},SerializeCommand.prototype.getSerialized=function(){return this.serialized},ScreenCaptureCommand.prototype=new Command,ScreenCaptureCommand.prototype.constructor=ScreenCaptureCommand,ScreenCaptureCommand.prototype.execute=function(){var t=this.registry.find("Bridgeworks");t.eventMgr.addListener(eEventType.RenderBegin,this),t.eventMgr.addListener(eEventType.RenderEnd,this)},ScreenCaptureCommand.prototype.screenCapture=function(t){var e=document.getElementById(t),i=e.toDataURL("image/png");cimageData=i;var r=i.lastIndexOf(",")+1;i=i.substr(r),imgeData=Base64Binary.decode(i)},ScreenCaptureCommand.prototype.get2DElementCanvas=function(t){var e=document.createElement("canvas");e.id="canvas2D",e.width=t.width,e.height=t.height;for(var i=e.getContext("2d"),r=this.registry.getByType(eAttrType.Label),o="black",n="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='"+e.width+"' height='"+e.height+"'><foreignObject width='100%' height='100%'><div xmlns='http://www.w3.org/1999/xhtml' style='background:"+o+";'>",a=0;a<r.length;a++){var s=r[a].htmlLabel.style;n+="<span style='position:absolute; font-family:"+s.fontFamily+"; font-size:"+s.fontSize+"; font-weight:"+s.fontWeight+"; color:"+s.color+"; background-color:"+s.backgroundColor+"; text-shadow:"+s.textShadow+"; visibility:"+s.visibility+"; left:"+s.left+"; top:"+s.top+"; padding-left:"+s.paddingLeft+"; padding-right:"+s.paddingRight+"; padding-top:"+s.paddingTop+"; padding-bottom:"+s.paddingBottom+"; '>"+r[a].text.getValueDirect().join("")+"</span>"}n+="</div></foreignObject></svg>";var l=new Image;return l.src=n,i.fillStyle=o,i.fillRect(0,0,e.width,e.height),i.drawImage(l,0,0),{canvas:e,maskColor:o}},ScreenCaptureCommand.prototype.eventPerformed=function(t){switch(t.type){case eEventType.RenderBegin:var e=this.registry.find("ScreenCaptureRect"),i=this.registry.find("ScreenCaptureTexture");if(e&&i){var r=this.get2DElementCanvas(document.getElementById(this.canvasId.getValueDirect().join("")));i.textureObj.setImageWithCanvas(r.canvas),i.imageSet=!0,e.setTexture(i),e.enabled.setValueDirect(!0)}break;case eEventType.RenderEnd:this.screenCapture(this.canvasId.getValueDirect().join(""));var e=this.registry.find("ScreenCaptureRect");e&&e.enabled.setValueDirect(!1)}},ExportCommand.prototype=new Command,ExportCommand.prototype.constructor=ExportCommand,ExportCommand.prototype.execute=function(){if(this.targetNode){var t=this.url.getValueDirect().join("");switch(getFileExtension(t)){case"stl":this.exportSTL(this.targetNode,t)}}},ExportCommand.prototype.exportSTL=function(t,e){for(var i=t.name.getValueDirect().join(""),r=[],o=[],n=0;n<t.geometry.length;n++){var a=t.geometry[n];switch(a.attrType){case eAttrType.TriList:r=r.concat(a.vertices.getValueDirect()),o=o.concat(a.vertices.getValueDirect())}}if(0!=r.length){for(var s=FLT_MAX,l=FLT_MAX,c=FLT_MAX,n=0;n<r.length;n+=3)s=Math.min(s,r[n]),l=Math.min(l,r[n+1]),c=Math.min(c,r[n+2]);if(0>s){s=Math.abs(s);for(var n=0;n<r.length;n+=3)r[n]+=s}if(0>l){l=Math.abs(l);for(var n=0;n<r.length;n+=3)r[n+1]+=l}if(0>c){c=Math.abs(c);for(var n=0;n<r.length;n+=3)r[n+2]+=c}var h="";h+="solid "+i+"\r\n";for(var u=0,d=0;u<r.length&&d<o.length;u+=9,d+=9)h+="   facet normal "+o[d].toExponential()+" "+o[d+1].toExponential()+" "+o[d+2].toExponential()+"\r\n",h+="      outer loop\r\n",h+="         vertex "+r[u].toExponential()+" "+r[u+1].toExponential()+" "+r[u+2].toExponential()+"\r\n",h+="         vertex "+r[u+3].toExponential()+" "+r[u+4].toExponential()+" "+r[u+5].toExponential()+"\r\n",h+="         vertex "+r[u+6].toExponential()+" "+r[u+7].toExponential()+" "+r[u+8].toExponential()+"\r\n",h+="      endloop\r\n",h+="   end facet\r\n";h+="endsolid "+i;var p=new Blob([h],{type:"text/plain"});saveAs(p,e)}},MorphCommand.prototype=new Command,MorphCommand.prototype.constructor=MorphCommand,MorphCommand.prototype.execute=function(){if(this.sourceModel&&this.targetModel){var t=this.registry.find("ConnectionMgr");t&&t.connectModelsToMorph(this.sourceModel,this.targetModel,this.morphIncr.getValueDirect())}},SnapToCommand.prototype=new Command,SnapToCommand.prototype.constructor=SnapToCommand,SnapToCommand.prototype.execute=function(){var t,e=[];for(t=0;t<this.models.Size();t++){var i=this.models.getAt(t),r=this.registry.find(i.name.getValueDirect().join(""));if(r){var o=i.position.getValueDirect();r.position.setValueDirect(o.x,o.y,o.z);var n=i.quaternion.getValueDirect();r.quaternion.setValueDirect(n),r.updateSimpleTransform(),r.updateCompoundTransform(),e.push(r)}}var a=this.registry.find("SnapMgr");a.resnap(e)},SnapMgr.prototype=new AttributeContainer,SnapMgr.prototype.constructor=SnapMgr,SnapMgr.prototype.snapGenericToGeneric=function(t,e,i,r){var o=new Matrix4x4,n=r.getAttribute("normal").getValueDirect();n=new Vector3D(n.x,n.y,n.z),n.normalize();var a=i.getAttribute("normal").getValueDirect();a=new Vector3D(a.x,a.y,a.z),a.normalize();var s=crossProduct(n,a),l=cosineAngleBetween(n,a),c=180-toDegrees(Math.acos(l));if(c>0){var h=new Matrix4x4;h.loadRotation(s.x,s.y,s.z,c),o=h}var u,d;u=i.getAttribute("point").getAttribute("center").getValueDirect(),u=o.transform(u.x,u.y,u.z,1),d=r.getAttribute("point").getAttribute("center").getValueDirect();var p=new Matrix4x4;p.loadTranslation(d.x-u.x,d.y-u.y,d.z-u.z),o=o.multiply(p),i.getAttribute("connected").setValueDirect(!0),r.getAttribute("connected").setValueDirect(!0);var f=this.snap(t,e,o);return f},SnapMgr.prototype.snapPlugToSocket=function(t,e,i,r){var o=new Matrix4x4,n=r.getAttribute("normal").getValueDirect();n=new Vector3D(n.x,n.y,n.z),n.normalize();var a=i.getAttribute("normal").getValueDirect();a=new Vector3D(a.x,a.y,a.z),a.normalize();var s=crossProduct(n,a),l=cosineAngleBetween(n,a),c=180-toDegrees(Math.acos(l));if(c>0){var h=new Matrix4x4;h.loadRotation(s.x,s.y,s.z,c),o=h}var u=i.getAttribute("pin1").getAttribute("center").getValueDirect(),d=r.getAttribute("slot1").getAttribute("center").getValueDirect(),p=i.getAttribute("pin2").getAttribute("center").getValueDirect(),f=r.getAttribute("slot2").getAttribute("center").getValueDirect();u=o.transform(u.x,u.y,u.z,1),p=o.transform(p.x,p.y,p.z,1);var _,m;switch(r.slot){case 1:_=new Vector3D(p.x-u.x,p.y-u.y,p.z-u.z),m=new Vector3D(f.x-d.x,f.y-d.y,f.z-d.z);break;case 2:_=new Vector3D(u.x-p.x,u.y-p.y,u.z-p.z),m=new Vector3D(d.x-f.x,d.y-f.y,d.z-f.z);break;default:return}if(l=cosineAngleBetween(_,m),c=toDegrees(Math.acos(l)),c>0){var h=new Matrix4x4;h.loadRotation(a.x,a.y,a.z,c),o=o.multiply(h)}var g,y;switch(r.slot){case 1:g=i.getAttribute("pin1").getAttribute("center").getValueDirect(),y=r.getAttribute("slot1").getAttribute("center").getValueDirect();break;case 2:g=i.getAttribute("pin2").getAttribute("center").getValueDirect(),y=r.getAttribute("slot2").getAttribute("center").getValueDirect();break;default:return}g=o.transform(g.x,g.y,g.z,1);var b=new Matrix4x4;b.loadTranslation(y.x-g.x,y.y-g.y,y.z-g.z),o=o.multiply(b),i.getAttribute("connected").setValueDirect(!0),r.getAttribute("connected").setValueDirect(!0);var v=this.snap(t,e,o);return v},SnapMgr.prototype.snap=function(t,e,i){if(e.attrType!=eAttrType.SnapModel){var r=this.registry.find("AttributeFactory"),o=r.create("SnapModel");r.finalize("Model",o),o.synchronize(e,!0),o.vertices.setValueDirect(new Array),o.genericConnectors.clear(),o.plugConnectors.clear(),o.socketConnectors.clear();var n="CompoundModel_"+o.__nodeId__;o.name.setValueDirect(n),o.physicsEnabled.setValueDirect(!0),o.updateSimpleTransform(),o.updateCompoundTransform(),o.snap(e,new Matrix4x4),e.getParent(0).addChild(o),e=o}if(t.attrType==eAttrType.SnapModel){var a=t.snaps;t.getParent(0).removeChild(t),this.registry.unregister(t);for(var s in a)a[s]&&this.snap(a[s].model,e,a[s].matrix.multiply(i))}else e.snap(t,i);return e},SnapMgr.prototype.resnap=function(t){var e,i,r=[],o=[];for(e=0;e<t.length;e++)o.push(null);for(e=0;e<t.length;e++)if(null==o[e]){var n=t[e];for(i=0;i<t.length;i++)if(e!=i){var a=o[i]?o[i]:t[i],s=this.trySnap(n,a);if(s){for(o[e]=s,o[i]=s,k=0;k<r.length;k++)if(r[k]==a){r.splice(k,1);break}r.push(s);break}}}r.length>1&&this.resnap(r)},SnapMgr.prototype.trySnap=function(t,e){var i,r;if(0==t.snapEnabled.getValueDirect()||0==e.snapEnabled.getValueDirect())return null;if(t.attrType==eAttrType.SnapModel&&e.attrType!=eAttrType.SnapModel){var o=t;t=e,e=o}var n=t.sectorTransformCompound,a=e.sectorTransformCompound,s=t.genericConnectors,l=e.genericConnectors;for(i=0;i<s.Size();i++){var c=s.getAt(i);if(1!=c.connected.getValueDirect())for(r=0;r<l.Size();r++){var h=l.getAt(r);if(1!=h.connected.getValueDirect()&&c.type.getValueDirect().join("")==h.type.getValueDirect().join("")&&c.collides(h,n,a))return this.snapGenericToGeneric(t,e,c,h)}}var u=t.plugConnectors,d=e.socketConnectors;for(i=0;i<u.Size();i++){var p=u.getAt(i);if(1!=p.connected.getValueDirect())for(r=0;r<d.Size();r++){var f=d.getAt(r);if(1!=f.connected.getValueDirect()&&p.type.getValueDirect().join("")==f.type.getValueDirect().join("")&&(f.slot=p.collides(f,n,a))>0)return this.snapPlugToSocket(t,e,p,f)}}return null},SnapMgr.prototype.serialize=function(){var t,e="",i=this.registry.find("AttributeFactory"),r=i.create("Serializer"),o=new XMLSerializer,n=new Context,a=this.registry.getByType(eAttrType.SnapModel);if(a)for(t=0;t<a.length;t++){var s=new SnapToCommand,l=a[t].getSnapped();s.models.synchronize(l,!1),n.attribute=s,r.serialize(n.attribute,n.item,n.attributeName,n.container),e+=o.serializeToString(r.DOM)}return e};var eLWObjectTokens={COLR:1129270354,DIFF:1145652806,LUMI:1280658761,SPEC:1397769539,TRAN:1414676814};LWObjectHandler.prototype=new ContentHandler,LWObjectHandler.prototype.constructor=LWObjectHandler,LWObjectHandler.prototype.addObjectHandler=function(t,e){this.lwo2DataHandlers.push(t),this.lwo2DataHandlersData.push(e)},LWObjectHandler.prototype.parseFileStream=function(t){var e=formFullPath(t,this.contentDirectory.getValueDirect().join("")),i=loadBinaryResource(e);if(null==i)return-2;var r=new BinaryParser(i,!0);if(70!=r.readUInt8()||79!=r.readUInt8()||82!=r.readUInt8()||77!=r.readUInt8())return-1;var o=r.readUInt32();if(76!=r.readUInt8()||87!=r.readUInt8()||79!=r.readUInt8()||50!=r.readUInt8())return-1;o-=4;var n=new LWO2Data;n.contentDir=this.contentDirectory.getValueDirect().join("");var a=t.lastIndexOf("/"),s=t.lastIndexOf(".");for(n.name=t.substring(a+1,s);o>0;)o-=this.parseChunk(r,n);for(var l=0;l<this.lwo2DataHandlers.length;l++)this.lwo2DataHandlers[l](n,this.lwo2DataHandlersData[l]);return 0},LWObjectHandler.prototype.parseChunk=function(t,e){var i=0,r=t.readUInt32(),o=t.readUInt32();switch(r){case 1279351122:var n=t.readUInt16();i+=2;var a=t.readUInt16();i+=2;var s=t.readFloat32();i+=4;var l=t.readFloat32();i+=4;var c=t.readFloat32();i+=4;var h=this.readString(t);if(i+=h.bytesRead,o>i){{t.readUInt16()}i+=2}e.addLayer(n),e.currentLayer().name=h.string,e.currentLayer().pivot.x=s,e.currentLayer().pivot.y=l,e.currentLayer().pivot.z=c;break;case 1347310675:for(var u=o/12,d=0;u>d;d++){var s=t.readFloat32();i+=4;var l=t.readFloat32();i+=4;var c=t.readFloat32();i+=4,e.currentLayer().pnts[d]=new Vector3D,e.currentLayer().pnts[d].x=s,e.currentLayer().pnts[d].y=l,e.currentLayer().pnts[d].z=c}break;case 1347374163:var p=t.readUInt32();i+=4;for(var a,f;o>i;){var _=[];a=t.readUInt16(),i+=2,f=1023&a;for(var d=0;f>d;d++){var m=this.readVariableLengthIndex(t);i+=m.bytesRead,_.push(m.index)}e.currentLayer().pols.push(_)}break;case 1413564243:for(;o>i;){var g=this.readString(t);i+=g.bytesRead,e.tags.push(g.string)}break;case 1347699015:var p=t.readUInt32();for(i+=4;o>i;){var y=new LWO2PTAGData,m=this.readVariableLengthIndex(t);switch(i+=m.bytesRead,y.poly=m.index,y.tag=t.readUInt16(),i+=2,p){case 1398100550:e.currentLayer().putPtag(y),e.currentLayer().ptagsSURFMaxIndex=Math.max(y.tag,e.currentLayer().ptagsSURFMaxIndex)}}break;case 1447903568:var p=t.readUInt32();i+=4;var b=t.readUInt16();i+=2;var h=this.readString(t);i+=h.bytesRead;for(var v,M,S;o>i;){var m=this.readVariableLengthIndex(t);switch(i+=m.bytesRead,p){case 1415075158:v=t.readFloat32(),i+=4,M=t.readFloat32(),i+=4;var T=new LWO2VMAPData;T.vertex=m.index,T.u=v,T.v=M,e.currentLayer().putVmap("TXUV",h.string,T);break;default:for(var d=0;b>d;d++)S=t.readFloat32(),i+=4}}break;case 1447903556:var p=t.readUInt32();i+=4;var b=t.readUInt16();i+=2;var h=this.readString(t);i+=h.bytesRead;for(var v,M,S;o>i;){var x=this.readVariableLengthIndex(t);i+=x.bytesRead;var C=this.readVariableLengthIndex(t);switch(i+=C.bytesRead,p){case 1415075158:v=t.readFloat32(),i+=4,M=t.readFloat32(),i+=4;var E=new LWO2VMADData;E.vertex=x.index,E.poly=C.index,E.u=v,E.v=M,e.currentLayer().putVmad("TXUV",h.string,E);break;default:for(var d=0;b>d;d++)S=t.readFloat32(),i+=4}}break;case 1398100550:var h=this.readString(t);i+=h.bytesRead;var A=this.readString(t);for(i+=A.bytesRead,e.addSurface(h.string,A.string);o>i;)i+=this.parseSubChunk(t,e);break;case 1129072976:var m=t.readUInt32();for(i+=4,e.addClip(m),e.subChunkContext=r;o>i;)i+=this.parseSubChunk(t,e);break;case 1162761804:var m=this.readVariableLengthIndex(t);for(i+=m.bytesRead,e.addEnvelope(m.index);o>i;)i+=this.parseSubChunk(t,e);break;default:for(;o>i;)t.readUInt8(),i++}return 1&o&&(t.readUInt8(),i++),i+=8},LWObjectHandler.prototype.parseSubChunk=function(t,e){var i=0,r=t.readUInt32();i+=4;var o=t.readUInt16();switch(i+=2,r){case 1129270354:if(e.currentSurface().color.x=t.readFloat32(),i+=4,e.currentSurface().color.y=t.readFloat32(),i+=4,e.currentSurface().color.z=t.readFloat32(),i+=4,o>i-6){var n=this.readVariableLengthIndex(t);i+=n.bytesRead}break;case 1145652806:if(e.currentSurface().diffuseLevel=t.readFloat32(),i+=4,o>i-6){var n=this.readVariableLengthIndex(t);i+=n.bytesRead}break;case 1280658761:if(e.currentSurface().luminosityLevel=t.readFloat32(),i+=4,o>i-6){var n=this.readVariableLengthIndex(t);i+=n.bytesRead}break;case 1397769539:if(e.currentSurface().specularLevel=t.readFloat32(),i+=4,o>i-6){var n=this.readVariableLengthIndex(t);i+=n.bytesRead}break;case 1414676814:if(e.currentSurface().transparencyLevel=t.readFloat32(),i+=4,o>i-6){var n=this.readVariableLengthIndex(t);i+=n.bytesRead}break;case 1196183379:if(e.currentSurface().glossiness=t.readFloat32(),i+=4,o>i-6){var n=this.readVariableLengthIndex(t);i+=n.bytesRead}break;case 1397310533:e.currentSurface().doubleSided=3==t.readUInt16()?!0:!1,i+=2;break;case 1397571918:e.currentSurface().smoothingAngle=t.readFloat32(),i+=4;break;case 1398032716:case 1095649613:case 1230194001:var a=this.readString(t);for(i+=a.bytesRead;o>i-6;)t.readUInt8(),i+=1;e.currentClip().type=r,e.currentClip().setFilename(a.string);break;case 1313163073:var s=t.readUInt16();i+=2,"IMAP"==e.subChunkContext?e.currentSurface().currentBlock().negative=s:"CLIP"==e.subChunkContext&&(e.currentClip().negative=s);break;case 1112297291:e.currentSurface().addBlock();break;case 1229799760:var l=this.readString(t);i+=l.bytesRead,e.currentSurface().currentBlock().type="IMAP",e.currentSurface().currentBlock().ordinal=l.string,e.subChunkContext="IMAP";break;case 1128808782:var c=t.readUInt32();i+=4,"IMAP"==e.subChunkContext&&(e.currentSurface().currentBlock().channel=c);break;case 1162756418:e.currentSurface().currentBlock().enable=t.readUInt16(),i+=2;break;case 1330659651:if(e.currentSurface().currentBlock().opacityType=t.readUInt16(),i+=2,e.currentSurface().currentBlock().opacity=t.readFloat32(),i+=4,o>i-6){var h=this.readVariableLengthIndex(t);i+=h.bytesRead,e.currentSurface().currentBlock().opacityEnvelope=h.index}break;case 1414349136:break;case 1129206866:for(e.currentSurface().currentBlock().center.x=t.readFloat32(),i+=4,e.currentSurface().currentBlock().center.y=t.readFloat32(),i+=4,e.currentSurface().currentBlock().center.z=t.readFloat32(),i+=4;o>i-6;){var n=this.readVariableLengthIndex(t);i+=n.bytesRead}break;case 1397316165:for(e.currentSurface().currentBlock().size.x=t.readFloat32(),i+=4,e.currentSurface().currentBlock().size.y=t.readFloat32(),i+=4,e.currentSurface().currentBlock().size.z=t.readFloat32(),i+=4;o>i-6;){var n=this.readVariableLengthIndex(t);i+=n.bytesRead}break;case 1129535827:e.currentSurface().currentBlock().coordSys=t.readUInt16(),i+=2;break;case 1347571530:e.currentSurface().currentBlock().projMode=t.readUInt16(),i+=2;break;case 1096304979:var u=t.readUInt16();i+=2,"IMAP"==e.subChunkContext&&(e.currentSurface().currentBlock().axis=u);break;case 1229799751:var d=this.readVariableLengthIndex(t);i+=d.bytesRead,e.currentSurface().currentBlock().imageIndex=d.index;break;case 1465008464:e.currentSurface().currentBlock().widthWrap=t.readUInt16(),i+=2,e.currentSurface().currentBlock().heightWrap=t.readUInt16(),i+=2;break;case 1465012311:if(e.currentSurface().currentBlock().widthWrapAmt=t.readFloat32(),i+=4,o>i-6){var n=this.readVariableLengthIndex(t);i+=n.bytesRead}break;case 1465012296:if(e.currentSurface().currentBlock().heightWrapAmt=t.readFloat32(),i+=4,o>i-6){var n=this.readVariableLengthIndex(t);i+=n.bytesRead}break;case 1447903568:var p=this.readString(t);i+=p.bytesRead,e.currentSurface().currentBlock().uvMapName=p.string;break;case 1415139397:e.currentEnvelope().userFormat=t.readUInt8(),i+=1,e.currentEnvelope().type=t.readUInt8(),i+=1;break;case 1347568928:e.currentEnvelope().preBehavior=t.readUInt16(),i+=2;break;case 1347375956:e.currentEnvelope().postBehavior=t.readUInt16(),i+=2;break;default:for(;o>i-6;)t.readUInt8(),i+=1}return 1&o&&(t.readUInt8(),i+=1),i},LWObjectHandler.prototype.readString=function(t){var e="",i=0,r=0;do i=t.readUInt8(),r++,e+=String.fromCharCode(i);while(i);return 1&r&&(t.readUInt8(),r++),{string:e,bytesRead:r}},LWObjectHandler.prototype.readVariableLengthIndex=function(t){var e=0,i=new Array(4),r=0;return i[0]=t.readUInt8(),r++,i[1]=t.readUInt8(),r++,i[0]<65280?e=i[0]<<8|i[1]:(i[2]=t.readUInt8(),r++,i[3]=t.readUInt8(),r++,e=i[1]<<16|i[2]<<8|i[3]),{index:e,bytesRead:r}},LWObjectHandler.prototype.matchesType=function(t){return"lwo"==t},LWObjectBuilder.prototype=new ContentBuilder,LWObjectBuilder.prototype.constructor=LWObjectBuilder,LWObjectBuilder.prototype.visitHandler=function(t){t.addObjectHandler(LWObjectBuilder_ObjectHandler,this)},LWObjectBuilder.prototype.finalize=function(){},LWObjectBuilder.prototype.matchesType=function(t){return"lwo"==t},LWObjectBuilder.prototype.allocateModel=function(t){var e=null,i=this.layer;if(0==i)for(var r=0;r<t.layers.length;r++){if(this.models[0])e=this.models[0];else{var o=this.registry.find("AttributeFactory");e=o.create("Model"),this.models.push(e)}this.describeModel(t,t.layers[r],e)}else if(i<=t.layers.length){if(this.models[0])e=this.models[0];else{var o=this.registry.find("AttributeFactory");e=o.create("Model"),this.models.push(e)}this.describeModel(t,t.layers[i-1],e)}},LWObjectBuilder.prototype.describeModel=function(t,e,i){var r=this.registry.find("AttributeFactory"),o=i.getAttribute("name");if(0==o.modificationCount){var n=t.name;t.layers.length>1&&(n+=":Layer"+this.layer),o.setValueDirect(n)}var a=i.getAttribute("pivot");0==a.modificationCount&&a.setValue(e.pivot.v());for(var s=e.ptagsSURFMaxIndex+1,l=new Array(s),c=new Array(s),h=new Array(s),u=new Array(s),d=0;s>d;d++)l[d]=[],c[d]=[],h[d]=[],u[d]=[];for(var p,f,_=e.ptagsSURF.length,m=0;_>m;m++)switch(p=e.ptagsSURF[m].poly,f=e.ptagsSURF[m].tag,e.pols[p].length){case 3:l[f].push(p);break;case 2:c[f].push(p);break;case 1:h[f].push(p);break;default:u[f].push(p)}for(var g=new Array(s),f=0;s>f;f++)g[f]=this.allocateSurface(t,e,f),i.addSurface(g[f]);var y=[],b=[],v=[],M=[],S=[],T=[],x=[],C=[],E=new Vector3D,A=new Vector3D;y.length=e.pnts.length;for(var d=0;d<y.length;d++)y[d]=[];b.length=s,v.length=s,M.length=s,S.length=s,T.length=s,x.length=s,C.length=s;for(var f=0;f<g.length;f++){var w=[],R=[],D=[];b[f]=[],v[f]=[],M[f]=new Pair,M[f].first=M[f].second=0,S[f]=[],C[f]=[];for(var P=u[f],B=P.length,p=0;B>p;p++){for(var V=new JSM.Polygon,L=e.pols[P[p]],k=0;k<L.length;k++){var H=e.pnts[L[k]];D[L[k]]=H,w.push([H.x,H.y,H.z]),V.AddVertex(H.x,H.y,H.z)}for(var I=JSM.PolygonTriangulate(V),d=0;d<I.length;d++){var O=[];O.push(L[I[d][0]]),O.push(L[I[d][1]]),O.push(L[I[d][2]]),e.pols.push(O),l[f].push(e.pols.length-1)}}w=[],P=l[f],B=P.length;for(var p=0;B>p;p++){for(var L=e.pols[P[p]],k=0;3>k;k++){var H=e.pnts[L[k]];D[L[k]]=H,w.push(H.x),w.push(H.y),w.push(H.z),v[f].push(L[k]),M[f].first=Math.min(L[k],M[f].first),M[f].second=Math.min(L[k],M[f].second),S[f].push(P[p])}var J=L[0],N=L[1],F=L[2],G=e.pnts[J],z=e.pnts[N],j=e.pnts[F];E.load(z.x-G.x,z.y-G.y,z.z-G.z),A.load(j.x-G.x,j.y-G.y,j.z-G.z);var U=crossProduct(E,A);U.normalize(),R.push(U.x),R.push(U.y),R.push(U.z),R.push(U.x),R.push(U.y),R.push(U.z),R.push(U.x),R.push(U.y),R.push(U.z),b[f].push(new Pair(J,U)),b[f].push(new Pair(N,U)),b[f].push(new Pair(F,U)),y[J].push(U),y[N].push(U),y[F].push(U),C[f].push(U),C[f].push(U),C[f].push(U)}if(w.length){var W=r.create("TriList");i.addGeometry(W,v[f],g[f]),W.getAttribute("vertices").setValue(w),W.getAttribute("normals").setValue(R),T[f]=W,x[f]=w}w=[],P=c[f],B=P.length;for(var p=0;B>p;p++){var L=e.pols[p];if(!(L.length<2))for(var k=0;2>k;k++){var H=e.pnts[L[k]];D[L[k]]=H,w.push(H.x),w.push(H.y),w.push(H.z)}}if(w.length){var X=r.create("LineList");i.addGeometry(X,null,g[f]),X.getAttribute("vertices").setValue(w)}w=[],P=h[f],B=P.length;for(var p=0;B>p;p++){var L=e.pols[p],H=e.pnts[L[0]];D[L[0]]=H,w.push(H.x),w.push(H.y),w.push(H.z)}if(w.length){var q=r.create("PointList");i.addGeometry(q,null,g[f]),q.getAttribute("vertices").setValue(w)}var K=[];for(var Y in D)K.push(D[Y].x),K.push(D[Y].y),K.push(D[Y].z);g[f].getAttribute("vertices").setValue(K)}for(var Q=[],f=0;f<g.length;f++)if(T[f]){var Z=t.getSurface(t.tags[f]);if(Z){var $=Z.smoothingAngle;if(!(0>=$)){{Math.cos($)}Q.length=b[f].length;for(var d=0;d<Q.length;d++)Q[d]=new Vector3D;for(var te=0;te<b[f].length;te++){for(var ee=b[f][te].first,ie=b[f][te].second,re=0;re<y[ee].length;re++){var oe=y[ee][re],ne=cosineAngleBetween(ie,oe);Math.acos(ne)<=$&&(Q[te].x+=oe.x,Q[te].y+=oe.y,Q[te].z+=oe.z)}Q[te].normalize()}for(var ae=[],d=0;d<Q.length;d++)ae.push(Q[d].x),ae.push(Q[d].y),ae.push(Q[d].z);Q.length=0,T[f].getAttribute("normals").setValue(ae)}}}for(var f=0;f<g.length;f++){var se=t.getSurface(g[f].getAttribute("name").getValueDirect().join(""));if(se)for(var le=this.loadTextures(t,e,se,g[f]),d=0;d<le.length;d++){var ce=this.calculateTextureCoords(t,e,le[d].second,x[f],C[f],v[f],S[f]);ce&&T[f].getUVCoords(le[d].first).setValueDirect(ce)}}for(var he=new Array(3*e.pnts.length),ue=0;ue<e.pnts.length;ue++)he[3*ue]=e.pnts[ue].x,he[3*ue+1]=e.pnts[ue].y,he[3*ue+2]=e.pnts[ue].z;i.getAttribute("vertices").setValue(he)},LWObjectBuilder.prototype.allocateSurface=function(t,e,i){var r=this.registry.find("AttributeFactory");surface=r.create("Surface");var o=t.tags[i];return surface.getAttribute("name").setValueDirect(o),this.describeSurface(t.getSurface(o),surface),surface},LWObjectBuilder.prototype.describeSurface=function(t,e){if(t){var i=[];i.push(t.color.x),i.push(t.color.y),i.push(t.color.z),i.push(1),e.getAttribute("color").setValue(i),e.getAttribute("ambientLevel").setValueDirect(t.diffuseLevel),e.getAttribute("diffuseLevel").setValueDirect(t.diffuseLevel),e.getAttribute("specularLevel").setValueDirect(t.specularLevel),e.getAttribute("emissiveLevel").setValueDirect(t.luminosityLevel),e.getAttribute("glossiness").setValueDirect(t.glossiness),e.getAttribute("opacity").setValueDirect(1-t.transparencyLevel),e.getAttribute("doubleSided").setValueDirect(t.doubleSided?!0:!1)}},LWObjectBuilder.prototype.loadTextures=function(t,e,i,r){for(var o=[],n=[],a=0;a<i.blocks.length;a++){var s=i.blocks[a];"IMAP"==s.type&&(n[s.channel]||(n[s.channel]=[]),n[s.channel].push(s))}return n[eLWObjectTokens.COLR]&&this.allocateTextures(eTextureType.Color,t,e,n[eLWObjectTokens.COLR],r,o),n[eLWObjectTokens.DIFF]&&this.allocateTextures(eTextureType.Diffuse,t,e,n[eLWObjectTokens.DIFF],r,o),n[eLWObjectTokens.LUMI]&&this.allocateTextures(eTextureType.Luminosity,t,e,n[eLWObjectTokens.LUMI],r,o),n[eLWObjectTokens.SPEC]&&this.allocateTextures(eTextureType.Specular,t,e,n[eLWObjectTokens.SPEC],r,o),n[eLWObjectTokens.TRAN]&&this.allocateTextures(eTextureType.Transparency,t,e,n[eLWObjectTokens.TRAN],r,o),o},LWObjectBuilder.prototype.allocateTextures=function(t,e,i,r,o,n){for(var a=0;a<r.length;a++){var s=r[a];if(0==s.opacityType||7==s.opacityType){var l=e.clips[s.imageIndex];if(l){var c=null;a+1<r.length&&5==r[a+1].opacityType&&(c=e.clips[r[a+1].imageIndex]);var h,u;switch(s.widthWrap){case 0:h=eTextureWrap.None;break;case 1:h=eTextureWrap.Repeat;break;case 2:h=eTextureWrap.Mirror;break;case 3:h=eTextureWrap.Clamp}switch(s.heightWrap){case 0:u=eTextureWrap.None;break;case 1:u=eTextureWrap.Repeat;break;case 2:u=eTextureWrap.Mirror;break;case 3:u=eTextureWrap.Clamp}var d=l.getFilename(),p=d.lastIndexOf("/");d=-1===p?d:d.substring(p+1);var f=e.contentDir+"images/"+d,_=s.negative?!0:!1;!this.invertAlpha||t!=eTextureType.Transparency&&t!=eTextureType.Diffuse&&t!=eTextureType.Luminosity&&t!=eTextureType.Specularity||(_=!_);var m=!1;c&&(m=r[a+1].negative?!0:!1,this.invertAlpha&&(m=!m));var g=null,y=this.registry.find("AttributeFactory");g=y.create("MediaTexture"),g.getAttribute("name").setValueDirect(""),g.getAttribute("textureType").setValueDirect(t),g.getAttribute("opacity").setValueDirect(s.opacity),g.getAttribute("widthWrap").setValueDirect(h),g.getAttribute("heightWrap").setValueDirect(u),g.getAttribute("mipmappingEnabled").setValueDirect(!1),g.getAttribute("imageFilename").setValueDirect(f),g.getAttribute("negateImage").setValueDirect(_),g.getAttribute("negateAlpha").setValueDirect(m),c&&g.getAttribute("alphaFilename").setValueDirect(e.contentDir+c.getFilename()),n.push(new Pair(g,s)),o.addTexture(g)}}}},LWObjectBuilder.prototype.calculateTextureCoords=function(t,e,i,r,o,n,a){if(!(t&&e&&i&&r&&o&&n&&a))return null;var s=[],l=r.length/3;switch(i.projMode){case 0:case 1:case 2:var c,h,u;for(c=0,h=0,u=0;l>c;c++,h+=3,u+=2)u=this.mapXYZtoUV(r[h],r[h+1],r[h+2],i.center,i.size,i.projMode,i.axis,i.widthWrapAmt,i.heightWrapAmt),s.push(u.u),s.push(u.v);break;case 3:var c,h,u;for(c=0,h=0,u=0;l>c;c++,h+=3,u+=2)polyNormal=o[c],axis=Math.acos(cosineAngleBetween(polyNormal,new Vector3D(1,0,0)))<=QUARTERPI||Math.acos(cosineAngleBetween(polyNormal,new Vector3D(-1,0,0)))<=QUARTERPI?0:Math.acos(cosineAngleBetween(polyNormal,new Vector3D(0,1,0)))<=QUARTERPI||Math.acos(cosineAngleBetween(polyNormal,new Vector3D(0,-1,0)))<=QUARTERPI?1:2,u=this.mapXYZtoUV(r[h],r[h+1],r[h+2],i.center,i.size,0,axis,i.widthWrapAmt,i.heightWrapAmt),s.push(u.u),s.push(u.v);break;case 5:var c,d,p,u,f,_=e.getVmap("TXUV",i.uvMapName),m=e.getVmad("TXUV",i.uvMapName);for(c=0,u=0;l>c;c++,u+=2){if(d=n[c],p=a[c],f=!1,m&&m.length){for(var g=0;g<m.length&&!(m[g].poly>p);g++)if(m[g].poly==p&&m[g].vertex==d){s[u]=m[g].u,s[u+1]=m[g].v,f=!0;break}if(f)continue}if(_&&_.length)for(var y=0;y<_.length&&!(_[y].vertex>d);y++)if(_[y].vertex==d){s[u]=_[y].u,s[u+1]=_[y].v,f=!0;break}f||(s[u]=0,s[u+1]=0)}}return s},LWObjectBuilder.prototype.mapXYZtoUV=function(t,e,i,r,o,n,a,s,l){var c,h,u=0,d=0;switch(n){case 0:switch(a){case 0:u=(i-r.z)/o.z+.5,d=(e-r.y)/o.y+.5;break;case 1:u=(t-r.x)/o.x+.5,d=(i-r.z)/o.z+.5;break;case 2:default:u=(t-r.x)/o.x+.5,d=(e-r.y)/o.y+.5}break;case 1:switch(t-=r.x,e-=r.y,i-=r.z,a){case 0:c=XYZtoH(i,t,e),u=c/(TWOPI*s),d=t/o.x+.5;break;case 1:c=XYZtoH(t,e,i),u=c/(TWOPI*s),d=e/o.y+.5;break;case 2:default:c=XYZtoH(-t,i,-e),u=c/(TWOPI*s),d=-i/o.z+.5}u=modf(u).fractionalPart,0>u&&(u+=1);break;case 2:switch(t-=r.x,e-=r.y,i-=r.z,a){case 0:var p=XYZtoHP(i,t,-e);c=p.heading,h=p.pitch;break;case 1:var p=XYZtoHP(-t,e,i);c=p.heading,h=p.pitch;break;case 2:default:var p=XYZtoHP(-t,i,-e);c=p.heading,h=p.pitch}u=modf(1-c/TWOPI*s).fractionalPart,d=1-modf(.5-h/Math.PI*l).fractionalPart}return{u:u,v:d}},LWSceneHandler.prototype=new ContentHandler,LWSceneHandler.prototype.constructor=LWSceneHandler,LWSceneHandler.prototype.addTokenHandler=function(t,e){this.tokenHandlers.push(t),this.tokenHandlersData.push(e)},LWSceneHandler.prototype.parseFileStream=function(t){var e=formFullPath(t,this.contentDirectory.getValueDirect().join("")),i=loadTextResource(e);if(null==i)return-2;for(var r,o=new TextParser(i);r=o.readLineTokens();)if(0!=r.length){-1!=r[0].indexOf('"')&&(r.push(r[0].substring(1,r[0].length-1)),r[0]="String");for(var n=0;n<this.tokenHandlers.length;n++)this.tokenHandlers[n](r,this.tokenHandlersData[n])}for(var n=0;n<this.tokenHandlers.length;n++)this.tokenHandlers[n](new Array("EOF"),this.tokenHandlersData[n])},LWSceneBuilder.prototype=new ContentBuilder,LWSceneBuilder.prototype.constructor=LWSceneBuilder,LWSceneBuilder.prototype.visitHandler=function(t){t.addTokenHandler(LWSceneBuilder_TokenHandler,this)},LWSceneBuilder.prototype.finalize=function(){},LWSceneBuilder.prototype.matchesType=function(t){return"lws"==t||"mot"==t},LWSceneBuilder.prototype.handleToken=function(t,e){switch(t){case"LWSC":this.handleSceneToken(e);break;case"LWMO":this.handleMotionToken(e);break;default:this.handleCommandToken(t,e)}},LWSceneBuilder.prototype.handleSceneToken=function(){this.allocateSceneGraph()},LWSceneBuilder.prototype.handleMotionToken=function(){},LWSceneBuilder.prototype.handleCommandToken=function(t,e){this.allocateSceneElement(t,e)},LWSceneBuilder.prototype.allocateSceneGraph=function(){return this.root=this.factory.create("Isolator"),this.root.name.setValueDirect("Root"),this.root.isolateLights.setValueDirect(!0),this.registry.rootPtr.setValueDirect(this.root),this.evaluatorsGroup=this.factory.create("Group"),this.evaluatorsGroup.name.setValueDirect("Evaluators"),this.root.addChild(this.evaluatorsGroup),this.camerasSelector=this.factory.create("Selector"),this.camerasSelector.name.setValueDirect("Cameras"),this.camerasSelector.selectee.setValueDirect(0),this.root.addChild(this.camerasSelector),this.lightsGroup=this.factory.create("Group"),this.lightsGroup.name.setValueDirect("Lights"),this.root.addChild(this.lightsGroup),this.modelsGroup=this.factory.create("Group"),this.modelsGroup.name.setValueDirect("Models"),this.root.addChild(this.modelsGroup),this.renderDirective=this.factory.create("RenderDirective"),this.renderDirective.name.setValueDirect("RenderDirective"),this.renderDirective.rootNode.setValueDirect(this.root),!0},LWSceneBuilder.prototype.allocateSceneElement=function(t,e){switch(t){case"LoadObjectLayer":var i=this.factory.create("Model");this.currElement=i;var r=e[0];i.layer.setValueDirect(r);var o=e.slice(1).join();o=addSlashAfterDriveSpecifier(o),i.url.setValueDirect(o),i.disableOnDissolve.setValueDirect(!1),this.models.push(i),this.modelsGroup.addChild(i),finalizeModel(i,this.factory),this.objectBones.push(new Array);break;case"ObjectMotion":var n=this.factory.create("KeyframeInterpolator");n.name.setValueDirect("Motion"),this.evaluators.push(n),this.evaluatorsGroup.addChild(n);break;case"NumChannels":if(this.evaluators.length>0){var n=this.evaluators[this.evaluators.length-1],a=parseInt(e[0]);this.initializeKeyframeInterpolator(n,a);var s=this.currElement||this.registry.find(n.getAttribute("target").getValueDirect().join(""));if(s)switch(a){case 1:this.attachDissolveInterpolator(n,s);break;default:this.attachKeyframeInterpolator(n,s)}}break;case"Channel":this.currChannel=parseInt(e[0]);break;case"Key":if(this.evaluators.length>0){for(var n=this.evaluators[this.evaluators.length-1],l=n.channels.getAt(this.currChannel),c=new KeyframeAttr,h=0;h<e.length;h++)switch(h){case 0:var u=parseFloat(e[h]);(3==this.currChannel||4==this.currChannel||5==this.currChannel)&&(u=toDegrees(u)),c.value.setValueDirect(u);break;case 1:c.time.setValueDirect(parseFloat(e[h]));break;case 2:var d=parseInt(e[h]);switch(d){case 0:c.shape.setValueDirect(eKeyframeShape.TCB);break;case 1:c.shape.setValueDirect(eKeyframeShape.Hermite);break;case 2:c.shape.setValueDirect(eKeyframeShape.Bezier1D);break;case 3:c.shape.setValueDirect(eKeyframeShape.Linear);break;case 4:c.shape.setValueDirect(eKeyframeShape.Stepped);break;case 5:c.shape.setValueDirect(eKeyframeShape.Bezier2D);break;default:c.shape.setValueDirect(eKeyframeShape.Linear)
}break;case 3:case 4:case 5:case 6:case 7:case 8:c.params.getAt(h-3).setValueDirect(parseFloat(e[h]))}l.push_back(c)}break;case"Behaviors":if(this.evaluators.length>0){var n=this.evaluators[this.evaluators.length-1];n.preBehaviors.getAt(this.currChannel).setValueDirect(parseInt(e[0])),n.postBehaviors.getAt(this.currChannel).setValueDirect(parseInt(e[1]))}break;case"ObjectDissolve":if("(envelope)"==e[0]){var n=this.factory.create("KeyframeInterpolator");n.name.setValueDirect("Dissolve"),this.initializeKeyframeInterpolator(n,1),this.attachDissolveInterpolator(n,this.models[this.models.length-1]),this.evaluators.push(n),this.evaluatorsGroup.addChild(n)}else this.models.length>0&&this.models[this.models.length-1].dissolve.setValueDirect(parseFloat(e[0]));break;case"AddCamera":var p=this.factory.create("PerspectiveCamera");this.currElement=p,this.cameras.push(p),this.camerasSelector.addChild(p);break;case"CameraName":this.cameras.length>0&&this.cameras[this.cameras.length-1].name.setValueDirect(e[0]);break;case"CameraMotion":var n=this.factory.create("KeyframeInterpolator");n.name.setValueDirect("Motion"),this.evaluators.push(n),this.evaluatorsGroup.addChild(n);break;case"ZoomFactor":this.cameras.length>0&&this.cameras[this.cameras.length-1].zoom.setValueDirect(parseFloat(e[0]));break;case"AmbientColor":this.ambientLightDesc.colorR=parseFloat(e[0]),this.ambientLightDesc.colorG=parseFloat(e[1]),this.ambientLightDesc.colorB=parseFloat(e[2]);break;case"AmbientIntensity":var f=this.factory.create("GlobalIllumination");f.name.setValueDirect("GLight");var _=parseFloat(e[0]);f.ambient.setValueDirect(this.ambientLightDesc.colorR*_,this.ambientLightDesc.colorG*_,this.ambientLightDesc.colorB*_,1),this.lightsGroup.addChild(f);break;case"GlobalLightIntensity":this.globalLightDesc.intensity=parseFloat(e[0]);break;case"AddLight":var m=new TLWSCv3LightDesc;m.range=Math.sqrt(FLT_MAX),this.lightDescs.push(m),this.currElement=null;break;case"LightName":this.lightDescs.length>0&&(this.lightDescs[this.lightDescs.length-1].name=e[0]);break;case"LightMotion":var n=this.factory.create("KeyframeInterpolator");n.name.setValueDirect("Motion"),this.lightDescs.length>0&&(this.lightDescs[this.lightDescs.length-1].motion=n),this.evaluators.push(n),this.evaluatorsGroup.addChild(n);break;case"LightColor":this.lightDescs.length>0&&(this.lightDescs[this.lightDescs.length-1].colorR=parseFloat(e[0]),this.lightDescs[this.lightDescs.length-1].colorG=parseFloat(e[1]),this.lightDescs[this.lightDescs.length-1].colorB=parseFloat(e[2]));break;case"LightIntensity":this.lightDescs.length>0&&(this.lightDescs[this.lightDescs.length-1].intensity=parseFloat(e[0]));break;case"LightRange":this.lightDescs.length>0&&(this.lightDescs[this.lightDescs.length-1].range=parseFloat(e[0]));break;case"LightConeAngle":this.lightDescs.length>0&&(this.lightDescs[this.lightDescs.length-1].coneAngle=parseFloat(e[0]));break;case"LightEdgeAngle":this.lightDescs.length>0&&(this.lightDescs[this.lightDescs.length-1].edgeAngle=parseFloat(e[0]));break;case"LightType":this.lightDescs.length>0&&(this.lightDescs[this.lightDescs.length-1].type=parseInt(e[0]));break;case"AddNullObject":var g=this.factory.create("NullObject");this.currElement=g,this.models.push(g),this.modelsGroup.addChild(g),e[0]&&g.name.setValueDirect(e[0]);break;case"PivotPosition":this.currElement&&this.currElement.pivot.setValueDirect(parseFloat(e[0]),parseFloat(e[1]),parseFloat(e[2]));break;case"BoneFalloffType":this.boneFalloffType=parseInt(e[0]);break;case"AddBone":var y=this.factory.create("Bone");y.falloffType.setValueDirect(this.boneFalloffType),this.currElement=y,this.bones.push(y),this.objectBones[this.objectBones.length-1].push(y);break;case"BoneName":var y=this.bones.length>0?this.bones[this.bones.length-1]:null;if(y){for(var b=0,h=0;h<this.bones.length;h++)e[0]==this.bones[h].name.getValueDirect().join("")&&b++;b>0&&(e[0]+="("+b+"1)"),y.name.setValueDirect(e[0])}break;case"BoneRestPosition":var y=this.bones.length>0?this.bones[this.bones.length-1]:null;y&&y.restPosition.setValueDirect(parseFloat(e[0]),parseFloat(e[1]),parseFloat(e[2]));break;case"BoneRestDirection":var y=this.bones.length>0?this.bones[this.bones.length-1]:null;y&&y.restRotation.setValueDirect(parseFloat(e[1]),parseFloat(e[0]),parseFloat(e[2]));break;case"BoneRestLength":var y=this.bones.length>0?this.bones[this.bones.length-1]:null;y&&y.restLength.setValueDirect(parseFloat(e[0]));break;case"BoneStrength":var y=this.bones.length>0?this.bones[this.bones.length-1]:null;y&&y.strength.setValueDirect(parseFloat(e[0]));break;case"BoneScaleBoneStrength":var y=this.bones.length>0?this.bones[this.bones.length-1]:null;y&&y.scaleBoneStrength.setValueDirect(parseFloat(e[0]));break;case"BoneMotion":var n=this.factory.create("KeyframeInterpolator");n.name.setValueDirect("Motion"),this.bones.length>0&&(this.bones[this.bones.length-1].motion=n),this.evaluators.push(n),this.evaluatorsGroup.addChild(n);break;case"ParentItem":this.currElement?this.parentItems.push(new Pair(this.currElement,e[0])):this.lightDescs.length>0&&(this.lightDescs[this.lightDescs.length-1].parentItem=e[0]);case"GridSize":this.sceneData.gridSize=parseFloat(e[0]);case"NearClipDistance":this.cameras.length>0&&this.cameras[this.cameras.length-1].nearDistance.setValueDirect(parseFloat(e[0]));break;case"FramesPerSecond":this.sceneData.fps=parseFloat(e[0]);break;case"BackdropColor":this.sceneData.backgroundColorR=parseFloat(e[0]),this.sceneData.backgroundColorG=parseFloat(e[1]),this.sceneData.backgroundColorB=parseFloat(e[2]);break;case"}":this.currChannel=0,""!=this.imagePath&&(this.parsingBgImage?(this.renderDirective.backgroundImageFilename.setValueDirect(this.imagePath),this.parsingBgImage=!1):this.parsingFgImage?(this.renderDirective.foregroundImageFilename.setValueDirect(this.imagePath),this.parsingFgImage=!1):this.parsingFgAlphaImage&&(this.renderDirective.foregroundAlphaImageFilename.setValueDirect(this.imagePath),this.parsingFgAlphaImage=!1),this.imagePath="");break;case"String":(this.parsingBgImage||this.parsingFgImage||this.parsingFgAlphaImage)&&(this.imagePath=e[0]);break;case"BGImage":this.parsingBgImage=!0;break;case"FGImage":this.parsingFgImage=!0;break;case"FGAlphaImage":this.parsingFgAlphaImage=!0;break;case"EOF":this.finalize()}},LWSceneBuilder.prototype.finalize=function(){for(var t=[],e=0;e<this.models.length;e++){var i=this.models[e].name.getValueDirect().join("");void 0==t[i]&&(t[i]=new Array),t[i].push(this.models[e])}for(var i in t)if(t[i].length>1)for(var e=0;e<t[i].length;e++)t[i][e].name.setValueDirect(i+" ("+(e+1)+")");for(var r,o,e=0;e<this.cameras.length;e++){var n=this.cameras[e].zoom.getValueDirect();r=.1*this.sceneData.gridSize*n,o=1e5*r,this.cameras[e].nearDistance.setValueDirect(r),this.cameras[e].farDistance.setValueDirect(o)}for(var e=0;e<this.lightDescs.length;e++){var a=this.allocateLight(this.lightDescs[e]);this.lightDescs[e].parentItem&&this.parentItems.push(new Pair(a,this.lightDescs[e].parentItem)),this.lights.push(a),this.lightsGroup.addChild(a)}for(var e=0;e<this.parentItems.length;e++)this.setParentItem(this.parentItems[e].first,this.parentItems[e].second);for(var e=0;e<this.models.length;e++){var s=this.models[e];s.bones&&s.bones.length>0&&this.attachBoneEffectors(s,s.bones)}for(var e=0;e<this.evaluators.length;e++)this.evaluators[e].evaluate()},LWSceneBuilder.prototype.allocateLight=function(t){var e=null;switch(t.type){case 0:case 3:e=this.factory.create("DirectionalLight");break;case 1:e=this.factory.create("PointLight");break;case 2:case 4:e=this.factory.create("SpotLight")}if(!e)return null;t.motion&&this.attachKeyframeInterpolator(t.motion,e),e.name.setValueDirect(t.name);var i=t.colorR*t.intensity*this.globalLightDesc.intensity,r=t.colorG*t.intensity*this.globalLightDesc.intensity,o=t.colorB*t.intensity*this.globalLightDesc.intensity,n=1;switch(e.ambient.setValueDirect(this.ambientLightDesc.colorR*this.ambientLightDesc.intensity,this.ambientLightDesc.colorG*this.ambientLightDesc.intensity,this.ambientLightDesc.colorB*this.ambientLightDesc.intensity,1),e.diffuse.setValueDirect(i,r,o,n),e.specular.setValueDirect(i,r,o,n),t.type){case 0:case 3:break;case 1:e.range.setValueDirect(t.range);break;case 2:case 4:e.range.setValueDirect(t.range),e.innerConeDegrees.setValueDirect(t.coneAngle),e.outerConeDegrees.setValueDirect(t.edgeAngle),e.coneFalloff.setValueDirect(1)}return e},LWSceneBuilder.prototype.initializeKeyframeInterpolator=function(t,e){t.setNumChannels(e)},LWSceneBuilder.prototype.attachKeyframeInterpolator=function(t,e){if(t&&e){for(var i=t.getAttribute("channels").vector.length,r=0;i>r;r++){var o=t.getAttribute("resultValues").getAt(r);switch(r){case 0:o.addElementTarget(e.getAttribute("position"),0,0);break;case 1:o.addElementTarget(e.getAttribute("position"),0,1);break;case 2:o.addElementTarget(e.getAttribute("position"),0,2);break;case 3:o.addElementTarget(e.getAttribute("rotation"),0,1);break;case 4:o.addElementTarget(e.getAttribute("rotation"),0,0);break;case 5:o.addElementTarget(e.getAttribute("rotation"),0,2);break;case 6:o.addElementTarget(e.getAttribute("scale"),0,0);break;case 7:o.addElementTarget(e.getAttribute("scale"),0,1);break;case 8:o.addElementTarget(e.getAttribute("scale"),0,2)}}t.getAttribute("time").setValueDirect(0)}},LWSceneBuilder.prototype.attachDissolveInterpolator=function(t,e){if(t&&e){var i=t.getAttribute("resultValues").getAt(0);i.addElementTarget(e.getAttribute("dissolve"),0,0)}},LWSceneBuilder.prototype.attachBoneEffectors=function(t,e){for(var i=0;i<t.geometries.length;i++){var r=t.geometries[i],o=this.factory.create("BoneEffector");this.evaluators.push(o),this.evaluatorsGroup.addChild(o);for(var n=0;n<e.length;n++)o.addBoneHierarchy(e[n]);var a=r.getAttribute("vertices"),s=a.getValueDirect(),l=r.getAttribute("normals"),c=l.getValueDirect();o.getAttribute("vertices").setValueDirect(s),o.getAttribute("normals").setValueDirect(c),o.getAttribute("resultVertices").addTarget(a),o.getAttribute("resultNormals").addTarget(l)}},LWSceneBuilder.prototype.setParentItem=function(t,e){var i=hexStrToULong(e.substring(1)),r=null;switch(e.charAt(0)){case"1":r=this.models[i],t.attrType==eAttrType.Bone&&r.bones.push(t);break;case"2":r=this.lights[i];break;case"3":r=this.cameras[i];break;case"4":var o=hexStrToULong(e.substring(1,4)),n=hexStrToULong(e.substring(4));if(this.bones.length>o){var a=t,s=null;this.objectBones.length>n&&this.objectBones[n].length>o&&(s=this.objectBones[n][o]),s&&a&&s.addChild(a)}break;default:return}switch(t.attrType){case eAttrType.Bone:break;default:t.setMotionParent(r)}},AttributeFactory.prototype=new AttributeContainer,AttributeFactory.prototype.constructor=AttributeFactory,AttributeFactory.prototype.create=function(t){var e=null,i=this.newResourceProcs[t];if(i&&(e=i(t,this)),!e)return null;var r=this.configureProcs[t];return r&&r(e,this),e.isContainer()&&(e.getAttribute("name")||e.registerAttribute(new StringAttr(""),"name"),e.getAttribute("userData")||e.registerAttribute(new StringAttr(""),"userData")),this.registry&&(this.registry.register(e),e.setRegistry(this.registry)),e},AttributeFactory.prototype.finalize=function(t,e){var i=this.finalizeProcs[t];i&&i(e,this)},AttributeFactory.prototype.initializeNewResourceMap=function(){this.newResourceProcs.Styles=newAttribute,this.newResourceProcs.StyleMap=newAttribute,this.newResourceProcs.StylesMap=newAttribute,this.newResourceProcs.LabelStyle=newAttribute,this.newResourceProcs.IconStyle=newAttribute,this.newResourceProcs.FontStyle=newAttribute,this.newResourceProcs.HTMLLabelStyle=newAttribute,this.newResourceProcs.BalloonTipLabelStyle=newAttribute,this.newResourceProcs.RenderableElementStyle=newAttribute,this.newResourceProcs.Serializer=newAttribute,this.newResourceProcs.Bone=newAttribute,this.newResourceProcs.DirectionalLight=newSGNode,this.newResourceProcs.GlobalIllumination=newSGNode,this.newResourceProcs.Group=newSGNode,this.newResourceProcs.Isolator=newSGNode,this.newResourceProcs.Label=newSGNode,this.newResourceProcs.HTMLLabel=newSGNode,this.newResourceProcs.BalloonTipLabel=newSGNode,this.newResourceProcs.LineList=newSGNode,this.newResourceProcs.MediaTexture=newSGNode,this.newResourceProcs.Model=newModel,this.newResourceProcs.OrthographicCamera=newSGNode,this.newResourceProcs.PerspectiveCamera=newSGNode,this.newResourceProcs.PointLight=newSGNode,this.newResourceProcs.PointList=newSGNode,this.newResourceProcs.QuaternionRotate=newSGNode,this.newResourceProcs.Rotate=newSGNode,this.newResourceProcs.Scale=newSGNode,this.newResourceProcs.Selector=newSGNode,this.newResourceProcs.Surface=newSGNode,this.newResourceProcs.Translate=newSGNode,this.newResourceProcs.Transform=newSGNode,this.newResourceProcs.TriList=newSGNode,this.newResourceProcs.NullObject=newSGNode,this.newResourceProcs.Material=newSGNode,this.newResourceProcs.ScreenRect=newSGNode,this.newResourceProcs.SnapModel=newSnapModel,this.newResourceProcs.Beam=newShape,this.newResourceProcs.Box=newShape,this.newResourceProcs.Elbow=newShape,this.newResourceProcs.Gear=newShape,this.newResourceProcs.Plank=newShape,this.newResourceProcs.Pyramid=newShape,this.newResourceProcs.Ring=newShape,this.newResourceProcs.Ball=newShape,this.newResourceProcs.Tube=newShape,this.newResourceProcs.Wall=newShape,this.newResourceProcs.Wedge=newShape,this.newResourceProcs.BBoxDirective=newSGDirective,this.newResourceProcs.RayPickDirective=newSGDirective,this.newResourceProcs.RenderDirective=newSGDirective,this.newResourceProcs.SerializeDirective=newSGDirective,this.newResourceProcs.UpdateDirective=newSGDirective,this.newResourceProcs.CollideDirective=newSGDirective,this.newResourceProcs.HighlightDirective=newSGDirective,this.newResourceProcs.BBoxLocator=newBBoxLocator,this.newResourceProcs.KeyframeInterpolator=newKeyframeInterpolator,this.newResourceProcs.MapProjectionCalculator=newMapProjectionCalculator,this.newResourceProcs.ObjectInspector=newObjectInspector,this.newResourceProcs.SceneInspector=newSceneInspector,this.newResourceProcs.TargetObserver=newTargetObserver,this.newResourceProcs.AnimalMover=newAnimalMover,this.newResourceProcs.WalkSimulator=newWalkSimulator,this.newResourceProcs.MorphEffector=newMorphEffector,this.newResourceProcs.BoneEffector=newBoneEffector,this.newResourceProcs.PhysicsSimulator=newPhysicsSimulator,this.newResourceProcs.GoblinPhysicsSimulator=newGoblinPhysicsSimulator,this.newResourceProcs.CannonPhysicsSimulator=newCannonPhysicsSimulator,this.newResourceProcs.Spinner=newAnimator,this.newResourceProcs.AppendNode=newCommand,this.newResourceProcs.AutoInterpolate=newCommand,this.newResourceProcs.CommandSequence=newCommand,this.newResourceProcs.ConnectAttributes=newCommand,this.newResourceProcs.ConnectOutputs=newCommand,this.newResourceProcs.DisconnectAttributes=newCommand,this.newResourceProcs.DisconnectOutputs=newCommand,this.newResourceProcs.Export=newCommand,this.newResourceProcs.Locate=newCommand,this.newResourceProcs.MotionInterpolate=newCommand,this.newResourceProcs.Pause=newCommand,this.newResourceProcs.Play=newCommand,this.newResourceProcs.Remove=newCommand,this.newResourceProcs.ScreenCapture=newCommand,this.newResourceProcs.Serialize=newCommand,this.newResourceProcs.Set=newCommand,this.newResourceProcs.Stop=newCommand,this.newResourceProcs.Morph=newCommand,this.newResourceProcs.SnapTo=newCommand,this.newResourceProcs.MouseHandler=newDeviceHandler,this.newResourceProcs.KeyboardHandler=newDeviceHandler},AttributeFactory.prototype.initializeConfigureMap=function(){this.configureProcs.Model=configureModel,this.configureProcs.BBoxDirective=configureDirective,this.configureProcs.RayPickDirective=configureDirective,this.configureProcs.RenderDirective=configureDirective,this.configureProcs.SerializeDirective=configureDirective,this.configureProcs.UpdateDirective=configureDirective,this.configureProcs.CollideDirective=configureDirective,this.configureProcs.HighlightDirective=configureDirective},AttributeFactory.prototype.initializeFinalizeMap=function(){this.finalizeProcs.Model=finalizeModel,this.finalizeProcs.Beam=finalizeModel,this.finalizeProcs.Box=finalizeModel,this.finalizeProcs.Elbow=finalizeModel,this.finalizeProcs.Gear=finalizeModel,this.finalizeProcs.Plank=finalizeModel,this.finalizeProcs.Pyramid=finalizeModel,this.finalizeProcs.Ring=finalizeModel,this.finalizeProcs.Ball=finalizeModel,this.finalizeProcs.Tube=finalizeModel,this.finalizeProcs.Wall=finalizeModel,this.finalizeProcs.Wedge=finalizeModel,this.finalizeProcs.BBoxDirective=finalizeDirective,this.finalizeProcs.RayPickDirective=finalizeDirective,this.finalizeProcs.RenderDirective=finalizeDirective,this.finalizeProcs.SerializeDirective=finalizeDirective,this.finalizeProcs.UpdateDirective=finalizeDirective,this.finalizeProcs.CollideDirective=finalizeDirective,this.finalizeProcs.HighlightDirective=finalizeDirective,this.finalizeProcs.KeyframeInterpolator=finalizeEvaluator,this.finalizeProcs.AppendNode=finalizeCommand,this.finalizeProcs.AutoInterpolate=finalizeCommand,this.finalizeProcs.CommandSequence=finalizeCommand,this.finalizeProcs.ConnectAttributes=finalizeCommand,this.finalizeProcs.ConnectOutputs=finalizeCommand,this.finalizeProcs.DisconnectAttributes=finalizeCommand,this.finalizeProcs.DisconnectOutputs=finalizeCommand,this.finalizeProcs.Export=finalizeCommand,this.finalizeProcs.Locate=finalizeCommand,this.finalizeProcs.MotionInterpolate=finalizeCommand,this.finalizeProcs.Pause=finalizeCommand,this.finalizeProcs.Play=finalizeCommand,this.finalizeProcs.Remove=finalizeCommand,this.finalizeProcs.ScreenCapture=finalizeCommand,this.finalizeProcs.Serialize=finalizeCommand,this.finalizeProcs.Set=finalizeCommand,this.finalizeProcs.Stop=finalizeCommand,this.finalizeProcs.Morph=finalizeCommand,this.finalizeProcs.SnapTo=finalizeCommand,this.finalizeProcs.MouseHandler=finalizeDeviceHandler,this.finalizeProcs.KeyboardHandler=finalizeDeviceHandler},AttributeFactory.prototype.setRegistry=function(t){this.registry=t},AttributeFactory.prototype.setGraphMgr=function(t){this.graphMgr=t};var bridgeworks=null;Bridgeworks.prototype=new AttributeContainer,Bridgeworks.prototype.constructor=Bridgeworks,Bridgeworks.prototype.get=function(t){return this.registry.find(t)},Bridgeworks.prototype.handleEvent=function(t,e){var i=null;switch(getObjectClassName(t)){case"MouseEvent":case"MouseEventConstructor":case"WheelEvent":var r=getElementAbsolutePos(this.canvas);t.canvasX=t.clientX-r.x,t.canvasY=t.clientY-r.y,i=this.eventAdapter.createMouseEvent(t);break;case"KeyboardEvent":case"KeyboardEventConstructor":i=this.eventAdapter.createKeyboardEvent(t,e)}i&&this.eventMgr.processEvent(i)},Bridgeworks.prototype.initRegistry=function(){this.registry.register(this),this.registry.register(this.graphMgr),this.registry.register(this.factory),this.registry.register(this.eventAdapter),this.registry.register(this.eventMgr),this.registry.register(this.commandMgr),this.registry.register(this.connectionMgr),this.registry.register(this.viewportMgr),this.registry.register(this.selector),this.registry.register(this.renderAgent),this.registry.register(this.layout),this.registry.register(this.mapProjectionCalculator),this.registry.register(this.rasterComponentEventListener),this.registry.register(this.snapMgr),this.registry.register(this.physicsSimulator),this.registry.registerByName(this.renderAgent,"AnimationAgent")},Bridgeworks.prototype.initEventListeners=function(){this.eventMgr.addListener(eEventType.MouseLeftDown,this.selector),this.eventMgr.addListener(eEventType.MouseLeftDblClick,this.selector),this.eventMgr.addListener(eEventType.MouseMiddleDown,this.selector),this.eventMgr.addListener(eEventType.MouseRightDown,this.selector),this.eventMgr.addListener(eEventType.MouseBothDown,this.selector),this.eventMgr.addListener(eEventType.MouseHover,this.selector),this.eventMgr.addListener(eEventType.MouseLeftDown,this.rasterComponentEventListener),this.eventMgr.addListener(eEventType.MouseLeftUp,this.rasterComponentEventListener),this.eventMgr.addListener(eEventType.MouseLeftClick,this.rasterComponentEventListener),this.eventMgr.addListener(eEventType.MouseLeftDblClick,this.rasterComponentEventListener),this.eventMgr.addListener(eEventType.MouseMiddleDown,this.rasterComponentEventListener),this.eventMgr.addListener(eEventType.MouseMiddleUp,this.rasterComponentEventListener),this.eventMgr.addListener(eEventType.MouseMiddleClick,this.rasterComponentEventListener),this.eventMgr.addListener(eEventType.MouseMiddleDblClick,this.rasterComponentEventListener),this.eventMgr.addListener(eEventType.MouseRightDown,this.rasterComponentEventListener),this.eventMgr.addListener(eEventType.MouseRightUp,this.rasterComponentEventListener),this.eventMgr.addListener(eEventType.MouseRightClick,this.rasterComponentEventListener),this.eventMgr.addListener(eEventType.MouseRightDblClick,this.rasterComponentEventListener),this.eventMgr.addListener(eEventType.MouseWheelDown,this.rasterComponentEventListener),this.eventMgr.addListener(eEventType.MouseWheelUp,this.rasterComponentEventListener),this.eventMgr.addListener(eEventType.MouseBothDown,this.rasterComponentEventListener),this.eventMgr.addListener(eEventType.MouseHover,this.rasterComponentEventListener),this.eventMgr.addListener(eEventType.MouseMove,this.rasterComponentEventListener)},Bridgeworks.prototype.onLoadModified=function(){this.renderAgent.stop(),this.selector.stop(),this.rasterComponentEventListener.stop(),this.commandMgr.clearCommandSequenceStack(),this.eventMgr.clearEvents(),$("#RasterComponents").empty(),this.selector.clearSelections(),this.selector.getAttribute("lastSelectedName").setValueDirect(""),this.viewportMgr.initLayout(),this.registry.clear(),g__nodeId__=0,this.initEventListeners(),this.initRegistry(),this.renderAgent.getAttribute("globalTimeInSecs").setValueDirect(0),this.graphMgr.reset(),this.renderAgent.start(),this.selector.start(),this.rasterComponentEventListener.start(),this.physicsSimulator.bodies.clear(),this.physicsSimulator.deletePhysicsBodies(),console.debug("TODO: "+arguments.callee.name)},Bridgeworks.prototype.resize=function(t,e){this.canvas.width=t,this.canvas.height=e,this.renderContext.setViewport(this.canvas.offsetLeft,this.canvas.offsetTop,t,e),this.viewportMgr.getAttribute("width").setValueDirect(t),this.viewportMgr.getAttribute("height").setValueDirect(e)},Bridgeworks.prototype.render=function(){this.eventMgr.processEvent(new Event(eEventType.RenderBegin)),this.renderContext.clear(),this.renderAgent.render(),this.eventMgr.processEvent(new Event(eEventType.RenderEnd))},Bridgeworks.prototype.setRenderContext=function(t){this.renderContext=t,this.graphMgr.setRenderContext(t)},Bridgeworks.prototype.updateScene=function(t){var e=new String(t),i=e.substr(e.length-3,3);"xml"==i&&(t=loadXMLResource(this.contentDir+"/"+t));var r=this.physicsSimulator.evaluate_.getValueDirect();this.parser.parse(t),this.physicsSimulator.evaluate_.setValueDirect(r)},function(t,e){function i(t){var e=t.length,i=he.type(t);return he.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===i||"function"!==i&&(0===e||"number"==typeof e&&e>0&&e-1 in t)}function r(t){var e=Ce[t]={};return he.each(t.match(de)||[],function(t,i){e[i]=!0}),e}function o(t,i,r,o){if(he.acceptData(t)){var n,a,s=he.expando,l=t.nodeType,c=l?he.cache:t,h=l?t[s]:t[s]&&s;if(h&&c[h]&&(o||c[h].data)||r!==e||"string"!=typeof i)return h||(h=l?t[s]=ee.pop()||he.guid++:s),c[h]||(c[h]=l?{}:{toJSON:he.noop}),("object"==typeof i||"function"==typeof i)&&(o?c[h]=he.extend(c[h],i):c[h].data=he.extend(c[h].data,i)),a=c[h],o||(a.data||(a.data={}),a=a.data),r!==e&&(a[he.camelCase(i)]=r),"string"==typeof i?(n=a[i],null==n&&(n=a[he.camelCase(i)])):n=a,n}}function n(t,e,i){if(he.acceptData(t)){var r,o,n=t.nodeType,a=n?he.cache:t,l=n?t[he.expando]:he.expando;if(a[l]){if(e&&(r=i?a[l]:a[l].data)){he.isArray(e)?e=e.concat(he.map(e,he.camelCase)):e in r?e=[e]:(e=he.camelCase(e),e=e in r?[e]:e.split(" ")),o=e.length;for(;o--;)delete r[e[o]];if(i?!s(r):!he.isEmptyObject(r))return}(i||(delete a[l].data,s(a[l])))&&(n?he.cleanData([t],!0):he.support.deleteExpando||a!=a.window?delete a[l]:a[l]=null)}}}function a(t,i,r){if(r===e&&1===t.nodeType){var o="data-"+i.replace(Ae,"-$1").toLowerCase();if(r=t.getAttribute(o),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:Ee.test(r)?he.parseJSON(r):r}catch(n){}he.data(t,i,r)}else r=e}return r}function s(t){var e;for(e in t)if(("data"!==e||!he.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function l(){return!0}function c(){return!1}function h(){try{return Y.activeElement}catch(t){}}function u(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function d(t,e,i){if(he.isFunction(e))return he.grep(t,function(t,r){return!!e.call(t,r,t)!==i});if(e.nodeType)return he.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(Ge.test(e))return he.filter(e,t,i);e=he.filter(e,t)}return he.grep(t,function(t){return he.inArray(t,e)>=0!==i})}function p(t){var e=We.split("|"),i=t.createDocumentFragment();if(i.createElement)for(;e.length;)i.createElement(e.pop());return i}function f(t,e){return he.nodeName(t,"table")&&he.nodeName(1===e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function _(t){return t.type=(null!==he.find.attr(t,"type"))+"/"+t.type,t}function m(t){var e=oi.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function g(t,e){for(var i,r=0;null!=(i=t[r]);r++)he._data(i,"globalEval",!e||he._data(e[r],"globalEval"))}function y(t,e){if(1===e.nodeType&&he.hasData(t)){var i,r,o,n=he._data(t),a=he._data(e,n),s=n.events;if(s){delete a.handle,a.events={};for(i in s)for(r=0,o=s[i].length;o>r;r++)he.event.add(e,i,s[i][r])}a.data&&(a.data=he.extend({},a.data))}}function b(t,e){var i,r,o;if(1===e.nodeType){if(i=e.nodeName.toLowerCase(),!he.support.noCloneEvent&&e[he.expando]){o=he._data(e);for(r in o.events)he.removeEvent(e,r,o.handle);e.removeAttribute(he.expando)}"script"===i&&e.text!==t.text?(_(e).text=t.text,m(e)):"object"===i?(e.parentNode&&(e.outerHTML=t.outerHTML),he.support.html5Clone&&t.innerHTML&&!he.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===i&&ei.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===i?e.defaultSelected=e.selected=t.defaultSelected:("input"===i||"textarea"===i)&&(e.defaultValue=t.defaultValue)}}function v(t,i){var r,o,n=0,a=typeof t.getElementsByTagName!==q?t.getElementsByTagName(i||"*"):typeof t.querySelectorAll!==q?t.querySelectorAll(i||"*"):e;if(!a)for(a=[],r=t.childNodes||t;null!=(o=r[n]);n++)!i||he.nodeName(o,i)?a.push(o):he.merge(a,v(o,i));return i===e||i&&he.nodeName(t,i)?he.merge([t],a):a}function M(t){ei.test(t.type)&&(t.defaultChecked=t.checked)}function S(t,e){if(e in t)return e;for(var i=e.charAt(0).toUpperCase()+e.slice(1),r=e,o=xi.length;o--;)if(e=xi[o]+i,e in t)return e;return r}function T(t,e){return t=e||t,"none"===he.css(t,"display")||!he.contains(t.ownerDocument,t)}function x(t,e){for(var i,r,o,n=[],a=0,s=t.length;s>a;a++)r=t[a],r.style&&(n[a]=he._data(r,"olddisplay"),i=r.style.display,e?(n[a]||"none"!==i||(r.style.display=""),""===r.style.display&&T(r)&&(n[a]=he._data(r,"olddisplay",w(r.nodeName)))):n[a]||(o=T(r),(i&&"none"!==i||!o)&&he._data(r,"olddisplay",o?i:he.css(r,"display"))));for(a=0;s>a;a++)r=t[a],r.style&&(e&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=e?n[a]||"":"none"));return t}function C(t,e,i){var r=gi.exec(e);return r?Math.max(0,r[1]-(i||0))+(r[2]||"px"):e}function E(t,e,i,r,o){for(var n=i===(r?"border":"content")?4:"width"===e?1:0,a=0;4>n;n+=2)"margin"===i&&(a+=he.css(t,i+Ti[n],!0,o)),r?("content"===i&&(a-=he.css(t,"padding"+Ti[n],!0,o)),"margin"!==i&&(a-=he.css(t,"border"+Ti[n]+"Width",!0,o))):(a+=he.css(t,"padding"+Ti[n],!0,o),"padding"!==i&&(a+=he.css(t,"border"+Ti[n]+"Width",!0,o)));return a}function A(t,e,i){var r=!0,o="width"===e?t.offsetWidth:t.offsetHeight,n=hi(t),a=he.support.boxSizing&&"border-box"===he.css(t,"boxSizing",!1,n);if(0>=o||null==o){if(o=ui(t,e,n),(0>o||null==o)&&(o=t.style[e]),yi.test(o))return o;r=a&&(he.support.boxSizingReliable||o===t.style[e]),o=parseFloat(o)||0}return o+E(t,e,i||(a?"border":"content"),r,n)+"px"}function w(t){var e=Y,i=vi[t];return i||(i=R(t,e),"none"!==i&&i||(ci=(ci||he("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(e.documentElement),e=(ci[0].contentWindow||ci[0].contentDocument).document,e.write("<!doctype html><html><body>"),e.close(),i=R(t,e),ci.detach()),vi[t]=i),i}function R(t,e){var i=he(e.createElement(t)).appendTo(e.body),r=he.css(i[0],"display");return i.remove(),r}function D(t,e,i,r){var o;if(he.isArray(e))he.each(e,function(e,o){i||Ei.test(t)?r(t,o):D(t+"["+("object"==typeof o?e:"")+"]",o,i,r)});else if(i||"object"!==he.type(e))r(t,e);else for(o in e)D(t+"["+o+"]",e[o],i,r)}function P(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var r,o=0,n=e.toLowerCase().match(de)||[];if(he.isFunction(i))for(;r=n[o++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(i)):(t[r]=t[r]||[]).push(i)}}function B(t,i,r,o){function n(l){var c;return a[l]=!0,he.each(t[l]||[],function(t,l){var h=l(i,r,o);return"string"!=typeof h||s||a[h]?s?!(c=h):e:(i.dataTypes.unshift(h),n(h),!1)}),c}var a={},s=t===zi;return n(i.dataTypes[0])||!a["*"]&&n("*")}function V(t,i){var r,o,n=he.ajaxSettings.flatOptions||{};for(o in i)i[o]!==e&&((n[o]?t:r||(r={}))[o]=i[o]);return r&&he.extend(!0,t,r),t}function L(t,i,r){for(var o,n,a,s,l=t.contents,c=t.dataTypes;"*"===c[0];)c.shift(),n===e&&(n=t.mimeType||i.getResponseHeader("Content-Type"));if(n)for(s in l)if(l[s]&&l[s].test(n)){c.unshift(s);break}if(c[0]in r)a=c[0];else{for(s in r){if(!c[0]||t.converters[s+" "+c[0]]){a=s;break}o||(o=s)}a=a||o}return a?(a!==c[0]&&c.unshift(a),r[a]):e}function k(t,e,i,r){var o,n,a,s,l,c={},h=t.dataTypes.slice();if(h[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(n=h.shift();n;)if(t.responseFields[n]&&(i[t.responseFields[n]]=e),!l&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=n,n=h.shift())if("*"===n)n=l;else if("*"!==l&&l!==n){if(a=c[l+" "+n]||c["* "+n],!a)for(o in c)if(s=o.split(" "),s[1]===n&&(a=c[l+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[o]:c[o]!==!0&&(n=s[0],h.unshift(s[1]));break}if(a!==!0)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(u){return{state:"parsererror",error:a?u:"No conversion from "+l+" to "+n}}}return{state:"success",data:e}}function H(){try{return new t.XMLHttpRequest}catch(e){}}function I(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function O(){return setTimeout(function(){Zi=e}),Zi=he.now()}function J(t,e,i){for(var r,o=(or[e]||[]).concat(or["*"]),n=0,a=o.length;a>n;n++)if(r=o[n].call(i,e,t))return r}function N(t,e,i){var r,o,n=0,a=rr.length,s=he.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=Zi||O(),i=Math.max(0,c.startTime+c.duration-e),r=i/c.duration||0,n=1-r,a=0,l=c.tweens.length;l>a;a++)c.tweens[a].run(n);return s.notifyWith(t,[c,n,i]),1>n&&l?i:(s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:he.extend({},e),opts:he.extend(!0,{specialEasing:{}},i),originalProperties:e,originalOptions:i,startTime:Zi||O(),duration:i.duration,tweens:[],createTween:function(e,i){var r=he.Tween(t,c.opts,e,i,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(r),r},stop:function(e){var i=0,r=e?c.tweens.length:0;if(o)return this;for(o=!0;r>i;i++)c.tweens[i].run(1);return e?s.resolveWith(t,[c,e]):s.rejectWith(t,[c,e]),this}}),h=c.props;for(F(h,c.opts.specialEasing);a>n;n++)if(r=rr[n].call(c,t,h,c.opts))return r;return he.map(h,J,c),he.isFunction(c.opts.start)&&c.opts.start.call(t,c),he.fx.timer(he.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function F(t,e){var i,r,o,n,a;for(i in t)if(r=he.camelCase(i),o=e[r],n=t[i],he.isArray(n)&&(o=n[1],n=t[i]=n[0]),i!==r&&(t[r]=n,delete t[i]),a=he.cssHooks[r],a&&"expand"in a){n=a.expand(n),delete t[r];
for(i in n)i in t||(t[i]=n[i],e[i]=o)}else e[r]=o}function G(t,e,i){var r,o,n,a,s,l,c=this,h={},u=t.style,d=t.nodeType&&T(t),p=he._data(t,"fxshow");i.queue||(s=he._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,he.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[u.overflow,u.overflowX,u.overflowY],"inline"===he.css(t,"display")&&"none"===he.css(t,"float")&&(he.support.inlineBlockNeedsLayout&&"inline"!==w(t.nodeName)?u.zoom=1:u.display="inline-block")),i.overflow&&(u.overflow="hidden",he.support.shrinkWrapBlocks||c.always(function(){u.overflow=i.overflow[0],u.overflowX=i.overflow[1],u.overflowY=i.overflow[2]}));for(r in e)if(o=e[r],tr.exec(o)){if(delete e[r],n=n||"toggle"===o,o===(d?"hide":"show"))continue;h[r]=p&&p[r]||he.style(t,r)}if(!he.isEmptyObject(h)){p?"hidden"in p&&(d=p.hidden):p=he._data(t,"fxshow",{}),n&&(p.hidden=!d),d?he(t).show():c.done(function(){he(t).hide()}),c.done(function(){var e;he._removeData(t,"fxshow");for(e in h)he.style(t,e,h[e])});for(r in h)a=J(d?p[r]:0,r,c),r in p||(p[r]=a.start,d&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function z(t,e,i,r,o){return new z.prototype.init(t,e,i,r,o)}function j(t,e){var i,r={height:t},o=0;for(e=e?1:0;4>o;o+=2-e)i=Ti[o],r["margin"+i]=r["padding"+i]=t;return e&&(r.opacity=r.width=t),r}function U(t){return he.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var W,X,q=typeof e,K=t.location,Y=t.document,Q=Y.documentElement,Z=t.jQuery,$=t.$,te={},ee=[],ie="1.10.2",re=ee.concat,oe=ee.push,ne=ee.slice,ae=ee.indexOf,se=te.toString,le=te.hasOwnProperty,ce=ie.trim,he=function(t,e){return new he.fn.init(t,e,X)},ue=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,de=/\S+/g,pe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,fe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,_e=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,me=/^[\],:{}\s]*$/,ge=/(?:^|:|,)(?:\s*\[)+/g,ye=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,be=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,ve=/^-ms-/,Me=/-([\da-z])/gi,Se=function(t,e){return e.toUpperCase()},Te=function(t){(Y.addEventListener||"load"===t.type||"complete"===Y.readyState)&&(xe(),he.ready())},xe=function(){Y.addEventListener?(Y.removeEventListener("DOMContentLoaded",Te,!1),t.removeEventListener("load",Te,!1)):(Y.detachEvent("onreadystatechange",Te),t.detachEvent("onload",Te))};he.fn=he.prototype={jquery:ie,constructor:he,init:function(t,i,r){var o,n;if(!t)return this;if("string"==typeof t){if(o="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:fe.exec(t),!o||!o[1]&&i)return!i||i.jquery?(i||r).find(t):this.constructor(i).find(t);if(o[1]){if(i=i instanceof he?i[0]:i,he.merge(this,he.parseHTML(o[1],i&&i.nodeType?i.ownerDocument||i:Y,!0)),_e.test(o[1])&&he.isPlainObject(i))for(o in i)he.isFunction(this[o])?this[o](i[o]):this.attr(o,i[o]);return this}if(n=Y.getElementById(o[2]),n&&n.parentNode){if(n.id!==o[2])return r.find(t);this.length=1,this[0]=n}return this.context=Y,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):he.isFunction(t)?r.ready(t):(t.selector!==e&&(this.selector=t.selector,this.context=t.context),he.makeArray(t,this))},selector:"",length:0,toArray:function(){return ne.call(this)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t){var e=he.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return he.each(this,t,e)},ready:function(t){return he.ready.promise().done(t),this},slice:function(){return this.pushStack(ne.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(0>t?e:0);return this.pushStack(i>=0&&e>i?[this[i]]:[])},map:function(t){return this.pushStack(he.map(this,function(e,i){return t.call(e,i,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:oe,sort:[].sort,splice:[].splice},he.fn.init.prototype=he.fn,he.extend=he.fn.extend=function(){var t,i,r,o,n,a,s=arguments[0]||{},l=1,c=arguments.length,h=!1;for("boolean"==typeof s&&(h=s,s=arguments[1]||{},l=2),"object"==typeof s||he.isFunction(s)||(s={}),c===l&&(s=this,--l);c>l;l++)if(null!=(n=arguments[l]))for(o in n)t=s[o],r=n[o],s!==r&&(h&&r&&(he.isPlainObject(r)||(i=he.isArray(r)))?(i?(i=!1,a=t&&he.isArray(t)?t:[]):a=t&&he.isPlainObject(t)?t:{},s[o]=he.extend(h,a,r)):r!==e&&(s[o]=r));return s},he.extend({expando:"jQuery"+(ie+Math.random()).replace(/\D/g,""),noConflict:function(e){return t.$===he&&(t.$=$),e&&t.jQuery===he&&(t.jQuery=Z),he},isReady:!1,readyWait:1,holdReady:function(t){t?he.readyWait++:he.ready(!0)},ready:function(t){if(t===!0?!--he.readyWait:!he.isReady){if(!Y.body)return setTimeout(he.ready);he.isReady=!0,t!==!0&&--he.readyWait>0||(W.resolveWith(Y,[he]),he.fn.trigger&&he(Y).trigger("ready").off("ready"))}},isFunction:function(t){return"function"===he.type(t)},isArray:Array.isArray||function(t){return"array"===he.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?te[se.call(t)]||"object":typeof t},isPlainObject:function(t){var i;if(!t||"object"!==he.type(t)||t.nodeType||he.isWindow(t))return!1;try{if(t.constructor&&!le.call(t,"constructor")&&!le.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}if(he.support.ownLast)for(i in t)return le.call(t,i);for(i in t);return i===e||le.call(t,i)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},error:function(t){throw Error(t)},parseHTML:function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||Y;var r=_e.exec(t),o=!i&&[];return r?[e.createElement(r[1])]:(r=he.buildFragment([t],e,o),o&&he(o).remove(),he.merge([],r.childNodes))},parseJSON:function(i){return t.JSON&&t.JSON.parse?t.JSON.parse(i):null===i?i:"string"==typeof i&&(i=he.trim(i),i&&me.test(i.replace(ye,"@").replace(be,"]").replace(ge,"")))?Function("return "+i)():(he.error("Invalid JSON: "+i),e)},parseXML:function(i){var r,o;if(!i||"string"!=typeof i)return null;try{t.DOMParser?(o=new DOMParser,r=o.parseFromString(i,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(i))}catch(n){r=e}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||he.error("Invalid XML: "+i),r},noop:function(){},globalEval:function(e){e&&he.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(ve,"ms-").replace(Me,Se)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,r){var o,n=0,a=t.length,s=i(t);if(r){if(s)for(;a>n&&(o=e.apply(t[n],r),o!==!1);n++);else for(n in t)if(o=e.apply(t[n],r),o===!1)break}else if(s)for(;a>n&&(o=e.call(t[n],n,t[n]),o!==!1);n++);else for(n in t)if(o=e.call(t[n],n,t[n]),o===!1)break;return t},trim:ce&&!ce.call("﻿ ")?function(t){return null==t?"":ce.call(t)}:function(t){return null==t?"":(t+"").replace(pe,"")},makeArray:function(t,e){var r=e||[];return null!=t&&(i(Object(t))?he.merge(r,"string"==typeof t?[t]:t):oe.call(r,t)),r},inArray:function(t,e,i){var r;if(e){if(ae)return ae.call(e,t,i);for(r=e.length,i=i?0>i?Math.max(0,r+i):i:0;r>i;i++)if(i in e&&e[i]===t)return i}return-1},merge:function(t,i){var r=i.length,o=t.length,n=0;if("number"==typeof r)for(;r>n;n++)t[o++]=i[n];else for(;i[n]!==e;)t[o++]=i[n++];return t.length=o,t},grep:function(t,e,i){var r,o=[],n=0,a=t.length;for(i=!!i;a>n;n++)r=!!e(t[n],n),i!==r&&o.push(t[n]);return o},map:function(t,e,r){var o,n=0,a=t.length,s=i(t),l=[];if(s)for(;a>n;n++)o=e(t[n],n,r),null!=o&&(l[l.length]=o);else for(n in t)o=e(t[n],n,r),null!=o&&(l[l.length]=o);return re.apply([],l)},guid:1,proxy:function(t,i){var r,o,n;return"string"==typeof i&&(n=t[i],i=t,t=n),he.isFunction(t)?(r=ne.call(arguments,2),o=function(){return t.apply(i||this,r.concat(ne.call(arguments)))},o.guid=t.guid=t.guid||he.guid++,o):e},access:function(t,i,r,o,n,a,s){var l=0,c=t.length,h=null==r;if("object"===he.type(r)){n=!0;for(l in r)he.access(t,i,l,r[l],!0,a,s)}else if(o!==e&&(n=!0,he.isFunction(o)||(s=!0),h&&(s?(i.call(t,o),i=null):(h=i,i=function(t,e,i){return h.call(he(t),i)})),i))for(;c>l;l++)i(t[l],r,s?o:o.call(t[l],l,i(t[l],r)));return n?t:h?i.call(t):c?i(t[0],r):a},now:function(){return(new Date).getTime()},swap:function(t,e,i,r){var o,n,a={};for(n in e)a[n]=t.style[n],t.style[n]=e[n];o=i.apply(t,r||[]);for(n in e)t.style[n]=a[n];return o}}),he.ready.promise=function(e){if(!W)if(W=he.Deferred(),"complete"===Y.readyState)setTimeout(he.ready);else if(Y.addEventListener)Y.addEventListener("DOMContentLoaded",Te,!1),t.addEventListener("load",Te,!1);else{Y.attachEvent("onreadystatechange",Te),t.attachEvent("onload",Te);var i=!1;try{i=null==t.frameElement&&Y.documentElement}catch(r){}i&&i.doScroll&&function o(){if(!he.isReady){try{i.doScroll("left")}catch(t){return setTimeout(o,50)}xe(),he.ready()}}()}return W.promise(e)},he.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){te["[object "+e+"]"]=e.toLowerCase()}),X=he(Y),function(t,e){function i(t,e,i,r){var o,n,a,s,l,c,h,u,f,_;if((e?e.ownerDocument||e:N)!==B&&P(e),e=e||B,i=i||[],!t||"string"!=typeof t)return i;if(1!==(s=e.nodeType)&&9!==s)return[];if(L&&!r){if(o=be.exec(t))if(a=o[1]){if(9===s){if(n=e.getElementById(a),!n||!n.parentNode)return i;if(n.id===a)return i.push(n),i}else if(e.ownerDocument&&(n=e.ownerDocument.getElementById(a))&&O(e,n)&&n.id===a)return i.push(n),i}else{if(o[2])return te.apply(i,e.getElementsByTagName(t)),i;if((a=o[3])&&T.getElementsByClassName&&e.getElementsByClassName)return te.apply(i,e.getElementsByClassName(a)),i}if(T.qsa&&(!k||!k.test(t))){if(u=h=J,f=e,_=9===s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(c=d(t),(h=e.getAttribute("id"))?u=h.replace(Se,"\\$&"):e.setAttribute("id",u),u="[id='"+u+"'] ",l=c.length;l--;)c[l]=u+p(c[l]);f=pe.test(t)&&e.parentNode||e,_=c.join(",")}if(_)try{return te.apply(i,f.querySelectorAll(_)),i}catch(m){}finally{h||e.removeAttribute("id")}}}return M(t.replace(ce,"$1"),e,i,r)}function r(){function t(i,r){return e.push(i+=" ")>C.cacheLength&&delete t[e.shift()],t[i]=r}var e=[];return t}function o(t){return t[J]=!0,t}function n(t){var e=B.createElement("div");try{return!!t(e)}catch(i){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function a(t,e){for(var i=t.split("|"),r=t.length;r--;)C.attrHandle[i[r]]=e}function s(t,e){var i=e&&t,r=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||K)-(~t.sourceIndex||K);if(r)return r;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function l(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function c(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function h(t){return o(function(e){return e=+e,o(function(i,r){for(var o,n=t([],i.length,e),a=n.length;a--;)i[o=n[a]]&&(i[o]=!(r[o]=i[o]))})})}function u(){}function d(t,e){var r,o,n,a,s,l,c,h=j[t+" "];if(h)return e?0:h.slice(0);for(s=t,l=[],c=C.preFilter;s;){(!r||(o=ue.exec(s)))&&(o&&(s=s.slice(o[0].length)||s),l.push(n=[])),r=!1,(o=de.exec(s))&&(r=o.shift(),n.push({value:r,type:o[0].replace(ce," ")}),s=s.slice(r.length));for(a in C.filter)!(o=ge[a].exec(s))||c[a]&&!(o=c[a](o))||(r=o.shift(),n.push({value:r,type:a,matches:o}),s=s.slice(r.length));if(!r)break}return e?s.length:s?i.error(t):j(t,l).slice(0)}function p(t){for(var e=0,i=t.length,r="";i>e;e++)r+=t[e].value;return r}function f(t,e,i){var r=e.dir,o=i&&"parentNode"===r,n=G++;return e.first?function(e,i,n){for(;e=e[r];)if(1===e.nodeType||o)return t(e,i,n)}:function(e,i,a){var s,l,c,h=F+" "+n;if(a){for(;e=e[r];)if((1===e.nodeType||o)&&t(e,i,a))return!0}else for(;e=e[r];)if(1===e.nodeType||o)if(c=e[J]||(e[J]={}),(l=c[r])&&l[0]===h){if((s=l[1])===!0||s===x)return s===!0}else if(l=c[r]=[h],l[1]=t(e,i,a)||x,l[1]===!0)return!0}}function _(t){return t.length>1?function(e,i,r){for(var o=t.length;o--;)if(!t[o](e,i,r))return!1;return!0}:t[0]}function m(t,e,i,r,o){for(var n,a=[],s=0,l=t.length,c=null!=e;l>s;s++)(n=t[s])&&(!i||i(n,r,o))&&(a.push(n),c&&e.push(s));return a}function g(t,e,i,r,n,a){return r&&!r[J]&&(r=g(r)),n&&!n[J]&&(n=g(n,a)),o(function(o,a,s,l){var c,h,u,d=[],p=[],f=a.length,_=o||v(e||"*",s.nodeType?[s]:s,[]),g=!t||!o&&e?_:m(_,d,t,s,l),y=i?n||(o?t:f||r)?[]:a:g;if(i&&i(g,y,s,l),r)for(c=m(y,p),r(c,[],s,l),h=c.length;h--;)(u=c[h])&&(y[p[h]]=!(g[p[h]]=u));if(o){if(n||t){if(n){for(c=[],h=y.length;h--;)(u=y[h])&&c.push(g[h]=u);n(null,y=[],c,l)}for(h=y.length;h--;)(u=y[h])&&(c=n?ie.call(o,u):d[h])>-1&&(o[c]=!(a[c]=u))}}else y=m(y===a?y.splice(f,y.length):y),n?n(null,a,y,l):te.apply(a,y)})}function y(t){for(var e,i,r,o=t.length,n=C.relative[t[0].type],a=n||C.relative[" "],s=n?1:0,l=f(function(t){return t===e},a,!0),c=f(function(t){return ie.call(e,t)>-1},a,!0),h=[function(t,i,r){return!n&&(r||i!==R)||((e=i).nodeType?l(t,i,r):c(t,i,r))}];o>s;s++)if(i=C.relative[t[s].type])h=[f(_(h),i)];else{if(i=C.filter[t[s].type].apply(null,t[s].matches),i[J]){for(r=++s;o>r&&!C.relative[t[r].type];r++);return g(s>1&&_(h),s>1&&p(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(ce,"$1"),i,r>s&&y(t.slice(s,r)),o>r&&y(t=t.slice(r)),o>r&&p(t))}h.push(i)}return _(h)}function b(t,e){var r=0,n=e.length>0,a=t.length>0,s=function(o,s,l,c,h){var u,d,p,f=[],_=0,g="0",y=o&&[],b=null!=h,v=R,M=o||a&&C.find.TAG("*",h&&s.parentNode||s),S=F+=null==v?1:Math.random()||.1;for(b&&(R=s!==B&&s,x=r);null!=(u=M[g]);g++){if(a&&u){for(d=0;p=t[d++];)if(p(u,s,l)){c.push(u);break}b&&(F=S,x=++r)}n&&((u=!p&&u)&&_--,o&&y.push(u))}if(_+=g,n&&g!==_){for(d=0;p=e[d++];)p(y,f,s,l);if(o){if(_>0)for(;g--;)y[g]||f[g]||(f[g]=Z.call(c));f=m(f)}te.apply(c,f),b&&!o&&f.length>0&&_+e.length>1&&i.uniqueSort(c)}return b&&(F=S,R=v),y};return n?o(s):s}function v(t,e,r){for(var o=0,n=e.length;n>o;o++)i(t,e[o],r);return r}function M(t,e,i,r){var o,n,a,s,l,c=d(t);if(!r&&1===c.length){if(n=c[0]=c[0].slice(0),n.length>2&&"ID"===(a=n[0]).type&&T.getById&&9===e.nodeType&&L&&C.relative[n[1].type]){if(e=(C.find.ID(a.matches[0].replace(Te,xe),e)||[])[0],!e)return i;t=t.slice(n.shift().value.length)}for(o=ge.needsContext.test(t)?0:n.length;o--&&(a=n[o],!C.relative[s=a.type]);)if((l=C.find[s])&&(r=l(a.matches[0].replace(Te,xe),pe.test(n[0].type)&&e.parentNode||e))){if(n.splice(o,1),t=r.length&&p(n),!t)return te.apply(i,r),i;break}}return w(t,c)(r,e,!L,i,pe.test(t)),i}var S,T,x,C,E,A,w,R,D,P,B,V,L,k,H,I,O,J="sizzle"+-new Date,N=t.document,F=0,G=0,z=r(),j=r(),U=r(),W=!1,X=function(t,e){return t===e?(W=!0,0):0},q=typeof e,K=1<<31,Y={}.hasOwnProperty,Q=[],Z=Q.pop,$=Q.push,te=Q.push,ee=Q.slice,ie=Q.indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(this[e]===t)return e;return-1},re="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",oe="[\\x20\\t\\r\\n\\f]",ne="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ae=ne.replace("w","w#"),se="\\["+oe+"*("+ne+")"+oe+"*(?:([*^$|!~]?=)"+oe+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ae+")|)|)"+oe+"*\\]",le=":("+ne+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+se.replace(3,8)+")*)|.*)\\)|)",ce=RegExp("^"+oe+"+|((?:^|[^\\\\])(?:\\\\.)*)"+oe+"+$","g"),ue=RegExp("^"+oe+"*,"+oe+"*"),de=RegExp("^"+oe+"*([>+~]|"+oe+")"+oe+"*"),pe=RegExp(oe+"*[+~]"),fe=RegExp("="+oe+"*([^\\]'\"]*)"+oe+"*\\]","g"),_e=RegExp(le),me=RegExp("^"+ae+"$"),ge={ID:RegExp("^#("+ne+")"),CLASS:RegExp("^\\.("+ne+")"),TAG:RegExp("^("+ne.replace("w","w*")+")"),ATTR:RegExp("^"+se),PSEUDO:RegExp("^"+le),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+oe+"*(even|odd|(([+-]|)(\\d*)n|)"+oe+"*(?:([+-]|)"+oe+"*(\\d+)|))"+oe+"*\\)|)","i"),bool:RegExp("^(?:"+re+")$","i"),needsContext:RegExp("^"+oe+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+oe+"*((?:-\\d)?\\d*)"+oe+"*\\)|)(?=[^-]|$)","i")},ye=/^[^{]+\{\s*\[native \w/,be=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ve=/^(?:input|select|textarea|button)$/i,Me=/^h\d$/i,Se=/'|\\/g,Te=RegExp("\\\\([\\da-f]{1,6}"+oe+"?|("+oe+")|.)","ig"),xe=function(t,e,i){var r="0x"+e-65536;return r!==r||i?e:0>r?String.fromCharCode(r+65536):String.fromCharCode(55296|r>>10,56320|1023&r)};try{te.apply(Q=ee.call(N.childNodes),N.childNodes),Q[N.childNodes.length].nodeType}catch(Ce){te={apply:Q.length?function(t,e){$.apply(t,ee.call(e))}:function(t,e){for(var i=t.length,r=0;t[i++]=e[r++];);t.length=i-1}}}A=i.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},T=i.support={},P=i.setDocument=function(t){var i=t?t.ownerDocument||t:N,r=i.defaultView;return i!==B&&9===i.nodeType&&i.documentElement?(B=i,V=i.documentElement,L=!A(i),r&&r.attachEvent&&r!==r.top&&r.attachEvent("onbeforeunload",function(){P()}),T.attributes=n(function(t){return t.className="i",!t.getAttribute("className")}),T.getElementsByTagName=n(function(t){return t.appendChild(i.createComment("")),!t.getElementsByTagName("*").length}),T.getElementsByClassName=n(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),T.getById=n(function(t){return V.appendChild(t).id=J,!i.getElementsByName||!i.getElementsByName(J).length}),T.getById?(C.find.ID=function(t,e){if(typeof e.getElementById!==q&&L){var i=e.getElementById(t);return i&&i.parentNode?[i]:[]}},C.filter.ID=function(t){var e=t.replace(Te,xe);return function(t){return t.getAttribute("id")===e}}):(delete C.find.ID,C.filter.ID=function(t){var e=t.replace(Te,xe);return function(t){var i=typeof t.getAttributeNode!==q&&t.getAttributeNode("id");return i&&i.value===e}}),C.find.TAG=T.getElementsByTagName?function(t,i){return typeof i.getElementsByTagName!==q?i.getElementsByTagName(t):e}:function(t,e){var i,r=[],o=0,n=e.getElementsByTagName(t);if("*"===t){for(;i=n[o++];)1===i.nodeType&&r.push(i);return r}return n},C.find.CLASS=T.getElementsByClassName&&function(t,i){return typeof i.getElementsByClassName!==q&&L?i.getElementsByClassName(t):e},H=[],k=[],(T.qsa=ye.test(i.querySelectorAll))&&(n(function(t){t.innerHTML="<select><option selected=''></option></select>",t.querySelectorAll("[selected]").length||k.push("\\["+oe+"*(?:value|"+re+")"),t.querySelectorAll(":checked").length||k.push(":checked")}),n(function(t){var e=i.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("t",""),t.querySelectorAll("[t^='']").length&&k.push("[*^$]="+oe+"*(?:''|\"\")"),t.querySelectorAll(":enabled").length||k.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),k.push(",.*:")})),(T.matchesSelector=ye.test(I=V.webkitMatchesSelector||V.mozMatchesSelector||V.oMatchesSelector||V.msMatchesSelector))&&n(function(t){T.disconnectedMatch=I.call(t,"div"),I.call(t,"[s!='']:x"),H.push("!=",le)}),k=k.length&&RegExp(k.join("|")),H=H.length&&RegExp(H.join("|")),O=ye.test(V.contains)||V.compareDocumentPosition?function(t,e){var i=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(i.contains?i.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},X=V.compareDocumentPosition?function(t,e){if(t===e)return W=!0,0;var r=e.compareDocumentPosition&&t.compareDocumentPosition&&t.compareDocumentPosition(e);return r?1&r||!T.sortDetached&&e.compareDocumentPosition(t)===r?t===i||O(N,t)?-1:e===i||O(N,e)?1:D?ie.call(D,t)-ie.call(D,e):0:4&r?-1:1:t.compareDocumentPosition?-1:1}:function(t,e){var r,o=0,n=t.parentNode,a=e.parentNode,l=[t],c=[e];if(t===e)return W=!0,0;if(!n||!a)return t===i?-1:e===i?1:n?-1:a?1:D?ie.call(D,t)-ie.call(D,e):0;if(n===a)return s(t,e);for(r=t;r=r.parentNode;)l.unshift(r);for(r=e;r=r.parentNode;)c.unshift(r);for(;l[o]===c[o];)o++;return o?s(l[o],c[o]):l[o]===N?-1:c[o]===N?1:0},i):B},i.matches=function(t,e){return i(t,null,null,e)},i.matchesSelector=function(t,e){if((t.ownerDocument||t)!==B&&P(t),e=e.replace(fe,"='$1']"),!(!T.matchesSelector||!L||H&&H.test(e)||k&&k.test(e)))try{var r=I.call(t,e);if(r||T.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(o){}return i(e,B,null,[t]).length>0},i.contains=function(t,e){return(t.ownerDocument||t)!==B&&P(t),O(t,e)},i.attr=function(t,i){(t.ownerDocument||t)!==B&&P(t);var r=C.attrHandle[i.toLowerCase()],o=r&&Y.call(C.attrHandle,i.toLowerCase())?r(t,i,!L):e;return o===e?T.attributes||!L?t.getAttribute(i):(o=t.getAttributeNode(i))&&o.specified?o.value:null:o},i.error=function(t){throw Error("Syntax error, unrecognized expression: "+t)},i.uniqueSort=function(t){var e,i=[],r=0,o=0;if(W=!T.detectDuplicates,D=!T.sortStable&&t.slice(0),t.sort(X),W){for(;e=t[o++];)e===t[o]&&(r=i.push(o));for(;r--;)t.splice(i[r],1)}return t},E=i.getText=function(t){var e,i="",r=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=E(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[r];r++)i+=E(e);return i},C=i.selectors={cacheLength:50,createPseudo:o,match:ge,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Te,xe),t[3]=(t[4]||t[5]||"").replace(Te,xe),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||i.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&i.error(t[0]),t},PSEUDO:function(t){var i,r=!t[5]&&t[2];return ge.CHILD.test(t[0])?null:(t[3]&&t[4]!==e?t[2]=t[4]:r&&_e.test(r)&&(i=d(r,!0))&&(i=r.indexOf(")",r.length-i)-r.length)&&(t[0]=t[0].slice(0,i),t[2]=r.slice(0,i)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Te,xe).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=z[t+" "];return e||(e=RegExp("(^|"+oe+")"+t+"("+oe+"|$)"))&&z(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==q&&t.getAttribute("class")||"")})},ATTR:function(t,e,r){return function(o){var n=i.attr(o,t);return null==n?"!="===e:e?(n+="","="===e?n===r:"!="===e?n!==r:"^="===e?r&&0===n.indexOf(r):"*="===e?r&&n.indexOf(r)>-1:"$="===e?r&&n.slice(-r.length)===r:"~="===e?(" "+n+" ").indexOf(r)>-1:"|="===e?n===r||n.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(t,e,i,r,o){var n="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===o?function(t){return!!t.parentNode}:function(e,i,l){var c,h,u,d,p,f,_=n!==a?"nextSibling":"previousSibling",m=e.parentNode,g=s&&e.nodeName.toLowerCase(),y=!l&&!s;if(m){if(n){for(;_;){for(u=e;u=u[_];)if(s?u.nodeName.toLowerCase()===g:1===u.nodeType)return!1;f=_="only"===t&&!f&&"nextSibling"}return!0}if(f=[a?m.firstChild:m.lastChild],a&&y){for(h=m[J]||(m[J]={}),c=h[t]||[],p=c[0]===F&&c[1],d=c[0]===F&&c[2],u=p&&m.childNodes[p];u=++p&&u&&u[_]||(d=p=0)||f.pop();)if(1===u.nodeType&&++d&&u===e){h[t]=[F,p,d];break}}else if(y&&(c=(e[J]||(e[J]={}))[t])&&c[0]===F)d=c[1];else for(;(u=++p&&u&&u[_]||(d=p=0)||f.pop())&&((s?u.nodeName.toLowerCase()!==g:1!==u.nodeType)||!++d||(y&&((u[J]||(u[J]={}))[t]=[F,d]),u!==e)););return d-=o,d===r||0===d%r&&d/r>=0}}},PSEUDO:function(t,e){var r,n=C.pseudos[t]||C.setFilters[t.toLowerCase()]||i.error("unsupported pseudo: "+t);return n[J]?n(e):n.length>1?(r=[t,t,"",e],C.setFilters.hasOwnProperty(t.toLowerCase())?o(function(t,i){for(var r,o=n(t,e),a=o.length;a--;)r=ie.call(t,o[a]),t[r]=!(i[r]=o[a])}):function(t){return n(t,0,r)}):n}},pseudos:{not:o(function(t){var e=[],i=[],r=w(t.replace(ce,"$1"));return r[J]?o(function(t,e,i,o){for(var n,a=r(t,null,o,[]),s=t.length;s--;)(n=a[s])&&(t[s]=!(e[s]=n))}):function(t,o,n){return e[0]=t,r(e,null,n,i),!i.pop()}}),has:o(function(t){return function(e){return i(t,e).length>0}}),contains:o(function(t){return function(e){return(e.textContent||e.innerText||E(e)).indexOf(t)>-1}}),lang:o(function(t){return me.test(t||"")||i.error("unsupported lang: "+t),t=t.replace(Te,xe).toLowerCase(),function(e){var i;do if(i=L?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===V},focus:function(t){return t===B.activeElement&&(!B.hasFocus||B.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeName>"@"||3===t.nodeType||4===t.nodeType)return!1;return!0},parent:function(t){return!C.pseudos.empty(t)},header:function(t){return Me.test(t.nodeName)},input:function(t){return ve.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||e.toLowerCase()===t.type)},first:h(function(){return[0]}),last:h(function(t,e){return[e-1]}),eq:h(function(t,e,i){return[0>i?i+e:i]}),even:h(function(t,e){for(var i=0;e>i;i+=2)t.push(i);return t}),odd:h(function(t,e){for(var i=1;e>i;i+=2)t.push(i);return t}),lt:h(function(t,e,i){for(var r=0>i?i+e:i;--r>=0;)t.push(r);return t}),gt:h(function(t,e,i){for(var r=0>i?i+e:i;e>++r;)t.push(r);return t})}},C.pseudos.nth=C.pseudos.eq;for(S in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[S]=l(S);for(S in{submit:!0,reset:!0})C.pseudos[S]=c(S);u.prototype=C.filters=C.pseudos,C.setFilters=new u,w=i.compile=function(t,e){var i,r=[],o=[],n=U[t+" "];if(!n){for(e||(e=d(t)),i=e.length;i--;)n=y(e[i]),n[J]?r.push(n):o.push(n);n=U(t,b(o,r))}return n},T.sortStable=J.split("").sort(X).join("")===J,T.detectDuplicates=W,P(),T.sortDetached=n(function(t){return 1&t.compareDocumentPosition(B.createElement("div"))}),n(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||a("type|href|height|width",function(t,i,r){return r?e:t.getAttribute(i,"type"===i.toLowerCase()?1:2)}),T.attributes&&n(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||a("value",function(t,i,r){return r||"input"!==t.nodeName.toLowerCase()?e:t.defaultValue}),n(function(t){return null==t.getAttribute("disabled")})||a(re,function(t,i,r){var o;return r?e:(o=t.getAttributeNode(i))&&o.specified?o.value:t[i]===!0?i.toLowerCase():null}),he.find=i,he.expr=i.selectors,he.expr[":"]=he.expr.pseudos,he.unique=i.uniqueSort,he.text=i.getText,he.isXMLDoc=i.isXML,he.contains=i.contains}(t);var Ce={};he.Callbacks=function(t){t="string"==typeof t?Ce[t]||r(t):he.extend({},t);var i,o,n,a,s,l,c=[],h=!t.once&&[],u=function(e){for(o=t.memory&&e,n=!0,s=l||0,l=0,a=c.length,i=!0;c&&a>s;s++)if(c[s].apply(e[0],e[1])===!1&&t.stopOnFalse){o=!1;break}i=!1,c&&(h?h.length&&u(h.shift()):o?c=[]:d.disable())},d={add:function(){if(c){var e=c.length;!function r(e){he.each(e,function(e,i){var o=he.type(i);"function"===o?t.unique&&d.has(i)||c.push(i):i&&i.length&&"string"!==o&&r(i)})}(arguments),i?a=c.length:o&&(l=e,u(o))}return this},remove:function(){return c&&he.each(arguments,function(t,e){for(var r;(r=he.inArray(e,c,r))>-1;)c.splice(r,1),i&&(a>=r&&a--,s>=r&&s--)}),this},has:function(t){return t?he.inArray(t,c)>-1:!(!c||!c.length)},empty:function(){return c=[],a=0,this},disable:function(){return c=h=o=e,this},disabled:function(){return!c},lock:function(){return h=e,o||d.disable(),this},locked:function(){return!h},fireWith:function(t,e){return!c||n&&!h||(e=e||[],e=[t,e.slice?e.slice():e],i?h.push(e):u(e)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},he.extend({Deferred:function(t){var e=[["resolve","done",he.Callbacks("once memory"),"resolved"],["reject","fail",he.Callbacks("once memory"),"rejected"],["notify","progress",he.Callbacks("memory")]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return he.Deferred(function(i){he.each(e,function(e,n){var a=n[0],s=he.isFunction(t[e])&&t[e];o[n[1]](function(){var t=s&&s.apply(this,arguments);t&&he.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[a+"With"](this===r?i.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?he.extend(t,r):r}},o={};return r.pipe=r.then,he.each(e,function(t,n){var a=n[2],s=n[3];r[n[1]]=a.add,s&&a.add(function(){i=s},e[1^t][2].disable,e[2][2].lock),o[n[0]]=function(){return o[n[0]+"With"](this===o?r:this,arguments),this},o[n[0]+"With"]=a.fireWith}),r.promise(o),t&&t.call(o,o),o},when:function(t){var e,i,r,o=0,n=ne.call(arguments),a=n.length,s=1!==a||t&&he.isFunction(t.promise)?a:0,l=1===s?t:he.Deferred(),c=function(t,i,r){return function(o){i[t]=this,r[t]=arguments.length>1?ne.call(arguments):o,r===e?l.notifyWith(i,r):--s||l.resolveWith(i,r)}};if(a>1)for(e=Array(a),i=Array(a),r=Array(a);a>o;o++)n[o]&&he.isFunction(n[o].promise)?n[o].promise().done(c(o,r,n)).fail(l.reject).progress(c(o,i,e)):--s;return s||l.resolveWith(r,n),l.promise()}}),he.support=function(e){var i,r,o,n,a,s,l,c,h,u=Y.createElement("div");if(u.setAttribute("className","t"),u.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=u.getElementsByTagName("*")||[],r=u.getElementsByTagName("a")[0],!r||!r.style||!i.length)return e;n=Y.createElement("select"),s=n.appendChild(Y.createElement("option")),o=u.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",e.getSetAttribute="t"!==u.className,e.leadingWhitespace=3===u.firstChild.nodeType,e.tbody=!u.getElementsByTagName("tbody").length,e.htmlSerialize=!!u.getElementsByTagName("link").length,e.style=/top/.test(r.getAttribute("style")),e.hrefNormalized="/a"===r.getAttribute("href"),e.opacity=/^0.5/.test(r.style.opacity),e.cssFloat=!!r.style.cssFloat,e.checkOn=!!o.value,e.optSelected=s.selected,e.enctype=!!Y.createElement("form").enctype,e.html5Clone="<:nav></:nav>"!==Y.createElement("nav").cloneNode(!0).outerHTML,e.inlineBlockNeedsLayout=!1,e.shrinkWrapBlocks=!1,e.pixelPosition=!1,e.deleteExpando=!0,e.noCloneEvent=!0,e.reliableMarginRight=!0,e.boxSizingReliable=!0,o.checked=!0,e.noCloneChecked=o.cloneNode(!0).checked,n.disabled=!0,e.optDisabled=!s.disabled;try{delete u.test}catch(d){e.deleteExpando=!1}o=Y.createElement("input"),o.setAttribute("value",""),e.input=""===o.getAttribute("value"),o.value="t",o.setAttribute("type","radio"),e.radioValue="t"===o.value,o.setAttribute("checked","t"),o.setAttribute("name","t"),a=Y.createDocumentFragment(),a.appendChild(o),e.appendChecked=o.checked,e.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,u.attachEvent&&(u.attachEvent("onclick",function(){e.noCloneEvent=!1}),u.cloneNode(!0).click());for(h in{submit:!0,change:!0,focusin:!0})u.setAttribute(l="on"+h,"t"),e[h+"Bubbles"]=l in t||u.attributes[l].expando===!1;u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle="content-box"===u.style.backgroundClip;for(h in he(e))break;return e.ownLast="0"!==h,he(function(){var i,r,o,n="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",a=Y.getElementsByTagName("body")[0];a&&(i=Y.createElement("div"),i.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(i).appendChild(u),u.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=u.getElementsByTagName("td"),o[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===o[0].offsetHeight,o[0].style.display="",o[1].style.display="none",e.reliableHiddenOffsets=c&&0===o[0].offsetHeight,u.innerHTML="",u.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",he.swap(a,null!=a.style.zoom?{zoom:1}:{},function(){e.boxSizing=4===u.offsetWidth
}),t.getComputedStyle&&(e.pixelPosition="1%"!==(t.getComputedStyle(u,null)||{}).top,e.boxSizingReliable="4px"===(t.getComputedStyle(u,null)||{width:"4px"}).width,r=u.appendChild(Y.createElement("div")),r.style.cssText=u.style.cssText=n,r.style.marginRight=r.style.width="0",u.style.width="1px",e.reliableMarginRight=!parseFloat((t.getComputedStyle(r,null)||{}).marginRight)),typeof u.style.zoom!==q&&(u.innerHTML="",u.style.cssText=n+"width:1px;padding:1px;display:inline;zoom:1",e.inlineBlockNeedsLayout=3===u.offsetWidth,u.style.display="block",u.innerHTML="<div></div>",u.firstChild.style.width="5px",e.shrinkWrapBlocks=3!==u.offsetWidth,e.inlineBlockNeedsLayout&&(a.style.zoom=1)),a.removeChild(i),i=u=o=r=null)}),i=n=a=s=r=o=null,e}({});var Ee=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Ae=/([A-Z])/g;he.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?he.cache[t[he.expando]]:t[he.expando],!!t&&!s(t)},data:function(t,e,i){return o(t,e,i)},removeData:function(t,e){return n(t,e)},_data:function(t,e,i){return o(t,e,i,!0)},_removeData:function(t,e){return n(t,e,!0)},acceptData:function(t){if(t.nodeType&&1!==t.nodeType&&9!==t.nodeType)return!1;var e=t.nodeName&&he.noData[t.nodeName.toLowerCase()];return!e||e!==!0&&t.getAttribute("classid")===e}}),he.fn.extend({data:function(t,i){var r,o,n=null,s=0,l=this[0];if(t===e){if(this.length&&(n=he.data(l),1===l.nodeType&&!he._data(l,"parsedAttrs"))){for(r=l.attributes;r.length>s;s++)o=r[s].name,0===o.indexOf("data-")&&(o=he.camelCase(o.slice(5)),a(l,o,n[o]));he._data(l,"parsedAttrs",!0)}return n}return"object"==typeof t?this.each(function(){he.data(this,t)}):arguments.length>1?this.each(function(){he.data(this,t,i)}):l?a(l,t,he.data(l,t)):null},removeData:function(t){return this.each(function(){he.removeData(this,t)})}}),he.extend({queue:function(t,i,r){var o;return t?(i=(i||"fx")+"queue",o=he._data(t,i),r&&(!o||he.isArray(r)?o=he._data(t,i,he.makeArray(r)):o.push(r)),o||[]):e},dequeue:function(t,e){e=e||"fx";var i=he.queue(t,e),r=i.length,o=i.shift(),n=he._queueHooks(t,e),a=function(){he.dequeue(t,e)};"inprogress"===o&&(o=i.shift(),r--),o&&("fx"===e&&i.unshift("inprogress"),delete n.stop,o.call(t,a,n)),!r&&n&&n.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return he._data(t,i)||he._data(t,i,{empty:he.Callbacks("once memory").add(function(){he._removeData(t,e+"queue"),he._removeData(t,i)})})}}),he.fn.extend({queue:function(t,i){var r=2;return"string"!=typeof t&&(i=t,t="fx",r--),r>arguments.length?he.queue(this[0],t):i===e?this:this.each(function(){var e=he.queue(this,t,i);he._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&he.dequeue(this,t)})},dequeue:function(t){return this.each(function(){he.dequeue(this,t)})},delay:function(t,e){return t=he.fx?he.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var r=setTimeout(e,t);i.stop=function(){clearTimeout(r)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,i){var r,o=1,n=he.Deferred(),a=this,s=this.length,l=function(){--o||n.resolveWith(a,[a])};for("string"!=typeof t&&(i=t,t=e),t=t||"fx";s--;)r=he._data(a[s],t+"queueHooks"),r&&r.empty&&(o++,r.empty.add(l));return l(),n.promise(i)}});var we,Re,De=/[\t\r\n\f]/g,Pe=/\r/g,Be=/^(?:input|select|textarea|button|object)$/i,Ve=/^(?:a|area)$/i,Le=/^(?:checked|selected)$/i,ke=he.support.getSetAttribute,He=he.support.input;he.fn.extend({attr:function(t,e){return he.access(this,he.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){he.removeAttr(this,t)})},prop:function(t,e){return he.access(this,he.prop,t,e,arguments.length>1)},removeProp:function(t){return t=he.propFix[t]||t,this.each(function(){try{this[t]=e,delete this[t]}catch(i){}})},addClass:function(t){var e,i,r,o,n,a=0,s=this.length,l="string"==typeof t&&t;if(he.isFunction(t))return this.each(function(e){he(this).addClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(de)||[];s>a;a++)if(i=this[a],r=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(De," "):" ")){for(n=0;o=e[n++];)0>r.indexOf(" "+o+" ")&&(r+=o+" ");i.className=he.trim(r)}return this},removeClass:function(t){var e,i,r,o,n,a=0,s=this.length,l=0===arguments.length||"string"==typeof t&&t;if(he.isFunction(t))return this.each(function(e){he(this).removeClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(de)||[];s>a;a++)if(i=this[a],r=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(De," "):"")){for(n=0;o=e[n++];)for(;r.indexOf(" "+o+" ")>=0;)r=r.replace(" "+o+" "," ");i.className=t?he.trim(r):""}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):this.each(he.isFunction(t)?function(i){he(this).toggleClass(t.call(this,i,this.className,e),e)}:function(){if("string"===i)for(var e,r=0,o=he(this),n=t.match(de)||[];e=n[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else(i===q||"boolean"===i)&&(this.className&&he._data(this,"__className__",this.className),this.className=this.className||t===!1?"":he._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,r=this.length;r>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(De," ").indexOf(e)>=0)return!0;return!1},val:function(t){var i,r,o,n=this[0];return arguments.length?(o=he.isFunction(t),this.each(function(i){var n;1===this.nodeType&&(n=o?t.call(this,i,he(this).val()):t,null==n?n="":"number"==typeof n?n+="":he.isArray(n)&&(n=he.map(n,function(t){return null==t?"":t+""})),r=he.valHooks[this.type]||he.valHooks[this.nodeName.toLowerCase()],r&&"set"in r&&r.set(this,n,"value")!==e||(this.value=n))})):n?(r=he.valHooks[n.type]||he.valHooks[n.nodeName.toLowerCase()],r&&"get"in r&&(i=r.get(n,"value"))!==e?i:(i=n.value,"string"==typeof i?i.replace(Pe,""):null==i?"":i)):void 0}}),he.extend({valHooks:{option:{get:function(t){var e=he.find.attr(t,"value");return null!=e?e:t.text}},select:{get:function(t){for(var e,i,r=t.options,o=t.selectedIndex,n="select-one"===t.type||0>o,a=n?null:[],s=n?o+1:r.length,l=0>o?s:n?o:0;s>l;l++)if(i=r[l],!(!i.selected&&l!==o||(he.support.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&he.nodeName(i.parentNode,"optgroup"))){if(e=he(i).val(),n)return e;a.push(e)}return a},set:function(t,e){for(var i,r,o=t.options,n=he.makeArray(e),a=o.length;a--;)r=o[a],(r.selected=he.inArray(he(r).val(),n)>=0)&&(i=!0);return i||(t.selectedIndex=-1),n}}},attr:function(t,i,r){var o,n,a=t.nodeType;return t&&3!==a&&8!==a&&2!==a?typeof t.getAttribute===q?he.prop(t,i,r):(1===a&&he.isXMLDoc(t)||(i=i.toLowerCase(),o=he.attrHooks[i]||(he.expr.match.bool.test(i)?Re:we)),r===e?o&&"get"in o&&null!==(n=o.get(t,i))?n:(n=he.find.attr(t,i),null==n?e:n):null!==r?o&&"set"in o&&(n=o.set(t,r,i))!==e?n:(t.setAttribute(i,r+""),r):(he.removeAttr(t,i),e)):void 0},removeAttr:function(t,e){var i,r,o=0,n=e&&e.match(de);if(n&&1===t.nodeType)for(;i=n[o++];)r=he.propFix[i]||i,he.expr.match.bool.test(i)?He&&ke||!Le.test(i)?t[r]=!1:t[he.camelCase("default-"+i)]=t[r]=!1:he.attr(t,i,""),t.removeAttribute(ke?i:r)},attrHooks:{type:{set:function(t,e){if(!he.support.radioValue&&"radio"===e&&he.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(t,i,r){var o,n,a,s=t.nodeType;return t&&3!==s&&8!==s&&2!==s?(a=1!==s||!he.isXMLDoc(t),a&&(i=he.propFix[i]||i,n=he.propHooks[i]),r!==e?n&&"set"in n&&(o=n.set(t,r,i))!==e?o:t[i]=r:n&&"get"in n&&null!==(o=n.get(t,i))?o:t[i]):void 0},propHooks:{tabIndex:{get:function(t){var e=he.find.attr(t,"tabindex");return e?parseInt(e,10):Be.test(t.nodeName)||Ve.test(t.nodeName)&&t.href?0:-1}}}}),Re={set:function(t,e,i){return e===!1?he.removeAttr(t,i):He&&ke||!Le.test(i)?t.setAttribute(!ke&&he.propFix[i]||i,i):t[he.camelCase("default-"+i)]=t[i]=!0,i}},he.each(he.expr.match.bool.source.match(/\w+/g),function(t,i){var r=he.expr.attrHandle[i]||he.find.attr;he.expr.attrHandle[i]=He&&ke||!Le.test(i)?function(t,i,o){var n=he.expr.attrHandle[i],a=o?e:(he.expr.attrHandle[i]=e)!=r(t,i,o)?i.toLowerCase():null;return he.expr.attrHandle[i]=n,a}:function(t,i,r){return r?e:t[he.camelCase("default-"+i)]?i.toLowerCase():null}}),He&&ke||(he.attrHooks.value={set:function(t,i,r){return he.nodeName(t,"input")?(t.defaultValue=i,e):we&&we.set(t,i,r)}}),ke||(we={set:function(t,i,r){var o=t.getAttributeNode(r);return o||t.setAttributeNode(o=t.ownerDocument.createAttribute(r)),o.value=i+="","value"===r||i===t.getAttribute(r)?i:e}},he.expr.attrHandle.id=he.expr.attrHandle.name=he.expr.attrHandle.coords=function(t,i,r){var o;return r?e:(o=t.getAttributeNode(i))&&""!==o.value?o.value:null},he.valHooks.button={get:function(t,i){var r=t.getAttributeNode(i);return r&&r.specified?r.value:e},set:we.set},he.attrHooks.contenteditable={set:function(t,e,i){we.set(t,""===e?!1:e,i)}},he.each(["width","height"],function(t,i){he.attrHooks[i]={set:function(t,r){return""===r?(t.setAttribute(i,"auto"),r):e}}})),he.support.hrefNormalized||he.each(["href","src"],function(t,e){he.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),he.support.style||(he.attrHooks.style={get:function(t){return t.style.cssText||e},set:function(t,e){return t.style.cssText=e+""}}),he.support.optSelected||(he.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),he.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){he.propFix[this.toLowerCase()]=this}),he.support.enctype||(he.propFix.enctype="encoding"),he.each(["radio","checkbox"],function(){he.valHooks[this]={set:function(t,i){return he.isArray(i)?t.checked=he.inArray(he(t).val(),i)>=0:e}},he.support.checkOn||(he.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Ie=/^(?:input|select|textarea)$/i,Oe=/^key/,Je=/^(?:mouse|contextmenu)|click/,Ne=/^(?:focusinfocus|focusoutblur)$/,Fe=/^([^.]*)(?:\.(.+)|)$/;he.event={global:{},add:function(t,i,r,o,n){var a,s,l,c,h,u,d,p,f,_,m,g=he._data(t);if(g){for(r.handler&&(c=r,r=c.handler,n=c.selector),r.guid||(r.guid=he.guid++),(s=g.events)||(s=g.events={}),(u=g.handle)||(u=g.handle=function(t){return typeof he===q||t&&he.event.triggered===t.type?e:he.event.dispatch.apply(u.elem,arguments)},u.elem=t),i=(i||"").match(de)||[""],l=i.length;l--;)a=Fe.exec(i[l])||[],f=m=a[1],_=(a[2]||"").split(".").sort(),f&&(h=he.event.special[f]||{},f=(n?h.delegateType:h.bindType)||f,h=he.event.special[f]||{},d=he.extend({type:f,origType:m,data:o,handler:r,guid:r.guid,selector:n,needsContext:n&&he.expr.match.needsContext.test(n),namespace:_.join(".")},c),(p=s[f])||(p=s[f]=[],p.delegateCount=0,h.setup&&h.setup.call(t,o,_,u)!==!1||(t.addEventListener?t.addEventListener(f,u,!1):t.attachEvent&&t.attachEvent("on"+f,u))),h.add&&(h.add.call(t,d),d.handler.guid||(d.handler.guid=r.guid)),n?p.splice(p.delegateCount++,0,d):p.push(d),he.event.global[f]=!0);t=null}},remove:function(t,e,i,r,o){var n,a,s,l,c,h,u,d,p,f,_,m=he.hasData(t)&&he._data(t);if(m&&(h=m.events)){for(e=(e||"").match(de)||[""],c=e.length;c--;)if(s=Fe.exec(e[c])||[],p=_=s[1],f=(s[2]||"").split(".").sort(),p){for(u=he.event.special[p]||{},p=(r?u.delegateType:u.bindType)||p,d=h[p]||[],s=s[2]&&RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=n=d.length;n--;)a=d[n],!o&&_!==a.origType||i&&i.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(d.splice(n,1),a.selector&&d.delegateCount--,u.remove&&u.remove.call(t,a));l&&!d.length&&(u.teardown&&u.teardown.call(t,f,m.handle)!==!1||he.removeEvent(t,p,m.handle),delete h[p])}else for(p in h)he.event.remove(t,p+e[c],i,r,!0);he.isEmptyObject(h)&&(delete m.handle,he._removeData(t,"events"))}},trigger:function(i,r,o,n){var a,s,l,c,h,u,d,p=[o||Y],f=le.call(i,"type")?i.type:i,_=le.call(i,"namespace")?i.namespace.split("."):[];if(l=u=o=o||Y,3!==o.nodeType&&8!==o.nodeType&&!Ne.test(f+he.event.triggered)&&(f.indexOf(".")>=0&&(_=f.split("."),f=_.shift(),_.sort()),s=0>f.indexOf(":")&&"on"+f,i=i[he.expando]?i:new he.Event(f,"object"==typeof i&&i),i.isTrigger=n?2:3,i.namespace=_.join("."),i.namespace_re=i.namespace?RegExp("(^|\\.)"+_.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,i.result=e,i.target||(i.target=o),r=null==r?[i]:he.makeArray(r,[i]),h=he.event.special[f]||{},n||!h.trigger||h.trigger.apply(o,r)!==!1)){if(!n&&!h.noBubble&&!he.isWindow(o)){for(c=h.delegateType||f,Ne.test(c+f)||(l=l.parentNode);l;l=l.parentNode)p.push(l),u=l;u===(o.ownerDocument||Y)&&p.push(u.defaultView||u.parentWindow||t)}for(d=0;(l=p[d++])&&!i.isPropagationStopped();)i.type=d>1?c:h.bindType||f,a=(he._data(l,"events")||{})[i.type]&&he._data(l,"handle"),a&&a.apply(l,r),a=s&&l[s],a&&he.acceptData(l)&&a.apply&&a.apply(l,r)===!1&&i.preventDefault();if(i.type=f,!n&&!i.isDefaultPrevented()&&(!h._default||h._default.apply(p.pop(),r)===!1)&&he.acceptData(o)&&s&&o[f]&&!he.isWindow(o)){u=o[s],u&&(o[s]=null),he.event.triggered=f;try{o[f]()}catch(m){}he.event.triggered=e,u&&(o[s]=u)}return i.result}},dispatch:function(t){t=he.event.fix(t);var i,r,o,n,a,s=[],l=ne.call(arguments),c=(he._data(this,"events")||{})[t.type]||[],h=he.event.special[t.type]||{};if(l[0]=t,t.delegateTarget=this,!h.preDispatch||h.preDispatch.call(this,t)!==!1){for(s=he.event.handlers.call(this,t,c),i=0;(n=s[i++])&&!t.isPropagationStopped();)for(t.currentTarget=n.elem,a=0;(o=n.handlers[a++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(o.namespace))&&(t.handleObj=o,t.data=o.data,r=((he.event.special[o.origType]||{}).handle||o.handler).apply(n.elem,l),r!==e&&(t.result=r)===!1&&(t.preventDefault(),t.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,t),t.result}},handlers:function(t,i){var r,o,n,a,s=[],l=i.delegateCount,c=t.target;if(l&&c.nodeType&&(!t.button||"click"!==t.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==t.type)){for(n=[],a=0;l>a;a++)o=i[a],r=o.selector+" ",n[r]===e&&(n[r]=o.needsContext?he(r,this).index(c)>=0:he.find(r,this,null,[c]).length),n[r]&&n.push(o);n.length&&s.push({elem:c,handlers:n})}return i.length>l&&s.push({elem:this,handlers:i.slice(l)}),s},fix:function(t){if(t[he.expando])return t;var e,i,r,o=t.type,n=t,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=Je.test(o)?this.mouseHooks:Oe.test(o)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,t=new he.Event(n),e=r.length;e--;)i=r[e],t[i]=n[i];return t.target||(t.target=n.srcElement||Y),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,a.filter?a.filter(t,n):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,i){var r,o,n,a=i.button,s=i.fromElement;return null==t.pageX&&null!=i.clientX&&(o=t.target.ownerDocument||Y,n=o.documentElement,r=o.body,t.pageX=i.clientX+(n&&n.scrollLeft||r&&r.scrollLeft||0)-(n&&n.clientLeft||r&&r.clientLeft||0),t.pageY=i.clientY+(n&&n.scrollTop||r&&r.scrollTop||0)-(n&&n.clientTop||r&&r.clientTop||0)),!t.relatedTarget&&s&&(t.relatedTarget=s===t.target?i.toElement:s),t.which||a===e||(t.which=1&a?1:2&a?3:4&a?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):e},delegateType:"focusout"},click:{trigger:function(){return he.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):e},_default:function(t){return he.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==e&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i,r){var o=he.extend(new he.Event,i,{type:t,isSimulated:!0,originalEvent:{}});r?he.event.trigger(o,null,e):he.event.dispatch.call(e,o),o.isDefaultPrevented()&&i.preventDefault()}},he.removeEvent=Y.removeEventListener?function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)}:function(t,e,i){var r="on"+e;t.detachEvent&&(typeof t[r]===q&&(t[r]=null),t.detachEvent(r,i))},he.Event=function(t,i){return this instanceof he.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.returnValue===!1||t.getPreventDefault&&t.getPreventDefault()?l:c):this.type=t,i&&he.extend(this,i),this.timeStamp=t&&t.timeStamp||he.now(),this[he.expando]=!0,e):new he.Event(t,i)},he.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=l,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=l,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},he.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){he.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,r=this,o=t.relatedTarget,n=t.handleObj;return(!o||o!==r&&!he.contains(r,o))&&(t.type=n.origType,i=n.handler.apply(this,arguments),t.type=e),i}}}),he.support.submitBubbles||(he.event.special.submit={setup:function(){return he.nodeName(this,"form")?!1:(he.event.add(this,"click._submit keypress._submit",function(t){var i=t.target,r=he.nodeName(i,"input")||he.nodeName(i,"button")?i.form:e;r&&!he._data(r,"submitBubbles")&&(he.event.add(r,"submit._submit",function(t){t._submit_bubble=!0}),he._data(r,"submitBubbles",!0))}),e)},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&he.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return he.nodeName(this,"form")?!1:(he.event.remove(this,"._submit"),e)}}),he.support.changeBubbles||(he.event.special.change={setup:function(){return Ie.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(he.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),he.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),he.event.simulate("change",this,t,!0)})),!1):(he.event.add(this,"beforeactivate._change",function(t){var e=t.target;Ie.test(e.nodeName)&&!he._data(e,"changeBubbles")&&(he.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||he.event.simulate("change",this.parentNode,t,!0)}),he._data(e,"changeBubbles",!0))}),e)},handle:function(t){var i=t.target;return this!==i||t.isSimulated||t.isTrigger||"radio"!==i.type&&"checkbox"!==i.type?t.handleObj.handler.apply(this,arguments):e},teardown:function(){return he.event.remove(this,"._change"),!Ie.test(this.nodeName)}}),he.support.focusinBubbles||he.each({focus:"focusin",blur:"focusout"},function(t,e){var i=0,r=function(t){he.event.simulate(e,t.target,he.event.fix(t),!0)};he.event.special[e]={setup:function(){0===i++&&Y.addEventListener(t,r,!0)},teardown:function(){0===--i&&Y.removeEventListener(t,r,!0)}}}),he.fn.extend({on:function(t,i,r,o,n){var a,s;if("object"==typeof t){"string"!=typeof i&&(r=r||i,i=e);for(a in t)this.on(a,i,r,t[a],n);return this}if(null==r&&null==o?(o=i,r=i=e):null==o&&("string"==typeof i?(o=r,r=e):(o=r,r=i,i=e)),o===!1)o=c;else if(!o)return this;return 1===n&&(s=o,o=function(t){return he().off(t),s.apply(this,arguments)},o.guid=s.guid||(s.guid=he.guid++)),this.each(function(){he.event.add(this,t,o,r,i)})},one:function(t,e,i,r){return this.on(t,e,i,r,1)},off:function(t,i,r){var o,n;if(t&&t.preventDefault&&t.handleObj)return o=t.handleObj,he(t.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof t){for(n in t)this.off(n,i,t[n]);return this}return(i===!1||"function"==typeof i)&&(r=i,i=e),r===!1&&(r=c),this.each(function(){he.event.remove(this,t,r,i)})},trigger:function(t,e){return this.each(function(){he.event.trigger(t,e,this)})},triggerHandler:function(t,i){var r=this[0];return r?he.event.trigger(t,i,r,!0):e}});var Ge=/^.[^:#\[\.,]*$/,ze=/^(?:parents|prev(?:Until|All))/,je=he.expr.match.needsContext,Ue={children:!0,contents:!0,next:!0,prev:!0};he.fn.extend({find:function(t){var e,i=[],r=this,o=r.length;if("string"!=typeof t)return this.pushStack(he(t).filter(function(){for(e=0;o>e;e++)if(he.contains(r[e],this))return!0}));for(e=0;o>e;e++)he.find(t,r[e],i);return i=this.pushStack(o>1?he.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},has:function(t){var e,i=he(t,this),r=i.length;return this.filter(function(){for(e=0;r>e;e++)if(he.contains(this,i[e]))return!0})},not:function(t){return this.pushStack(d(this,t||[],!0))},filter:function(t){return this.pushStack(d(this,t||[],!1))},is:function(t){return!!d(this,"string"==typeof t&&je.test(t)?he(t):t||[],!1).length},closest:function(t,e){for(var i,r=0,o=this.length,n=[],a=je.test(t)||"string"!=typeof t?he(t,e||this.context):0;o>r;r++)for(i=this[r];i&&i!==e;i=i.parentNode)if(11>i.nodeType&&(a?a.index(i)>-1:1===i.nodeType&&he.find.matchesSelector(i,t))){i=n.push(i);break}return this.pushStack(n.length>1?he.unique(n):n)},index:function(t){return t?"string"==typeof t?he.inArray(this[0],he(t)):he.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){var i="string"==typeof t?he(t,e):he.makeArray(t&&t.nodeType?[t]:t),r=he.merge(this.get(),i);return this.pushStack(he.unique(r))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),he.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return he.dir(t,"parentNode")},parentsUntil:function(t,e,i){return he.dir(t,"parentNode",i)},next:function(t){return u(t,"nextSibling")},prev:function(t){return u(t,"previousSibling")},nextAll:function(t){return he.dir(t,"nextSibling")},prevAll:function(t){return he.dir(t,"previousSibling")},nextUntil:function(t,e,i){return he.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return he.dir(t,"previousSibling",i)},siblings:function(t){return he.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return he.sibling(t.firstChild)},contents:function(t){return he.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:he.merge([],t.childNodes)}},function(t,e){he.fn[t]=function(i,r){var o=he.map(this,e,i);return"Until"!==t.slice(-5)&&(r=i),r&&"string"==typeof r&&(o=he.filter(r,o)),this.length>1&&(Ue[t]||(o=he.unique(o)),ze.test(t)&&(o=o.reverse())),this.pushStack(o)}}),he.extend({filter:function(t,e,i){var r=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?he.find.matchesSelector(r,t)?[r]:[]:he.find.matches(t,he.grep(e,function(t){return 1===t.nodeType}))},dir:function(t,i,r){for(var o=[],n=t[i];n&&9!==n.nodeType&&(r===e||1!==n.nodeType||!he(n).is(r));)1===n.nodeType&&o.push(n),n=n[i];return o},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}});var We="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Xe=/ jQuery\d+="(?:null|\d+)"/g,qe=RegExp("<(?:"+We+")[\\s/>]","i"),Ke=/^\s+/,Ye=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Qe=/<([\w:]+)/,Ze=/<tbody/i,$e=/<|&#?\w+;/,ti=/<(?:script|style|link)/i,ei=/^(?:checkbox|radio)$/i,ii=/checked\s*(?:[^=]|=\s*.checked.)/i,ri=/^$|\/(?:java|ecma)script/i,oi=/^true\/(.*)/,ni=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ai={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:he.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},si=p(Y),li=si.appendChild(Y.createElement("div"));ai.optgroup=ai.option,ai.tbody=ai.tfoot=ai.colgroup=ai.caption=ai.thead,ai.th=ai.td,he.fn.extend({text:function(t){return he.access(this,function(t){return t===e?he.text(this):this.empty().append((this[0]&&this[0].ownerDocument||Y).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var i,r=t?he.filter(t,this):this,o=0;null!=(i=r[o]);o++)e||1!==i.nodeType||he.cleanData(v(i)),i.parentNode&&(e&&he.contains(i.ownerDocument,i)&&g(v(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&he.cleanData(v(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&he.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return he.clone(this,t,e)})},html:function(t){return he.access(this,function(t){var i=this[0]||{},r=0,o=this.length;if(t===e)return 1===i.nodeType?i.innerHTML.replace(Xe,""):e;if(!("string"!=typeof t||ti.test(t)||!he.support.htmlSerialize&&qe.test(t)||!he.support.leadingWhitespace&&Ke.test(t)||ai[(Qe.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(Ye,"<$1></$2>");try{for(;o>r;r++)i=this[r]||{},1===i.nodeType&&(he.cleanData(v(i,!1)),i.innerHTML=t);i=0}catch(n){}}i&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=he.map(this,function(t){return[t.nextSibling,t.parentNode]}),e=0;return this.domManip(arguments,function(i){var r=t[e++],o=t[e++];o&&(r&&r.parentNode!==o&&(r=this.nextSibling),he(this).remove(),o.insertBefore(i,r))},!0),e?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e,i){t=re.apply([],t);var r,o,n,a,s,l,c=0,h=this.length,u=this,d=h-1,p=t[0],f=he.isFunction(p);if(f||!(1>=h||"string"!=typeof p||he.support.checkClone)&&ii.test(p))return this.each(function(r){var o=u.eq(r);f&&(t[0]=p.call(this,r,o.html())),o.domManip(t,e,i)});if(h&&(l=he.buildFragment(t,this[0].ownerDocument,!1,!i&&this),r=l.firstChild,1===l.childNodes.length&&(l=r),r)){for(a=he.map(v(l,"script"),_),n=a.length;h>c;c++)o=l,c!==d&&(o=he.clone(o,!0,!0),n&&he.merge(a,v(o,"script"))),e.call(this[c],o,c);if(n)for(s=a[a.length-1].ownerDocument,he.map(a,m),c=0;n>c;c++)o=a[c],ri.test(o.type||"")&&!he._data(o,"globalEval")&&he.contains(s,o)&&(o.src?he._evalUrl(o.src):he.globalEval((o.text||o.textContent||o.innerHTML||"").replace(ni,"")));l=r=null}return this}}),he.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){he.fn[t]=function(t){for(var i,r=0,o=[],n=he(t),a=n.length-1;a>=r;r++)i=r===a?this:this.clone(!0),he(n[r])[e](i),oe.apply(o,i.get());return this.pushStack(o)}}),he.extend({clone:function(t,e,i){var r,o,n,a,s,l=he.contains(t.ownerDocument,t);if(he.support.html5Clone||he.isXMLDoc(t)||!qe.test("<"+t.nodeName+">")?n=t.cloneNode(!0):(li.innerHTML=t.outerHTML,li.removeChild(n=li.firstChild)),!(he.support.noCloneEvent&&he.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||he.isXMLDoc(t)))for(r=v(n),s=v(t),a=0;null!=(o=s[a]);++a)r[a]&&b(o,r[a]);if(e)if(i)for(s=s||v(t),r=r||v(n),a=0;null!=(o=s[a]);a++)y(o,r[a]);else y(t,n);return r=v(n,"script"),r.length>0&&g(r,!l&&v(t,"script")),r=s=o=null,n},buildFragment:function(t,e,i,r){for(var o,n,a,s,l,c,h,u=t.length,d=p(e),f=[],_=0;u>_;_++)if(n=t[_],n||0===n)if("object"===he.type(n))he.merge(f,n.nodeType?[n]:n);else if($e.test(n)){for(s=s||d.appendChild(e.createElement("div")),l=(Qe.exec(n)||["",""])[1].toLowerCase(),h=ai[l]||ai._default,s.innerHTML=h[1]+n.replace(Ye,"<$1></$2>")+h[2],o=h[0];o--;)s=s.lastChild;if(!he.support.leadingWhitespace&&Ke.test(n)&&f.push(e.createTextNode(Ke.exec(n)[0])),!he.support.tbody)for(n="table"!==l||Ze.test(n)?"<table>"!==h[1]||Ze.test(n)?0:s:s.firstChild,o=n&&n.childNodes.length;o--;)he.nodeName(c=n.childNodes[o],"tbody")&&!c.childNodes.length&&n.removeChild(c);for(he.merge(f,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=d.lastChild}else f.push(e.createTextNode(n));for(s&&d.removeChild(s),he.support.appendChecked||he.grep(v(f,"input"),M),_=0;n=f[_++];)if((!r||-1===he.inArray(n,r))&&(a=he.contains(n.ownerDocument,n),s=v(d.appendChild(n),"script"),a&&g(s),i))for(o=0;n=s[o++];)ri.test(n.type||"")&&i.push(n);return s=null,d},cleanData:function(t,e){for(var i,r,o,n,a=0,s=he.expando,l=he.cache,c=he.support.deleteExpando,h=he.event.special;null!=(i=t[a]);a++)if((e||he.acceptData(i))&&(o=i[s],n=o&&l[o])){if(n.events)for(r in n.events)h[r]?he.event.remove(i,r):he.removeEvent(i,r,n.handle);l[o]&&(delete l[o],c?delete i[s]:typeof i.removeAttribute!==q?i.removeAttribute(s):i[s]=null,ee.push(o))}},_evalUrl:function(t){return he.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),he.fn.extend({wrapAll:function(t){if(he.isFunction(t))return this.each(function(e){he(this).wrapAll(t.call(this,e))});if(this[0]){var e=he(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return this.each(he.isFunction(t)?function(e){he(this).wrapInner(t.call(this,e))}:function(){var e=he(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=he.isFunction(t);return this.each(function(i){he(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){he.nodeName(this,"body")||he(this).replaceWith(this.childNodes)}).end()}});var ci,hi,ui,di=/alpha\([^)]*\)/i,pi=/opacity\s*=\s*([^)]*)/,fi=/^(top|right|bottom|left)$/,_i=/^(none|table(?!-c[ea]).+)/,mi=/^margin/,gi=RegExp("^("+ue+")(.*)$","i"),yi=RegExp("^("+ue+")(?!px)[a-z%]+$","i"),bi=RegExp("^([+-])=("+ue+")","i"),vi={BODY:"block"},Mi={position:"absolute",visibility:"hidden",display:"block"},Si={letterSpacing:0,fontWeight:400},Ti=["Top","Right","Bottom","Left"],xi=["Webkit","O","Moz","ms"];he.fn.extend({css:function(t,i){return he.access(this,function(t,i,r){var o,n,a={},s=0;if(he.isArray(i)){for(n=hi(t),o=i.length;o>s;s++)a[i[s]]=he.css(t,i[s],!1,n);return a}return r!==e?he.style(t,i,r):he.css(t,i)},t,i,arguments.length>1)},show:function(){return x(this,!0)},hide:function(){return x(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){T(this)?he(this).show():he(this).hide()})}}),he.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=ui(t,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":he.support.cssFloat?"cssFloat":"styleFloat"},style:function(t,i,r,o){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var n,a,s,l=he.camelCase(i),c=t.style;if(i=he.cssProps[l]||(he.cssProps[l]=S(c,l)),s=he.cssHooks[i]||he.cssHooks[l],r===e)return s&&"get"in s&&(n=s.get(t,!1,o))!==e?n:c[i];if(a=typeof r,"string"===a&&(n=bi.exec(r))&&(r=(n[1]+1)*n[2]+parseFloat(he.css(t,i)),a="number"),!(null==r||"number"===a&&isNaN(r)||("number"!==a||he.cssNumber[l]||(r+="px"),he.support.clearCloneStyle||""!==r||0!==i.indexOf("background")||(c[i]="inherit"),s&&"set"in s&&(r=s.set(t,r,o))===e)))try{c[i]=r
}catch(h){}}},css:function(t,i,r,o){var n,a,s,l=he.camelCase(i);return i=he.cssProps[l]||(he.cssProps[l]=S(t.style,l)),s=he.cssHooks[i]||he.cssHooks[l],s&&"get"in s&&(a=s.get(t,!0,r)),a===e&&(a=ui(t,i,o)),"normal"===a&&i in Si&&(a=Si[i]),""===r||r?(n=parseFloat(a),r===!0||he.isNumeric(n)?n||0:a):a}}),t.getComputedStyle?(hi=function(e){return t.getComputedStyle(e,null)},ui=function(t,i,r){var o,n,a,s=r||hi(t),l=s?s.getPropertyValue(i)||s[i]:e,c=t.style;return s&&(""!==l||he.contains(t.ownerDocument,t)||(l=he.style(t,i)),yi.test(l)&&mi.test(i)&&(o=c.width,n=c.minWidth,a=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=s.width,c.width=o,c.minWidth=n,c.maxWidth=a)),l}):Y.documentElement.currentStyle&&(hi=function(t){return t.currentStyle},ui=function(t,i,r){var o,n,a,s=r||hi(t),l=s?s[i]:e,c=t.style;return null==l&&c&&c[i]&&(l=c[i]),yi.test(l)&&!fi.test(i)&&(o=c.left,n=t.runtimeStyle,a=n&&n.left,a&&(n.left=t.currentStyle.left),c.left="fontSize"===i?"1em":l,l=c.pixelLeft+"px",c.left=o,a&&(n.left=a)),""===l?"auto":l}),he.each(["height","width"],function(t,i){he.cssHooks[i]={get:function(t,r,o){return r?0===t.offsetWidth&&_i.test(he.css(t,"display"))?he.swap(t,Mi,function(){return A(t,i,o)}):A(t,i,o):e},set:function(t,e,r){var o=r&&hi(t);return C(t,e,r?E(t,i,r,he.support.boxSizing&&"border-box"===he.css(t,"boxSizing",!1,o),o):0)}}}),he.support.opacity||(he.cssHooks.opacity={get:function(t,e){return pi.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var i=t.style,r=t.currentStyle,o=he.isNumeric(e)?"alpha(opacity="+100*e+")":"",n=r&&r.filter||i.filter||"";i.zoom=1,(e>=1||""===e)&&""===he.trim(n.replace(di,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===e||r&&!r.filter)||(i.filter=di.test(n)?n.replace(di,o):n+" "+o)}}),he(function(){he.support.reliableMarginRight||(he.cssHooks.marginRight={get:function(t,i){return i?he.swap(t,{display:"inline-block"},ui,[t,"marginRight"]):e}}),!he.support.pixelPosition&&he.fn.position&&he.each(["top","left"],function(t,i){he.cssHooks[i]={get:function(t,r){return r?(r=ui(t,i),yi.test(r)?he(t).position()[i]+"px":r):e}}})}),he.expr&&he.expr.filters&&(he.expr.filters.hidden=function(t){return 0>=t.offsetWidth&&0>=t.offsetHeight||!he.support.reliableHiddenOffsets&&"none"===(t.style&&t.style.display||he.css(t,"display"))},he.expr.filters.visible=function(t){return!he.expr.filters.hidden(t)}),he.each({margin:"",padding:"",border:"Width"},function(t,e){he.cssHooks[t+e]={expand:function(i){for(var r=0,o={},n="string"==typeof i?i.split(" "):[i];4>r;r++)o[t+Ti[r]+e]=n[r]||n[r-2]||n[0];return o}},mi.test(t)||(he.cssHooks[t+e].set=C)});var Ci=/%20/g,Ei=/\[\]$/,Ai=/\r?\n/g,wi=/^(?:submit|button|image|reset|file)$/i,Ri=/^(?:input|select|textarea|keygen)/i;he.fn.extend({serialize:function(){return he.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=he.prop(this,"elements");return t?he.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!he(this).is(":disabled")&&Ri.test(this.nodeName)&&!wi.test(t)&&(this.checked||!ei.test(t))}).map(function(t,e){var i=he(this).val();return null==i?null:he.isArray(i)?he.map(i,function(t){return{name:e.name,value:t.replace(Ai,"\r\n")}}):{name:e.name,value:i.replace(Ai,"\r\n")}}).get()}}),he.param=function(t,i){var r,o=[],n=function(t,e){e=he.isFunction(e)?e():null==e?"":e,o[o.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(i===e&&(i=he.ajaxSettings&&he.ajaxSettings.traditional),he.isArray(t)||t.jquery&&!he.isPlainObject(t))he.each(t,function(){n(this.name,this.value)});else for(r in t)D(r,t[r],i,n);return o.join("&").replace(Ci,"+")},he.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){he.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),he.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,r){return this.on(e,t,i,r)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}});var Di,Pi,Bi=he.now(),Vi=/\?/,Li=/#.*$/,ki=/([?&])_=[^&]*/,Hi=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ii=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Oi=/^(?:GET|HEAD)$/,Ji=/^\/\//,Ni=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Fi=he.fn.load,Gi={},zi={},ji="*/".concat("*");try{Pi=K.href}catch(Ui){Pi=Y.createElement("a"),Pi.href="",Pi=Pi.href}Di=Ni.exec(Pi.toLowerCase())||[],he.fn.load=function(t,i,r){if("string"!=typeof t&&Fi)return Fi.apply(this,arguments);var o,n,a,s=this,l=t.indexOf(" ");return l>=0&&(o=t.slice(l,t.length),t=t.slice(0,l)),he.isFunction(i)?(r=i,i=e):i&&"object"==typeof i&&(a="POST"),s.length>0&&he.ajax({url:t,type:a,dataType:"html",data:i}).done(function(t){n=arguments,s.html(o?he("<div>").append(he.parseHTML(t)).find(o):t)}).complete(r&&function(t,e){s.each(r,n||[t.responseText,e,t])}),this},he.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){he.fn[e]=function(t){return this.on(e,t)}}),he.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Pi,type:"GET",isLocal:Ii.test(Di[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ji,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":he.parseJSON,"text xml":he.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?V(V(t,he.ajaxSettings),e):V(he.ajaxSettings,t)},ajaxPrefilter:P(Gi),ajaxTransport:P(zi),ajax:function(t,i){function r(t,i,r,o){var n,u,y,b,M,T=i;2!==v&&(v=2,l&&clearTimeout(l),h=e,s=o||"",S.readyState=t>0?4:0,n=t>=200&&300>t||304===t,r&&(b=L(d,S,r)),b=k(d,b,S,n),n?(d.ifModified&&(M=S.getResponseHeader("Last-Modified"),M&&(he.lastModified[a]=M),M=S.getResponseHeader("etag"),M&&(he.etag[a]=M)),204===t||"HEAD"===d.type?T="nocontent":304===t?T="notmodified":(T=b.state,u=b.data,y=b.error,n=!y)):(y=T,(t||!T)&&(T="error",0>t&&(t=0))),S.status=t,S.statusText=(i||T)+"",n?_.resolveWith(p,[u,T,S]):_.rejectWith(p,[S,T,y]),S.statusCode(g),g=e,c&&f.trigger(n?"ajaxSuccess":"ajaxError",[S,d,n?u:y]),m.fireWith(p,[S,T]),c&&(f.trigger("ajaxComplete",[S,d]),--he.active||he.event.trigger("ajaxStop")))}"object"==typeof t&&(i=t,t=e),i=i||{};var o,n,a,s,l,c,h,u,d=he.ajaxSetup({},i),p=d.context||d,f=d.context&&(p.nodeType||p.jquery)?he(p):he.event,_=he.Deferred(),m=he.Callbacks("once memory"),g=d.statusCode||{},y={},b={},v=0,M="canceled",S={readyState:0,getResponseHeader:function(t){var e;if(2===v){if(!u)for(u={};e=Hi.exec(s);)u[e[1].toLowerCase()]=e[2];e=u[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===v?s:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return v||(t=b[i]=b[i]||t,y[t]=e),this},overrideMimeType:function(t){return v||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>v)for(e in t)g[e]=[g[e],t[e]];else S.always(t[S.status]);return this},abort:function(t){var e=t||M;return h&&h.abort(e),r(0,e),this}};if(_.promise(S).complete=m.add,S.success=S.done,S.error=S.fail,d.url=((t||d.url||Pi)+"").replace(Li,"").replace(Ji,Di[1]+"//"),d.type=i.method||i.type||d.method||d.type,d.dataTypes=he.trim(d.dataType||"*").toLowerCase().match(de)||[""],null==d.crossDomain&&(o=Ni.exec(d.url.toLowerCase()),d.crossDomain=!(!o||o[1]===Di[1]&&o[2]===Di[2]&&(o[3]||("http:"===o[1]?"80":"443"))===(Di[3]||("http:"===Di[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=he.param(d.data,d.traditional)),B(Gi,d,i,S),2===v)return S;c=d.global,c&&0===he.active++&&he.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Oi.test(d.type),a=d.url,d.hasContent||(d.data&&(a=d.url+=(Vi.test(a)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=ki.test(a)?a.replace(ki,"$1_="+Bi++):a+(Vi.test(a)?"&":"?")+"_="+Bi++)),d.ifModified&&(he.lastModified[a]&&S.setRequestHeader("If-Modified-Since",he.lastModified[a]),he.etag[a]&&S.setRequestHeader("If-None-Match",he.etag[a])),(d.data&&d.hasContent&&d.contentType!==!1||i.contentType)&&S.setRequestHeader("Content-Type",d.contentType),S.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+ji+"; q=0.01":""):d.accepts["*"]);for(n in d.headers)S.setRequestHeader(n,d.headers[n]);if(d.beforeSend&&(d.beforeSend.call(p,S,d)===!1||2===v))return S.abort();M="abort";for(n in{success:1,error:1,complete:1})S[n](d[n]);if(h=B(zi,d,i,S)){S.readyState=1,c&&f.trigger("ajaxSend",[S,d]),d.async&&d.timeout>0&&(l=setTimeout(function(){S.abort("timeout")},d.timeout));try{v=1,h.send(y,r)}catch(T){if(!(2>v))throw T;r(-1,T)}}else r(-1,"No Transport");return S},getJSON:function(t,e,i){return he.get(t,e,i,"json")},getScript:function(t,i){return he.get(t,e,i,"script")}}),he.each(["get","post"],function(t,i){he[i]=function(t,r,o,n){return he.isFunction(r)&&(n=n||o,o=r,r=e),he.ajax({url:t,type:i,dataType:n,data:r,success:o})}}),he.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return he.globalEval(t),t}}}),he.ajaxPrefilter("script",function(t){t.cache===e&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),he.ajaxTransport("script",function(t){if(t.crossDomain){var i,r=Y.head||he("head")[0]||Y.documentElement;return{send:function(e,o){i=Y.createElement("script"),i.async=!0,t.scriptCharset&&(i.charset=t.scriptCharset),i.src=t.url,i.onload=i.onreadystatechange=function(t,e){(e||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),i=null,e||o(200,"success"))},r.insertBefore(i,r.firstChild)},abort:function(){i&&i.onload(e,!0)}}}});var Wi=[],Xi=/(=)\?(?=&|$)|\?\?/;he.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Wi.pop()||he.expando+"_"+Bi++;return this[t]=!0,t}}),he.ajaxPrefilter("json jsonp",function(i,r,o){var n,a,s,l=i.jsonp!==!1&&(Xi.test(i.url)?"url":"string"==typeof i.data&&!(i.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xi.test(i.data)&&"data");return l||"jsonp"===i.dataTypes[0]?(n=i.jsonpCallback=he.isFunction(i.jsonpCallback)?i.jsonpCallback():i.jsonpCallback,l?i[l]=i[l].replace(Xi,"$1"+n):i.jsonp!==!1&&(i.url+=(Vi.test(i.url)?"&":"?")+i.jsonp+"="+n),i.converters["script json"]=function(){return s||he.error(n+" was not called"),s[0]},i.dataTypes[0]="json",a=t[n],t[n]=function(){s=arguments},o.always(function(){t[n]=a,i[n]&&(i.jsonpCallback=r.jsonpCallback,Wi.push(n)),s&&he.isFunction(a)&&a(s[0]),s=a=e}),"script"):e});var qi,Ki,Yi=0,Qi=t.ActiveXObject&&function(){var t;for(t in qi)qi[t](e,!0)};he.ajaxSettings.xhr=t.ActiveXObject?function(){return!this.isLocal&&H()||I()}:H,Ki=he.ajaxSettings.xhr(),he.support.cors=!!Ki&&"withCredentials"in Ki,Ki=he.support.ajax=!!Ki,Ki&&he.ajaxTransport(function(i){if(!i.crossDomain||he.support.cors){var r;return{send:function(o,n){var a,s,l=i.xhr();if(i.username?l.open(i.type,i.url,i.async,i.username,i.password):l.open(i.type,i.url,i.async),i.xhrFields)for(s in i.xhrFields)l[s]=i.xhrFields[s];i.mimeType&&l.overrideMimeType&&l.overrideMimeType(i.mimeType),i.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");try{for(s in o)l.setRequestHeader(s,o[s])}catch(c){}l.send(i.hasContent&&i.data||null),r=function(t,o){var s,c,h,u;try{if(r&&(o||4===l.readyState))if(r=e,a&&(l.onreadystatechange=he.noop,Qi&&delete qi[a]),o)4!==l.readyState&&l.abort();else{u={},s=l.status,c=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(u.text=l.responseText);try{h=l.statusText}catch(d){h=""}s||!i.isLocal||i.crossDomain?1223===s&&(s=204):s=u.text?200:404}}catch(p){o||n(-1,p)}u&&n(s,h,u,c)},i.async?4===l.readyState?setTimeout(r):(a=++Yi,Qi&&(qi||(qi={},he(t).unload(Qi)),qi[a]=r),l.onreadystatechange=r):r()},abort:function(){r&&r(e,!0)}}}});var Zi,$i,tr=/^(?:toggle|show|hide)$/,er=RegExp("^(?:([+-])=|)("+ue+")([a-z%]*)$","i"),ir=/queueHooks$/,rr=[G],or={"*":[function(t,e){var i=this.createTween(t,e),r=i.cur(),o=er.exec(e),n=o&&o[3]||(he.cssNumber[t]?"":"px"),a=(he.cssNumber[t]||"px"!==n&&+r)&&er.exec(he.css(i.elem,t)),s=1,l=20;if(a&&a[3]!==n){n=n||a[3],o=o||[],a=+r||1;do s=s||".5",a/=s,he.style(i.elem,t,a+n);while(s!==(s=i.cur()/r)&&1!==s&&--l)}return o&&(a=i.start=+a||+r||0,i.unit=n,i.end=o[1]?a+(o[1]+1)*o[2]:+o[2]),i}]};he.Animation=he.extend(N,{tweener:function(t,e){he.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var i,r=0,o=t.length;o>r;r++)i=t[r],or[i]=or[i]||[],or[i].unshift(e)},prefilter:function(t,e){e?rr.unshift(t):rr.push(t)}}),he.Tween=z,z.prototype={constructor:z,init:function(t,e,i,r,o,n){this.elem=t,this.prop=i,this.easing=o||"swing",this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=n||(he.cssNumber[i]?"":"px")},cur:function(){var t=z.propHooks[this.prop];return t&&t.get?t.get(this):z.propHooks._default.get(this)},run:function(t){var e,i=z.propHooks[this.prop];return this.pos=e=this.options.duration?he.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):z.propHooks._default.set(this),this}},z.prototype.init.prototype=z.prototype,z.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=he.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){he.fx.step[t.prop]?he.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[he.cssProps[t.prop]]||he.cssHooks[t.prop])?he.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},z.propHooks.scrollTop=z.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},he.each(["toggle","show","hide"],function(t,e){var i=he.fn[e];he.fn[e]=function(t,r,o){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(j(e,!0),t,r,o)}}),he.fn.extend({fadeTo:function(t,e,i,r){return this.filter(T).css("opacity",0).show().end().animate({opacity:e},t,i,r)},animate:function(t,e,i,r){var o=he.isEmptyObject(t),n=he.speed(e,i,r),a=function(){var e=N(this,he.extend({},t),n);(o||he._data(this,"finish"))&&e.stop(!0)};return a.finish=a,o||n.queue===!1?this.each(a):this.queue(n.queue,a)},stop:function(t,i,r){var o=function(t){var e=t.stop;delete t.stop,e(r)};return"string"!=typeof t&&(r=i,i=t,t=e),i&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",n=he.timers,a=he._data(this);if(i)a[i]&&a[i].stop&&o(a[i]);else for(i in a)a[i]&&a[i].stop&&ir.test(i)&&o(a[i]);for(i=n.length;i--;)n[i].elem!==this||null!=t&&n[i].queue!==t||(n[i].anim.stop(r),e=!1,n.splice(i,1));(e||!r)&&he.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=he._data(this),r=i[t+"queue"],o=i[t+"queueHooks"],n=he.timers,a=r?r.length:0;for(i.finish=!0,he.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=n.length;e--;)n[e].elem===this&&n[e].queue===t&&(n[e].anim.stop(!0),n.splice(e,1));for(e=0;a>e;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete i.finish})}}),he.each({slideDown:j("show"),slideUp:j("hide"),slideToggle:j("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){he.fn[t]=function(t,i,r){return this.animate(e,t,i,r)}}),he.speed=function(t,e,i){var r=t&&"object"==typeof t?he.extend({},t):{complete:i||!i&&e||he.isFunction(t)&&t,duration:t,easing:i&&e||e&&!he.isFunction(e)&&e};return r.duration=he.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in he.fx.speeds?he.fx.speeds[r.duration]:he.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){he.isFunction(r.old)&&r.old.call(this),r.queue&&he.dequeue(this,r.queue)},r},he.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},he.timers=[],he.fx=z.prototype.init,he.fx.tick=function(){var t,i=he.timers,r=0;for(Zi=he.now();i.length>r;r++)t=i[r],t()||i[r]!==t||i.splice(r--,1);i.length||he.fx.stop(),Zi=e},he.fx.timer=function(t){t()&&he.timers.push(t)&&he.fx.start()},he.fx.interval=13,he.fx.start=function(){$i||($i=setInterval(he.fx.tick,he.fx.interval))},he.fx.stop=function(){clearInterval($i),$i=null},he.fx.speeds={slow:600,fast:200,_default:400},he.fx.step={},he.expr&&he.expr.filters&&(he.expr.filters.animated=function(t){return he.grep(he.timers,function(e){return t===e.elem}).length}),he.fn.offset=function(t){if(arguments.length)return t===e?this:this.each(function(e){he.offset.setOffset(this,t,e)});var i,r,o={top:0,left:0},n=this[0],a=n&&n.ownerDocument;return a?(i=a.documentElement,he.contains(i,n)?(typeof n.getBoundingClientRect!==q&&(o=n.getBoundingClientRect()),r=U(a),{top:o.top+(r.pageYOffset||i.scrollTop)-(i.clientTop||0),left:o.left+(r.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}):o):void 0},he.offset={setOffset:function(t,e,i){var r=he.css(t,"position");"static"===r&&(t.style.position="relative");var o,n,a=he(t),s=a.offset(),l=he.css(t,"top"),c=he.css(t,"left"),h=("absolute"===r||"fixed"===r)&&he.inArray("auto",[l,c])>-1,u={},d={};h?(d=a.position(),o=d.top,n=d.left):(o=parseFloat(l)||0,n=parseFloat(c)||0),he.isFunction(e)&&(e=e.call(t,i,s)),null!=e.top&&(u.top=e.top-s.top+o),null!=e.left&&(u.left=e.left-s.left+n),"using"in e?e.using.call(t,u):a.css(u)}},he.fn.extend({position:function(){if(this[0]){var t,e,i={top:0,left:0},r=this[0];return"fixed"===he.css(r,"position")?e=r.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),he.nodeName(t[0],"html")||(i=t.offset()),i.top+=he.css(t[0],"borderTopWidth",!0),i.left+=he.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-he.css(r,"marginTop",!0),left:e.left-i.left-he.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Q;t&&!he.nodeName(t,"html")&&"static"===he.css(t,"position");)t=t.offsetParent;return t||Q})}}),he.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var r=/Y/.test(i);he.fn[t]=function(o){return he.access(this,function(t,o,n){var a=U(t);return n===e?a?i in a?a[i]:a.document.documentElement[o]:t[o]:(a?a.scrollTo(r?he(a).scrollLeft():n,r?n:he(a).scrollTop()):t[o]=n,e)},t,o,arguments.length,null)}}),he.each({Height:"height",Width:"width"},function(t,i){he.each({padding:"inner"+t,content:i,"":"outer"+t},function(r,o){he.fn[o]=function(o,n){var a=arguments.length&&(r||"boolean"!=typeof o),s=r||(o===!0||n===!0?"margin":"border");return he.access(this,function(i,r,o){var n;return he.isWindow(i)?i.document.documentElement["client"+t]:9===i.nodeType?(n=i.documentElement,Math.max(i.body["scroll"+t],n["scroll"+t],i.body["offset"+t],n["offset"+t],n["client"+t])):o===e?he.css(i,r,s):he.style(i,r,o,s)},i,a?o:e,a,null)}})}),he.fn.size=function(){return this.length},he.fn.andSelf=he.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=he:(t.jQuery=t.$=he,"function"==typeof define&&define.amd&&define("jquery",[],function(){return he}))}(window),!function(t,e,i){!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):jQuery&&!jQuery.fn.qtip&&t(jQuery)}(function(r){"use strict";function o(t,e,i,o){this.id=i,this.target=t,this.tooltip=E,this.elements={target:t},this._id=k+"-"+i,this.timers={img:{}},this.options=e,this.plugins={},this.cache={event:{},target:r(),disabled:C,attr:o,onTooltip:C,lastClass:""},this.rendered=this.destroyed=this.disabled=this.waiting=this.hiddenDuringWait=this.positioning=this.triggering=C}function n(t){return t===E||"object"!==r.type(t)}function a(t){return!(r.isFunction(t)||t&&t.attr||t.length||"object"===r.type(t)&&(t.jquery||t.then))}function s(t){var e,i,o,s;return n(t)?C:(n(t.metadata)&&(t.metadata={type:t.metadata}),"content"in t&&(e=t.content,n(e)||e.jquery||e.done?e=t.content={text:i=a(e)?C:e}:i=e.text,"ajax"in e&&(o=e.ajax,s=o&&o.once!==C,delete e.ajax,e.text=function(t,e){var n=i||r(this).attr(e.options.content.attr)||"Loading...",a=r.ajax(r.extend({},o,{context:e})).then(o.success,E,o.error).then(function(t){return t&&s&&e.set("content.text",t),t},function(t,i,r){e.destroyed||0===t.status||e.set("content.text",i+": "+r)});return s?n:(e.set("content.text",n),a)}),"title"in e&&(n(e.title)||(e.button=e.title.button,e.title=e.title.text),a(e.title||C)&&(e.title=C))),"position"in t&&n(t.position)&&(t.position={my:t.position,at:t.position}),"show"in t&&n(t.show)&&(t.show=t.show.jquery?{target:t.show}:t.show===x?{ready:x}:{event:t.show}),"hide"in t&&n(t.hide)&&(t.hide=t.hide.jquery?{target:t.hide}:{event:t.hide}),"style"in t&&n(t.style)&&(t.style={classes:t.style}),r.each(L,function(){this.sanitize&&this.sanitize(t)}),t)}function l(t,e){for(var i,r=0,o=t,n=e.split(".");o=o[n[r++]];)r<n.length&&(i=o);return[i||t,n.pop()]}function c(t,e){var i,r,o;for(i in this.checks)for(r in this.checks[i])(o=new RegExp(r,"i").exec(t))&&(e.push(o),("builtin"===i||this.plugins[i])&&this.checks[i][r].apply(this.plugins[i]||this,e))}function h(t){return O.concat("").join(t?"-"+t+" ":" ")}function u(i){return i&&{type:i.type,pageX:i.pageX,pageY:i.pageY,target:i.target,relatedTarget:i.relatedTarget,scrollX:i.scrollX||t.pageXOffset||e.body.scrollLeft||e.documentElement.scrollLeft,scrollY:i.scrollY||t.pageYOffset||e.body.scrollTop||e.documentElement.scrollTop}||{}}function d(t,e){return e>0?setTimeout(r.proxy(t,this),e):void t.call(this)}function p(t){return this.tooltip.hasClass(U)?C:(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),void(this.timers.show=d.call(this,function(){this.toggle(x,t)},this.options.show.delay)))}function f(t){if(this.tooltip.hasClass(U))return C;var e=r(t.relatedTarget),i=e.closest(J)[0]===this.tooltip[0],o=e[0]===this.options.show.target[0];if(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this!==e[0]&&"mouse"===this.options.position.target&&i||this.options.hide.fixed&&/mouse(out|leave|move)/.test(t.type)&&(i||o))try{t.preventDefault(),t.stopImmediatePropagation()}catch(n){}else this.timers.hide=d.call(this,function(){this.toggle(C,t)},this.options.hide.delay,this)}function _(t){return this.tooltip.hasClass(U)||!this.options.hide.inactive?C:(clearTimeout(this.timers.inactive),void(this.timers.inactive=d.call(this,function(){this.hide(t)},this.options.hide.inactive)))}function m(t){this.rendered&&this.tooltip[0].offsetWidth>0&&this.reposition(t)}function g(t,i,o){r(e.body).delegate(t,(i.split?i:i.join(Z+" "))+Z,function(){var t=b.api[r.attr(this,I)];t&&!t.disabled&&o.apply(t,arguments)})}function y(t,i,n){var a,l,c,h,u,d=r(e.body),p=t[0]===e?d:t,f=t.metadata?t.metadata(n.metadata):E,_="html5"===n.metadata.type&&f?f[n.metadata.name]:E,m=t.data(n.metadata.name||"qtipopts");try{m="string"==typeof m?r.parseJSON(m):m}catch(g){}if(h=r.extend(x,{},b.defaults,n,"object"==typeof m?s(m):E,s(_||f)),l=h.position,h.id=i,"boolean"==typeof h.content.text){if(c=t.attr(h.content.attr),h.content.attr===C||!c)return C;h.content.text=c}if(l.container.length||(l.container=d),l.target===C&&(l.target=p),h.show.target===C&&(h.show.target=p),h.show.solo===x&&(h.show.solo=l.container.closest("body")),h.hide.target===C&&(h.hide.target=p),h.position.viewport===x&&(h.position.viewport=l.container),l.container=l.container.eq(0),l.at=new M(l.at,x),l.my=new M(l.my),t.data(k))if(h.overwrite)t.qtip("destroy",!0);else if(h.overwrite===C)return C;return t.attr(H,i),h.suppress&&(u=t.attr("title"))&&t.removeAttr("title").attr(X,u).attr("title",""),a=new o(t,h,i,!!c),t.data(k,a),t.one("remove.qtip-"+i+" removeqtip.qtip-"+i,function(){var t;(t=r(this).data(k))&&t.destroy(!0)}),a}var b,v,M,S,T,x=!0,C=!1,E=null,A="x",w="y",R="top",D="left",P="bottom",B="right",V="center",L={},k="qtip",H="data-hasqtip",I="data-qtip-id",O=["ui-widget","ui-tooltip"],J="."+k,N="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),F=k+"-fixed",G=k+"-default",z=k+"-focus",j=k+"-hover",U=k+"-disabled",W="_replacedByqTip",X="oldtitle",q={ie:function(){for(var t=3,i=e.createElement("div");(i.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->")&&i.getElementsByTagName("i")[0];);return t>4?t:0/0}(),iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||C};v=o.prototype,v._when=function(t){return r.when.apply(r,t)},v.render=function(t){if(this.rendered||this.destroyed)return this;var e,i=this,o=this.options,n=this.cache,a=this.elements,s=o.content.text,l=o.content.title,c=o.content.button,h=o.position,u=("."+this._id+" ",[]);return r.attr(this.target[0],"aria-describedby",this._id),this.tooltip=a.tooltip=e=r("<div/>",{id:this._id,"class":[k,G,o.style.classes,k+"-pos-"+o.position.my.abbrev()].join(" "),width:o.style.width||"",height:o.style.height||"",tracking:"mouse"===h.target&&h.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":C,"aria-describedby":this._id+"-content","aria-hidden":x}).toggleClass(U,this.disabled).attr(I,this.id).data(k,this).appendTo(h.container).append(a.content=r("<div />",{"class":k+"-content",id:this._id+"-content","aria-atomic":x})),this.rendered=-1,this.positioning=x,l&&(this._createTitle(),r.isFunction(l)||u.push(this._updateTitle(l,C))),c&&this._createButton(),r.isFunction(s)||u.push(this._updateContent(s,C)),this.rendered=x,this._setWidget(),r.each(L,function(t){var e;"render"===this.initialize&&(e=this(i))&&(i.plugins[t]=e)}),this._unassignEvents(),this._assignEvents(),this._when(u).then(function(){i._trigger("render"),i.positioning=C,i.hiddenDuringWait||!o.show.ready&&!t||i.toggle(x,n.event,C),i.hiddenDuringWait=C}),b.api[this.id]=this,this},v.destroy=function(t){function e(){if(!this.destroyed){this.destroyed=x;var t=this.target,e=t.attr(X);this.rendered&&this.tooltip.stop(1,0).find("*").remove().end().remove(),r.each(this.plugins,function(){this.destroy&&this.destroy()}),clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this._unassignEvents(),t.removeData(k).removeAttr(I).removeAttr(H).removeAttr("aria-describedby"),this.options.suppress&&e&&t.attr("title",e).removeAttr(X),this._unbind(t),this.options=this.elements=this.cache=this.timers=this.plugins=this.mouse=E,delete b.api[this.id]}}return this.destroyed?this.target:(t===x&&"hide"!==this.triggering||!this.rendered?e.call(this):(this.tooltip.one("tooltiphidden",r.proxy(e,this)),!this.triggering&&this.hide()),this.target)},S=v.checks={builtin:{"^id$":function(t,e,i,o){var n=i===x?b.nextid:i,a=k+"-"+n;n!==C&&n.length>0&&!r("#"+a).length?(this._id=a,this.rendered&&(this.tooltip[0].id=this._id,this.elements.content[0].id=this._id+"-content",this.elements.title[0].id=this._id+"-title")):t[e]=o},"^prerender":function(t,e,i){i&&!this.rendered&&this.render(this.options.show.ready)},"^content.text$":function(t,e,i){this._updateContent(i)},"^content.attr$":function(t,e,i,r){this.options.content.text===this.target.attr(r)&&this._updateContent(this.target.attr(i))},"^content.title$":function(t,e,i){return i?(i&&!this.elements.title&&this._createTitle(),void this._updateTitle(i)):this._removeTitle()},"^content.button$":function(t,e,i){this._updateButton(i)},"^content.title.(text|button)$":function(t,e,i){this.set("content."+e,i)},"^position.(my|at)$":function(t,e,i){"string"==typeof i&&(t[e]=new M(i,"at"===e))},"^position.container$":function(t,e,i){this.rendered&&this.tooltip.appendTo(i)},"^show.ready$":function(t,e,i){i&&(!this.rendered&&this.render(x)||this.toggle(x))},"^style.classes$":function(t,e,i,r){this.rendered&&this.tooltip.removeClass(r).addClass(i)},"^style.(width|height)":function(t,e,i){this.rendered&&this.tooltip.css(e,i)},"^style.widget|content.title":function(){this.rendered&&this._setWidget()},"^style.def":function(t,e,i){this.rendered&&this.tooltip.toggleClass(G,!!i)},"^events.(render|show|move|hide|focus|blur)$":function(t,e,i){this.rendered&&this.tooltip[(r.isFunction(i)?"":"un")+"bind"]("tooltip"+e,i)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){if(this.rendered){var t=this.options.position;this.tooltip.attr("tracking","mouse"===t.target&&t.adjust.mouse),this._unassignEvents(),this._assignEvents()}}}},v.get=function(t){if(this.destroyed)return this;var e=l(this.options,t.toLowerCase()),i=e[0][e[1]];return i.precedance?i.string():i};var K=/^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i,Y=/^prerender|show\.ready/i;v.set=function(t,e){if(this.destroyed)return this;var i,o=this.rendered,n=C,a=this.options;return this.checks,"string"==typeof t?(i=t,t={},t[i]=e):t=r.extend({},t),r.each(t,function(e,i){if(o&&Y.test(e))return void delete t[e];var s,c=l(a,e.toLowerCase());s=c[0][c[1]],c[0][c[1]]=i&&i.nodeType?r(i):i,n=K.test(e)||n,t[e]=[c[0],c[1],i,s]}),s(a),this.positioning=x,r.each(t,r.proxy(c,this)),this.positioning=C,this.rendered&&this.tooltip[0].offsetWidth>0&&n&&this.reposition("mouse"===a.position.target?E:this.cache.event),this},v._update=function(t,e){var i=this,o=this.cache;return this.rendered&&t?(r.isFunction(t)&&(t=t.call(this.elements.target,o.event,this)||""),r.isFunction(t.then)?(o.waiting=x,t.then(function(t){return o.waiting=C,i._update(t,e)},E,function(t){return i._update(t,e)})):t===C||!t&&""!==t?C:(t.jquery&&t.length>0?e.empty().append(t.css({display:"block",visibility:"visible"})):e.html(t),this._waitForContent(e).then(function(t){t.images&&t.images.length&&i.rendered&&i.tooltip[0].offsetWidth>0&&i.reposition(o.event,!t.length)}))):C},v._waitForContent=function(t){var e=this.cache;return e.waiting=x,(r.fn.imagesLoaded?t.imagesLoaded():r.Deferred().resolve([])).done(function(){e.waiting=C}).promise()},v._updateContent=function(t,e){this._update(t,this.elements.content,e)},v._updateTitle=function(t,e){this._update(t,this.elements.title,e)===C&&this._removeTitle(C)},v._createTitle=function(){var t=this.elements,e=this._id+"-title";t.titlebar&&this._removeTitle(),t.titlebar=r("<div />",{"class":k+"-titlebar "+(this.options.style.widget?h("header"):"")}).append(t.title=r("<div />",{id:e,"class":k+"-title","aria-atomic":x})).insertBefore(t.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",function(t){r(this).toggleClass("ui-state-active ui-state-focus","down"===t.type.substr(-4))}).delegate(".qtip-close","mouseover mouseout",function(t){r(this).toggleClass("ui-state-hover","mouseover"===t.type)}),this.options.content.button&&this._createButton()},v._removeTitle=function(t){var e=this.elements;e.title&&(e.titlebar.remove(),e.titlebar=e.title=e.button=E,t!==C&&this.reposition())},v.reposition=function(i,o){if(!this.rendered||this.positioning||this.destroyed)return this;this.positioning=x;var n,a,s=this.cache,l=this.tooltip,c=this.options.position,h=c.target,u=c.my,d=c.at,p=c.viewport,f=c.container,_=c.adjust,m=_.method.split(" "),g=l.outerWidth(C),y=l.outerHeight(C),b=0,v=0,M=l.css("position"),S={left:0,top:0},T=l[0].offsetWidth>0,E=i&&"scroll"===i.type,A=r(t),w=f[0].ownerDocument,k=this.mouse;if(r.isArray(h)&&2===h.length)d={x:D,y:R},S={left:h[0],top:h[1]};else if("mouse"===h)d={x:D,y:R},!k||!k.pageX||!_.mouse&&i&&i.pageX?i&&i.pageX||((!_.mouse||this.options.show.distance)&&s.origin&&s.origin.pageX?i=s.origin:(!i||i&&("resize"===i.type||"scroll"===i.type))&&(i=s.event)):i=k,"static"!==M&&(S=f.offset()),w.body.offsetWidth!==(t.innerWidth||w.documentElement.clientWidth)&&(a=r(e.body).offset()),S={left:i.pageX-S.left+(a&&a.left||0),top:i.pageY-S.top+(a&&a.top||0)},_.mouse&&E&&k&&(S.left-=(k.scrollX||0)-A.scrollLeft(),S.top-=(k.scrollY||0)-A.scrollTop());
else{if("event"===h?i&&i.target&&"scroll"!==i.type&&"resize"!==i.type?s.target=r(i.target):i.target||(s.target=this.elements.target):"event"!==h&&(s.target=r(h.jquery?h:this.elements.target)),h=s.target,h=r(h).eq(0),0===h.length)return this;h[0]===e||h[0]===t?(b=q.iOS?t.innerWidth:h.width(),v=q.iOS?t.innerHeight:h.height(),h[0]===t&&(S={top:(p||h).scrollTop(),left:(p||h).scrollLeft()})):L.imagemap&&h.is("area")?n=L.imagemap(this,h,d,L.viewport?m:C):L.svg&&h&&h[0].ownerSVGElement?n=L.svg(this,h,d,L.viewport?m:C):(b=h.outerWidth(C),v=h.outerHeight(C),S=h.offset()),n&&(b=n.width,v=n.height,a=n.offset,S=n.position),S=this.reposition.offset(h,S,f),(q.iOS>3.1&&q.iOS<4.1||q.iOS>=4.3&&q.iOS<4.33||!q.iOS&&"fixed"===M)&&(S.left-=A.scrollLeft(),S.top-=A.scrollTop()),(!n||n&&n.adjustable!==C)&&(S.left+=d.x===B?b:d.x===V?b/2:0,S.top+=d.y===P?v:d.y===V?v/2:0)}return S.left+=_.x+(u.x===B?-g:u.x===V?-g/2:0),S.top+=_.y+(u.y===P?-y:u.y===V?-y/2:0),L.viewport?(S.adjusted=L.viewport(this,S,c,b,v,g,y),a&&S.adjusted.left&&(S.left+=a.left),a&&S.adjusted.top&&(S.top+=a.top)):S.adjusted={left:0,top:0},this._trigger("move",[S,p.elem||p],i)?(delete S.adjusted,o===C||!T||isNaN(S.left)||isNaN(S.top)||"mouse"===h||!r.isFunction(c.effect)?l.css(S):r.isFunction(c.effect)&&(c.effect.call(l,this,r.extend({},S)),l.queue(function(t){r(this).css({opacity:"",height:""}),q.ie&&this.style.removeAttribute("filter"),t()})),this.positioning=C,this):this},v.reposition.offset=function(t,i,o){function n(t,e){i.left+=e*t.scrollLeft(),i.top+=e*t.scrollTop()}if(!o[0])return i;var a,s,l,c,h=r(t[0].ownerDocument),u=!!q.ie&&"CSS1Compat"!==e.compatMode,d=o[0];do"static"!==(s=r.css(d,"position"))&&("fixed"===s?(l=d.getBoundingClientRect(),n(h,-1)):(l=r(d).position(),l.left+=parseFloat(r.css(d,"borderLeftWidth"))||0,l.top+=parseFloat(r.css(d,"borderTopWidth"))||0),i.left-=l.left+(parseFloat(r.css(d,"marginLeft"))||0),i.top-=l.top+(parseFloat(r.css(d,"marginTop"))||0),a||"hidden"===(c=r.css(d,"overflow"))||"visible"===c||(a=r(d)));while(d=d.offsetParent);return a&&(a[0]!==h[0]||u)&&n(a,1),i};var Q=(M=v.reposition.Corner=function(t,e){t=(""+t).replace(/([A-Z])/," $1").replace(/middle/gi,V).toLowerCase(),this.x=(t.match(/left|right/i)||t.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(t.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase(),this.forceY=!!e;var i=t.charAt(0);this.precedance="t"===i||"b"===i?w:A}).prototype;Q.invert=function(t,e){this[t]=this[t]===D?B:this[t]===B?D:e||this[t]},Q.string=function(){var t=this.x,e=this.y;return t===e?t:this.precedance===w||this.forceY&&"center"!==e?e+" "+t:t+" "+e},Q.abbrev=function(){var t=this.string().split(" ");return t[0].charAt(0)+(t[1]&&t[1].charAt(0)||"")},Q.clone=function(){return new M(this.string(),this.forceY)},v.toggle=function(t,i){var o=this.cache,n=this.options,a=this.tooltip;if(i){if(/over|enter/.test(i.type)&&/out|leave/.test(o.event.type)&&n.show.target.add(i.target).length===n.show.target.length&&a.has(i.relatedTarget).length)return this;o.event=u(i)}if(this.waiting&&!t&&(this.hiddenDuringWait=x),!this.rendered)return t?this.render(1):this;if(this.destroyed||this.disabled)return this;var s,l,c,h=t?"show":"hide",d=this.options[h],p=(this.options[t?"hide":"show"],this.options.position),f=this.options.content,_=this.tooltip.css("width"),m=this.tooltip.is(":visible"),g=t||1===d.target.length,y=!i||d.target.length<2||o.target[0]===i.target;return(typeof t).search("boolean|number")&&(t=!m),s=!a.is(":animated")&&m===t&&y,l=s?E:!!this._trigger(h,[90]),this.destroyed?this:(l!==C&&t&&this.focus(i),!l||s?this:(r.attr(a[0],"aria-hidden",!t),t?(o.origin=u(this.mouse),r.isFunction(f.text)&&this._updateContent(f.text,C),r.isFunction(f.title)&&this._updateTitle(f.title,C),!T&&"mouse"===p.target&&p.adjust.mouse&&(r(e).bind("mousemove."+k,this._storeMouse),T=x),_||a.css("width",a.outerWidth(C)),this.reposition(i,arguments[2]),_||a.css("width",""),d.solo&&("string"==typeof d.solo?r(d.solo):r(J,d.solo)).not(a).not(d.target).qtip("hide",r.Event("tooltipsolo"))):(clearTimeout(this.timers.show),delete o.origin,T&&!r(J+'[tracking="true"]:visible',d.solo).not(a).length&&(r(e).unbind("mousemove."+k),T=C),this.blur(i)),c=r.proxy(function(){t?(q.ie&&a[0].style.removeAttribute("filter"),a.css("overflow",""),"string"==typeof d.autofocus&&r(this.options.show.autofocus,a).focus(),this.options.show.target.trigger("qtip-"+this.id+"-inactive")):a.css({display:"",visibility:"",opacity:"",left:"",top:""}),this._trigger(t?"visible":"hidden")},this),d.effect===C||g===C?(a[h](),c()):r.isFunction(d.effect)?(a.stop(1,1),d.effect.call(a,this),a.queue("fx",function(t){c(),t()})):a.fadeTo(90,t?1:0,c),t&&d.target.trigger("qtip-"+this.id+"-inactive"),this))},v.show=function(t){return this.toggle(x,t)},v.hide=function(t){return this.toggle(C,t)},v.focus=function(t){if(!this.rendered||this.destroyed)return this;var e=r(J),i=this.tooltip,o=parseInt(i[0].style.zIndex,10),n=b.zindex+e.length;return i.hasClass(z)||this._trigger("focus",[n],t)&&(o!==n&&(e.each(function(){this.style.zIndex>o&&(this.style.zIndex=this.style.zIndex-1)}),e.filter("."+z).qtip("blur",t)),i.addClass(z)[0].style.zIndex=n),this},v.blur=function(t){return!this.rendered||this.destroyed?this:(this.tooltip.removeClass(z),this._trigger("blur",[this.tooltip.css("zIndex")],t),this)},v.disable=function(t){return this.destroyed?this:("toggle"===t?t=!(this.rendered?this.tooltip.hasClass(U):this.disabled):"boolean"!=typeof t&&(t=x),this.rendered&&this.tooltip.toggleClass(U,t).attr("aria-disabled",t),this.disabled=!!t,this)},v.enable=function(){return this.disable(C)},v._createButton=function(){var t=this,e=this.elements,i=e.tooltip,o=this.options.content.button,n="string"==typeof o,a=n?o:"Close tooltip";e.button&&e.button.remove(),e.button=o.jquery?o:r("<a />",{"class":"qtip-close "+(this.options.style.widget?"":k+"-icon"),title:a,"aria-label":a}).prepend(r("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"})),e.button.appendTo(e.titlebar||i).attr("role","button").click(function(e){return i.hasClass(U)||t.hide(e),C})},v._updateButton=function(t){if(!this.rendered)return C;var e=this.elements.button;t?this._createButton():e.remove()},v._setWidget=function(){var t=this.options.style.widget,e=this.elements,i=e.tooltip,r=i.hasClass(U);i.removeClass(U),U=t?"ui-state-disabled":"qtip-disabled",i.toggleClass(U,r),i.toggleClass("ui-helper-reset "+h(),t).toggleClass(G,this.options.style.def&&!t),e.content&&e.content.toggleClass(h("content"),t),e.titlebar&&e.titlebar.toggleClass(h("header"),t),e.button&&e.button.toggleClass(k+"-icon",!t)},v._storeMouse=function(t){(this.mouse=u(t)).type="mousemove"},v._bind=function(t,e,i,o,n){var a="."+this._id+(o?"-"+o:"");e.length&&r(t).bind((e.split?e:e.join(a+" "))+a,r.proxy(i,n||this))},v._unbind=function(t,e){r(t).unbind("."+this._id+(e?"-"+e:""))};var Z="."+k;r(function(){g(J,["mouseenter","mouseleave"],function(t){var e="mouseenter"===t.type,i=r(t.currentTarget),o=r(t.relatedTarget||t.target),n=this.options;e?(this.focus(t),i.hasClass(F)&&!i.hasClass(U)&&clearTimeout(this.timers.hide)):"mouse"===n.position.target&&n.hide.event&&n.show.target&&!o.closest(n.show.target[0]).length&&this.hide(t),i.toggleClass(j,e)}),g("["+I+"]",N,_)}),v._trigger=function(t,e,i){var o=r.Event("tooltip"+t);return o.originalEvent=i&&r.extend({},i)||this.cache.event||E,this.triggering=t,this.tooltip.trigger(o,[this].concat(e||[])),this.triggering=C,!o.isDefaultPrevented()},v._bindEvents=function(t,e,i,o,n,a){if(o.add(i).length===o.length){var s=[];e=r.map(e,function(e){var i=r.inArray(e,t);return i>-1?void s.push(t.splice(i,1)[0]):e}),s.length&&this._bind(i,s,function(t){var e=this.rendered?this.tooltip[0].offsetWidth>0:!1;(e?a:n).call(this,t)})}this._bind(i,t,n),this._bind(o,e,a)},v._assignInitialEvents=function(t){function e(t){return this.disabled||this.destroyed?C:(this.cache.event=u(t),this.cache.target=t?r(t.target):[i],clearTimeout(this.timers.show),void(this.timers.show=d.call(this,function(){this.render("object"==typeof t||o.show.ready)},o.show.delay)))}var o=this.options,n=o.show.target,a=o.hide.target,s=o.show.event?r.trim(""+o.show.event).split(" "):[],l=o.hide.event?r.trim(""+o.hide.event).split(" "):[];/mouse(over|enter)/i.test(o.show.event)&&!/mouse(out|leave)/i.test(o.hide.event)&&l.push("mouseleave"),this._bind(n,"mousemove",function(t){this._storeMouse(t),this.cache.onTarget=x}),this._bindEvents(s,l,n,a,e,function(){clearTimeout(this.timers.show)}),(o.show.ready||o.prerender)&&e.call(this,t)},v._assignEvents=function(){var i=this,o=this.options,n=o.position,a=this.tooltip,s=o.show.target,l=o.hide.target,c=n.container,h=n.viewport,u=r(e),d=(r(e.body),r(t)),g=o.show.event?r.trim(""+o.show.event).split(" "):[],y=o.hide.event?r.trim(""+o.hide.event).split(" "):[];r.each(o.events,function(t,e){i._bind(a,"toggle"===t?["tooltipshow","tooltiphide"]:["tooltip"+t],e,null,a)}),/mouse(out|leave)/i.test(o.hide.event)&&"window"===o.hide.leave&&this._bind(u,["mouseout","blur"],function(t){/select|option/.test(t.target.nodeName)||t.relatedTarget||this.hide(t)}),o.hide.fixed?l=l.add(a.addClass(F)):/mouse(over|enter)/i.test(o.show.event)&&this._bind(l,"mouseleave",function(){clearTimeout(this.timers.show)}),(""+o.hide.event).indexOf("unfocus")>-1&&this._bind(c.closest("html"),["mousedown","touchstart"],function(t){var e=r(t.target),i=this.rendered&&!this.tooltip.hasClass(U)&&this.tooltip[0].offsetWidth>0,o=e.parents(J).filter(this.tooltip[0]).length>0;e[0]===this.target[0]||e[0]===this.tooltip[0]||o||this.target.has(e[0]).length||!i||this.hide(t)}),"number"==typeof o.hide.inactive&&(this._bind(s,"qtip-"+this.id+"-inactive",_),this._bind(l.add(a),b.inactiveEvents,_,"-inactive")),this._bindEvents(g,y,s,l,p,f),this._bind(s.add(a),"mousemove",function(t){if("number"==typeof o.hide.distance){var e=this.cache.origin||{},i=this.options.hide.distance,r=Math.abs;(r(t.pageX-e.pageX)>=i||r(t.pageY-e.pageY)>=i)&&this.hide(t)}this._storeMouse(t)}),"mouse"===n.target&&n.adjust.mouse&&(o.hide.event&&this._bind(s,["mouseenter","mouseleave"],function(t){this.cache.onTarget="mouseenter"===t.type}),this._bind(u,"mousemove",function(t){this.rendered&&this.cache.onTarget&&!this.tooltip.hasClass(U)&&this.tooltip[0].offsetWidth>0&&this.reposition(t)})),(n.adjust.resize||h.length)&&this._bind(r.event.special.resize?h:d,"resize",m),n.adjust.scroll&&this._bind(d.add(n.container),"scroll",m)},v._unassignEvents=function(){var i=[this.options.show.target[0],this.options.hide.target[0],this.rendered&&this.tooltip[0],this.options.position.container[0],this.options.position.viewport[0],this.options.position.container.closest("html")[0],t,e];this._unbind(r([]).pushStack(r.grep(i,function(t){return"object"==typeof t})))},b=r.fn.qtip=function(t,e,o){var n=(""+t).toLowerCase(),a=E,l=r.makeArray(arguments).slice(1),c=l[l.length-1],h=this[0]?r.data(this[0],k):E;return!arguments.length&&h||"api"===n?h:"string"==typeof t?(this.each(function(){var t=r.data(this,k);if(!t)return x;if(c&&c.timeStamp&&(t.cache.event=c),!e||"option"!==n&&"options"!==n)t[n]&&t[n].apply(t,l);else{if(o===i&&!r.isPlainObject(e))return a=t.get(e),C;t.set(e,o)}}),a!==E?a:this):"object"!=typeof t&&arguments.length?void 0:(h=s(r.extend(x,{},t)),this.each(function(t){var e,i;return i=r.isArray(h.id)?h.id[t]:h.id,i=!i||i===C||i.length<1||b.api[i]?b.nextid++:i,e=y(r(this),i,h),e===C?x:(b.api[i]=e,r.each(L,function(){"initialize"===this.initialize&&this(e)}),void e._assignInitialEvents(c))}))},r.qtip=o,b.api={},r.each({attr:function(t,e){if(this.length){var i=this[0],o="title",n=r.data(i,"qtip");if(t===o&&n&&"object"==typeof n&&n.options.suppress)return arguments.length<2?r.attr(i,X):(n&&n.options.content.attr===o&&n.cache.attr&&n.set("content.text",e),this.attr(X,e))}return r.fn["attr"+W].apply(this,arguments)},clone:function(t){var e=(r([]),r.fn["clone"+W].apply(this,arguments));return t||e.filter("["+X+"]").attr("title",function(){return r.attr(this,X)}).removeAttr(X),e}},function(t,e){if(!e||r.fn[t+W])return x;var i=r.fn[t+W]=r.fn[t];r.fn[t]=function(){return e.apply(this,arguments)||i.apply(this,arguments)}}),r.ui||(r["cleanData"+W]=r.cleanData,r.cleanData=function(t){for(var e,i=0;(e=r(t[i])).length;i++)if(e.attr(H))try{e.triggerHandler("removeqtip")}catch(o){}r["cleanData"+W].apply(this,arguments)}),b.version="2.2.0",b.nextid=0,b.inactiveEvents=N,b.zindex=15e3,b.defaults={prerender:C,id:C,overwrite:x,suppress:x,content:{text:x,attr:"title",title:C,button:C},position:{my:"top left",at:"bottom right",target:C,container:C,viewport:C,adjust:{x:0,y:0,mouse:x,scroll:x,resize:x,method:"flipinvert flipinvert"},effect:function(t,e){r(this).animate(e,{duration:200,queue:C})}},show:{target:C,event:"mouseenter",effect:x,delay:90,solo:C,ready:C,autofocus:C},hide:{target:C,event:"mouseleave",effect:x,delay:0,fixed:C,inactive:C,leave:"window",distance:C},style:{classes:"",widget:C,width:C,height:C,def:x},events:{render:E,move:E,show:E,hide:E,toggle:E,visible:E,hidden:E,focus:E,blur:E}}})}(window,document),function(t){t.fn.hoverIntent=function(e,i){var r={sensitivity:7,interval:100,timeout:0};r=t.extend(r,i?{over:e,out:i}:e);var o,n,a,s,l=function(t){o=t.pageX,n=t.pageY},c=function(e,i){return i.hoverIntent_t=clearTimeout(i.hoverIntent_t),Math.abs(a-o)+Math.abs(s-n)<r.sensitivity?(t(i).unbind("mousemove",l),i.hoverIntent_s=1,r.over.apply(i,[e])):(a=o,s=n,i.hoverIntent_t=setTimeout(function(){c(e,i)},r.interval),void 0)},h=function(t,e){return e.hoverIntent_t=clearTimeout(e.hoverIntent_t),e.hoverIntent_s=0,r.out.apply(e,[t])},u=function(e){for(var i=("mouseover"==e.type?e.fromElement:e.toElement)||e.relatedTarget;i&&i!=this;)try{i=i.parentNode}catch(e){i=this}if(i==this)return!1;var o=jQuery.extend({},e),n=this;n.hoverIntent_t&&(n.hoverIntent_t=clearTimeout(n.hoverIntent_t)),"mouseover"==e.type?(a=o.pageX,s=o.pageY,t(n).bind("mousemove",l),1!=n.hoverIntent_s&&(n.hoverIntent_t=setTimeout(function(){c(o,n)},r.interval))):(t(n).unbind("mousemove",l),1==n.hoverIntent_s&&(n.hoverIntent_t=setTimeout(function(){h(o,n)},r.timeout)))};return this.mouseover(u).mouseout(u)}}(jQuery),function(t){t.fn.bgIframe=t.fn.bgiframe=function(e){if(t.browser.msie&&/6.0/.test(navigator.userAgent)){e=t.extend({top:"auto",left:"auto",width:"auto",height:"auto",opacity:!0,src:"javascript:false;"},e||{});var i=function(t){return t&&t.constructor==Number?t+"px":t},r='<iframe class="bgiframe"frameborder="0"tabindex="-1"src="'+e.src+'"style="display:block;position:absolute;z-index:-1;'+(e.opacity!==!1?"filter:Alpha(Opacity='0');":"")+"top:"+("auto"==e.top?"expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+'px')":i(e.top))+";left:"+("auto"==e.left?"expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+'px')":i(e.left))+";width:"+("auto"==e.width?"expression(this.parentNode.offsetWidth+'px')":i(e.width))+";height:"+("auto"==e.height?"expression(this.parentNode.offsetHeight+'px')":i(e.height))+';"/>';return this.each(function(){0==t("> iframe.bgiframe",this).length&&this.insertBefore(document.createElement(r),this.firstChild)})}return this}}(jQuery);var THREE={REVISION:"69"};"object"==typeof module&&(module.exports=THREE),void 0===Math.sign&&(Math.sign=function(t){return 0>t?-1:t>0?1:0}),THREE.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2},THREE.CullFaceNone=0,THREE.CullFaceBack=1,THREE.CullFaceFront=2,THREE.CullFaceFrontBack=3,THREE.FrontFaceDirectionCW=0,THREE.FrontFaceDirectionCCW=1,THREE.BasicShadowMap=0,THREE.PCFShadowMap=1,THREE.PCFSoftShadowMap=2,THREE.FrontSide=0,THREE.BackSide=1,THREE.DoubleSide=2,THREE.NoShading=0,THREE.FlatShading=1,THREE.SmoothShading=2,THREE.NoColors=0,THREE.FaceColors=1,THREE.VertexColors=2,THREE.NoBlending=0,THREE.NormalBlending=1,THREE.AdditiveBlending=2,THREE.SubtractiveBlending=3,THREE.MultiplyBlending=4,THREE.CustomBlending=5,THREE.AddEquation=100,THREE.SubtractEquation=101,THREE.ReverseSubtractEquation=102,THREE.MinEquation=103,THREE.MaxEquation=104,THREE.ZeroFactor=200,THREE.OneFactor=201,THREE.SrcColorFactor=202,THREE.OneMinusSrcColorFactor=203,THREE.SrcAlphaFactor=204,THREE.OneMinusSrcAlphaFactor=205,THREE.DstAlphaFactor=206,THREE.OneMinusDstAlphaFactor=207,THREE.DstColorFactor=208,THREE.OneMinusDstColorFactor=209,THREE.SrcAlphaSaturateFactor=210,THREE.MultiplyOperation=0,THREE.MixOperation=1,THREE.AddOperation=2,THREE.UVMapping=function(){},THREE.CubeReflectionMapping=function(){},THREE.CubeRefractionMapping=function(){},THREE.SphericalReflectionMapping=function(){},THREE.SphericalRefractionMapping=function(){},THREE.RepeatWrapping=1e3,THREE.ClampToEdgeWrapping=1001,THREE.MirroredRepeatWrapping=1002,THREE.NearestFilter=1003,THREE.NearestMipMapNearestFilter=1004,THREE.NearestMipMapLinearFilter=1005,THREE.LinearFilter=1006,THREE.LinearMipMapNearestFilter=1007,THREE.LinearMipMapLinearFilter=1008,THREE.UnsignedByteType=1009,THREE.ByteType=1010,THREE.ShortType=1011,THREE.UnsignedShortType=1012,THREE.IntType=1013,THREE.UnsignedIntType=1014,THREE.FloatType=1015,THREE.UnsignedShort4444Type=1016,THREE.UnsignedShort5551Type=1017,THREE.UnsignedShort565Type=1018,THREE.AlphaFormat=1019,THREE.RGBFormat=1020,THREE.RGBAFormat=1021,THREE.LuminanceFormat=1022,THREE.LuminanceAlphaFormat=1023,THREE.RGB_S3TC_DXT1_Format=2001,THREE.RGBA_S3TC_DXT1_Format=2002,THREE.RGBA_S3TC_DXT3_Format=2003,THREE.RGBA_S3TC_DXT5_Format=2004,THREE.RGB_PVRTC_4BPPV1_Format=2100,THREE.RGB_PVRTC_2BPPV1_Format=2101,THREE.RGBA_PVRTC_4BPPV1_Format=2102,THREE.RGBA_PVRTC_2BPPV1_Format=2103,THREE.Color=function(t){return 3===arguments.length?this.setRGB(arguments[0],arguments[1],arguments[2]):this.set(t)},THREE.Color.prototype={constructor:THREE.Color,r:1,g:1,b:1,set:function(t){return t instanceof THREE.Color?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,i){return this.r=t,this.g=e,this.b=i,this},setHSL:function(t,e,i){if(0===e)this.r=this.g=this.b=i;else{var r=function(t,e,i){return 0>i&&(i+=1),i>1&&(i-=1),1/6>i?t+6*(e-t)*i:.5>i?e:2/3>i?t+6*(e-t)*(2/3-i):t},o=.5>=i?i*(1+e):i+e-i*e,n=2*i-o;this.r=r(n,o,t+1/3),this.g=r(n,o,t),this.b=r(n,o,t-1/3)}return this},setStyle:function(t){if(/^rgb\((\d+), ?(\d+), ?(\d+)\)$/i.test(t)){var e=/^rgb\((\d+), ?(\d+), ?(\d+)\)$/i.exec(t);return this.r=Math.min(255,parseInt(e[1],10))/255,this.g=Math.min(255,parseInt(e[2],10))/255,this.b=Math.min(255,parseInt(e[3],10))/255,this}if(/^rgb\((\d+)\%, ?(\d+)\%, ?(\d+)\%\)$/i.test(t)){var e=/^rgb\((\d+)\%, ?(\d+)\%, ?(\d+)\%\)$/i.exec(t);return this.r=Math.min(100,parseInt(e[1],10))/100,this.g=Math.min(100,parseInt(e[2],10))/100,this.b=Math.min(100,parseInt(e[3],10))/100,this}if(/^\#([0-9a-f]{6})$/i.test(t)){var e=/^\#([0-9a-f]{6})$/i.exec(t);return this.setHex(parseInt(e[1],16)),this}if(/^\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.test(t)){var e=/^\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(t);return this.setHex(parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3],16)),this}return/^(\w+)$/i.test(t)?(this.setHex(THREE.ColorKeywords[t]),this):void 0},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t){return this.r=t.r*t.r,this.g=t.g*t.g,this.b=t.b*t.b,this},copyLinearToGamma:function(t){return this.r=Math.sqrt(t.r),this.g=Math.sqrt(t.g),this.b=Math.sqrt(t.b),this},convertGammaToLinear:function(){var t=this.r,e=this.g,i=this.b;return this.r=t*t,this.g=e*e,this.b=i*i,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){var e,i,r=t||{h:0,s:0,l:0},o=this.r,n=this.g,a=this.b,s=Math.max(o,n,a),l=Math.min(o,n,a),c=(l+s)/2;if(l===s)e=0,i=0;else{var h=s-l;switch(i=.5>=c?h/(s+l):h/(2-s-l),s){case o:e=(n-a)/h+(a>n?6:0);break;case n:e=(a-o)/h+2;break;case a:e=(o-n)/h+4}e/=6}return r.h=e,r.s=i,r.l=c,r},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(t,e,i){var r=this.getHSL();return r.h+=t,r.s+=e,r.l+=i,this.setHSL(r.h,r.s,r.l),this},add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t){return this.r=t[0],this.g=t[1],this.b=t[2],this},toArray:function(){return[this.r,this.g,this.b]},clone:function(){return(new THREE.Color).setRGB(this.r,this.g,this.b)}},THREE.ColorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},THREE.Quaternion=function(t,e,i,r){this._x=t||0,this._y=e||0,this._z=i||0,this._w=void 0!==r?r:1},THREE.Quaternion.prototype={constructor:THREE.Quaternion,_x:0,_y:0,_z:0,_w:0,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get w(){return this._w},set w(t){this._w=t,this.onChangeCallback()},set:function(t,e,i,r){return this._x=t,this._y=e,this._z=i,this._w=r,this.onChangeCallback(),this},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if(t instanceof THREE.Euler==!1)throw new Error("THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var i=Math.cos(t._x/2),r=Math.cos(t._y/2),o=Math.cos(t._z/2),n=Math.sin(t._x/2),a=Math.sin(t._y/2),s=Math.sin(t._z/2);return"XYZ"===t.order?(this._x=n*r*o+i*a*s,this._y=i*a*o-n*r*s,this._z=i*r*s+n*a*o,this._w=i*r*o-n*a*s):"YXZ"===t.order?(this._x=n*r*o+i*a*s,this._y=i*a*o-n*r*s,this._z=i*r*s-n*a*o,this._w=i*r*o+n*a*s):"ZXY"===t.order?(this._x=n*r*o-i*a*s,this._y=i*a*o+n*r*s,this._z=i*r*s+n*a*o,this._w=i*r*o-n*a*s):"ZYX"===t.order?(this._x=n*r*o-i*a*s,this._y=i*a*o+n*r*s,this._z=i*r*s-n*a*o,this._w=i*r*o+n*a*s):"YZX"===t.order?(this._x=n*r*o+i*a*s,this._y=i*a*o+n*r*s,this._z=i*r*s-n*a*o,this._w=i*r*o-n*a*s):"XZY"===t.order&&(this._x=n*r*o-i*a*s,this._y=i*a*o-n*r*s,this._z=i*r*s+n*a*o,this._w=i*r*o+n*a*s),e!==!1&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var i=e/2,r=Math.sin(i);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(i),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,i=t.elements,r=i[0],o=i[4],n=i[8],a=i[1],s=i[5],l=i[9],c=i[2],h=i[6],u=i[10],d=r+s+u;return d>0?(e=.5/Math.sqrt(d+1),this._w=.25/e,this._x=(h-l)*e,this._y=(n-c)*e,this._z=(a-o)*e):r>s&&r>u?(e=2*Math.sqrt(1+r-s-u),this._w=(h-l)/e,this._x=.25*e,this._y=(o+a)/e,this._z=(n+c)/e):s>u?(e=2*Math.sqrt(1+s-r-u),this._w=(n-c)/e,this._x=(o+a)/e,this._y=.25*e,this._z=(l+h)/e):(e=2*Math.sqrt(1+u-r-s),this._w=(a-o)/e,this._x=(n+c)/e,this._y=(l+h)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:function(){var t,e,i=1e-6;return function(r,o){return void 0===t&&(t=new THREE.Vector3),e=r.dot(o)+1,i>e?(e=0,Math.abs(r.x)>Math.abs(r.z)?t.set(-r.y,r.x,0):t.set(0,-r.z,r.y)):t.crossVectors(r,o),this._x=t.x,this._y=t.y,this._z=t.z,this._w=e,this.normalize(),this}}(),inverse:function(){return this.conjugate().normalize(),this},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},multiplyQuaternions:function(t,e){var i=t._x,r=t._y,o=t._z,n=t._w,a=e._x,s=e._y,l=e._z,c=e._w;return this._x=i*c+n*a+r*l-o*s,this._y=r*c+n*s+o*a-i*l,this._z=o*c+n*l+i*s-r*a,this._w=n*c-i*a-r*s-o*l,this.onChangeCallback(),this},multiplyVector3:function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var i=this._x,r=this._y,o=this._z,n=this._w,a=n*t._w+i*t._x+r*t._y+o*t._z;if(0>a?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=n,this._x=i,this._y=r,this._z=o,this;var s=Math.acos(a),l=Math.sqrt(1-a*a);if(Math.abs(l)<.001)return this._w=.5*(n+this._w),this._x=.5*(i+this._x),this._y=.5*(r+this._y),this._z=.5*(o+this._z),this;var c=Math.sin((1-e)*s)/l,h=Math.sin(e*s)/l;return this._w=n*c+this._w*h,this._x=i*c+this._x*h,this._y=r*c+this._y*h,this._z=o*c+this._z*h,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){},clone:function(){return new THREE.Quaternion(this._x,this._y,this._z,this._w)}},THREE.Quaternion.slerp=function(t,e,i,r){return i.copy(t).slerp(e,r)},THREE.Vector2=function(t,e){this.x=t||0,this.y=e||0},THREE.Vector2.prototype={constructor:THREE.Vector2,set:function(t,e){return this.x=t,this.y=e,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScalar:function(t){return this.x+=t,this.y+=t,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){if(0!==t){var e=1/t;this.x*=e,this.y*=e}else this.x=0,this.y=0;return this},min:function(t){return this.x>t.x&&(this.x=t.x),this.y>t.y&&(this.y=t.y),this},max:function(t){return this.x<t.x&&(this.x=t.x),this.y<t.y&&(this.y=t.y),this},clamp:function(t,e){return this.x<t.x?this.x=t.x:this.x>e.x&&(this.x=e.x),this.y<t.y?this.y=t.y:this.y>e.y&&(this.y=e.y),this},clampScalar:function(){var t,e;return function(i,r){return void 0===t&&(t=new THREE.Vector2,e=new THREE.Vector2),t.set(i,i),e.set(r,r),this.clamp(t,e)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,i=this.y-t.y;return e*e+i*i},setLength:function(t){var e=this.length();return 0!==e&&t!==e&&this.multiplyScalar(t/e),this},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},clone:function(){return new THREE.Vector2(this.x,this.y)}},THREE.Vector3=function(t,e,i){this.x=t||0,this.y=e||0,this.z=i||0},THREE.Vector3.prototype={constructor:THREE.Vector3,set:function(t,e,i){return this.x=t,this.y=e,this.z=i,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this
},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:function(){var t;return function(e){return e instanceof THREE.Euler==!1&&console.error("THREE.Vector3: .applyEuler() now expects a Euler rotation rather than a Vector3 and order."),void 0===t&&(t=new THREE.Quaternion),this.applyQuaternion(t.setFromEuler(e)),this}}(),applyAxisAngle:function(){var t;return function(e,i){return void 0===t&&(t=new THREE.Quaternion),this.applyQuaternion(t.setFromAxisAngle(e,i)),this}}(),applyMatrix3:function(t){var e=this.x,i=this.y,r=this.z,o=t.elements;return this.x=o[0]*e+o[3]*i+o[6]*r,this.y=o[1]*e+o[4]*i+o[7]*r,this.z=o[2]*e+o[5]*i+o[8]*r,this},applyMatrix4:function(t){var e=this.x,i=this.y,r=this.z,o=t.elements;return this.x=o[0]*e+o[4]*i+o[8]*r+o[12],this.y=o[1]*e+o[5]*i+o[9]*r+o[13],this.z=o[2]*e+o[6]*i+o[10]*r+o[14],this},applyProjection:function(t){var e=this.x,i=this.y,r=this.z,o=t.elements,n=1/(o[3]*e+o[7]*i+o[11]*r+o[15]);return this.x=(o[0]*e+o[4]*i+o[8]*r+o[12])*n,this.y=(o[1]*e+o[5]*i+o[9]*r+o[13])*n,this.z=(o[2]*e+o[6]*i+o[10]*r+o[14])*n,this},applyQuaternion:function(t){var e=this.x,i=this.y,r=this.z,o=t.x,n=t.y,a=t.z,s=t.w,l=s*e+n*r-a*i,c=s*i+a*e-o*r,h=s*r+o*i-n*e,u=-o*e-n*i-a*r;return this.x=l*s+u*-o+c*-a-h*-n,this.y=c*s+u*-n+h*-o-l*-a,this.z=h*s+u*-a+l*-n-c*-o,this},project:function(){var t;return function(e){return void 0===t&&(t=new THREE.Matrix4),t.multiplyMatrices(e.projectionMatrix,t.getInverse(e.matrixWorld)),this.applyProjection(t)}}(),unproject:function(){var t;return function(e){return void 0===t&&(t=new THREE.Matrix4),t.multiplyMatrices(e.matrixWorld,t.getInverse(e.projectionMatrix)),this.applyProjection(t)}}(),transformDirection:function(t){var e=this.x,i=this.y,r=this.z,o=t.elements;return this.x=o[0]*e+o[4]*i+o[8]*r,this.y=o[1]*e+o[5]*i+o[9]*r,this.z=o[2]*e+o[6]*i+o[10]*r,this.normalize(),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){if(0!==t){var e=1/t;this.x*=e,this.y*=e,this.z*=e}else this.x=0,this.y=0,this.z=0;return this},min:function(t){return this.x>t.x&&(this.x=t.x),this.y>t.y&&(this.y=t.y),this.z>t.z&&(this.z=t.z),this},max:function(t){return this.x<t.x&&(this.x=t.x),this.y<t.y&&(this.y=t.y),this.z<t.z&&(this.z=t.z),this},clamp:function(t,e){return this.x<t.x?this.x=t.x:this.x>e.x&&(this.x=e.x),this.y<t.y?this.y=t.y:this.y>e.y&&(this.y=e.y),this.z<t.z?this.z=t.z:this.z>e.z&&(this.z=e.z),this},clampScalar:function(){var t,e;return function(i,r){return void 0===t&&(t=new THREE.Vector3,e=new THREE.Vector3),t.set(i,i,i),e.set(r,r,r),this.clamp(t,e)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){var e=this.length();return 0!==e&&t!==e&&this.multiplyScalar(t/e),this},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},cross:function(t,e){if(void 0!==e)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e);var i=this.x,r=this.y,o=this.z;return this.x=r*t.z-o*t.y,this.y=o*t.x-i*t.z,this.z=i*t.y-r*t.x,this},crossVectors:function(t,e){var i=t.x,r=t.y,o=t.z,n=e.x,a=e.y,s=e.z;return this.x=r*s-o*a,this.y=o*n-i*s,this.z=i*a-r*n,this},projectOnVector:function(){var t,e;return function(i){return void 0===t&&(t=new THREE.Vector3),t.copy(i).normalize(),e=this.dot(t),this.copy(t).multiplyScalar(e)}}(),projectOnPlane:function(){var t;return function(e){return void 0===t&&(t=new THREE.Vector3),t.copy(this).projectOnVector(e),this.sub(t)}}(),reflect:function(){var t;return function(e){return void 0===t&&(t=new THREE.Vector3),this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(t){var e=this.dot(t)/(this.length()*t.length());return Math.acos(THREE.Math.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,i=this.y-t.y,r=this.z-t.z;return e*e+i*i+r*r},setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},setFromMatrixPosition:function(t){return this.x=t.elements[12],this.y=t.elements[13],this.z=t.elements[14],this},setFromMatrixScale:function(t){var e=this.set(t.elements[0],t.elements[1],t.elements[2]).length(),i=this.set(t.elements[4],t.elements[5],t.elements[6]).length(),r=this.set(t.elements[8],t.elements[9],t.elements[10]).length();return this.x=e,this.y=i,this.z=r,this},setFromMatrixColumn:function(t,e){var i=4*t,r=e.elements;return this.x=r[i],this.y=r[i+1],this.z=r[i+2],this},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},clone:function(){return new THREE.Vector3(this.x,this.y,this.z)}},THREE.Vector4=function(t,e,i,r){this.x=t||0,this.y=e||0,this.z=i||0,this.w=void 0!==r?r:1},THREE.Vector4.prototype={constructor:THREE.Vector4,set:function(t,e,i,r){return this.x=t,this.y=e,this.z=i,this.w=r,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},applyMatrix4:function(t){var e=this.x,i=this.y,r=this.z,o=this.w,n=t.elements;return this.x=n[0]*e+n[4]*i+n[8]*r+n[12]*o,this.y=n[1]*e+n[5]*i+n[9]*r+n[13]*o,this.z=n[2]*e+n[6]*i+n[10]*r+n[14]*o,this.w=n[3]*e+n[7]*i+n[11]*r+n[15]*o,this},divideScalar:function(t){if(0!==t){var e=1/t;this.x*=e,this.y*=e,this.z*=e,this.w*=e}else this.x=0,this.y=0,this.z=0,this.w=1;return this},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return 1e-4>e?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,i,r,o,n=.01,a=.1,s=t.elements,l=s[0],c=s[4],h=s[8],u=s[1],d=s[5],p=s[9],f=s[2],_=s[6],m=s[10];if(Math.abs(c-u)<n&&Math.abs(h-f)<n&&Math.abs(p-_)<n){if(Math.abs(c+u)<a&&Math.abs(h+f)<a&&Math.abs(p+_)<a&&Math.abs(l+d+m-3)<a)return this.set(1,0,0,0),this;e=Math.PI;var g=(l+1)/2,y=(d+1)/2,b=(m+1)/2,v=(c+u)/4,M=(h+f)/4,S=(p+_)/4;return g>y&&g>b?n>g?(i=0,r=.707106781,o=.707106781):(i=Math.sqrt(g),r=v/i,o=M/i):y>b?n>y?(i=.707106781,r=0,o=.707106781):(r=Math.sqrt(y),i=v/r,o=S/r):n>b?(i=.707106781,r=.707106781,o=0):(o=Math.sqrt(b),i=M/o,r=S/o),this.set(i,r,o,e),this}var T=Math.sqrt((_-p)*(_-p)+(h-f)*(h-f)+(u-c)*(u-c));return Math.abs(T)<.001&&(T=1),this.x=(_-p)/T,this.y=(h-f)/T,this.z=(u-c)/T,this.w=Math.acos((l+d+m-1)/2),this},min:function(t){return this.x>t.x&&(this.x=t.x),this.y>t.y&&(this.y=t.y),this.z>t.z&&(this.z=t.z),this.w>t.w&&(this.w=t.w),this},max:function(t){return this.x<t.x&&(this.x=t.x),this.y<t.y&&(this.y=t.y),this.z<t.z&&(this.z=t.z),this.w<t.w&&(this.w=t.w),this},clamp:function(t,e){return this.x<t.x?this.x=t.x:this.x>e.x&&(this.x=e.x),this.y<t.y?this.y=t.y:this.y>e.y&&(this.y=e.y),this.z<t.z?this.z=t.z:this.z>e.z&&(this.z=e.z),this.w<t.w?this.w=t.w:this.w>e.w&&(this.w=e.w),this},clampScalar:function(){var t,e;return function(i,r){return void 0===t&&(t=new THREE.Vector4,e=new THREE.Vector4),t.set(i,i,i,i),e.set(r,r,r,r),this.clamp(t,e)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){var e=this.length();return 0!==e&&t!==e&&this.multiplyScalar(t/e),this},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},clone:function(){return new THREE.Vector4(this.x,this.y,this.z,this.w)}},THREE.Euler=function(t,e,i,r){this._x=t||0,this._y=e||0,this._z=i||0,this._order=r||THREE.Euler.DefaultOrder},THREE.Euler.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],THREE.Euler.DefaultOrder="XYZ",THREE.Euler.prototype={constructor:THREE.Euler,_x:0,_y:0,_z:0,_order:THREE.Euler.DefaultOrder,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get order(){return this._order},set order(t){this._order=t,this.onChangeCallback()},set:function(t,e,i,r){return this._x=t,this._y=e,this._z=i,this._order=r||this._order,this.onChangeCallback(),this},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e){var i=THREE.Math.clamp,r=t.elements,o=r[0],n=r[4],a=r[8],s=r[1],l=r[5],c=r[9],h=r[2],u=r[6],d=r[10];return e=e||this._order,"XYZ"===e?(this._y=Math.asin(i(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(-c,d),this._z=Math.atan2(-n,o)):(this._x=Math.atan2(u,l),this._z=0)):"YXZ"===e?(this._x=Math.asin(-i(c,-1,1)),Math.abs(c)<.99999?(this._y=Math.atan2(a,d),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-h,o),this._z=0)):"ZXY"===e?(this._x=Math.asin(i(u,-1,1)),Math.abs(u)<.99999?(this._y=Math.atan2(-h,d),this._z=Math.atan2(-n,l)):(this._y=0,this._z=Math.atan2(s,o))):"ZYX"===e?(this._y=Math.asin(-i(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(u,d),this._z=Math.atan2(s,o)):(this._x=0,this._z=Math.atan2(-n,l))):"YZX"===e?(this._z=Math.asin(i(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(a,d))):"XZY"===e?(this._z=Math.asin(-i(n,-1,1)),Math.abs(n)<.99999?(this._x=Math.atan2(u,l),this._y=Math.atan2(a,o)):(this._x=Math.atan2(-c,d),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+e),this._order=e,this.onChangeCallback(),this},setFromQuaternion:function(t,e,i){var r=THREE.Math.clamp,o=t.x*t.x,n=t.y*t.y,a=t.z*t.z,s=t.w*t.w;return e=e||this._order,"XYZ"===e?(this._x=Math.atan2(2*(t.x*t.w-t.y*t.z),s-o-n+a),this._y=Math.asin(r(2*(t.x*t.z+t.y*t.w),-1,1)),this._z=Math.atan2(2*(t.z*t.w-t.x*t.y),s+o-n-a)):"YXZ"===e?(this._x=Math.asin(r(2*(t.x*t.w-t.y*t.z),-1,1)),this._y=Math.atan2(2*(t.x*t.z+t.y*t.w),s-o-n+a),this._z=Math.atan2(2*(t.x*t.y+t.z*t.w),s-o+n-a)):"ZXY"===e?(this._x=Math.asin(r(2*(t.x*t.w+t.y*t.z),-1,1)),this._y=Math.atan2(2*(t.y*t.w-t.z*t.x),s-o-n+a),this._z=Math.atan2(2*(t.z*t.w-t.x*t.y),s-o+n-a)):"ZYX"===e?(this._x=Math.atan2(2*(t.x*t.w+t.z*t.y),s-o-n+a),this._y=Math.asin(r(2*(t.y*t.w-t.x*t.z),-1,1)),this._z=Math.atan2(2*(t.x*t.y+t.z*t.w),s+o-n-a)):"YZX"===e?(this._x=Math.atan2(2*(t.x*t.w-t.z*t.y),s-o+n-a),this._y=Math.atan2(2*(t.y*t.w-t.x*t.z),s+o-n-a),this._z=Math.asin(r(2*(t.x*t.y+t.z*t.w),-1,1))):"XZY"===e?(this._x=Math.atan2(2*(t.x*t.w+t.y*t.z),s-o+n-a),this._y=Math.atan2(2*(t.x*t.z+t.y*t.w),s+o-n-a),this._z=Math.asin(r(2*(t.z*t.w-t.x*t.y),-1,1))):console.warn("THREE.Euler: .setFromQuaternion() given unsupported order: "+e),this._order=e,i!==!1&&this.onChangeCallback(),this},reorder:function(){var t=new THREE.Quaternion;return function(e){t.setFromEuler(this),this.setFromQuaternion(t,e)}}(),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(){return[this._x,this._y,this._z,this._order]},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){},clone:function(){return new THREE.Euler(this._x,this._y,this._z,this._order)}},THREE.Line3=function(t,e){this.start=void 0!==t?t:new THREE.Vector3,this.end=void 0!==e?e:new THREE.Vector3},THREE.Line3.prototype={constructor:THREE.Line3,set:function(t,e){return this.start.copy(t),this.end.copy(e),this},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},center:function(t){var e=t||new THREE.Vector3;return e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){var e=t||new THREE.Vector3;return e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){var i=e||new THREE.Vector3;return this.delta(i).multiplyScalar(t).add(this.start)},closestPointToPointParameter:function(){var t=new THREE.Vector3,e=new THREE.Vector3;return function(i,r){t.subVectors(i,this.start),e.subVectors(this.end,this.start);var o=e.dot(e),n=e.dot(t),a=n/o;return r&&(a=THREE.Math.clamp(a,0,1)),a}}(),closestPointToPoint:function(t,e,i){var r=this.closestPointToPointParameter(t,e),o=i||new THREE.Vector3;return this.delta(o).multiplyScalar(r).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)},clone:function(){return(new THREE.Line3).copy(this)}},THREE.Box2=function(t,e){this.min=void 0!==t?t:new THREE.Vector2(1/0,1/0),this.max=void 0!==e?e:new THREE.Vector2(-1/0,-1/0)},THREE.Box2.prototype={constructor:THREE.Box2,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,i=t.length;i>e;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new THREE.Vector2;return function(e,i){var r=t.copy(i).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},center:function(t){var e=t||new THREE.Vector2;return e.addVectors(this.min,this.max).multiplyScalar(.5)},size:function(t){var e=t||new THREE.Vector2;return e.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y?!1:!0},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y?!0:!1},getParameter:function(t,e){var i=e||new THREE.Vector2;return i.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},isIntersectionBox:function(t){return t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y?!1:!0},clampPoint:function(t,e){var i=e||new THREE.Vector2;return i.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new THREE.Vector2;return function(e){var i=t.copy(e).clamp(this.min,this.max);return i.sub(e).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)},clone:function(){return(new THREE.Box2).copy(this)}},THREE.Box3=function(t,e){this.min=void 0!==t?t:new THREE.Vector3(1/0,1/0,1/0),this.max=void 0!==e?e:new THREE.Vector3(-1/0,-1/0,-1/0)},THREE.Box3.prototype={constructor:THREE.Box3,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,i=t.length;i>e;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new THREE.Vector3;return function(e,i){var r=t.copy(i).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),setFromObject:function(){var t=new THREE.Vector3;return function(e){var i=this;return e.updateMatrixWorld(!0),this.makeEmpty(),e.traverse(function(e){var r=e.geometry;if(void 0!==r)if(r instanceof THREE.Geometry)for(var o=r.vertices,n=0,a=o.length;a>n;n++)t.copy(o[n]),t.applyMatrix4(e.matrixWorld),i.expandByPoint(t);else if(r instanceof THREE.BufferGeometry&&void 0!==r.attributes.position)for(var s=r.attributes.position.array,n=0,a=s.length;a>n;n+=3)t.set(s[n],s[n+1],s[n+2]),t.applyMatrix4(e.matrixWorld),i.expandByPoint(t)}),this}}(),copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},center:function(t){var e=t||new THREE.Vector3;return e.addVectors(this.min,this.max).multiplyScalar(.5)},size:function(t){var e=t||new THREE.Vector3;return e.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z?!1:!0},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z?!0:!1},getParameter:function(t,e){var i=e||new THREE.Vector3;return i.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},isIntersectionBox:function(t){return t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z?!1:!0},clampPoint:function(t,e){var i=e||new THREE.Vector3;return i.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new THREE.Vector3;return function(e){var i=t.copy(e).clamp(this.min,this.max);return i.sub(e).length()}}(),getBoundingSphere:function(){var t=new THREE.Vector3;return function(e){var i=e||new THREE.Sphere;return i.center=this.center(),i.radius=.5*this.size(t).length(),i}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:function(){var t=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3];return function(e){return t[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),t[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),t[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),t[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),t[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),t[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),t[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),t[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.makeEmpty(),this.setFromPoints(t),this}}(),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)},clone:function(){return(new THREE.Box3).copy(this)}},THREE.Matrix3=function(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")},THREE.Matrix3.prototype={constructor:THREE.Matrix3,set:function(t,e,i,r,o,n,a,s,l){var c=this.elements;return c[0]=t,c[3]=e,c[6]=i,c[1]=r,c[4]=o,c[7]=n,c[2]=a,c[5]=s,c[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},copy:function(t){var e=t.elements;return this.set(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8]),this},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(t){return console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(t)},applyToVector3Array:function(){var t=new THREE.Vector3;return function(e,i,r){void 0===i&&(i=0),void 0===r&&(r=e.length);for(var o=0,n=i;r>o;o+=3,n+=3)t.x=e[n],t.y=e[n+1],t.z=e[n+2],t.applyMatrix3(this),e[n]=t.x,e[n+1]=t.y,e[n+2]=t.z;return e}}(),multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],i=t[1],r=t[2],o=t[3],n=t[4],a=t[5],s=t[6],l=t[7],c=t[8];return e*n*c-e*a*l-i*o*c+i*a*s+r*o*l-r*n*s},getInverse:function(t,e){var i=t.elements,r=this.elements;r[0]=i[10]*i[5]-i[6]*i[9],r[1]=-i[10]*i[1]+i[2]*i[9],r[2]=i[6]*i[1]-i[2]*i[5],r[3]=-i[10]*i[4]+i[6]*i[8],r[4]=i[10]*i[0]-i[2]*i[8],r[5]=-i[6]*i[0]+i[2]*i[4],r[6]=i[9]*i[4]-i[5]*i[8],r[7]=-i[9]*i[0]+i[1]*i[8],r[8]=i[5]*i[0]-i[1]*i[4];var o=i[0]*r[0]+i[1]*r[3]+i[2]*r[6];if(0===o){var n="Matrix3.getInverse(): can't invert matrix, determinant is 0";if(e)throw new Error(n);return console.warn(n),this.identity(),this}return this.multiplyScalar(1/o),this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},flattenToArrayOffset:function(t,e){var i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t},getNormalMatrix:function(t){return this.getInverse(t).transpose(),this},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},fromArray:function(t){return this.elements.set(t),this},toArray:function(){var t=this.elements;return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]},clone:function(){return(new THREE.Matrix3).fromArray(this.elements)}},THREE.Matrix4=function(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")},THREE.Matrix4.prototype={constructor:THREE.Matrix4,set:function(t,e,i,r,o,n,a,s,l,c,h,u,d,p,f,_){var m=this.elements;return m[0]=t,m[4]=e,m[8]=i,m[12]=r,m[1]=o,m[5]=n,m[9]=a,m[13]=s,m[2]=l,m[6]=c,m[10]=h,m[14]=u,m[3]=d,m[7]=p,m[11]=f,m[15]=_,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},copy:function(t){return this.elements.set(t.elements),this},extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},copyPosition:function(t){var e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this},extractRotation:function(){var t=new THREE.Vector3;return function(e){var i=this.elements,r=e.elements,o=1/t.set(r[0],r[1],r[2]).length(),n=1/t.set(r[4],r[5],r[6]).length(),a=1/t.set(r[8],r[9],r[10]).length();return i[0]=r[0]*o,i[1]=r[1]*o,i[2]=r[2]*o,i[4]=r[4]*n,i[5]=r[5]*n,i[6]=r[6]*n,i[8]=r[8]*a,i[9]=r[9]*a,i[10]=r[10]*a,this}}(),makeRotationFromEuler:function(t){t instanceof THREE.Euler==!1&&console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,i=t.x,r=t.y,o=t.z,n=Math.cos(i),a=Math.sin(i),s=Math.cos(r),l=Math.sin(r),c=Math.cos(o),h=Math.sin(o);if("XYZ"===t.order){var u=n*c,d=n*h,p=a*c,f=a*h;e[0]=s*c,e[4]=-s*h,e[8]=l,e[1]=d+p*l,e[5]=u-f*l,e[9]=-a*s,e[2]=f-u*l,e[6]=p+d*l,e[10]=n*s}else if("YXZ"===t.order){var _=s*c,m=s*h,g=l*c,y=l*h;e[0]=_+y*a,e[4]=g*a-m,e[8]=n*l,e[1]=n*h,e[5]=n*c,e[9]=-a,e[2]=m*a-g,e[6]=y+_*a,e[10]=n*s}else if("ZXY"===t.order){var _=s*c,m=s*h,g=l*c,y=l*h;e[0]=_-y*a,e[4]=-n*h,e[8]=g+m*a,e[1]=m+g*a,e[5]=n*c,e[9]=y-_*a,e[2]=-n*l,e[6]=a,e[10]=n*s}else if("ZYX"===t.order){var u=n*c,d=n*h,p=a*c,f=a*h;e[0]=s*c,e[4]=p*l-d,e[8]=u*l+f,e[1]=s*h,e[5]=f*l+u,e[9]=d*l-p,e[2]=-l,e[6]=a*s,e[10]=n*s}else if("YZX"===t.order){var b=n*s,v=n*l,M=a*s,S=a*l;e[0]=s*c,e[4]=S-b*h,e[8]=M*h+v,e[1]=h,e[5]=n*c,e[9]=-a*c,e[2]=-l*c,e[6]=v*h+M,e[10]=b-S*h}else if("XZY"===t.order){var b=n*s,v=n*l,M=a*s,S=a*l;e[0]=s*c,e[4]=-h,e[8]=l*c,e[1]=b*h+S,e[5]=n*c,e[9]=v*h-M,e[2]=M*h-v,e[6]=a*c,e[10]=S*h+b}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},makeRotationFromQuaternion:function(t){var e=this.elements,i=t.x,r=t.y,o=t.z,n=t.w,a=i+i,s=r+r,l=o+o,c=i*a,h=i*s,u=i*l,d=r*s,p=r*l,f=o*l,_=n*a,m=n*s,g=n*l;return e[0]=1-(d+f),e[4]=h-g,e[8]=u+m,e[1]=h+g,e[5]=1-(c+f),e[9]=p-_,e[2]=u-m,e[6]=p+_,e[10]=1-(c+d),e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},lookAt:function(){var t=new THREE.Vector3,e=new THREE.Vector3,i=new THREE.Vector3;return function(r,o,n){var a=this.elements;return i.subVectors(r,o).normalize(),0===i.length()&&(i.z=1),t.crossVectors(n,i).normalize(),0===t.length()&&(i.x+=1e-4,t.crossVectors(n,i).normalize()),e.crossVectors(i,t),a[0]=t.x,a[4]=e.x,a[8]=i.x,a[1]=t.y,a[5]=e.y,a[9]=i.y,a[2]=t.z,a[6]=e.z,a[10]=i.z,this}}(),multiply:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},multiplyMatrices:function(t,e){var i=t.elements,r=e.elements,o=this.elements,n=i[0],a=i[4],s=i[8],l=i[12],c=i[1],h=i[5],u=i[9],d=i[13],p=i[2],f=i[6],_=i[10],m=i[14],g=i[3],y=i[7],b=i[11],v=i[15],M=r[0],S=r[4],T=r[8],x=r[12],C=r[1],E=r[5],A=r[9],w=r[13],R=r[2],D=r[6],P=r[10],B=r[14],V=r[3],L=r[7],k=r[11],H=r[15];return o[0]=n*M+a*C+s*R+l*V,o[4]=n*S+a*E+s*D+l*L,o[8]=n*T+a*A+s*P+l*k,o[12]=n*x+a*w+s*B+l*H,o[1]=c*M+h*C+u*R+d*V,o[5]=c*S+h*E+u*D+d*L,o[9]=c*T+h*A+u*P+d*k,o[13]=c*x+h*w+u*B+d*H,o[2]=p*M+f*C+_*R+m*V,o[6]=p*S+f*E+_*D+m*L,o[10]=p*T+f*A+_*P+m*k,o[14]=p*x+f*w+_*B+m*H,o[3]=g*M+y*C+b*R+v*V,o[7]=g*S+y*E+b*D+v*L,o[11]=g*T+y*A+b*P+v*k,o[15]=g*x+y*w+b*B+v*H,this},multiplyToArray:function(t,e,i){var r=this.elements;return this.multiplyMatrices(t,e),i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],i[4]=r[4],i[5]=r[5],i[6]=r[6],i[7]=r[7],i[8]=r[8],i[9]=r[9],i[10]=r[10],i[11]=r[11],i[12]=r[12],i[13]=r[13],i[14]=r[14],i[15]=r[15],this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead."),t.applyProjection(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)
},multiplyVector3Array:function(t){return console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(t)},applyToVector3Array:function(){var t=new THREE.Vector3;return function(e,i,r){void 0===i&&(i=0),void 0===r&&(r=e.length);for(var o=0,n=i;r>o;o+=3,n+=3)t.x=e[n],t.y=e[n+1],t.z=e[n+2],t.applyMatrix4(this),e[n]=t.x,e[n+1]=t.y,e[n+2]=t.z;return e}}(),rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},determinant:function(){var t=this.elements,e=t[0],i=t[4],r=t[8],o=t[12],n=t[1],a=t[5],s=t[9],l=t[13],c=t[2],h=t[6],u=t[10],d=t[14],p=t[3],f=t[7],_=t[11],m=t[15];return p*(+o*s*h-r*l*h-o*a*u+i*l*u+r*a*d-i*s*d)+f*(+e*s*d-e*l*u+o*n*u-r*n*d+r*l*c-o*s*c)+_*(+e*l*h-e*a*d-o*n*h+i*n*d+o*a*c-i*l*c)+m*(-r*a*c-e*s*h+e*a*u+r*n*h-i*n*u+i*s*c)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},flattenToArrayOffset:function(t,e){var i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t},getPosition:function(){var t=new THREE.Vector3;return function(){console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.");var e=this.elements;return t.set(e[12],e[13],e[14])}}(),setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(t,e){var i=this.elements,r=t.elements,o=r[0],n=r[4],a=r[8],s=r[12],l=r[1],c=r[5],h=r[9],u=r[13],d=r[2],p=r[6],f=r[10],_=r[14],m=r[3],g=r[7],y=r[11],b=r[15];i[0]=h*_*g-u*f*g+u*p*y-c*_*y-h*p*b+c*f*b,i[4]=s*f*g-a*_*g-s*p*y+n*_*y+a*p*b-n*f*b,i[8]=a*u*g-s*h*g+s*c*y-n*u*y-a*c*b+n*h*b,i[12]=s*h*p-a*u*p-s*c*f+n*u*f+a*c*_-n*h*_,i[1]=u*f*m-h*_*m-u*d*y+l*_*y+h*d*b-l*f*b,i[5]=a*_*m-s*f*m+s*d*y-o*_*y-a*d*b+o*f*b,i[9]=s*h*m-a*u*m-s*l*y+o*u*y+a*l*b-o*h*b,i[13]=a*u*d-s*h*d+s*l*f-o*u*f-a*l*_+o*h*_,i[2]=c*_*m-u*p*m+u*d*g-l*_*g-c*d*b+l*p*b,i[6]=s*p*m-n*_*m-s*d*g+o*_*g+n*d*b-o*p*b,i[10]=n*u*m-s*c*m+s*l*g-o*u*g-n*l*b+o*c*b,i[14]=s*c*d-n*u*d-s*l*p+o*u*p+n*l*_-o*c*_,i[3]=h*p*m-c*f*m-h*d*g+l*f*g+c*d*y-l*p*y,i[7]=n*f*m-a*p*m+a*d*g-o*f*g-n*d*y+o*p*y,i[11]=a*c*m-n*h*m-a*l*g+o*h*g+n*l*y-o*c*y,i[15]=n*h*d-a*c*d+a*l*p-o*h*p-n*l*f+o*c*f;var v=o*i[0]+l*i[4]+d*i[8]+m*i[12];if(0==v){var M="Matrix4.getInverse(): can't invert matrix, determinant is 0";if(e)throw new Error(M);return console.warn(M),this.identity(),this}return this.multiplyScalar(1/v),this},translate:function(){console.warn("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.warn("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.warn("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.warn("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.warn("THREE.Matrix4: .rotateByAxis() has been removed.")},scale:function(t){var e=this.elements,i=t.x,r=t.y,o=t.z;return e[0]*=i,e[4]*=r,e[8]*=o,e[1]*=i,e[5]*=r,e[9]*=o,e[2]*=i,e[6]*=r,e[10]*=o,e[3]*=i,e[7]*=r,e[11]*=o,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,Math.max(i,r)))},makeTranslation:function(t,e,i){return this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var i=Math.cos(e),r=Math.sin(e),o=1-i,n=t.x,a=t.y,s=t.z,l=o*n,c=o*a;return this.set(l*n+i,l*a-r*s,l*s+r*a,0,l*a+r*s,c*a+i,c*s-r*n,0,l*s-r*a,c*s+r*n,o*s*s+i,0,0,0,0,1),this},makeScale:function(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this},compose:function(t,e,i){return this.makeRotationFromQuaternion(e),this.scale(i),this.setPosition(t),this},decompose:function(){var t=new THREE.Vector3,e=new THREE.Matrix4;return function(i,r,o){var n=this.elements,a=t.set(n[0],n[1],n[2]).length(),s=t.set(n[4],n[5],n[6]).length(),l=t.set(n[8],n[9],n[10]).length(),c=this.determinant();0>c&&(a=-a),i.x=n[12],i.y=n[13],i.z=n[14],e.elements.set(this.elements);var h=1/a,u=1/s,d=1/l;return e.elements[0]*=h,e.elements[1]*=h,e.elements[2]*=h,e.elements[4]*=u,e.elements[5]*=u,e.elements[6]*=u,e.elements[8]*=d,e.elements[9]*=d,e.elements[10]*=d,r.setFromRotationMatrix(e),o.x=a,o.y=s,o.z=l,this}}(),makeFrustum:function(t,e,i,r,o,n){var a=this.elements,s=2*o/(e-t),l=2*o/(r-i),c=(e+t)/(e-t),h=(r+i)/(r-i),u=-(n+o)/(n-o),d=-2*n*o/(n-o);return a[0]=s,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=l,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=u,a[14]=d,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makePerspective:function(t,e,i,r){var o=i*Math.tan(THREE.Math.degToRad(.5*t)),n=-o,a=n*e,s=o*e;return this.makeFrustum(a,s,n,o,i,r)},makeOrthographic:function(t,e,i,r,o,n){var a=this.elements,s=e-t,l=i-r,c=n-o,h=(e+t)/s,u=(i+r)/l,d=(n+o)/c;return a[0]=2/s,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2/l,a[9]=0,a[13]=-u,a[2]=0,a[6]=0,a[10]=-2/c,a[14]=-d,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},fromArray:function(t){return this.elements.set(t),this},toArray:function(){var t=this.elements;return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]},clone:function(){return(new THREE.Matrix4).fromArray(this.elements)}},THREE.Ray=function(t,e){this.origin=void 0!==t?t:new THREE.Vector3,this.direction=void 0!==e?e:new THREE.Vector3},THREE.Ray.prototype={constructor:THREE.Ray,set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){var i=e||new THREE.Vector3;return i.copy(this.direction).multiplyScalar(t).add(this.origin)},recast:function(){var t=new THREE.Vector3;return function(e){return this.origin.copy(this.at(e,t)),this}}(),closestPointToPoint:function(t,e){var i=e||new THREE.Vector3;i.subVectors(t,this.origin);var r=i.dot(this.direction);return 0>r?i.copy(this.origin):i.copy(this.direction).multiplyScalar(r).add(this.origin)},distanceToPoint:function(){var t=new THREE.Vector3;return function(e){var i=t.subVectors(e,this.origin).dot(this.direction);return 0>i?this.origin.distanceTo(e):(t.copy(this.direction).multiplyScalar(i).add(this.origin),t.distanceTo(e))}}(),distanceSqToSegment:function(t,e,i,r){var o,n,a,s,l=t.clone().add(e).multiplyScalar(.5),c=e.clone().sub(t).normalize(),h=.5*t.distanceTo(e),u=this.origin.clone().sub(l),d=-this.direction.dot(c),p=u.dot(this.direction),f=-u.dot(c),_=u.lengthSq(),m=Math.abs(1-d*d);if(m>=0)if(o=d*f-p,n=d*p-f,s=h*m,o>=0)if(n>=-s)if(s>=n){var g=1/m;o*=g,n*=g,a=o*(o+d*n+2*p)+n*(d*o+n+2*f)+_}else n=h,o=Math.max(0,-(d*n+p)),a=-o*o+n*(n+2*f)+_;else n=-h,o=Math.max(0,-(d*n+p)),a=-o*o+n*(n+2*f)+_;else-s>=n?(o=Math.max(0,-(-d*h+p)),n=o>0?-h:Math.min(Math.max(-h,-f),h),a=-o*o+n*(n+2*f)+_):s>=n?(o=0,n=Math.min(Math.max(-h,-f),h),a=n*(n+2*f)+_):(o=Math.max(0,-(d*h+p)),n=o>0?h:Math.min(Math.max(-h,-f),h),a=-o*o+n*(n+2*f)+_);else n=d>0?-h:h,o=Math.max(0,-(d*n+p)),a=-o*o+n*(n+2*f)+_;return i&&i.copy(this.direction.clone().multiplyScalar(o).add(this.origin)),r&&r.copy(c.clone().multiplyScalar(n).add(l)),a},isIntersectionSphere:function(t){return this.distanceToPoint(t.center)<=t.radius},intersectSphere:function(){var t=new THREE.Vector3;return function(e,i){t.subVectors(e.center,this.origin);var r=t.dot(this.direction),o=t.dot(t)-r*r,n=e.radius*e.radius;if(o>n)return null;var a=Math.sqrt(n-o),s=r-a,l=r+a;return 0>s&&0>l?null:0>s?this.at(l,i):this.at(s,i)}}(),isIntersectionPlane:function(t){var e=t.distanceToPoint(this.origin);if(0===e)return!0;var i=t.normal.dot(this.direction);return 0>i*e?!0:!1},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0==e)return 0==t.distanceToPoint(this.origin)?0:null;var i=-(this.origin.dot(t.normal)+t.constant)/e;return i>=0?i:null},intersectPlane:function(t,e){var i=this.distanceToPlane(t);return null===i?null:this.at(i,e)},isIntersectionBox:function(){var t=new THREE.Vector3;return function(e){return null!==this.intersectBox(e,t)}}(),intersectBox:function(t,e){var i,r,o,n,a,s,l=1/this.direction.x,c=1/this.direction.y,h=1/this.direction.z,u=this.origin;return l>=0?(i=(t.min.x-u.x)*l,r=(t.max.x-u.x)*l):(i=(t.max.x-u.x)*l,r=(t.min.x-u.x)*l),c>=0?(o=(t.min.y-u.y)*c,n=(t.max.y-u.y)*c):(o=(t.max.y-u.y)*c,n=(t.min.y-u.y)*c),i>n||o>r?null:((o>i||i!==i)&&(i=o),(r>n||r!==r)&&(r=n),h>=0?(a=(t.min.z-u.z)*h,s=(t.max.z-u.z)*h):(a=(t.max.z-u.z)*h,s=(t.min.z-u.z)*h),i>s||a>r?null:((a>i||i!==i)&&(i=a),(r>s||r!==r)&&(r=s),0>r?null:this.at(i>=0?i:r,e)))},intersectTriangle:function(){var t=new THREE.Vector3,e=new THREE.Vector3,i=new THREE.Vector3,r=new THREE.Vector3;return function(o,n,a,s,l){e.subVectors(n,o),i.subVectors(a,o),r.crossVectors(e,i);var c,h=this.direction.dot(r);if(h>0){if(s)return null;c=1}else{if(!(0>h))return null;c=-1,h=-h}t.subVectors(this.origin,o);var u=c*this.direction.dot(i.crossVectors(t,i));if(0>u)return null;var d=c*this.direction.dot(e.cross(t));if(0>d)return null;if(u+d>h)return null;var p=-c*t.dot(r);return 0>p?null:this.at(p/h,l)}}(),applyMatrix4:function(t){return this.direction.add(this.origin).applyMatrix4(t),this.origin.applyMatrix4(t),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)},clone:function(){return(new THREE.Ray).copy(this)}},THREE.Sphere=function(t,e){this.center=void 0!==t?t:new THREE.Vector3,this.radius=void 0!==e?e:0},THREE.Sphere.prototype={constructor:THREE.Sphere,set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:function(){var t=new THREE.Box3;return function(e,i){var r=this.center;void 0!==i?r.copy(i):t.setFromPoints(e).center(r);for(var o=0,n=0,a=e.length;a>n;n++)o=Math.max(o,r.distanceToSquared(e[n]));return this.radius=Math.sqrt(o),this}}(),copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},clampPoint:function(t,e){var i=this.center.distanceToSquared(t),r=e||new THREE.Vector3;return r.copy(t),i>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r},getBoundingBox:function(t){var e=t||new THREE.Box3;return e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius},clone:function(){return(new THREE.Sphere).copy(this)}},THREE.Frustum=function(t,e,i,r,o,n){this.planes=[void 0!==t?t:new THREE.Plane,void 0!==e?e:new THREE.Plane,void 0!==i?i:new THREE.Plane,void 0!==r?r:new THREE.Plane,void 0!==o?o:new THREE.Plane,void 0!==n?n:new THREE.Plane]},THREE.Frustum.prototype={constructor:THREE.Frustum,set:function(t,e,i,r,o,n){var a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(i),a[3].copy(r),a[4].copy(o),a[5].copy(n),this},copy:function(t){for(var e=this.planes,i=0;6>i;i++)e[i].copy(t.planes[i]);return this},setFromMatrix:function(t){var e=this.planes,i=t.elements,r=i[0],o=i[1],n=i[2],a=i[3],s=i[4],l=i[5],c=i[6],h=i[7],u=i[8],d=i[9],p=i[10],f=i[11],_=i[12],m=i[13],g=i[14],y=i[15];return e[0].setComponents(a-r,h-s,f-u,y-_).normalize(),e[1].setComponents(a+r,h+s,f+u,y+_).normalize(),e[2].setComponents(a+o,h+l,f+d,y+m).normalize(),e[3].setComponents(a-o,h-l,f-d,y-m).normalize(),e[4].setComponents(a-n,h-c,f-p,y-g).normalize(),e[5].setComponents(a+n,h+c,f+p,y+g).normalize(),this},intersectsObject:function(){var t=new THREE.Sphere;return function(e){var i=e.geometry;return null===i.boundingSphere&&i.computeBoundingSphere(),t.copy(i.boundingSphere),t.applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSphere:function(t){for(var e=this.planes,i=t.center,r=-t.radius,o=0;6>o;o++){var n=e[o].distanceToPoint(i);if(r>n)return!1}return!0},intersectsBox:function(){var t=new THREE.Vector3,e=new THREE.Vector3;return function(i){for(var r=this.planes,o=0;6>o;o++){var n=r[o];t.x=n.normal.x>0?i.min.x:i.max.x,e.x=n.normal.x>0?i.max.x:i.min.x,t.y=n.normal.y>0?i.min.y:i.max.y,e.y=n.normal.y>0?i.max.y:i.min.y,t.z=n.normal.z>0?i.min.z:i.max.z,e.z=n.normal.z>0?i.max.z:i.min.z;var a=n.distanceToPoint(t),s=n.distanceToPoint(e);if(0>a&&0>s)return!1}return!0}}(),containsPoint:function(t){for(var e=this.planes,i=0;6>i;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0},clone:function(){return(new THREE.Frustum).copy(this)}},THREE.Plane=function(t,e){this.normal=void 0!==t?t:new THREE.Vector3(1,0,0),this.constant=void 0!==e?e:0},THREE.Plane.prototype={constructor:THREE.Plane,set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,i,r){return this.normal.set(t,e,i),this.constant=r,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new THREE.Vector3,e=new THREE.Vector3;return function(i,r,o){var n=t.subVectors(o,r).cross(e.subVectors(i,r)).normalize();return this.setFromNormalAndCoplanarPoint(n,i),this}}(),copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return this.orthoPoint(t,e).sub(t).negate()},orthoPoint:function(t,e){var i=this.distanceToPoint(t),r=e||new THREE.Vector3;return r.copy(this.normal).multiplyScalar(i)},isIntersectionLine:function(t){var e=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return 0>e&&i>0||0>i&&e>0},intersectLine:function(){var t=new THREE.Vector3;return function(e,i){var r=i||new THREE.Vector3,o=e.delta(t),n=this.normal.dot(o);if(0==n)return 0==this.distanceToPoint(e.start)?r.copy(e.start):void 0;var a=-(e.start.dot(this.normal)+this.constant)/n;return 0>a||a>1?void 0:r.copy(o).multiplyScalar(a).add(e.start)}}(),coplanarPoint:function(t){var e=t||new THREE.Vector3;return e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new THREE.Vector3,e=new THREE.Vector3,i=new THREE.Matrix3;return function(r,o){var n=o||i.getNormalMatrix(r),a=t.copy(this.normal).applyMatrix3(n),s=this.coplanarPoint(e);return s.applyMatrix4(r),this.setFromNormalAndCoplanarPoint(a,s),this}}(),translate:function(t){return this.constant=this.constant-t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant==this.constant},clone:function(){return(new THREE.Plane).copy(this)}},THREE.Math={generateUUID:function(){var t,e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),i=new Array(36),r=0;return function(){for(var o=0;36>o;o++)8==o||13==o||18==o||23==o?i[o]="-":14==o?i[o]="4":(2>=r&&(r=33554432+16777216*Math.random()|0),t=15&r,r>>=4,i[o]=e[19==o?3&t|8:t]);return i.join("")}}(),clamp:function(t,e,i){return e>t?e:t>i?i:t},clampBottom:function(t,e){return e>t?e:t},mapLinear:function(t,e,i,r,o){return r+(t-e)*(o-r)/(i-e)},smoothstep:function(t,e,i){return e>=t?0:t>=i?1:(t=(t-e)/(i-e),t*t*(3-2*t))},smootherstep:function(t,e,i){return e>=t?0:t>=i?1:(t=(t-e)/(i-e),t*t*t*(t*(6*t-15)+10))},random16:function(){return(65280*Math.random()+255*Math.random())/65535},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(){var t=Math.PI/180;return function(e){return e*t}}(),radToDeg:function(){var t=180/Math.PI;return function(e){return e*t}}(),isPowerOfTwo:function(t){return 0===(t&t-1)&&0!==t}},THREE.Spline=function(t){function e(t,e,i,r,o,n,a){var s=.5*(i-t),l=.5*(r-e);return(2*(e-i)+s+l)*a+(-3*(e-i)-2*s-l)*n+s*o+e}this.points=t;var i,r,o,n,a,s,l,c,h,u=[],d={x:0,y:0,z:0};this.initFromArray=function(t){this.points=[];for(var e=0;e<t.length;e++)this.points[e]={x:t[e][0],y:t[e][1],z:t[e][2]}},this.getPoint=function(t){return i=(this.points.length-1)*t,r=Math.floor(i),o=i-r,u[0]=0===r?r:r-1,u[1]=r,u[2]=r>this.points.length-2?this.points.length-1:r+1,u[3]=r>this.points.length-3?this.points.length-1:r+2,s=this.points[u[0]],l=this.points[u[1]],c=this.points[u[2]],h=this.points[u[3]],n=o*o,a=o*n,d.x=e(s.x,l.x,c.x,h.x,o,n,a),d.y=e(s.y,l.y,c.y,h.y,o,n,a),d.z=e(s.z,l.z,c.z,h.z,o,n,a),d},this.getControlPointsArray=function(){var t,e,i=this.points.length,r=[];for(t=0;i>t;t++)e=this.points[t],r[t]=[e.x,e.y,e.z];return r},this.getLength=function(t){var e,i,r,o,n=0,a=0,s=0,l=new THREE.Vector3,c=new THREE.Vector3,h=[],u=0;for(h[0]=0,t||(t=100),r=this.points.length*t,l.copy(this.points[0]),e=1;r>e;e++)i=e/r,o=this.getPoint(i),c.copy(o),u+=c.distanceTo(l),l.copy(o),n=(this.points.length-1)*i,a=Math.floor(n),a!=s&&(h[a]=u,s=a);return h[h.length]=u,{chunks:h,total:u}},this.reparametrizeByArcLength=function(t){var e,i,r,o,n,a,s,l,c=[],h=new THREE.Vector3,u=this.getLength();for(c.push(h.copy(this.points[0]).clone()),e=1;e<this.points.length;e++){for(a=u.chunks[e]-u.chunks[e-1],s=Math.ceil(t*a/u.total),o=(e-1)/(this.points.length-1),n=e/(this.points.length-1),i=1;s-1>i;i++)r=o+i*(1/s)*(n-o),l=this.getPoint(r),c.push(h.copy(l).clone());c.push(h.copy(this.points[e]).clone())}this.points=c}},THREE.Triangle=function(t,e,i){this.a=void 0!==t?t:new THREE.Vector3,this.b=void 0!==e?e:new THREE.Vector3,this.c=void 0!==i?i:new THREE.Vector3},THREE.Triangle.normal=function(){var t=new THREE.Vector3;return function(e,i,r,o){var n=o||new THREE.Vector3;n.subVectors(r,i),t.subVectors(e,i),n.cross(t);var a=n.lengthSq();return a>0?n.multiplyScalar(1/Math.sqrt(a)):n.set(0,0,0)}}(),THREE.Triangle.barycoordFromPoint=function(){var t=new THREE.Vector3,e=new THREE.Vector3,i=new THREE.Vector3;return function(r,o,n,a,s){t.subVectors(a,o),e.subVectors(n,o),i.subVectors(r,o);var l=t.dot(t),c=t.dot(e),h=t.dot(i),u=e.dot(e),d=e.dot(i),p=l*u-c*c,f=s||new THREE.Vector3;if(0==p)return f.set(-2,-1,-1);var _=1/p,m=(u*h-c*d)*_,g=(l*d-c*h)*_;return f.set(1-m-g,g,m)}}(),THREE.Triangle.containsPoint=function(){var t=new THREE.Vector3;return function(e,i,r,o){var n=THREE.Triangle.barycoordFromPoint(e,i,r,o,t);return n.x>=0&&n.y>=0&&n.x+n.y<=1}}(),THREE.Triangle.prototype={constructor:THREE.Triangle,set:function(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this},setFromPointsAndIndices:function(t,e,i,r){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[r]),this},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},area:function(){var t=new THREE.Vector3,e=new THREE.Vector3;return function(){return t.subVectors(this.c,this.b),e.subVectors(this.a,this.b),.5*t.cross(e).length()}}(),midpoint:function(t){var e=t||new THREE.Vector3;return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(t){return THREE.Triangle.normal(this.a,this.b,this.c,t)},plane:function(t){var e=t||new THREE.Plane;return e.setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(t,e){return THREE.Triangle.barycoordFromPoint(t,this.a,this.b,this.c,e)},containsPoint:function(t){return THREE.Triangle.containsPoint(t,this.a,this.b,this.c)},equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)},clone:function(){return(new THREE.Triangle).copy(this)}},THREE.Clock=function(t){this.autoStart=void 0!==t?t:!0,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1},THREE.Clock.prototype={constructor:THREE.Clock,start:function(){this.startTime=void 0!==self.performance&&void 0!==self.performance.now?self.performance.now():Date.now(),this.oldTime=this.startTime,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running&&this.start(),this.running){var e=void 0!==self.performance&&void 0!==self.performance.now?self.performance.now():Date.now();t=.001*(e-this.oldTime),this.oldTime=e,this.elapsedTime+=t}return t}},THREE.EventDispatcher=function(){},THREE.EventDispatcher.prototype={constructor:THREE.EventDispatcher,apply:function(t){t.addEventListener=THREE.EventDispatcher.prototype.addEventListener,t.hasEventListener=THREE.EventDispatcher.prototype.hasEventListener,t.removeEventListener=THREE.EventDispatcher.prototype.removeEventListener,t.dispatchEvent=THREE.EventDispatcher.prototype.dispatchEvent},addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var i=this._listeners;void 0===i[t]&&(i[t]=[]),-1===i[t].indexOf(e)&&i[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var i=this._listeners;return void 0!==i[t]&&-1!==i[t].indexOf(e)?!0:!1},removeEventListener:function(t,e){if(void 0!==this._listeners){var i=this._listeners,r=i[t];if(void 0!==r){var o=r.indexOf(e);-1!==o&&r.splice(o,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners,i=e[t.type];if(void 0!==i){t.target=this;for(var r=[],o=i.length,n=0;o>n;n++)r[n]=i[n];for(var n=0;o>n;n++)r[n].call(this,t)}}}},function(t){t.Raycaster=function(e,i,r,o){this.ray=new t.Ray(e,i),this.near=r||0,this.far=o||1/0,this.params={Sprite:{},Mesh:{},PointCloud:{threshold:1},LOD:{},Line:{}}};var e=function(t,e){return t.distance-e.distance},i=function(t,e,r,o){if(t.raycast(e,r),o===!0)for(var n=t.children,a=0,s=n.length;s>a;a++)i(n[a],e,r,!0)};t.Raycaster.prototype={constructor:t.Raycaster,precision:1e-4,linePrecision:1,set:function(t,e){this.ray.set(t,e)},intersectObject:function(t,r){var o=[];return i(t,this,o,r),o.sort(e),o},intersectObjects:function(t,r){var o=[];if(t instanceof Array==!1)return console.log("THREE.Raycaster.intersectObjects: objects is not an Array."),o;for(var n=0,a=t.length;a>n;n++)i(t[n],this,o,r);return o.sort(e),o}}}(THREE),THREE.Object3D=function(){Object.defineProperty(this,"id",{value:THREE.Object3DIdCount++}),this.uuid=THREE.Math.generateUUID(),this.name="",this.type="Object3D",this.parent=void 0,this.children=[],this.up=THREE.Object3D.DefaultUp.clone();var t=new THREE.Vector3,e=new THREE.Euler,i=new THREE.Quaternion,r=new THREE.Vector3(1,1,1),o=function(){i.setFromEuler(e,!1)},n=function(){e.setFromQuaternion(i,void 0,!1)};e.onChange(o),i.onChange(n),Object.defineProperties(this,{position:{enumerable:!0,value:t},rotation:{enumerable:!0,value:e},quaternion:{enumerable:!0,value:i},scale:{enumerable:!0,value:r}}),this.renderDepth=null,this.rotationAutoUpdate=!0,this.matrix=new THREE.Matrix4,this.matrixWorld=new THREE.Matrix4,this.matrixAutoUpdate=!0,this.matrixWorldNeedsUpdate=!1,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.userData={}},THREE.Object3D.DefaultUp=new THREE.Vector3(0,1,0),THREE.Object3D.prototype={constructor:THREE.Object3D,get eulerOrder(){return console.warn("THREE.Object3D: .eulerOrder has been moved to .rotation.order."),this.rotation.order},set eulerOrder(t){console.warn("THREE.Object3D: .eulerOrder has been moved to .rotation.order."),this.rotation.order=t},get useQuaternion(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set useQuaternion(t){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},applyMatrix:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(){var t=new THREE.Quaternion;return function(e,i){return t.setFromAxisAngle(e,i),this.quaternion.multiply(t),this}}(),rotateX:function(){var t=new THREE.Vector3(1,0,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateY:function(){var t=new THREE.Vector3(0,1,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateZ:function(){var t=new THREE.Vector3(0,0,1);return function(e){return this.rotateOnAxis(t,e)}}(),translateOnAxis:function(){var t=new THREE.Vector3;return function(e,i){return t.copy(e).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(i)),this}}(),translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)},translateX:function(){var t=new THREE.Vector3(1,0,0);return function(e){return this.translateOnAxis(t,e)}}(),translateY:function(){var t=new THREE.Vector3(0,1,0);return function(e){return this.translateOnAxis(t,e)}}(),translateZ:function(){var t=new THREE.Vector3(0,0,1);return function(e){return this.translateOnAxis(t,e)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var t=new THREE.Matrix4;return function(e){return e.applyMatrix4(t.getInverse(this.matrixWorld))}}(),lookAt:function(){var t=new THREE.Matrix4;return function(e){t.lookAt(e,this.position,this.up),this.quaternion.setFromRotationMatrix(t)}}(),add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add:",t,"can't be added as a child of itself."),this):(t instanceof THREE.Object3D?(void 0!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)):console.error("THREE.Object3D.add:",t,"is not an instance of THREE.Object3D."),this)},remove:function(t){if(arguments.length>1)for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);var i=this.children.indexOf(t);-1!==i&&(t.parent=void 0,t.dispatchEvent({type:"removed"}),this.children.splice(i,1))},getChildByName:function(t,e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t,e)},getObjectById:function(t,e){if(this.id===t)return this;for(var i=0,r=this.children.length;r>i;i++){var o=this.children[i],n=o.getObjectById(t,e);if(void 0!==n)return n}return void 0},getObjectByName:function(t,e){if(this.name===t)return this;for(var i=0,r=this.children.length;r>i;i++){var o=this.children[i],n=o.getObjectByName(t,e);if(void 0!==n)return n}return void 0},getWorldPosition:function(t){var e=t||new THREE.Vector3;return this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var t=new THREE.Vector3,e=new THREE.Vector3;return function(i){var r=i||new THREE.Quaternion;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,r,e),r}}(),getWorldRotation:function(){var t=new THREE.Quaternion;return function(e){var i=e||new THREE.Euler;return this.getWorldQuaternion(t),i.setFromQuaternion(t,this.rotation.order,!1)}}(),getWorldScale:function(){var t=new THREE.Vector3,e=new THREE.Quaternion;return function(i){var r=i||new THREE.Vector3;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,r),r}}(),getWorldDirection:function(){var t=new THREE.Quaternion;return function(e){var i=e||new THREE.Vector3;return this.getWorldQuaternion(t),i.set(0,0,1).applyQuaternion(t)}}(),raycast:function(){},traverse:function(t){t(this);for(var e=0,i=this.children.length;i>e;e++)this.children[e].traverse(t)},traverseVisible:function(t){if(this.visible!==!1){t(this);for(var e=0,i=this.children.length;i>e;e++)this.children[e].traverseVisible(t)}},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate===!0&&this.updateMatrix(),(this.matrixWorldNeedsUpdate===!0||t===!0)&&(void 0===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=0,i=this.children.length;i>e;e++)this.children[e].updateMatrixWorld(t)},toJSON:function(){var t={metadata:{version:4.3,type:"Object",generator:"ObjectExporter"}},e={},i=function(i){if(void 0===t.geometries&&(t.geometries=[]),void 0===e[i.uuid]){var r=i.toJSON();delete r.metadata,e[i.uuid]=r,t.geometries.push(r)}return i.uuid},r={},o=function(e){if(void 0===t.materials&&(t.materials=[]),void 0===r[e.uuid]){var i=e.toJSON();delete i.metadata,r[e.uuid]=i,t.materials.push(i)}return e.uuid},n=function(t){var e={};if(e.uuid=t.uuid,e.type=t.type,""!==t.name&&(e.name=t.name),"{}"!==JSON.stringify(t.userData)&&(e.userData=t.userData),t.visible!==!0&&(e.visible=t.visible),t instanceof THREE.PerspectiveCamera?(e.fov=t.fov,e.aspect=t.aspect,e.near=t.near,e.far=t.far):t instanceof THREE.OrthographicCamera?(e.left=t.left,e.right=t.right,e.top=t.top,e.bottom=t.bottom,e.near=t.near,e.far=t.far):t instanceof THREE.AmbientLight?e.color=t.color.getHex():t instanceof THREE.DirectionalLight?(e.color=t.color.getHex(),e.intensity=t.intensity):t instanceof THREE.PointLight?(e.color=t.color.getHex(),e.intensity=t.intensity,e.distance=t.distance):t instanceof THREE.SpotLight?(e.color=t.color.getHex(),e.intensity=t.intensity,e.distance=t.distance,e.angle=t.angle,e.exponent=t.exponent):t instanceof THREE.HemisphereLight?(e.color=t.color.getHex(),e.groundColor=t.groundColor.getHex()):t instanceof THREE.Mesh?(e.geometry=i(t.geometry),e.material=o(t.material)):t instanceof THREE.Line?(e.geometry=i(t.geometry),e.material=o(t.material)):t instanceof THREE.Sprite&&(e.material=o(t.material)),e.matrix=t.matrix.toArray(),t.children.length>0){e.children=[];for(var r=0;r<t.children.length;r++)e.children.push(n(t.children[r]))}return e};return t.object=n(this),t},clone:function(t,e){if(void 0===t&&(t=new THREE.Object3D),void 0===e&&(e=!0),t.name=this.name,t.up.copy(this.up),t.position.copy(this.position),t.quaternion.copy(this.quaternion),t.scale.copy(this.scale),t.renderDepth=this.renderDepth,t.rotationAutoUpdate=this.rotationAutoUpdate,t.matrix.copy(this.matrix),t.matrixWorld.copy(this.matrixWorld),t.matrixAutoUpdate=this.matrixAutoUpdate,t.matrixWorldNeedsUpdate=this.matrixWorldNeedsUpdate,t.visible=this.visible,t.castShadow=this.castShadow,t.receiveShadow=this.receiveShadow,t.frustumCulled=this.frustumCulled,t.userData=JSON.parse(JSON.stringify(this.userData)),e===!0)for(var i=0;i<this.children.length;i++){var r=this.children[i];t.add(r.clone())}return t}},THREE.EventDispatcher.prototype.apply(THREE.Object3D.prototype),THREE.Object3DIdCount=0,THREE.Projector=function(){console.warn("THREE.Projector has been moved to /examples/renderers/Projector.js."),this.projectVector=function(t,e){console.warn("THREE.Projector: .projectVector() is now vector.project()."),t.project(e)},this.unprojectVector=function(t,e){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),t.unproject(e)
},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() has been removed.")}},THREE.Face3=function(t,e,i,r,o,n){this.a=t,this.b=e,this.c=i,this.normal=r instanceof THREE.Vector3?r:new THREE.Vector3,this.vertexNormals=r instanceof Array?r:[],this.color=o instanceof THREE.Color?o:new THREE.Color,this.vertexColors=o instanceof Array?o:[],this.vertexTangents=[],this.materialIndex=void 0!==n?n:0},THREE.Face3.prototype={constructor:THREE.Face3,clone:function(){var t=new THREE.Face3(this.a,this.b,this.c);t.normal.copy(this.normal),t.color.copy(this.color),t.materialIndex=this.materialIndex;for(var e=0,i=this.vertexNormals.length;i>e;e++)t.vertexNormals[e]=this.vertexNormals[e].clone();for(var e=0,i=this.vertexColors.length;i>e;e++)t.vertexColors[e]=this.vertexColors[e].clone();for(var e=0,i=this.vertexTangents.length;i>e;e++)t.vertexTangents[e]=this.vertexTangents[e].clone();return t}},THREE.Face4=function(t,e,i,r,o,n,a){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new THREE.Face3(t,e,i,o,n,a)},THREE.BufferAttribute=function(t,e){this.array=t,this.itemSize=e,this.needsUpdate=!1},THREE.BufferAttribute.prototype={constructor:THREE.BufferAttribute,get length(){return this.array.length},copyAt:function(t,e,i){t*=this.itemSize,i*=e.itemSize;for(var r=0,o=this.itemSize;o>r;r++)this.array[t+r]=e.array[i+r]},set:function(t){return this.array.set(t),this},setX:function(t,e){return this.array[t*this.itemSize]=e,this},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},setXY:function(t,e,i){return t*=this.itemSize,this.array[t]=e,this.array[t+1]=i,this},setXYZ:function(t,e,i,r){return t*=this.itemSize,this.array[t]=e,this.array[t+1]=i,this.array[t+2]=r,this},setXYZW:function(t,e,i,r,o){return t*=this.itemSize,this.array[t]=e,this.array[t+1]=i,this.array[t+2]=r,this.array[t+3]=o,this},clone:function(){return new THREE.BufferAttribute(new this.array.constructor(this.array),this.itemSize)}},THREE.Int8Attribute=function(t,e){return console.warn("THREE.Int8Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new THREE.BufferAttribute(t,e)},THREE.Uint8Attribute=function(t,e){return console.warn("THREE.Uint8Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new THREE.BufferAttribute(t,e)},THREE.Uint8ClampedAttribute=function(t,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new THREE.BufferAttribute(t,e)},THREE.Int16Attribute=function(t,e){return console.warn("THREE.Int16Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new THREE.BufferAttribute(t,e)},THREE.Uint16Attribute=function(t,e){return console.warn("THREE.Uint16Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new THREE.BufferAttribute(t,e)},THREE.Int32Attribute=function(t,e){return console.warn("THREE.Int32Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new THREE.BufferAttribute(t,e)},THREE.Uint32Attribute=function(t,e){return console.warn("THREE.Uint32Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new THREE.BufferAttribute(t,e)},THREE.Float32Attribute=function(t,e){return console.warn("THREE.Float32Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new THREE.BufferAttribute(t,e)},THREE.Float64Attribute=function(t,e){return console.warn("THREE.Float64Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new THREE.BufferAttribute(t,e)},THREE.BufferGeometry=function(){Object.defineProperty(this,"id",{value:THREE.GeometryIdCount++}),this.uuid=THREE.Math.generateUUID(),this.name="",this.type="BufferGeometry",this.attributes={},this.attributesKeys=[],this.drawcalls=[],this.offsets=this.drawcalls,this.boundingBox=null,this.boundingSphere=null},THREE.BufferGeometry.prototype={constructor:THREE.BufferGeometry,addAttribute:function(t,e){return e instanceof THREE.BufferAttribute==!1?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),void(this.attributes[t]={array:arguments[1],itemSize:arguments[2]})):(this.attributes[t]=e,void(this.attributesKeys=Object.keys(this.attributes)))},getAttribute:function(t){return this.attributes[t]},addDrawCall:function(t,e,i){this.drawcalls.push({start:t,count:e,index:void 0!==i?i:0})},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToVector3Array(e.array),e.needsUpdate=!0);var i=this.attributes.normal;if(void 0!==i){var r=(new THREE.Matrix3).getNormalMatrix(t);r.applyToVector3Array(i.array),i.needsUpdate=!0}},center:function(){},fromGeometry:function(t,e){e=e||{vertexColors:THREE.NoColors};var i=t.vertices,r=t.faces,o=t.faceVertexUvs,n=e.vertexColors,a=o[0].length>0,s=3==r[0].vertexNormals.length,l=new Float32Array(3*r.length*3);this.addAttribute("position",new THREE.BufferAttribute(l,3));var c=new Float32Array(3*r.length*3);if(this.addAttribute("normal",new THREE.BufferAttribute(c,3)),n!==THREE.NoColors){var h=new Float32Array(3*r.length*3);this.addAttribute("color",new THREE.BufferAttribute(h,3))}if(a===!0){var u=new Float32Array(3*r.length*2);this.addAttribute("uv",new THREE.BufferAttribute(u,2))}for(var d=0,p=0,f=0;d<r.length;d++,p+=6,f+=9){var _=r[d],m=i[_.a],g=i[_.b],y=i[_.c];if(l[f]=m.x,l[f+1]=m.y,l[f+2]=m.z,l[f+3]=g.x,l[f+4]=g.y,l[f+5]=g.z,l[f+6]=y.x,l[f+7]=y.y,l[f+8]=y.z,s===!0){var b=_.vertexNormals[0],v=_.vertexNormals[1],M=_.vertexNormals[2];c[f]=b.x,c[f+1]=b.y,c[f+2]=b.z,c[f+3]=v.x,c[f+4]=v.y,c[f+5]=v.z,c[f+6]=M.x,c[f+7]=M.y,c[f+8]=M.z}else{var S=_.normal;c[f]=S.x,c[f+1]=S.y,c[f+2]=S.z,c[f+3]=S.x,c[f+4]=S.y,c[f+5]=S.z,c[f+6]=S.x,c[f+7]=S.y,c[f+8]=S.z}if(n===THREE.FaceColors){var T=_.color;h[f]=T.r,h[f+1]=T.g,h[f+2]=T.b,h[f+3]=T.r,h[f+4]=T.g,h[f+5]=T.b,h[f+6]=T.r,h[f+7]=T.g,h[f+8]=T.b}else if(n===THREE.VertexColors){var x=_.vertexColors[0],C=_.vertexColors[1],E=_.vertexColors[2];h[f]=x.r,h[f+1]=x.g,h[f+2]=x.b,h[f+3]=C.r,h[f+4]=C.g,h[f+5]=C.b,h[f+6]=E.r,h[f+7]=E.g,h[f+8]=E.b}if(a===!0){var A=o[0][d][0],w=o[0][d][1],R=o[0][d][2];u[p]=A.x,u[p+1]=A.y,u[p+2]=w.x,u[p+3]=w.y,u[p+4]=R.x,u[p+5]=R.y}}return this.computeBoundingSphere(),this},computeBoundingBox:function(){var t=new THREE.Vector3;return function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3);var e=this.attributes.position.array;if(e){var i=this.boundingBox;i.makeEmpty();for(var r=0,o=e.length;o>r;r+=3)t.set(e[r],e[r+1],e[r+2]),i.expandByPoint(t)}(void 0===e||0===e.length)&&(this.boundingBox.min.set(0,0,0),this.boundingBox.max.set(0,0,0)),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.')}}(),computeBoundingSphere:function(){var t=new THREE.Box3,e=new THREE.Vector3;return function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere);var i=this.attributes.position.array;if(i){t.makeEmpty();for(var r=this.boundingSphere.center,o=0,n=i.length;n>o;o+=3)e.set(i[o],i[o+1],i[o+2]),t.expandByPoint(e);t.center(r);for(var a=0,o=0,n=i.length;n>o;o+=3)e.set(i[o],i[o+1],i[o+2]),a=Math.max(a,r.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.')}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.attributes;if(t.position){var e=t.position.array;if(void 0===t.normal)this.addAttribute("normal",new THREE.BufferAttribute(new Float32Array(e.length),3));else for(var i=t.normal.array,r=0,o=i.length;o>r;r++)i[r]=0;var n,a,s,i=t.normal.array,l=new THREE.Vector3,c=new THREE.Vector3,h=new THREE.Vector3,u=new THREE.Vector3,d=new THREE.Vector3;if(t.index)for(var p=t.index.array,f=this.offsets.length>0?this.offsets:[{start:0,count:p.length,index:0}],_=0,m=f.length;m>_;++_)for(var g=f[_].start,y=f[_].count,b=f[_].index,r=g,o=g+y;o>r;r+=3)n=3*(b+p[r]),a=3*(b+p[r+1]),s=3*(b+p[r+2]),l.fromArray(e,n),c.fromArray(e,a),h.fromArray(e,s),u.subVectors(h,c),d.subVectors(l,c),u.cross(d),i[n]+=u.x,i[n+1]+=u.y,i[n+2]+=u.z,i[a]+=u.x,i[a+1]+=u.y,i[a+2]+=u.z,i[s]+=u.x,i[s+1]+=u.y,i[s+2]+=u.z;else for(var r=0,o=e.length;o>r;r+=9)l.fromArray(e,r),c.fromArray(e,r+3),h.fromArray(e,r+6),u.subVectors(h,c),d.subVectors(l,c),u.cross(d),i[r]=u.x,i[r+1]=u.y,i[r+2]=u.z,i[r+3]=u.x,i[r+4]=u.y,i[r+5]=u.z,i[r+6]=u.x,i[r+7]=u.y,i[r+8]=u.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},computeTangents:function(){function t(t,e,i){R.fromArray(r,3*t),D.fromArray(r,3*e),P.fromArray(r,3*i),B.fromArray(n,2*t),V.fromArray(n,2*e),L.fromArray(n,2*i),u=D.x-R.x,d=P.x-R.x,p=D.y-R.y,f=P.y-R.y,_=D.z-R.z,m=P.z-R.z,g=V.x-B.x,y=L.x-B.x,b=V.y-B.y,v=L.y-B.y,M=1/(g*v-y*b),k.set((v*u-b*d)*M,(v*p-b*f)*M,(v*_-b*m)*M),H.set((g*d-y*u)*M,(g*f-y*p)*M,(g*m-y*_)*M),l[t].add(k),l[e].add(k),l[i].add(k),c[t].add(H),c[e].add(H),c[i].add(H)}function e(t){W.fromArray(o,3*t),X.copy(W),G=l[t],j.copy(G),j.sub(W.multiplyScalar(W.dot(G))).normalize(),U.crossVectors(X,G),z=U.dot(c[t]),F=0>z?-1:1,s[4*t]=j.x,s[4*t+1]=j.y,s[4*t+2]=j.z,s[4*t+3]=F}if(void 0===this.attributes.index||void 0===this.attributes.position||void 0===this.attributes.normal||void 0===this.attributes.uv)return void console.warn("Missing required attributes (index, position, normal or uv) in BufferGeometry.computeTangents()");var i=this.attributes.index.array,r=this.attributes.position.array,o=this.attributes.normal.array,n=this.attributes.uv.array,a=r.length/3;void 0===this.attributes.tangent&&this.addAttribute("tangent",new THREE.BufferAttribute(new Float32Array(4*a),4));for(var s=this.attributes.tangent.array,l=[],c=[],h=0;a>h;h++)l[h]=new THREE.Vector3,c[h]=new THREE.Vector3;var u,d,p,f,_,m,g,y,b,v,M,S,T,x,C,E,A,w,R=new THREE.Vector3,D=new THREE.Vector3,P=new THREE.Vector3,B=new THREE.Vector2,V=new THREE.Vector2,L=new THREE.Vector2,k=new THREE.Vector3,H=new THREE.Vector3;0===this.drawcalls.length&&this.addDrawCall(0,i.length,0);var I=this.drawcalls;for(x=0,C=I.length;C>x;++x){var O=I[x].start,J=I[x].count,N=I[x].index;for(S=O,T=O+J;T>S;S+=3)E=N+i[S],A=N+i[S+1],w=N+i[S+2],t(E,A,w)}var F,G,z,j=new THREE.Vector3,U=new THREE.Vector3,W=new THREE.Vector3,X=new THREE.Vector3;for(x=0,C=I.length;C>x;++x){var O=I[x].start,J=I[x].count,N=I[x].index;for(S=O,T=O+J;T>S;S+=3)E=N+i[S],A=N+i[S+1],w=N+i[S+2],e(E),e(A),e(w)}},computeOffsets:function(t){var e=t;void 0===t&&(e=65535);for(var i=(Date.now(),this.attributes.index.array),r=this.attributes.position.array,o=(r.length/3,i.length/3),n=new Uint16Array(i.length),a=0,s=0,l=[{start:0,count:0,index:0}],c=l[0],h=0,u=0,d=new Int32Array(6),p=new Int32Array(r.length),f=new Int32Array(r.length),_=0;_<r.length;_++)p[_]=-1,f[_]=-1;for(var m=0;o>m;m++){u=0;for(var g=0;3>g;g++){var y=i[3*m+g];-1==p[y]?(d[2*g]=y,d[2*g+1]=-1,u++):p[y]<c.index?(d[2*g]=y,d[2*g+1]=-1,h++):(d[2*g]=y,d[2*g+1]=p[y])}var b=s+u;if(b>c.index+e){var v={start:a,count:0,index:s};l.push(v),c=v;for(var M=0;6>M;M+=2){var S=d[M+1];S>-1&&S<c.index&&(d[M+1]=-1)}}for(var M=0;6>M;M+=2){var y=d[M],S=d[M+1];-1===S&&(S=s++),p[y]=S,f[S]=y,n[a++]=S-c.index,c.count++}}return this.reorderBuffers(n,f,s),this.offsets=l,l},merge:function(){console.log("BufferGeometry.merge(): TODO")},normalizeNormals:function(){for(var t,e,i,r,o=this.attributes.normal.array,n=0,a=o.length;a>n;n+=3)t=o[n],e=o[n+1],i=o[n+2],r=1/Math.sqrt(t*t+e*e+i*i),o[n]*=r,o[n+1]*=r,o[n+2]*=r},reorderBuffers:function(t,e,i){var r={};for(var o in this.attributes)if("index"!=o){var n=this.attributes[o].array;r[o]=new n.constructor(this.attributes[o].itemSize*i)}for(var a=0;i>a;a++){var s=e[a];for(var o in this.attributes)if("index"!=o)for(var l=this.attributes[o].array,c=this.attributes[o].itemSize,h=r[o],u=0;c>u;u++)h[a*c+u]=l[s*c+u]}this.attributes.index.array=t;for(var o in this.attributes)"index"!=o&&(this.attributes[o].array=r[o],this.attributes[o].numItems=this.attributes[o].itemSize*i)},toJSON:function(){var t={metadata:{version:4,type:"BufferGeometry",generator:"BufferGeometryExporter"},uuid:this.uuid,type:this.type,data:{attributes:{}}},e=this.attributes,i=this.offsets,r=this.boundingSphere;for(var o in e){for(var n=e[o],a=[],s=n.array,l=0,c=s.length;c>l;l++)a[l]=s[l];t.data.attributes[o]={itemSize:n.itemSize,type:n.array.constructor.name,array:a}}return i.length>0&&(t.data.offsets=JSON.parse(JSON.stringify(i))),null!==r&&(t.data.boundingSphere={center:r.center.toArray(),radius:r.radius}),t},clone:function(){var t=new THREE.BufferGeometry;for(var e in this.attributes){var i=this.attributes[e];t.addAttribute(e,i.clone())}for(var r=0,o=this.offsets.length;o>r;r++){var n=this.offsets[r];t.offsets.push({start:n.start,index:n.index,count:n.count})}return t},dispose:function(){this.dispatchEvent({type:"dispose"})}},THREE.EventDispatcher.prototype.apply(THREE.BufferGeometry.prototype),THREE.Geometry=function(){Object.defineProperty(this,"id",{value:THREE.GeometryIdCount++}),this.uuid=THREE.Math.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphColors=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.hasTangents=!1,this.dynamic=!0,this.verticesNeedUpdate=!1,this.elementsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.tangentsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1},THREE.Geometry.prototype={constructor:THREE.Geometry,applyMatrix:function(t){for(var e=(new THREE.Matrix3).getNormalMatrix(t),i=0,r=this.vertices.length;r>i;i++){var o=this.vertices[i];o.applyMatrix4(t)}for(var i=0,r=this.faces.length;r>i;i++){var n=this.faces[i];n.normal.applyMatrix3(e).normalize();for(var a=0,s=n.vertexNormals.length;s>a;a++)n.vertexNormals[a].applyMatrix3(e).normalize()}this.boundingBox instanceof THREE.Box3&&this.computeBoundingBox(),this.boundingSphere instanceof THREE.Sphere&&this.computeBoundingSphere()},fromBufferGeometry:function(t){for(var e=this,i=t.attributes,r=i.position.array,o=void 0!==i.index?i.index.array:void 0,n=void 0!==i.normal?i.normal.array:void 0,a=void 0!==i.color?i.color.array:void 0,s=void 0!==i.uv?i.uv.array:void 0,l=[],c=[],h=0,u=0;h<r.length;h+=3,u+=2)e.vertices.push(new THREE.Vector3(r[h],r[h+1],r[h+2])),void 0!==n&&l.push(new THREE.Vector3(n[h],n[h+1],n[h+2])),void 0!==a&&e.colors.push(new THREE.Color(a[h],a[h+1],a[h+2])),void 0!==s&&c.push(new THREE.Vector2(s[u],s[u+1]));var d=function(t,i,r){var o=void 0!==n?[l[t].clone(),l[i].clone(),l[r].clone()]:[],s=void 0!==a?[e.colors[t].clone(),e.colors[i].clone(),e.colors[r].clone()]:[];e.faces.push(new THREE.Face3(t,i,r,o,s)),e.faceVertexUvs[0].push([c[t],c[i],c[r]])};if(void 0!==o)for(var h=0;h<o.length;h+=3)d(o[h],o[h+1],o[h+2]);else for(var h=0;h<r.length/3;h+=3)d(h,h+1,h+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var t=new THREE.Vector3;return t.addVectors(this.boundingBox.min,this.boundingBox.max),t.multiplyScalar(-.5),this.applyMatrix((new THREE.Matrix4).makeTranslation(t.x,t.y,t.z)),this.computeBoundingBox(),t},computeFaceNormals:function(){for(var t=new THREE.Vector3,e=new THREE.Vector3,i=0,r=this.faces.length;r>i;i++){var o=this.faces[i],n=this.vertices[o.a],a=this.vertices[o.b],s=this.vertices[o.c];t.subVectors(s,a),e.subVectors(n,a),t.cross(e),t.normalize(),o.normal.copy(t)}},computeVertexNormals:function(t){var e,i,r,o,n,a;for(a=new Array(this.vertices.length),e=0,i=this.vertices.length;i>e;e++)a[e]=new THREE.Vector3;if(t){{var s,l,c,h=new THREE.Vector3,u=new THREE.Vector3;new THREE.Vector3,new THREE.Vector3,new THREE.Vector3}for(r=0,o=this.faces.length;o>r;r++)n=this.faces[r],s=this.vertices[n.a],l=this.vertices[n.b],c=this.vertices[n.c],h.subVectors(c,l),u.subVectors(s,l),h.cross(u),a[n.a].add(h),a[n.b].add(h),a[n.c].add(h)}else for(r=0,o=this.faces.length;o>r;r++)n=this.faces[r],a[n.a].add(n.normal),a[n.b].add(n.normal),a[n.c].add(n.normal);for(e=0,i=this.vertices.length;i>e;e++)a[e].normalize();for(r=0,o=this.faces.length;o>r;r++)n=this.faces[r],n.vertexNormals[0]=a[n.a].clone(),n.vertexNormals[1]=a[n.b].clone(),n.vertexNormals[2]=a[n.c].clone()},computeMorphNormals:function(){var t,e,i,r,o;for(i=0,r=this.faces.length;r>i;i++)for(o=this.faces[i],o.__originalFaceNormal?o.__originalFaceNormal.copy(o.normal):o.__originalFaceNormal=o.normal.clone(),o.__originalVertexNormals||(o.__originalVertexNormals=[]),t=0,e=o.vertexNormals.length;e>t;t++)o.__originalVertexNormals[t]?o.__originalVertexNormals[t].copy(o.vertexNormals[t]):o.__originalVertexNormals[t]=o.vertexNormals[t].clone();var n=new THREE.Geometry;for(n.faces=this.faces,t=0,e=this.morphTargets.length;e>t;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var a,s,l=this.morphNormals[t].faceNormals,c=this.morphNormals[t].vertexNormals;for(i=0,r=this.faces.length;r>i;i++)a=new THREE.Vector3,s={a:new THREE.Vector3,b:new THREE.Vector3,c:new THREE.Vector3},l.push(a),c.push(s)}var h=this.morphNormals[t];n.vertices=this.morphTargets[t].vertices,n.computeFaceNormals(),n.computeVertexNormals();var a,s;for(i=0,r=this.faces.length;r>i;i++)o=this.faces[i],a=h.faceNormals[i],s=h.vertexNormals[i],a.copy(o.normal),s.a.copy(o.vertexNormals[0]),s.b.copy(o.vertexNormals[1]),s.c.copy(o.vertexNormals[2])}for(i=0,r=this.faces.length;r>i;i++)o=this.faces[i],o.normal=o.__originalFaceNormal,o.vertexNormals=o.__originalVertexNormals},computeTangents:function(){function t(t,e,i,r,o,n,a){c=t.vertices[e],h=t.vertices[i],u=t.vertices[r],d=l[o],p=l[n],f=l[a],_=h.x-c.x,m=u.x-c.x,g=h.y-c.y,y=u.y-c.y,b=h.z-c.z,v=u.z-c.z,M=p.x-d.x,S=f.x-d.x,T=p.y-d.y,x=f.y-d.y,C=1/(M*x-S*T),P.set((x*_-T*m)*C,(x*g-T*y)*C,(x*b-T*v)*C),B.set((M*m-S*_)*C,(M*y-S*g)*C,(M*v-S*b)*C),R[e].add(P),R[i].add(P),R[r].add(P),D[e].add(B),D[i].add(B),D[r].add(B)}var e,i,r,o,n,a,s,l,c,h,u,d,p,f,_,m,g,y,b,v,M,S,T,x,C,E,A,w,R=[],D=[],P=new THREE.Vector3,B=new THREE.Vector3,V=new THREE.Vector3,L=new THREE.Vector3,k=new THREE.Vector3;for(r=0,o=this.vertices.length;o>r;r++)R[r]=new THREE.Vector3,D[r]=new THREE.Vector3;for(e=0,i=this.faces.length;i>e;e++)s=this.faces[e],l=this.faceVertexUvs[0][e],t(this,s.a,s.b,s.c,0,1,2);var H=["a","b","c","d"];for(e=0,i=this.faces.length;i>e;e++)for(s=this.faces[e],n=0;n<Math.min(s.vertexNormals.length,3);n++)k.copy(s.vertexNormals[n]),a=s[H[n]],E=R[a],V.copy(E),V.sub(k.multiplyScalar(k.dot(E))).normalize(),L.crossVectors(s.vertexNormals[n],E),A=L.dot(D[a]),w=0>A?-1:1,s.vertexTangents[n]=new THREE.Vector4(V.x,V.y,V.z,w);this.hasTangents=!0},computeLineDistances:function(){for(var t=0,e=this.vertices,i=0,r=e.length;r>i;i++)i>0&&(t+=e[i].distanceTo(e[i-1])),this.lineDistances[i]=t},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,i){if(t instanceof THREE.Geometry==!1)return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t);var r,o=this.vertices.length,n=this.vertices,a=t.vertices,s=this.faces,l=t.faces,c=this.faceVertexUvs[0],h=t.faceVertexUvs[0];void 0===i&&(i=0),void 0!==e&&(r=(new THREE.Matrix3).getNormalMatrix(e));for(var u=0,d=a.length;d>u;u++){var p=a[u],f=p.clone();void 0!==e&&f.applyMatrix4(e),n.push(f)}for(u=0,d=l.length;d>u;u++){var _,m,g,y=l[u],b=y.vertexNormals,v=y.vertexColors;_=new THREE.Face3(y.a+o,y.b+o,y.c+o),_.normal.copy(y.normal),void 0!==r&&_.normal.applyMatrix3(r).normalize();for(var M=0,S=b.length;S>M;M++)m=b[M].clone(),void 0!==r&&m.applyMatrix3(r).normalize(),_.vertexNormals.push(m);_.color.copy(y.color);for(var M=0,S=v.length;S>M;M++)g=v[M],_.vertexColors.push(g.clone());_.materialIndex=y.materialIndex+i,s.push(_)}for(u=0,d=h.length;d>u;u++){var T=h[u],x=[];if(void 0!==T){for(var M=0,S=T.length;S>M;M++)x.push(new THREE.Vector2(T[M].x,T[M].y));c.push(x)}}},mergeVertices:function(){var t,e,i,r,o,n,a,s,l={},c=[],h=[],u=4,d=Math.pow(10,u);for(i=0,r=this.vertices.length;r>i;i++)t=this.vertices[i],e=Math.round(t.x*d)+"_"+Math.round(t.y*d)+"_"+Math.round(t.z*d),void 0===l[e]?(l[e]=i,c.push(this.vertices[i]),h[i]=c.length-1):h[i]=h[l[e]];var p=[];for(i=0,r=this.faces.length;r>i;i++){o=this.faces[i],o.a=h[o.a],o.b=h[o.b],o.c=h[o.c],n=[o.a,o.b,o.c];for(var f=-1,_=0;3>_;_++)if(n[_]==n[(_+1)%3]){f=_,p.push(i);break}}for(i=p.length-1;i>=0;i--){var m=p[i];for(this.faces.splice(m,1),a=0,s=this.faceVertexUvs.length;s>a;a++)this.faceVertexUvs[a].splice(m,1)}var g=this.vertices.length-c.length;return this.vertices=c,g},toJSON:function(){function t(t,e,i){return i?t|1<<e:t&~(1<<e)}function e(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==d[e]?d[e]:(d[e]=u.length/3,u.push(t.x,t.y,t.z),d[e])}function i(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==f[e]?f[e]:(f[e]=p.length,p.push(t.getHex()),f[e])}function r(t){var e=t.x.toString()+t.y.toString();return void 0!==m[e]?m[e]:(m[e]=_.length/2,_.push(t.x,t.y),m[e])}var o={metadata:{version:4,type:"BufferGeometry",generator:"BufferGeometryExporter"},uuid:this.uuid,type:this.type};if(""!==this.name&&(o.name=this.name),void 0!==this.parameters){var n=this.parameters;for(var a in n)void 0!==n[a]&&(o[a]=n[a]);return o}for(var s=[],l=0;l<this.vertices.length;l++){var c=this.vertices[l];s.push(c.x,c.y,c.z)}for(var h=[],u=[],d={},p=[],f={},_=[],m={},l=0;l<this.faces.length;l++){var g=this.faces[l],y=!1,b=!1,v=void 0!==this.faceVertexUvs[0][l],M=g.normal.length()>0,S=g.vertexNormals.length>0,T=1!==g.color.r||1!==g.color.g||1!==g.color.b,x=g.vertexColors.length>0,C=0;if(C=t(C,0,0),C=t(C,1,y),C=t(C,2,b),C=t(C,3,v),C=t(C,4,M),C=t(C,5,S),C=t(C,6,T),C=t(C,7,x),h.push(C),h.push(g.a,g.b,g.c),v){var E=this.faceVertexUvs[0][l];h.push(r(E[0]),r(E[1]),r(E[2]))}if(M&&h.push(e(g.normal)),S){var A=g.vertexNormals;h.push(e(A[0]),e(A[1]),e(A[2]))}if(T&&h.push(i(g.color)),x){var w=g.vertexColors;h.push(i(w[0]),i(w[1]),i(w[2]))}}return o.data={},o.data.vertices=s,o.data.normals=u,p.length>0&&(o.data.colors=p),_.length>0&&(o.data.uvs=[_]),o.data.faces=h,o},clone:function(){for(var t=new THREE.Geometry,e=this.vertices,i=0,r=e.length;r>i;i++)t.vertices.push(e[i].clone());for(var o=this.faces,i=0,r=o.length;r>i;i++)t.faces.push(o[i].clone());for(var n=this.faceVertexUvs[0],i=0,r=n.length;r>i;i++){for(var a=n[i],s=[],l=0,c=a.length;c>l;l++)s.push(new THREE.Vector2(a[l].x,a[l].y));t.faceVertexUvs[0].push(s)}return t},dispose:function(){this.dispatchEvent({type:"dispose"})}},THREE.EventDispatcher.prototype.apply(THREE.Geometry.prototype),THREE.GeometryIdCount=0,THREE.Camera=function(){THREE.Object3D.call(this),this.type="Camera",this.matrixWorldInverse=new THREE.Matrix4,this.projectionMatrix=new THREE.Matrix4},THREE.Camera.prototype=Object.create(THREE.Object3D.prototype),THREE.Camera.prototype.getWorldDirection=function(){var t=new THREE.Quaternion;return function(e){var i=e||new THREE.Vector3;return this.getWorldQuaternion(t),i.set(0,0,-1).applyQuaternion(t)}}(),THREE.Camera.prototype.lookAt=function(){var t=new THREE.Matrix4;return function(e){t.lookAt(this.position,e,this.up),this.quaternion.setFromRotationMatrix(t)}}(),THREE.Camera.prototype.clone=function(t){return void 0===t&&(t=new THREE.Camera),THREE.Object3D.prototype.clone.call(this,t),t.matrixWorldInverse.copy(this.matrixWorldInverse),t.projectionMatrix.copy(this.projectionMatrix),t},THREE.CubeCamera=function(t,e,i){THREE.Object3D.call(this),this.type="CubeCamera";var r=90,o=1,n=new THREE.PerspectiveCamera(r,o,t,e);n.up.set(0,-1,0),n.lookAt(new THREE.Vector3(1,0,0)),this.add(n);var a=new THREE.PerspectiveCamera(r,o,t,e);a.up.set(0,-1,0),a.lookAt(new THREE.Vector3(-1,0,0)),this.add(a);var s=new THREE.PerspectiveCamera(r,o,t,e);s.up.set(0,0,1),s.lookAt(new THREE.Vector3(0,1,0)),this.add(s);var l=new THREE.PerspectiveCamera(r,o,t,e);l.up.set(0,0,-1),l.lookAt(new THREE.Vector3(0,-1,0)),this.add(l);var c=new THREE.PerspectiveCamera(r,o,t,e);c.up.set(0,-1,0),c.lookAt(new THREE.Vector3(0,0,1)),this.add(c);var h=new THREE.PerspectiveCamera(r,o,t,e);h.up.set(0,-1,0),h.lookAt(new THREE.Vector3(0,0,-1)),this.add(h),this.renderTarget=new THREE.WebGLRenderTargetCube(i,i,{format:THREE.RGBFormat,magFilter:THREE.LinearFilter,minFilter:THREE.LinearFilter}),this.updateCubeMap=function(t,e){var i=this.renderTarget,r=i.generateMipmaps;i.generateMipmaps=!1,i.activeCubeFace=0,t.render(e,n,i),i.activeCubeFace=1,t.render(e,a,i),i.activeCubeFace=2,t.render(e,s,i),i.activeCubeFace=3,t.render(e,l,i),i.activeCubeFace=4,t.render(e,c,i),i.generateMipmaps=r,i.activeCubeFace=5,t.render(e,h,i)}},THREE.CubeCamera.prototype=Object.create(THREE.Object3D.prototype),THREE.OrthographicCamera=function(t,e,i,r,o,n){THREE.Camera.call(this),this.type="OrthographicCamera",this.zoom=1,this.left=t,this.right=e,this.top=i,this.bottom=r,this.near=void 0!==o?o:.1,this.far=void 0!==n?n:2e3,this.updateProjectionMatrix()},THREE.OrthographicCamera.prototype=Object.create(THREE.Camera.prototype),THREE.OrthographicCamera.prototype.updateProjectionMatrix=function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;this.projectionMatrix.makeOrthographic(i-t,i+t,r+e,r-e,this.near,this.far)},THREE.OrthographicCamera.prototype.clone=function(){var t=new THREE.OrthographicCamera;return THREE.Camera.prototype.clone.call(this,t),t.zoom=this.zoom,t.left=this.left,t.right=this.right,t.top=this.top,t.bottom=this.bottom,t.near=this.near,t.far=this.far,t.projectionMatrix.copy(this.projectionMatrix),t},THREE.PerspectiveCamera=function(t,e,i,r){THREE.Camera.call(this),this.type="PerspectiveCamera",this.zoom=1,this.fov=void 0!==t?t:50,this.aspect=void 0!==e?e:1,this.near=void 0!==i?i:.1,this.far=void 0!==r?r:2e3,this.updateProjectionMatrix()},THREE.PerspectiveCamera.prototype=Object.create(THREE.Camera.prototype),THREE.PerspectiveCamera.prototype.setLens=function(t,e){void 0===e&&(e=24),this.fov=2*THREE.Math.radToDeg(Math.atan(e/(2*t))),this.updateProjectionMatrix()},THREE.PerspectiveCamera.prototype.setViewOffset=function(t,e,i,r,o,n){this.fullWidth=t,this.fullHeight=e,this.x=i,this.y=r,this.width=o,this.height=n,this.updateProjectionMatrix()},THREE.PerspectiveCamera.prototype.updateProjectionMatrix=function(){var t=THREE.Math.radToDeg(2*Math.atan(Math.tan(.5*THREE.Math.degToRad(this.fov))/this.zoom));if(this.fullWidth){var e=this.fullWidth/this.fullHeight,i=Math.tan(THREE.Math.degToRad(.5*t))*this.near,r=-i,o=e*r,n=e*i,a=Math.abs(n-o),s=Math.abs(i-r);this.projectionMatrix.makeFrustum(o+this.x*a/this.fullWidth,o+(this.x+this.width)*a/this.fullWidth,i-(this.y+this.height)*s/this.fullHeight,i-this.y*s/this.fullHeight,this.near,this.far)}else this.projectionMatrix.makePerspective(t,this.aspect,this.near,this.far)},THREE.PerspectiveCamera.prototype.clone=function(){var t=new THREE.PerspectiveCamera;return THREE.Camera.prototype.clone.call(this,t),t.zoom=this.zoom,t.fov=this.fov,t.aspect=this.aspect,t.near=this.near,t.far=this.far,t.projectionMatrix.copy(this.projectionMatrix),t},THREE.Light=function(t){THREE.Object3D.call(this),this.type="Light",this.color=new THREE.Color(t)},THREE.Light.prototype=Object.create(THREE.Object3D.prototype),THREE.Light.prototype.clone=function(t){return void 0===t&&(t=new THREE.Light),THREE.Object3D.prototype.clone.call(this,t),t.color.copy(this.color),t},THREE.AmbientLight=function(t){THREE.Light.call(this,t),this.type="AmbientLight"},THREE.AmbientLight.prototype=Object.create(THREE.Light.prototype),THREE.AmbientLight.prototype.clone=function(){var t=new THREE.AmbientLight;return THREE.Light.prototype.clone.call(this,t),t},THREE.AreaLight=function(t,e){THREE.Light.call(this,t),this.type="AreaLight",this.normal=new THREE.Vector3(0,-1,0),this.right=new THREE.Vector3(1,0,0),this.intensity=void 0!==e?e:1,this.width=1,this.height=1,this.constantAttenuation=1.5,this.linearAttenuation=.5,this.quadraticAttenuation=.1},THREE.AreaLight.prototype=Object.create(THREE.Light.prototype),THREE.DirectionalLight=function(t,e){THREE.Light.call(this,t),this.type="DirectionalLight",this.position.set(0,1,0),this.target=new THREE.Object3D,this.intensity=void 0!==e?e:1,this.castShadow=!1,this.onlyShadow=!1,this.shadowCameraNear=50,this.shadowCameraFar=5e3,this.shadowCameraLeft=-500,this.shadowCameraRight=500,this.shadowCameraTop=500,this.shadowCameraBottom=-500,this.shadowCameraVisible=!1,this.shadowBias=0,this.shadowDarkness=.5,this.shadowMapWidth=512,this.shadowMapHeight=512,this.shadowCascade=!1,this.shadowCascadeOffset=new THREE.Vector3(0,0,-1e3),this.shadowCascadeCount=2,this.shadowCascadeBias=[0,0,0],this.shadowCascadeWidth=[512,512,512],this.shadowCascadeHeight=[512,512,512],this.shadowCascadeNearZ=[-1,.99,.998],this.shadowCascadeFarZ=[.99,.998,1],this.shadowCascadeArray=[],this.shadowMap=null,this.shadowMapSize=null,this.shadowCamera=null,this.shadowMatrix=null},THREE.DirectionalLight.prototype=Object.create(THREE.Light.prototype),THREE.DirectionalLight.prototype.clone=function(){var t=new THREE.DirectionalLight;return THREE.Light.prototype.clone.call(this,t),t.target=this.target.clone(),t.intensity=this.intensity,t.castShadow=this.castShadow,t.onlyShadow=this.onlyShadow,t.shadowCameraNear=this.shadowCameraNear,t.shadowCameraFar=this.shadowCameraFar,t.shadowCameraLeft=this.shadowCameraLeft,t.shadowCameraRight=this.shadowCameraRight,t.shadowCameraTop=this.shadowCameraTop,t.shadowCameraBottom=this.shadowCameraBottom,t.shadowCameraVisible=this.shadowCameraVisible,t.shadowBias=this.shadowBias,t.shadowDarkness=this.shadowDarkness,t.shadowMapWidth=this.shadowMapWidth,t.shadowMapHeight=this.shadowMapHeight,t.shadowCascade=this.shadowCascade,t.shadowCascadeOffset.copy(this.shadowCascadeOffset),t.shadowCascadeCount=this.shadowCascadeCount,t.shadowCascadeBias=this.shadowCascadeBias.slice(0),t.shadowCascadeWidth=this.shadowCascadeWidth.slice(0),t.shadowCascadeHeight=this.shadowCascadeHeight.slice(0),t.shadowCascadeNearZ=this.shadowCascadeNearZ.slice(0),t.shadowCascadeFarZ=this.shadowCascadeFarZ.slice(0),t},THREE.HemisphereLight=function(t,e,i){THREE.Light.call(this,t),this.type="HemisphereLight",this.position.set(0,100,0),this.groundColor=new THREE.Color(e),this.intensity=void 0!==i?i:1},THREE.HemisphereLight.prototype=Object.create(THREE.Light.prototype),THREE.HemisphereLight.prototype.clone=function(){var t=new THREE.HemisphereLight;return THREE.Light.prototype.clone.call(this,t),t.groundColor.copy(this.groundColor),t.intensity=this.intensity,t},THREE.PointLight=function(t,e,i){THREE.Light.call(this,t),this.type="PointLight",this.intensity=void 0!==e?e:1,this.distance=void 0!==i?i:0},THREE.PointLight.prototype=Object.create(THREE.Light.prototype),THREE.PointLight.prototype.clone=function(){var t=new THREE.PointLight;return THREE.Light.prototype.clone.call(this,t),t.intensity=this.intensity,t.distance=this.distance,t},THREE.SpotLight=function(t,e,i,r,o){THREE.Light.call(this,t),this.type="SpotLight",this.position.set(0,1,0),this.target=new THREE.Object3D,this.intensity=void 0!==e?e:1,this.distance=void 0!==i?i:0,this.angle=void 0!==r?r:Math.PI/3,this.exponent=void 0!==o?o:10,this.castShadow=!1,this.onlyShadow=!1,this.shadowCameraNear=50,this.shadowCameraFar=5e3,this.shadowCameraFov=50,this.shadowCameraVisible=!1,this.shadowBias=0,this.shadowDarkness=.5,this.shadowMapWidth=512,this.shadowMapHeight=512,this.shadowMap=null,this.shadowMapSize=null,this.shadowCamera=null,this.shadowMatrix=null
},THREE.SpotLight.prototype=Object.create(THREE.Light.prototype),THREE.SpotLight.prototype.clone=function(){var t=new THREE.SpotLight;return THREE.Light.prototype.clone.call(this,t),t.target=this.target.clone(),t.intensity=this.intensity,t.distance=this.distance,t.angle=this.angle,t.exponent=this.exponent,t.castShadow=this.castShadow,t.onlyShadow=this.onlyShadow,t.shadowCameraNear=this.shadowCameraNear,t.shadowCameraFar=this.shadowCameraFar,t.shadowCameraFov=this.shadowCameraFov,t.shadowCameraVisible=this.shadowCameraVisible,t.shadowBias=this.shadowBias,t.shadowDarkness=this.shadowDarkness,t.shadowMapWidth=this.shadowMapWidth,t.shadowMapHeight=this.shadowMapHeight,t},THREE.Cache=function(){this.files={}},THREE.Cache.prototype={constructor:THREE.Cache,add:function(t,e){this.files[t]=e},get:function(t){return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}},THREE.Loader=function(t){this.showStatus=t,this.statusDomElement=t?THREE.Loader.prototype.addStatusElement():null,this.imageLoader=new THREE.ImageLoader,this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}},THREE.Loader.prototype={constructor:THREE.Loader,crossOrigin:void 0,addStatusElement:function(){var t=document.createElement("div");return t.style.position="absolute",t.style.right="0px",t.style.top="0px",t.style.fontSize="0.8em",t.style.textAlign="left",t.style.background="rgba(0,0,0,0.25)",t.style.color="#fff",t.style.width="120px",t.style.padding="0.5em 0.5em 0.5em 0.5em",t.style.zIndex=1e3,t.innerHTML="Loading ...",t},updateProgress:function(t){var e="Loaded ";e+=t.total?(100*t.loaded/t.total).toFixed(0)+"%":(t.loaded/1024).toFixed(2)+" KB",this.statusDomElement.innerHTML=e},extractUrlBase:function(t){var e=t.split("/");return 1===e.length?"./":(e.pop(),e.join("/")+"/")},initMaterials:function(t,e){for(var i=[],r=0;r<t.length;++r)i[r]=this.createMaterial(t[r],e);return i},needsTangents:function(t){for(var e=0,i=t.length;i>e;e++){var r=t[e];if(r instanceof THREE.ShaderMaterial)return!0}return!1},createMaterial:function(t,e){function i(t){var e=Math.log(t)/Math.LN2;return Math.pow(2,Math.round(e))}function r(t,r,o,a,s,l,c){var h,u=e+o,d=THREE.Loader.Handlers.get(u);if(null!==d?h=d.load(u):(h=new THREE.Texture,d=n.imageLoader,d.crossOrigin=n.crossOrigin,d.load(u,function(t){if(THREE.Math.isPowerOfTwo(t.width)===!1||THREE.Math.isPowerOfTwo(t.height)===!1){var e=i(t.width),r=i(t.height),o=document.createElement("canvas");o.width=e,o.height=r;var n=o.getContext("2d");n.drawImage(t,0,0,e,r),h.image=o}else h.image=t;h.needsUpdate=!0})),h.sourceFile=o,a&&(h.repeat.set(a[0],a[1]),1!==a[0]&&(h.wrapS=THREE.RepeatWrapping),1!==a[1]&&(h.wrapT=THREE.RepeatWrapping)),s&&h.offset.set(s[0],s[1]),l){var p={repeat:THREE.RepeatWrapping,mirror:THREE.MirroredRepeatWrapping};void 0!==p[l[0]]&&(h.wrapS=p[l[0]]),void 0!==p[l[1]]&&(h.wrapT=p[l[1]])}c&&(h.anisotropy=c),t[r]=h}function o(t){return(255*t[0]<<16)+(255*t[1]<<8)+255*t[2]}var n=this,a="MeshLambertMaterial",s={color:15658734,opacity:1,map:null,lightMap:null,normalMap:null,bumpMap:null,wireframe:!1};if(t.shading){var l=t.shading.toLowerCase();"phong"===l?a="MeshPhongMaterial":"basic"===l&&(a="MeshBasicMaterial")}if(void 0!==t.blending&&void 0!==THREE[t.blending]&&(s.blending=THREE[t.blending]),(void 0!==t.transparent||t.opacity<1)&&(s.transparent=t.transparent),void 0!==t.depthTest&&(s.depthTest=t.depthTest),void 0!==t.depthWrite&&(s.depthWrite=t.depthWrite),void 0!==t.visible&&(s.visible=t.visible),void 0!==t.flipSided&&(s.side=THREE.BackSide),void 0!==t.doubleSided&&(s.side=THREE.DoubleSide),void 0!==t.wireframe&&(s.wireframe=t.wireframe),void 0!==t.vertexColors&&("face"===t.vertexColors?s.vertexColors=THREE.FaceColors:t.vertexColors&&(s.vertexColors=THREE.VertexColors)),t.colorDiffuse?s.color=o(t.colorDiffuse):t.DbgColor&&(s.color=t.DbgColor),t.colorSpecular&&(s.specular=o(t.colorSpecular)),t.colorAmbient&&(s.ambient=o(t.colorAmbient)),t.colorEmissive&&(s.emissive=o(t.colorEmissive)),t.transparency&&(s.opacity=t.transparency),t.specularCoef&&(s.shininess=t.specularCoef),t.mapDiffuse&&e&&r(s,"map",t.mapDiffuse,t.mapDiffuseRepeat,t.mapDiffuseOffset,t.mapDiffuseWrap,t.mapDiffuseAnisotropy),t.mapLight&&e&&r(s,"lightMap",t.mapLight,t.mapLightRepeat,t.mapLightOffset,t.mapLightWrap,t.mapLightAnisotropy),t.mapBump&&e&&r(s,"bumpMap",t.mapBump,t.mapBumpRepeat,t.mapBumpOffset,t.mapBumpWrap,t.mapBumpAnisotropy),t.mapNormal&&e&&r(s,"normalMap",t.mapNormal,t.mapNormalRepeat,t.mapNormalOffset,t.mapNormalWrap,t.mapNormalAnisotropy),t.mapSpecular&&e&&r(s,"specularMap",t.mapSpecular,t.mapSpecularRepeat,t.mapSpecularOffset,t.mapSpecularWrap,t.mapSpecularAnisotropy),t.mapAlpha&&e&&r(s,"alphaMap",t.mapAlpha,t.mapAlphaRepeat,t.mapAlphaOffset,t.mapAlphaWrap,t.mapAlphaAnisotropy),t.mapBumpScale&&(s.bumpScale=t.mapBumpScale),t.mapNormal){var c=THREE.ShaderLib.normalmap,h=THREE.UniformsUtils.clone(c.uniforms);h.tNormal.value=s.normalMap,t.mapNormalFactor&&h.uNormalScale.value.set(t.mapNormalFactor,t.mapNormalFactor),s.map&&(h.tDiffuse.value=s.map,h.enableDiffuse.value=!0),s.specularMap&&(h.tSpecular.value=s.specularMap,h.enableSpecular.value=!0),s.lightMap&&(h.tAO.value=s.lightMap,h.enableAO.value=!0),h.diffuse.value.setHex(s.color),h.specular.value.setHex(s.specular),h.ambient.value.setHex(s.ambient),h.shininess.value=s.shininess,void 0!==s.opacity&&(h.opacity.value=s.opacity);var u={fragmentShader:c.fragmentShader,vertexShader:c.vertexShader,uniforms:h,lights:!0,fog:!0},d=new THREE.ShaderMaterial(u);s.transparent&&(d.transparent=!0)}else var d=new THREE[a](s);return void 0!==t.DbgName&&(d.name=t.DbgName),d}},THREE.Loader.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=0,i=this.handlers.length;i>e;e+=2){var r=this.handlers[e],o=this.handlers[e+1];if(r.test(t))return o}return null}},THREE.XHRLoader=function(t){this.cache=new THREE.Cache,this.manager=void 0!==t?t:THREE.DefaultLoadingManager},THREE.XHRLoader.prototype={constructor:THREE.XHRLoader,load:function(t,e,i,r){var o=this,n=o.cache.get(t);if(void 0!==n)return void(e&&e(n));var a=new XMLHttpRequest;a.open("GET",t,!0),a.addEventListener("load",function(){o.cache.add(t,this.response),e&&e(this.response),o.manager.itemEnd(t)},!1),void 0!==i&&a.addEventListener("progress",function(t){i(t)},!1),void 0!==r&&a.addEventListener("error",function(t){r(t)},!1),void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),void 0!==this.responseType&&(a.responseType=this.responseType),a.send(null),o.manager.itemStart(t)},setResponseType:function(t){this.responseType=t},setCrossOrigin:function(t){this.crossOrigin=t}},THREE.ImageLoader=function(t){this.cache=new THREE.Cache,this.manager=void 0!==t?t:THREE.DefaultLoadingManager},THREE.ImageLoader.prototype={constructor:THREE.ImageLoader,load:function(t,e,i,r){var o=this,n=o.cache.get(t);if(void 0!==n)return void e(n);var a=document.createElement("img");return void 0!==e&&a.addEventListener("load",function(){o.cache.add(t,this),e(this),o.manager.itemEnd(t)},!1),void 0!==i&&a.addEventListener("progress",function(t){i(t)},!1),void 0!==r&&a.addEventListener("error",function(t){r(t)},!1),void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),a.src=t,o.manager.itemStart(t),a},setCrossOrigin:function(t){this.crossOrigin=t}},THREE.JSONLoader=function(t){THREE.Loader.call(this,t),this.withCredentials=!1},THREE.JSONLoader.prototype=Object.create(THREE.Loader.prototype),THREE.JSONLoader.prototype.load=function(t,e,i){i=i&&"string"==typeof i?i:this.extractUrlBase(t),this.onLoadStart(),this.loadAjaxJSON(this,t,e,i)},THREE.JSONLoader.prototype.loadAjaxJSON=function(t,e,i,r,o){var n=new XMLHttpRequest,a=0;n.onreadystatechange=function(){if(n.readyState===n.DONE)if(200===n.status||0===n.status){if(n.responseText){var s=JSON.parse(n.responseText);if(void 0!==s.metadata&&"scene"===s.metadata.type)return void console.error('THREE.JSONLoader: "'+e+'" seems to be a Scene. Use THREE.SceneLoader instead.');var l=t.parse(s,r);i(l.geometry,l.materials)}else console.error('THREE.JSONLoader: "'+e+'" seems to be unreachable or the file is empty.');t.onLoadComplete()}else console.error("THREE.JSONLoader: Couldn't load \""+e+'" ('+n.status+")");else n.readyState===n.LOADING?o&&(0===a&&(a=n.getResponseHeader("Content-Length")),o({total:a,loaded:n.responseText.length})):n.readyState===n.HEADERS_RECEIVED&&void 0!==o&&(a=n.getResponseHeader("Content-Length"))},n.open("GET",e,!0),n.withCredentials=this.withCredentials,n.send(null)},THREE.JSONLoader.prototype.parse=function(t,e){function i(e){function i(t,e){return t&1<<e}var r,o,a,s,l,c,h,u,d,p,f,_,m,g,y,b,v,M,S,T,x,C,E,A,w,R,D,P=t.faces,B=t.vertices,V=t.normals,L=t.colors,k=0;if(void 0!==t.uvs){for(r=0;r<t.uvs.length;r++)t.uvs[r].length&&k++;for(r=0;k>r;r++)n.faceVertexUvs[r]=[]}for(s=0,l=B.length;l>s;)M=new THREE.Vector3,M.x=B[s++]*e,M.y=B[s++]*e,M.z=B[s++]*e,n.vertices.push(M);for(s=0,l=P.length;l>s;)if(p=P[s++],f=i(p,0),_=i(p,1),m=i(p,3),g=i(p,4),y=i(p,5),b=i(p,6),v=i(p,7),f){if(T=new THREE.Face3,T.a=P[s],T.b=P[s+1],T.c=P[s+3],x=new THREE.Face3,x.a=P[s+1],x.b=P[s+2],x.c=P[s+3],s+=4,_&&(d=P[s++],T.materialIndex=d,x.materialIndex=d),a=n.faces.length,m)for(r=0;k>r;r++)for(A=t.uvs[r],n.faceVertexUvs[r][a]=[],n.faceVertexUvs[r][a+1]=[],o=0;4>o;o++)u=P[s++],R=A[2*u],D=A[2*u+1],w=new THREE.Vector2(R,D),2!==o&&n.faceVertexUvs[r][a].push(w),0!==o&&n.faceVertexUvs[r][a+1].push(w);if(g&&(h=3*P[s++],T.normal.set(V[h++],V[h++],V[h]),x.normal.copy(T.normal)),y)for(r=0;4>r;r++)h=3*P[s++],E=new THREE.Vector3(V[h++],V[h++],V[h]),2!==r&&T.vertexNormals.push(E),0!==r&&x.vertexNormals.push(E);if(b&&(c=P[s++],C=L[c],T.color.setHex(C),x.color.setHex(C)),v)for(r=0;4>r;r++)c=P[s++],C=L[c],2!==r&&T.vertexColors.push(new THREE.Color(C)),0!==r&&x.vertexColors.push(new THREE.Color(C));n.faces.push(T),n.faces.push(x)}else{if(S=new THREE.Face3,S.a=P[s++],S.b=P[s++],S.c=P[s++],_&&(d=P[s++],S.materialIndex=d),a=n.faces.length,m)for(r=0;k>r;r++)for(A=t.uvs[r],n.faceVertexUvs[r][a]=[],o=0;3>o;o++)u=P[s++],R=A[2*u],D=A[2*u+1],w=new THREE.Vector2(R,D),n.faceVertexUvs[r][a].push(w);if(g&&(h=3*P[s++],S.normal.set(V[h++],V[h++],V[h])),y)for(r=0;3>r;r++)h=3*P[s++],E=new THREE.Vector3(V[h++],V[h++],V[h]),S.vertexNormals.push(E);if(b&&(c=P[s++],S.color.setHex(L[c])),v)for(r=0;3>r;r++)c=P[s++],S.vertexColors.push(new THREE.Color(L[c]));n.faces.push(S)}}function r(){var e=void 0!==t.influencesPerVertex?t.influencesPerVertex:2;if(t.skinWeights)for(var i=0,r=t.skinWeights.length;r>i;i+=e){var o=t.skinWeights[i],a=e>1?t.skinWeights[i+1]:0,s=e>2?t.skinWeights[i+2]:0,l=e>3?t.skinWeights[i+3]:0;n.skinWeights.push(new THREE.Vector4(o,a,s,l))}if(t.skinIndices)for(var i=0,r=t.skinIndices.length;r>i;i+=e){var c=t.skinIndices[i],h=e>1?t.skinIndices[i+1]:0,u=e>2?t.skinIndices[i+2]:0,d=e>3?t.skinIndices[i+3]:0;n.skinIndices.push(new THREE.Vector4(c,h,u,d))}n.bones=t.bones,n.bones&&n.bones.length>0&&(n.skinWeights.length!==n.skinIndices.length||n.skinIndices.length!==n.vertices.length)&&console.warn("When skinning, number of vertices ("+n.vertices.length+"), skinIndices ("+n.skinIndices.length+"), and skinWeights ("+n.skinWeights.length+") should match."),n.animation=t.animation,n.animations=t.animations}function o(e){if(void 0!==t.morphTargets){var i,r,o,a,s,l;for(i=0,r=t.morphTargets.length;r>i;i++)for(n.morphTargets[i]={},n.morphTargets[i].name=t.morphTargets[i].name,n.morphTargets[i].vertices=[],s=n.morphTargets[i].vertices,l=t.morphTargets[i].vertices,o=0,a=l.length;a>o;o+=3){var c=new THREE.Vector3;c.x=l[o]*e,c.y=l[o+1]*e,c.z=l[o+2]*e,s.push(c)}}if(void 0!==t.morphColors){var i,r,h,u,d,p,f;for(i=0,r=t.morphColors.length;r>i;i++)for(n.morphColors[i]={},n.morphColors[i].name=t.morphColors[i].name,n.morphColors[i].colors=[],d=n.morphColors[i].colors,p=t.morphColors[i].colors,h=0,u=p.length;u>h;h+=3)f=new THREE.Color(16755200),f.setRGB(p[h],p[h+1],p[h+2]),d.push(f)}}var n=new THREE.Geometry,a=void 0!==t.scale?1/t.scale:1;if(i(a),r(),o(a),n.computeFaceNormals(),n.computeBoundingSphere(),void 0===t.materials||0===t.materials.length)return{geometry:n};var s=this.initMaterials(t.materials,e);return this.needsTangents(s)&&n.computeTangents(),{geometry:n,materials:s}},THREE.LoadingManager=function(t,e,i){var r=this,o=0,n=0;this.onLoad=t,this.onProgress=e,this.onError=i,this.itemStart=function(){n++},this.itemEnd=function(t){o++,void 0!==r.onProgress&&r.onProgress(t,o,n),o===n&&void 0!==r.onLoad&&r.onLoad()}},THREE.DefaultLoadingManager=new THREE.LoadingManager,THREE.BufferGeometryLoader=function(t){this.manager=void 0!==t?t:THREE.DefaultLoadingManager},THREE.BufferGeometryLoader.prototype={constructor:THREE.BufferGeometryLoader,load:function(t,e,i,r){var o=this,n=new THREE.XHRLoader;n.setCrossOrigin(this.crossOrigin),n.load(t,function(t){e(o.parse(JSON.parse(t)))},i,r)},setCrossOrigin:function(t){this.crossOrigin=t},parse:function(t){var e=new THREE.BufferGeometry,i=t.attributes;for(var r in i){var o=i[r],n=new self[o.type](o.array);e.addAttribute(r,new THREE.BufferAttribute(n,o.itemSize))}var a=t.offsets;void 0!==a&&(e.offsets=JSON.parse(JSON.stringify(a)));var s=t.boundingSphere;if(void 0!==s){var l=new THREE.Vector3;void 0!==s.center&&l.fromArray(s.center),e.boundingSphere=new THREE.Sphere(l,s.radius)}return e}},THREE.MaterialLoader=function(t){this.manager=void 0!==t?t:THREE.DefaultLoadingManager},THREE.MaterialLoader.prototype={constructor:THREE.MaterialLoader,load:function(t,e,i,r){var o=this,n=new THREE.XHRLoader;n.setCrossOrigin(this.crossOrigin),n.load(t,function(t){e(o.parse(JSON.parse(t)))},i,r)},setCrossOrigin:function(t){this.crossOrigin=t},parse:function(t){var e=new THREE[t.type];if(void 0!==t.color&&e.color.setHex(t.color),void 0!==t.ambient&&e.ambient.setHex(t.ambient),void 0!==t.emissive&&e.emissive.setHex(t.emissive),void 0!==t.specular&&e.specular.setHex(t.specular),void 0!==t.shininess&&(e.shininess=t.shininess),void 0!==t.uniforms&&(e.uniforms=t.uniforms),void 0!==t.vertexShader&&(e.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(e.fragmentShader=t.fragmentShader),void 0!==t.vertexColors&&(e.vertexColors=t.vertexColors),void 0!==t.shading&&(e.shading=t.shading),void 0!==t.blending&&(e.blending=t.blending),void 0!==t.side&&(e.side=t.side),void 0!==t.opacity&&(e.opacity=t.opacity),void 0!==t.transparent&&(e.transparent=t.transparent),void 0!==t.wireframe&&(e.wireframe=t.wireframe),void 0!==t.materials)for(var i=0,r=t.materials.length;r>i;i++)e.materials.push(this.parse(t.materials[i]));return e}},THREE.ObjectLoader=function(t){this.manager=void 0!==t?t:THREE.DefaultLoadingManager},THREE.ObjectLoader.prototype={constructor:THREE.ObjectLoader,load:function(t,e,i,r){var o=this,n=new THREE.XHRLoader(o.manager);n.setCrossOrigin(this.crossOrigin),n.load(t,function(t){e(o.parse(JSON.parse(t)))},i,r)},setCrossOrigin:function(t){this.crossOrigin=t},parse:function(t){var e=this.parseGeometries(t.geometries),i=this.parseMaterials(t.materials),r=this.parseObject(t.object,e,i);return r},parseGeometries:function(t){var e={};if(void 0!==t)for(var i=new THREE.JSONLoader,r=new THREE.BufferGeometryLoader,o=0,n=t.length;n>o;o++){var a,s=t[o];switch(s.type){case"PlaneGeometry":a=new THREE.PlaneGeometry(s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"CubeGeometry":a=new THREE.BoxGeometry(s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":a=new THREE.CircleGeometry(s.radius,s.segments);break;case"CylinderGeometry":a=new THREE.CylinderGeometry(s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded);break;case"SphereGeometry":a=new THREE.SphereGeometry(s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"IcosahedronGeometry":a=new THREE.IcosahedronGeometry(s.radius,s.detail);break;case"TorusGeometry":a=new THREE.TorusGeometry(s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":a=new THREE.TorusKnotGeometry(s.radius,s.tube,s.radialSegments,s.tubularSegments,s.p,s.q,s.heightScale);break;case"BufferGeometry":a=r.parse(s.data);break;case"Geometry":a=i.parse(s.data).geometry}a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),e[s.uuid]=a}return e},parseMaterials:function(t){var e={};if(void 0!==t)for(var i=new THREE.MaterialLoader,r=0,o=t.length;o>r;r++){var n=t[r],a=i.parse(n);a.uuid=n.uuid,void 0!==n.name&&(a.name=n.name),e[n.uuid]=a}return e},parseObject:function(){var t=new THREE.Matrix4;return function(e,i,r){var o;switch(e.type){case"Scene":o=new THREE.Scene;break;case"PerspectiveCamera":o=new THREE.PerspectiveCamera(e.fov,e.aspect,e.near,e.far);break;case"OrthographicCamera":o=new THREE.OrthographicCamera(e.left,e.right,e.top,e.bottom,e.near,e.far);break;case"AmbientLight":o=new THREE.AmbientLight(e.color);break;case"DirectionalLight":o=new THREE.DirectionalLight(e.color,e.intensity);break;case"PointLight":o=new THREE.PointLight(e.color,e.intensity,e.distance);break;case"SpotLight":o=new THREE.SpotLight(e.color,e.intensity,e.distance,e.angle,e.exponent);break;case"HemisphereLight":o=new THREE.HemisphereLight(e.color,e.groundColor,e.intensity);break;case"Mesh":var n=i[e.geometry],a=r[e.material];void 0===n&&console.warn("THREE.ObjectLoader: Undefined geometry",e.geometry),void 0===a&&console.warn("THREE.ObjectLoader: Undefined material",e.material),o=new THREE.Mesh(n,a);break;case"Line":var n=i[e.geometry],a=r[e.material];void 0===n&&console.warn("THREE.ObjectLoader: Undefined geometry",e.geometry),void 0===a&&console.warn("THREE.ObjectLoader: Undefined material",e.material),o=new THREE.Line(n,a);break;case"Sprite":var a=r[e.material];void 0===a&&console.warn("THREE.ObjectLoader: Undefined material",e.material),o=new THREE.Sprite(a);break;case"Group":o=new THREE.Group;break;default:o=new THREE.Object3D}if(o.uuid=e.uuid,void 0!==e.name&&(o.name=e.name),void 0!==e.matrix?(t.fromArray(e.matrix),t.decompose(o.position,o.quaternion,o.scale)):(void 0!==e.position&&o.position.fromArray(e.position),void 0!==e.rotation&&o.rotation.fromArray(e.rotation),void 0!==e.scale&&o.scale.fromArray(e.scale)),void 0!==e.visible&&(o.visible=e.visible),void 0!==e.userData&&(o.userData=e.userData),void 0!==e.children)for(var s in e.children)o.add(this.parseObject(e.children[s],i,r));return o}}()},THREE.TextureLoader=function(t){this.manager=void 0!==t?t:THREE.DefaultLoadingManager},THREE.TextureLoader.prototype={constructor:THREE.TextureLoader,load:function(t,e,i,r){var o=this,n=new THREE.ImageLoader(o.manager);n.setCrossOrigin(this.crossOrigin),n.load(t,function(t){var i=new THREE.Texture(t);i.needsUpdate=!0,void 0!==e&&e(i)},i,r)},setCrossOrigin:function(t){this.crossOrigin=t}},THREE.CompressedTextureLoader=function(){this._parser=null},THREE.CompressedTextureLoader.prototype={constructor:THREE.CompressedTextureLoader,load:function(t,e){var i=this,r=[],o=new THREE.CompressedTexture;o.image=r;var n=new THREE.XHRLoader;if(n.setResponseType("arraybuffer"),t instanceof Array)for(var a=0,s=function(s){n.load(t[s],function(t){var n=i._parser(t,!0);r[s]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},a+=1,6===a&&(1==n.mipmapCount&&(o.minFilter=THREE.LinearFilter),o.format=n.format,o.needsUpdate=!0,e&&e(o))})},l=0,c=t.length;c>l;++l)s(l);else n.load(t,function(t){var n=i._parser(t,!0);if(n.isCubemap)for(var a=n.mipmaps.length/n.mipmapCount,s=0;a>s;s++){r[s]={mipmaps:[]};for(var l=0;l<n.mipmapCount;l++)r[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+l]),r[s].format=n.format,r[s].width=n.width,r[s].height=n.height}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=THREE.LinearFilter),o.format=n.format,o.needsUpdate=!0,e&&e(o)});return o}},THREE.Material=function(){Object.defineProperty(this,"id",{value:THREE.MaterialIdCount++}),this.uuid=THREE.Math.generateUUID(),this.name="",this.type="Material",this.side=THREE.FrontSide,this.opacity=1,this.transparent=!1,this.blending=THREE.NormalBlending,this.blendSrc=THREE.SrcAlphaFactor,this.blendDst=THREE.OneMinusSrcAlphaFactor,this.blendEquation=THREE.AddEquation,this.depthTest=!0,this.depthWrite=!0,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.overdraw=0,this.visible=!0,this.needsUpdate=!0},THREE.Material.prototype={constructor:THREE.Material,setValues:function(t){if(void 0!==t)for(var e in t){var i=t[e];if(void 0!==i){if(e in this){var r=this[e];r instanceof THREE.Color?r.set(i):r instanceof THREE.Vector3&&i instanceof THREE.Vector3?r.copy(i):this[e]="overdraw"==e?Number(i):i}}else console.warn("THREE.Material: '"+e+"' parameter is undefined.")}},toJSON:function(){var t={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type};return""!==this.name&&(t.name=this.name),this instanceof THREE.MeshBasicMaterial?(t.color=this.color.getHex(),this.vertexColors!==THREE.NoColors&&(t.vertexColors=this.vertexColors),this.blending!==THREE.NormalBlending&&(t.blending=this.blending),this.side!==THREE.FrontSide&&(t.side=this.side)):this instanceof THREE.MeshLambertMaterial?(t.color=this.color.getHex(),t.ambient=this.ambient.getHex(),t.emissive=this.emissive.getHex(),this.vertexColors!==THREE.NoColors&&(t.vertexColors=this.vertexColors),this.blending!==THREE.NormalBlending&&(t.blending=this.blending),this.side!==THREE.FrontSide&&(t.side=this.side)):this instanceof THREE.MeshPhongMaterial?(t.color=this.color.getHex(),t.ambient=this.ambient.getHex(),t.emissive=this.emissive.getHex(),t.specular=this.specular.getHex(),t.shininess=this.shininess,this.vertexColors!==THREE.NoColors&&(t.vertexColors=this.vertexColors),this.blending!==THREE.NormalBlending&&(t.blending=this.blending),this.side!==THREE.FrontSide&&(t.side=this.side)):this instanceof THREE.MeshNormalMaterial?(this.shading!==THREE.FlatShading&&(t.shading=this.shading),this.blending!==THREE.NormalBlending&&(t.blending=this.blending),this.side!==THREE.FrontSide&&(t.side=this.side)):this instanceof THREE.MeshDepthMaterial?(this.blending!==THREE.NormalBlending&&(t.blending=this.blending),this.side!==THREE.FrontSide&&(t.side=this.side)):this instanceof THREE.ShaderMaterial?(t.uniforms=this.uniforms,t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader):this instanceof THREE.SpriteMaterial&&(t.color=this.color.getHex()),this.opacity<1&&(t.opacity=this.opacity),this.transparent!==!1&&(t.transparent=this.transparent),this.wireframe!==!1&&(t.wireframe=this.wireframe),t},clone:function(t){return void 0===t&&(t=new THREE.Material),t.name=this.name,t.side=this.side,t.opacity=this.opacity,t.transparent=this.transparent,t.blending=this.blending,t.blendSrc=this.blendSrc,t.blendDst=this.blendDst,t.blendEquation=this.blendEquation,t.depthTest=this.depthTest,t.depthWrite=this.depthWrite,t.polygonOffset=this.polygonOffset,t.polygonOffsetFactor=this.polygonOffsetFactor,t.polygonOffsetUnits=this.polygonOffsetUnits,t.alphaTest=this.alphaTest,t.overdraw=this.overdraw,t.visible=this.visible,t},dispose:function(){this.dispatchEvent({type:"dispose"})}},THREE.EventDispatcher.prototype.apply(THREE.Material.prototype),THREE.MaterialIdCount=0,THREE.LineBasicMaterial=function(t){THREE.Material.call(this),this.type="LineBasicMaterial",this.color=new THREE.Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.vertexColors=THREE.NoColors,this.fog=!0,this.setValues(t)},THREE.LineBasicMaterial.prototype=Object.create(THREE.Material.prototype),THREE.LineBasicMaterial.prototype.clone=function(){var t=new THREE.LineBasicMaterial;return THREE.Material.prototype.clone.call(this,t),t.color.copy(this.color),t.linewidth=this.linewidth,t.linecap=this.linecap,t.linejoin=this.linejoin,t.vertexColors=this.vertexColors,t.fog=this.fog,t},THREE.LineDashedMaterial=function(t){THREE.Material.call(this),this.type="LineDashedMaterial",this.color=new THREE.Color(16777215),this.linewidth=1,this.scale=1,this.dashSize=3,this.gapSize=1,this.vertexColors=!1,this.fog=!0,this.setValues(t)},THREE.LineDashedMaterial.prototype=Object.create(THREE.Material.prototype),THREE.LineDashedMaterial.prototype.clone=function(){var t=new THREE.LineDashedMaterial;return THREE.Material.prototype.clone.call(this,t),t.color.copy(this.color),t.linewidth=this.linewidth,t.scale=this.scale,t.dashSize=this.dashSize,t.gapSize=this.gapSize,t.vertexColors=this.vertexColors,t.fog=this.fog,t},THREE.MeshBasicMaterial=function(t){THREE.Material.call(this),this.type="MeshBasicMaterial",this.color=new THREE.Color(16777215),this.map=null,this.lightMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=THREE.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=THREE.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=THREE.NoColors,this.skinning=!1,this.morphTargets=!1,this.setValues(t)},THREE.MeshBasicMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshBasicMaterial.prototype.clone=function(){var t=new THREE.MeshBasicMaterial;return THREE.Material.prototype.clone.call(this,t),t.color.copy(this.color),t.map=this.map,t.lightMap=this.lightMap,t.specularMap=this.specularMap,t.alphaMap=this.alphaMap,t.envMap=this.envMap,t.combine=this.combine,t.reflectivity=this.reflectivity,t.refractionRatio=this.refractionRatio,t.fog=this.fog,t.shading=this.shading,t.wireframe=this.wireframe,t.wireframeLinewidth=this.wireframeLinewidth,t.wireframeLinecap=this.wireframeLinecap,t.wireframeLinejoin=this.wireframeLinejoin,t.vertexColors=this.vertexColors,t.skinning=this.skinning,t.morphTargets=this.morphTargets,t},THREE.MeshLambertMaterial=function(t){THREE.Material.call(this),this.type="MeshLambertMaterial",this.color=new THREE.Color(16777215),this.ambient=new THREE.Color(16777215),this.emissive=new THREE.Color(0),this.wrapAround=!1,this.wrapRGB=new THREE.Vector3(1,1,1),this.map=null,this.lightMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=THREE.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=THREE.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=THREE.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)},THREE.MeshLambertMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshLambertMaterial.prototype.clone=function(){var t=new THREE.MeshLambertMaterial;return THREE.Material.prototype.clone.call(this,t),t.color.copy(this.color),t.ambient.copy(this.ambient),t.emissive.copy(this.emissive),t.wrapAround=this.wrapAround,t.wrapRGB.copy(this.wrapRGB),t.map=this.map,t.lightMap=this.lightMap,t.specularMap=this.specularMap,t.alphaMap=this.alphaMap,t.envMap=this.envMap,t.combine=this.combine,t.reflectivity=this.reflectivity,t.refractionRatio=this.refractionRatio,t.fog=this.fog,t.shading=this.shading,t.wireframe=this.wireframe,t.wireframeLinewidth=this.wireframeLinewidth,t.wireframeLinecap=this.wireframeLinecap,t.wireframeLinejoin=this.wireframeLinejoin,t.vertexColors=this.vertexColors,t.skinning=this.skinning,t.morphTargets=this.morphTargets,t.morphNormals=this.morphNormals,t},THREE.MeshPhongMaterial=function(t){THREE.Material.call(this),this.type="MeshPhongMaterial",this.color=new THREE.Color(16777215),this.ambient=new THREE.Color(16777215),this.emissive=new THREE.Color(0),this.specular=new THREE.Color(1118481),this.shininess=30,this.metal=!1,this.wrapAround=!1,this.wrapRGB=new THREE.Vector3(1,1,1),this.map=null,this.lightMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new THREE.Vector2(1,1),this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=THREE.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=THREE.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=THREE.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)},THREE.MeshPhongMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshPhongMaterial.prototype.clone=function(){var t=new THREE.MeshPhongMaterial;return THREE.Material.prototype.clone.call(this,t),t.color.copy(this.color),t.ambient.copy(this.ambient),t.emissive.copy(this.emissive),t.specular.copy(this.specular),t.shininess=this.shininess,t.metal=this.metal,t.wrapAround=this.wrapAround,t.wrapRGB.copy(this.wrapRGB),t.map=this.map,t.lightMap=this.lightMap,t.bumpMap=this.bumpMap,t.bumpScale=this.bumpScale,t.normalMap=this.normalMap,t.normalScale.copy(this.normalScale),t.specularMap=this.specularMap,t.alphaMap=this.alphaMap,t.envMap=this.envMap,t.combine=this.combine,t.reflectivity=this.reflectivity,t.refractionRatio=this.refractionRatio,t.fog=this.fog,t.shading=this.shading,t.wireframe=this.wireframe,t.wireframeLinewidth=this.wireframeLinewidth,t.wireframeLinecap=this.wireframeLinecap,t.wireframeLinejoin=this.wireframeLinejoin,t.vertexColors=this.vertexColors,t.skinning=this.skinning,t.morphTargets=this.morphTargets,t.morphNormals=this.morphNormals,t},THREE.MeshDepthMaterial=function(t){THREE.Material.call(this),this.type="MeshDepthMaterial",this.morphTargets=!1,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)},THREE.MeshDepthMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshDepthMaterial.prototype.clone=function(){var t=new THREE.MeshDepthMaterial;return THREE.Material.prototype.clone.call(this,t),t.wireframe=this.wireframe,t.wireframeLinewidth=this.wireframeLinewidth,t},THREE.MeshNormalMaterial=function(t){THREE.Material.call(this,t),this.type="MeshNormalMaterial",this.shading=THREE.FlatShading,this.wireframe=!1,this.wireframeLinewidth=1,this.morphTargets=!1,this.setValues(t)},THREE.MeshNormalMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshNormalMaterial.prototype.clone=function(){var t=new THREE.MeshNormalMaterial;return THREE.Material.prototype.clone.call(this,t),t.shading=this.shading,t.wireframe=this.wireframe,t.wireframeLinewidth=this.wireframeLinewidth,t},THREE.MeshFaceMaterial=function(t){this.uuid=THREE.Math.generateUUID(),this.type="MeshFaceMaterial",this.materials=t instanceof Array?t:[]},THREE.MeshFaceMaterial.prototype={constructor:THREE.MeshFaceMaterial,toJSON:function(){for(var t={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type,materials:[]},e=0,i=this.materials.length;i>e;e++)t.materials.push(this.materials[e].toJSON());return t},clone:function(){for(var t=new THREE.MeshFaceMaterial,e=0;e<this.materials.length;e++)t.materials.push(this.materials[e].clone());return t}},THREE.PointCloudMaterial=function(t){THREE.Material.call(this),this.type="PointCloudMaterial",this.color=new THREE.Color(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.vertexColors=THREE.NoColors,this.fog=!0,this.setValues(t)},THREE.PointCloudMaterial.prototype=Object.create(THREE.Material.prototype),THREE.PointCloudMaterial.prototype.clone=function(){var t=new THREE.PointCloudMaterial;return THREE.Material.prototype.clone.call(this,t),t.color.copy(this.color),t.map=this.map,t.size=this.size,t.sizeAttenuation=this.sizeAttenuation,t.vertexColors=this.vertexColors,t.fog=this.fog,t},THREE.ParticleBasicMaterial=function(t){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointCloudMaterial."),new THREE.PointCloudMaterial(t)},THREE.ParticleSystemMaterial=function(t){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointCloudMaterial."),new THREE.PointCloudMaterial(t)},THREE.ShaderMaterial=function(t){THREE.Material.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.attributes=null,this.vertexShader="void main() {\n	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.shading=THREE.SmoothShading,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.vertexColors=THREE.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.setValues(t)
},THREE.ShaderMaterial.prototype=Object.create(THREE.Material.prototype),THREE.ShaderMaterial.prototype.clone=function(){var t=new THREE.ShaderMaterial;return THREE.Material.prototype.clone.call(this,t),t.fragmentShader=this.fragmentShader,t.vertexShader=this.vertexShader,t.uniforms=THREE.UniformsUtils.clone(this.uniforms),t.attributes=this.attributes,t.defines=this.defines,t.shading=this.shading,t.wireframe=this.wireframe,t.wireframeLinewidth=this.wireframeLinewidth,t.fog=this.fog,t.lights=this.lights,t.vertexColors=this.vertexColors,t.skinning=this.skinning,t.morphTargets=this.morphTargets,t.morphNormals=this.morphNormals,t},THREE.RawShaderMaterial=function(t){THREE.ShaderMaterial.call(this,t),this.type="RawShaderMaterial"},THREE.RawShaderMaterial.prototype=Object.create(THREE.ShaderMaterial.prototype),THREE.RawShaderMaterial.prototype.clone=function(){var t=new THREE.RawShaderMaterial;return THREE.ShaderMaterial.prototype.clone.call(this,t),t},THREE.SpriteMaterial=function(t){THREE.Material.call(this),this.type="SpriteMaterial",this.color=new THREE.Color(16777215),this.map=null,this.rotation=0,this.fog=!1,this.setValues(t)},THREE.SpriteMaterial.prototype=Object.create(THREE.Material.prototype),THREE.SpriteMaterial.prototype.clone=function(){var t=new THREE.SpriteMaterial;return THREE.Material.prototype.clone.call(this,t),t.color.copy(this.color),t.map=this.map,t.rotation=this.rotation,t.fog=this.fog,t},THREE.Texture=function(t,e,i,r,o,n,a,s,l){Object.defineProperty(this,"id",{value:THREE.TextureIdCount++}),this.uuid=THREE.Math.generateUUID(),this.name="",this.image=void 0!==t?t:THREE.Texture.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:THREE.Texture.DEFAULT_MAPPING,this.wrapS=void 0!==i?i:THREE.ClampToEdgeWrapping,this.wrapT=void 0!==r?r:THREE.ClampToEdgeWrapping,this.magFilter=void 0!==o?o:THREE.LinearFilter,this.minFilter=void 0!==n?n:THREE.LinearMipMapLinearFilter,this.anisotropy=void 0!==l?l:1,this.format=void 0!==a?a:THREE.RGBAFormat,this.type=void 0!==s?s:THREE.UnsignedByteType,this.offset=new THREE.Vector2(0,0),this.repeat=new THREE.Vector2(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this._needsUpdate=!1,this.onUpdate=null},THREE.Texture.DEFAULT_IMAGE=void 0,THREE.Texture.DEFAULT_MAPPING=new THREE.UVMapping,THREE.Texture.prototype={constructor:THREE.Texture,get needsUpdate(){return this._needsUpdate},set needsUpdate(t){t===!0&&this.update(),this._needsUpdate=t},clone:function(t){return void 0===t&&(t=new THREE.Texture),t.image=this.image,t.mipmaps=this.mipmaps.slice(0),t.mapping=this.mapping,t.wrapS=this.wrapS,t.wrapT=this.wrapT,t.magFilter=this.magFilter,t.minFilter=this.minFilter,t.anisotropy=this.anisotropy,t.format=this.format,t.type=this.type,t.offset.copy(this.offset),t.repeat.copy(this.repeat),t.generateMipmaps=this.generateMipmaps,t.premultiplyAlpha=this.premultiplyAlpha,t.flipY=this.flipY,t.unpackAlignment=this.unpackAlignment,t},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})}},THREE.EventDispatcher.prototype.apply(THREE.Texture.prototype),THREE.TextureIdCount=0,THREE.CubeTexture=function(t,e,i,r,o,n,a,s,l){THREE.Texture.call(this,t,e,i,r,o,n,a,s,l),this.images=t},THREE.CubeTexture.prototype=Object.create(THREE.Texture.prototype),THREE.CubeTexture.clone=function(t){return void 0===t&&(t=new THREE.CubeTexture),THREE.Texture.prototype.clone.call(this,t),t.images=this.images,t},THREE.CompressedTexture=function(t,e,i,r,o,n,a,s,l,c,h){THREE.Texture.call(this,null,n,a,s,l,c,r,o,h),this.image={width:e,height:i},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1},THREE.CompressedTexture.prototype=Object.create(THREE.Texture.prototype),THREE.CompressedTexture.prototype.clone=function(){var t=new THREE.CompressedTexture;return THREE.Texture.prototype.clone.call(this,t),t},THREE.DataTexture=function(t,e,i,r,o,n,a,s,l,c,h){THREE.Texture.call(this,null,n,a,s,l,c,r,o,h),this.image={data:t,width:e,height:i}},THREE.DataTexture.prototype=Object.create(THREE.Texture.prototype),THREE.DataTexture.prototype.clone=function(){var t=new THREE.DataTexture;return THREE.Texture.prototype.clone.call(this,t),t},THREE.VideoTexture=function(t,e,i,r,o,n,a,s,l){THREE.Texture.call(this,t,e,i,r,o,n,a,s,l),this.generateMipmaps=!1;var c=this,h=function(){requestAnimationFrame(h),t.readyState===t.HAVE_ENOUGH_DATA&&(c.needsUpdate=!0)};h()},THREE.VideoTexture.prototype=Object.create(THREE.Texture.prototype),THREE.Group=function(){THREE.Object3D.call(this),this.type="Group"},THREE.Group.prototype=Object.create(THREE.Object3D.prototype),THREE.PointCloud=function(t,e){THREE.Object3D.call(this),this.type="PointCloud",this.geometry=void 0!==t?t:new THREE.Geometry,this.material=void 0!==e?e:new THREE.PointCloudMaterial({color:16777215*Math.random()}),this.sortParticles=!1},THREE.PointCloud.prototype=Object.create(THREE.Object3D.prototype),THREE.PointCloud.prototype.raycast=function(){var t=new THREE.Matrix4,e=new THREE.Ray;return function(i,r){var o=this,n=o.geometry,a=i.params.PointCloud.threshold;if(t.getInverse(this.matrixWorld),e.copy(i.ray).applyMatrix4(t),null===n.boundingBox||e.isIntersectionBox(n.boundingBox)!==!1){var s=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=new THREE.Vector3,c=function(t,n){var a=e.distanceToPoint(t);if(s>a){var l=e.closestPointToPoint(t);l.applyMatrix4(o.matrixWorld);var c=i.ray.origin.distanceTo(l);r.push({distance:c,distanceToRay:a,point:l.clone(),index:n,face:null,object:o})}};if(n instanceof THREE.BufferGeometry){var h=n.attributes,u=h.position.array;if(void 0!==h.index){var d=h.index.array,p=n.offsets;if(0===p.length){var f={start:0,count:d.length,index:0};p=[f]}for(var _=0,m=p.length;m>_;++_)for(var g=p[_].start,y=p[_].count,b=p[_].index,v=g,M=g+y;M>v;v++){var S=b+d[v];l.fromArray(u,3*S),c(l,S)}}else for(var T=u.length/3,v=0;T>v;v++)l.set(u[3*v],u[3*v+1],u[3*v+2]),c(l,v)}else for(var x=this.geometry.vertices,v=0;v<x.length;v++)c(x[v],v)}}}(),THREE.PointCloud.prototype.clone=function(t){return void 0===t&&(t=new THREE.PointCloud(this.geometry,this.material)),t.sortParticles=this.sortParticles,THREE.Object3D.prototype.clone.call(this,t),t},THREE.ParticleSystem=function(t,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.PointCloud."),new THREE.PointCloud(t,e)},THREE.Line=function(t,e,i){THREE.Object3D.call(this),this.type="Line",this.geometry=void 0!==t?t:new THREE.Geometry,this.material=void 0!==e?e:new THREE.LineBasicMaterial({color:16777215*Math.random()}),this.mode=void 0!==i?i:THREE.LineStrip},THREE.LineStrip=0,THREE.LinePieces=1,THREE.Line.prototype=Object.create(THREE.Object3D.prototype),THREE.Line.prototype.raycast=function(){var t=new THREE.Matrix4,e=new THREE.Ray,i=new THREE.Sphere;return function(r,o){var n=r.linePrecision,a=n*n,s=this.geometry;if(null===s.boundingSphere&&s.computeBoundingSphere(),i.copy(s.boundingSphere),i.applyMatrix4(this.matrixWorld),r.ray.isIntersectionSphere(i)!==!1&&(t.getInverse(this.matrixWorld),e.copy(r.ray).applyMatrix4(t),s instanceof THREE.Geometry))for(var l=s.vertices,c=l.length,h=new THREE.Vector3,u=new THREE.Vector3,d=this.mode===THREE.LineStrip?1:2,p=0;c-1>p;p+=d){var f=e.distanceSqToSegment(l[p],l[p+1],u,h);if(!(f>a)){var _=e.origin.distanceTo(u);_<r.near||_>r.far||o.push({distance:_,point:h.clone().applyMatrix4(this.matrixWorld),face:null,faceIndex:null,object:this})}}}}(),THREE.Line.prototype.clone=function(t){return void 0===t&&(t=new THREE.Line(this.geometry,this.material,this.mode)),THREE.Object3D.prototype.clone.call(this,t),t},THREE.Mesh=function(t,e){THREE.Object3D.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new THREE.Geometry,this.material=void 0!==e?e:new THREE.MeshBasicMaterial({color:16777215*Math.random()}),this.updateMorphTargets()},THREE.Mesh.prototype=Object.create(THREE.Object3D.prototype),THREE.Mesh.prototype.updateMorphTargets=function(){if(void 0!==this.geometry.morphTargets&&this.geometry.morphTargets.length>0){this.morphTargetBase=-1,this.morphTargetForcedOrder=[],this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var t=0,e=this.geometry.morphTargets.length;e>t;t++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[this.geometry.morphTargets[t].name]=t}},THREE.Mesh.prototype.getMorphTargetIndexByName=function(t){return void 0!==this.morphTargetDictionary[t]?this.morphTargetDictionary[t]:(console.log("THREE.Mesh.getMorphTargetIndexByName: morph target "+t+" does not exist. Returning 0."),0)},THREE.Mesh.prototype.raycast=function(){var t=new THREE.Matrix4,e=new THREE.Ray,i=new THREE.Sphere,r=new THREE.Vector3,o=new THREE.Vector3,n=new THREE.Vector3;return function(a,s){var l=this.geometry;if(null===l.boundingSphere&&l.computeBoundingSphere(),i.copy(l.boundingSphere),i.applyMatrix4(this.matrixWorld),a.ray.isIntersectionSphere(i)!==!1&&(t.getInverse(this.matrixWorld),e.copy(a.ray).applyMatrix4(t),null===l.boundingBox||e.isIntersectionBox(l.boundingBox)!==!1))if(l instanceof THREE.BufferGeometry){var c=this.material;if(void 0===c)return;var h,u,d,p=l.attributes,f=a.precision;if(void 0!==p.index){var _=p.index.array,m=p.position.array,g=l.offsets;0===g.length&&(g=[{start:0,count:_.length,index:0}]);for(var y=0,b=g.length;b>y;++y)for(var v=g[y].start,M=g[y].count,S=g[y].index,T=v,x=v+M;x>T;T+=3){if(h=S+_[T],u=S+_[T+1],d=S+_[T+2],r.fromArray(m,3*h),o.fromArray(m,3*u),n.fromArray(m,3*d),c.side===THREE.BackSide)var C=e.intersectTriangle(n,o,r,!0);else var C=e.intersectTriangle(r,o,n,c.side!==THREE.DoubleSide);if(null!==C){C.applyMatrix4(this.matrixWorld);var E=a.ray.origin.distanceTo(C);f>E||E<a.near||E>a.far||s.push({distance:E,point:C,face:new THREE.Face3(h,u,d,THREE.Triangle.normal(r,o,n)),faceIndex:null,object:this})}}}else for(var m=p.position.array,T=0,A=0,x=m.length;x>T;T+=3,A+=9){if(h=T,u=T+1,d=T+2,r.fromArray(m,A),o.fromArray(m,A+3),n.fromArray(m,A+6),c.side===THREE.BackSide)var C=e.intersectTriangle(n,o,r,!0);else var C=e.intersectTriangle(r,o,n,c.side!==THREE.DoubleSide);if(null!==C){C.applyMatrix4(this.matrixWorld);var E=a.ray.origin.distanceTo(C);f>E||E<a.near||E>a.far||s.push({distance:E,point:C,face:new THREE.Face3(h,u,d,THREE.Triangle.normal(r,o,n)),faceIndex:null,object:this})}}}else if(l instanceof THREE.Geometry)for(var h,u,d,w=this.material instanceof THREE.MeshFaceMaterial,R=w===!0?this.material.materials:null,f=a.precision,D=l.vertices,P=0,B=l.faces.length;B>P;P++){var V=l.faces[P],c=w===!0?R[V.materialIndex]:this.material;if(void 0!==c){if(h=D[V.a],u=D[V.b],d=D[V.c],c.morphTargets===!0){var L=l.morphTargets,k=this.morphTargetInfluences;r.set(0,0,0),o.set(0,0,0),n.set(0,0,0);for(var H=0,I=L.length;I>H;H++){var O=k[H];if(0!==O){var J=L[H].vertices;r.x+=(J[V.a].x-h.x)*O,r.y+=(J[V.a].y-h.y)*O,r.z+=(J[V.a].z-h.z)*O,o.x+=(J[V.b].x-u.x)*O,o.y+=(J[V.b].y-u.y)*O,o.z+=(J[V.b].z-u.z)*O,n.x+=(J[V.c].x-d.x)*O,n.y+=(J[V.c].y-d.y)*O,n.z+=(J[V.c].z-d.z)*O}}r.add(h),o.add(u),n.add(d),h=r,u=o,d=n}if(c.side===THREE.BackSide)var C=e.intersectTriangle(d,u,h,!0);else var C=e.intersectTriangle(h,u,d,c.side!==THREE.DoubleSide);if(null!==C){C.applyMatrix4(this.matrixWorld);var E=a.ray.origin.distanceTo(C);f>E||E<a.near||E>a.far||s.push({distance:E,point:C,face:V,faceIndex:P,object:this})}}}}}(),THREE.Mesh.prototype.clone=function(t,e){return void 0===t&&(t=new THREE.Mesh(this.geometry,this.material)),THREE.Object3D.prototype.clone.call(this,t,e),t},THREE.Bone=function(t){THREE.Object3D.call(this),this.skin=t},THREE.Bone.prototype=Object.create(THREE.Object3D.prototype),THREE.Skeleton=function(t,e,i){if(this.useVertexTexture=void 0!==i?i:!0,this.identityMatrix=new THREE.Matrix4,t=t||[],this.bones=t.slice(0),this.useVertexTexture){var r;r=this.bones.length>256?64:this.bones.length>64?32:this.bones.length>16?16:8,this.boneTextureWidth=r,this.boneTextureHeight=r,this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new THREE.DataTexture(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,THREE.RGBAFormat,THREE.FloatType),this.boneTexture.minFilter=THREE.NearestFilter,this.boneTexture.magFilter=THREE.NearestFilter,this.boneTexture.generateMipmaps=!1,this.boneTexture.flipY=!1}else this.boneMatrices=new Float32Array(16*this.bones.length);if(void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn("THREE.Skeleton bonInverses is the wrong length."),this.boneInverses=[];for(var o=0,n=this.bones.length;n>o;o++)this.boneInverses.push(new THREE.Matrix4)}},THREE.Skeleton.prototype.calculateInverses=function(){this.boneInverses=[];for(var t=0,e=this.bones.length;e>t;t++){var i=new THREE.Matrix4;this.bones[t]&&i.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(i)}},THREE.Skeleton.prototype.pose=function(){for(var t,e=0,i=this.bones.length;i>e;e++)t=this.bones[e],t&&t.matrixWorld.getInverse(this.boneInverses[e]);for(var e=0,i=this.bones.length;i>e;e++)t=this.bones[e],t&&(t.parent?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},THREE.Skeleton.prototype.update=function(){var t=new THREE.Matrix4;return function(){for(var e=0,i=this.bones.length;i>e;e++){var r=this.bones[e]?this.bones[e].matrixWorld:this.identityMatrix;t.multiplyMatrices(r,this.boneInverses[e]),t.flattenToArrayOffset(this.boneMatrices,16*e)}this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}}(),THREE.SkinnedMesh=function(t,e,i){THREE.Mesh.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new THREE.Matrix4,this.bindMatrixInverse=new THREE.Matrix4;var r=[];if(this.geometry&&void 0!==this.geometry.bones){for(var o,n,a,s,l,c=0,h=this.geometry.bones.length;h>c;++c)n=this.geometry.bones[c],a=n.pos,s=n.rotq,l=n.scl,o=new THREE.Bone(this),r.push(o),o.name=n.name,o.position.set(a[0],a[1],a[2]),o.quaternion.set(s[0],s[1],s[2],s[3]),void 0!==l?o.scale.set(l[0],l[1],l[2]):o.scale.set(1,1,1);for(var c=0,h=this.geometry.bones.length;h>c;++c)n=this.geometry.bones[c],-1!==n.parent?r[n.parent].add(r[c]):this.add(r[c])}this.normalizeSkinWeights(),this.updateMatrixWorld(!0),this.bind(new THREE.Skeleton(r,void 0,i))},THREE.SkinnedMesh.prototype=Object.create(THREE.Mesh.prototype),THREE.SkinnedMesh.prototype.bind=function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},THREE.SkinnedMesh.prototype.pose=function(){this.skeleton.pose()},THREE.SkinnedMesh.prototype.normalizeSkinWeights=function(){if(this.geometry instanceof THREE.Geometry)for(var t=0;t<this.geometry.skinIndices.length;t++){var e=this.geometry.skinWeights[t],i=1/e.lengthManhattan();1/0!==i?e.multiplyScalar(i):e.set(1)}},THREE.SkinnedMesh.prototype.updateMatrixWorld=function(){THREE.Mesh.prototype.updateMatrixWorld.call(this,!0),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh unreckognized bindMode: "+this.bindMode)},THREE.SkinnedMesh.prototype.clone=function(t){return void 0===t&&(t=new THREE.SkinnedMesh(this.geometry,this.material,this.useVertexTexture)),THREE.Mesh.prototype.clone.call(this,t),t},THREE.MorphAnimMesh=function(t,e){THREE.Mesh.call(this,t,e),this.type="MorphAnimMesh",this.duration=1e3,this.mirroredLoop=!1,this.time=0,this.lastKeyframe=0,this.currentKeyframe=0,this.direction=1,this.directionBackwards=!1,this.setFrameRange(0,this.geometry.morphTargets.length-1)},THREE.MorphAnimMesh.prototype=Object.create(THREE.Mesh.prototype),THREE.MorphAnimMesh.prototype.setFrameRange=function(t,e){this.startKeyframe=t,this.endKeyframe=e,this.length=this.endKeyframe-this.startKeyframe+1},THREE.MorphAnimMesh.prototype.setDirectionForward=function(){this.direction=1,this.directionBackwards=!1},THREE.MorphAnimMesh.prototype.setDirectionBackward=function(){this.direction=-1,this.directionBackwards=!0},THREE.MorphAnimMesh.prototype.parseAnimations=function(){var t=this.geometry;t.animations||(t.animations={});for(var e,i=t.animations,r=/([a-z]+)_?(\d+)/,o=0,n=t.morphTargets.length;n>o;o++){var a=t.morphTargets[o],s=a.name.match(r);if(s&&s.length>1){{var l=s[1];s[2]}i[l]||(i[l]={start:1/0,end:-1/0});var c=i[l];o<c.start&&(c.start=o),o>c.end&&(c.end=o),e||(e=l)}}t.firstAnimation=e},THREE.MorphAnimMesh.prototype.setAnimationLabel=function(t,e,i){this.geometry.animations||(this.geometry.animations={}),this.geometry.animations[t]={start:e,end:i}},THREE.MorphAnimMesh.prototype.playAnimation=function(t,e){var i=this.geometry.animations[t];i?(this.setFrameRange(i.start,i.end),this.duration=1e3*((i.end-i.start)/e),this.time=0):console.warn("animation["+t+"] undefined")},THREE.MorphAnimMesh.prototype.updateAnimation=function(t){var e=this.duration/this.length;this.time+=this.direction*t,this.mirroredLoop?(this.time>this.duration||this.time<0)&&(this.direction*=-1,this.time>this.duration&&(this.time=this.duration,this.directionBackwards=!0),this.time<0&&(this.time=0,this.directionBackwards=!1)):(this.time=this.time%this.duration,this.time<0&&(this.time+=this.duration));var i=this.startKeyframe+THREE.Math.clamp(Math.floor(this.time/e),0,this.length-1);i!==this.currentKeyframe&&(this.morphTargetInfluences[this.lastKeyframe]=0,this.morphTargetInfluences[this.currentKeyframe]=1,this.morphTargetInfluences[i]=0,this.lastKeyframe=this.currentKeyframe,this.currentKeyframe=i);var r=this.time%e/e;this.directionBackwards&&(r=1-r),this.morphTargetInfluences[this.currentKeyframe]=r,this.morphTargetInfluences[this.lastKeyframe]=1-r},THREE.MorphAnimMesh.prototype.interpolateTargets=function(t,e,i){for(var r=this.morphTargetInfluences,o=0,n=r.length;n>o;o++)r[o]=0;t>-1&&(r[t]=1-i),e>-1&&(r[e]=i)},THREE.MorphAnimMesh.prototype.clone=function(t){return void 0===t&&(t=new THREE.MorphAnimMesh(this.geometry,this.material)),t.duration=this.duration,t.mirroredLoop=this.mirroredLoop,t.time=this.time,t.lastKeyframe=this.lastKeyframe,t.currentKeyframe=this.currentKeyframe,t.direction=this.direction,t.directionBackwards=this.directionBackwards,THREE.Mesh.prototype.clone.call(this,t),t},THREE.LOD=function(){THREE.Object3D.call(this),this.objects=[]},THREE.LOD.prototype=Object.create(THREE.Object3D.prototype),THREE.LOD.prototype.addLevel=function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var i=0;i<this.objects.length&&!(e<this.objects[i].distance);i++);this.objects.splice(i,0,{distance:e,object:t}),this.add(t)},THREE.LOD.prototype.getObjectForDistance=function(t){for(var e=1,i=this.objects.length;i>e&&!(t<this.objects[e].distance);e++);return this.objects[e-1].object},THREE.LOD.prototype.raycast=function(){var t=new THREE.Vector3;return function(e,i){t.setFromMatrixPosition(this.matrixWorld);var r=e.ray.origin.distanceTo(t);this.getObjectForDistance(r).raycast(e,i)}}(),THREE.LOD.prototype.update=function(){var t=new THREE.Vector3,e=new THREE.Vector3;return function(i){if(this.objects.length>1){t.setFromMatrixPosition(i.matrixWorld),e.setFromMatrixPosition(this.matrixWorld);var r=t.distanceTo(e);this.objects[0].object.visible=!0;for(var o=1,n=this.objects.length;n>o&&r>=this.objects[o].distance;o++)this.objects[o-1].object.visible=!1,this.objects[o].object.visible=!0;for(;n>o;o++)this.objects[o].object.visible=!1}}}(),THREE.LOD.prototype.clone=function(t){void 0===t&&(t=new THREE.LOD),THREE.Object3D.prototype.clone.call(this,t);for(var e=0,i=this.objects.length;i>e;e++){var r=this.objects[e].object.clone();r.visible=0===e,t.addLevel(r,this.objects[e].distance)}return t},THREE.Sprite=function(){var t=new Uint16Array([0,1,2,0,2,3]),e=new Float32Array([-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0]),i=new Float32Array([0,0,1,0,1,1,0,1]),r=new THREE.BufferGeometry;return r.addAttribute("index",new THREE.BufferAttribute(t,1)),r.addAttribute("position",new THREE.BufferAttribute(e,3)),r.addAttribute("uv",new THREE.BufferAttribute(i,2)),function(t){THREE.Object3D.call(this),this.type="Sprite",this.geometry=r,this.material=void 0!==t?t:new THREE.SpriteMaterial}}(),THREE.Sprite.prototype=Object.create(THREE.Object3D.prototype),THREE.Sprite.prototype.raycast=function(){var t=new THREE.Vector3;return function(e,i){t.setFromMatrixPosition(this.matrixWorld);var r=e.ray.distanceToPoint(t);r>this.scale.x||i.push({distance:r,point:this.position,face:null,object:this})}}(),THREE.Sprite.prototype.clone=function(t){return void 0===t&&(t=new THREE.Sprite(this.material)),THREE.Object3D.prototype.clone.call(this,t),t},THREE.Particle=THREE.Sprite,THREE.LensFlare=function(t,e,i,r,o){THREE.Object3D.call(this),this.lensFlares=[],this.positionScreen=new THREE.Vector3,this.customUpdateCallback=void 0,void 0!==t&&this.add(t,e,i,r,o)},THREE.LensFlare.prototype=Object.create(THREE.Object3D.prototype),THREE.LensFlare.prototype.add=function(t,e,i,r,o,n){void 0===e&&(e=-1),void 0===i&&(i=0),void 0===n&&(n=1),void 0===o&&(o=new THREE.Color(16777215)),void 0===r&&(r=THREE.NormalBlending),i=Math.min(i,Math.max(0,i)),this.lensFlares.push({texture:t,size:e,distance:i,x:0,y:0,z:0,scale:1,rotation:1,opacity:n,color:o,blending:r})},THREE.LensFlare.prototype.updateLensFlares=function(){var t,e,i=this.lensFlares.length,r=2*-this.positionScreen.x,o=2*-this.positionScreen.y;for(t=0;i>t;t++)e=this.lensFlares[t],e.x=this.positionScreen.x+r*e.distance,e.y=this.positionScreen.y+o*e.distance,e.wantedRotation=e.x*Math.PI*.25,e.rotation+=.25*(e.wantedRotation-e.rotation)},THREE.Scene=function(){THREE.Object3D.call(this),this.type="Scene",this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0},THREE.Scene.prototype=Object.create(THREE.Object3D.prototype),THREE.Scene.prototype.clone=function(t){return void 0===t&&(t=new THREE.Scene),THREE.Object3D.prototype.clone.call(this,t),null!==this.fog&&(t.fog=this.fog.clone()),null!==this.overrideMaterial&&(t.overrideMaterial=this.overrideMaterial.clone()),t.autoUpdate=this.autoUpdate,t.matrixAutoUpdate=this.matrixAutoUpdate,t},THREE.Fog=function(t,e,i){this.name="",this.color=new THREE.Color(t),this.near=void 0!==e?e:1,this.far=void 0!==i?i:1e3},THREE.Fog.prototype.clone=function(){return new THREE.Fog(this.color.getHex(),this.near,this.far)},THREE.FogExp2=function(t,e){this.name="",this.color=new THREE.Color(t),this.density=void 0!==e?e:25e-5},THREE.FogExp2.prototype.clone=function(){return new THREE.FogExp2(this.color.getHex(),this.density)},THREE.ShaderChunk={},THREE.ShaderChunk.alphatest_fragment="#ifdef ALPHATEST\n\n	if ( gl_FragColor.a < ALPHATEST ) discard;\n\n#endif\n",THREE.ShaderChunk.lights_lambert_vertex="vLightFront = vec3( 0.0 );\n\n#ifdef DOUBLE_SIDED\n\n	vLightBack = vec3( 0.0 );\n\n#endif\n\ntransformedNormal = normalize( transformedNormal );\n\n#if MAX_DIR_LIGHTS > 0\n\nfor( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\n\n	vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );\n	vec3 dirVector = normalize( lDirection.xyz );\n\n	float dotProduct = dot( transformedNormal, dirVector );\n	vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n\n	#ifdef DOUBLE_SIDED\n\n		vec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n\n		#ifdef WRAP_AROUND\n\n			vec3 directionalLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n\n		#endif\n\n	#endif\n\n	#ifdef WRAP_AROUND\n\n		vec3 directionalLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\n		directionalLightWeighting = mix( directionalLightWeighting, directionalLightWeightingHalf, wrapRGB );\n\n		#ifdef DOUBLE_SIDED\n\n			directionalLightWeightingBack = mix( directionalLightWeightingBack, directionalLightWeightingHalfBack, wrapRGB );\n\n		#endif\n\n	#endif\n\n	vLightFront += directionalLightColor[ i ] * directionalLightWeighting;\n\n	#ifdef DOUBLE_SIDED\n\n		vLightBack += directionalLightColor[ i ] * directionalLightWeightingBack;\n\n	#endif\n\n}\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n	for( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\n\n		vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\n		vec3 lVector = lPosition.xyz - mvPosition.xyz;\n\n		float lDistance = 1.0;\n		if ( pointLightDistance[ i ] > 0.0 )\n			lDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );\n\n		lVector = normalize( lVector );\n		float dotProduct = dot( transformedNormal, lVector );\n\n		vec3 pointLightWeighting = vec3( max( dotProduct, 0.0 ) );\n\n		#ifdef DOUBLE_SIDED\n\n			vec3 pointLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n\n			#ifdef WRAP_AROUND\n\n				vec3 pointLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n\n			#endif\n\n		#endif\n\n		#ifdef WRAP_AROUND\n\n			vec3 pointLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\n			pointLightWeighting = mix( pointLightWeighting, pointLightWeightingHalf, wrapRGB );\n\n			#ifdef DOUBLE_SIDED\n\n				pointLightWeightingBack = mix( pointLightWeightingBack, pointLightWeightingHalfBack, wrapRGB );\n\n			#endif\n\n		#endif\n\n		vLightFront += pointLightColor[ i ] * pointLightWeighting * lDistance;\n\n		#ifdef DOUBLE_SIDED\n\n			vLightBack += pointLightColor[ i ] * pointLightWeightingBack * lDistance;\n\n		#endif\n\n	}\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n	for( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\n\n		vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );\n		vec3 lVector = lPosition.xyz - mvPosition.xyz;\n\n		float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - worldPosition.xyz ) );\n\n		if ( spotEffect > spotLightAngleCos[ i ] ) {\n\n			spotEffect = max( pow( max( spotEffect, 0.0 ), spotLightExponent[ i ] ), 0.0 );\n\n			float lDistance = 1.0;\n			if ( spotLightDistance[ i ] > 0.0 )\n				lDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );\n\n			lVector = normalize( lVector );\n\n			float dotProduct = dot( transformedNormal, lVector );\n			vec3 spotLightWeighting = vec3( max( dotProduct, 0.0 ) );\n\n			#ifdef DOUBLE_SIDED\n\n				vec3 spotLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n\n				#ifdef WRAP_AROUND\n\n					vec3 spotLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n\n				#endif\n\n			#endif\n\n			#ifdef WRAP_AROUND\n\n				vec3 spotLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\n				spotLightWeighting = mix( spotLightWeighting, spotLightWeightingHalf, wrapRGB );\n\n				#ifdef DOUBLE_SIDED\n\n					spotLightWeightingBack = mix( spotLightWeightingBack, spotLightWeightingHalfBack, wrapRGB );\n\n				#endif\n\n			#endif\n\n			vLightFront += spotLightColor[ i ] * spotLightWeighting * lDistance * spotEffect;\n\n			#ifdef DOUBLE_SIDED\n\n				vLightBack += spotLightColor[ i ] * spotLightWeightingBack * lDistance * spotEffect;\n\n			#endif\n\n		}\n\n	}\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n	for( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\n\n		vec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );\n		vec3 lVector = normalize( lDirection.xyz );\n\n		float dotProduct = dot( transformedNormal, lVector );\n\n		float hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\n		float hemiDiffuseWeightBack = -0.5 * dotProduct + 0.5;\n\n		vLightFront += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\n\n		#ifdef DOUBLE_SIDED\n\n			vLightBack += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeightBack );\n\n		#endif\n\n	}\n\n#endif\n\nvLightFront = vLightFront * diffuse + ambient * ambientLightColor + emissive;\n\n#ifdef DOUBLE_SIDED\n\n	vLightBack = vLightBack * diffuse + ambient * ambientLightColor + emissive;\n\n#endif",THREE.ShaderChunk.map_particle_pars_fragment="#ifdef USE_MAP\n\n	uniform sampler2D map;\n\n#endif",THREE.ShaderChunk.default_vertex="vec4 mvPosition;\n\n#ifdef USE_SKINNING\n\n	mvPosition = modelViewMatrix * skinned;\n\n#endif\n\n#if !defined( USE_SKINNING ) && defined( USE_MORPHTARGETS )\n\n	mvPosition = modelViewMatrix * vec4( morphed, 1.0 );\n\n#endif\n\n#if !defined( USE_SKINNING ) && ! defined( USE_MORPHTARGETS )\n\n	mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\n#endif\n\ngl_Position = projectionMatrix * mvPosition;",THREE.ShaderChunk.map_pars_fragment="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP )\n\n	varying vec2 vUv;\n\n#endif\n\n#ifdef USE_MAP\n\n	uniform sampler2D map;\n\n#endif",THREE.ShaderChunk.skinnormal_vertex="#ifdef USE_SKINNING\n\n	mat4 skinMatrix = mat4( 0.0 );\n	skinMatrix += skinWeight.x * boneMatX;\n	skinMatrix += skinWeight.y * boneMatY;\n	skinMatrix += skinWeight.z * boneMatZ;\n	skinMatrix += skinWeight.w * boneMatW;\n	skinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\n	#ifdef USE_MORPHNORMALS\n\n	vec4 skinnedNormal = skinMatrix * vec4( morphedNormal, 0.0 );\n\n	#else\n\n	vec4 skinnedNormal = skinMatrix * vec4( normal, 0.0 );\n\n	#endif\n\n#endif\n",THREE.ShaderChunk.logdepthbuf_pars_vertex="#ifdef USE_LOGDEPTHBUF\n\n	#ifdef USE_LOGDEPTHBUF_EXT\n\n		varying float vFragDepth;\n\n	#endif\n\n	uniform float logDepthBufFC;\n\n#endif",THREE.ShaderChunk.lightmap_pars_vertex="#ifdef USE_LIGHTMAP\n\n	varying vec2 vUv2;\n\n#endif",THREE.ShaderChunk.lights_phong_fragment="vec3 normal = normalize( vNormal );\nvec3 viewPosition = normalize( vViewPosition );\n\n#ifdef DOUBLE_SIDED\n\n	normal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n\n#endif\n\n#ifdef USE_NORMALMAP\n\n	normal = perturbNormal2Arb( -vViewPosition, normal );\n\n#elif defined( USE_BUMPMAP )\n\n	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n	vec3 pointDiffuse = vec3( 0.0 );\n	vec3 pointSpecular = vec3( 0.0 );\n\n	for ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\n\n		vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\n		vec3 lVector = lPosition.xyz + vViewPosition.xyz;\n\n		float lDistance = 1.0;\n		if ( pointLightDistance[ i ] > 0.0 )\n			lDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );\n\n		lVector = normalize( lVector );\n\n				// diffuse\n\n		float dotProduct = dot( normal, lVector );\n\n		#ifdef WRAP_AROUND\n\n			float pointDiffuseWeightFull = max( dotProduct, 0.0 );\n			float pointDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\n\n			vec3 pointDiffuseWeight = mix( vec3( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );\n\n		#else\n\n			float pointDiffuseWeight = max( dotProduct, 0.0 );\n\n		#endif\n\n		pointDiffuse += diffuse * pointLightColor[ i ] * pointDiffuseWeight * lDistance;\n\n				// specular\n\n		vec3 pointHalfVector = normalize( lVector + viewPosition );\n		float pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );\n		float pointSpecularWeight = specularStrength * max( pow( pointDotNormalHalf, shininess ), 0.0 );\n\n		float specularNormalization = ( shininess + 2.0 ) / 8.0;\n\n		vec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, pointHalfVector ), 0.0 ), 5.0 );\n		pointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * lDistance * specularNormalization;\n\n	}\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n	vec3 spotDiffuse = vec3( 0.0 );\n	vec3 spotSpecular = vec3( 0.0 );\n\n	for ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\n\n		vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );\n		vec3 lVector = lPosition.xyz + vViewPosition.xyz;\n\n		float lDistance = 1.0;\n		if ( spotLightDistance[ i ] > 0.0 )\n			lDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );\n\n		lVector = normalize( lVector );\n\n		float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );\n\n		if ( spotEffect > spotLightAngleCos[ i ] ) {\n\n			spotEffect = max( pow( max( spotEffect, 0.0 ), spotLightExponent[ i ] ), 0.0 );\n\n					// diffuse\n\n			float dotProduct = dot( normal, lVector );\n\n			#ifdef WRAP_AROUND\n\n				float spotDiffuseWeightFull = max( dotProduct, 0.0 );\n				float spotDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\n\n				vec3 spotDiffuseWeight = mix( vec3( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );\n\n			#else\n\n				float spotDiffuseWeight = max( dotProduct, 0.0 );\n\n			#endif\n\n			spotDiffuse += diffuse * spotLightColor[ i ] * spotDiffuseWeight * lDistance * spotEffect;\n\n					// specular\n\n			vec3 spotHalfVector = normalize( lVector + viewPosition );\n			float spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );\n			float spotSpecularWeight = specularStrength * max( pow( spotDotNormalHalf, shininess ), 0.0 );\n\n			float specularNormalization = ( shininess + 2.0 ) / 8.0;\n\n			vec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, spotHalfVector ), 0.0 ), 5.0 );\n			spotSpecular += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * lDistance * specularNormalization * spotEffect;\n\n		}\n\n	}\n\n#endif\n\n#if MAX_DIR_LIGHTS > 0\n\n	vec3 dirDiffuse = vec3( 0.0 );\n	vec3 dirSpecular = vec3( 0.0 );\n\n	for( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\n\n		vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );\n		vec3 dirVector = normalize( lDirection.xyz );\n\n				// diffuse\n\n		float dotProduct = dot( normal, dirVector );\n\n		#ifdef WRAP_AROUND\n\n			float dirDiffuseWeightFull = max( dotProduct, 0.0 );\n			float dirDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\n\n			vec3 dirDiffuseWeight = mix( vec3( dirDiffuseWeightFull ), vec3( dirDiffuseWeightHalf ), wrapRGB );\n\n		#else\n\n			float dirDiffuseWeight = max( dotProduct, 0.0 );\n\n		#endif\n\n		dirDiffuse += diffuse * directionalLightColor[ i ] * dirDiffuseWeight;\n\n		// specular\n\n		vec3 dirHalfVector = normalize( dirVector + viewPosition );\n		float dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );\n		float dirSpecularWeight = specularStrength * max( pow( dirDotNormalHalf, shininess ), 0.0 );\n\n		/*\n		// fresnel term from skin shader\n		const float F0 = 0.128;\n\n		float base = 1.0 - dot( viewPosition, dirHalfVector );\n		float exponential = pow( base, 5.0 );\n\n		float fresnel = exponential + F0 * ( 1.0 - exponential );\n		*/\n\n		/*\n		// fresnel term from fresnel shader\n		const float mFresnelBias = 0.08;\n		const float mFresnelScale = 0.3;\n		const float mFresnelPower = 5.0;\n\n		float fresnel = mFresnelBias + mFresnelScale * pow( 1.0 + dot( normalize( -viewPosition ), normal ), mFresnelPower );\n		*/\n\n		float specularNormalization = ( shininess + 2.0 ) / 8.0;\n\n		// 		dirSpecular += specular * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization * fresnel;\n\n		vec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( dirVector, dirHalfVector ), 0.0 ), 5.0 );\n		dirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;\n\n\n	}\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n	vec3 hemiDiffuse = vec3( 0.0 );\n	vec3 hemiSpecular = vec3( 0.0 );\n\n	for( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\n\n		vec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );\n		vec3 lVector = normalize( lDirection.xyz );\n\n		// diffuse\n\n		float dotProduct = dot( normal, lVector );\n		float hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\n\n		vec3 hemiColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\n\n		hemiDiffuse += diffuse * hemiColor;\n\n		// specular (sky light)\n\n		vec3 hemiHalfVectorSky = normalize( lVector + viewPosition );\n		float hemiDotNormalHalfSky = 0.5 * dot( normal, hemiHalfVectorSky ) + 0.5;\n		float hemiSpecularWeightSky = specularStrength * max( pow( max( hemiDotNormalHalfSky, 0.0 ), shininess ), 0.0 );\n\n		// specular (ground light)\n\n		vec3 lVectorGround = -lVector;\n\n		vec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition );\n		float hemiDotNormalHalfGround = 0.5 * dot( normal, hemiHalfVectorGround ) + 0.5;\n		float hemiSpecularWeightGround = specularStrength * max( pow( max( hemiDotNormalHalfGround, 0.0 ), shininess ), 0.0 );\n\n		float dotProductGround = dot( normal, lVectorGround );\n\n		float specularNormalization = ( shininess + 2.0 ) / 8.0;\n\n		vec3 schlickSky = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, hemiHalfVectorSky ), 0.0 ), 5.0 );\n		vec3 schlickGround = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 0.0 ), 5.0 );\n		hemiSpecular += hemiColor * specularNormalization * ( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) );\n\n	}\n\n#endif\n\nvec3 totalDiffuse = vec3( 0.0 );\nvec3 totalSpecular = vec3( 0.0 );\n\n#if MAX_DIR_LIGHTS > 0\n\n	totalDiffuse += dirDiffuse;\n	totalSpecular += dirSpecular;\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n	totalDiffuse += hemiDiffuse;\n	totalSpecular += hemiSpecular;\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n	totalDiffuse += pointDiffuse;\n	totalSpecular += pointSpecular;\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n	totalDiffuse += spotDiffuse;\n	totalSpecular += spotSpecular;\n\n#endif\n\n#ifdef METAL\n\n	gl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient + totalSpecular );\n\n#else\n\n	gl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient ) + totalSpecular;\n\n#endif",THREE.ShaderChunk.fog_pars_fragment="#ifdef USE_FOG\n\n	uniform vec3 fogColor;\n\n	#ifdef FOG_EXP2\n\n		uniform float fogDensity;\n\n	#else\n\n		uniform float fogNear;\n		uniform float fogFar;\n	#endif\n\n#endif",THREE.ShaderChunk.morphnormal_vertex="#ifdef USE_MORPHNORMALS\n\n	vec3 morphedNormal = vec3( 0.0 );\n\n	morphedNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n	morphedNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n	morphedNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n	morphedNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n\n	morphedNormal += normal;\n\n#endif",THREE.ShaderChunk.envmap_pars_fragment="#ifdef USE_ENVMAP\n\n	uniform float reflectivity;\n	uniform samplerCube envMap;\n	uniform float flipEnvMap;\n	uniform int combine;\n\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\n		uniform bool useRefract;\n		uniform float refractionRatio;\n\n	#else\n\n		varying vec3 vReflect;\n\n	#endif\n\n#endif",THREE.ShaderChunk.logdepthbuf_fragment="#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\n	gl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n\n#endif",THREE.ShaderChunk.normalmap_pars_fragment="#ifdef USE_NORMALMAP\n\n	uniform sampler2D normalMap;\n	uniform vec2 normalScale;\n\n			// Per-Pixel Tangent Space Normal Mapping\n			// http://hacksoflife.blogspot.ch/2009/11/per-pixel-tangent-space-normal-mapping.html\n\n	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\n		vec3 q0 = dFdx( eye_pos.xyz );\n		vec3 q1 = dFdy( eye_pos.xyz );\n		vec2 st0 = dFdx( vUv.st );\n		vec2 st1 = dFdy( vUv.st );\n\n		vec3 S = normalize( q0 * st1.t - q1 * st0.t );\n		vec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n		vec3 N = normalize( surf_norm );\n\n		vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n		mapN.xy = normalScale * mapN.xy;\n		mat3 tsn = mat3( S, T, N );\n		return normalize( tsn * mapN );\n\n	}\n\n#endif\n",THREE.ShaderChunk.lights_phong_pars_vertex="#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )\n\n	varying vec3 vWorldPosition;\n\n#endif\n",THREE.ShaderChunk.lightmap_pars_fragment="#ifdef USE_LIGHTMAP\n\n	varying vec2 vUv2;\n	uniform sampler2D lightMap;\n\n#endif",THREE.ShaderChunk.shadowmap_vertex="#ifdef USE_SHADOWMAP\n\n	for( int i = 0; i < MAX_SHADOWS; i ++ ) {\n\n		vShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;\n\n	}\n\n#endif",THREE.ShaderChunk.lights_phong_vertex="#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )\n\n	vWorldPosition = worldPosition.xyz;\n\n#endif",THREE.ShaderChunk.map_fragment="#ifdef USE_MAP\n\n	vec4 texelColor = texture2D( map, vUv );\n\n	#ifdef GAMMA_INPUT\n\n		texelColor.xyz *= texelColor.xyz;\n\n	#endif\n\n	gl_FragColor = gl_FragColor * texelColor;\n\n#endif",THREE.ShaderChunk.lightmap_vertex="#ifdef USE_LIGHTMAP\n\n	vUv2 = uv2;\n\n#endif",THREE.ShaderChunk.map_particle_fragment="#ifdef USE_MAP\n\n	gl_FragColor = gl_FragColor * texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) );\n\n#endif",THREE.ShaderChunk.color_pars_fragment="#ifdef USE_COLOR\n\n	varying vec3 vColor;\n\n#endif\n",THREE.ShaderChunk.color_vertex="#ifdef USE_COLOR\n\n	#ifdef GAMMA_INPUT\n\n		vColor = color * color;\n\n	#else\n\n		vColor = color;\n\n	#endif\n\n#endif",THREE.ShaderChunk.skinning_vertex="#ifdef USE_SKINNING\n\n	#ifdef USE_MORPHTARGETS\n\n	vec4 skinVertex = bindMatrix * vec4( morphed, 1.0 );\n\n	#else\n\n	vec4 skinVertex = bindMatrix * vec4( position, 1.0 );\n\n	#endif\n\n	vec4 skinned = vec4( 0.0 );\n	skinned += boneMatX * skinVertex * skinWeight.x;\n	skinned += boneMatY * skinVertex * skinWeight.y;\n	skinned += boneMatZ * skinVertex * skinWeight.z;\n	skinned += boneMatW * skinVertex * skinWeight.w;\n	skinned  = bindMatrixInverse * skinned;\n\n#endif\n",THREE.ShaderChunk.envmap_pars_vertex="#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP ) && ! defined( PHONG )\n\n	varying vec3 vReflect;\n\n	uniform float refractionRatio;\n	uniform bool useRefract;\n\n#endif\n",THREE.ShaderChunk.linear_to_gamma_fragment="#ifdef GAMMA_OUTPUT\n\n	gl_FragColor.xyz = sqrt( gl_FragColor.xyz );\n\n#endif",THREE.ShaderChunk.color_pars_vertex="#ifdef USE_COLOR\n\n	varying vec3 vColor;\n\n#endif",THREE.ShaderChunk.lights_lambert_pars_vertex="uniform vec3 ambient;\nuniform vec3 diffuse;\nuniform vec3 emissive;\n\nuniform vec3 ambientLightColor;\n\n#if MAX_DIR_LIGHTS > 0\n\n	uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\n	uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n	uniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\n	uniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\n	uniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n	uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\n	uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\n	uniform float pointLightDistance[ MAX_POINT_LIGHTS ];\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n	uniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\n	uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\n	uniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\n	uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\n	uniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\n	uniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\n\n#endif\n\n#ifdef WRAP_AROUND\n\n	uniform vec3 wrapRGB;\n\n#endif\n",THREE.ShaderChunk.map_pars_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP )\n\n	varying vec2 vUv;\n	uniform vec4 offsetRepeat;\n\n#endif\n",THREE.ShaderChunk.envmap_fragment="#ifdef USE_ENVMAP\n\n	vec3 reflectVec;\n\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\n		vec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\n		// http://en.wikibooks.org/wiki/GLSL_Programming/Applying_Matrix_Transformations\n		// Transforming Normal Vectors with the Inverse Transformation\n\n		vec3 worldNormal = normalize( vec3( vec4( normal, 0.0 ) * viewMatrix ) );\n\n		if ( useRefract ) {\n\n			reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\n		} else { \n\n			reflectVec = reflect( cameraToVertex, worldNormal );\n\n		}\n\n	#else\n\n		reflectVec = vReflect;\n\n	#endif\n\n	#ifdef DOUBLE_SIDED\n\n		float flipNormal = ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n		vec4 cubeColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\n	#else\n\n		vec4 cubeColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\n	#endif\n\n	#ifdef GAMMA_INPUT\n\n		cubeColor.xyz *= cubeColor.xyz;\n\n	#endif\n\n	if ( combine == 1 ) {\n\n		gl_FragColor.xyz = mix( gl_FragColor.xyz, cubeColor.xyz, specularStrength * reflectivity );\n\n	} else if ( combine == 2 ) {\n\n		gl_FragColor.xyz += cubeColor.xyz * specularStrength * reflectivity;\n\n	} else {\n\n		gl_FragColor.xyz = mix( gl_FragColor.xyz, gl_FragColor.xyz * cubeColor.xyz, specularStrength * reflectivity );\n\n	}\n\n#endif",THREE.ShaderChunk.specularmap_pars_fragment="#ifdef USE_SPECULARMAP\n\n	uniform sampler2D specularMap;\n\n#endif",THREE.ShaderChunk.logdepthbuf_vertex="#ifdef USE_LOGDEPTHBUF\n\n	gl_Position.z = log2(max(1e-6, gl_Position.w + 1.0)) * logDepthBufFC;\n\n	#ifdef USE_LOGDEPTHBUF_EXT\n\n		vFragDepth = 1.0 + gl_Position.w;\n\n#else\n\n		gl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\n	#endif\n\n#endif",THREE.ShaderChunk.morphtarget_pars_vertex="#ifdef USE_MORPHTARGETS\n\n	#ifndef USE_MORPHNORMALS\n\n	uniform float morphTargetInfluences[ 8 ];\n\n	#else\n\n	uniform float morphTargetInfluences[ 4 ];\n\n	#endif\n\n#endif",THREE.ShaderChunk.specularmap_fragment="float specularStrength;\n\n#ifdef USE_SPECULARMAP\n\n	vec4 texelSpecular = texture2D( specularMap, vUv );\n	specularStrength = texelSpecular.r;\n\n#else\n\n	specularStrength = 1.0;\n\n#endif",THREE.ShaderChunk.fog_fragment="#ifdef USE_FOG\n\n	#ifdef USE_LOGDEPTHBUF_EXT\n\n		float depth = gl_FragDepthEXT / gl_FragCoord.w;\n\n	#else\n\n		float depth = gl_FragCoord.z / gl_FragCoord.w;\n\n	#endif\n\n	#ifdef FOG_EXP2\n\n		const float LOG2 = 1.442695;\n		float fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\n		fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );\n\n	#else\n\n		float fogFactor = smoothstep( fogNear, fogFar, depth );\n\n	#endif\n	\n	gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n\n#endif",THREE.ShaderChunk.bumpmap_pars_fragment="#ifdef USE_BUMPMAP\n\n	uniform sampler2D bumpMap;\n	uniform float bumpScale;\n\n			// Derivative maps - bump mapping unparametrized surfaces by Morten Mikkelsen\n			//	http://mmikkelsen3d.blogspot.sk/2011/07/derivative-maps.html\n\n			// Evaluate the derivative of the height w.r.t. screen-space using forward differencing (listing 2)\n\n	vec2 dHdxy_fwd() {\n\n		vec2 dSTdx = dFdx( vUv );\n		vec2 dSTdy = dFdy( vUv );\n\n		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\n		return vec2( dBx, dBy );\n\n	}\n\n	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\n		vec3 vSigmaX = dFdx( surf_pos );\n		vec3 vSigmaY = dFdy( surf_pos );\n		vec3 vN = surf_norm;		// normalized\n\n		vec3 R1 = cross( vSigmaY, vN );\n		vec3 R2 = cross( vN, vSigmaX );\n\n		float fDet = dot( vSigmaX, R1 );\n\n		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n		return normalize( abs( fDet ) * surf_norm - vGrad );\n\n	}\n\n#endif",THREE.ShaderChunk.defaultnormal_vertex="vec3 objectNormal;\n\n#ifdef USE_SKINNING\n\n	objectNormal = skinnedNormal.xyz;\n\n#endif\n\n#if !defined( USE_SKINNING ) && defined( USE_MORPHNORMALS )\n\n	objectNormal = morphedNormal;\n\n#endif\n\n#if !defined( USE_SKINNING ) && ! defined( USE_MORPHNORMALS )\n\n	objectNormal = normal;\n\n#endif\n\n#ifdef FLIP_SIDED\n\n	objectNormal = -objectNormal;\n\n#endif\n\nvec3 transformedNormal = normalMatrix * objectNormal;",THREE.ShaderChunk.lights_phong_pars_fragment="uniform vec3 ambientLightColor;\n\n#if MAX_DIR_LIGHTS > 0\n\n	uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\n	uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n	uniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\n	uniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\n	uniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n	uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\n\n	uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\n	uniform float pointLightDistance[ MAX_POINT_LIGHTS ];\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n	uniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\n	uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\n	uniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\n	uniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\n	uniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\n\n	uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )\n\n	varying vec3 vWorldPosition;\n\n#endif\n\n#ifdef WRAP_AROUND\n\n	uniform vec3 wrapRGB;\n\n#endif\n\nvarying vec3 vViewPosition;\nvarying vec3 vNormal;",THREE.ShaderChunk.skinbase_vertex="#ifdef USE_SKINNING\n\n	mat4 boneMatX = getBoneMatrix( skinIndex.x );\n	mat4 boneMatY = getBoneMatrix( skinIndex.y );\n	mat4 boneMatZ = getBoneMatrix( skinIndex.z );\n	mat4 boneMatW = getBoneMatrix( skinIndex.w );\n\n#endif",THREE.ShaderChunk.map_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP )\n\n	vUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n\n#endif",THREE.ShaderChunk.lightmap_fragment="#ifdef USE_LIGHTMAP\n\n	gl_FragColor = gl_FragColor * texture2D( lightMap, vUv2 );\n\n#endif",THREE.ShaderChunk.shadowmap_pars_vertex="#ifdef USE_SHADOWMAP\n\n	varying vec4 vShadowCoord[ MAX_SHADOWS ];\n	uniform mat4 shadowMatrix[ MAX_SHADOWS ];\n\n#endif",THREE.ShaderChunk.color_fragment="#ifdef USE_COLOR\n\n	gl_FragColor = gl_FragColor * vec4( vColor, 1.0 );\n\n#endif",THREE.ShaderChunk.morphtarget_vertex="#ifdef USE_MORPHTARGETS\n\n	vec3 morphed = vec3( 0.0 );\n	morphed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n	morphed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n	morphed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n	morphed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\n	#ifndef USE_MORPHNORMALS\n\n	morphed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n	morphed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n	morphed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n	morphed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\n	#endif\n\n	morphed += position;\n\n#endif",THREE.ShaderChunk.envmap_vertex="#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP ) && ! defined( PHONG )\n\n	vec3 worldNormal = mat3( modelMatrix[ 0 ].xyz, modelMatrix[ 1 ].xyz, modelMatrix[ 2 ].xyz ) * objectNormal;\n	worldNormal = normalize( worldNormal );\n\n	vec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\n	if ( useRefract ) {\n\n		vReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\n	} else {\n\n		vReflect = reflect( cameraToVertex, worldNormal );\n\n	}\n\n#endif",THREE.ShaderChunk.shadowmap_fragment="#ifdef USE_SHADOWMAP\n\n	#ifdef SHADOWMAP_DEBUG\n\n		vec3 frustumColors[3];\n		frustumColors[0] = vec3( 1.0, 0.5, 0.0 );\n		frustumColors[1] = vec3( 0.0, 1.0, 0.8 );\n		frustumColors[2] = vec3( 0.0, 0.5, 1.0 );\n\n	#endif\n\n	#ifdef SHADOWMAP_CASCADE\n\n		int inFrustumCount = 0;\n\n	#endif\n\n	float fDepth;\n	vec3 shadowColor = vec3( 1.0 );\n\n	for( int i = 0; i < MAX_SHADOWS; i ++ ) {\n\n		vec3 shadowCoord = vShadowCoord[ i ].xyz / vShadowCoord[ i ].w;\n\n				// if ( something && something ) breaks ATI OpenGL shader compiler\n				// if ( all( something, something ) ) using this instead\n\n		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n		bool inFrustum = all( inFrustumVec );\n\n				// don't shadow pixels outside of light frustum\n				// use just first frustum (for cascades)\n				// don't shadow pixels behind far plane of light frustum\n\n		#ifdef SHADOWMAP_CASCADE\n\n			inFrustumCount += int( inFrustum );\n			bvec3 frustumTestVec = bvec3( inFrustum, inFrustumCount == 1, shadowCoord.z <= 1.0 );\n\n		#else\n\n			bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\n		#endif\n\n		bool frustumTest = all( frustumTestVec );\n\n		if ( frustumTest ) {\n\n			shadowCoord.z += shadowBias[ i ];\n\n			#if defined( SHADOWMAP_TYPE_PCF )\n\n						// Percentage-close filtering\n						// (9 pixel kernel)\n						// http://fabiensanglard.net/shadowmappingPCF/\n\n				float shadow = 0.0;\n\n		/*\n						// nested loops breaks shader compiler / validator on some ATI cards when using OpenGL\n						// must enroll loop manually\n\n				for ( float y = -1.25; y <= 1.25; y += 1.25 )\n					for ( float x = -1.25; x <= 1.25; x += 1.25 ) {\n\n						vec4 rgbaDepth = texture2D( shadowMap[ i ], vec2( x * xPixelOffset, y * yPixelOffset ) + shadowCoord.xy );\n\n								// doesn't seem to produce any noticeable visual difference compared to simple texture2D lookup\n								//vec4 rgbaDepth = texture2DProj( shadowMap[ i ], vec4( vShadowCoord[ i ].w * ( vec2( x * xPixelOffset, y * yPixelOffset ) + shadowCoord.xy ), 0.05, vShadowCoord[ i ].w ) );\n\n						float fDepth = unpackDepth( rgbaDepth );\n\n						if ( fDepth < shadowCoord.z )\n							shadow += 1.0;\n\n				}\n\n				shadow /= 9.0;\n\n		*/\n\n				const float shadowDelta = 1.0 / 9.0;\n\n				float xPixelOffset = 1.0 / shadowMapSize[ i ].x;\n				float yPixelOffset = 1.0 / shadowMapSize[ i ].y;\n\n				float dx0 = -1.25 * xPixelOffset;\n				float dy0 = -1.25 * yPixelOffset;\n				float dx1 = 1.25 * xPixelOffset;\n				float dy1 = 1.25 * yPixelOffset;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n				shadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );\n\n			#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\n						// Percentage-close filtering\n						// (9 pixel kernel)\n						// http://fabiensanglard.net/shadowmappingPCF/\n\n				float shadow = 0.0;\n\n				float xPixelOffset = 1.0 / shadowMapSize[ i ].x;\n				float yPixelOffset = 1.0 / shadowMapSize[ i ].y;\n\n				float dx0 = -1.0 * xPixelOffset;\n				float dy0 = -1.0 * yPixelOffset;\n				float dx1 = 1.0 * xPixelOffset;\n				float dy1 = 1.0 * yPixelOffset;\n\n				mat3 shadowKernel;\n				mat3 depthKernel;\n\n				depthKernel[0][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\n				depthKernel[0][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\n				depthKernel[0][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\n				depthKernel[1][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\n				depthKernel[1][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );\n				depthKernel[1][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\n				depthKernel[2][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\n				depthKernel[2][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\n				depthKernel[2][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\n\n				vec3 shadowZ = vec3( shadowCoord.z );\n				shadowKernel[0] = vec3(lessThan(depthKernel[0], shadowZ ));\n				shadowKernel[0] *= vec3(0.25);\n\n				shadowKernel[1] = vec3(lessThan(depthKernel[1], shadowZ ));\n				shadowKernel[1] *= vec3(0.25);\n\n				shadowKernel[2] = vec3(lessThan(depthKernel[2], shadowZ ));\n				shadowKernel[2] *= vec3(0.25);\n\n				vec2 fractionalCoord = 1.0 - fract( shadowCoord.xy * shadowMapSize[i].xy );\n\n				shadowKernel[0] = mix( shadowKernel[1], shadowKernel[0], fractionalCoord.x );\n				shadowKernel[1] = mix( shadowKernel[2], shadowKernel[1], fractionalCoord.x );\n\n				vec4 shadowValues;\n				shadowValues.x = mix( shadowKernel[0][1], shadowKernel[0][0], fractionalCoord.y );\n				shadowValues.y = mix( shadowKernel[0][2], shadowKernel[0][1], fractionalCoord.y );\n				shadowValues.z = mix( shadowKernel[1][1], shadowKernel[1][0], fractionalCoord.y );\n				shadowValues.w = mix( shadowKernel[1][2], shadowKernel[1][1], fractionalCoord.y );\n\n				shadow = dot( shadowValues, vec4( 1.0 ) );\n\n				shadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );\n\n			#else\n\n				vec4 rgbaDepth = texture2D( shadowMap[ i ], shadowCoord.xy );\n				float fDepth = unpackDepth( rgbaDepth );\n\n				if ( fDepth < shadowCoord.z )\n\n		// spot with multiple shadows is darker\n\n					shadowColor = shadowColor * vec3( 1.0 - shadowDarkness[ i ] );\n\n		// spot with multiple shadows has the same color as single shadow spot\n\n		// 					shadowColor = min( shadowColor, vec3( shadowDarkness[ i ] ) );\n\n			#endif\n\n		}\n\n\n		#ifdef SHADOWMAP_DEBUG\n\n			#ifdef SHADOWMAP_CASCADE\n\n				if ( inFrustum && inFrustumCount == 1 ) gl_FragColor.xyz *= frustumColors[ i ];\n\n			#else\n\n				if ( inFrustum ) gl_FragColor.xyz *= frustumColors[ i ];\n\n			#endif\n\n		#endif\n\n	}\n\n	#ifdef GAMMA_OUTPUT\n\n		shadowColor *= shadowColor;\n\n	#endif\n\n	gl_FragColor.xyz = gl_FragColor.xyz * shadowColor;\n\n#endif\n",THREE.ShaderChunk.worldpos_vertex="#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\n	#ifdef USE_SKINNING\n\n		vec4 worldPosition = modelMatrix * skinned;\n\n	#endif\n\n	#if defined( USE_MORPHTARGETS ) && ! defined( USE_SKINNING )\n\n		vec4 worldPosition = modelMatrix * vec4( morphed, 1.0 );\n\n	#endif\n\n	#if ! defined( USE_MORPHTARGETS ) && ! defined( USE_SKINNING )\n\n		vec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n\n	#endif\n\n#endif",THREE.ShaderChunk.shadowmap_pars_fragment="#ifdef USE_SHADOWMAP\n\n	uniform sampler2D shadowMap[ MAX_SHADOWS ];\n	uniform vec2 shadowMapSize[ MAX_SHADOWS ];\n\n	uniform float shadowDarkness[ MAX_SHADOWS ];\n	uniform float shadowBias[ MAX_SHADOWS ];\n\n	varying vec4 vShadowCoord[ MAX_SHADOWS ];\n\n	float unpackDepth( const in vec4 rgba_depth ) {\n\n		const vec4 bit_shift = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );\n		float depth = dot( rgba_depth, bit_shift );\n		return depth;\n\n	}\n\n#endif",THREE.ShaderChunk.skinning_pars_vertex="#ifdef USE_SKINNING\n\n	uniform mat4 bindMatrix;\n	uniform mat4 bindMatrixInverse;\n\n	#ifdef BONE_TEXTURE\n\n		uniform sampler2D boneTexture;\n		uniform int boneTextureWidth;\n		uniform int boneTextureHeight;\n\n		mat4 getBoneMatrix( const in float i ) {\n\n			float j = i * 4.0;\n			float x = mod( j, float( boneTextureWidth ) );\n			float y = floor( j / float( boneTextureWidth ) );\n\n			float dx = 1.0 / float( boneTextureWidth );\n			float dy = 1.0 / float( boneTextureHeight );\n\n			y = dy * ( y + 0.5 );\n\n			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\n			mat4 bone = mat4( v1, v2, v3, v4 );\n\n			return bone;\n\n		}\n\n	#else\n\n		uniform mat4 boneGlobalMatrices[ MAX_BONES ];\n\n		mat4 getBoneMatrix( const in float i ) {\n\n			mat4 bone = boneGlobalMatrices[ int(i) ];\n			return bone;\n\n		}\n\n	#endif\n\n#endif\n",THREE.ShaderChunk.logdepthbuf_pars_fragment="#ifdef USE_LOGDEPTHBUF\n\n	uniform float logDepthBufFC;\n\n	#ifdef USE_LOGDEPTHBUF_EXT\n\n		#extension GL_EXT_frag_depth : enable\n		varying float vFragDepth;\n\n	#endif\n\n#endif",THREE.ShaderChunk.alphamap_fragment="#ifdef USE_ALPHAMAP\n\n	gl_FragColor.a *= texture2D( alphaMap, vUv ).g;\n\n#endif\n",THREE.ShaderChunk.alphamap_pars_fragment="#ifdef USE_ALPHAMAP\n\n	uniform sampler2D alphaMap;\n\n#endif\n",THREE.UniformsUtils={merge:function(t){for(var e={},i=0;i<t.length;i++){var r=this.clone(t[i]);
for(var o in r)e[o]=r[o]}return e},clone:function(t){var e={};for(var i in t){e[i]={};for(var r in t[i]){var o=t[i][r];e[i][r]=o instanceof THREE.Color||o instanceof THREE.Vector2||o instanceof THREE.Vector3||o instanceof THREE.Vector4||o instanceof THREE.Matrix4||o instanceof THREE.Texture?o.clone():o instanceof Array?o.slice():o}}return e}},THREE.UniformsLib={common:{diffuse:{type:"c",value:new THREE.Color(15658734)},opacity:{type:"f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new THREE.Vector4(0,0,1,1)},lightMap:{type:"t",value:null},specularMap:{type:"t",value:null},alphaMap:{type:"t",value:null},envMap:{type:"t",value:null},flipEnvMap:{type:"f",value:-1},useRefract:{type:"i",value:0},reflectivity:{type:"f",value:1},refractionRatio:{type:"f",value:.98},combine:{type:"i",value:0},morphTargetInfluences:{type:"f",value:0}},bump:{bumpMap:{type:"t",value:null},bumpScale:{type:"f",value:1}},normalmap:{normalMap:{type:"t",value:null},normalScale:{type:"v2",value:new THREE.Vector2(1,1)}},fog:{fogDensity:{type:"f",value:25e-5},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},fogColor:{type:"c",value:new THREE.Color(16777215)}},lights:{ambientLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]},directionalLightColor:{type:"fv",value:[]},hemisphereLightDirection:{type:"fv",value:[]},hemisphereLightSkyColor:{type:"fv",value:[]},hemisphereLightGroundColor:{type:"fv",value:[]},pointLightColor:{type:"fv",value:[]},pointLightPosition:{type:"fv",value:[]},pointLightDistance:{type:"fv1",value:[]},spotLightColor:{type:"fv",value:[]},spotLightPosition:{type:"fv",value:[]},spotLightDirection:{type:"fv",value:[]},spotLightDistance:{type:"fv1",value:[]},spotLightAngleCos:{type:"fv1",value:[]},spotLightExponent:{type:"fv1",value:[]}},particle:{psColor:{type:"c",value:new THREE.Color(15658734)},opacity:{type:"f",value:1},size:{type:"f",value:1},scale:{type:"f",value:1},map:{type:"t",value:null},fogDensity:{type:"f",value:25e-5},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},fogColor:{type:"c",value:new THREE.Color(16777215)}},shadowmap:{shadowMap:{type:"tv",value:[]},shadowMapSize:{type:"v2v",value:[]},shadowBias:{type:"fv1",value:[]},shadowDarkness:{type:"fv1",value:[]},shadowMatrix:{type:"m4v",value:[]}}},THREE.ShaderLib={basic:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,THREE.UniformsLib.shadowmap]),vertexShader:[THREE.ShaderChunk.map_pars_vertex,THREE.ShaderChunk.lightmap_pars_vertex,THREE.ShaderChunk.envmap_pars_vertex,THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",THREE.ShaderChunk.map_vertex,THREE.ShaderChunk.lightmap_vertex,THREE.ShaderChunk.color_vertex,THREE.ShaderChunk.skinbase_vertex,"	#ifdef USE_ENVMAP",THREE.ShaderChunk.morphnormal_vertex,THREE.ShaderChunk.skinnormal_vertex,THREE.ShaderChunk.defaultnormal_vertex,"	#endif",THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.logdepthbuf_vertex,THREE.ShaderChunk.worldpos_vertex,THREE.ShaderChunk.envmap_vertex,THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_pars_fragment,THREE.ShaderChunk.alphamap_pars_fragment,THREE.ShaderChunk.lightmap_pars_fragment,THREE.ShaderChunk.envmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.specularmap_pars_fragment,THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","	gl_FragColor = vec4( diffuse, opacity );",THREE.ShaderChunk.logdepthbuf_fragment,THREE.ShaderChunk.map_fragment,THREE.ShaderChunk.alphamap_fragment,THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.specularmap_fragment,THREE.ShaderChunk.lightmap_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.envmap_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},lambert:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,THREE.UniformsLib.lights,THREE.UniformsLib.shadowmap,{ambient:{type:"c",value:new THREE.Color(16777215)},emissive:{type:"c",value:new THREE.Color(0)},wrapRGB:{type:"v3",value:new THREE.Vector3(1,1,1)}}]),vertexShader:["#define LAMBERT","varying vec3 vLightFront;","#ifdef DOUBLE_SIDED","	varying vec3 vLightBack;","#endif",THREE.ShaderChunk.map_pars_vertex,THREE.ShaderChunk.lightmap_pars_vertex,THREE.ShaderChunk.envmap_pars_vertex,THREE.ShaderChunk.lights_lambert_pars_vertex,THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",THREE.ShaderChunk.map_vertex,THREE.ShaderChunk.lightmap_vertex,THREE.ShaderChunk.color_vertex,THREE.ShaderChunk.morphnormal_vertex,THREE.ShaderChunk.skinbase_vertex,THREE.ShaderChunk.skinnormal_vertex,THREE.ShaderChunk.defaultnormal_vertex,THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.logdepthbuf_vertex,THREE.ShaderChunk.worldpos_vertex,THREE.ShaderChunk.envmap_vertex,THREE.ShaderChunk.lights_lambert_vertex,THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform float opacity;","varying vec3 vLightFront;","#ifdef DOUBLE_SIDED","	varying vec3 vLightBack;","#endif",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_pars_fragment,THREE.ShaderChunk.alphamap_pars_fragment,THREE.ShaderChunk.lightmap_pars_fragment,THREE.ShaderChunk.envmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.specularmap_pars_fragment,THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","	gl_FragColor = vec4( vec3( 1.0 ), opacity );",THREE.ShaderChunk.logdepthbuf_fragment,THREE.ShaderChunk.map_fragment,THREE.ShaderChunk.alphamap_fragment,THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.specularmap_fragment,"	#ifdef DOUBLE_SIDED","		if ( gl_FrontFacing )","			gl_FragColor.xyz *= vLightFront;","		else","			gl_FragColor.xyz *= vLightBack;","	#else","		gl_FragColor.xyz *= vLightFront;","	#endif",THREE.ShaderChunk.lightmap_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.envmap_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},phong:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.bump,THREE.UniformsLib.normalmap,THREE.UniformsLib.fog,THREE.UniformsLib.lights,THREE.UniformsLib.shadowmap,{ambient:{type:"c",value:new THREE.Color(16777215)},emissive:{type:"c",value:new THREE.Color(0)},specular:{type:"c",value:new THREE.Color(1118481)},shininess:{type:"f",value:30},wrapRGB:{type:"v3",value:new THREE.Vector3(1,1,1)}}]),vertexShader:["#define PHONG","varying vec3 vViewPosition;","varying vec3 vNormal;",THREE.ShaderChunk.map_pars_vertex,THREE.ShaderChunk.lightmap_pars_vertex,THREE.ShaderChunk.envmap_pars_vertex,THREE.ShaderChunk.lights_phong_pars_vertex,THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",THREE.ShaderChunk.map_vertex,THREE.ShaderChunk.lightmap_vertex,THREE.ShaderChunk.color_vertex,THREE.ShaderChunk.morphnormal_vertex,THREE.ShaderChunk.skinbase_vertex,THREE.ShaderChunk.skinnormal_vertex,THREE.ShaderChunk.defaultnormal_vertex,"	vNormal = normalize( transformedNormal );",THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.logdepthbuf_vertex,"	vViewPosition = -mvPosition.xyz;",THREE.ShaderChunk.worldpos_vertex,THREE.ShaderChunk.envmap_vertex,THREE.ShaderChunk.lights_phong_vertex,THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["#define PHONG","uniform vec3 diffuse;","uniform float opacity;","uniform vec3 ambient;","uniform vec3 emissive;","uniform vec3 specular;","uniform float shininess;",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_pars_fragment,THREE.ShaderChunk.alphamap_pars_fragment,THREE.ShaderChunk.lightmap_pars_fragment,THREE.ShaderChunk.envmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.lights_phong_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.bumpmap_pars_fragment,THREE.ShaderChunk.normalmap_pars_fragment,THREE.ShaderChunk.specularmap_pars_fragment,THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","	gl_FragColor = vec4( vec3( 1.0 ), opacity );",THREE.ShaderChunk.logdepthbuf_fragment,THREE.ShaderChunk.map_fragment,THREE.ShaderChunk.alphamap_fragment,THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.specularmap_fragment,THREE.ShaderChunk.lights_phong_fragment,THREE.ShaderChunk.lightmap_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.envmap_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},particle_basic:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.particle,THREE.UniformsLib.shadowmap]),vertexShader:["uniform float size;","uniform float scale;",THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",THREE.ShaderChunk.color_vertex,"	vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","	#ifdef USE_SIZEATTENUATION","		gl_PointSize = size * ( scale / length( mvPosition.xyz ) );","	#else","		gl_PointSize = size;","	#endif","	gl_Position = projectionMatrix * mvPosition;",THREE.ShaderChunk.logdepthbuf_vertex,THREE.ShaderChunk.worldpos_vertex,THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 psColor;","uniform float opacity;",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_particle_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","	gl_FragColor = vec4( psColor, opacity );",THREE.ShaderChunk.logdepthbuf_fragment,THREE.ShaderChunk.map_particle_fragment,THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},dashed:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,{scale:{type:"f",value:1},dashSize:{type:"f",value:1},totalSize:{type:"f",value:2}}]),vertexShader:["uniform float scale;","attribute float lineDistance;","varying float vLineDistance;",THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",THREE.ShaderChunk.color_vertex,"	vLineDistance = scale * lineDistance;","	vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","	gl_Position = projectionMatrix * mvPosition;",THREE.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;","uniform float dashSize;","uniform float totalSize;","varying float vLineDistance;",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","	if ( mod( vLineDistance, totalSize ) > dashSize ) {","		discard;","	}","	gl_FragColor = vec4( diffuse, opacity );",THREE.ShaderChunk.logdepthbuf_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},depth:{uniforms:{mNear:{type:"f",value:1},mFar:{type:"f",value:2e3},opacity:{type:"f",value:1}},vertexShader:[THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform float mNear;","uniform float mFar;","uniform float opacity;",THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {",THREE.ShaderChunk.logdepthbuf_fragment,"	#ifdef USE_LOGDEPTHBUF_EXT","		float depth = gl_FragDepthEXT / gl_FragCoord.w;","	#else","		float depth = gl_FragCoord.z / gl_FragCoord.w;","	#endif","	float color = 1.0 - smoothstep( mNear, mFar, depth );","	gl_FragColor = vec4( vec3( color ), opacity );","}"].join("\n")},normal:{uniforms:{opacity:{type:"f",value:1}},vertexShader:["varying vec3 vNormal;",THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {","	vNormal = normalize( normalMatrix * normal );",THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform float opacity;","varying vec3 vNormal;",THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","	gl_FragColor = vec4( 0.5 * normalize( vNormal ) + 0.5, opacity );",THREE.ShaderChunk.logdepthbuf_fragment,"}"].join("\n")},normalmap:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.fog,THREE.UniformsLib.lights,THREE.UniformsLib.shadowmap,{enableAO:{type:"i",value:0},enableDiffuse:{type:"i",value:0},enableSpecular:{type:"i",value:0},enableReflection:{type:"i",value:0},enableDisplacement:{type:"i",value:0},tDisplacement:{type:"t",value:null},tDiffuse:{type:"t",value:null},tCube:{type:"t",value:null},tNormal:{type:"t",value:null},tSpecular:{type:"t",value:null},tAO:{type:"t",value:null},uNormalScale:{type:"v2",value:new THREE.Vector2(1,1)},uDisplacementBias:{type:"f",value:0},uDisplacementScale:{type:"f",value:1},diffuse:{type:"c",value:new THREE.Color(16777215)},specular:{type:"c",value:new THREE.Color(1118481)},ambient:{type:"c",value:new THREE.Color(16777215)},shininess:{type:"f",value:30},opacity:{type:"f",value:1},useRefract:{type:"i",value:0},refractionRatio:{type:"f",value:.98},reflectivity:{type:"f",value:.5},uOffset:{type:"v2",value:new THREE.Vector2(0,0)},uRepeat:{type:"v2",value:new THREE.Vector2(1,1)},wrapRGB:{type:"v3",value:new THREE.Vector3(1,1,1)}}]),fragmentShader:["uniform vec3 ambient;","uniform vec3 diffuse;","uniform vec3 specular;","uniform float shininess;","uniform float opacity;","uniform bool enableDiffuse;","uniform bool enableSpecular;","uniform bool enableAO;","uniform bool enableReflection;","uniform sampler2D tDiffuse;","uniform sampler2D tNormal;","uniform sampler2D tSpecular;","uniform sampler2D tAO;","uniform samplerCube tCube;","uniform vec2 uNormalScale;","uniform bool useRefract;","uniform float refractionRatio;","uniform float reflectivity;","varying vec3 vTangent;","varying vec3 vBinormal;","varying vec3 vNormal;","varying vec2 vUv;","uniform vec3 ambientLightColor;","#if MAX_DIR_LIGHTS > 0","	uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];","	uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];","#endif","#if MAX_HEMI_LIGHTS > 0","	uniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];","	uniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];","	uniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];","#endif","#if MAX_POINT_LIGHTS > 0","	uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];","	uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];","	uniform float pointLightDistance[ MAX_POINT_LIGHTS ];","#endif","#if MAX_SPOT_LIGHTS > 0","	uniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];","	uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];","	uniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];","	uniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];","	uniform float spotLightExponent[ MAX_SPOT_LIGHTS ];","	uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];","#endif","#ifdef WRAP_AROUND","	uniform vec3 wrapRGB;","#endif","varying vec3 vWorldPosition;","varying vec3 vViewPosition;",THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {",THREE.ShaderChunk.logdepthbuf_fragment,"	gl_FragColor = vec4( vec3( 1.0 ), opacity );","	vec3 specularTex = vec3( 1.0 );","	vec3 normalTex = texture2D( tNormal, vUv ).xyz * 2.0 - 1.0;","	normalTex.xy *= uNormalScale;","	normalTex = normalize( normalTex );","	if( enableDiffuse ) {","		#ifdef GAMMA_INPUT","			vec4 texelColor = texture2D( tDiffuse, vUv );","			texelColor.xyz *= texelColor.xyz;","			gl_FragColor = gl_FragColor * texelColor;","		#else","			gl_FragColor = gl_FragColor * texture2D( tDiffuse, vUv );","		#endif","	}","	if( enableAO ) {","		#ifdef GAMMA_INPUT","			vec4 aoColor = texture2D( tAO, vUv );","			aoColor.xyz *= aoColor.xyz;","			gl_FragColor.xyz = gl_FragColor.xyz * aoColor.xyz;","		#else","			gl_FragColor.xyz = gl_FragColor.xyz * texture2D( tAO, vUv ).xyz;","		#endif","	}",THREE.ShaderChunk.alphatest_fragment,"	if( enableSpecular )","		specularTex = texture2D( tSpecular, vUv ).xyz;","	mat3 tsb = mat3( normalize( vTangent ), normalize( vBinormal ), normalize( vNormal ) );","	vec3 finalNormal = tsb * normalTex;","	#ifdef FLIP_SIDED","		finalNormal = -finalNormal;","	#endif","	vec3 normal = normalize( finalNormal );","	vec3 viewPosition = normalize( vViewPosition );","	#if MAX_POINT_LIGHTS > 0","		vec3 pointDiffuse = vec3( 0.0 );","		vec3 pointSpecular = vec3( 0.0 );","		for ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {","			vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );","			vec3 pointVector = lPosition.xyz + vViewPosition.xyz;","			float pointDistance = 1.0;","			if ( pointLightDistance[ i ] > 0.0 )","				pointDistance = 1.0 - min( ( length( pointVector ) / pointLightDistance[ i ] ), 1.0 );","			pointVector = normalize( pointVector );","			#ifdef WRAP_AROUND","				float pointDiffuseWeightFull = max( dot( normal, pointVector ), 0.0 );","				float pointDiffuseWeightHalf = max( 0.5 * dot( normal, pointVector ) + 0.5, 0.0 );","				vec3 pointDiffuseWeight = mix( vec3( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );","			#else","				float pointDiffuseWeight = max( dot( normal, pointVector ), 0.0 );","			#endif","			pointDiffuse += pointDistance * pointLightColor[ i ] * diffuse * pointDiffuseWeight;","			vec3 pointHalfVector = normalize( pointVector + viewPosition );","			float pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );","			float pointSpecularWeight = specularTex.r * max( pow( pointDotNormalHalf, shininess ), 0.0 );","			float specularNormalization = ( shininess + 2.0 ) / 8.0;","			vec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( pointVector, pointHalfVector ), 0.0 ), 5.0 );","			pointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * pointDistance * specularNormalization;","		}","	#endif","	#if MAX_SPOT_LIGHTS > 0","		vec3 spotDiffuse = vec3( 0.0 );","		vec3 spotSpecular = vec3( 0.0 );","		for ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {","			vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );","			vec3 spotVector = lPosition.xyz + vViewPosition.xyz;","			float spotDistance = 1.0;","			if ( spotLightDistance[ i ] > 0.0 )","				spotDistance = 1.0 - min( ( length( spotVector ) / spotLightDistance[ i ] ), 1.0 );","			spotVector = normalize( spotVector );","			float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );","			if ( spotEffect > spotLightAngleCos[ i ] ) {","				spotEffect = max( pow( max( spotEffect, 0.0 ), spotLightExponent[ i ] ), 0.0 );","				#ifdef WRAP_AROUND","					float spotDiffuseWeightFull = max( dot( normal, spotVector ), 0.0 );","					float spotDiffuseWeightHalf = max( 0.5 * dot( normal, spotVector ) + 0.5, 0.0 );","					vec3 spotDiffuseWeight = mix( vec3( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );","				#else","					float spotDiffuseWeight = max( dot( normal, spotVector ), 0.0 );","				#endif","				spotDiffuse += spotDistance * spotLightColor[ i ] * diffuse * spotDiffuseWeight * spotEffect;","				vec3 spotHalfVector = normalize( spotVector + viewPosition );","				float spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );","				float spotSpecularWeight = specularTex.r * max( pow( spotDotNormalHalf, shininess ), 0.0 );","				float specularNormalization = ( shininess + 2.0 ) / 8.0;","				vec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( spotVector, spotHalfVector ), 0.0 ), 5.0 );","				spotSpecular += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * spotDistance * specularNormalization * spotEffect;","			}","		}","	#endif","	#if MAX_DIR_LIGHTS > 0","		vec3 dirDiffuse = vec3( 0.0 );","		vec3 dirSpecular = vec3( 0.0 );","		for( int i = 0; i < MAX_DIR_LIGHTS; i++ ) {","			vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );","			vec3 dirVector = normalize( lDirection.xyz );","			#ifdef WRAP_AROUND","				float directionalLightWeightingFull = max( dot( normal, dirVector ), 0.0 );","				float directionalLightWeightingHalf = max( 0.5 * dot( normal, dirVector ) + 0.5, 0.0 );","				vec3 dirDiffuseWeight = mix( vec3( directionalLightWeightingFull ), vec3( directionalLightWeightingHalf ), wrapRGB );","			#else","				float dirDiffuseWeight = max( dot( normal, dirVector ), 0.0 );","			#endif","			dirDiffuse += directionalLightColor[ i ] * diffuse * dirDiffuseWeight;","			vec3 dirHalfVector = normalize( dirVector + viewPosition );","			float dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );","			float dirSpecularWeight = specularTex.r * max( pow( dirDotNormalHalf, shininess ), 0.0 );","			float specularNormalization = ( shininess + 2.0 ) / 8.0;","			vec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( dirVector, dirHalfVector ), 0.0 ), 5.0 );","			dirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;","		}","	#endif","	#if MAX_HEMI_LIGHTS > 0","		vec3 hemiDiffuse = vec3( 0.0 );","		vec3 hemiSpecular = vec3( 0.0 );","		for( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {","			vec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );","			vec3 lVector = normalize( lDirection.xyz );","			float dotProduct = dot( normal, lVector );","			float hemiDiffuseWeight = 0.5 * dotProduct + 0.5;","			vec3 hemiColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );","			hemiDiffuse += diffuse * hemiColor;","			vec3 hemiHalfVectorSky = normalize( lVector + viewPosition );","			float hemiDotNormalHalfSky = 0.5 * dot( normal, hemiHalfVectorSky ) + 0.5;","			float hemiSpecularWeightSky = specularTex.r * max( pow( max( hemiDotNormalHalfSky, 0.0 ), shininess ), 0.0 );","			vec3 lVectorGround = -lVector;","			vec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition );","			float hemiDotNormalHalfGround = 0.5 * dot( normal, hemiHalfVectorGround ) + 0.5;","			float hemiSpecularWeightGround = specularTex.r * max( pow( max( hemiDotNormalHalfGround, 0.0 ), shininess ), 0.0 );","			float dotProductGround = dot( normal, lVectorGround );","			float specularNormalization = ( shininess + 2.0 ) / 8.0;","			vec3 schlickSky = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, hemiHalfVectorSky ), 0.0 ), 5.0 );","			vec3 schlickGround = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 0.0 ), 5.0 );","			hemiSpecular += hemiColor * specularNormalization * ( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) );","		}","	#endif","	vec3 totalDiffuse = vec3( 0.0 );","	vec3 totalSpecular = vec3( 0.0 );","	#if MAX_DIR_LIGHTS > 0","		totalDiffuse += dirDiffuse;","		totalSpecular += dirSpecular;","	#endif","	#if MAX_HEMI_LIGHTS > 0","		totalDiffuse += hemiDiffuse;","		totalSpecular += hemiSpecular;","	#endif","	#if MAX_POINT_LIGHTS > 0","		totalDiffuse += pointDiffuse;","		totalSpecular += pointSpecular;","	#endif","	#if MAX_SPOT_LIGHTS > 0","		totalDiffuse += spotDiffuse;","		totalSpecular += spotSpecular;","	#endif","	#ifdef METAL","		gl_FragColor.xyz = gl_FragColor.xyz * ( totalDiffuse + ambientLightColor * ambient + totalSpecular );","	#else","		gl_FragColor.xyz = gl_FragColor.xyz * ( totalDiffuse + ambientLightColor * ambient ) + totalSpecular;","	#endif","	if ( enableReflection ) {","		vec3 vReflect;","		vec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );","		if ( useRefract ) {","			vReflect = refract( cameraToVertex, normal, refractionRatio );","		} else {","			vReflect = reflect( cameraToVertex, normal );","		}","		vec4 cubeColor = textureCube( tCube, vec3( -vReflect.x, vReflect.yz ) );","		#ifdef GAMMA_INPUT","			cubeColor.xyz *= cubeColor.xyz;","		#endif","		gl_FragColor.xyz = mix( gl_FragColor.xyz, cubeColor.xyz, specularTex.r * reflectivity );","	}",THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n"),vertexShader:["attribute vec4 tangent;","uniform vec2 uOffset;","uniform vec2 uRepeat;","uniform bool enableDisplacement;","#ifdef VERTEX_TEXTURES","	uniform sampler2D tDisplacement;","	uniform float uDisplacementScale;","	uniform float uDisplacementBias;","#endif","varying vec3 vTangent;","varying vec3 vBinormal;","varying vec3 vNormal;","varying vec2 vUv;","varying vec3 vWorldPosition;","varying vec3 vViewPosition;",THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",THREE.ShaderChunk.skinbase_vertex,THREE.ShaderChunk.skinnormal_vertex,"	#ifdef USE_SKINNING","		vNormal = normalize( normalMatrix * skinnedNormal.xyz );","		vec4 skinnedTangent = skinMatrix * vec4( tangent.xyz, 0.0 );","		vTangent = normalize( normalMatrix * skinnedTangent.xyz );","	#else","		vNormal = normalize( normalMatrix * normal );","		vTangent = normalize( normalMatrix * tangent.xyz );","	#endif","	vBinormal = normalize( cross( vNormal, vTangent ) * tangent.w );","	vUv = uv * uRepeat + uOffset;","	vec3 displacedPosition;","	#ifdef VERTEX_TEXTURES","		if ( enableDisplacement ) {","			vec3 dv = texture2D( tDisplacement, uv ).xyz;","			float df = uDisplacementScale * dv.x + uDisplacementBias;","			displacedPosition = position + normalize( normal ) * df;","		} else {","			#ifdef USE_SKINNING","				vec4 skinVertex = bindMatrix * vec4( position, 1.0 );","				vec4 skinned = vec4( 0.0 );","				skinned += boneMatX * skinVertex * skinWeight.x;","				skinned += boneMatY * skinVertex * skinWeight.y;","				skinned += boneMatZ * skinVertex * skinWeight.z;","				skinned += boneMatW * skinVertex * skinWeight.w;","				skinned  = bindMatrixInverse * skinned;","				displacedPosition = skinned.xyz;","			#else","				displacedPosition = position;","			#endif","		}","	#else","		#ifdef USE_SKINNING","			vec4 skinVertex = bindMatrix * vec4( position, 1.0 );","			vec4 skinned = vec4( 0.0 );","			skinned += boneMatX * skinVertex * skinWeight.x;","			skinned += boneMatY * skinVertex * skinWeight.y;","			skinned += boneMatZ * skinVertex * skinWeight.z;","			skinned += boneMatW * skinVertex * skinWeight.w;","			skinned  = bindMatrixInverse * skinned;","			displacedPosition = skinned.xyz;","		#else","			displacedPosition = position;","		#endif","	#endif","	vec4 mvPosition = modelViewMatrix * vec4( displacedPosition, 1.0 );","	vec4 worldPosition = modelMatrix * vec4( displacedPosition, 1.0 );","	gl_Position = projectionMatrix * mvPosition;",THREE.ShaderChunk.logdepthbuf_vertex,"	vWorldPosition = worldPosition.xyz;","	vViewPosition = -mvPosition.xyz;","	#ifdef USE_SHADOWMAP","		for( int i = 0; i < MAX_SHADOWS; i ++ ) {","			vShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;","		}","	#endif","}"].join("\n")},cube:{uniforms:{tCube:{type:"t",value:null},tFlip:{type:"f",value:-1}},vertexShader:["varying vec3 vWorldPosition;",THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {","	vec4 worldPosition = modelMatrix * vec4( position, 1.0 );","	vWorldPosition = worldPosition.xyz;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );",THREE.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform samplerCube tCube;","uniform float tFlip;","varying vec3 vWorldPosition;",THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","	gl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );",THREE.ShaderChunk.logdepthbuf_fragment,"}"].join("\n")},depthRGBA:{uniforms:{},vertexShader:[THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",THREE.ShaderChunk.skinbase_vertex,THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:[THREE.ShaderChunk.logdepthbuf_pars_fragment,"vec4 pack_depth( const in float depth ) {","	const vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );","	const vec4 bit_mask = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );","	vec4 res = mod( depth * bit_shift * vec4( 255 ), vec4( 256 ) ) / vec4( 255 );","	res -= res.xxyz * bit_mask;","	return res;","}","void main() {",THREE.ShaderChunk.logdepthbuf_fragment,"	#ifdef USE_LOGDEPTHBUF_EXT","		gl_FragData[ 0 ] = pack_depth( gl_FragDepthEXT );","	#else","		gl_FragData[ 0 ] = pack_depth( gl_FragCoord.z );","	#endif","}"].join("\n")}},THREE.WebGLRenderer=function(t){function e(){He.clearColor(0,0,0,1),He.clearDepth(1),He.clearStencil(0),He.enable(He.DEPTH_TEST),He.depthFunc(He.LEQUAL),He.frontFace(He.CCW),He.cullFace(He.BACK),He.enable(He.CULL_FACE),He.enable(He.BLEND),He.blendEquation(He.FUNC_ADD),He.blendFunc(He.SRC_ALPHA,He.ONE_MINUS_SRC_ALPHA),He.viewport(ri,oi,ni,ai),He.clearColor(Ae.r,Ae.g,Ae.b,we)}function i(t){t.__webglVertexBuffer=He.createBuffer(),t.__webglColorBuffer=He.createBuffer(),Ie.info.memory.geometries++}function r(t){t.__webglVertexBuffer=He.createBuffer(),t.__webglColorBuffer=He.createBuffer(),t.__webglLineDistanceBuffer=He.createBuffer(),Ie.info.memory.geometries++}function o(t){t.__webglVertexBuffer=He.createBuffer(),t.__webglNormalBuffer=He.createBuffer(),t.__webglTangentBuffer=He.createBuffer(),t.__webglColorBuffer=He.createBuffer(),t.__webglUVBuffer=He.createBuffer(),t.__webglUV2Buffer=He.createBuffer(),t.__webglSkinIndicesBuffer=He.createBuffer(),t.__webglSkinWeightsBuffer=He.createBuffer(),t.__webglFaceBuffer=He.createBuffer(),t.__webglLineBuffer=He.createBuffer();var e,i;if(t.numMorphTargets)for(t.__webglMorphTargetsBuffers=[],e=0,i=t.numMorphTargets;i>e;e++)t.__webglMorphTargetsBuffers.push(He.createBuffer());if(t.numMorphNormals)for(t.__webglMorphNormalsBuffers=[],e=0,i=t.numMorphNormals;i>e;e++)t.__webglMorphNormalsBuffers.push(He.createBuffer());Ie.info.memory.geometries++}function n(t){var e=t.geometry,i=t.material,r=e.vertices.length;if(i.attributes){void 0===e.__webglCustomAttributesList&&(e.__webglCustomAttributesList=[]);for(var o in i.attributes){var n=i.attributes[o];if(!n.__webglInitialized||n.createUniqueBuffers){n.__webglInitialized=!0;var a=1;"v2"===n.type?a=2:"v3"===n.type?a=3:"v4"===n.type?a=4:"c"===n.type&&(a=3),n.size=a,n.array=new Float32Array(r*a),n.buffer=He.createBuffer(),n.buffer.belongsToAttribute=o,n.needsUpdate=!0}e.__webglCustomAttributesList.push(n)}}}function a(t,e){var i=t.vertices.length;t.__vertexArray=new Float32Array(3*i),t.__colorArray=new Float32Array(3*i),t.__sortArray=[],t.__webglParticleCount=i,n(e)}function s(t,e){var i=t.vertices.length;t.__vertexArray=new Float32Array(3*i),t.__colorArray=new Float32Array(3*i),t.__lineDistanceArray=new Float32Array(1*i),t.__webglLineCount=i,n(e)}function l(t,e){var i=e.geometry,r=t.faces3,o=3*r.length,n=1*r.length,a=3*r.length,s=c(e,t);t.__vertexArray=new Float32Array(3*o),t.__normalArray=new Float32Array(3*o),t.__colorArray=new Float32Array(3*o),t.__uvArray=new Float32Array(2*o),i.faceVertexUvs.length>1&&(t.__uv2Array=new Float32Array(2*o)),i.hasTangents&&(t.__tangentArray=new Float32Array(4*o)),e.geometry.skinWeights.length&&e.geometry.skinIndices.length&&(t.__skinIndexArray=new Float32Array(4*o),t.__skinWeightArray=new Float32Array(4*o));
var l=null!==vi.get("OES_element_index_uint")&&n>21845?Uint32Array:Uint16Array;t.__typeArray=l,t.__faceArray=new l(3*n),t.__lineArray=new l(2*a);var h,u;if(t.numMorphTargets)for(t.__morphTargetsArrays=[],h=0,u=t.numMorphTargets;u>h;h++)t.__morphTargetsArrays.push(new Float32Array(3*o));if(t.numMorphNormals)for(t.__morphNormalsArrays=[],h=0,u=t.numMorphNormals;u>h;h++)t.__morphNormalsArrays.push(new Float32Array(3*o));if(t.__webglFaceCount=3*n,t.__webglLineCount=2*a,s.attributes){void 0===t.__webglCustomAttributesList&&(t.__webglCustomAttributesList=[]);for(var d in s.attributes){var p=s.attributes[d],f={};for(var _ in p)f[_]=p[_];if(!f.__webglInitialized||f.createUniqueBuffers){f.__webglInitialized=!0;var m=1;"v2"===f.type?m=2:"v3"===f.type?m=3:"v4"===f.type?m=4:"c"===f.type&&(m=3),f.size=m,f.array=new Float32Array(o*m),f.buffer=He.createBuffer(),f.buffer.belongsToAttribute=d,p.needsUpdate=!0,f.__original=p}t.__webglCustomAttributesList.push(f)}}t.__inittedArrays=!0}function c(t,e){return t.material instanceof THREE.MeshFaceMaterial?t.material.materials[e.materialIndex]:t.material}function h(t){return t&&void 0!==t.shading&&t.shading===THREE.SmoothShading}function u(t,e,i){var r,o,n,a,s,l,c,h,u,d,p,f,_=t.vertices,m=_.length,g=t.colors,y=g.length,b=t.__vertexArray,v=t.__colorArray,M=t.__sortArray,T=t.verticesNeedUpdate,x=(t.elementsNeedUpdate,t.colorsNeedUpdate),C=t.__webglCustomAttributesList;if(i.sortParticles){for(pi.copy(di),pi.multiply(i.matrixWorld),r=0;m>r;r++)n=_[r],fi.copy(n),fi.applyProjection(pi),M[r]=[fi.z,r];for(M.sort(S),r=0;m>r;r++)n=_[M[r][1]],a=3*r,b[a]=n.x,b[a+1]=n.y,b[a+2]=n.z;for(o=0;y>o;o++)a=3*o,l=g[M[o][1]],v[a]=l.r,v[a+1]=l.g,v[a+2]=l.b;if(C)for(c=0,h=C.length;h>c;c++)if(f=C[c],void 0===f.boundTo||"vertices"===f.boundTo)if(a=0,d=f.value.length,1===f.size)for(u=0;d>u;u++)s=M[u][1],f.array[u]=f.value[s];else if(2===f.size)for(u=0;d>u;u++)s=M[u][1],p=f.value[s],f.array[a]=p.x,f.array[a+1]=p.y,a+=2;else if(3===f.size)if("c"===f.type)for(u=0;d>u;u++)s=M[u][1],p=f.value[s],f.array[a]=p.r,f.array[a+1]=p.g,f.array[a+2]=p.b,a+=3;else for(u=0;d>u;u++)s=M[u][1],p=f.value[s],f.array[a]=p.x,f.array[a+1]=p.y,f.array[a+2]=p.z,a+=3;else if(4===f.size)for(u=0;d>u;u++)s=M[u][1],p=f.value[s],f.array[a]=p.x,f.array[a+1]=p.y,f.array[a+2]=p.z,f.array[a+3]=p.w,a+=4}else{if(T)for(r=0;m>r;r++)n=_[r],a=3*r,b[a]=n.x,b[a+1]=n.y,b[a+2]=n.z;if(x)for(o=0;y>o;o++)l=g[o],a=3*o,v[a]=l.r,v[a+1]=l.g,v[a+2]=l.b;if(C)for(c=0,h=C.length;h>c;c++)if(f=C[c],f.needsUpdate&&(void 0===f.boundTo||"vertices"===f.boundTo))if(d=f.value.length,a=0,1===f.size)for(u=0;d>u;u++)f.array[u]=f.value[u];else if(2===f.size)for(u=0;d>u;u++)p=f.value[u],f.array[a]=p.x,f.array[a+1]=p.y,a+=2;else if(3===f.size)if("c"===f.type)for(u=0;d>u;u++)p=f.value[u],f.array[a]=p.r,f.array[a+1]=p.g,f.array[a+2]=p.b,a+=3;else for(u=0;d>u;u++)p=f.value[u],f.array[a]=p.x,f.array[a+1]=p.y,f.array[a+2]=p.z,a+=3;else if(4===f.size)for(u=0;d>u;u++)p=f.value[u],f.array[a]=p.x,f.array[a+1]=p.y,f.array[a+2]=p.z,f.array[a+3]=p.w,a+=4}if((T||i.sortParticles)&&(He.bindBuffer(He.ARRAY_BUFFER,t.__webglVertexBuffer),He.bufferData(He.ARRAY_BUFFER,b,e)),(x||i.sortParticles)&&(He.bindBuffer(He.ARRAY_BUFFER,t.__webglColorBuffer),He.bufferData(He.ARRAY_BUFFER,v,e)),C)for(c=0,h=C.length;h>c;c++)f=C[c],(f.needsUpdate||i.sortParticles)&&(He.bindBuffer(He.ARRAY_BUFFER,f.buffer),He.bufferData(He.ARRAY_BUFFER,f.array,e))}function d(t,e){var i,r,o,n,a,s,l,c,h,u,d,p,f=t.vertices,_=t.colors,m=t.lineDistances,g=f.length,y=_.length,b=m.length,v=t.__vertexArray,M=t.__colorArray,S=t.__lineDistanceArray,T=t.verticesNeedUpdate,x=t.colorsNeedUpdate,C=t.lineDistancesNeedUpdate,E=t.__webglCustomAttributesList;if(T){for(i=0;g>i;i++)n=f[i],a=3*i,v[a]=n.x,v[a+1]=n.y,v[a+2]=n.z;He.bindBuffer(He.ARRAY_BUFFER,t.__webglVertexBuffer),He.bufferData(He.ARRAY_BUFFER,v,e)}if(x){for(r=0;y>r;r++)s=_[r],a=3*r,M[a]=s.r,M[a+1]=s.g,M[a+2]=s.b;He.bindBuffer(He.ARRAY_BUFFER,t.__webglColorBuffer),He.bufferData(He.ARRAY_BUFFER,M,e)}if(C){for(o=0;b>o;o++)S[o]=m[o];He.bindBuffer(He.ARRAY_BUFFER,t.__webglLineDistanceBuffer),He.bufferData(He.ARRAY_BUFFER,S,e)}if(E)for(l=0,c=E.length;c>l;l++)if(p=E[l],p.needsUpdate&&(void 0===p.boundTo||"vertices"===p.boundTo)){if(a=0,u=p.value.length,1===p.size)for(h=0;u>h;h++)p.array[h]=p.value[h];else if(2===p.size)for(h=0;u>h;h++)d=p.value[h],p.array[a]=d.x,p.array[a+1]=d.y,a+=2;else if(3===p.size)if("c"===p.type)for(h=0;u>h;h++)d=p.value[h],p.array[a]=d.r,p.array[a+1]=d.g,p.array[a+2]=d.b,a+=3;else for(h=0;u>h;h++)d=p.value[h],p.array[a]=d.x,p.array[a+1]=d.y,p.array[a+2]=d.z,a+=3;else if(4===p.size)for(h=0;u>h;h++)d=p.value[h],p.array[a]=d.x,p.array[a+1]=d.y,p.array[a+2]=d.z,p.array[a+3]=d.w,a+=4;He.bindBuffer(He.ARRAY_BUFFER,p.buffer),He.bufferData(He.ARRAY_BUFFER,p.array,e)}}function p(t,e,i,r,o){if(t.__inittedArrays){var n,a,s,l,c,u,d,p,f,_,m,g,y,b,v,M,S,T,x,C,E,A,w,R,D,P,B,V,L,k,H,I,O,J,N,F,G,z,j,U,W,X,q=h(o),K=0,Y=0,Q=0,Z=0,$=0,te=0,ee=0,ie=0,re=0,oe=0,ne=0,ae=0,se=0,le=t.__vertexArray,ce=t.__uvArray,he=t.__uv2Array,ue=t.__normalArray,de=t.__tangentArray,pe=t.__colorArray,fe=t.__skinIndexArray,_e=t.__skinWeightArray,me=t.__morphTargetsArrays,ge=t.__morphNormalsArrays,ye=t.__webglCustomAttributesList,be=t.__faceArray,ve=t.__lineArray,Me=e.geometry,Se=Me.verticesNeedUpdate,Te=Me.elementsNeedUpdate,xe=Me.uvsNeedUpdate,Ce=Me.normalsNeedUpdate,Ee=Me.tangentsNeedUpdate,Ae=Me.colorsNeedUpdate,we=Me.morphTargetsNeedUpdate,Re=Me.vertices,De=t.faces3,Pe=Me.faces,Be=Me.faceVertexUvs[0],Ve=Me.faceVertexUvs[1],Le=(Me.colors,Me.skinIndices),ke=Me.skinWeights,Ie=Me.morphTargets,Oe=Me.morphNormals;if(Se){for(n=0,a=De.length;a>n;n++)l=Pe[De[n]],g=Re[l.a],y=Re[l.b],b=Re[l.c],le[Y]=g.x,le[Y+1]=g.y,le[Y+2]=g.z,le[Y+3]=y.x,le[Y+4]=y.y,le[Y+5]=y.z,le[Y+6]=b.x,le[Y+7]=b.y,le[Y+8]=b.z,Y+=9;He.bindBuffer(He.ARRAY_BUFFER,t.__webglVertexBuffer),He.bufferData(He.ARRAY_BUFFER,le,i)}if(we)for(N=0,F=Ie.length;F>N;N++){for(ne=0,n=0,a=De.length;a>n;n++)j=De[n],l=Pe[j],g=Ie[N].vertices[l.a],y=Ie[N].vertices[l.b],b=Ie[N].vertices[l.c],G=me[N],G[ne]=g.x,G[ne+1]=g.y,G[ne+2]=g.z,G[ne+3]=y.x,G[ne+4]=y.y,G[ne+5]=y.z,G[ne+6]=b.x,G[ne+7]=b.y,G[ne+8]=b.z,o.morphNormals&&(q?(U=Oe[N].vertexNormals[j],T=U.a,x=U.b,C=U.c):(T=Oe[N].faceNormals[j],x=T,C=T),z=ge[N],z[ne]=T.x,z[ne+1]=T.y,z[ne+2]=T.z,z[ne+3]=x.x,z[ne+4]=x.y,z[ne+5]=x.z,z[ne+6]=C.x,z[ne+7]=C.y,z[ne+8]=C.z),ne+=9;He.bindBuffer(He.ARRAY_BUFFER,t.__webglMorphTargetsBuffers[N]),He.bufferData(He.ARRAY_BUFFER,me[N],i),o.morphNormals&&(He.bindBuffer(He.ARRAY_BUFFER,t.__webglMorphNormalsBuffers[N]),He.bufferData(He.ARRAY_BUFFER,ge[N],i))}if(ke.length){for(n=0,a=De.length;a>n;n++)l=Pe[De[n]],R=ke[l.a],D=ke[l.b],P=ke[l.c],_e[oe]=R.x,_e[oe+1]=R.y,_e[oe+2]=R.z,_e[oe+3]=R.w,_e[oe+4]=D.x,_e[oe+5]=D.y,_e[oe+6]=D.z,_e[oe+7]=D.w,_e[oe+8]=P.x,_e[oe+9]=P.y,_e[oe+10]=P.z,_e[oe+11]=P.w,B=Le[l.a],V=Le[l.b],L=Le[l.c],fe[oe]=B.x,fe[oe+1]=B.y,fe[oe+2]=B.z,fe[oe+3]=B.w,fe[oe+4]=V.x,fe[oe+5]=V.y,fe[oe+6]=V.z,fe[oe+7]=V.w,fe[oe+8]=L.x,fe[oe+9]=L.y,fe[oe+10]=L.z,fe[oe+11]=L.w,oe+=12;oe>0&&(He.bindBuffer(He.ARRAY_BUFFER,t.__webglSkinIndicesBuffer),He.bufferData(He.ARRAY_BUFFER,fe,i),He.bindBuffer(He.ARRAY_BUFFER,t.__webglSkinWeightsBuffer),He.bufferData(He.ARRAY_BUFFER,_e,i))}if(Ae){for(n=0,a=De.length;a>n;n++)l=Pe[De[n]],d=l.vertexColors,p=l.color,3===d.length&&o.vertexColors===THREE.VertexColors?(E=d[0],A=d[1],w=d[2]):(E=p,A=p,w=p),pe[re]=E.r,pe[re+1]=E.g,pe[re+2]=E.b,pe[re+3]=A.r,pe[re+4]=A.g,pe[re+5]=A.b,pe[re+6]=w.r,pe[re+7]=w.g,pe[re+8]=w.b,re+=9;re>0&&(He.bindBuffer(He.ARRAY_BUFFER,t.__webglColorBuffer),He.bufferData(He.ARRAY_BUFFER,pe,i))}if(Ee&&Me.hasTangents){for(n=0,a=De.length;a>n;n++)l=Pe[De[n]],f=l.vertexTangents,v=f[0],M=f[1],S=f[2],de[ee]=v.x,de[ee+1]=v.y,de[ee+2]=v.z,de[ee+3]=v.w,de[ee+4]=M.x,de[ee+5]=M.y,de[ee+6]=M.z,de[ee+7]=M.w,de[ee+8]=S.x,de[ee+9]=S.y,de[ee+10]=S.z,de[ee+11]=S.w,ee+=12;He.bindBuffer(He.ARRAY_BUFFER,t.__webglTangentBuffer),He.bufferData(He.ARRAY_BUFFER,de,i)}if(Ce){for(n=0,a=De.length;a>n;n++)if(l=Pe[De[n]],c=l.vertexNormals,u=l.normal,3===c.length&&q)for(k=0;3>k;k++)I=c[k],ue[te]=I.x,ue[te+1]=I.y,ue[te+2]=I.z,te+=3;else for(k=0;3>k;k++)ue[te]=u.x,ue[te+1]=u.y,ue[te+2]=u.z,te+=3;He.bindBuffer(He.ARRAY_BUFFER,t.__webglNormalBuffer),He.bufferData(He.ARRAY_BUFFER,ue,i)}if(xe&&Be){for(n=0,a=De.length;a>n;n++)if(s=De[n],_=Be[s],void 0!==_)for(k=0;3>k;k++)O=_[k],ce[Q]=O.x,ce[Q+1]=O.y,Q+=2;Q>0&&(He.bindBuffer(He.ARRAY_BUFFER,t.__webglUVBuffer),He.bufferData(He.ARRAY_BUFFER,ce,i))}if(xe&&Ve){for(n=0,a=De.length;a>n;n++)if(s=De[n],m=Ve[s],void 0!==m)for(k=0;3>k;k++)J=m[k],he[Z]=J.x,he[Z+1]=J.y,Z+=2;Z>0&&(He.bindBuffer(He.ARRAY_BUFFER,t.__webglUV2Buffer),He.bufferData(He.ARRAY_BUFFER,he,i))}if(Te){for(n=0,a=De.length;a>n;n++)be[$]=K,be[$+1]=K+1,be[$+2]=K+2,$+=3,ve[ie]=K,ve[ie+1]=K+1,ve[ie+2]=K,ve[ie+3]=K+2,ve[ie+4]=K+1,ve[ie+5]=K+2,ie+=6,K+=3;He.bindBuffer(He.ELEMENT_ARRAY_BUFFER,t.__webglFaceBuffer),He.bufferData(He.ELEMENT_ARRAY_BUFFER,be,i),He.bindBuffer(He.ELEMENT_ARRAY_BUFFER,t.__webglLineBuffer),He.bufferData(He.ELEMENT_ARRAY_BUFFER,ve,i)}if(ye)for(k=0,H=ye.length;H>k;k++)if(X=ye[k],X.__original.needsUpdate){if(ae=0,se=0,1===X.size){if(void 0===X.boundTo||"vertices"===X.boundTo)for(n=0,a=De.length;a>n;n++)l=Pe[De[n]],X.array[ae]=X.value[l.a],X.array[ae+1]=X.value[l.b],X.array[ae+2]=X.value[l.c],ae+=3;else if("faces"===X.boundTo)for(n=0,a=De.length;a>n;n++)W=X.value[De[n]],X.array[ae]=W,X.array[ae+1]=W,X.array[ae+2]=W,ae+=3}else if(2===X.size){if(void 0===X.boundTo||"vertices"===X.boundTo)for(n=0,a=De.length;a>n;n++)l=Pe[De[n]],g=X.value[l.a],y=X.value[l.b],b=X.value[l.c],X.array[ae]=g.x,X.array[ae+1]=g.y,X.array[ae+2]=y.x,X.array[ae+3]=y.y,X.array[ae+4]=b.x,X.array[ae+5]=b.y,ae+=6;else if("faces"===X.boundTo)for(n=0,a=De.length;a>n;n++)W=X.value[De[n]],g=W,y=W,b=W,X.array[ae]=g.x,X.array[ae+1]=g.y,X.array[ae+2]=y.x,X.array[ae+3]=y.y,X.array[ae+4]=b.x,X.array[ae+5]=b.y,ae+=6}else if(3===X.size){var Je;if(Je="c"===X.type?["r","g","b"]:["x","y","z"],void 0===X.boundTo||"vertices"===X.boundTo)for(n=0,a=De.length;a>n;n++)l=Pe[De[n]],g=X.value[l.a],y=X.value[l.b],b=X.value[l.c],X.array[ae]=g[Je[0]],X.array[ae+1]=g[Je[1]],X.array[ae+2]=g[Je[2]],X.array[ae+3]=y[Je[0]],X.array[ae+4]=y[Je[1]],X.array[ae+5]=y[Je[2]],X.array[ae+6]=b[Je[0]],X.array[ae+7]=b[Je[1]],X.array[ae+8]=b[Je[2]],ae+=9;else if("faces"===X.boundTo)for(n=0,a=De.length;a>n;n++)W=X.value[De[n]],g=W,y=W,b=W,X.array[ae]=g[Je[0]],X.array[ae+1]=g[Je[1]],X.array[ae+2]=g[Je[2]],X.array[ae+3]=y[Je[0]],X.array[ae+4]=y[Je[1]],X.array[ae+5]=y[Je[2]],X.array[ae+6]=b[Je[0]],X.array[ae+7]=b[Je[1]],X.array[ae+8]=b[Je[2]],ae+=9;else if("faceVertices"===X.boundTo)for(n=0,a=De.length;a>n;n++)W=X.value[De[n]],g=W[0],y=W[1],b=W[2],X.array[ae]=g[Je[0]],X.array[ae+1]=g[Je[1]],X.array[ae+2]=g[Je[2]],X.array[ae+3]=y[Je[0]],X.array[ae+4]=y[Je[1]],X.array[ae+5]=y[Je[2]],X.array[ae+6]=b[Je[0]],X.array[ae+7]=b[Je[1]],X.array[ae+8]=b[Je[2]],ae+=9}else if(4===X.size)if(void 0===X.boundTo||"vertices"===X.boundTo)for(n=0,a=De.length;a>n;n++)l=Pe[De[n]],g=X.value[l.a],y=X.value[l.b],b=X.value[l.c],X.array[ae]=g.x,X.array[ae+1]=g.y,X.array[ae+2]=g.z,X.array[ae+3]=g.w,X.array[ae+4]=y.x,X.array[ae+5]=y.y,X.array[ae+6]=y.z,X.array[ae+7]=y.w,X.array[ae+8]=b.x,X.array[ae+9]=b.y,X.array[ae+10]=b.z,X.array[ae+11]=b.w,ae+=12;else if("faces"===X.boundTo)for(n=0,a=De.length;a>n;n++)W=X.value[De[n]],g=W,y=W,b=W,X.array[ae]=g.x,X.array[ae+1]=g.y,X.array[ae+2]=g.z,X.array[ae+3]=g.w,X.array[ae+4]=y.x,X.array[ae+5]=y.y,X.array[ae+6]=y.z,X.array[ae+7]=y.w,X.array[ae+8]=b.x,X.array[ae+9]=b.y,X.array[ae+10]=b.z,X.array[ae+11]=b.w,ae+=12;else if("faceVertices"===X.boundTo)for(n=0,a=De.length;a>n;n++)W=X.value[De[n]],g=W[0],y=W[1],b=W[2],X.array[ae]=g.x,X.array[ae+1]=g.y,X.array[ae+2]=g.z,X.array[ae+3]=g.w,X.array[ae+4]=y.x,X.array[ae+5]=y.y,X.array[ae+6]=y.z,X.array[ae+7]=y.w,X.array[ae+8]=b.x,X.array[ae+9]=b.y,X.array[ae+10]=b.z,X.array[ae+11]=b.w,ae+=12;He.bindBuffer(He.ARRAY_BUFFER,X.buffer),He.bufferData(He.ARRAY_BUFFER,X.array,i)}r&&(delete t.__inittedArrays,delete t.__colorArray,delete t.__normalArray,delete t.__tangentArray,delete t.__uvArray,delete t.__uv2Array,delete t.__faceArray,delete t.__vertexArray,delete t.__lineArray,delete t.__skinIndexArray,delete t.__skinWeightArray)}}function f(t){for(var e=t.attributes,i=t.attributesKeys,r=0,o=i.length;o>r;r++){var n=i[r],a=e[n];if(void 0===a.buffer&&(a.buffer=He.createBuffer(),a.needsUpdate=!0),a.needsUpdate===!0){var s="index"===n?He.ELEMENT_ARRAY_BUFFER:He.ARRAY_BUFFER;He.bindBuffer(s,a.buffer),He.bufferData(s,a.array,He.STATIC_DRAW),a.needsUpdate=!1}}}function _(t,e,i,r){for(var o=i.attributes,n=e.attributes,a=e.attributesKeys,s=0,l=a.length;l>s;s++){var c=a[s],h=n[c];if(h>=0){var u=o[c];if(void 0!==u){var d=u.itemSize;He.bindBuffer(He.ARRAY_BUFFER,u.buffer),g(h),He.vertexAttribPointer(h,d,He.FLOAT,!1,0,r*d*4)}else void 0!==t.defaultAttributeValues&&(2===t.defaultAttributeValues[c].length?He.vertexAttrib2fv(h,t.defaultAttributeValues[c]):3===t.defaultAttributeValues[c].length&&He.vertexAttrib3fv(h,t.defaultAttributeValues[c]))}}y()}function m(){for(var t=0,e=ci.length;e>t;t++)ci[t]=0}function g(t){ci[t]=1,0===hi[t]&&(He.enableVertexAttribArray(t),hi[t]=1)}function y(){for(var t=0,e=hi.length;e>t;t++)hi[t]!==ci[t]&&(He.disableVertexAttribArray(t),hi[t]=0)}function b(t,e,i){var r=t.program.attributes;if(-1!==i.morphTargetBase&&r.position>=0?(He.bindBuffer(He.ARRAY_BUFFER,e.__webglMorphTargetsBuffers[i.morphTargetBase]),g(r.position),He.vertexAttribPointer(r.position,3,He.FLOAT,!1,0,0)):r.position>=0&&(He.bindBuffer(He.ARRAY_BUFFER,e.__webglVertexBuffer),g(r.position),He.vertexAttribPointer(r.position,3,He.FLOAT,!1,0,0)),i.morphTargetForcedOrder.length)for(var o=0,n=i.morphTargetForcedOrder,a=i.morphTargetInfluences;o<t.numSupportedMorphTargets&&o<n.length;)r["morphTarget"+o]>=0&&(He.bindBuffer(He.ARRAY_BUFFER,e.__webglMorphTargetsBuffers[n[o]]),g(r["morphTarget"+o]),He.vertexAttribPointer(r["morphTarget"+o],3,He.FLOAT,!1,0,0)),r["morphNormal"+o]>=0&&t.morphNormals&&(He.bindBuffer(He.ARRAY_BUFFER,e.__webglMorphNormalsBuffers[n[o]]),g(r["morphNormal"+o]),He.vertexAttribPointer(r["morphNormal"+o],3,He.FLOAT,!1,0,0)),i.__webglMorphTargetInfluences[o]=a[n[o]],o++;else{var s,l,c=[],a=i.morphTargetInfluences,h=a.length;for(l=0;h>l;l++)s=a[l],s>0&&c.push([s,l]);c.length>t.numSupportedMorphTargets?(c.sort(S),c.length=t.numSupportedMorphTargets):c.length>t.numSupportedMorphNormals?c.sort(S):0===c.length&&c.push([0,0]);for(var u,o=0;o<t.numSupportedMorphTargets;)c[o]?(u=c[o][1],r["morphTarget"+o]>=0&&(He.bindBuffer(He.ARRAY_BUFFER,e.__webglMorphTargetsBuffers[u]),g(r["morphTarget"+o]),He.vertexAttribPointer(r["morphTarget"+o],3,He.FLOAT,!1,0,0)),r["morphNormal"+o]>=0&&t.morphNormals&&(He.bindBuffer(He.ARRAY_BUFFER,e.__webglMorphNormalsBuffers[u]),g(r["morphNormal"+o]),He.vertexAttribPointer(r["morphNormal"+o],3,He.FLOAT,!1,0,0)),i.__webglMorphTargetInfluences[o]=a[u]):i.__webglMorphTargetInfluences[o]=0,o++}null!==t.program.uniforms.morphTargetInfluences&&He.uniform1fv(t.program.uniforms.morphTargetInfluences,i.__webglMorphTargetInfluences)}function v(t,e){return t.material.id!==e.material.id?e.material.id-t.material.id:t.z!==e.z?e.z-t.z:t.id-e.id}function M(t,e){return t.z!==e.z?t.z-e.z:t.id-e.id}function S(t,e){return e[0]-t[0]}function T(t,e){if(e.visible!==!1){if(e instanceof THREE.Scene||e instanceof THREE.Group);else if(w(e,t),e instanceof THREE.Light)Re.push(e);else if(e instanceof THREE.Sprite)Le.push(e);else if(e instanceof THREE.LensFlare)ke.push(e);else{var i=De[e.id];if(i&&(e.frustumCulled===!1||ui.intersectsObject(e)===!0)){V(e,t);for(var r=0,o=i.length;o>r;r++){var n=i[r];A(n),n.render=!0,Ie.sortObjects===!0&&(null!==e.renderDepth?n.z=e.renderDepth:(fi.setFromMatrixPosition(e.matrixWorld),fi.applyProjection(di),n.z=fi.z))}}}for(var r=0,o=e.children.length;o>r;r++)T(t,e.children[r])}}function x(t,e,i,r,o,n){for(var a,s=t.length-1;-1!==s;s--){var l=t[s],c=l.object,h=l.buffer;if($(c,e),n)a=n;else{if(a=l.material,!a)continue;o&&Ie.setBlending(a.blending,a.blendEquation,a.blendSrc,a.blendDst),Ie.setDepthTest(a.depthTest),Ie.setDepthWrite(a.depthWrite),oe(a.polygonOffset,a.polygonOffsetFactor,a.polygonOffsetUnits)}Ie.setMaterialFaces(a),h instanceof THREE.BufferGeometry?Ie.renderBufferDirect(e,i,r,a,h,c):Ie.renderBuffer(e,i,r,a,h,c)}}function C(t,e,i,r,o,n,a){for(var s,l=0,c=t.length;c>l;l++){var h=t[l],u=h.object;if(u.visible){if(a)s=a;else{if(s=h[e],!s)continue;n&&Ie.setBlending(s.blending,s.blendEquation,s.blendSrc,s.blendDst),Ie.setDepthTest(s.depthTest),Ie.setDepthWrite(s.depthWrite),oe(s.polygonOffset,s.polygonOffsetFactor,s.polygonOffsetUnits)}Ie.renderImmediateObject(i,r,o,s,u)}}}function E(t){var e=t.object,i=e.material;i.transparent?(t.transparent=i,t.opaque=null):(t.opaque=i,t.transparent=null)}function A(t){var e=t.object,i=t.buffer,r=e.geometry,o=e.material;if(o instanceof THREE.MeshFaceMaterial){var n=r instanceof THREE.BufferGeometry?0:i.materialIndex;o=o.materials[n],t.material=o,o.transparent?Ve.push(t):Be.push(t)}else o&&(t.material=o,o.transparent?Ve.push(t):Be.push(t))}function w(t,e){void 0===t.__webglInit&&(t.__webglInit=!0,t._modelViewMatrix=new THREE.Matrix4,t._normalMatrix=new THREE.Matrix3,t.addEventListener("removed",Ii));var o=t.geometry;if(void 0===o||void 0===o.__webglInit&&(o.__webglInit=!0,o.addEventListener("dispose",Oi),o instanceof THREE.BufferGeometry||(t instanceof THREE.Mesh?D(e,t,o):t instanceof THREE.Line?void 0===o.__webglVertexBuffer&&(r(o),s(o,t),o.verticesNeedUpdate=!0,o.colorsNeedUpdate=!0,o.lineDistancesNeedUpdate=!0):t instanceof THREE.PointCloud&&void 0===o.__webglVertexBuffer&&(i(o),a(o,t),o.verticesNeedUpdate=!0,o.colorsNeedUpdate=!0))),void 0===t.__webglActive)if(t.__webglActive=!0,t instanceof THREE.Mesh){if(o instanceof THREE.BufferGeometry)P(De,o,t);else if(o instanceof THREE.Geometry)for(var n=Xi[o.id],l=0,c=n.length;c>l;l++)P(De,n[l],t)}else t instanceof THREE.Line||t instanceof THREE.PointCloud?P(De,o,t):(t instanceof THREE.ImmediateRenderObject||t.immediateRenderCallback)&&B(Pe,t)}function R(t,e){for(var i,r,o=vi.get("OES_element_index_uint")?4294967296:65535,n={},a=t.morphTargets.length,s=t.morphNormals.length,l={},c=[],h=0,u=t.faces.length;u>h;h++){var d=t.faces[h],p=e?d.materialIndex:0;p in n||(n[p]={hash:p,counter:0}),i=n[p].hash+"_"+n[p].counter,i in l||(r={id:qi++,faces3:[],materialIndex:p,vertices:0,numMorphTargets:a,numMorphNormals:s},l[i]=r,c.push(r)),l[i].vertices+3>o&&(n[p].counter+=1,i=n[p].hash+"_"+n[p].counter,i in l||(r={id:qi++,faces3:[],materialIndex:p,vertices:0,numMorphTargets:a,numMorphNormals:s},l[i]=r,c.push(r))),l[i].faces3.push(h),l[i].vertices+=3}return c}function D(t,e,i){var r=e.material,n=!1;(void 0===Xi[i.id]||i.groupsNeedUpdate===!0)&&(delete De[e.id],Xi[i.id]=R(i,r instanceof THREE.MeshFaceMaterial),i.groupsNeedUpdate=!1);for(var a=Xi[i.id],s=0,c=a.length;c>s;s++){var h=a[s];void 0===h.__webglVertexBuffer?(o(h),l(h,e),i.verticesNeedUpdate=!0,i.morphTargetsNeedUpdate=!0,i.elementsNeedUpdate=!0,i.uvsNeedUpdate=!0,i.normalsNeedUpdate=!0,i.tangentsNeedUpdate=!0,i.colorsNeedUpdate=!0,n=!0):n=!1,(n||void 0===e.__webglActive)&&P(De,h,e)}e.__webglActive=!0}function P(t,e,i){var r=i.id;t[r]=t[r]||[],t[r].push({id:r,buffer:e,object:i,material:null,z:0})}function B(t,e){t.push({id:null,object:e,opaque:null,transparent:null,z:0})}function V(t,e){var i,r,o=t.geometry;if(o instanceof THREE.BufferGeometry)f(o);else if(t instanceof THREE.Mesh){o.groupsNeedUpdate===!0&&D(e,t,o);for(var n=Xi[o.id],a=0,s=n.length;s>a;a++){var h=n[a];r=c(t,h),o.groupsNeedUpdate===!0&&l(h,t),i=r.attributes&&L(r),(o.verticesNeedUpdate||o.morphTargetsNeedUpdate||o.elementsNeedUpdate||o.uvsNeedUpdate||o.normalsNeedUpdate||o.colorsNeedUpdate||o.tangentsNeedUpdate||i)&&p(h,t,He.DYNAMIC_DRAW,!o.dynamic,r)}o.verticesNeedUpdate=!1,o.morphTargetsNeedUpdate=!1,o.elementsNeedUpdate=!1,o.uvsNeedUpdate=!1,o.normalsNeedUpdate=!1,o.colorsNeedUpdate=!1,o.tangentsNeedUpdate=!1,r.attributes&&k(r)}else t instanceof THREE.Line?(r=c(t,o),i=r.attributes&&L(r),(o.verticesNeedUpdate||o.colorsNeedUpdate||o.lineDistancesNeedUpdate||i)&&d(o,He.DYNAMIC_DRAW),o.verticesNeedUpdate=!1,o.colorsNeedUpdate=!1,o.lineDistancesNeedUpdate=!1,r.attributes&&k(r)):t instanceof THREE.PointCloud&&(r=c(t,o),i=r.attributes&&L(r),(o.verticesNeedUpdate||o.colorsNeedUpdate||t.sortParticles||i)&&u(o,He.DYNAMIC_DRAW,t),o.verticesNeedUpdate=!1,o.colorsNeedUpdate=!1,r.attributes&&k(r))}function L(t){for(var e in t.attributes)if(t.attributes[e].needsUpdate)return!0;return!1}function k(t){for(var e in t.attributes)t.attributes[e].needsUpdate=!1}function H(t){t instanceof THREE.Mesh||t instanceof THREE.PointCloud||t instanceof THREE.Line?delete De[t.id]:(t instanceof THREE.ImmediateRenderObject||t.immediateRenderCallback)&&I(Pe,t),delete t.__webglInit,delete t._modelViewMatrix,delete t._normalMatrix,delete t.__webglActive}function I(t,e){for(var i=t.length-1;i>=0;i--)t[i].object===e&&t.splice(i,1)}function O(t,e,i,r){t.addEventListener("dispose",Fi);var o;if(t instanceof THREE.MeshDepthMaterial?o="depth":t instanceof THREE.MeshNormalMaterial?o="normal":t instanceof THREE.MeshBasicMaterial?o="basic":t instanceof THREE.MeshLambertMaterial?o="lambert":t instanceof THREE.MeshPhongMaterial?o="phong":t instanceof THREE.LineBasicMaterial?o="basic":t instanceof THREE.LineDashedMaterial?o="dashed":t instanceof THREE.PointCloudMaterial&&(o="particle_basic"),o){var n=THREE.ShaderLib[o];t.__webglShader={uniforms:THREE.UniformsUtils.clone(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader}}else t.__webglShader={uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};var a=_e(e),s=me(e),l=fe(r),c={precision:be,supportsVertexTextures:Ci,map:!!t.map,envMap:!!t.envMap,lightMap:!!t.lightMap,bumpMap:!!t.bumpMap,normalMap:!!t.normalMap,specularMap:!!t.specularMap,alphaMap:!!t.alphaMap,vertexColors:t.vertexColors,fog:i,useFog:t.fog,fogExp:i instanceof THREE.FogExp2,sizeAttenuation:t.sizeAttenuation,logarithmicDepthBuffer:Ee,skinning:t.skinning,maxBones:l,useVertexTexture:Ei&&r&&r.skeleton&&r.skeleton.useVertexTexture,morphTargets:t.morphTargets,morphNormals:t.morphNormals,maxMorphTargets:Ie.maxMorphTargets,maxMorphNormals:Ie.maxMorphNormals,maxDirLights:a.directional,maxPointLights:a.point,maxSpotLights:a.spot,maxHemiLights:a.hemi,maxShadows:s,shadowMapEnabled:Ie.shadowMapEnabled&&r.receiveShadow&&s>0,shadowMapType:Ie.shadowMapType,shadowMapDebug:Ie.shadowMapDebug,shadowMapCascade:Ie.shadowMapCascade,alphaTest:t.alphaTest,metal:t.metal,wrapAround:t.wrapAround,doubleSided:t.side===THREE.DoubleSide,flipSided:t.side===THREE.BackSide},h=[];if(o?h.push(o):(h.push(t.fragmentShader),h.push(t.vertexShader)),void 0!==t.defines)for(var u in t.defines)h.push(u),h.push(t.defines[u]);for(var u in c)h.push(u),h.push(c[u]);for(var d,p=h.join(),f=0,_=Oe.length;_>f;f++){var m=Oe[f];if(m.code===p){d=m,d.usedTimes++;break}}void 0===d&&(d=new THREE.WebGLProgram(Ie,p,t,c),Oe.push(d),Ie.info.memory.programs=Oe.length),t.program=d;var g=d.attributes;if(t.morphTargets){t.numSupportedMorphTargets=0;for(var y,b="morphTarget",v=0;v<Ie.maxMorphTargets;v++)y=b+v,g[y]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals){t.numSupportedMorphNormals=0;var y,b="morphNormal";for(v=0;v<Ie.maxMorphNormals;v++)y=b+v,g[y]>=0&&t.numSupportedMorphNormals++}t.uniformsList=[];for(var M in t.__webglShader.uniforms){var S=t.program.uniforms[M];S&&t.uniformsList.push([t.__webglShader.uniforms[M],S])}}function J(t,e,i,r,o){je=0,r.needsUpdate&&(r.program&&Wi(r),O(r,e,i,o),r.needsUpdate=!1),r.morphTargets&&(o.__webglMorphTargetInfluences||(o.__webglMorphTargetInfluences=new Float32Array(Ie.maxMorphTargets)));var n=!1,a=!1,s=!1,l=r.program,c=l.uniforms,h=r.__webglShader.uniforms;if(l.id!==Je&&(He.useProgram(l.program),Je=l.id,n=!0,a=!0,s=!0),r.id!==Fe&&(-1===Fe&&(s=!0),Fe=r.id,a=!0),(n||t!==ze)&&(He.uniformMatrix4fv(c.projectionMatrix,!1,t.projectionMatrix.elements),Ee&&He.uniform1f(c.logDepthBufFC,2/(Math.log(t.far+1)/Math.LN2)),t!==ze&&(ze=t),(r instanceof THREE.ShaderMaterial||r instanceof THREE.MeshPhongMaterial||r.envMap)&&null!==c.cameraPosition&&(fi.setFromMatrixPosition(t.matrixWorld),He.uniform3f(c.cameraPosition,fi.x,fi.y,fi.z)),(r instanceof THREE.MeshPhongMaterial||r instanceof THREE.MeshLambertMaterial||r instanceof THREE.ShaderMaterial||r.skinning)&&null!==c.viewMatrix&&He.uniformMatrix4fv(c.viewMatrix,!1,t.matrixWorldInverse.elements)),r.skinning)if(o.bindMatrix&&null!==c.bindMatrix&&He.uniformMatrix4fv(c.bindMatrix,!1,o.bindMatrix.elements),o.bindMatrixInverse&&null!==c.bindMatrixInverse&&He.uniformMatrix4fv(c.bindMatrixInverse,!1,o.bindMatrixInverse.elements),Ei&&o.skeleton&&o.skeleton.useVertexTexture){if(null!==c.boneTexture){var u=Q();He.uniform1i(c.boneTexture,u),Ie.setTexture(o.skeleton.boneTexture,u)}null!==c.boneTextureWidth&&He.uniform1i(c.boneTextureWidth,o.skeleton.boneTextureWidth),null!==c.boneTextureHeight&&He.uniform1i(c.boneTextureHeight,o.skeleton.boneTextureHeight)}else o.skeleton&&o.skeleton.boneMatrices&&null!==c.boneGlobalMatrices&&He.uniformMatrix4fv(c.boneGlobalMatrices,!1,o.skeleton.boneMatrices);return a&&(i&&r.fog&&j(h,i),(r instanceof THREE.MeshPhongMaterial||r instanceof THREE.MeshLambertMaterial||r.lights)&&(mi&&(s=!0,ie(e),mi=!1),s?(X(h,gi),q(h,!0)):q(h,!1)),(r instanceof THREE.MeshBasicMaterial||r instanceof THREE.MeshLambertMaterial||r instanceof THREE.MeshPhongMaterial)&&N(h,r),r instanceof THREE.LineBasicMaterial?F(h,r):r instanceof THREE.LineDashedMaterial?(F(h,r),G(h,r)):r instanceof THREE.PointCloudMaterial?z(h,r):r instanceof THREE.MeshPhongMaterial?U(h,r):r instanceof THREE.MeshLambertMaterial?W(h,r):r instanceof THREE.MeshDepthMaterial?(h.mNear.value=t.near,h.mFar.value=t.far,h.opacity.value=r.opacity):r instanceof THREE.MeshNormalMaterial&&(h.opacity.value=r.opacity),o.receiveShadow&&!r._shadowPass&&K(h,e),Z(r.uniformsList)),Y(c,o),null!==c.modelMatrix&&He.uniformMatrix4fv(c.modelMatrix,!1,o.matrixWorld.elements),l}function N(t,e){t.opacity.value=e.opacity,Ie.gammaInput?t.diffuse.value.copyGammaToLinear(e.color):t.diffuse.value=e.color,t.map.value=e.map,t.lightMap.value=e.lightMap,t.specularMap.value=e.specularMap,t.alphaMap.value=e.alphaMap,e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale));var i;if(e.map?i=e.map:e.specularMap?i=e.specularMap:e.normalMap?i=e.normalMap:e.bumpMap?i=e.bumpMap:e.alphaMap&&(i=e.alphaMap),void 0!==i){var r=i.offset,o=i.repeat;t.offsetRepeat.value.set(r.x,r.y,o.x,o.y)}t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap instanceof THREE.WebGLRenderTargetCube?1:-1,t.reflectivity.value=Ie.gammaInput?e.reflectivity:e.reflectivity,t.refractionRatio.value=e.refractionRatio,t.combine.value=e.combine,t.useRefract.value=e.envMap&&e.envMap.mapping instanceof THREE.CubeRefractionMapping}function F(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity}function G(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}function z(t,e){t.psColor.value=e.color,t.opacity.value=e.opacity,t.size.value=e.size,t.scale.value=ge.height/2,t.map.value=e.map}function j(t,e){t.fogColor.value=e.color,e instanceof THREE.Fog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e instanceof THREE.FogExp2&&(t.fogDensity.value=e.density)}function U(t,e){t.shininess.value=e.shininess,Ie.gammaInput?(t.ambient.value.copyGammaToLinear(e.ambient),t.emissive.value.copyGammaToLinear(e.emissive),t.specular.value.copyGammaToLinear(e.specular)):(t.ambient.value=e.ambient,t.emissive.value=e.emissive,t.specular.value=e.specular),e.wrapAround&&t.wrapRGB.value.copy(e.wrapRGB)}function W(t,e){Ie.gammaInput?(t.ambient.value.copyGammaToLinear(e.ambient),t.emissive.value.copyGammaToLinear(e.emissive)):(t.ambient.value=e.ambient,t.emissive.value=e.emissive),e.wrapAround&&t.wrapRGB.value.copy(e.wrapRGB)}function X(t,e){t.ambientLightColor.value=e.ambient,t.directionalLightColor.value=e.directional.colors,t.directionalLightDirection.value=e.directional.positions,t.pointLightColor.value=e.point.colors,t.pointLightPosition.value=e.point.positions,t.pointLightDistance.value=e.point.distances,t.spotLightColor.value=e.spot.colors,t.spotLightPosition.value=e.spot.positions,t.spotLightDistance.value=e.spot.distances,t.spotLightDirection.value=e.spot.directions,t.spotLightAngleCos.value=e.spot.anglesCos,t.spotLightExponent.value=e.spot.exponents,t.hemisphereLightSkyColor.value=e.hemi.skyColors,t.hemisphereLightGroundColor.value=e.hemi.groundColors,t.hemisphereLightDirection.value=e.hemi.positions}function q(t,e){t.ambientLightColor.needsUpdate=e,t.directionalLightColor.needsUpdate=e,t.directionalLightDirection.needsUpdate=e,t.pointLightColor.needsUpdate=e,t.pointLightPosition.needsUpdate=e,t.pointLightDistance.needsUpdate=e,t.spotLightColor.needsUpdate=e,t.spotLightPosition.needsUpdate=e,t.spotLightDistance.needsUpdate=e,t.spotLightDirection.needsUpdate=e,t.spotLightAngleCos.needsUpdate=e,t.spotLightExponent.needsUpdate=e,t.hemisphereLightSkyColor.needsUpdate=e,t.hemisphereLightGroundColor.needsUpdate=e,t.hemisphereLightDirection.needsUpdate=e}function K(t,e){if(t.shadowMatrix)for(var i=0,r=0,o=e.length;o>r;r++){var n=e[r];n.castShadow&&(n instanceof THREE.SpotLight||n instanceof THREE.DirectionalLight&&!n.shadowCascade)&&(t.shadowMap.value[i]=n.shadowMap,t.shadowMapSize.value[i]=n.shadowMapSize,t.shadowMatrix.value[i]=n.shadowMatrix,t.shadowDarkness.value[i]=n.shadowDarkness,t.shadowBias.value[i]=n.shadowBias,i++)}}function Y(t,e){He.uniformMatrix4fv(t.modelViewMatrix,!1,e._modelViewMatrix.elements),t.normalMatrix&&He.uniformMatrix3fv(t.normalMatrix,!1,e._normalMatrix.elements)}function Q(){var t=je;return t>=Mi&&console.warn("WebGLRenderer: trying to use "+t+" texture units while this GPU supports only "+Mi),je+=1,t}function Z(t){for(var e,i,r,o=0,n=t.length;n>o;o++){var a=t[o][0];if(a.needsUpdate!==!1){var s=a.type,l=a.value,c=t[o][1];switch(s){case"1i":He.uniform1i(c,l);break;case"1f":He.uniform1f(c,l);break;case"2f":He.uniform2f(c,l[0],l[1]);break;case"3f":He.uniform3f(c,l[0],l[1],l[2]);break;case"4f":He.uniform4f(c,l[0],l[1],l[2],l[3]);break;case"1iv":He.uniform1iv(c,l);break;case"3iv":He.uniform3iv(c,l);break;case"1fv":He.uniform1fv(c,l);break;case"2fv":He.uniform2fv(c,l);break;case"3fv":He.uniform3fv(c,l);break;case"4fv":He.uniform4fv(c,l);break;case"Matrix3fv":He.uniformMatrix3fv(c,!1,l);break;case"Matrix4fv":He.uniformMatrix4fv(c,!1,l);break;case"i":He.uniform1i(c,l);break;case"f":He.uniform1f(c,l);break;case"v2":He.uniform2f(c,l.x,l.y);break;case"v3":He.uniform3f(c,l.x,l.y,l.z);break;case"v4":He.uniform4f(c,l.x,l.y,l.z,l.w);break;case"c":He.uniform3f(c,l.r,l.g,l.b);break;case"iv1":He.uniform1iv(c,l);break;case"iv":He.uniform3iv(c,l);break;case"fv1":He.uniform1fv(c,l);break;case"fv":He.uniform3fv(c,l);break;case"v2v":void 0===a._array&&(a._array=new Float32Array(2*l.length));for(var h=0,u=l.length;u>h;h++)r=2*h,a._array[r]=l[h].x,a._array[r+1]=l[h].y;He.uniform2fv(c,a._array);break;case"v3v":void 0===a._array&&(a._array=new Float32Array(3*l.length));for(var h=0,u=l.length;u>h;h++)r=3*h,a._array[r]=l[h].x,a._array[r+1]=l[h].y,a._array[r+2]=l[h].z;He.uniform3fv(c,a._array);break;case"v4v":void 0===a._array&&(a._array=new Float32Array(4*l.length));for(var h=0,u=l.length;u>h;h++)r=4*h,a._array[r]=l[h].x,a._array[r+1]=l[h].y,a._array[r+2]=l[h].z,a._array[r+3]=l[h].w;He.uniform4fv(c,a._array);break;case"m3":He.uniformMatrix3fv(c,!1,l.elements);break;case"m3v":void 0===a._array&&(a._array=new Float32Array(9*l.length));for(var h=0,u=l.length;u>h;h++)l[h].flattenToArrayOffset(a._array,9*h);He.uniformMatrix3fv(c,!1,a._array);break;case"m4":He.uniformMatrix4fv(c,!1,l.elements);break;case"m4v":void 0===a._array&&(a._array=new Float32Array(16*l.length));for(var h=0,u=l.length;u>h;h++)l[h].flattenToArrayOffset(a._array,16*h);He.uniformMatrix4fv(c,!1,a._array);
break;case"t":if(e=l,i=Q(),He.uniform1i(c,i),!e)continue;e instanceof THREE.CubeTexture||e.image instanceof Array&&6===e.image.length?se(e,i):e instanceof THREE.WebGLRenderTargetCube?le(e,i):Ie.setTexture(e,i);break;case"tv":void 0===a._array&&(a._array=[]);for(var h=0,u=a.value.length;u>h;h++)a._array[h]=Q();He.uniform1iv(c,a._array);for(var h=0,u=a.value.length;u>h;h++)e=a.value[h],i=a._array[h],e&&Ie.setTexture(e,i);break;default:console.warn("THREE.WebGLRenderer: Unknown uniform type: "+s)}}}}function $(t,e){t._modelViewMatrix.multiplyMatrices(e.matrixWorldInverse,t.matrixWorld),t._normalMatrix.getNormalMatrix(t._modelViewMatrix)}function te(t,e,i,r){t[e]=i.r*i.r*r,t[e+1]=i.g*i.g*r,t[e+2]=i.b*i.b*r}function ee(t,e,i,r){t[e]=i.r*r,t[e+1]=i.g*r,t[e+2]=i.b*r}function ie(t){var e,i,r,o,n,a,s,l,c,h=0,u=0,d=0,p=gi,f=p.directional.colors,_=p.directional.positions,m=p.point.colors,g=p.point.positions,y=p.point.distances,b=p.spot.colors,v=p.spot.positions,M=p.spot.distances,S=p.spot.directions,T=p.spot.anglesCos,x=p.spot.exponents,C=p.hemi.skyColors,E=p.hemi.groundColors,A=p.hemi.positions,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0;for(e=0,i=t.length;i>e;e++)if(r=t[e],!r.onlyShadow)if(o=r.color,s=r.intensity,c=r.distance,r instanceof THREE.AmbientLight){if(!r.visible)continue;Ie.gammaInput?(h+=o.r*o.r,u+=o.g*o.g,d+=o.b*o.b):(h+=o.r,u+=o.g,d+=o.b)}else if(r instanceof THREE.DirectionalLight){if(B+=1,!r.visible)continue;_i.setFromMatrixPosition(r.matrixWorld),fi.setFromMatrixPosition(r.target.matrixWorld),_i.sub(fi),_i.normalize(),H=3*w,_[H]=_i.x,_[H+1]=_i.y,_[H+2]=_i.z,Ie.gammaInput?te(f,H,o,s*s):ee(f,H,o,s),w+=1}else if(r instanceof THREE.PointLight){if(V+=1,!r.visible)continue;I=3*R,Ie.gammaInput?te(m,I,o,s*s):ee(m,I,o,s),fi.setFromMatrixPosition(r.matrixWorld),g[I]=fi.x,g[I+1]=fi.y,g[I+2]=fi.z,y[R]=c,R+=1}else if(r instanceof THREE.SpotLight){if(L+=1,!r.visible)continue;O=3*D,Ie.gammaInput?te(b,O,o,s*s):ee(b,O,o,s),_i.setFromMatrixPosition(r.matrixWorld),v[O]=_i.x,v[O+1]=_i.y,v[O+2]=_i.z,M[D]=c,fi.setFromMatrixPosition(r.target.matrixWorld),_i.sub(fi),_i.normalize(),S[O]=_i.x,S[O+1]=_i.y,S[O+2]=_i.z,T[D]=Math.cos(r.angle),x[D]=r.exponent,D+=1}else if(r instanceof THREE.HemisphereLight){if(k+=1,!r.visible)continue;_i.setFromMatrixPosition(r.matrixWorld),_i.normalize(),J=3*P,A[J]=_i.x,A[J+1]=_i.y,A[J+2]=_i.z,n=r.color,a=r.groundColor,Ie.gammaInput?(l=s*s,te(C,J,n,l),te(E,J,a,l)):(ee(C,J,n,s),ee(E,J,a,s)),P+=1}for(e=3*w,i=Math.max(f.length,3*B);i>e;e++)f[e]=0;for(e=3*R,i=Math.max(m.length,3*V);i>e;e++)m[e]=0;for(e=3*D,i=Math.max(b.length,3*L);i>e;e++)b[e]=0;for(e=3*P,i=Math.max(C.length,3*k);i>e;e++)C[e]=0;for(e=3*P,i=Math.max(E.length,3*k);i>e;e++)E[e]=0;p.directional.length=w,p.point.length=R,p.spot.length=D,p.hemi.length=P,p.ambient[0]=h,p.ambient[1]=u,p.ambient[2]=d}function re(t){t!==ii&&(He.lineWidth(t),ii=t)}function oe(t,e,i){$e!==t&&(t?He.enable(He.POLYGON_OFFSET_FILL):He.disable(He.POLYGON_OFFSET_FILL),$e=t),!t||ti===e&&ei===i||(He.polygonOffset(e,i),ti=e,ei=i)}function ne(t,e,i){var r;i?(He.texParameteri(t,He.TEXTURE_WRAP_S,pe(e.wrapS)),He.texParameteri(t,He.TEXTURE_WRAP_T,pe(e.wrapT)),He.texParameteri(t,He.TEXTURE_MAG_FILTER,pe(e.magFilter)),He.texParameteri(t,He.TEXTURE_MIN_FILTER,pe(e.minFilter))):(He.texParameteri(t,He.TEXTURE_WRAP_S,He.CLAMP_TO_EDGE),He.texParameteri(t,He.TEXTURE_WRAP_T,He.CLAMP_TO_EDGE),He.texParameteri(t,He.TEXTURE_MAG_FILTER,de(e.magFilter)),He.texParameteri(t,He.TEXTURE_MIN_FILTER,de(e.minFilter))),r=vi.get("EXT_texture_filter_anisotropic"),r&&e.type!==THREE.FloatType&&(e.anisotropy>1||e.__oldAnisotropy)&&(He.texParameterf(t,r.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(e.anisotropy,Ie.getMaxAnisotropy())),e.__oldAnisotropy=e.anisotropy)}function ae(t,e){if(t.width>e||t.height>e){var i=e/Math.max(t.width,t.height),r=document.createElement("canvas");r.width=Math.floor(t.width*i),r.height=Math.floor(t.height*i);var o=r.getContext("2d");return o.drawImage(t,0,0,t.width,t.height,0,0,r.width,r.height),console.log("THREE.WebGLRenderer:",t,"is too big ("+t.width+"x"+t.height+"). Resized to "+r.width+"x"+r.height+"."),r}return t}function se(t,e){if(6===t.image.length)if(t.needsUpdate){t.image.__webglTextureCube||(t.addEventListener("dispose",Ji),t.image.__webglTextureCube=He.createTexture(),Ie.info.memory.textures++),He.activeTexture(He.TEXTURE0+e),He.bindTexture(He.TEXTURE_CUBE_MAP,t.image.__webglTextureCube),He.pixelStorei(He.UNPACK_FLIP_Y_WEBGL,t.flipY);for(var i=t instanceof THREE.CompressedTexture,r=t.image[0]instanceof THREE.DataTexture,o=[],n=0;6>n;n++)o[n]=!Ie.autoScaleCubemaps||i||r?r?t.image[n].image:t.image[n]:ae(t.image[n],xi);var a=o[0],s=THREE.Math.isPowerOfTwo(a.width)&&THREE.Math.isPowerOfTwo(a.height),l=pe(t.format),c=pe(t.type);ne(He.TEXTURE_CUBE_MAP,t,s);for(var n=0;6>n;n++)if(i)for(var h,u=o[n].mipmaps,d=0,p=u.length;p>d;d++)h=u[d],t.format!==THREE.RGBAFormat&&t.format!==THREE.RGBFormat?Pi().indexOf(l)>-1?He.compressedTexImage2D(He.TEXTURE_CUBE_MAP_POSITIVE_X+n,d,l,h.width,h.height,0,h.data):console.warn("Attempt to load unsupported compressed texture format"):He.texImage2D(He.TEXTURE_CUBE_MAP_POSITIVE_X+n,d,l,h.width,h.height,0,l,c,h.data);else r?He.texImage2D(He.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,l,o[n].width,o[n].height,0,l,c,o[n].data):He.texImage2D(He.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,l,l,c,o[n]);t.generateMipmaps&&s&&He.generateMipmap(He.TEXTURE_CUBE_MAP),t.needsUpdate=!1,t.onUpdate&&t.onUpdate()}else He.activeTexture(He.TEXTURE0+e),He.bindTexture(He.TEXTURE_CUBE_MAP,t.image.__webglTextureCube)}function le(t,e){He.activeTexture(He.TEXTURE0+e),He.bindTexture(He.TEXTURE_CUBE_MAP,t.__webglTexture)}function ce(t,e,i){He.bindFramebuffer(He.FRAMEBUFFER,t),He.framebufferTexture2D(He.FRAMEBUFFER,He.COLOR_ATTACHMENT0,i,e.__webglTexture,0)}function he(t,e){He.bindRenderbuffer(He.RENDERBUFFER,t),e.depthBuffer&&!e.stencilBuffer?(He.renderbufferStorage(He.RENDERBUFFER,He.DEPTH_COMPONENT16,e.width,e.height),He.framebufferRenderbuffer(He.FRAMEBUFFER,He.DEPTH_ATTACHMENT,He.RENDERBUFFER,t)):e.depthBuffer&&e.stencilBuffer?(He.renderbufferStorage(He.RENDERBUFFER,He.DEPTH_STENCIL,e.width,e.height),He.framebufferRenderbuffer(He.FRAMEBUFFER,He.DEPTH_STENCIL_ATTACHMENT,He.RENDERBUFFER,t)):He.renderbufferStorage(He.RENDERBUFFER,He.RGBA4,e.width,e.height)}function ue(t){t instanceof THREE.WebGLRenderTargetCube?(He.bindTexture(He.TEXTURE_CUBE_MAP,t.__webglTexture),He.generateMipmap(He.TEXTURE_CUBE_MAP),He.bindTexture(He.TEXTURE_CUBE_MAP,null)):(He.bindTexture(He.TEXTURE_2D,t.__webglTexture),He.generateMipmap(He.TEXTURE_2D),He.bindTexture(He.TEXTURE_2D,null))}function de(t){return t===THREE.NearestFilter||t===THREE.NearestMipMapNearestFilter||t===THREE.NearestMipMapLinearFilter?He.NEAREST:He.LINEAR}function pe(t){var e;if(t===THREE.RepeatWrapping)return He.REPEAT;if(t===THREE.ClampToEdgeWrapping)return He.CLAMP_TO_EDGE;if(t===THREE.MirroredRepeatWrapping)return He.MIRRORED_REPEAT;if(t===THREE.NearestFilter)return He.NEAREST;if(t===THREE.NearestMipMapNearestFilter)return He.NEAREST_MIPMAP_NEAREST;if(t===THREE.NearestMipMapLinearFilter)return He.NEAREST_MIPMAP_LINEAR;if(t===THREE.LinearFilter)return He.LINEAR;if(t===THREE.LinearMipMapNearestFilter)return He.LINEAR_MIPMAP_NEAREST;if(t===THREE.LinearMipMapLinearFilter)return He.LINEAR_MIPMAP_LINEAR;if(t===THREE.UnsignedByteType)return He.UNSIGNED_BYTE;if(t===THREE.UnsignedShort4444Type)return He.UNSIGNED_SHORT_4_4_4_4;if(t===THREE.UnsignedShort5551Type)return He.UNSIGNED_SHORT_5_5_5_1;if(t===THREE.UnsignedShort565Type)return He.UNSIGNED_SHORT_5_6_5;if(t===THREE.ByteType)return He.BYTE;if(t===THREE.ShortType)return He.SHORT;if(t===THREE.UnsignedShortType)return He.UNSIGNED_SHORT;if(t===THREE.IntType)return He.INT;if(t===THREE.UnsignedIntType)return He.UNSIGNED_INT;if(t===THREE.FloatType)return He.FLOAT;if(t===THREE.AlphaFormat)return He.ALPHA;if(t===THREE.RGBFormat)return He.RGB;if(t===THREE.RGBAFormat)return He.RGBA;if(t===THREE.LuminanceFormat)return He.LUMINANCE;if(t===THREE.LuminanceAlphaFormat)return He.LUMINANCE_ALPHA;if(t===THREE.AddEquation)return He.FUNC_ADD;if(t===THREE.SubtractEquation)return He.FUNC_SUBTRACT;if(t===THREE.ReverseSubtractEquation)return He.FUNC_REVERSE_SUBTRACT;if(t===THREE.ZeroFactor)return He.ZERO;if(t===THREE.OneFactor)return He.ONE;if(t===THREE.SrcColorFactor)return He.SRC_COLOR;if(t===THREE.OneMinusSrcColorFactor)return He.ONE_MINUS_SRC_COLOR;if(t===THREE.SrcAlphaFactor)return He.SRC_ALPHA;if(t===THREE.OneMinusSrcAlphaFactor)return He.ONE_MINUS_SRC_ALPHA;if(t===THREE.DstAlphaFactor)return He.DST_ALPHA;if(t===THREE.OneMinusDstAlphaFactor)return He.ONE_MINUS_DST_ALPHA;if(t===THREE.DstColorFactor)return He.DST_COLOR;if(t===THREE.OneMinusDstColorFactor)return He.ONE_MINUS_DST_COLOR;if(t===THREE.SrcAlphaSaturateFactor)return He.SRC_ALPHA_SATURATE;if(e=vi.get("WEBGL_compressed_texture_s3tc"),null!==e){if(t===THREE.RGB_S3TC_DXT1_Format)return e.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===THREE.RGBA_S3TC_DXT1_Format)return e.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===THREE.RGBA_S3TC_DXT3_Format)return e.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===THREE.RGBA_S3TC_DXT5_Format)return e.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(e=vi.get("WEBGL_compressed_texture_pvrtc"),null!==e){if(t===THREE.RGB_PVRTC_4BPPV1_Format)return e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===THREE.RGB_PVRTC_2BPPV1_Format)return e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===THREE.RGBA_PVRTC_4BPPV1_Format)return e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===THREE.RGBA_PVRTC_2BPPV1_Format)return e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(e=vi.get("EXT_blend_minmax"),null!==e){if(t===THREE.MinEquation)return e.MIN_EXT;if(t===THREE.MaxEquation)return e.MAX_EXT}return 0}function fe(t){if(Ei&&t&&t.skeleton&&t.skeleton.useVertexTexture)return 1024;var e=He.getParameter(He.MAX_VERTEX_UNIFORM_VECTORS),i=Math.floor((e-20)/4),r=i;return void 0!==t&&t instanceof THREE.SkinnedMesh&&(r=Math.min(t.skeleton.bones.length,r),r<t.skeleton.bones.length&&console.warn("WebGLRenderer: too many bones - "+t.skeleton.bones.length+", this GPU supports just "+r+" (try OpenGL instead of ANGLE)")),r}function _e(t){for(var e=0,i=0,r=0,o=0,n=0,a=t.length;a>n;n++){var s=t[n];s.onlyShadow||s.visible===!1||(s instanceof THREE.DirectionalLight&&e++,s instanceof THREE.PointLight&&i++,s instanceof THREE.SpotLight&&r++,s instanceof THREE.HemisphereLight&&o++)}return{directional:e,point:i,spot:r,hemi:o}}function me(t){for(var e=0,i=0,r=t.length;r>i;i++){var o=t[i];o.castShadow&&(o instanceof THREE.SpotLight&&e++,o instanceof THREE.DirectionalLight&&!o.shadowCascade&&e++)}return e}console.log("THREE.WebGLRenderer",THREE.REVISION),t=t||{};var ge=void 0!==t.canvas?t.canvas:document.createElement("canvas"),ye=void 0!==t.context?t.context:null,be=void 0!==t.precision?t.precision:"highp",ve=void 0!==t.alpha?t.alpha:!1,Me=void 0!==t.depth?t.depth:!0,Se=void 0!==t.stencil?t.stencil:!0,Te=void 0!==t.antialias?t.antialias:!1,xe=void 0!==t.premultipliedAlpha?t.premultipliedAlpha:!0,Ce=void 0!==t.preserveDrawingBuffer?t.preserveDrawingBuffer:!1,Ee=void 0!==t.logarithmicDepthBuffer?t.logarithmicDepthBuffer:!1,Ae=new THREE.Color(0),we=0,Re=[],De={},Pe=[],Be=[],Ve=[],Le=[],ke=[];this.domElement=ge,this.context=null,this.devicePixelRatio=void 0!==t.devicePixelRatio?t.devicePixelRatio:void 0!==self.devicePixelRatio?self.devicePixelRatio:1,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.gammaInput=!1,this.gammaOutput=!1,this.shadowMapEnabled=!1,this.shadowMapType=THREE.PCFShadowMap,this.shadowMapCullFace=THREE.CullFaceFront,this.shadowMapDebug=!1,this.shadowMapCascade=!1,this.maxMorphTargets=8,this.maxMorphNormals=4,this.autoScaleCubemaps=!0,this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}};var He,Ie=this,Oe=[],Je=null,Ne=null,Fe=-1,Ge=-1,ze=null,je=0,Ue=-1,We=-1,Xe=-1,qe=-1,Ke=-1,Ye=-1,Qe=-1,Ze=-1,$e=null,ti=null,ei=null,ii=null,ri=0,oi=0,ni=ge.width,ai=ge.height,si=0,li=0,ci=new Uint8Array(16),hi=new Uint8Array(16),ui=new THREE.Frustum,di=new THREE.Matrix4,pi=new THREE.Matrix4,fi=new THREE.Vector3,_i=new THREE.Vector3,mi=!0,gi={ambient:[0,0,0],directional:{length:0,colors:[],positions:[]},point:{length:0,colors:[],positions:[],distances:[]},spot:{length:0,colors:[],positions:[],distances:[],directions:[],anglesCos:[],exponents:[]},hemi:{length:0,skyColors:[],groundColors:[],positions:[]}};try{var yi={alpha:ve,depth:Me,stencil:Se,antialias:Te,premultipliedAlpha:xe,preserveDrawingBuffer:Ce};if(He=ye||ge.getContext("webgl",yi)||ge.getContext("experimental-webgl",yi),null===He)throw null!==ge.getContext("webgl")?"Error creating WebGL context with your selected attributes.":"Error creating WebGL context."}catch(bi){console.error(bi)}void 0===He.getShaderPrecisionFormat&&(He.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}});var vi=new THREE.WebGLExtensions(He);vi.get("OES_texture_float"),vi.get("OES_texture_float_linear"),vi.get("OES_standard_derivatives"),Ee&&vi.get("EXT_frag_depth"),e(),this.context=He;var Mi=He.getParameter(He.MAX_TEXTURE_IMAGE_UNITS),Si=He.getParameter(He.MAX_VERTEX_TEXTURE_IMAGE_UNITS),Ti=He.getParameter(He.MAX_TEXTURE_SIZE),xi=He.getParameter(He.MAX_CUBE_MAP_TEXTURE_SIZE),Ci=Si>0,Ei=Ci&&vi.get("OES_texture_float"),Ai=He.getShaderPrecisionFormat(He.VERTEX_SHADER,He.HIGH_FLOAT),wi=He.getShaderPrecisionFormat(He.VERTEX_SHADER,He.MEDIUM_FLOAT),Ri=(He.getShaderPrecisionFormat(He.VERTEX_SHADER,He.LOW_FLOAT),He.getShaderPrecisionFormat(He.FRAGMENT_SHADER,He.HIGH_FLOAT)),Di=He.getShaderPrecisionFormat(He.FRAGMENT_SHADER,He.MEDIUM_FLOAT),Pi=(He.getShaderPrecisionFormat(He.FRAGMENT_SHADER,He.LOW_FLOAT),function(){var t;return function(){if(void 0!==t)return t;if(t=[],vi.get("WEBGL_compressed_texture_pvrtc")||vi.get("WEBGL_compressed_texture_s3tc"))for(var e=He.getParameter(He.COMPRESSED_TEXTURE_FORMATS),i=0;i<e.length;i++)t.push(e[i]);return t}}()),Bi=Ai.precision>0&&Ri.precision>0,Vi=wi.precision>0&&Di.precision>0;"highp"!==be||Bi||(Vi?(be="mediump",console.warn("THREE.WebGLRenderer: highp not supported, using mediump.")):(be="lowp",console.warn("THREE.WebGLRenderer: highp and mediump not supported, using lowp."))),"mediump"!==be||Vi||(be="lowp",console.warn("THREE.WebGLRenderer: mediump not supported, using lowp."));var Li=new THREE.ShadowMapPlugin(this,Re,De,Pe),ki=new THREE.SpritePlugin(this,Le),Hi=new THREE.LensFlarePlugin(this,ke);this.getContext=function(){return He},this.supportsVertexTextures=function(){return Ci},this.supportsFloatTextures=function(){return vi.get("OES_texture_float")},this.supportsStandardDerivatives=function(){return vi.get("OES_standard_derivatives")},this.supportsCompressedTextureS3TC=function(){return vi.get("WEBGL_compressed_texture_s3tc")},this.supportsCompressedTexturePVRTC=function(){return vi.get("WEBGL_compressed_texture_pvrtc")},this.supportsBlendMinMax=function(){return vi.get("EXT_blend_minmax")},this.getMaxAnisotropy=function(){var t;return function(){if(void 0!==t)return t;var e=vi.get("EXT_texture_filter_anisotropic");return t=null!==e?He.getParameter(e.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}}(),this.getPrecision=function(){return be},this.setSize=function(t,e,i){ge.width=t*this.devicePixelRatio,ge.height=e*this.devicePixelRatio,i!==!1&&(ge.style.width=t+"px",ge.style.height=e+"px"),this.setViewport(0,0,t,e)},this.setViewport=function(t,e,i,r){ri=t*this.devicePixelRatio,oi=e*this.devicePixelRatio,ni=i*this.devicePixelRatio,ai=r*this.devicePixelRatio,He.viewport(ri,oi,ni,ai)},this.setScissor=function(t,e,i,r){He.scissor(t*this.devicePixelRatio,e*this.devicePixelRatio,i*this.devicePixelRatio,r*this.devicePixelRatio)},this.enableScissorTest=function(t){t?He.enable(He.SCISSOR_TEST):He.disable(He.SCISSOR_TEST)},this.setClearColor=function(t,e){Ae.set(t),we=void 0!==e?e:1,He.clearColor(Ae.r,Ae.g,Ae.b,we)},this.setClearColorHex=function(t,e){console.warn("THREE.WebGLRenderer: .setClearColorHex() is being removed. Use .setClearColor() instead."),this.setClearColor(t,e)},this.getClearColor=function(){return Ae},this.getClearAlpha=function(){return we},this.clear=function(t,e,i){var r=0;(void 0===t||t)&&(r|=He.COLOR_BUFFER_BIT),(void 0===e||e)&&(r|=He.DEPTH_BUFFER_BIT),(void 0===i||i)&&(r|=He.STENCIL_BUFFER_BIT),He.clear(r)},this.clearColor=function(){He.clear(He.COLOR_BUFFER_BIT)},this.clearDepth=function(){He.clear(He.DEPTH_BUFFER_BIT)},this.clearStencil=function(){He.clear(He.STENCIL_BUFFER_BIT)},this.clearTarget=function(t,e,i,r){this.setRenderTarget(t),this.clear(e,i,r)},this.resetGLState=function(){Je=null,ze=null,Xe=-1,Qe=-1,Ze=-1,Ue=-1,We=-1,Ge=-1,Fe=-1,mi=!0};var Ii=function(t){var e=t.target;e.traverse(function(t){t.removeEventListener("remove",Ii),H(t)})},Oi=function(t){var e=t.target;e.removeEventListener("dispose",Oi),zi(e)},Ji=function(t){var e=t.target;e.removeEventListener("dispose",Ji),ji(e),Ie.info.memory.textures--},Ni=function(t){var e=t.target;e.removeEventListener("dispose",Ni),Ui(e),Ie.info.memory.textures--},Fi=function(t){var e=t.target;e.removeEventListener("dispose",Fi),Wi(e)},Gi=function(t){for(var e=["__webglVertexBuffer","__webglNormalBuffer","__webglTangentBuffer","__webglColorBuffer","__webglUVBuffer","__webglUV2Buffer","__webglSkinIndicesBuffer","__webglSkinWeightsBuffer","__webglFaceBuffer","__webglLineBuffer","__webglLineDistanceBuffer"],i=0,r=e.length;r>i;i++){var o=e[i];void 0!==t[o]&&(He.deleteBuffer(t[o]),delete t[o])}if(void 0!==t.__webglCustomAttributesList){for(var o in t.__webglCustomAttributesList)He.deleteBuffer(t.__webglCustomAttributesList[o].buffer);delete t.__webglCustomAttributesList}Ie.info.memory.geometries--},zi=function(t){if(delete t.__webglInit,t instanceof THREE.BufferGeometry){for(var e in t.attributes){var i=t.attributes[e];void 0!==i.buffer&&(He.deleteBuffer(i.buffer),delete i.buffer)}Ie.info.memory.geometries--}else{var r=Xi[t.id];if(void 0!==r){for(var o=0,n=r.length;n>o;o++){var a=r[o];if(void 0!==a.numMorphTargets){for(var s=0,l=a.numMorphTargets;l>s;s++)He.deleteBuffer(a.__webglMorphTargetsBuffers[s]);delete a.__webglMorphTargetsBuffers}if(void 0!==a.numMorphNormals){for(var s=0,l=a.numMorphNormals;l>s;s++)He.deleteBuffer(a.__webglMorphNormalsBuffers[s]);delete a.__webglMorphNormalsBuffers}Gi(a)}delete Xi[t.id]}else Gi(t)}Ge=-1},ji=function(t){if(t.image&&t.image.__webglTextureCube)He.deleteTexture(t.image.__webglTextureCube),delete t.image.__webglTextureCube;else{if(void 0===t.__webglInit)return;He.deleteTexture(t.__webglTexture),delete t.__webglTexture,delete t.__webglInit}},Ui=function(t){if(t&&void 0!==t.__webglTexture){if(He.deleteTexture(t.__webglTexture),delete t.__webglTexture,t instanceof THREE.WebGLRenderTargetCube)for(var e=0;6>e;e++)He.deleteFramebuffer(t.__webglFramebuffer[e]),He.deleteRenderbuffer(t.__webglRenderbuffer[e]);else He.deleteFramebuffer(t.__webglFramebuffer),He.deleteRenderbuffer(t.__webglRenderbuffer);delete t.__webglFramebuffer,delete t.__webglRenderbuffer}},Wi=function(t){var e=t.program.program;if(void 0!==e){t.program=void 0;var i,r,o,n=!1;for(i=0,r=Oe.length;r>i;i++)if(o=Oe[i],o.program===e){o.usedTimes--,0===o.usedTimes&&(n=!0);break}if(n===!0){var a=[];for(i=0,r=Oe.length;r>i;i++)o=Oe[i],o.program!==e&&a.push(o);Oe=a,He.deleteProgram(e),Ie.info.memory.programs--}}};this.renderBufferImmediate=function(t,e,i){if(m(),t.hasPositions&&!t.__webglVertexBuffer&&(t.__webglVertexBuffer=He.createBuffer()),t.hasNormals&&!t.__webglNormalBuffer&&(t.__webglNormalBuffer=He.createBuffer()),t.hasUvs&&!t.__webglUvBuffer&&(t.__webglUvBuffer=He.createBuffer()),t.hasColors&&!t.__webglColorBuffer&&(t.__webglColorBuffer=He.createBuffer()),t.hasPositions&&(He.bindBuffer(He.ARRAY_BUFFER,t.__webglVertexBuffer),He.bufferData(He.ARRAY_BUFFER,t.positionArray,He.DYNAMIC_DRAW),g(e.attributes.position),He.vertexAttribPointer(e.attributes.position,3,He.FLOAT,!1,0,0)),t.hasNormals){if(He.bindBuffer(He.ARRAY_BUFFER,t.__webglNormalBuffer),i.shading===THREE.FlatShading){var r,o,n,a,s,l,c,h,u,d,p,f,_,b,v=3*t.count;for(b=0;v>b;b+=9)_=t.normalArray,a=_[b],c=_[b+1],d=_[b+2],s=_[b+3],h=_[b+4],p=_[b+5],l=_[b+6],u=_[b+7],f=_[b+8],r=(a+s+l)/3,o=(c+h+u)/3,n=(d+p+f)/3,_[b]=r,_[b+1]=o,_[b+2]=n,_[b+3]=r,_[b+4]=o,_[b+5]=n,_[b+6]=r,_[b+7]=o,_[b+8]=n}He.bufferData(He.ARRAY_BUFFER,t.normalArray,He.DYNAMIC_DRAW),g(e.attributes.normal),He.vertexAttribPointer(e.attributes.normal,3,He.FLOAT,!1,0,0)}t.hasUvs&&i.map&&(He.bindBuffer(He.ARRAY_BUFFER,t.__webglUvBuffer),He.bufferData(He.ARRAY_BUFFER,t.uvArray,He.DYNAMIC_DRAW),g(e.attributes.uv),He.vertexAttribPointer(e.attributes.uv,2,He.FLOAT,!1,0,0)),t.hasColors&&i.vertexColors!==THREE.NoColors&&(He.bindBuffer(He.ARRAY_BUFFER,t.__webglColorBuffer),He.bufferData(He.ARRAY_BUFFER,t.colorArray,He.DYNAMIC_DRAW),g(e.attributes.color),He.vertexAttribPointer(e.attributes.color,3,He.FLOAT,!1,0,0)),y(),He.drawArrays(He.TRIANGLES,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,i,r,o,n){if(r.visible!==!1){var a=J(t,e,i,r,n),s=!1,l=r.wireframe?1:0,c=16777215*o.id+2*a.id+l;if(c!==Ge&&(Ge=c,s=!0),s&&m(),n instanceof THREE.Mesh){var h=r.wireframe===!0?He.LINES:He.TRIANGLES,u=o.attributes.index;if(u){var d,p;u.array instanceof Uint32Array&&vi.get("OES_element_index_uint")?(d=He.UNSIGNED_INT,p=4):(d=He.UNSIGNED_SHORT,p=2);var f=o.offsets;if(0===f.length)s&&(_(r,a,o,0),He.bindBuffer(He.ELEMENT_ARRAY_BUFFER,u.buffer)),He.drawElements(h,u.array.length,d,0),Ie.info.render.calls++,Ie.info.render.vertices+=u.array.length,Ie.info.render.faces+=u.array.length/3;else{s=!0;for(var g=0,y=f.length;y>g;g++){var b=f[g].index;s&&(_(r,a,o,b),He.bindBuffer(He.ELEMENT_ARRAY_BUFFER,u.buffer)),He.drawElements(h,f[g].count,d,f[g].start*p),Ie.info.render.calls++,Ie.info.render.vertices+=f[g].count,Ie.info.render.faces+=f[g].count/3}}}else{s&&_(r,a,o,0);var v=o.attributes.position;He.drawArrays(h,0,v.array.length/3),Ie.info.render.calls++,Ie.info.render.vertices+=v.array.length/3,Ie.info.render.faces+=v.array.length/9}}else if(n instanceof THREE.PointCloud){s&&_(r,a,o,0);var v=o.attributes.position;He.drawArrays(He.POINTS,0,v.array.length/3),Ie.info.render.calls++,Ie.info.render.points+=v.array.length/3}else if(n instanceof THREE.Line){var h=n.mode===THREE.LineStrip?He.LINE_STRIP:He.LINES;re(r.linewidth);var u=o.attributes.index;if(u){var d,p;u.array instanceof Uint32Array?(d=He.UNSIGNED_INT,p=4):(d=He.UNSIGNED_SHORT,p=2);var f=o.offsets;if(0===f.length)s&&(_(r,a,o,0),He.bindBuffer(He.ELEMENT_ARRAY_BUFFER,u.buffer)),He.drawElements(h,u.array.length,d,0),Ie.info.render.calls++,Ie.info.render.vertices+=u.array.length;else{f.length>1&&(s=!0);for(var g=0,y=f.length;y>g;g++){var b=f[g].index;s&&(_(r,a,o,b),He.bindBuffer(He.ELEMENT_ARRAY_BUFFER,u.buffer)),He.drawElements(h,f[g].count,d,f[g].start*p),Ie.info.render.calls++,Ie.info.render.vertices+=f[g].count}}}else{s&&_(r,a,o,0);var v=o.attributes.position;He.drawArrays(h,0,v.array.length/3),Ie.info.render.calls++,Ie.info.render.points+=v.array.length/3}}}},this.renderBuffer=function(t,e,i,r,o,n){if(r.visible!==!1){var a=J(t,e,i,r,n),s=a.attributes,l=!1,c=r.wireframe?1:0,h=16777215*o.id+2*a.id+c;if(h!==Ge&&(Ge=h,l=!0),l&&m(),!r.morphTargets&&s.position>=0?l&&(He.bindBuffer(He.ARRAY_BUFFER,o.__webglVertexBuffer),g(s.position),He.vertexAttribPointer(s.position,3,He.FLOAT,!1,0,0)):n.morphTargetBase&&b(r,o,n),l){if(o.__webglCustomAttributesList)for(var u=0,d=o.__webglCustomAttributesList.length;d>u;u++){var p=o.__webglCustomAttributesList[u];s[p.buffer.belongsToAttribute]>=0&&(He.bindBuffer(He.ARRAY_BUFFER,p.buffer),g(s[p.buffer.belongsToAttribute]),He.vertexAttribPointer(s[p.buffer.belongsToAttribute],p.size,He.FLOAT,!1,0,0))}s.color>=0&&(n.geometry.colors.length>0||n.geometry.faces.length>0?(He.bindBuffer(He.ARRAY_BUFFER,o.__webglColorBuffer),g(s.color),He.vertexAttribPointer(s.color,3,He.FLOAT,!1,0,0)):void 0!==r.defaultAttributeValues&&He.vertexAttrib3fv(s.color,r.defaultAttributeValues.color)),s.normal>=0&&(He.bindBuffer(He.ARRAY_BUFFER,o.__webglNormalBuffer),g(s.normal),He.vertexAttribPointer(s.normal,3,He.FLOAT,!1,0,0)),s.tangent>=0&&(He.bindBuffer(He.ARRAY_BUFFER,o.__webglTangentBuffer),g(s.tangent),He.vertexAttribPointer(s.tangent,4,He.FLOAT,!1,0,0)),s.uv>=0&&(n.geometry.faceVertexUvs[0]?(He.bindBuffer(He.ARRAY_BUFFER,o.__webglUVBuffer),g(s.uv),He.vertexAttribPointer(s.uv,2,He.FLOAT,!1,0,0)):void 0!==r.defaultAttributeValues&&He.vertexAttrib2fv(s.uv,r.defaultAttributeValues.uv)),s.uv2>=0&&(n.geometry.faceVertexUvs[1]?(He.bindBuffer(He.ARRAY_BUFFER,o.__webglUV2Buffer),g(s.uv2),He.vertexAttribPointer(s.uv2,2,He.FLOAT,!1,0,0)):void 0!==r.defaultAttributeValues&&He.vertexAttrib2fv(s.uv2,r.defaultAttributeValues.uv2)),r.skinning&&s.skinIndex>=0&&s.skinWeight>=0&&(He.bindBuffer(He.ARRAY_BUFFER,o.__webglSkinIndicesBuffer),g(s.skinIndex),He.vertexAttribPointer(s.skinIndex,4,He.FLOAT,!1,0,0),He.bindBuffer(He.ARRAY_BUFFER,o.__webglSkinWeightsBuffer),g(s.skinWeight),He.vertexAttribPointer(s.skinWeight,4,He.FLOAT,!1,0,0)),s.lineDistance>=0&&(He.bindBuffer(He.ARRAY_BUFFER,o.__webglLineDistanceBuffer),g(s.lineDistance),He.vertexAttribPointer(s.lineDistance,1,He.FLOAT,!1,0,0))}if(y(),n instanceof THREE.Mesh){var f=o.__typeArray===Uint32Array?He.UNSIGNED_INT:He.UNSIGNED_SHORT;r.wireframe?(re(r.wireframeLinewidth),l&&He.bindBuffer(He.ELEMENT_ARRAY_BUFFER,o.__webglLineBuffer),He.drawElements(He.LINES,o.__webglLineCount,f,0)):(l&&He.bindBuffer(He.ELEMENT_ARRAY_BUFFER,o.__webglFaceBuffer),He.drawElements(He.TRIANGLES,o.__webglFaceCount,f,0)),Ie.info.render.calls++,Ie.info.render.vertices+=o.__webglFaceCount,Ie.info.render.faces+=o.__webglFaceCount/3}else if(n instanceof THREE.Line){var _=n.mode===THREE.LineStrip?He.LINE_STRIP:He.LINES;re(r.linewidth),He.drawArrays(_,0,o.__webglLineCount),Ie.info.render.calls++}else n instanceof THREE.PointCloud&&(He.drawArrays(He.POINTS,0,o.__webglParticleCount),Ie.info.render.calls++,Ie.info.render.points+=o.__webglParticleCount)}},this.render=function(t,e,i,r){if(e instanceof THREE.Camera==!1)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");var o=t.fog;Ge=-1,Fe=-1,ze=null,mi=!0,t.autoUpdate===!0&&t.updateMatrixWorld(),void 0===e.parent&&e.updateMatrixWorld(),t.traverse(function(t){t instanceof THREE.SkinnedMesh&&t.skeleton.update()}),e.matrixWorldInverse.getInverse(e.matrixWorld),di.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),ui.setFromMatrix(di),Re.length=0,Be.length=0,Ve.length=0,Le.length=0,ke.length=0,T(t,t),Ie.sortObjects===!0&&(Be.sort(v),Ve.sort(M)),Li.render(t,e),Ie.info.render.calls=0,Ie.info.render.vertices=0,Ie.info.render.faces=0,Ie.info.render.points=0,this.setRenderTarget(i),(this.autoClear||r)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil);for(var n=0,a=Pe.length;a>n;n++){var s=Pe[n],l=s.object;l.visible&&($(l,e),E(s))}if(t.overrideMaterial){var c=t.overrideMaterial;this.setBlending(c.blending,c.blendEquation,c.blendSrc,c.blendDst),this.setDepthTest(c.depthTest),this.setDepthWrite(c.depthWrite),oe(c.polygonOffset,c.polygonOffsetFactor,c.polygonOffsetUnits),x(Be,e,Re,o,!0,c),x(Ve,e,Re,o,!0,c),C(Pe,"",e,Re,o,!1,c)}else{var c=null;this.setBlending(THREE.NoBlending),x(Be,e,Re,o,!1,c),C(Pe,"opaque",e,Re,o,!1,c),x(Ve,e,Re,o,!0,c),C(Pe,"transparent",e,Re,o,!0,c)}ki.render(t,e),Hi.render(t,e,si,li),i&&i.generateMipmaps&&i.minFilter!==THREE.NearestFilter&&i.minFilter!==THREE.LinearFilter&&ue(i),this.setDepthTest(!0),this.setDepthWrite(!0)},this.renderImmediateObject=function(t,e,i,r,o){var n=J(t,e,i,r,o);Ge=-1,Ie.setMaterialFaces(r),o.immediateRenderCallback?o.immediateRenderCallback(n,He,ui):o.render(function(t){Ie.renderBufferImmediate(t,n,r)})};var Xi={},qi=0;this.setFaceCulling=function(t,e){t===THREE.CullFaceNone?He.disable(He.CULL_FACE):(He.frontFace(e===THREE.FrontFaceDirectionCW?He.CW:He.CCW),He.cullFace(t===THREE.CullFaceBack?He.BACK:t===THREE.CullFaceFront?He.FRONT:He.FRONT_AND_BACK),He.enable(He.CULL_FACE))},this.setMaterialFaces=function(t){var e=t.side===THREE.DoubleSide,i=t.side===THREE.BackSide;Ue!==e&&(e?He.disable(He.CULL_FACE):He.enable(He.CULL_FACE),Ue=e),We!==i&&(He.frontFace(i?He.CW:He.CCW),We=i)},this.setDepthTest=function(t){Qe!==t&&(t?He.enable(He.DEPTH_TEST):He.disable(He.DEPTH_TEST),Qe=t)},this.setDepthWrite=function(t){Ze!==t&&(He.depthMask(t),Ze=t)},this.setBlending=function(t,e,i,r){t!==Xe&&(t===THREE.NoBlending?He.disable(He.BLEND):t===THREE.AdditiveBlending?(He.enable(He.BLEND),He.blendEquation(He.FUNC_ADD),He.blendFunc(He.SRC_ALPHA,He.ONE)):t===THREE.SubtractiveBlending?(He.enable(He.BLEND),He.blendEquation(He.FUNC_ADD),He.blendFunc(He.ZERO,He.ONE_MINUS_SRC_COLOR)):t===THREE.MultiplyBlending?(He.enable(He.BLEND),He.blendEquation(He.FUNC_ADD),He.blendFunc(He.ZERO,He.SRC_COLOR)):t===THREE.CustomBlending?He.enable(He.BLEND):(He.enable(He.BLEND),He.blendEquationSeparate(He.FUNC_ADD,He.FUNC_ADD),He.blendFuncSeparate(He.SRC_ALPHA,He.ONE_MINUS_SRC_ALPHA,He.ONE,He.ONE_MINUS_SRC_ALPHA)),Xe=t),t===THREE.CustomBlending?(e!==qe&&(He.blendEquation(pe(e)),qe=e),(i!==Ke||r!==Ye)&&(He.blendFunc(pe(i),pe(r)),Ke=i,Ye=r)):(qe=null,Ke=null,Ye=null)},this.uploadTexture=function(t){void 0===t.__webglInit&&(t.__webglInit=!0,t.addEventListener("dispose",Ji),t.__webglTexture=He.createTexture(),Ie.info.memory.textures++),He.bindTexture(He.TEXTURE_2D,t.__webglTexture),He.pixelStorei(He.UNPACK_FLIP_Y_WEBGL,t.flipY),He.pixelStorei(He.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),He.pixelStorei(He.UNPACK_ALIGNMENT,t.unpackAlignment),t.image=ae(t.image,Ti);var e=t.image,i=THREE.Math.isPowerOfTwo(e.width)&&THREE.Math.isPowerOfTwo(e.height),r=pe(t.format),o=pe(t.type);ne(He.TEXTURE_2D,t,i);var n,a=t.mipmaps;if(t instanceof THREE.DataTexture)if(a.length>0&&i){for(var s=0,l=a.length;l>s;s++)n=a[s],He.texImage2D(He.TEXTURE_2D,s,r,n.width,n.height,0,r,o,n.data);t.generateMipmaps=!1}else He.texImage2D(He.TEXTURE_2D,0,r,e.width,e.height,0,r,o,e.data);else if(t instanceof THREE.CompressedTexture)for(var s=0,l=a.length;l>s;s++)n=a[s],t.format!==THREE.RGBAFormat&&t.format!==THREE.RGBFormat?Pi().indexOf(r)>-1?He.compressedTexImage2D(He.TEXTURE_2D,s,r,n.width,n.height,0,n.data):console.warn("Attempt to load unsupported compressed texture format"):He.texImage2D(He.TEXTURE_2D,s,r,n.width,n.height,0,r,o,n.data);else if(a.length>0&&i){for(var s=0,l=a.length;l>s;s++)n=a[s],He.texImage2D(He.TEXTURE_2D,s,r,r,o,n);t.generateMipmaps=!1}else He.texImage2D(He.TEXTURE_2D,0,r,r,o,t.image);t.generateMipmaps&&i&&He.generateMipmap(He.TEXTURE_2D),t.needsUpdate=!1,t.onUpdate&&t.onUpdate()},this.setTexture=function(t,e){He.activeTexture(He.TEXTURE0+e),t.needsUpdate?Ie.uploadTexture(t):He.bindTexture(He.TEXTURE_2D,t.__webglTexture)},this.setRenderTarget=function(t){var e=t instanceof THREE.WebGLRenderTargetCube;if(t&&void 0===t.__webglFramebuffer){void 0===t.depthBuffer&&(t.depthBuffer=!0),void 0===t.stencilBuffer&&(t.stencilBuffer=!0),t.addEventListener("dispose",Ni),t.__webglTexture=He.createTexture(),Ie.info.memory.textures++;var i=THREE.Math.isPowerOfTwo(t.width)&&THREE.Math.isPowerOfTwo(t.height),r=pe(t.format),o=pe(t.type);if(e){t.__webglFramebuffer=[],t.__webglRenderbuffer=[],He.bindTexture(He.TEXTURE_CUBE_MAP,t.__webglTexture),ne(He.TEXTURE_CUBE_MAP,t,i);for(var n=0;6>n;n++)t.__webglFramebuffer[n]=He.createFramebuffer(),t.__webglRenderbuffer[n]=He.createRenderbuffer(),He.texImage2D(He.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,r,t.width,t.height,0,r,o,null),ce(t.__webglFramebuffer[n],t,He.TEXTURE_CUBE_MAP_POSITIVE_X+n),he(t.__webglRenderbuffer[n],t);i&&He.generateMipmap(He.TEXTURE_CUBE_MAP)}else t.__webglFramebuffer=He.createFramebuffer(),t.__webglRenderbuffer=t.shareDepthFrom?t.shareDepthFrom.__webglRenderbuffer:He.createRenderbuffer(),He.bindTexture(He.TEXTURE_2D,t.__webglTexture),ne(He.TEXTURE_2D,t,i),He.texImage2D(He.TEXTURE_2D,0,r,t.width,t.height,0,r,o,null),ce(t.__webglFramebuffer,t,He.TEXTURE_2D),t.shareDepthFrom?t.depthBuffer&&!t.stencilBuffer?He.framebufferRenderbuffer(He.FRAMEBUFFER,He.DEPTH_ATTACHMENT,He.RENDERBUFFER,t.__webglRenderbuffer):t.depthBuffer&&t.stencilBuffer&&He.framebufferRenderbuffer(He.FRAMEBUFFER,He.DEPTH_STENCIL_ATTACHMENT,He.RENDERBUFFER,t.__webglRenderbuffer):he(t.__webglRenderbuffer,t),i&&He.generateMipmap(He.TEXTURE_2D);
e?He.bindTexture(He.TEXTURE_CUBE_MAP,null):He.bindTexture(He.TEXTURE_2D,null),He.bindRenderbuffer(He.RENDERBUFFER,null),He.bindFramebuffer(He.FRAMEBUFFER,null)}var a,s,l,c,h;t?(a=e?t.__webglFramebuffer[t.activeCubeFace]:t.__webglFramebuffer,s=t.width,l=t.height,c=0,h=0):(a=null,s=ni,l=ai,c=ri,h=oi),a!==Ne&&(He.bindFramebuffer(He.FRAMEBUFFER,a),He.viewport(c,h,s,l),Ne=a),si=s,li=l},this.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},this.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},this.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},this.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}},THREE.WebGLRenderTarget=function(t,e,i){this.width=t,this.height=e,i=i||{},this.wrapS=void 0!==i.wrapS?i.wrapS:THREE.ClampToEdgeWrapping,this.wrapT=void 0!==i.wrapT?i.wrapT:THREE.ClampToEdgeWrapping,this.magFilter=void 0!==i.magFilter?i.magFilter:THREE.LinearFilter,this.minFilter=void 0!==i.minFilter?i.minFilter:THREE.LinearMipMapLinearFilter,this.anisotropy=void 0!==i.anisotropy?i.anisotropy:1,this.offset=new THREE.Vector2(0,0),this.repeat=new THREE.Vector2(1,1),this.format=void 0!==i.format?i.format:THREE.RGBAFormat,this.type=void 0!==i.type?i.type:THREE.UnsignedByteType,this.depthBuffer=void 0!==i.depthBuffer?i.depthBuffer:!0,this.stencilBuffer=void 0!==i.stencilBuffer?i.stencilBuffer:!0,this.generateMipmaps=!0,this.shareDepthFrom=null},THREE.WebGLRenderTarget.prototype={constructor:THREE.WebGLRenderTarget,setSize:function(t,e){this.width=t,this.height=e},clone:function(){var t=new THREE.WebGLRenderTarget(this.width,this.height);return t.wrapS=this.wrapS,t.wrapT=this.wrapT,t.magFilter=this.magFilter,t.minFilter=this.minFilter,t.anisotropy=this.anisotropy,t.offset.copy(this.offset),t.repeat.copy(this.repeat),t.format=this.format,t.type=this.type,t.depthBuffer=this.depthBuffer,t.stencilBuffer=this.stencilBuffer,t.generateMipmaps=this.generateMipmaps,t.shareDepthFrom=this.shareDepthFrom,t},dispose:function(){this.dispatchEvent({type:"dispose"})}},THREE.EventDispatcher.prototype.apply(THREE.WebGLRenderTarget.prototype),THREE.WebGLRenderTargetCube=function(t,e,i){THREE.WebGLRenderTarget.call(this,t,e,i),this.activeCubeFace=0},THREE.WebGLRenderTargetCube.prototype=Object.create(THREE.WebGLRenderTarget.prototype),THREE.WebGLExtensions=function(t){var e={};this.get=function(i){if(void 0!==e[i])return e[i];var r;switch(i){case"OES_texture_float":r=t.getExtension("OES_texture_float");break;case"OES_texture_float_linear":r=t.getExtension("OES_texture_float_linear");break;case"OES_standard_derivatives":r=t.getExtension("OES_standard_derivatives");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"OES_element_index_uint":r=t.getExtension("OES_element_index_uint");break;case"EXT_blend_minmax":r=t.getExtension("EXT_blend_minmax");break;case"EXT_frag_depth":r=t.getExtension("EXT_frag_depth")}return null===r&&console.log("THREE.WebGLRenderer: "+i+" extension not supported."),e[i]=r,r}},THREE.WebGLProgram=function(){var t=0,e=function(t){var e,i,r=[];for(var o in t)e=t[o],e!==!1&&(i="#define "+o+" "+e,r.push(i));return r.join("\n")},i=function(t,e,i){for(var r={},o=0,n=i.length;n>o;o++){var a=i[o];r[a]=t.getUniformLocation(e,a)}return r},r=function(t,e,i){for(var r={},o=0,n=i.length;n>o;o++){var a=i[o];r[a]=t.getAttribLocation(e,a)}return r};return function(o,n,a,s){var l=o,c=l.context,h=a.defines,u=a.__webglShader.uniforms,d=a.attributes,p=a.__webglShader.vertexShader,f=a.__webglShader.fragmentShader,_=a.index0AttributeName;void 0===_&&s.morphTargets===!0&&(_="position");var m="SHADOWMAP_TYPE_BASIC";s.shadowMapType===THREE.PCFShadowMap?m="SHADOWMAP_TYPE_PCF":s.shadowMapType===THREE.PCFSoftShadowMap&&(m="SHADOWMAP_TYPE_PCF_SOFT");var g,y,b=e(h),v=c.createProgram();a instanceof THREE.RawShaderMaterial?(g="",y=""):(g=["precision "+s.precision+" float;","precision "+s.precision+" int;",b,s.supportsVertexTextures?"#define VERTEX_TEXTURES":"",l.gammaInput?"#define GAMMA_INPUT":"",l.gammaOutput?"#define GAMMA_OUTPUT":"","#define MAX_DIR_LIGHTS "+s.maxDirLights,"#define MAX_POINT_LIGHTS "+s.maxPointLights,"#define MAX_SPOT_LIGHTS "+s.maxSpotLights,"#define MAX_HEMI_LIGHTS "+s.maxHemiLights,"#define MAX_SHADOWS "+s.maxShadows,"#define MAX_BONES "+s.maxBones,s.map?"#define USE_MAP":"",s.envMap?"#define USE_ENVMAP":"",s.lightMap?"#define USE_LIGHTMAP":"",s.bumpMap?"#define USE_BUMPMAP":"",s.normalMap?"#define USE_NORMALMAP":"",s.specularMap?"#define USE_SPECULARMAP":"",s.alphaMap?"#define USE_ALPHAMAP":"",s.vertexColors?"#define USE_COLOR":"",s.skinning?"#define USE_SKINNING":"",s.useVertexTexture?"#define BONE_TEXTURE":"",s.morphTargets?"#define USE_MORPHTARGETS":"",s.morphNormals?"#define USE_MORPHNORMALS":"",s.wrapAround?"#define WRAP_AROUND":"",s.doubleSided?"#define DOUBLE_SIDED":"",s.flipSided?"#define FLIP_SIDED":"",s.shadowMapEnabled?"#define USE_SHADOWMAP":"",s.shadowMapEnabled?"#define "+m:"",s.shadowMapDebug?"#define SHADOWMAP_DEBUG":"",s.shadowMapCascade?"#define SHADOWMAP_CASCADE":"",s.sizeAttenuation?"#define USE_SIZEATTENUATION":"",s.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","attribute vec2 uv2;","#ifdef USE_COLOR","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",""].join("\n"),y=["precision "+s.precision+" float;","precision "+s.precision+" int;",s.bumpMap||s.normalMap?"#extension GL_OES_standard_derivatives : enable":"",b,"#define MAX_DIR_LIGHTS "+s.maxDirLights,"#define MAX_POINT_LIGHTS "+s.maxPointLights,"#define MAX_SPOT_LIGHTS "+s.maxSpotLights,"#define MAX_HEMI_LIGHTS "+s.maxHemiLights,"#define MAX_SHADOWS "+s.maxShadows,s.alphaTest?"#define ALPHATEST "+s.alphaTest:"",l.gammaInput?"#define GAMMA_INPUT":"",l.gammaOutput?"#define GAMMA_OUTPUT":"",s.useFog&&s.fog?"#define USE_FOG":"",s.useFog&&s.fogExp?"#define FOG_EXP2":"",s.map?"#define USE_MAP":"",s.envMap?"#define USE_ENVMAP":"",s.lightMap?"#define USE_LIGHTMAP":"",s.bumpMap?"#define USE_BUMPMAP":"",s.normalMap?"#define USE_NORMALMAP":"",s.specularMap?"#define USE_SPECULARMAP":"",s.alphaMap?"#define USE_ALPHAMAP":"",s.vertexColors?"#define USE_COLOR":"",s.metal?"#define METAL":"",s.wrapAround?"#define WRAP_AROUND":"",s.doubleSided?"#define DOUBLE_SIDED":"",s.flipSided?"#define FLIP_SIDED":"",s.shadowMapEnabled?"#define USE_SHADOWMAP":"",s.shadowMapEnabled?"#define "+m:"",s.shadowMapDebug?"#define SHADOWMAP_DEBUG":"",s.shadowMapCascade?"#define SHADOWMAP_CASCADE":"",s.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",""].join("\n"));var M=new THREE.WebGLShader(c,c.VERTEX_SHADER,g+p),S=new THREE.WebGLShader(c,c.FRAGMENT_SHADER,y+f);c.attachShader(v,M),c.attachShader(v,S),void 0!==_&&c.bindAttribLocation(v,0,_),c.linkProgram(v),c.getProgramParameter(v,c.LINK_STATUS)===!1&&(console.error("THREE.WebGLProgram: Could not initialise shader."),console.error("gl.VALIDATE_STATUS",c.getProgramParameter(v,c.VALIDATE_STATUS)),console.error("gl.getError()",c.getError())),""!==c.getProgramInfoLog(v)&&console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",c.getProgramInfoLog(v)),c.deleteShader(M),c.deleteShader(S);var T=["viewMatrix","modelViewMatrix","projectionMatrix","normalMatrix","modelMatrix","cameraPosition","morphTargetInfluences","bindMatrix","bindMatrixInverse"];s.useVertexTexture?(T.push("boneTexture"),T.push("boneTextureWidth"),T.push("boneTextureHeight")):T.push("boneGlobalMatrices"),s.logarithmicDepthBuffer&&T.push("logDepthBufFC");for(var x in u)T.push(x);this.uniforms=i(c,v,T),T=["position","normal","uv","uv2","tangent","color","skinIndex","skinWeight","lineDistance"];for(var C=0;C<s.maxMorphTargets;C++)T.push("morphTarget"+C);for(var C=0;C<s.maxMorphNormals;C++)T.push("morphNormal"+C);for(var E in d)T.push(E);return this.attributes=r(c,v,T),this.attributesKeys=Object.keys(this.attributes),this.id=t++,this.code=n,this.usedTimes=1,this.program=v,this.vertexShader=M,this.fragmentShader=S,this}}(),THREE.WebGLShader=function(){var t=function(t){for(var e=t.split("\n"),i=0;i<e.length;i++)e[i]=i+1+": "+e[i];return e.join("\n")};return function(e,i,r){var o=e.createShader(i);return e.shaderSource(o,r),e.compileShader(o),e.getShaderParameter(o,e.COMPILE_STATUS)===!1&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==e.getShaderInfoLog(o)&&(console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",e.getShaderInfoLog(o)),console.warn(t(r))),o}}(),THREE.LensFlarePlugin=function(t,e){function i(e){var i=u.createProgram(),r=u.createShader(u.FRAGMENT_SHADER),o=u.createShader(u.VERTEX_SHADER),n="precision "+t.getPrecision()+" float;\n";return u.shaderSource(r,n+e.fragmentShader),u.shaderSource(o,n+e.vertexShader),u.compileShader(r),u.compileShader(o),u.attachShader(i,r),u.attachShader(i,o),u.linkProgram(i),i}var r,o,n,a,s,l,c,h,u=t.context,d=function(){var t=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),e=new Uint16Array([0,1,2,0,2,3]);r=u.createBuffer(),o=u.createBuffer(),u.bindBuffer(u.ARRAY_BUFFER,r),u.bufferData(u.ARRAY_BUFFER,t,u.STATIC_DRAW),u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,o),u.bufferData(u.ELEMENT_ARRAY_BUFFER,e,u.STATIC_DRAW),c=u.createTexture(),h=u.createTexture(),u.bindTexture(u.TEXTURE_2D,c),u.texImage2D(u.TEXTURE_2D,0,u.RGB,16,16,0,u.RGB,u.UNSIGNED_BYTE,null),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,u.NEAREST),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,u.NEAREST),u.bindTexture(u.TEXTURE_2D,h),u.texImage2D(u.TEXTURE_2D,0,u.RGBA,16,16,0,u.RGBA,u.UNSIGNED_BYTE,null),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,u.NEAREST),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,u.NEAREST),l=u.getParameter(u.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;var d;d=l?{vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","vUV = uv;","vec2 pos = position;","if( renderType == 2 ) {","vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","vVisibility =        visibility.r / 9.0;","vVisibility *= 1.0 - visibility.g / 9.0;","vVisibility *=       visibility.b / 9.0;","vVisibility *= 1.0 - visibility.a / 9.0;","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","if( renderType == 0 ) {","gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","} else if( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * vVisibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")}:{vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uv;","vec2 pos = position;","if( renderType == 2 ) {","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["precision mediump float;","uniform lowp int renderType;","uniform sampler2D map;","uniform sampler2D occlusionMap;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","void main() {","if( renderType == 0 ) {","gl_FragColor = vec4( texture2D( map, vUV ).rgb, 0.0 );","} else if( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","float visibility = texture2D( occlusionMap, vec2( 0.5, 0.1 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) ).a;","visibility = ( 1.0 - visibility / 4.0 );","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * visibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")},n=i(d),a={vertex:u.getAttribLocation(n,"position"),uv:u.getAttribLocation(n,"uv")},s={renderType:u.getUniformLocation(n,"renderType"),map:u.getUniformLocation(n,"map"),occlusionMap:u.getUniformLocation(n,"occlusionMap"),opacity:u.getUniformLocation(n,"opacity"),color:u.getUniformLocation(n,"color"),scale:u.getUniformLocation(n,"scale"),rotation:u.getUniformLocation(n,"rotation"),screenPosition:u.getUniformLocation(n,"screenPosition")}};this.render=function(i,p,f,_){if(0!==e.length){var m=new THREE.Vector3,g=_/f,y=.5*f,b=.5*_,v=16/_,M=new THREE.Vector2(v*g,v),S=new THREE.Vector3(1,1,0),T=new THREE.Vector2(1,1);void 0===n&&d(),u.useProgram(n),u.enableVertexAttribArray(a.vertex),u.enableVertexAttribArray(a.uv),u.uniform1i(s.occlusionMap,0),u.uniform1i(s.map,1),u.bindBuffer(u.ARRAY_BUFFER,r),u.vertexAttribPointer(a.vertex,2,u.FLOAT,!1,16,0),u.vertexAttribPointer(a.uv,2,u.FLOAT,!1,16,8),u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,o),u.disable(u.CULL_FACE),u.depthMask(!1);for(var x=0,C=e.length;C>x;x++){v=16/_,M.set(v*g,v);var E=e[x];if(m.set(E.matrixWorld.elements[12],E.matrixWorld.elements[13],E.matrixWorld.elements[14]),m.applyMatrix4(p.matrixWorldInverse),m.applyProjection(p.projectionMatrix),S.copy(m),T.x=S.x*y+y,T.y=S.y*b+b,l||T.x>0&&T.x<f&&T.y>0&&T.y<_){u.activeTexture(u.TEXTURE1),u.bindTexture(u.TEXTURE_2D,c),u.copyTexImage2D(u.TEXTURE_2D,0,u.RGB,T.x-8,T.y-8,16,16,0),u.uniform1i(s.renderType,0),u.uniform2f(s.scale,M.x,M.y),u.uniform3f(s.screenPosition,S.x,S.y,S.z),u.disable(u.BLEND),u.enable(u.DEPTH_TEST),u.drawElements(u.TRIANGLES,6,u.UNSIGNED_SHORT,0),u.activeTexture(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,h),u.copyTexImage2D(u.TEXTURE_2D,0,u.RGBA,T.x-8,T.y-8,16,16,0),u.uniform1i(s.renderType,1),u.disable(u.DEPTH_TEST),u.activeTexture(u.TEXTURE1),u.bindTexture(u.TEXTURE_2D,c),u.drawElements(u.TRIANGLES,6,u.UNSIGNED_SHORT,0),E.positionScreen.copy(S),E.customUpdateCallback?E.customUpdateCallback(E):E.updateLensFlares(),u.uniform1i(s.renderType,2),u.enable(u.BLEND);for(var A=0,w=E.lensFlares.length;w>A;A++){var R=E.lensFlares[A];R.opacity>.001&&R.scale>.001&&(S.x=R.x,S.y=R.y,S.z=R.z,v=R.size*R.scale/_,M.x=v*g,M.y=v,u.uniform3f(s.screenPosition,S.x,S.y,S.z),u.uniform2f(s.scale,M.x,M.y),u.uniform1f(s.rotation,R.rotation),u.uniform1f(s.opacity,R.opacity),u.uniform3f(s.color,R.color.r,R.color.g,R.color.b),t.setBlending(R.blending,R.blendEquation,R.blendSrc,R.blendDst),t.setTexture(R.texture,1),u.drawElements(u.TRIANGLES,6,u.UNSIGNED_SHORT,0))}}}u.enable(u.CULL_FACE),u.enable(u.DEPTH_TEST),u.depthMask(!0),t.resetGLState()}}},THREE.ShadowMapPlugin=function(t,e,i,r){function o(t,e,r){if(e.visible){var n=i[e.id];if(n&&e.castShadow&&(e.frustumCulled===!1||f.intersectsObject(e)===!0))for(var a=0,s=n.length;s>a;a++){var l=n[a];e._modelViewMatrix.multiplyMatrices(r.matrixWorldInverse,e.matrixWorld),b.push(l)}for(var a=0,s=e.children.length;s>a;a++)o(t,e.children[a],r)}}function n(t,e){var i=new THREE.DirectionalLight;i.isVirtual=!0,i.onlyShadow=!0,i.castShadow=!0,i.shadowCameraNear=t.shadowCameraNear,i.shadowCameraFar=t.shadowCameraFar,i.shadowCameraLeft=t.shadowCameraLeft,i.shadowCameraRight=t.shadowCameraRight,i.shadowCameraBottom=t.shadowCameraBottom,i.shadowCameraTop=t.shadowCameraTop,i.shadowCameraVisible=t.shadowCameraVisible,i.shadowDarkness=t.shadowDarkness,i.shadowBias=t.shadowCascadeBias[e],i.shadowMapWidth=t.shadowCascadeWidth[e],i.shadowMapHeight=t.shadowCascadeHeight[e],i.pointsWorld=[],i.pointsFrustum=[];for(var r=i.pointsWorld,o=i.pointsFrustum,n=0;8>n;n++)r[n]=new THREE.Vector3,o[n]=new THREE.Vector3;var a=t.shadowCascadeNearZ[e],s=t.shadowCascadeFarZ[e];return o[0].set(-1,-1,a),o[1].set(1,-1,a),o[2].set(-1,1,a),o[3].set(1,1,a),o[4].set(-1,-1,s),o[5].set(1,-1,s),o[6].set(-1,1,s),o[7].set(1,1,s),i}function a(t,e){var i=t.shadowCascadeArray[e];i.position.copy(t.position),i.target.position.copy(t.target.position),i.lookAt(i.target),i.shadowCameraVisible=t.shadowCameraVisible,i.shadowDarkness=t.shadowDarkness,i.shadowBias=t.shadowCascadeBias[e];var r=t.shadowCascadeNearZ[e],o=t.shadowCascadeFarZ[e],n=i.pointsFrustum;n[0].z=r,n[1].z=r,n[2].z=r,n[3].z=r,n[4].z=o,n[5].z=o,n[6].z=o,n[7].z=o}function s(t,e){var i=e.shadowCamera,r=e.pointsFrustum,o=e.pointsWorld;m.set(1/0,1/0,1/0),g.set(-1/0,-1/0,-1/0);for(var n=0;8>n;n++){var a=o[n];a.copy(r[n]),a.unproject(t),a.applyMatrix4(i.matrixWorldInverse),a.x<m.x&&(m.x=a.x),a.x>g.x&&(g.x=a.x),a.y<m.y&&(m.y=a.y),a.y>g.y&&(g.y=a.y),a.z<m.z&&(m.z=a.z),a.z>g.z&&(g.z=a.z)}i.left=m.x,i.right=g.x,i.top=g.y,i.bottom=m.y,i.updateProjectionMatrix()}function l(t){return t.material instanceof THREE.MeshFaceMaterial?t.material.materials[0]:t.material}var c,h,u,d,p=t.context,f=new THREE.Frustum,_=new THREE.Matrix4,m=new THREE.Vector3,g=new THREE.Vector3,y=new THREE.Vector3,b=[],v=THREE.ShaderLib.depthRGBA,M=THREE.UniformsUtils.clone(v.uniforms);c=new THREE.ShaderMaterial({uniforms:M,vertexShader:v.vertexShader,fragmentShader:v.fragmentShader}),h=new THREE.ShaderMaterial({uniforms:M,vertexShader:v.vertexShader,fragmentShader:v.fragmentShader,morphTargets:!0}),u=new THREE.ShaderMaterial({uniforms:M,vertexShader:v.vertexShader,fragmentShader:v.fragmentShader,skinning:!0}),d=new THREE.ShaderMaterial({uniforms:M,vertexShader:v.vertexShader,fragmentShader:v.fragmentShader,morphTargets:!0,skinning:!0}),c._shadowPass=!0,h._shadowPass=!0,u._shadowPass=!0,d._shadowPass=!0,this.render=function(i,m){if(t.shadowMapEnabled!==!1){var g,v,M,S,T,x,C,E,A,w,R,D,P,B=[],V=0,L=null;for(p.clearColor(1,1,1,1),p.disable(p.BLEND),p.enable(p.CULL_FACE),p.frontFace(p.CCW),p.cullFace(t.shadowMapCullFace===THREE.CullFaceFront?p.FRONT:p.BACK),t.setDepthTest(!0),g=0,v=e.length;v>g;g++)if(P=e[g],P.castShadow)if(P instanceof THREE.DirectionalLight&&P.shadowCascade)for(T=0;T<P.shadowCascadeCount;T++){var k;if(P.shadowCascadeArray[T])k=P.shadowCascadeArray[T];else{k=n(P,T),k.originalCamera=m;var H=new THREE.Gyroscope;H.position.copy(P.shadowCascadeOffset),H.add(k),H.add(k.target),m.add(H),P.shadowCascadeArray[T]=k,console.log("Created virtualLight",k)}a(P,T),B[V]=k,V++}else B[V]=P,V++;for(g=0,v=B.length;v>g;g++){if(P=B[g],!P.shadowMap){var I=THREE.LinearFilter;t.shadowMapType===THREE.PCFSoftShadowMap&&(I=THREE.NearestFilter);var O={minFilter:I,magFilter:I,format:THREE.RGBAFormat};P.shadowMap=new THREE.WebGLRenderTarget(P.shadowMapWidth,P.shadowMapHeight,O),P.shadowMapSize=new THREE.Vector2(P.shadowMapWidth,P.shadowMapHeight),P.shadowMatrix=new THREE.Matrix4}if(!P.shadowCamera){if(P instanceof THREE.SpotLight)P.shadowCamera=new THREE.PerspectiveCamera(P.shadowCameraFov,P.shadowMapWidth/P.shadowMapHeight,P.shadowCameraNear,P.shadowCameraFar);else{if(!(P instanceof THREE.DirectionalLight)){console.error("Unsupported light type for shadow");continue}P.shadowCamera=new THREE.OrthographicCamera(P.shadowCameraLeft,P.shadowCameraRight,P.shadowCameraTop,P.shadowCameraBottom,P.shadowCameraNear,P.shadowCameraFar)}i.add(P.shadowCamera),i.autoUpdate===!0&&i.updateMatrixWorld()}P.shadowCameraVisible&&!P.cameraHelper&&(P.cameraHelper=new THREE.CameraHelper(P.shadowCamera),i.add(P.cameraHelper)),P.isVirtual&&k.originalCamera==m&&s(m,P),x=P.shadowMap,C=P.shadowMatrix,E=P.shadowCamera,E.position.setFromMatrixPosition(P.matrixWorld),y.setFromMatrixPosition(P.target.matrixWorld),E.lookAt(y),E.updateMatrixWorld(),E.matrixWorldInverse.getInverse(E.matrixWorld),P.cameraHelper&&(P.cameraHelper.visible=P.shadowCameraVisible),P.shadowCameraVisible&&P.cameraHelper.update(),C.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),C.multiply(E.projectionMatrix),C.multiply(E.matrixWorldInverse),_.multiplyMatrices(E.projectionMatrix,E.matrixWorldInverse),f.setFromMatrix(_),t.setRenderTarget(x),t.clear(),b.length=0,o(i,i,E);var J,N,F;for(M=0,S=b.length;S>M;M++)R=b[M],D=R.object,A=R.buffer,J=l(D),N=void 0!==D.geometry.morphTargets&&D.geometry.morphTargets.length>0&&J.morphTargets,F=D instanceof THREE.SkinnedMesh&&J.skinning,w=D.customDepthMaterial?D.customDepthMaterial:F?N?d:u:N?h:c,t.setMaterialFaces(J),A instanceof THREE.BufferGeometry?t.renderBufferDirect(E,e,L,w,A,D):t.renderBuffer(E,e,L,w,A,D);for(M=0,S=r.length;S>M;M++)R=r[M],D=R.object,D.visible&&D.castShadow&&(D._modelViewMatrix.multiplyMatrices(E.matrixWorldInverse,D.matrixWorld),t.renderImmediateObject(E,e,L,c,D))}var G=t.getClearColor(),z=t.getClearAlpha();p.clearColor(G.r,G.g,G.b,z),p.enable(p.BLEND),t.shadowMapCullFace===THREE.CullFaceFront&&p.cullFace(p.BACK),t.resetGLState()}}},THREE.SpritePlugin=function(t,e){function i(){var e=h.createProgram(),i=h.createShader(h.VERTEX_SHADER),r=h.createShader(h.FRAGMENT_SHADER);return h.shaderSource(i,["precision "+t.getPrecision()+" float;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uvOffset + uv * uvScale;","vec2 alignedPosition = position * scale;","vec2 rotatedPosition;","rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","vec4 finalPosition;","finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","finalPosition.xy += rotatedPosition;","finalPosition = projectionMatrix * finalPosition;","gl_Position = finalPosition;","}"].join("\n")),h.shaderSource(r,["precision "+t.getPrecision()+" float;","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","void main() {","vec4 texture = texture2D( map, vUV );","if ( texture.a < alphaTest ) discard;","gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","if ( fogType > 0 ) {","float depth = gl_FragCoord.z / gl_FragCoord.w;","float fogFactor = 0.0;","if ( fogType == 1 ) {","fogFactor = smoothstep( fogNear, fogFar, depth );","} else {","const float LOG2 = 1.442695;","float fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","}","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}","}"].join("\n")),h.compileShader(i),h.compileShader(r),h.attachShader(e,i),h.attachShader(e,r),h.linkProgram(e),e}function r(t,e){return t.z!==e.z?e.z-t.z:e.id-t.id}var o,n,a,s,l,c,h=t.context,u=function(){var t=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),e=new Uint16Array([0,1,2,0,2,3]);o=h.createBuffer(),n=h.createBuffer(),h.bindBuffer(h.ARRAY_BUFFER,o),h.bufferData(h.ARRAY_BUFFER,t,h.STATIC_DRAW),h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,n),h.bufferData(h.ELEMENT_ARRAY_BUFFER,e,h.STATIC_DRAW),a=i(),s={position:h.getAttribLocation(a,"position"),uv:h.getAttribLocation(a,"uv")},l={uvOffset:h.getUniformLocation(a,"uvOffset"),uvScale:h.getUniformLocation(a,"uvScale"),rotation:h.getUniformLocation(a,"rotation"),scale:h.getUniformLocation(a,"scale"),color:h.getUniformLocation(a,"color"),map:h.getUniformLocation(a,"map"),opacity:h.getUniformLocation(a,"opacity"),modelViewMatrix:h.getUniformLocation(a,"modelViewMatrix"),projectionMatrix:h.getUniformLocation(a,"projectionMatrix"),fogType:h.getUniformLocation(a,"fogType"),fogDensity:h.getUniformLocation(a,"fogDensity"),fogNear:h.getUniformLocation(a,"fogNear"),fogFar:h.getUniformLocation(a,"fogFar"),fogColor:h.getUniformLocation(a,"fogColor"),alphaTest:h.getUniformLocation(a,"alphaTest")};var r=document.createElement("canvas");r.width=8,r.height=8;var u=r.getContext("2d");u.fillStyle="white",u.fillRect(0,0,8,8),c=new THREE.Texture(r),c.needsUpdate=!0};this.render=function(i,d){if(0!==e.length){void 0===a&&u(),h.useProgram(a),h.enableVertexAttribArray(s.position),h.enableVertexAttribArray(s.uv),h.disable(h.CULL_FACE),h.enable(h.BLEND),h.bindBuffer(h.ARRAY_BUFFER,o),h.vertexAttribPointer(s.position,2,h.FLOAT,!1,16,0),h.vertexAttribPointer(s.uv,2,h.FLOAT,!1,16,8),h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,n),h.uniformMatrix4fv(l.projectionMatrix,!1,d.projectionMatrix.elements),h.activeTexture(h.TEXTURE0),h.uniform1i(l.map,0);var p=0,f=0,_=i.fog;_?(h.uniform3f(l.fogColor,_.color.r,_.color.g,_.color.b),_ instanceof THREE.Fog?(h.uniform1f(l.fogNear,_.near),h.uniform1f(l.fogFar,_.far),h.uniform1i(l.fogType,1),p=1,f=1):_ instanceof THREE.FogExp2&&(h.uniform1f(l.fogDensity,_.density),h.uniform1i(l.fogType,2),p=2,f=2)):(h.uniform1i(l.fogType,0),p=0,f=0);for(var m=0,g=e.length;g>m;m++){var y=e[m];y._modelViewMatrix.multiplyMatrices(d.matrixWorldInverse,y.matrixWorld),y.z=null===y.renderDepth?-y._modelViewMatrix.elements[14]:y.renderDepth}e.sort(r);for(var b=[],m=0,g=e.length;g>m;m++){var y=e[m],v=y.material;h.uniform1f(l.alphaTest,v.alphaTest),h.uniformMatrix4fv(l.modelViewMatrix,!1,y._modelViewMatrix.elements),b[0]=y.scale.x,b[1]=y.scale.y;var M=0;i.fog&&v.fog&&(M=f),p!==M&&(h.uniform1i(l.fogType,M),p=M),null!==v.map?(h.uniform2f(l.uvOffset,v.map.offset.x,v.map.offset.y),h.uniform2f(l.uvScale,v.map.repeat.x,v.map.repeat.y)):(h.uniform2f(l.uvOffset,0,0),h.uniform2f(l.uvScale,1,1)),h.uniform1f(l.opacity,v.opacity),h.uniform3f(l.color,v.color.r,v.color.g,v.color.b),h.uniform1f(l.rotation,v.rotation),h.uniform2fv(l.scale,b),t.setBlending(v.blending,v.blendEquation,v.blendSrc,v.blendDst),t.setDepthTest(v.depthTest),t.setDepthWrite(v.depthWrite),v.map&&v.map.image&&v.map.image.width?t.setTexture(v.map,0):t.setTexture(c,0),h.drawElements(h.TRIANGLES,6,h.UNSIGNED_SHORT,0)}h.enable(h.CULL_FACE),t.resetGLState()}}},THREE.GeometryUtils={merge:function(t,e,i){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var r;e instanceof THREE.Mesh&&(e.matrixAutoUpdate&&e.updateMatrix(),r=e.matrix,e=e.geometry),t.merge(e,r,i)},center:function(t){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),t.center()}},THREE.ImageUtils={crossOrigin:void 0,loadTexture:function(t,e,i,r){var o=new THREE.ImageLoader;o.crossOrigin=this.crossOrigin;var n=new THREE.Texture(void 0,e);return o.load(t,function(t){n.image=t,n.needsUpdate=!0,i&&i(n)},void 0,function(t){r&&r(t)}),n.sourceFile=t,n},loadTextureCube:function(t,e,i){var r=[],o=new THREE.ImageLoader;o.crossOrigin=this.crossOrigin;var n=new THREE.CubeTexture(r,e);n.flipY=!1;for(var a=0,s=function(e){o.load(t[e],function(t){n.images[e]=t,a+=1,6===a&&(n.needsUpdate=!0,i&&i(n))})},l=0,c=t.length;c>l;++l)s(l);return n},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},getNormalMap:function(t,e){var i=function(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]},r=function(t,e){return[t[0]-e[0],t[1]-e[1],t[2]-e[2]]},o=function(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);return[t[0]/e,t[1]/e,t[2]/e]};e=1|e;var n=t.width,a=t.height,s=document.createElement("canvas");s.width=n,s.height=a;var l=s.getContext("2d");l.drawImage(t,0,0);for(var c=l.getImageData(0,0,n,a).data,h=l.createImageData(n,a),u=h.data,d=0;n>d;d++)for(var p=0;a>p;p++){var f=0>p-1?0:p-1,_=p+1>a-1?a-1:p+1,m=0>d-1?0:d-1,g=d+1>n-1?n-1:d+1,y=[],b=[0,0,c[4*(p*n+d)]/255*e];y.push([-1,0,c[4*(p*n+m)]/255*e]),y.push([-1,-1,c[4*(f*n+m)]/255*e]),y.push([0,-1,c[4*(f*n+d)]/255*e]),y.push([1,-1,c[4*(f*n+g)]/255*e]),y.push([1,0,c[4*(p*n+g)]/255*e]),y.push([1,1,c[4*(_*n+g)]/255*e]),y.push([0,1,c[4*(_*n+d)]/255*e]),y.push([-1,1,c[4*(_*n+m)]/255*e]);for(var v=[],M=y.length,S=0;M>S;S++){var T=y[S],x=y[(S+1)%M];T=r(T,b),x=r(x,b),v.push(o(i(T,x)))}for(var C=[0,0,0],S=0;S<v.length;S++)C[0]+=v[S][0],C[1]+=v[S][1],C[2]+=v[S][2];C[0]/=v.length,C[1]/=v.length,C[2]/=v.length;var E=4*(p*n+d);u[E]=(C[0]+1)/2*255|0,u[E+1]=(C[1]+1)/2*255|0,u[E+2]=255*C[2]|0,u[E+3]=255}return l.putImageData(h,0,0),s},generateDataTexture:function(t,e,i){for(var r=t*e,o=new Uint8Array(3*r),n=Math.floor(255*i.r),a=Math.floor(255*i.g),s=Math.floor(255*i.b),l=0;r>l;l++)o[3*l]=n,o[3*l+1]=a,o[3*l+2]=s;var c=new THREE.DataTexture(o,t,e,THREE.RGBFormat);return c.needsUpdate=!0,c}},THREE.SceneUtils={createMultiMaterialObject:function(t,e){for(var i=new THREE.Object3D,r=0,o=e.length;o>r;r++)i.add(new THREE.Mesh(t,e[r]));return i},detach:function(t,e,i){t.applyMatrix(e.matrixWorld),e.remove(t),i.add(t)},attach:function(t,e,i){var r=new THREE.Matrix4;r.getInverse(i.matrixWorld),t.applyMatrix(r),e.remove(t),i.add(t)}},THREE.FontUtils={faces:{},face:"helvetiker",weight:"normal",style:"normal",size:150,divisions:10,getFace:function(){try{return this.faces[this.face][this.weight][this.style]}catch(t){throw"The font "+this.face+" with "+this.weight+" weight and "+this.style+" style is missing."}},loadFace:function(t){var e=t.familyName.toLowerCase(),i=this;i.faces[e]=i.faces[e]||{},i.faces[e][t.cssFontWeight]=i.faces[e][t.cssFontWeight]||{},i.faces[e][t.cssFontWeight][t.cssFontStyle]=t;i.faces[e][t.cssFontWeight][t.cssFontStyle]=t;return t},drawText:function(t){var e,i=this.getFace(),r=this.size/i.resolution,o=0,n=String(t).split(""),a=n.length,s=[];for(e=0;a>e;e++){var l=new THREE.Path,c=this.extractGlyphPoints(n[e],i,r,o,l);o+=c.offset,s.push(c.path)}var h=o/2;return{paths:s,offset:h}},extractGlyphPoints:function(t,e,i,r,o){var n,a,s,l,c,h,u,d,p,f,_,m,g,y,b,v,M,S,T,x=[],C=e.glyphs[t]||e.glyphs["?"];
if(C){if(C.o)for(l=C._cachedOutline||(C._cachedOutline=C.o.split(" ")),h=l.length,u=i,d=i,n=0;h>n;)switch(c=l[n++]){case"m":p=l[n++]*u+r,f=l[n++]*d,o.moveTo(p,f);break;case"l":p=l[n++]*u+r,f=l[n++]*d,o.lineTo(p,f);break;case"q":if(_=l[n++]*u+r,m=l[n++]*d,b=l[n++]*u+r,v=l[n++]*d,o.quadraticCurveTo(b,v,_,m),T=x[x.length-1])for(g=T.x,y=T.y,a=1,s=this.divisions;s>=a;a++){var E=a/s;THREE.Shape.Utils.b2(E,g,b,_),THREE.Shape.Utils.b2(E,y,v,m)}break;case"b":if(_=l[n++]*u+r,m=l[n++]*d,b=l[n++]*u+r,v=l[n++]*d,M=l[n++]*u+r,S=l[n++]*d,o.bezierCurveTo(b,v,M,S,_,m),T=x[x.length-1])for(g=T.x,y=T.y,a=1,s=this.divisions;s>=a;a++){var E=a/s;THREE.Shape.Utils.b3(E,g,b,M,_),THREE.Shape.Utils.b3(E,y,v,S,m)}}return{offset:C.ha*i,path:o}}}},THREE.FontUtils.generateShapes=function(t,e){e=e||{};var i=void 0!==e.size?e.size:100,r=void 0!==e.curveSegments?e.curveSegments:4,o=void 0!==e.font?e.font:"helvetiker",n=void 0!==e.weight?e.weight:"normal",a=void 0!==e.style?e.style:"normal";THREE.FontUtils.size=i,THREE.FontUtils.divisions=r,THREE.FontUtils.face=o,THREE.FontUtils.weight=n,THREE.FontUtils.style=a;for(var s=THREE.FontUtils.drawText(t),l=s.paths,c=[],h=0,u=l.length;u>h;h++)Array.prototype.push.apply(c,l[h].toShapes());return c},function(t){var e=1e-10,i=function(t,e){var i=t.length;if(3>i)return null;var n,a,s,l=[],c=[],h=[];if(r(t)>0)for(a=0;i>a;a++)c[a]=a;else for(a=0;i>a;a++)c[a]=i-1-a;var u=i,d=2*u;for(a=u-1;u>2;){if(d--<=0)return console.log("Warning, unable to triangulate polygon!"),e?h:l;if(n=a,n>=u&&(n=0),a=n+1,a>=u&&(a=0),s=a+1,s>=u&&(s=0),o(t,n,a,s,u,c)){var p,f,_,m,g;for(p=c[n],f=c[a],_=c[s],l.push([t[p],t[f],t[_]]),h.push([c[n],c[a],c[s]]),m=a,g=a+1;u>g;m++,g++)c[m]=c[g];u--,d=2*u}}return e?h:l},r=function(t){for(var e=t.length,i=0,r=e-1,o=0;e>o;r=o++)i+=t[r].x*t[o].y-t[o].x*t[r].y;return.5*i},o=function(t,i,r,o,n,a){var s,l,c,h,u,d,p,f,_;if(l=t[a[i]].x,c=t[a[i]].y,h=t[a[r]].x,u=t[a[r]].y,d=t[a[o]].x,p=t[a[o]].y,e>(h-l)*(p-c)-(u-c)*(d-l))return!1;var m,g,y,b,v,M,S,T,x,C,E,A,w,R,D;for(m=d-h,g=p-u,y=l-d,b=c-p,v=h-l,M=u-c,s=0;n>s;s++)if(f=t[a[s]].x,_=t[a[s]].y,!(f===l&&_===c||f===h&&_===u||f===d&&_===p)&&(S=f-l,T=_-c,x=f-h,C=_-u,E=f-d,A=_-p,D=m*C-g*x,w=v*T-M*S,R=y*A-b*E,D>=-e&&R>=-e&&w>=-e))return!1;return!0};return t.Triangulate=i,t.Triangulate.area=r,t}(THREE.FontUtils),self._typeface_js={faces:THREE.FontUtils.faces,loadFace:THREE.FontUtils.loadFace},THREE.typeface_js=self._typeface_js,THREE.Audio=function(t){THREE.Object3D.call(this),this.type="Audio",this.context=t.context,this.source=this.context.createBufferSource(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.panner=this.context.createPanner(),this.panner.connect(this.gain)},THREE.Audio.prototype=Object.create(THREE.Object3D.prototype),THREE.Audio.prototype.load=function(t){var e=this,i=new XMLHttpRequest;return i.open("GET",t,!0),i.responseType="arraybuffer",i.onload=function(){e.context.decodeAudioData(this.response,function(t){e.source.buffer=t,e.source.connect(e.panner),e.source.start(0)})},i.send(),this},THREE.Audio.prototype.setLoop=function(t){this.source.loop=t},THREE.Audio.prototype.setRefDistance=function(t){this.panner.refDistance=t},THREE.Audio.prototype.setRolloffFactor=function(t){this.panner.rolloffFactor=t},THREE.Audio.prototype.updateMatrixWorld=function(){var t=new THREE.Vector3;return function(e){THREE.Object3D.prototype.updateMatrixWorld.call(this,e),t.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(t.x,t.y,t.z)}}(),THREE.AudioListener=function(){THREE.Object3D.call(this),this.type="AudioListener",this.context=new(window.AudioContext||window.webkitAudioContext)},THREE.AudioListener.prototype=Object.create(THREE.Object3D.prototype),THREE.AudioListener.prototype.updateMatrixWorld=function(){var t=new THREE.Vector3,e=new THREE.Quaternion,i=new THREE.Vector3,r=new THREE.Vector3,o=new THREE.Vector3,n=new THREE.Vector3;return function(a){THREE.Object3D.prototype.updateMatrixWorld.call(this,a);var s=this.context.listener;this.matrixWorld.decompose(t,e,i),r.set(0,0,-1).applyQuaternion(e),o.subVectors(t,n),s.setPosition(t.x,t.y,t.z),s.setOrientation(r.x,r.y,r.z,this.up.x,this.up.y,this.up.z),s.setVelocity(o.x,o.y,o.z),n.copy(t)}}(),THREE.Curve=function(){},THREE.Curve.prototype.getPoint=function(){return console.log("Warning, getPoint() not implemented!"),null},THREE.Curve.prototype.getPointAt=function(t){var e=this.getUtoTmapping(t);return this.getPoint(e)},THREE.Curve.prototype.getPoints=function(t){t||(t=5);var e,i=[];for(e=0;t>=e;e++)i.push(this.getPoint(e/t));return i},THREE.Curve.prototype.getSpacedPoints=function(t){t||(t=5);var e,i=[];for(e=0;t>=e;e++)i.push(this.getPointAt(e/t));return i},THREE.Curve.prototype.getLength=function(){var t=this.getLengths();return t[t.length-1]},THREE.Curve.prototype.getLengths=function(t){if(t||(t=this.__arcLengthDivisions?this.__arcLengthDivisions:200),this.cacheArcLengths&&this.cacheArcLengths.length==t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,i,r=[],o=this.getPoint(0),n=0;for(r.push(0),i=1;t>=i;i++)e=this.getPoint(i/t),n+=e.distanceTo(o),r.push(n),o=e;return this.cacheArcLengths=r,r},THREE.Curve.prototype.updateArcLengths=function(){this.needsUpdate=!0,this.getLengths()},THREE.Curve.prototype.getUtoTmapping=function(t,e){var i,r=this.getLengths(),o=0,n=r.length;i=e?e:t*r[n-1];for(var a,s=0,l=n-1;l>=s;)if(o=Math.floor(s+(l-s)/2),a=r[o]-i,0>a)s=o+1;else{if(!(a>0)){l=o;break}l=o-1}if(o=l,r[o]==i){var c=o/(n-1);return c}var h=r[o],u=r[o+1],d=u-h,p=(i-h)/d,c=(o+p)/(n-1);return c},THREE.Curve.prototype.getTangent=function(t){var e=1e-4,i=t-e,r=t+e;0>i&&(i=0),r>1&&(r=1);var o=this.getPoint(i),n=this.getPoint(r),a=n.clone().sub(o);return a.normalize()},THREE.Curve.prototype.getTangentAt=function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)},THREE.Curve.Utils={tangentQuadraticBezier:function(t,e,i,r){return 2*(1-t)*(i-e)+2*t*(r-i)},tangentCubicBezier:function(t,e,i,r,o){return-3*e*(1-t)*(1-t)+3*i*(1-t)*(1-t)-6*t*i*(1-t)+6*t*r*(1-t)-3*t*t*r+3*t*t*o},tangentSpline:function(t){var e=6*t*t-6*t,i=3*t*t-4*t+1,r=-6*t*t+6*t,o=3*t*t-2*t;return e+i+r+o},interpolate:function(t,e,i,r,o){var n=.5*(i-t),a=.5*(r-e),s=o*o,l=o*s;return(2*e-2*i+n+a)*l+(-3*e+3*i-2*n-a)*s+n*o+e}},THREE.Curve.create=function(t,e){return t.prototype=Object.create(THREE.Curve.prototype),t.prototype.getPoint=e,t},THREE.CurvePath=function(){this.curves=[],this.bends=[],this.autoClose=!1},THREE.CurvePath.prototype=Object.create(THREE.Curve.prototype),THREE.CurvePath.prototype.add=function(t){this.curves.push(t)},THREE.CurvePath.prototype.checkConnection=function(){},THREE.CurvePath.prototype.closePath=function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new THREE.LineCurve(e,t))},THREE.CurvePath.prototype.getPoint=function(t){for(var e,i,r=t*this.getLength(),o=this.getCurveLengths(),n=0;n<o.length;){if(o[n]>=r){e=o[n]-r,i=this.curves[n];var a=1-e/i.getLength();return i.getPointAt(a)}n++}return null},THREE.CurvePath.prototype.getLength=function(){var t=this.getCurveLengths();return t[t.length-1]},THREE.CurvePath.prototype.getCurveLengths=function(){if(this.cacheLengths&&this.cacheLengths.length==this.curves.length)return this.cacheLengths;var t,e=[],i=0,r=this.curves.length;for(t=0;r>t;t++)i+=this.curves[t].getLength(),e.push(i);return this.cacheLengths=e,e},THREE.CurvePath.prototype.getBoundingBox=function(){var t,e,i,r,o,n,a=this.getPoints();t=e=Number.NEGATIVE_INFINITY,r=o=Number.POSITIVE_INFINITY;var s,l,c,h,u=a[0]instanceof THREE.Vector3;for(h=u?new THREE.Vector3:new THREE.Vector2,l=0,c=a.length;c>l;l++)s=a[l],s.x>t?t=s.x:s.x<r&&(r=s.x),s.y>e?e=s.y:s.y<o&&(o=s.y),u&&(s.z>i?i=s.z:s.z<n&&(n=s.z)),h.add(s);var d={minX:r,minY:o,maxX:t,maxY:e};return u&&(d.maxZ=i,d.minZ=n),d},THREE.CurvePath.prototype.createPointsGeometry=function(t){var e=this.getPoints(t,!0);return this.createGeometry(e)},THREE.CurvePath.prototype.createSpacedPointsGeometry=function(t){var e=this.getSpacedPoints(t,!0);return this.createGeometry(e)},THREE.CurvePath.prototype.createGeometry=function(t){for(var e=new THREE.Geometry,i=0;i<t.length;i++)e.vertices.push(new THREE.Vector3(t[i].x,t[i].y,t[i].z||0));return e},THREE.CurvePath.prototype.addWrapPath=function(t){this.bends.push(t)},THREE.CurvePath.prototype.getTransformedPoints=function(t,e){var i,r,o=this.getPoints(t);for(e||(e=this.bends),i=0,r=e.length;r>i;i++)o=this.getWrapPoints(o,e[i]);return o},THREE.CurvePath.prototype.getTransformedSpacedPoints=function(t,e){var i,r,o=this.getSpacedPoints(t);for(e||(e=this.bends),i=0,r=e.length;r>i;i++)o=this.getWrapPoints(o,e[i]);return o},THREE.CurvePath.prototype.getWrapPoints=function(t,e){var i,r,o,n,a,s,l=this.getBoundingBox();for(i=0,r=t.length;r>i;i++){o=t[i],n=o.x,a=o.y,s=n/l.maxX,s=e.getUtoTmapping(s,n);var c=e.getPoint(s),h=e.getTangent(s);h.set(-h.y,h.x).multiplyScalar(a),o.x=c.x+h.x,o.y=c.y+h.y}return t},THREE.Gyroscope=function(){THREE.Object3D.call(this)},THREE.Gyroscope.prototype=Object.create(THREE.Object3D.prototype),THREE.Gyroscope.prototype.updateMatrixWorld=function(){var t=new THREE.Vector3,e=new THREE.Quaternion,i=new THREE.Vector3,r=new THREE.Vector3,o=new THREE.Quaternion,n=new THREE.Vector3;return function(a){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||a)&&(this.parent?(this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorld.decompose(r,o,n),this.matrix.decompose(t,e,i),this.matrixWorld.compose(r,e,n)):this.matrixWorld.copy(this.matrix),this.matrixWorldNeedsUpdate=!1,a=!0);for(var s=0,l=this.children.length;l>s;s++)this.children[s].updateMatrixWorld(a)}}(),THREE.Path=function(t){THREE.CurvePath.call(this),this.actions=[],t&&this.fromPoints(t)},THREE.Path.prototype=Object.create(THREE.CurvePath.prototype),THREE.PathActions={MOVE_TO:"moveTo",LINE_TO:"lineTo",QUADRATIC_CURVE_TO:"quadraticCurveTo",BEZIER_CURVE_TO:"bezierCurveTo",CSPLINE_THRU:"splineThru",ARC:"arc",ELLIPSE:"ellipse"},THREE.Path.prototype.fromPoints=function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,i=t.length;i>e;e++)this.lineTo(t[e].x,t[e].y)},THREE.Path.prototype.moveTo=function(){var t=Array.prototype.slice.call(arguments);this.actions.push({action:THREE.PathActions.MOVE_TO,args:t})},THREE.Path.prototype.lineTo=function(t,e){var i=Array.prototype.slice.call(arguments),r=this.actions[this.actions.length-1].args,o=r[r.length-2],n=r[r.length-1],a=new THREE.LineCurve(new THREE.Vector2(o,n),new THREE.Vector2(t,e));this.curves.push(a),this.actions.push({action:THREE.PathActions.LINE_TO,args:i})},THREE.Path.prototype.quadraticCurveTo=function(t,e,i,r){var o=Array.prototype.slice.call(arguments),n=this.actions[this.actions.length-1].args,a=n[n.length-2],s=n[n.length-1],l=new THREE.QuadraticBezierCurve(new THREE.Vector2(a,s),new THREE.Vector2(t,e),new THREE.Vector2(i,r));this.curves.push(l),this.actions.push({action:THREE.PathActions.QUADRATIC_CURVE_TO,args:o})},THREE.Path.prototype.bezierCurveTo=function(t,e,i,r,o,n){var a=Array.prototype.slice.call(arguments),s=this.actions[this.actions.length-1].args,l=s[s.length-2],c=s[s.length-1],h=new THREE.CubicBezierCurve(new THREE.Vector2(l,c),new THREE.Vector2(t,e),new THREE.Vector2(i,r),new THREE.Vector2(o,n));this.curves.push(h),this.actions.push({action:THREE.PathActions.BEZIER_CURVE_TO,args:a})},THREE.Path.prototype.splineThru=function(t){var e=Array.prototype.slice.call(arguments),i=this.actions[this.actions.length-1].args,r=i[i.length-2],o=i[i.length-1],n=[new THREE.Vector2(r,o)];Array.prototype.push.apply(n,t);var a=new THREE.SplineCurve(n);this.curves.push(a),this.actions.push({action:THREE.PathActions.CSPLINE_THRU,args:e})},THREE.Path.prototype.arc=function(t,e,i,r,o,n){var a=this.actions[this.actions.length-1].args,s=a[a.length-2],l=a[a.length-1];this.absarc(t+s,e+l,i,r,o,n)},THREE.Path.prototype.absarc=function(t,e,i,r,o,n){this.absellipse(t,e,i,i,r,o,n)},THREE.Path.prototype.ellipse=function(t,e,i,r,o,n,a){var s=this.actions[this.actions.length-1].args,l=s[s.length-2],c=s[s.length-1];this.absellipse(t+l,e+c,i,r,o,n,a)},THREE.Path.prototype.absellipse=function(t,e,i,r,o,n,a){var s=Array.prototype.slice.call(arguments),l=new THREE.EllipseCurve(t,e,i,r,o,n,a);this.curves.push(l);var c=l.getPoint(1);s.push(c.x),s.push(c.y),this.actions.push({action:THREE.PathActions.ELLIPSE,args:s})},THREE.Path.prototype.getSpacedPoints=function(t){t||(t=40);for(var e=[],i=0;t>i;i++)e.push(this.getPoint(i/t));return e},THREE.Path.prototype.getPoints=function(t,e){if(this.useSpacedPoints)return console.log("tata"),this.getSpacedPoints(t,e);t=t||12;var i,r,o,n,a,s,l,c,h,u,d,p,f,_,m,g,y,b,v=[];for(i=0,r=this.actions.length;r>i;i++)switch(o=this.actions[i],n=o.action,a=o.args,n){case THREE.PathActions.MOVE_TO:v.push(new THREE.Vector2(a[0],a[1]));break;case THREE.PathActions.LINE_TO:v.push(new THREE.Vector2(a[0],a[1]));break;case THREE.PathActions.QUADRATIC_CURVE_TO:for(s=a[2],l=a[3],u=a[0],d=a[1],v.length>0?(_=v[v.length-1],p=_.x,f=_.y):(_=this.actions[i-1].args,p=_[_.length-2],f=_[_.length-1]),m=1;t>=m;m++)g=m/t,y=THREE.Shape.Utils.b2(g,p,u,s),b=THREE.Shape.Utils.b2(g,f,d,l),v.push(new THREE.Vector2(y,b));break;case THREE.PathActions.BEZIER_CURVE_TO:for(s=a[4],l=a[5],u=a[0],d=a[1],c=a[2],h=a[3],v.length>0?(_=v[v.length-1],p=_.x,f=_.y):(_=this.actions[i-1].args,p=_[_.length-2],f=_[_.length-1]),m=1;t>=m;m++)g=m/t,y=THREE.Shape.Utils.b3(g,p,u,c,s),b=THREE.Shape.Utils.b3(g,f,d,h,l),v.push(new THREE.Vector2(y,b));break;case THREE.PathActions.CSPLINE_THRU:_=this.actions[i-1].args;var M=new THREE.Vector2(_[_.length-2],_[_.length-1]),S=[M],T=t*a[0].length;S=S.concat(a[0]);var x=new THREE.SplineCurve(S);for(m=1;T>=m;m++)v.push(x.getPointAt(m/T));break;case THREE.PathActions.ARC:var C,E=a[0],A=a[1],w=a[2],R=a[3],D=a[4],P=!!a[5],B=D-R,V=2*t;for(m=1;V>=m;m++)g=m/V,P||(g=1-g),C=R+g*B,y=E+w*Math.cos(C),b=A+w*Math.sin(C),v.push(new THREE.Vector2(y,b));break;case THREE.PathActions.ELLIPSE:var C,E=a[0],A=a[1],L=a[2],k=a[3],R=a[4],D=a[5],P=!!a[6],B=D-R,V=2*t;for(m=1;V>=m;m++)g=m/V,P||(g=1-g),C=R+g*B,y=E+L*Math.cos(C),b=A+k*Math.sin(C),v.push(new THREE.Vector2(y,b))}var H=v[v.length-1],I=1e-10;return Math.abs(H.x-v[0].x)<I&&Math.abs(H.y-v[0].y)<I&&v.splice(v.length-1,1),e&&v.push(v[0]),v},THREE.Path.prototype.toShapes=function(t,e){function i(t){var e,i,r,o,n,a=[],s=new THREE.Path;for(e=0,i=t.length;i>e;e++)r=t[e],n=r.args,o=r.action,o==THREE.PathActions.MOVE_TO&&0!=s.actions.length&&(a.push(s),s=new THREE.Path),s[o].apply(s,n);return 0!=s.actions.length&&a.push(s),a}function r(t){for(var e=[],i=0,r=t.length;r>i;i++){var o=t[i],n=new THREE.Shape;n.actions=o.actions,n.curves=o.curves,e.push(n)}return e}function o(t,e){for(var i=1e-10,r=e.length,o=!1,n=r-1,a=0;r>a;n=a++){var s=e[n],l=e[a],c=l.x-s.x,h=l.y-s.y;if(Math.abs(h)>i){if(0>h&&(s=e[a],c=-c,l=e[n],h=-h),t.y<s.y||t.y>l.y)continue;if(t.y==s.y){if(t.x==s.x)return!0}else{var u=h*(t.x-s.x)-c*(t.y-s.y);if(0==u)return!0;if(0>u)continue;o=!o}}else{if(t.y!=s.y)continue;if(l.x<=t.x&&t.x<=s.x||s.x<=t.x&&t.x<=l.x)return!0}}return o}var n=i(this.actions);if(0==n.length)return[];if(e===!0)return r(n);var a,s,l,c=[];if(1==n.length)return s=n[0],l=new THREE.Shape,l.actions=s.actions,l.curves=s.curves,c.push(l),c;var h=!THREE.Shape.Utils.isClockWise(n[0].getPoints());h=t?!h:h;var u,d=[],p=[],f=[],_=0;p[_]=void 0,f[_]=[];var m,g;for(m=0,g=n.length;g>m;m++)s=n[m],u=s.getPoints(),a=THREE.Shape.Utils.isClockWise(u),a=t?!a:a,a?(!h&&p[_]&&_++,p[_]={s:new THREE.Shape,p:u},p[_].s.actions=s.actions,p[_].s.curves=s.curves,h&&_++,f[_]=[]):f[_].push({h:s,p:u[0]});if(!p[0])return r(n);if(p.length>1){for(var y=!1,b=[],v=0,M=p.length;M>v;v++)d[v]=[];for(var v=0,M=p.length;M>v;v++)for(var S=(p[v],f[v]),T=0;T<S.length;T++){for(var x=S[T],C=!0,E=0;E<p.length;E++)o(x.p,p[E].p)&&(v!=E&&b.push({froms:v,tos:E,hole:T}),C?(C=!1,d[E].push(x)):y=!0);C&&d[v].push(x)}b.length>0&&(y||(f=d))}var A,w,R;for(m=0,g=p.length;g>m;m++)for(l=p[m].s,c.push(l),A=f[m],w=0,R=A.length;R>w;w++)l.holes.push(A[w].h);return c},THREE.Shape=function(){THREE.Path.apply(this,arguments),this.holes=[]},THREE.Shape.prototype=Object.create(THREE.Path.prototype),THREE.Shape.prototype.extrude=function(t){var e=new THREE.ExtrudeGeometry(this,t);return e},THREE.Shape.prototype.makeGeometry=function(t){var e=new THREE.ShapeGeometry(this,t);return e},THREE.Shape.prototype.getPointsHoles=function(t){var e,i=this.holes.length,r=[];for(e=0;i>e;e++)r[e]=this.holes[e].getTransformedPoints(t,this.bends);return r},THREE.Shape.prototype.getSpacedPointsHoles=function(t){var e,i=this.holes.length,r=[];for(e=0;i>e;e++)r[e]=this.holes[e].getTransformedSpacedPoints(t,this.bends);return r},THREE.Shape.prototype.extractAllPoints=function(t){return{shape:this.getTransformedPoints(t),holes:this.getPointsHoles(t)}},THREE.Shape.prototype.extractPoints=function(t){return this.useSpacedPoints?this.extractAllSpacedPoints(t):this.extractAllPoints(t)},THREE.Shape.prototype.extractAllSpacedPoints=function(t){return{shape:this.getTransformedSpacedPoints(t),holes:this.getSpacedPointsHoles(t)}},THREE.Shape.Utils={triangulateShape:function(t,e){function i(t,e,i){return t.x!=e.x?t.x<e.x?t.x<=i.x&&i.x<=e.x:e.x<=i.x&&i.x<=t.x:t.y<e.y?t.y<=i.y&&i.y<=e.y:e.y<=i.y&&i.y<=t.y}function r(t,e,r,o,n){var a=1e-10,s=e.x-t.x,l=e.y-t.y,c=o.x-r.x,h=o.y-r.y,u=t.x-r.x,d=t.y-r.y,p=l*c-s*h,f=l*u-s*d;if(Math.abs(p)>a){var _;if(p>0){if(0>f||f>p)return[];if(_=h*u-c*d,0>_||_>p)return[]}else{if(f>0||p>f)return[];if(_=h*u-c*d,_>0||p>_)return[]}if(0==_)return!n||0!=f&&f!=p?[t]:[];if(_==p)return!n||0!=f&&f!=p?[e]:[];if(0==f)return[r];if(f==p)return[o];var m=_/p;return[{x:t.x+m*s,y:t.y+m*l}]}if(0!=f||h*u!=c*d)return[];var g=0==s&&0==l,y=0==c&&0==h;if(g&&y)return t.x!=r.x||t.y!=r.y?[]:[t];if(g)return i(r,o,t)?[t]:[];if(y)return i(t,e,r)?[r]:[];var b,v,M,S,T,x,C,E;return 0!=s?(t.x<e.x?(b=t,M=t.x,v=e,S=e.x):(b=e,M=e.x,v=t,S=t.x),r.x<o.x?(T=r,C=r.x,x=o,E=o.x):(T=o,C=o.x,x=r,E=r.x)):(t.y<e.y?(b=t,M=t.y,v=e,S=e.y):(b=e,M=e.y,v=t,S=t.y),r.y<o.y?(T=r,C=r.y,x=o,E=o.y):(T=o,C=o.y,x=r,E=r.y)),C>=M?C>S?[]:S==C?n?[]:[T]:E>=S?[T,v]:[T,x]:M>E?[]:M==E?n?[]:[b]:E>=S?[b,v]:[b,x]}function o(t,e,i,r){var o=1e-10,n=e.x-t.x,a=e.y-t.y,s=i.x-t.x,l=i.y-t.y,c=r.x-t.x,h=r.y-t.y,u=n*l-a*s,d=n*h-a*c;if(Math.abs(u)>o){var p=c*l-h*s;return u>0?d>=0&&p>=0:d>=0||p>=0}return d>0}function n(t,e){function i(t,e){var i=y.length-1,r=t-1;0>r&&(r=i);var n=t+1;n>i&&(n=0);var a=o(y[t],y[r],y[n],s[e]);if(!a)return!1;var l=s.length-1,c=e-1;0>c&&(c=l);var h=e+1;return h>l&&(h=0),a=o(s[e],s[c],s[h],y[t]),a?!0:!1}function n(t,e){var i,o,n;for(i=0;i<y.length;i++)if(o=i+1,o%=y.length,n=r(t,e,y[i],y[o],!0),n.length>0)return!0;return!1}function a(t,i){var o,n,a,s,l;for(o=0;o<b.length;o++)for(n=e[b[o]],a=0;a<n.length;a++)if(s=a+1,s%=n.length,l=r(t,i,n[a],n[s],!0),l.length>0)return!0;return!1}for(var s,l,c,h,u,d,p,f,_,m,g,y=t.concat(),b=[],v=[],M=0,S=e.length;S>M;M++)b.push(M);for(var T=0,x=2*b.length;b.length>0;){if(x--,0>x){console.log("Infinite Loop! Holes left:"+b.length+", Probably Hole outside Shape!");break}for(c=T;c<y.length;c++){h=y[c],l=-1;for(var M=0;M<b.length;M++)if(d=b[M],p=h.x+":"+h.y+":"+d,void 0===v[p]){s=e[d];for(var C=0;C<s.length;C++)if(u=s[C],i(c,C)&&!n(h,u)&&!a(h,u)){l=C,b.splice(M,1),f=y.slice(0,c+1),_=y.slice(c),m=s.slice(l),g=s.slice(0,l+1),y=f.concat(m).concat(g).concat(_),T=c;break}if(l>=0)break;v[p]=!0}if(l>=0)break}}return y}for(var a,s,l,c={},h=t.concat(),u=0,d=e.length;d>u;u++)Array.prototype.push.apply(h,e[u]);for(a=0,s=h.length;s>a;a++)l=h[a].x+":"+h[a].y,void 0!==c[l]&&console.log("Duplicate point",l),c[l]=a;var p=n(t,e),f=THREE.FontUtils.Triangulate(p,!1);return f},isClockWise:function(t){return THREE.FontUtils.Triangulate.area(t)<0},b2p0:function(t,e){var i=1-t;return i*i*e},b2p1:function(t,e){return 2*(1-t)*t*e},b2p2:function(t,e){return t*t*e},b2:function(t,e,i,r){return this.b2p0(t,e)+this.b2p1(t,i)+this.b2p2(t,r)},b3p0:function(t,e){var i=1-t;return i*i*i*e},b3p1:function(t,e){var i=1-t;return 3*i*i*t*e},b3p2:function(t,e){var i=1-t;return 3*i*t*t*e},b3p3:function(t,e){return t*t*t*e},b3:function(t,e,i,r,o){return this.b3p0(t,e)+this.b3p1(t,i)+this.b3p2(t,r)+this.b3p3(t,o)}},THREE.LineCurve=function(t,e){this.v1=t,this.v2=e},THREE.LineCurve.prototype=Object.create(THREE.Curve.prototype),THREE.LineCurve.prototype.getPoint=function(t){var e=this.v2.clone().sub(this.v1);return e.multiplyScalar(t).add(this.v1),e},THREE.LineCurve.prototype.getPointAt=function(t){return this.getPoint(t)},THREE.LineCurve.prototype.getTangent=function(){var t=this.v2.clone().sub(this.v1);return t.normalize()},THREE.QuadraticBezierCurve=function(t,e,i){this.v0=t,this.v1=e,this.v2=i},THREE.QuadraticBezierCurve.prototype=Object.create(THREE.Curve.prototype),THREE.QuadraticBezierCurve.prototype.getPoint=function(t){var e=new THREE.Vector2;return e.x=THREE.Shape.Utils.b2(t,this.v0.x,this.v1.x,this.v2.x),e.y=THREE.Shape.Utils.b2(t,this.v0.y,this.v1.y,this.v2.y),e},THREE.QuadraticBezierCurve.prototype.getTangent=function(t){var e=new THREE.Vector2;return e.x=THREE.Curve.Utils.tangentQuadraticBezier(t,this.v0.x,this.v1.x,this.v2.x),e.y=THREE.Curve.Utils.tangentQuadraticBezier(t,this.v0.y,this.v1.y,this.v2.y),e.normalize()},THREE.CubicBezierCurve=function(t,e,i,r){this.v0=t,this.v1=e,this.v2=i,this.v3=r},THREE.CubicBezierCurve.prototype=Object.create(THREE.Curve.prototype),THREE.CubicBezierCurve.prototype.getPoint=function(t){var e,i;return e=THREE.Shape.Utils.b3(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),i=THREE.Shape.Utils.b3(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y),new THREE.Vector2(e,i)},THREE.CubicBezierCurve.prototype.getTangent=function(t){var e,i;e=THREE.Curve.Utils.tangentCubicBezier(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),i=THREE.Curve.Utils.tangentCubicBezier(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y);var r=new THREE.Vector2(e,i);return r.normalize(),r},THREE.SplineCurve=function(t){this.points=void 0==t?[]:t},THREE.SplineCurve.prototype=Object.create(THREE.Curve.prototype),THREE.SplineCurve.prototype.getPoint=function(t){var e=this.points,i=(e.length-1)*t,r=Math.floor(i),o=i-r,n=e[0==r?r:r-1],a=e[r],s=e[r>e.length-2?e.length-1:r+1],l=e[r>e.length-3?e.length-1:r+2],c=new THREE.Vector2;return c.x=THREE.Curve.Utils.interpolate(n.x,a.x,s.x,l.x,o),c.y=THREE.Curve.Utils.interpolate(n.y,a.y,s.y,l.y,o),c},THREE.EllipseCurve=function(t,e,i,r,o,n,a){this.aX=t,this.aY=e,this.xRadius=i,this.yRadius=r,this.aStartAngle=o,this.aEndAngle=n,this.aClockwise=a},THREE.EllipseCurve.prototype=Object.create(THREE.Curve.prototype),THREE.EllipseCurve.prototype.getPoint=function(t){var e=this.aEndAngle-this.aStartAngle;0>e&&(e+=2*Math.PI),e>2*Math.PI&&(e-=2*Math.PI);var i;i=this.aClockwise===!0?this.aEndAngle+(1-t)*(2*Math.PI-e):this.aStartAngle+t*e;var r=new THREE.Vector2;return r.x=this.aX+this.xRadius*Math.cos(i),r.y=this.aY+this.yRadius*Math.sin(i),r},THREE.ArcCurve=function(t,e,i,r,o,n){THREE.EllipseCurve.call(this,t,e,i,i,r,o,n)},THREE.ArcCurve.prototype=Object.create(THREE.EllipseCurve.prototype),THREE.LineCurve3=THREE.Curve.create(function(t,e){this.v1=t,this.v2=e},function(t){var e=new THREE.Vector3;return e.subVectors(this.v2,this.v1),e.multiplyScalar(t),e.add(this.v1),e}),THREE.QuadraticBezierCurve3=THREE.Curve.create(function(t,e,i){this.v0=t,this.v1=e,this.v2=i},function(t){var e=new THREE.Vector3;return e.x=THREE.Shape.Utils.b2(t,this.v0.x,this.v1.x,this.v2.x),e.y=THREE.Shape.Utils.b2(t,this.v0.y,this.v1.y,this.v2.y),e.z=THREE.Shape.Utils.b2(t,this.v0.z,this.v1.z,this.v2.z),e}),THREE.CubicBezierCurve3=THREE.Curve.create(function(t,e,i,r){this.v0=t,this.v1=e,this.v2=i,this.v3=r},function(t){var e=new THREE.Vector3;return e.x=THREE.Shape.Utils.b3(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),e.y=THREE.Shape.Utils.b3(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y),e.z=THREE.Shape.Utils.b3(t,this.v0.z,this.v1.z,this.v2.z,this.v3.z),e}),THREE.SplineCurve3=THREE.Curve.create(function(t){this.points=void 0==t?[]:t},function(t){var e=this.points,i=(e.length-1)*t,r=Math.floor(i),o=i-r,n=e[0==r?r:r-1],a=e[r],s=e[r>e.length-2?e.length-1:r+1],l=e[r>e.length-3?e.length-1:r+2],c=new THREE.Vector3;return c.x=THREE.Curve.Utils.interpolate(n.x,a.x,s.x,l.x,o),c.y=THREE.Curve.Utils.interpolate(n.y,a.y,s.y,l.y,o),c.z=THREE.Curve.Utils.interpolate(n.z,a.z,s.z,l.z,o),c}),THREE.ClosedSplineCurve3=THREE.Curve.create(function(t){this.points=void 0==t?[]:t},function(t){var e=this.points,i=(e.length-0)*t,r=Math.floor(i),o=i-r;r+=r>0?0:(Math.floor(Math.abs(r)/e.length)+1)*e.length;var n=e[(r-1)%e.length],a=e[r%e.length],s=e[(r+1)%e.length],l=e[(r+2)%e.length],c=new THREE.Vector3;return c.x=THREE.Curve.Utils.interpolate(n.x,a.x,s.x,l.x,o),c.y=THREE.Curve.Utils.interpolate(n.y,a.y,s.y,l.y,o),c.z=THREE.Curve.Utils.interpolate(n.z,a.z,s.z,l.z,o),c}),THREE.AnimationHandler={LINEAR:0,CATMULLROM:1,CATMULLROM_FORWARD:2,add:function(){console.warn("THREE.AnimationHandler.add() has been deprecated.")},get:function(){console.warn("THREE.AnimationHandler.get() has been deprecated.")},remove:function(){console.warn("THREE.AnimationHandler.remove() has been deprecated.")},animations:[],init:function(t){if(t.initialized!==!0){for(var e=0;e<t.hierarchy.length;e++){for(var i=0;i<t.hierarchy[e].keys.length;i++)if(t.hierarchy[e].keys[i].time<0&&(t.hierarchy[e].keys[i].time=0),void 0!==t.hierarchy[e].keys[i].rot&&!(t.hierarchy[e].keys[i].rot instanceof THREE.Quaternion)){var r=t.hierarchy[e].keys[i].rot;t.hierarchy[e].keys[i].rot=(new THREE.Quaternion).fromArray(r)}if(t.hierarchy[e].keys.length&&void 0!==t.hierarchy[e].keys[0].morphTargets){for(var o={},i=0;i<t.hierarchy[e].keys.length;i++)for(var n=0;n<t.hierarchy[e].keys[i].morphTargets.length;n++){var a=t.hierarchy[e].keys[i].morphTargets[n];o[a]=-1}t.hierarchy[e].usedMorphTargets=o;for(var i=0;i<t.hierarchy[e].keys.length;i++){var s={};for(var a in o){for(var n=0;n<t.hierarchy[e].keys[i].morphTargets.length;n++)if(t.hierarchy[e].keys[i].morphTargets[n]===a){s[a]=t.hierarchy[e].keys[i].morphTargetsInfluences[n];break}n===t.hierarchy[e].keys[i].morphTargets.length&&(s[a]=0)}t.hierarchy[e].keys[i].morphTargetsInfluences=s}}for(var i=1;i<t.hierarchy[e].keys.length;i++)t.hierarchy[e].keys[i].time===t.hierarchy[e].keys[i-1].time&&(t.hierarchy[e].keys.splice(i,1),i--);for(var i=0;i<t.hierarchy[e].keys.length;i++)t.hierarchy[e].keys[i].index=i}return t.initialized=!0,t}},parse:function(t){var e=function(t,i){i.push(t);for(var r=0;r<t.children.length;r++)e(t.children[r],i)},i=[];if(t instanceof THREE.SkinnedMesh)for(var r=0;r<t.skeleton.bones.length;r++)i.push(t.skeleton.bones[r]);else e(t,i);return i},play:function(t){-1===this.animations.indexOf(t)&&this.animations.push(t)},stop:function(t){var e=this.animations.indexOf(t);-1!==e&&this.animations.splice(e,1)},update:function(t){for(var e=0;e<this.animations.length;e++)this.animations[e].resetBlendWeights();for(var e=0;e<this.animations.length;e++)this.animations[e].update(t)}},THREE.Animation=function(t,e){this.root=t,this.data=THREE.AnimationHandler.init(e),this.hierarchy=THREE.AnimationHandler.parse(t),this.currentTime=0,this.timeScale=1,this.isPlaying=!1,this.loop=!0,this.weight=0,this.interpolationType=THREE.AnimationHandler.LINEAR},THREE.Animation.prototype.keyTypes=["pos","rot","scl"],THREE.Animation.prototype.play=function(t,e){this.currentTime=void 0!==t?t:0,this.weight=void 0!==e?e:1,this.isPlaying=!0,this.reset(),THREE.AnimationHandler.play(this)},THREE.Animation.prototype.stop=function(){this.isPlaying=!1,THREE.AnimationHandler.stop(this)},THREE.Animation.prototype.reset=function(){for(var t=0,e=this.hierarchy.length;e>t;t++){var i=this.hierarchy[t];i.matrixAutoUpdate=!0,void 0===i.animationCache&&(i.animationCache={animations:{},blending:{positionWeight:0,quaternionWeight:0,scaleWeight:0}}),void 0===i.animationCache.animations[this.data.name]&&(i.animationCache.animations[this.data.name]={},i.animationCache.animations[this.data.name].prevKey={pos:0,rot:0,scl:0},i.animationCache.animations[this.data.name].nextKey={pos:0,rot:0,scl:0},i.animationCache.animations[this.data.name].originalMatrix=i.matrix);for(var r=i.animationCache.animations[this.data.name],o=0;3>o;o++){for(var n=this.keyTypes[o],a=this.data.hierarchy[t].keys[0],s=this.getNextKeyWith(n,t,1);s.time<this.currentTime&&s.index>a.index;)a=s,s=this.getNextKeyWith(n,t,s.index+1);r.prevKey[n]=a,r.nextKey[n]=s}}},THREE.Animation.prototype.resetBlendWeights=function(){for(var t=0,e=this.hierarchy.length;e>t;t++){var i=this.hierarchy[t];void 0!==i.animationCache&&(i.animationCache.blending.positionWeight=0,i.animationCache.blending.quaternionWeight=0,i.animationCache.blending.scaleWeight=0)}},THREE.Animation.prototype.update=function(){var t=[],e=new THREE.Vector3,i=new THREE.Vector3,r=new THREE.Quaternion,o=function(t,e){var i,r,o,a,s,l,c,h,u,d=[],p=[];return i=(t.length-1)*e,r=Math.floor(i),o=i-r,d[0]=0===r?r:r-1,d[1]=r,d[2]=r>t.length-2?r:r+1,d[3]=r>t.length-3?r:r+2,l=t[d[0]],c=t[d[1]],h=t[d[2]],u=t[d[3]],a=o*o,s=o*a,p[0]=n(l[0],c[0],h[0],u[0],o,a,s),p[1]=n(l[1],c[1],h[1],u[1],o,a,s),p[2]=n(l[2],c[2],h[2],u[2],o,a,s),p},n=function(t,e,i,r,o,n,a){var s=.5*(i-t),l=.5*(r-e);return(2*(e-i)+s+l)*a+(-3*(e-i)-2*s-l)*n+s*o+e};return function(n){if(this.isPlaying!==!1&&(this.currentTime+=n*this.timeScale,0!==this.weight)){var a=this.data.length;if(this.currentTime>a||this.currentTime<0){if(!this.loop)return void this.stop();this.currentTime%=a,this.currentTime<0&&(this.currentTime+=a),this.reset()}for(var s=0,l=this.hierarchy.length;l>s;s++)for(var c=this.hierarchy[s],h=c.animationCache.animations[this.data.name],u=c.animationCache.blending,d=0;3>d;d++){var p=this.keyTypes[d],f=h.prevKey[p],_=h.nextKey[p];if(this.timeScale>0&&_.time<=this.currentTime||this.timeScale<0&&f.time>=this.currentTime){for(f=this.data.hierarchy[s].keys[0],_=this.getNextKeyWith(p,s,1);_.time<this.currentTime&&_.index>f.index;)f=_,_=this.getNextKeyWith(p,s,_.index+1);h.prevKey[p]=f,h.nextKey[p]=_}c.matrixAutoUpdate=!0,c.matrixWorldNeedsUpdate=!0;var m=(this.currentTime-f.time)/(_.time-f.time),g=f[p],y=_[p];if(0>m&&(m=0),m>1&&(m=1),"pos"===p){if(this.interpolationType===THREE.AnimationHandler.LINEAR){i.x=g[0]+(y[0]-g[0])*m,i.y=g[1]+(y[1]-g[1])*m,i.z=g[2]+(y[2]-g[2])*m;var b=this.weight/(this.weight+u.positionWeight);c.position.lerp(i,b),u.positionWeight+=this.weight}else if(this.interpolationType===THREE.AnimationHandler.CATMULLROM||this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD){t[0]=this.getPrevKeyWith("pos",s,f.index-1).pos,t[1]=g,t[2]=y,t[3]=this.getNextKeyWith("pos",s,_.index+1).pos,m=.33*m+.33;var v=o(t,m),b=this.weight/(this.weight+u.positionWeight);u.positionWeight+=this.weight;var M=c.position;if(M.x=M.x+(v[0]-M.x)*b,M.y=M.y+(v[1]-M.y)*b,M.z=M.z+(v[2]-M.z)*b,this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD){var S=o(t,1.01*m);e.set(S[0],S[1],S[2]),e.sub(M),e.y=0,e.normalize();var T=Math.atan2(e.x,e.z);c.rotation.set(0,T,0)}}}else if("rot"===p)if(THREE.Quaternion.slerp(g,y,r,m),0===u.quaternionWeight)c.quaternion.copy(r),u.quaternionWeight=this.weight;else{var b=this.weight/(this.weight+u.quaternionWeight);THREE.Quaternion.slerp(c.quaternion,r,c.quaternion,b),u.quaternionWeight+=this.weight}else if("scl"===p){i.x=g[0]+(y[0]-g[0])*m,i.y=g[1]+(y[1]-g[1])*m,i.z=g[2]+(y[2]-g[2])*m;var b=this.weight/(this.weight+u.scaleWeight);c.scale.lerp(i,b),u.scaleWeight+=this.weight}}return!0}}}(),THREE.Animation.prototype.getNextKeyWith=function(t,e,i){var r=this.data.hierarchy[e].keys;for(this.interpolationType===THREE.AnimationHandler.CATMULLROM||this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD?i=i<r.length-1?i:r.length-1:i%=r.length;i<r.length;i++)if(void 0!==r[i][t])return r[i];return this.data.hierarchy[e].keys[0]},THREE.Animation.prototype.getPrevKeyWith=function(t,e,i){var r=this.data.hierarchy[e].keys;for(i=this.interpolationType===THREE.AnimationHandler.CATMULLROM||this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD?i>0?i:0:i>=0?i:i+r.length;i>=0;i--)if(void 0!==r[i][t])return r[i];
return this.data.hierarchy[e].keys[r.length-1]},THREE.KeyFrameAnimation=function(t){this.root=t.node,this.data=THREE.AnimationHandler.init(t),this.hierarchy=THREE.AnimationHandler.parse(this.root),this.currentTime=0,this.timeScale=.001,this.isPlaying=!1,this.isPaused=!0,this.loop=!0;for(var e=0,i=this.hierarchy.length;i>e;e++){var r=this.data.hierarchy[e].keys,o=this.data.hierarchy[e].sids,n=this.hierarchy[e];if(r.length&&o){for(var a=0;a<o.length;a++){var s=o[a],l=this.getNextKeyWith(s,e,0);l&&l.apply(s)}n.matrixAutoUpdate=!1,this.data.hierarchy[e].node.updateMatrix(),n.matrixWorldNeedsUpdate=!0}}},THREE.KeyFrameAnimation.prototype.play=function(t){if(this.currentTime=void 0!==t?t:0,this.isPlaying===!1){this.isPlaying=!0;var e,i,r,o=this.hierarchy.length;for(e=0;o>e;e++){i=this.hierarchy[e],r=this.data.hierarchy[e],void 0===r.animationCache&&(r.animationCache={},r.animationCache.prevKey=null,r.animationCache.nextKey=null,r.animationCache.originalMatrix=i.matrix);var n=this.data.hierarchy[e].keys;n.length&&(r.animationCache.prevKey=n[0],r.animationCache.nextKey=n[1],this.startTime=Math.min(n[0].time,this.startTime),this.endTime=Math.max(n[n.length-1].time,this.endTime))}this.update(0)}this.isPaused=!1,THREE.AnimationHandler.play(this)},THREE.KeyFrameAnimation.prototype.stop=function(){this.isPlaying=!1,this.isPaused=!1,THREE.AnimationHandler.stop(this);for(var t=0;t<this.data.hierarchy.length;t++){var e=this.hierarchy[t],i=this.data.hierarchy[t];if(void 0!==i.animationCache){var r=i.animationCache.originalMatrix;r.copy(e.matrix),e.matrix=r,delete i.animationCache}}},THREE.KeyFrameAnimation.prototype.update=function(t){if(this.isPlaying!==!1){this.currentTime+=t*this.timeScale;var e=this.data.length;this.loop===!0&&this.currentTime>e&&(this.currentTime%=e),this.currentTime=Math.min(this.currentTime,e);for(var i=0,r=this.hierarchy.length;r>i;i++){var o=this.hierarchy[i],n=this.data.hierarchy[i],a=n.keys,s=n.animationCache;if(a.length){var l=s.prevKey,c=s.nextKey;if(c.time<=this.currentTime){for(;c.time<this.currentTime&&c.index>l.index;)l=c,c=a[l.index+1];s.prevKey=l,s.nextKey=c}c.time>=this.currentTime?l.interpolate(c,this.currentTime):l.interpolate(c,c.time),this.data.hierarchy[i].node.updateMatrix(),o.matrixWorldNeedsUpdate=!0}}}},THREE.KeyFrameAnimation.prototype.getNextKeyWith=function(t,e,i){var r=this.data.hierarchy[e].keys;for(i%=r.length;i<r.length;i++)if(r[i].hasTarget(t))return r[i];return r[0]},THREE.KeyFrameAnimation.prototype.getPrevKeyWith=function(t,e,i){var r=this.data.hierarchy[e].keys;for(i=i>=0?i:i+r.length;i>=0;i--)if(r[i].hasTarget(t))return r[i];return r[r.length-1]},THREE.MorphAnimation=function(t){this.mesh=t,this.frames=t.morphTargetInfluences.length,this.currentTime=0,this.duration=1e3,this.loop=!0,this.isPlaying=!1},THREE.MorphAnimation.prototype={play:function(){this.isPlaying=!0},pause:function(){this.isPlaying=!1},update:function(){var t=0,e=0;return function(i){if(this.isPlaying!==!1){this.currentTime+=i,this.loop===!0&&this.currentTime>this.duration&&(this.currentTime%=this.duration),this.currentTime=Math.min(this.currentTime,this.duration);var r=this.duration/this.frames,o=Math.floor(this.currentTime/r);o!=e&&(this.mesh.morphTargetInfluences[t]=0,this.mesh.morphTargetInfluences[e]=1,this.mesh.morphTargetInfluences[o]=0,t=e,e=o),this.mesh.morphTargetInfluences[o]=this.currentTime%r/r,this.mesh.morphTargetInfluences[t]=1-this.mesh.morphTargetInfluences[o]}}}()},THREE.BoxGeometry=function(t,e,i,r,o,n){function a(t,e,i,r,o,n,a,l){var c,h,u,d=s.widthSegments,p=s.heightSegments,f=o/2,_=n/2,m=s.vertices.length;"x"===t&&"y"===e||"y"===t&&"x"===e?c="z":"x"===t&&"z"===e||"z"===t&&"x"===e?(c="y",p=s.depthSegments):("z"===t&&"y"===e||"y"===t&&"z"===e)&&(c="x",d=s.depthSegments);var g=d+1,y=p+1,b=o/d,v=n/p,M=new THREE.Vector3;for(M[c]=a>0?1:-1,u=0;y>u;u++)for(h=0;g>h;h++){var S=new THREE.Vector3;S[t]=(h*b-f)*i,S[e]=(u*v-_)*r,S[c]=a,s.vertices.push(S)}for(u=0;p>u;u++)for(h=0;d>h;h++){var T=h+g*u,x=h+g*(u+1),C=h+1+g*(u+1),E=h+1+g*u,A=new THREE.Vector2(h/d,1-u/p),w=new THREE.Vector2(h/d,1-(u+1)/p),R=new THREE.Vector2((h+1)/d,1-(u+1)/p),D=new THREE.Vector2((h+1)/d,1-u/p),P=new THREE.Face3(T+m,x+m,E+m);P.normal.copy(M),P.vertexNormals.push(M.clone(),M.clone(),M.clone()),P.materialIndex=l,s.faces.push(P),s.faceVertexUvs[0].push([A,w,D]),P=new THREE.Face3(x+m,C+m,E+m),P.normal.copy(M),P.vertexNormals.push(M.clone(),M.clone(),M.clone()),P.materialIndex=l,s.faces.push(P),s.faceVertexUvs[0].push([w.clone(),R,D.clone()])}}THREE.Geometry.call(this),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:r,heightSegments:o,depthSegments:n},this.widthSegments=r||1,this.heightSegments=o||1,this.depthSegments=n||1;var s=this,l=t/2,c=e/2,h=i/2;a("z","y",-1,-1,i,e,l,0),a("z","y",1,-1,i,e,-l,1),a("x","z",1,1,t,i,c,2),a("x","z",1,-1,t,i,-c,3),a("x","y",1,-1,t,e,h,4),a("x","y",-1,-1,t,e,-h,5),this.mergeVertices()},THREE.BoxGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.CircleGeometry=function(t,e,i,r){THREE.Geometry.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:r},t=t||50,e=void 0!==e?Math.max(3,e):8,i=void 0!==i?i:0,r=void 0!==r?r:2*Math.PI;var o,n=[],a=new THREE.Vector3,s=new THREE.Vector2(.5,.5);for(this.vertices.push(a),n.push(s),o=0;e>=o;o++){var l=new THREE.Vector3,c=i+o/e*r;l.x=t*Math.cos(c),l.y=t*Math.sin(c),this.vertices.push(l),n.push(new THREE.Vector2((l.x/t+1)/2,(l.y/t+1)/2))}var h=new THREE.Vector3(0,0,1);for(o=1;e>=o;o++)this.faces.push(new THREE.Face3(o,o+1,0,[h.clone(),h.clone(),h.clone()])),this.faceVertexUvs[0].push([n[o].clone(),n[o+1].clone(),s.clone()]);this.computeFaceNormals(),this.boundingSphere=new THREE.Sphere(new THREE.Vector3,t)},THREE.CircleGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.CubeGeometry=function(t,e,i,r,o,n){return console.warn("THREE.CubeGeometry has been renamed to THREE.BoxGeometry."),new THREE.BoxGeometry(t,e,i,r,o,n)},THREE.CylinderGeometry=function(t,e,i,r,o,n){THREE.Geometry.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:r,heightSegments:o,openEnded:n},t=void 0!==t?t:20,e=void 0!==e?e:20,i=void 0!==i?i:100,r=r||8,o=o||1,n=void 0!==n?n:!1;var a,s,l=i/2,c=[],h=[];for(s=0;o>=s;s++){var u=[],d=[],p=s/o,f=p*(e-t)+t;for(a=0;r>=a;a++){var _=a/r,m=new THREE.Vector3;m.x=f*Math.sin(_*Math.PI*2),m.y=-p*i+l,m.z=f*Math.cos(_*Math.PI*2),this.vertices.push(m),u.push(this.vertices.length-1),d.push(new THREE.Vector2(_,1-p))}c.push(u),h.push(d)}var g,y,b=(e-t)/i;for(a=0;r>a;a++)for(0!==t?(g=this.vertices[c[0][a]].clone(),y=this.vertices[c[0][a+1]].clone()):(g=this.vertices[c[1][a]].clone(),y=this.vertices[c[1][a+1]].clone()),g.setY(Math.sqrt(g.x*g.x+g.z*g.z)*b).normalize(),y.setY(Math.sqrt(y.x*y.x+y.z*y.z)*b).normalize(),s=0;o>s;s++){var v=c[s][a],M=c[s+1][a],S=c[s+1][a+1],T=c[s][a+1],x=g.clone(),C=g.clone(),E=y.clone(),A=y.clone(),w=h[s][a].clone(),R=h[s+1][a].clone(),D=h[s+1][a+1].clone(),P=h[s][a+1].clone();this.faces.push(new THREE.Face3(v,M,T,[x,C,A])),this.faceVertexUvs[0].push([w,R,P]),this.faces.push(new THREE.Face3(M,S,T,[C.clone(),E,A.clone()])),this.faceVertexUvs[0].push([R.clone(),D,P.clone()])}if(n===!1&&t>0)for(this.vertices.push(new THREE.Vector3(0,l,0)),a=0;r>a;a++){var v=c[0][a],M=c[0][a+1],S=this.vertices.length-1,x=new THREE.Vector3(0,1,0),C=new THREE.Vector3(0,1,0),E=new THREE.Vector3(0,1,0),w=h[0][a].clone(),R=h[0][a+1].clone(),D=new THREE.Vector2(R.x,0);this.faces.push(new THREE.Face3(v,M,S,[x,C,E])),this.faceVertexUvs[0].push([w,R,D])}if(n===!1&&e>0)for(this.vertices.push(new THREE.Vector3(0,-l,0)),a=0;r>a;a++){var v=c[s][a+1],M=c[s][a],S=this.vertices.length-1,x=new THREE.Vector3(0,-1,0),C=new THREE.Vector3(0,-1,0),E=new THREE.Vector3(0,-1,0),w=h[s][a+1].clone(),R=h[s][a].clone(),D=new THREE.Vector2(R.x,1);this.faces.push(new THREE.Face3(v,M,S,[x,C,E])),this.faceVertexUvs[0].push([w,R,D])}this.computeFaceNormals()},THREE.CylinderGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.ExtrudeGeometry=function(t,e){return"undefined"==typeof t?void(t=[]):(THREE.Geometry.call(this),this.type="ExtrudeGeometry",t=t instanceof Array?t:[t],this.addShapeList(t,e),void this.computeFaceNormals())},THREE.ExtrudeGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.ExtrudeGeometry.prototype.addShapeList=function(t,e){for(var i=t.length,r=0;i>r;r++){var o=t[r];this.addShape(o,e)}},THREE.ExtrudeGeometry.prototype.addShape=function(t,e){function i(t,e,i){return e||console.log("die"),e.clone().multiplyScalar(i).add(t)}function r(t,e,i){var r,o,n=1e-10,a=1,s=t.x-e.x,l=t.y-e.y,c=i.x-t.x,h=i.y-t.y,u=s*s+l*l,d=s*h-l*c;if(Math.abs(d)>n){var p=Math.sqrt(u),f=Math.sqrt(c*c+h*h),_=e.x-l/p,m=e.y+s/p,g=i.x-h/f,y=i.y+c/f,b=((g-_)*h-(y-m)*c)/(s*h-l*c);r=_+s*b-t.x,o=m+l*b-t.y;var v=r*r+o*o;if(2>=v)return new THREE.Vector2(r,o);a=Math.sqrt(v/2)}else{var M=!1;s>n?c>n&&(M=!0):-n>s?-n>c&&(M=!0):Math.sign(l)==Math.sign(h)&&(M=!0),M?(r=-l,o=s,a=Math.sqrt(u)):(r=s,o=l,a=Math.sqrt(u/2))}return new THREE.Vector2(r/a,o/a)}function o(){if(b){var t=0,e=j*t;for(X=0;U>X;X++)z=H[X],l(z[2]+e,z[1]+e,z[0]+e);for(t=M+2*y,e=j*t,X=0;U>X;X++)z=H[X],l(z[0]+e,z[1]+e,z[2]+e)}else{for(X=0;U>X;X++)z=H[X],l(z[2],z[1],z[0]);for(X=0;U>X;X++)z=H[X],l(z[0]+j*M,z[1]+j*M,z[2]+j*M)}}function n(){var t=0;for(a(I,t),t+=I.length,w=0,R=L.length;R>w;w++)A=L[w],a(A,t),t+=A.length}function a(t,e){var i,r;for(X=t.length;--X>=0;){i=X,r=X-1,0>r&&(r=t.length-1);var o=0,n=M+2*y;for(o=0;n>o;o++){var a=j*o,s=j*(o+1),l=e+i+a,h=e+r+a,u=e+r+s,d=e+i+s;c(l,h,u,d,t,o,n,i,r)}}}function s(t,e,i){D.vertices.push(new THREE.Vector3(t,e,i))}function l(t,e,i){t+=P,e+=P,i+=P,D.faces.push(new THREE.Face3(t,e,i,null,null,x));var r=E.generateTopUV(D,t,e,i);D.faceVertexUvs[0].push(r)}function c(t,e,i,r){t+=P,e+=P,i+=P,r+=P,D.faces.push(new THREE.Face3(t,e,r,null,null,C)),D.faces.push(new THREE.Face3(e,i,r,null,null,C));var o=E.generateSideWallUV(D,t,e,i,r);D.faceVertexUvs[0].push([o[0],o[1],o[3]]),D.faceVertexUvs[0].push([o[1],o[2],o[3]])}var h,u,d,p,f,_=void 0!==e.amount?e.amount:100,m=void 0!==e.bevelThickness?e.bevelThickness:6,g=void 0!==e.bevelSize?e.bevelSize:m-2,y=void 0!==e.bevelSegments?e.bevelSegments:3,b=void 0!==e.bevelEnabled?e.bevelEnabled:!0,v=void 0!==e.curveSegments?e.curveSegments:12,M=void 0!==e.steps?e.steps:1,S=e.extrudePath,T=!1,x=e.material,C=e.extrudeMaterial,E=void 0!==e.UVGenerator?e.UVGenerator:THREE.ExtrudeGeometry.WorldUVGenerator;S&&(h=S.getSpacedPoints(M),T=!0,b=!1,u=void 0!==e.frames?e.frames:new THREE.TubeGeometry.FrenetFrames(S,M,!1),d=new THREE.Vector3,p=new THREE.Vector3,f=new THREE.Vector3),b||(y=0,m=0,g=0);var A,w,R,D=this,P=this.vertices.length,B=t.extractPoints(v),V=B.shape,L=B.holes,k=!THREE.Shape.Utils.isClockWise(V);if(k){for(V=V.reverse(),w=0,R=L.length;R>w;w++)A=L[w],THREE.Shape.Utils.isClockWise(A)&&(L[w]=A.reverse());k=!1}var H=THREE.Shape.Utils.triangulateShape(V,L),I=V;for(w=0,R=L.length;R>w;w++)A=L[w],V=V.concat(A);for(var O,J,N,F,G,z,j=V.length,U=H.length,W=(I.length,180/Math.PI,[]),X=0,q=I.length,K=q-1,Y=X+1;q>X;X++,K++,Y++){K===q&&(K=0),Y===q&&(Y=0);{I[X],I[K],I[Y]}W[X]=r(I[X],I[K],I[Y])}var Q,Z=[],$=W.concat();for(w=0,R=L.length;R>w;w++){for(A=L[w],Q=[],X=0,q=A.length,K=q-1,Y=X+1;q>X;X++,K++,Y++)K===q&&(K=0),Y===q&&(Y=0),Q[X]=r(A[X],A[K],A[Y]);Z.push(Q),$=$.concat(Q)}for(O=0;y>O;O++){for(N=O/y,F=m*(1-N),J=g*Math.sin(N*Math.PI/2),X=0,q=I.length;q>X;X++)G=i(I[X],W[X],J),s(G.x,G.y,-F);for(w=0,R=L.length;R>w;w++)for(A=L[w],Q=Z[w],X=0,q=A.length;q>X;X++)G=i(A[X],Q[X],J),s(G.x,G.y,-F)}for(J=g,X=0;j>X;X++)G=b?i(V[X],$[X],J):V[X],T?(p.copy(u.normals[0]).multiplyScalar(G.x),d.copy(u.binormals[0]).multiplyScalar(G.y),f.copy(h[0]).add(p).add(d),s(f.x,f.y,f.z)):s(G.x,G.y,0);var te;for(te=1;M>=te;te++)for(X=0;j>X;X++)G=b?i(V[X],$[X],J):V[X],T?(p.copy(u.normals[te]).multiplyScalar(G.x),d.copy(u.binormals[te]).multiplyScalar(G.y),f.copy(h[te]).add(p).add(d),s(f.x,f.y,f.z)):s(G.x,G.y,_/M*te);for(O=y-1;O>=0;O--){for(N=O/y,F=m*(1-N),J=g*Math.sin(N*Math.PI/2),X=0,q=I.length;q>X;X++)G=i(I[X],W[X],J),s(G.x,G.y,_+F);for(w=0,R=L.length;R>w;w++)for(A=L[w],Q=Z[w],X=0,q=A.length;q>X;X++)G=i(A[X],Q[X],J),T?s(G.x,G.y+h[M-1].y,h[M-1].x+F):s(G.x,G.y,_+F)}o(),n()},THREE.ExtrudeGeometry.WorldUVGenerator={generateTopUV:function(t,e,i,r){var o=t.vertices,n=o[e],a=o[i],s=o[r];return[new THREE.Vector2(n.x,n.y),new THREE.Vector2(a.x,a.y),new THREE.Vector2(s.x,s.y)]},generateSideWallUV:function(t,e,i,r,o){var n=t.vertices,a=n[e],s=n[i],l=n[r],c=n[o];return Math.abs(a.y-s.y)<.01?[new THREE.Vector2(a.x,1-a.z),new THREE.Vector2(s.x,1-s.z),new THREE.Vector2(l.x,1-l.z),new THREE.Vector2(c.x,1-c.z)]:[new THREE.Vector2(a.y,1-a.z),new THREE.Vector2(s.y,1-s.z),new THREE.Vector2(l.y,1-l.z),new THREE.Vector2(c.y,1-c.z)]}},THREE.ShapeGeometry=function(t,e){THREE.Geometry.call(this),this.type="ShapeGeometry",t instanceof Array==!1&&(t=[t]),this.addShapeList(t,e),this.computeFaceNormals()},THREE.ShapeGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.ShapeGeometry.prototype.addShapeList=function(t,e){for(var i=0,r=t.length;r>i;i++)this.addShape(t[i],e);return this},THREE.ShapeGeometry.prototype.addShape=function(t,e){void 0===e&&(e={});var i,r,o,n=void 0!==e.curveSegments?e.curveSegments:12,a=e.material,s=void 0===e.UVGenerator?THREE.ExtrudeGeometry.WorldUVGenerator:e.UVGenerator,l=this.vertices.length,c=t.extractPoints(n),h=c.shape,u=c.holes,d=!THREE.Shape.Utils.isClockWise(h);if(d){for(h=h.reverse(),i=0,r=u.length;r>i;i++)o=u[i],THREE.Shape.Utils.isClockWise(o)&&(u[i]=o.reverse());d=!1}var p=THREE.Shape.Utils.triangulateShape(h,u),f=h;for(i=0,r=u.length;r>i;i++)o=u[i],h=h.concat(o);{var _,m,g=h.length,y=p.length;f.length}for(i=0;g>i;i++)_=h[i],this.vertices.push(new THREE.Vector3(_.x,_.y,0));for(i=0;y>i;i++){m=p[i];var b=m[0]+l,v=m[1]+l,M=m[2]+l;this.faces.push(new THREE.Face3(b,v,M,null,null,a)),this.faceVertexUvs[0].push(s.generateTopUV(this,b,v,M))}},THREE.LatheGeometry=function(t,e,i,r){THREE.Geometry.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:i,phiLength:r},e=e||12,i=i||0,r=r||2*Math.PI;for(var o=1/(t.length-1),n=1/e,a=0,s=e;s>=a;a++)for(var l=i+a*n*r,c=Math.cos(l),h=Math.sin(l),u=0,d=t.length;d>u;u++){var p=t[u],f=new THREE.Vector3;f.x=c*p.x-h*p.y,f.y=h*p.x+c*p.y,f.z=p.z,this.vertices.push(f)}for(var _=t.length,a=0,s=e;s>a;a++)for(var u=0,d=t.length-1;d>u;u++){var m=u+_*a,g=m,y=m+_,c=m+1+_,b=m+1,v=a*n,M=u*o,S=v+n,T=M+o;this.faces.push(new THREE.Face3(g,y,b)),this.faceVertexUvs[0].push([new THREE.Vector2(v,M),new THREE.Vector2(S,M),new THREE.Vector2(v,T)]),this.faces.push(new THREE.Face3(y,c,b)),this.faceVertexUvs[0].push([new THREE.Vector2(S,M),new THREE.Vector2(S,T),new THREE.Vector2(v,T)])}this.mergeVertices(),this.computeFaceNormals(),this.computeVertexNormals()},THREE.LatheGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.PlaneGeometry=function(t,e,i,r){console.info("THREE.PlaneGeometry: Consider using THREE.PlaneBufferGeometry for lower memory footprint."),THREE.Geometry.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:r},this.fromBufferGeometry(new THREE.PlaneBufferGeometry(t,e,i,r))},THREE.PlaneGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.PlaneBufferGeometry=function(t,e,i,r){THREE.BufferGeometry.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:r};for(var o=t/2,n=e/2,a=i||1,s=r||1,l=a+1,c=s+1,h=t/a,u=e/s,d=new Float32Array(l*c*3),p=new Float32Array(l*c*3),f=new Float32Array(l*c*2),_=0,m=0,g=0;c>g;g++)for(var y=g*u-n,b=0;l>b;b++){var v=b*h-o;d[_]=v,d[_+1]=-y,p[_+2]=1,f[m]=b/a,f[m+1]=1-g/s,_+=3,m+=2}_=0;for(var M=new(d.length/3>65535?Uint32Array:Uint16Array)(a*s*6),g=0;s>g;g++)for(var b=0;a>b;b++){var S=b+l*g,T=b+l*(g+1),x=b+1+l*(g+1),C=b+1+l*g;M[_]=S,M[_+1]=T,M[_+2]=C,M[_+3]=T,M[_+4]=x,M[_+5]=C,_+=6}this.addAttribute("index",new THREE.BufferAttribute(M,1)),this.addAttribute("position",new THREE.BufferAttribute(d,3)),this.addAttribute("normal",new THREE.BufferAttribute(p,3)),this.addAttribute("uv",new THREE.BufferAttribute(f,2))},THREE.PlaneBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype),THREE.RingGeometry=function(t,e,i,r,o,n){THREE.Geometry.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:r,thetaStart:o,thetaLength:n},t=t||0,e=e||50,o=void 0!==o?o:0,n=void 0!==n?n:2*Math.PI,i=void 0!==i?Math.max(3,i):8,r=void 0!==r?Math.max(1,r):8;var a,s,l=[],c=t,h=(e-t)/r;for(a=0;r+1>a;a++){for(s=0;i+1>s;s++){var u=new THREE.Vector3,d=o+s/i*n;u.x=c*Math.cos(d),u.y=c*Math.sin(d),this.vertices.push(u),l.push(new THREE.Vector2((u.x/e+1)/2,(u.y/e+1)/2))}c+=h}var p=new THREE.Vector3(0,0,1);for(a=0;r>a;a++){var f=a*(i+1);for(s=0;i>s;s++){var d=s+f,_=d,m=d+i+1,g=d+i+2;this.faces.push(new THREE.Face3(_,m,g,[p.clone(),p.clone(),p.clone()])),this.faceVertexUvs[0].push([l[_].clone(),l[m].clone(),l[g].clone()]),_=d,m=d+i+2,g=d+1,this.faces.push(new THREE.Face3(_,m,g,[p.clone(),p.clone(),p.clone()])),this.faceVertexUvs[0].push([l[_].clone(),l[m].clone(),l[g].clone()])}}this.computeFaceNormals(),this.boundingSphere=new THREE.Sphere(new THREE.Vector3,c)},THREE.RingGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.SphereGeometry=function(t,e,i,r,o,n,a){THREE.Geometry.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:r,phiLength:o,thetaStart:n,thetaLength:a},t=t||50,e=Math.max(3,Math.floor(e)||8),i=Math.max(2,Math.floor(i)||6),r=void 0!==r?r:0,o=void 0!==o?o:2*Math.PI,n=void 0!==n?n:0,a=void 0!==a?a:Math.PI;var s,l,c=[],h=[];for(l=0;i>=l;l++){var u=[],d=[];for(s=0;e>=s;s++){var p=s/e,f=l/i,_=new THREE.Vector3;_.x=-t*Math.cos(r+p*o)*Math.sin(n+f*a),_.y=t*Math.cos(n+f*a),_.z=t*Math.sin(r+p*o)*Math.sin(n+f*a),this.vertices.push(_),u.push(this.vertices.length-1),d.push(new THREE.Vector2(p,1-f))}c.push(u),h.push(d)}for(l=0;i>l;l++)for(s=0;e>s;s++){var m=c[l][s+1],g=c[l][s],y=c[l+1][s],b=c[l+1][s+1],v=this.vertices[m].clone().normalize(),M=this.vertices[g].clone().normalize(),S=this.vertices[y].clone().normalize(),T=this.vertices[b].clone().normalize(),x=h[l][s+1].clone(),C=h[l][s].clone(),E=h[l+1][s].clone(),A=h[l+1][s+1].clone();Math.abs(this.vertices[m].y)===t?(x.x=(x.x+C.x)/2,this.faces.push(new THREE.Face3(m,y,b,[v,S,T])),this.faceVertexUvs[0].push([x,E,A])):Math.abs(this.vertices[y].y)===t?(E.x=(E.x+A.x)/2,this.faces.push(new THREE.Face3(m,g,y,[v,M,S])),this.faceVertexUvs[0].push([x,C,E])):(this.faces.push(new THREE.Face3(m,g,b,[v,M,T])),this.faceVertexUvs[0].push([x,C,A]),this.faces.push(new THREE.Face3(g,y,b,[M.clone(),S,T.clone()])),this.faceVertexUvs[0].push([C.clone(),E,A.clone()]))}this.computeFaceNormals(),this.boundingSphere=new THREE.Sphere(new THREE.Vector3,t)},THREE.SphereGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.TextGeometry=function(t,e){e=e||{};var i=THREE.FontUtils.generateShapes(t,e);e.amount=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),THREE.ExtrudeGeometry.call(this,i,e),this.type="TextGeometry"},THREE.TextGeometry.prototype=Object.create(THREE.ExtrudeGeometry.prototype),THREE.TorusGeometry=function(t,e,i,r,o){THREE.Geometry.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:r,arc:o},t=t||100,e=e||40,i=i||8,r=r||6,o=o||2*Math.PI;for(var n=new THREE.Vector3,a=[],s=[],l=0;i>=l;l++)for(var c=0;r>=c;c++){var h=c/r*o,u=l/i*Math.PI*2;n.x=t*Math.cos(h),n.y=t*Math.sin(h);var d=new THREE.Vector3;d.x=(t+e*Math.cos(u))*Math.cos(h),d.y=(t+e*Math.cos(u))*Math.sin(h),d.z=e*Math.sin(u),this.vertices.push(d),a.push(new THREE.Vector2(c/r,l/i)),s.push(d.clone().sub(n).normalize())}for(var l=1;i>=l;l++)for(var c=1;r>=c;c++){var p=(r+1)*l+c-1,f=(r+1)*(l-1)+c-1,_=(r+1)*(l-1)+c,m=(r+1)*l+c,g=new THREE.Face3(p,f,m,[s[p].clone(),s[f].clone(),s[m].clone()]);this.faces.push(g),this.faceVertexUvs[0].push([a[p].clone(),a[f].clone(),a[m].clone()]),g=new THREE.Face3(f,_,m,[s[f].clone(),s[_].clone(),s[m].clone()]),this.faces.push(g),this.faceVertexUvs[0].push([a[f].clone(),a[_].clone(),a[m].clone()])}this.computeFaceNormals()},THREE.TorusGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.TorusKnotGeometry=function(t,e,i,r,o,n,a){function s(t,e,i,r,o){var n=Math.cos(t),a=Math.sin(t),s=e/i*t,l=Math.cos(s),c=r*(2+l)*.5*n,h=r*(2+l)*a*.5,u=o*r*Math.sin(s)*.5;return new THREE.Vector3(c,h,u)}THREE.Geometry.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:r,p:o,q:n,heightScale:a},t=t||100,e=e||40,i=i||64,r=r||8,o=o||2,n=n||3,a=a||1;for(var l=new Array(i),c=new THREE.Vector3,h=new THREE.Vector3,u=new THREE.Vector3,d=0;i>d;++d){l[d]=new Array(r);var p=d/i*2*o*Math.PI,f=s(p,n,o,t,a),_=s(p+.01,n,o,t,a);c.subVectors(_,f),h.addVectors(_,f),u.crossVectors(c,h),h.crossVectors(u,c),u.normalize(),h.normalize();for(var m=0;r>m;++m){var g=m/r*2*Math.PI,y=-e*Math.cos(g),b=e*Math.sin(g),v=new THREE.Vector3;v.x=f.x+y*h.x+b*u.x,v.y=f.y+y*h.y+b*u.y,v.z=f.z+y*h.z+b*u.z,l[d][m]=this.vertices.push(v)-1}}for(var d=0;i>d;++d)for(var m=0;r>m;++m){var M=(d+1)%i,S=(m+1)%r,T=l[d][m],x=l[M][m],C=l[M][S],E=l[d][S],A=new THREE.Vector2(d/i,m/r),w=new THREE.Vector2((d+1)/i,m/r),R=new THREE.Vector2((d+1)/i,(m+1)/r),D=new THREE.Vector2(d/i,(m+1)/r);this.faces.push(new THREE.Face3(T,x,E)),this.faceVertexUvs[0].push([A,w,D]),this.faces.push(new THREE.Face3(x,C,E)),this.faceVertexUvs[0].push([w.clone(),R,D.clone()])}this.computeFaceNormals(),this.computeVertexNormals()},THREE.TorusKnotGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.TubeGeometry=function(t,e,i,r,o){function n(t,e,i){return A.vertices.push(new THREE.Vector3(t,e,i))-1}THREE.Geometry.call(this),this.type="TubeGeometry",this.parameters={path:t,segments:e,radius:i,radialSegments:r,closed:o},e=e||64,i=i||1,r=r||8,o=o||!1;var a,s,l,c,h,u,d,p,f,_,m,g,y,b,v,M,S,T,x,C,E=[],A=this,w=e+1,R=new THREE.Vector3,D=new THREE.TubeGeometry.FrenetFrames(t,e,o),P=D.tangents,B=D.normals,V=D.binormals;for(this.tangents=P,this.normals=B,this.binormals=V,f=0;w>f;f++)for(E[f]=[],c=f/(w-1),p=t.getPointAt(c),a=P[f],s=B[f],l=V[f],_=0;r>_;_++)h=_/r*2*Math.PI,u=-i*Math.cos(h),d=i*Math.sin(h),R.copy(p),R.x+=u*s.x+d*l.x,R.y+=u*s.y+d*l.y,R.z+=u*s.z+d*l.z,E[f][_]=n(R.x,R.y,R.z);for(f=0;e>f;f++)for(_=0;r>_;_++)m=o?(f+1)%e:f+1,g=(_+1)%r,y=E[f][_],b=E[m][_],v=E[m][g],M=E[f][g],S=new THREE.Vector2(f/e,_/r),T=new THREE.Vector2((f+1)/e,_/r),x=new THREE.Vector2((f+1)/e,(_+1)/r),C=new THREE.Vector2(f/e,(_+1)/r),this.faces.push(new THREE.Face3(y,b,M)),this.faceVertexUvs[0].push([S,T,C]),this.faces.push(new THREE.Face3(b,v,M)),this.faceVertexUvs[0].push([T.clone(),x,C.clone()]);this.computeFaceNormals(),this.computeVertexNormals()},THREE.TubeGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.TubeGeometry.FrenetFrames=function(t,e,i){function r(){p[0]=new THREE.Vector3,f[0]=new THREE.Vector3,n=Number.MAX_VALUE,a=Math.abs(d[0].x),s=Math.abs(d[0].y),l=Math.abs(d[0].z),n>=a&&(n=a,u.set(1,0,0)),n>=s&&(n=s,u.set(0,1,0)),n>=l&&u.set(0,0,1),_.crossVectors(d[0],u).normalize(),p[0].crossVectors(d[0],_),f[0].crossVectors(d[0],p[0])}var o,n,a,s,l,c,h,u=(new THREE.Vector3,new THREE.Vector3),d=(new THREE.Vector3,[]),p=[],f=[],_=new THREE.Vector3,m=new THREE.Matrix4,g=e+1,y=1e-4;for(this.tangents=d,this.normals=p,this.binormals=f,c=0;g>c;c++)h=c/(g-1),d[c]=t.getTangentAt(h),d[c].normalize();for(r(),c=1;g>c;c++)p[c]=p[c-1].clone(),f[c]=f[c-1].clone(),_.crossVectors(d[c-1],d[c]),_.length()>y&&(_.normalize(),o=Math.acos(THREE.Math.clamp(d[c-1].dot(d[c]),-1,1)),p[c].applyMatrix4(m.makeRotationAxis(_,o))),f[c].crossVectors(d[c],p[c]);if(i)for(o=Math.acos(THREE.Math.clamp(p[0].dot(p[g-1]),-1,1)),o/=g-1,d[0].dot(_.crossVectors(p[0],p[g-1]))>0&&(o=-o),c=1;g>c;c++)p[c].applyMatrix4(m.makeRotationAxis(d[c],o*c)),f[c].crossVectors(d[c],p[c])},THREE.PolyhedronGeometry=function(t,e,i,r){function o(t){var e=t.normalize().clone();e.index=h.vertices.push(e)-1;var i=s(t)/2/Math.PI+.5,r=l(t)/Math.PI+.5;return e.uv=new THREE.Vector2(i,1-r),e}function n(t,e,i){var r=new THREE.Face3(t.index,e.index,i.index,[t.clone(),e.clone(),i.clone()]);h.faces.push(r),b.copy(t).add(e).add(i).divideScalar(3);var o=s(b);h.faceVertexUvs[0].push([c(t.uv,t,o),c(e.uv,e,o),c(i.uv,i,o)])}function a(t,e){for(var i=Math.pow(2,e),r=(Math.pow(4,e),o(h.vertices[t.a])),a=o(h.vertices[t.b]),s=o(h.vertices[t.c]),l=[],c=0;i>=c;c++){l[c]=[];for(var u=o(r.clone().lerp(s,c/i)),d=o(a.clone().lerp(s,c/i)),p=i-c,f=0;p>=f;f++)l[c][f]=0==f&&c==i?u:o(u.clone().lerp(d,f/p))}for(var c=0;i>c;c++)for(var f=0;2*(i-c)-1>f;f++){var _=Math.floor(f/2);f%2==0?n(l[c][_+1],l[c+1][_],l[c][_]):n(l[c][_+1],l[c+1][_+1],l[c+1][_])}}function s(t){return Math.atan2(t.z,-t.x)}function l(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}function c(t,e,i){return 0>i&&1===t.x&&(t=new THREE.Vector2(t.x-1,t.y)),0===e.x&&0===e.z&&(t=new THREE.Vector2(i/2/Math.PI+.5,t.y)),t.clone()}THREE.Geometry.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:i,detail:r},i=i||1,r=r||0;for(var h=this,u=0,d=t.length;d>u;u+=3)o(new THREE.Vector3(t[u],t[u+1],t[u+2]));for(var p=this.vertices,f=[],u=0,_=0,d=e.length;d>u;u+=3,_++){var m=p[e[u]],g=p[e[u+1]],y=p[e[u+2]];f[_]=new THREE.Face3(m.index,g.index,y.index,[m.clone(),g.clone(),y.clone()])}for(var b=new THREE.Vector3,u=0,d=f.length;d>u;u++)a(f[u],r);for(var u=0,d=this.faceVertexUvs[0].length;d>u;u++){var v=this.faceVertexUvs[0][u],M=v[0].x,S=v[1].x,T=v[2].x,x=Math.max(M,Math.max(S,T)),C=Math.min(M,Math.min(S,T));x>.9&&.1>C&&(.2>M&&(v[0].x+=1),.2>S&&(v[1].x+=1),.2>T&&(v[2].x+=1))}for(var u=0,d=this.vertices.length;d>u;u++)this.vertices[u].multiplyScalar(i);this.mergeVertices(),this.computeFaceNormals(),this.boundingSphere=new THREE.Sphere(new THREE.Vector3,i)},THREE.PolyhedronGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.DodecahedronGeometry=function(t,e){this.parameters={radius:t,detail:e};var i=(1+Math.sqrt(5))/2,r=1/i,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],n=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];THREE.PolyhedronGeometry.call(this,o,n,t,e)},THREE.DodecahedronGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.IcosahedronGeometry=function(t,e){var i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];THREE.PolyhedronGeometry.call(this,r,o,t,e),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e}},THREE.IcosahedronGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.OctahedronGeometry=function(t,e){this.parameters={radius:t,detail:e};var i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];THREE.PolyhedronGeometry.call(this,i,r,t,e),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e}},THREE.OctahedronGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.TetrahedronGeometry=function(t,e){var i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];THREE.PolyhedronGeometry.call(this,i,r,t,e),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e}},THREE.TetrahedronGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.ParametricGeometry=function(t,e,i){THREE.Geometry.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:i};var r,o,n,a,s,l=this.vertices,c=this.faces,h=this.faceVertexUvs[0],u=e+1;for(r=0;i>=r;r++)for(s=r/i,o=0;e>=o;o++)a=o/e,n=t(a,s),l.push(n);var d,p,f,_,m,g,y,b;for(r=0;i>r;r++)for(o=0;e>o;o++)d=r*u+o,p=r*u+o+1,f=(r+1)*u+o+1,_=(r+1)*u+o,m=new THREE.Vector2(o/e,r/i),g=new THREE.Vector2((o+1)/e,r/i),y=new THREE.Vector2((o+1)/e,(r+1)/i),b=new THREE.Vector2(o/e,(r+1)/i),c.push(new THREE.Face3(d,p,_)),h.push([m,g,b]),c.push(new THREE.Face3(p,f,_)),h.push([g.clone(),y,b.clone()]);this.computeFaceNormals(),this.computeVertexNormals()},THREE.ParametricGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.AxisHelper=function(t){t=t||1;var e=new Float32Array([0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t]),i=new Float32Array([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1]),r=new THREE.BufferGeometry;r.addAttribute("position",new THREE.BufferAttribute(e,3)),r.addAttribute("color",new THREE.BufferAttribute(i,3));var o=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors});THREE.Line.call(this,r,o,THREE.LinePieces)},THREE.AxisHelper.prototype=Object.create(THREE.Line.prototype),THREE.ArrowHelper=function(){var t=new THREE.Geometry;t.vertices.push(new THREE.Vector3(0,0,0),new THREE.Vector3(0,1,0));var e=new THREE.CylinderGeometry(0,.5,1,5,1);return e.applyMatrix((new THREE.Matrix4).makeTranslation(0,-.5,0)),function(i,r,o,n,a,s){THREE.Object3D.call(this),void 0===n&&(n=16776960),void 0===o&&(o=1),void 0===a&&(a=.2*o),void 0===s&&(s=.2*a),this.position.copy(r),this.line=new THREE.Line(t,new THREE.LineBasicMaterial({color:n})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new THREE.Mesh(e,new THREE.MeshBasicMaterial({color:n})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(i),this.setLength(o,a,s)}}(),THREE.ArrowHelper.prototype=Object.create(THREE.Object3D.prototype),THREE.ArrowHelper.prototype.setDirection=function(){var t,e=new THREE.Vector3;return function(i){i.y>.99999?this.quaternion.set(0,0,0,1):i.y<-.99999?this.quaternion.set(1,0,0,0):(e.set(i.z,0,-i.x).normalize(),t=Math.acos(i.y),this.quaternion.setFromAxisAngle(e,t))}}(),THREE.ArrowHelper.prototype.setLength=function(t,e,i){void 0===e&&(e=.2*t),void 0===i&&(i=.2*e),this.line.scale.set(1,t,1),this.line.updateMatrix(),this.cone.scale.set(i,e,i),this.cone.position.y=t,this.cone.updateMatrix()},THREE.ArrowHelper.prototype.setColor=function(t){this.line.material.color.set(t),this.cone.material.color.set(t)},THREE.BoxHelper=function(t){var e=new THREE.BufferGeometry;e.addAttribute("position",new THREE.BufferAttribute(new Float32Array(72),3)),THREE.Line.call(this,e,new THREE.LineBasicMaterial({color:16776960}),THREE.LinePieces),void 0!==t&&this.update(t)},THREE.BoxHelper.prototype=Object.create(THREE.Line.prototype),THREE.BoxHelper.prototype.update=function(t){var e=t.geometry;null===e.boundingBox&&e.computeBoundingBox();var i=e.boundingBox.min,r=e.boundingBox.max,o=this.geometry.attributes.position.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=i.x,o[4]=r.y,o[5]=r.z,o[6]=i.x,o[7]=r.y,o[8]=r.z,o[9]=i.x,o[10]=i.y,o[11]=r.z,o[12]=i.x,o[13]=i.y,o[14]=r.z,o[15]=r.x,o[16]=i.y,o[17]=r.z,o[18]=r.x,o[19]=i.y,o[20]=r.z,o[21]=r.x,o[22]=r.y,o[23]=r.z,o[24]=r.x,o[25]=r.y,o[26]=i.z,o[27]=i.x,o[28]=r.y,o[29]=i.z,o[30]=i.x,o[31]=r.y,o[32]=i.z,o[33]=i.x,o[34]=i.y,o[35]=i.z,o[36]=i.x,o[37]=i.y,o[38]=i.z,o[39]=r.x,o[40]=i.y,o[41]=i.z,o[42]=r.x,o[43]=i.y,o[44]=i.z,o[45]=r.x,o[46]=r.y,o[47]=i.z,o[48]=r.x,o[49]=r.y,o[50]=r.z,o[51]=r.x,o[52]=r.y,o[53]=i.z,o[54]=i.x,o[55]=r.y,o[56]=r.z,o[57]=i.x,o[58]=r.y,o[59]=i.z,o[60]=i.x,o[61]=i.y,o[62]=r.z,o[63]=i.x,o[64]=i.y,o[65]=i.z,o[66]=r.x,o[67]=i.y,o[68]=r.z,o[69]=r.x,o[70]=i.y,o[71]=i.z,this.geometry.attributes.position.needsUpdate=!0,this.geometry.computeBoundingSphere(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1},THREE.BoundingBoxHelper=function(t,e){var i=void 0!==e?e:8947848;this.object=t,this.box=new THREE.Box3,THREE.Mesh.call(this,new THREE.BoxGeometry(1,1,1),new THREE.MeshBasicMaterial({color:i,wireframe:!0}))
},THREE.BoundingBoxHelper.prototype=Object.create(THREE.Mesh.prototype),THREE.BoundingBoxHelper.prototype.update=function(){this.box.setFromObject(this.object),this.box.size(this.scale),this.box.center(this.position)},THREE.CameraHelper=function(t){function e(t,e,r){i(t,r),i(e,r)}function i(t,e){r.vertices.push(new THREE.Vector3),r.colors.push(new THREE.Color(e)),void 0===n[t]&&(n[t]=[]),n[t].push(r.vertices.length-1)}var r=new THREE.Geometry,o=new THREE.LineBasicMaterial({color:16777215,vertexColors:THREE.FaceColors}),n={},a=16755200,s=16711680,l=43775,c=16777215,h=3355443;e("n1","n2",a),e("n2","n4",a),e("n4","n3",a),e("n3","n1",a),e("f1","f2",a),e("f2","f4",a),e("f4","f3",a),e("f3","f1",a),e("n1","f1",a),e("n2","f2",a),e("n3","f3",a),e("n4","f4",a),e("p","n1",s),e("p","n2",s),e("p","n3",s),e("p","n4",s),e("u1","u2",l),e("u2","u3",l),e("u3","u1",l),e("c","t",c),e("p","c",h),e("cn1","cn2",h),e("cn3","cn4",h),e("cf1","cf2",h),e("cf3","cf4",h),THREE.Line.call(this,r,o,THREE.LinePieces),this.camera=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=n,this.update()},THREE.CameraHelper.prototype=Object.create(THREE.Line.prototype),THREE.CameraHelper.prototype.update=function(){var t,e,i=new THREE.Vector3,r=new THREE.Camera,o=function(o,n,a,s){i.set(n,a,s).unproject(r);var l=e[o];if(void 0!==l)for(var c=0,h=l.length;h>c;c++)t.vertices[l[c]].copy(i)};return function(){t=this.geometry,e=this.pointMap;var i=1,n=1;r.projectionMatrix.copy(this.camera.projectionMatrix),o("c",0,0,-1),o("t",0,0,1),o("n1",-i,-n,-1),o("n2",i,-n,-1),o("n3",-i,n,-1),o("n4",i,n,-1),o("f1",-i,-n,1),o("f2",i,-n,1),o("f3",-i,n,1),o("f4",i,n,1),o("u1",.7*i,1.1*n,-1),o("u2",.7*-i,1.1*n,-1),o("u3",0,2*n,-1),o("cf1",-i,0,1),o("cf2",i,0,1),o("cf3",0,-n,1),o("cf4",0,n,1),o("cn1",-i,0,-1),o("cn2",i,0,-1),o("cn3",0,-n,-1),o("cn4",0,n,-1),t.verticesNeedUpdate=!0}}(),THREE.DirectionalLightHelper=function(t,e){THREE.Object3D.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,e=e||1;var i=new THREE.Geometry;i.vertices.push(new THREE.Vector3(-e,e,0),new THREE.Vector3(e,e,0),new THREE.Vector3(e,-e,0),new THREE.Vector3(-e,-e,0),new THREE.Vector3(-e,e,0));var r=new THREE.LineBasicMaterial({fog:!1});r.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.lightPlane=new THREE.Line(i,r),this.add(this.lightPlane),i=new THREE.Geometry,i.vertices.push(new THREE.Vector3,new THREE.Vector3),r=new THREE.LineBasicMaterial({fog:!1}),r.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.targetLine=new THREE.Line(i,r),this.add(this.targetLine),this.update()},THREE.DirectionalLightHelper.prototype=Object.create(THREE.Object3D.prototype),THREE.DirectionalLightHelper.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},THREE.DirectionalLightHelper.prototype.update=function(){var t=new THREE.Vector3,e=new THREE.Vector3,i=new THREE.Vector3;return function(){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),i.subVectors(e,t),this.lightPlane.lookAt(i),this.lightPlane.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.targetLine.geometry.vertices[1].copy(i),this.targetLine.geometry.verticesNeedUpdate=!0,this.targetLine.material.color.copy(this.lightPlane.material.color)}}(),THREE.EdgesHelper=function(t,e){var i=void 0!==e?e:16777215,r=[0,0],o={},n=function(t,e){return t-e},a=["a","b","c"],s=new THREE.BufferGeometry,l=t.geometry.clone();l.mergeVertices(),l.computeFaceNormals();for(var c=l.vertices,h=l.faces,u=0,d=0,p=h.length;p>d;d++)for(var f=h[d],_=0;3>_;_++){r[0]=f[a[_]],r[1]=f[a[(_+1)%3]],r.sort(n);var m=r.toString();void 0===o[m]?(o[m]={vert1:r[0],vert2:r[1],face1:d,face2:void 0},u++):o[m].face2=d}var g=new Float32Array(2*u*3),y=0;for(var m in o){var b=o[m];if(void 0===b.face2||h[b.face1].normal.dot(h[b.face2].normal)<.9999){var v=c[b.vert1];g[y++]=v.x,g[y++]=v.y,g[y++]=v.z,v=c[b.vert2],g[y++]=v.x,g[y++]=v.y,g[y++]=v.z}}s.addAttribute("position",new THREE.BufferAttribute(g,3)),THREE.Line.call(this,s,new THREE.LineBasicMaterial({color:i}),THREE.LinePieces),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1},THREE.EdgesHelper.prototype=Object.create(THREE.Line.prototype),THREE.FaceNormalsHelper=function(t,e,i,r){this.object=t,this.size=void 0!==e?e:1;for(var o=void 0!==i?i:16776960,n=void 0!==r?r:1,a=new THREE.Geometry,s=this.object.geometry.faces,l=0,c=s.length;c>l;l++)a.vertices.push(new THREE.Vector3,new THREE.Vector3);THREE.Line.call(this,a,new THREE.LineBasicMaterial({color:o,linewidth:n}),THREE.LinePieces),this.matrixAutoUpdate=!1,this.normalMatrix=new THREE.Matrix3,this.update()},THREE.FaceNormalsHelper.prototype=Object.create(THREE.Line.prototype),THREE.FaceNormalsHelper.prototype.update=function(){var t=this.geometry.vertices,e=this.object,i=e.geometry.vertices,r=e.geometry.faces,o=e.matrixWorld;e.updateMatrixWorld(!0),this.normalMatrix.getNormalMatrix(o);for(var n=0,a=0,s=r.length;s>n;n++,a+=2){var l=r[n];t[a].copy(i[l.a]).add(i[l.b]).add(i[l.c]).divideScalar(3).applyMatrix4(o),t[a+1].copy(l.normal).applyMatrix3(this.normalMatrix).normalize().multiplyScalar(this.size).add(t[a])}return this.geometry.verticesNeedUpdate=!0,this},THREE.GridHelper=function(t,e){var i=new THREE.Geometry,r=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors});this.color1=new THREE.Color(4473924),this.color2=new THREE.Color(8947848);for(var o=-t;t>=o;o+=e){i.vertices.push(new THREE.Vector3(-t,0,o),new THREE.Vector3(t,0,o),new THREE.Vector3(o,0,-t),new THREE.Vector3(o,0,t));var n=0===o?this.color1:this.color2;i.colors.push(n,n,n,n)}THREE.Line.call(this,i,r,THREE.LinePieces)},THREE.GridHelper.prototype=Object.create(THREE.Line.prototype),THREE.GridHelper.prototype.setColors=function(t,e){this.color1.set(t),this.color2.set(e),this.geometry.colorsNeedUpdate=!0},THREE.HemisphereLightHelper=function(t,e){THREE.Object3D.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.colors=[new THREE.Color,new THREE.Color];var i=new THREE.SphereGeometry(e,4,2);i.applyMatrix((new THREE.Matrix4).makeRotationX(-Math.PI/2));for(var r=0,o=8;o>r;r++)i.faces[r].color=this.colors[4>r?0:1];var n=new THREE.MeshBasicMaterial({vertexColors:THREE.FaceColors,wireframe:!0});this.lightSphere=new THREE.Mesh(i,n),this.add(this.lightSphere),this.update()},THREE.HemisphereLightHelper.prototype=Object.create(THREE.Object3D.prototype),THREE.HemisphereLightHelper.prototype.dispose=function(){this.lightSphere.geometry.dispose(),this.lightSphere.material.dispose()},THREE.HemisphereLightHelper.prototype.update=function(){var t=new THREE.Vector3;return function(){this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity),this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity),this.lightSphere.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate()),this.lightSphere.geometry.colorsNeedUpdate=!0}}(),THREE.PointLightHelper=function(t,e){this.light=t,this.light.updateMatrixWorld();var i=new THREE.SphereGeometry(e,4,2),r=new THREE.MeshBasicMaterial({wireframe:!0,fog:!1});r.color.copy(this.light.color).multiplyScalar(this.light.intensity),THREE.Mesh.call(this,i,r),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1},THREE.PointLightHelper.prototype=Object.create(THREE.Mesh.prototype),THREE.PointLightHelper.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},THREE.PointLightHelper.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)},THREE.SkeletonHelper=function(t){this.bones=this.getBoneList(t);for(var e=new THREE.Geometry,i=0;i<this.bones.length;i++){var r=this.bones[i];r.parent instanceof THREE.Bone&&(e.vertices.push(new THREE.Vector3),e.vertices.push(new THREE.Vector3),e.colors.push(new THREE.Color(0,0,1)),e.colors.push(new THREE.Color(0,1,0)))}var o=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors,depthTest:!1,depthWrite:!1,transparent:!0});THREE.Line.call(this,e,o,THREE.LinePieces),this.root=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.update()},THREE.SkeletonHelper.prototype=Object.create(THREE.Line.prototype),THREE.SkeletonHelper.prototype.getBoneList=function(t){var e=[];t instanceof THREE.Bone&&e.push(t);for(var i=0;i<t.children.length;i++)e.push.apply(e,this.getBoneList(t.children[i]));return e},THREE.SkeletonHelper.prototype.update=function(){for(var t=this.geometry,e=(new THREE.Matrix4).getInverse(this.root.matrixWorld),i=new THREE.Matrix4,r=0,o=0;o<this.bones.length;o++){var n=this.bones[o];n.parent instanceof THREE.Bone&&(i.multiplyMatrices(e,n.matrixWorld),t.vertices[r].setFromMatrixPosition(i),i.multiplyMatrices(e,n.parent.matrixWorld),t.vertices[r+1].setFromMatrixPosition(i),r+=2)}t.verticesNeedUpdate=!0,t.computeBoundingSphere()},THREE.SpotLightHelper=function(t){THREE.Object3D.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;var e=new THREE.CylinderGeometry(0,1,1,8,1,!0);e.applyMatrix((new THREE.Matrix4).makeTranslation(0,-.5,0)),e.applyMatrix((new THREE.Matrix4).makeRotationX(-Math.PI/2));var i=new THREE.MeshBasicMaterial({wireframe:!0,fog:!1});this.cone=new THREE.Mesh(e,i),this.add(this.cone),this.update()},THREE.SpotLightHelper.prototype=Object.create(THREE.Object3D.prototype),THREE.SpotLightHelper.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},THREE.SpotLightHelper.prototype.update=function(){var t=new THREE.Vector3,e=new THREE.Vector3;return function(){var i=this.light.distance?this.light.distance:1e4,r=i*Math.tan(this.light.angle);this.cone.scale.set(r,r,i),t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(e.sub(t)),this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}(),THREE.VertexNormalsHelper=function(t,e,i,r){this.object=t,this.size=void 0!==e?e:1;for(var o=void 0!==i?i:16711680,n=void 0!==r?r:1,a=new THREE.Geometry,s=(t.geometry.vertices,t.geometry.faces),l=0,c=s.length;c>l;l++)for(var h=s[l],u=0,d=h.vertexNormals.length;d>u;u++)a.vertices.push(new THREE.Vector3,new THREE.Vector3);THREE.Line.call(this,a,new THREE.LineBasicMaterial({color:o,linewidth:n}),THREE.LinePieces),this.matrixAutoUpdate=!1,this.normalMatrix=new THREE.Matrix3,this.update()},THREE.VertexNormalsHelper.prototype=Object.create(THREE.Line.prototype),THREE.VertexNormalsHelper.prototype.update=function(){var t=new THREE.Vector3;return function(){var e=["a","b","c","d"];this.object.updateMatrixWorld(!0),this.normalMatrix.getNormalMatrix(this.object.matrixWorld);for(var i=this.geometry.vertices,r=this.object.geometry.vertices,o=this.object.geometry.faces,n=this.object.matrixWorld,a=0,s=0,l=o.length;l>s;s++)for(var c=o[s],h=0,u=c.vertexNormals.length;u>h;h++){var d=c[e[h]],p=r[d],f=c.vertexNormals[h];i[a].copy(p).applyMatrix4(n),t.copy(f).applyMatrix3(this.normalMatrix).normalize().multiplyScalar(this.size),t.add(i[a]),a+=1,i[a].copy(t),a+=1}return this.geometry.verticesNeedUpdate=!0,this}}(),THREE.VertexTangentsHelper=function(t,e,i,r){this.object=t,this.size=void 0!==e?e:1;for(var o=void 0!==i?i:255,n=void 0!==r?r:1,a=new THREE.Geometry,s=(t.geometry.vertices,t.geometry.faces),l=0,c=s.length;c>l;l++)for(var h=s[l],u=0,d=h.vertexTangents.length;d>u;u++)a.vertices.push(new THREE.Vector3),a.vertices.push(new THREE.Vector3);THREE.Line.call(this,a,new THREE.LineBasicMaterial({color:o,linewidth:n}),THREE.LinePieces),this.matrixAutoUpdate=!1,this.update()},THREE.VertexTangentsHelper.prototype=Object.create(THREE.Line.prototype),THREE.VertexTangentsHelper.prototype.update=function(){var t=new THREE.Vector3;return function(){var e=["a","b","c","d"];this.object.updateMatrixWorld(!0);for(var i=this.geometry.vertices,r=this.object.geometry.vertices,o=this.object.geometry.faces,n=this.object.matrixWorld,a=0,s=0,l=o.length;l>s;s++)for(var c=o[s],h=0,u=c.vertexTangents.length;u>h;h++){var d=c[e[h]],p=r[d],f=c.vertexTangents[h];i[a].copy(p).applyMatrix4(n),t.copy(f).transformDirection(n).multiplyScalar(this.size),t.add(i[a]),a+=1,i[a].copy(t),a+=1}return this.geometry.verticesNeedUpdate=!0,this}}(),THREE.WireframeHelper=function(t,e){var i=void 0!==e?e:16777215,r=[0,0],o={},n=function(t,e){return t-e},a=["a","b","c"],s=new THREE.BufferGeometry;if(t.geometry instanceof THREE.Geometry){for(var l=t.geometry.vertices,c=t.geometry.faces,h=0,u=new Uint32Array(6*c.length),d=0,p=c.length;p>d;d++)for(var f=c[d],_=0;3>_;_++){r[0]=f[a[_]],r[1]=f[a[(_+1)%3]],r.sort(n);var m=r.toString();void 0===o[m]&&(u[2*h]=r[0],u[2*h+1]=r[1],o[m]=!0,h++)}for(var g=new Float32Array(2*h*3),d=0,p=h;p>d;d++)for(var _=0;2>_;_++){var y=l[u[2*d+_]],b=6*d+3*_;g[b+0]=y.x,g[b+1]=y.y,g[b+2]=y.z}s.addAttribute("position",new THREE.BufferAttribute(g,3))}else if(t.geometry instanceof THREE.BufferGeometry)if(void 0!==t.geometry.attributes.index){var l=t.geometry.attributes.position.array,v=t.geometry.attributes.index.array,M=t.geometry.drawcalls,h=0;0===M.length&&(M=[{count:v.length,index:0,start:0}]);for(var u=new Uint32Array(2*v.length),S=0,T=M.length;T>S;++S)for(var x=M[S].start,C=M[S].count,b=M[S].index,d=x,E=x+C;E>d;d+=3)for(var _=0;3>_;_++){r[0]=b+v[d+_],r[1]=b+v[d+(_+1)%3],r.sort(n);var m=r.toString();void 0===o[m]&&(u[2*h]=r[0],u[2*h+1]=r[1],o[m]=!0,h++)}for(var g=new Float32Array(2*h*3),d=0,p=h;p>d;d++)for(var _=0;2>_;_++){var b=6*d+3*_,A=3*u[2*d+_];g[b+0]=l[A],g[b+1]=l[A+1],g[b+2]=l[A+2]}s.addAttribute("position",new THREE.BufferAttribute(g,3))}else{for(var l=t.geometry.attributes.position.array,h=l.length/3,w=h/3,g=new Float32Array(2*h*3),d=0,p=w;p>d;d++)for(var _=0;3>_;_++){var b=18*d+6*_,R=9*d+3*_;g[b+0]=l[R],g[b+1]=l[R+1],g[b+2]=l[R+2];var A=9*d+3*((_+1)%3);g[b+3]=l[A],g[b+4]=l[A+1],g[b+5]=l[A+2]}s.addAttribute("position",new THREE.BufferAttribute(g,3))}THREE.Line.call(this,s,new THREE.LineBasicMaterial({color:i}),THREE.LinePieces),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1},THREE.WireframeHelper.prototype=Object.create(THREE.Line.prototype),THREE.ImmediateRenderObject=function(){THREE.Object3D.call(this),this.render=function(){}},THREE.ImmediateRenderObject.prototype=Object.create(THREE.Object3D.prototype),THREE.MorphBlendMesh=function(t,e){THREE.Mesh.call(this,t,e),this.animationsMap={},this.animationsList=[];var i=this.geometry.morphTargets.length,r="__default",o=0,n=i-1,a=i/1;this.createAnimation(r,o,n,a),this.setAnimationWeight(r,1)},THREE.MorphBlendMesh.prototype=Object.create(THREE.Mesh.prototype),THREE.MorphBlendMesh.prototype.createAnimation=function(t,e,i,r){var o={startFrame:e,endFrame:i,length:i-e+1,fps:r,duration:(i-e)/r,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[t]=o,this.animationsList.push(o)},THREE.MorphBlendMesh.prototype.autoCreateAnimations=function(t){for(var e,i=/([a-z]+)_?(\d+)/,r={},o=this.geometry,n=0,a=o.morphTargets.length;a>n;n++){var s=o.morphTargets[n],l=s.name.match(i);if(l&&l.length>1){{var c=l[1];l[2]}r[c]||(r[c]={start:1/0,end:-1/0});var h=r[c];n<h.start&&(h.start=n),n>h.end&&(h.end=n),e||(e=c)}}for(var c in r){var h=r[c];this.createAnimation(c,h.start,h.end,t)}this.firstAnimation=e},THREE.MorphBlendMesh.prototype.setAnimationDirectionForward=function(t){var e=this.animationsMap[t];e&&(e.direction=1,e.directionBackwards=!1)},THREE.MorphBlendMesh.prototype.setAnimationDirectionBackward=function(t){var e=this.animationsMap[t];e&&(e.direction=-1,e.directionBackwards=!0)},THREE.MorphBlendMesh.prototype.setAnimationFPS=function(t,e){var i=this.animationsMap[t];i&&(i.fps=e,i.duration=(i.end-i.start)/i.fps)},THREE.MorphBlendMesh.prototype.setAnimationDuration=function(t,e){var i=this.animationsMap[t];i&&(i.duration=e,i.fps=(i.end-i.start)/i.duration)},THREE.MorphBlendMesh.prototype.setAnimationWeight=function(t,e){var i=this.animationsMap[t];i&&(i.weight=e)},THREE.MorphBlendMesh.prototype.setAnimationTime=function(t,e){var i=this.animationsMap[t];i&&(i.time=e)},THREE.MorphBlendMesh.prototype.getAnimationTime=function(t){var e=0,i=this.animationsMap[t];return i&&(e=i.time),e},THREE.MorphBlendMesh.prototype.getAnimationDuration=function(t){var e=-1,i=this.animationsMap[t];return i&&(e=i.duration),e},THREE.MorphBlendMesh.prototype.playAnimation=function(t){var e=this.animationsMap[t];e?(e.time=0,e.active=!0):console.warn("animation["+t+"] undefined")},THREE.MorphBlendMesh.prototype.stopAnimation=function(t){var e=this.animationsMap[t];e&&(e.active=!1)},THREE.MorphBlendMesh.prototype.update=function(t){for(var e=0,i=this.animationsList.length;i>e;e++){var r=this.animationsList[e];if(r.active){var o=r.duration/r.length;r.time+=r.direction*t,r.mirroredLoop?(r.time>r.duration||r.time<0)&&(r.direction*=-1,r.time>r.duration&&(r.time=r.duration,r.directionBackwards=!0),r.time<0&&(r.time=0,r.directionBackwards=!1)):(r.time=r.time%r.duration,r.time<0&&(r.time+=r.duration));var n=r.startFrame+THREE.Math.clamp(Math.floor(r.time/o),0,r.length-1),a=r.weight;n!==r.currentFrame&&(this.morphTargetInfluences[r.lastFrame]=0,this.morphTargetInfluences[r.currentFrame]=1*a,this.morphTargetInfluences[n]=0,r.lastFrame=r.currentFrame,r.currentFrame=n);var s=r.time%o/o;r.directionBackwards&&(s=1-s),this.morphTargetInfluences[r.currentFrame]=s*a,this.morphTargetInfluences[r.lastFrame]=(1-s)*a}}};var JSM={mainVersion:0,subVersion:32,Eps:1e-8,Inf:9999999999,RadDeg:57.29577951308232,DegRad:.017453292519943,IsZero:function(t){return Math.abs(t)<JSM.Eps},IsPositive:function(t){return t>JSM.Eps},IsNegative:function(t){return t<-JSM.Eps},IsLower:function(t,e){return e-t>JSM.Eps},IsGreater:function(t,e){return t-e>JSM.Eps},IsEqual:function(t,e){return Math.abs(e-t)<JSM.Eps},IsEqualWithEps:function(t,e,i){return Math.abs(e-t)<i},IsLowerOrEqual:function(t,e){return JSM.IsLower(t,e)||JSM.IsEqual(t,e)},IsGreaterOrEqual:function(t,e){return JSM.IsGreater(t,e)||JSM.IsEqual(t,e)},Minimum:function(t,e){return JSM.IsLower(t,e)?t:e},Maximum:function(t,e){return JSM.IsGreater(t,e)?t:e},ArcSin:function(t){return JSM.IsGreaterOrEqual(t,1)?Math.PI/2:JSM.IsLowerOrEqual(t,-1)?-Math.PI/2:Math.asin(t)},ArcCos:function(t){return JSM.IsGreaterOrEqual(t,1)?0:JSM.IsLowerOrEqual(t,-1)?Math.PI:Math.acos(t)},RandomNumber:function(t,e){return Math.random()*(e-t)+t},RandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},SeededRandomInt:function(t,e,i){return Math.floor((9301*i+49297)%233280/233280*(e-t+1)+t)},ValueOrDefault:function(t,e){return void 0===t||null===t?e:t},Assert:function(t,e){if(!t){var i="Assertion failed.";void 0!==e&&null!==e&&(i+=" "+e),alert(i)}},Timer:function(){this.stop=this.start=0}};JSM.Timer.prototype.Start=function(){this.start=(new Date).getTime()},JSM.Timer.prototype.Stop=function(){this.end=(new Date).getTime()},JSM.Timer.prototype.Result=function(){return this.end-this.start},JSM.FPSCounter=function(){this.current=this.frames=this.start=null},JSM.FPSCounter.prototype.Get=function(t){var e=(new Date).getTime();null===this.start&&(this.start=e,this.current=this.frames=0),(null===t||void 0===t)&&(t=1e3),this.frames+=1;var i=e-this.start;return i>=t&&(this.current=1e3*(this.frames/i),this.start=e,this.frames=0),parseInt(this.current,10)},JSM.BubbleSort=function(t,e){if(!(2>t.length||void 0===e||null===e)){var i,r;for(i=0;i<t.length-1;i++)for(r=0;r<t.length-i-1;r++)if(!e(t[r],t[r+1])){var o=t,n=r+1,a=o[r];o[r]=o[n],o[n]=a}}},JSM.AsyncEnvironment=function(t){this.parameters=t},JSM.AsyncEnvironment.prototype.OnStart=function(t,e){void 0!==this.parameters&&void 0!==this.parameters.onStart&&this.parameters.onStart(t,e)},JSM.AsyncEnvironment.prototype.OnProcess=function(t,e){void 0!==this.parameters&&void 0!==this.parameters.onProcess&&this.parameters.onProcess(t,e)},JSM.AsyncEnvironment.prototype.OnFinish=function(t){void 0!==this.parameters&&void 0!==this.parameters.onFinish&&this.parameters.onFinish(t)},JSM.AsyncRunTask=function(t,e,i,r,o){function n(a){var s=t();e.OnProcess(a,o),s&&i-1>a?setTimeout(function(){n(a+1)},r):setTimeout(function(){e.OnFinish(o)},r)}if(void 0===e||null===e){var a,s;for(a=0;i>a&&(s=t(),!!s);a++);}else e.OnStart(i,o),n(0)},JSM.Coord2D=function(t,e){this.x=t,this.y=e},JSM.Coord2D.prototype.Set=function(t,e){this.x=t,this.y=e},JSM.Coord2D.prototype.ToString=function(){return"("+this.x+", "+this.y+")"},JSM.Coord2D.prototype.Clone=function(){return new JSM.Coord2D(this.x,this.y)},JSM.PolarCoord=function(t,e){this.radius=t,this.angle=e},JSM.PolarCoord.prototype.Set=function(t,e){this.radius=t,this.angle=e},JSM.PolarCoord.prototype.ToString=function(){return"("+this.radius+", "+this.angle+")"},JSM.PolarCoord.prototype.Clone=function(){return new JSM.PolarCoord(this.radius,this.angle)},JSM.Coord=function(t,e,i){this.x=t,this.y=e,this.z=i},JSM.Coord.prototype.Set=function(t,e,i){this.x=t,this.y=e,this.z=i},JSM.Coord.prototype.ToString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},JSM.Coord.prototype.Clone=function(){return new JSM.Coord(this.x,this.y,this.z)},JSM.SphericalCoord=function(t,e,i){this.radius=t,this.theta=e,this.phi=i},JSM.SphericalCoord.prototype.Set=function(t,e,i){this.radius=t,this.theta=e,this.phi=i},JSM.SphericalCoord.prototype.ToString=function(){return"("+this.radius+", "+this.theta+", "+this.phi+")"},JSM.SphericalCoord.prototype.Clone=function(){return new JSM.SphericalCoord(this.radius,this.theta,this.phi)},JSM.Vector2D=JSM.Coord2D,JSM.Vector=JSM.Coord,JSM.MatrixDeterminant2x2=function(t,e,i,r){return t*r-e*i},JSM.MatrixDeterminant3x3=function(t,e,i,r,o,n,a,s,l){var c=JSM.MatrixDeterminant2x2(o,n,s,l);return n=JSM.MatrixDeterminant2x2(r,n,a,l),r=JSM.MatrixDeterminant2x2(r,o,a,s),t*c-e*n+i*r},JSM.MatrixDeterminant4x4=function(t,e,i,r,o,n,a,s,l,c,h,u,d,p,f,_){var m=JSM.MatrixDeterminant3x3(n,a,s,c,h,u,p,f,_),g=JSM.MatrixDeterminant3x3(o,a,s,l,h,u,d,f,_);return s=JSM.MatrixDeterminant3x3(o,n,s,l,c,u,d,p,_),o=JSM.MatrixDeterminant3x3(o,n,a,l,c,h,d,p,f),m*t-g*e+s*i-o*r},JSM.CoordFromArray2D=function(t){return new JSM.Coord2D(t[0],t[1])},JSM.CoordFromArray=function(t){return new JSM.Coord(t[0],t[1],t[2])},JSM.CoordIsEqual2D=function(t,e){return JSM.IsEqual(t.x,e.x)&&JSM.IsEqual(t.y,e.y)},JSM.CoordIsEqual2DWithEps=function(t,e,i){return JSM.IsEqualWithEps(t.x,e.x,i)&&JSM.IsEqualWithEps(t.y,e.y,i)},JSM.CoordDistance2D=function(t,e){var i=t.x,r=t.y,o=e.x,n=e.y;return Math.sqrt((o-i)*(o-i)+(n-r)*(n-r))},JSM.MidCoord2D=function(t,e){return new JSM.Coord2D((t.x+e.x)/2,(t.y+e.y)/2)},JSM.PolarToCartesian=function(t,e){var i=new JSM.Coord2D(0,0);return i.x=t*Math.cos(e),i.y=t*Math.sin(e),i},JSM.GetArcLengthFromAngle=function(t,e){return e*t},JSM.GetAngleFromArcLength=function(t,e){return JSM.IsEqual(t,0)?0:e/t},JSM.CoordTurnType2D=function(t,e,i){return t=JSM.MatrixDeterminant3x3(t.x,t.y,1,e.x,e.y,1,i.x,i.y,1),JSM.IsPositive(t)?"CounterClockwise":JSM.IsNegative(t)?"Clockwise":"Collinear"},JSM.CoordIsEqual=function(t,e){return JSM.IsEqual(t.x,e.x)&&JSM.IsEqual(t.y,e.y)&&JSM.IsEqual(t.z,e.z)},JSM.CoordIsEqualWithEps=function(t,e,i){return JSM.IsEqualWithEps(t.x,e.x,i)&&JSM.IsEqualWithEps(t.y,e.y,i)&&JSM.IsEqualWithEps(t.z,e.z,i)},JSM.SphericalCoordIsEqual=function(t,e){return JSM.IsEqual(t.radius,e.radius)&&JSM.IsEqual(t.phi,e.phi)&&JSM.IsEqual(t.theta,e.theta)},JSM.CoordDistance=function(t,e){var i=t.x,r=t.y,o=t.z,n=e.x,a=e.y,s=e.z;return Math.sqrt((n-i)*(n-i)+(a-r)*(a-r)+(s-o)*(s-o))},JSM.CoordSignedDistance=function(t,e,i){var r=JSM.CoordSub(e,t);return t=JSM.CoordDistance(t,e),i=JSM.GetVectorsAngle(r,i),JSM.IsPositive(i)&&(t=-t),t},JSM.MidCoord=function(t,e){return new JSM.Coord((t.x+e.x)/2,(t.y+e.y)/2,(t.z+e.z)/2)},JSM.VectorMultiply=function(t,e){var i=new JSM.Vector(0,0,0);return i.x=t.x*e,i.y=t.y*e,i.z=t.z*e,i},JSM.VectorDot=function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z},JSM.VectorCross=function(t,e){var i=new JSM.Vector(0,0,0);return i.x=t.y*e.z-t.z*e.y,i.y=t.z*e.x-t.x*e.z,i.z=t.x*e.y-t.y*e.x,i},JSM.VectorLength=function(t){var e=t.x,i=t.y;return t=t.z,Math.sqrt(e*e+i*i+t*t)},JSM.VectorNormalize=function(t){var e=JSM.VectorLength(t),i=new JSM.Vector(0,0,0);return JSM.IsGreater(e,0)&&(i=JSM.VectorMultiply(t,1/e)),i},JSM.VectorSetLength=function(t,e){var i=e/JSM.VectorLength(t);return JSM.VectorMultiply(t,i)},JSM.GetVectorsAngle=function(t,e){var i=JSM.VectorNormalize(t),r=JSM.VectorNormalize(e);return JSM.CoordIsEqual(i,r)?0:(i=JSM.VectorDot(i,r),JSM.ArcCos(i))},JSM.GetVectorsFullAngle=function(t,e,i){var r=JSM.GetVectorsAngle(t,e),o=new JSM.Coord(0,0,0);return"Clockwise"==JSM.CoordTurnType(t,o,e,i)&&(r=2*Math.PI-r),r},JSM.VectorsAreCollinear=function(t,e){var i=JSM.GetVectorsAngle(t,e);return JSM.IsEqual(i,0)||JSM.IsEqual(i,Math.PI)},JSM.CoordAdd=function(t,e){return new JSM.Vector(t.x+e.x,t.y+e.y,t.z+e.z)},JSM.CoordSub=function(t,e){return new JSM.Vector(t.x-e.x,t.y-e.y,t.z-e.z)},JSM.CoordOffset=function(t,e,i){e=JSM.VectorNormalize(e);var r=new JSM.Coord(0,0,0);return r.x=t.x+e.x*i,r.y=t.y+e.y*i,r.z=t.z+e.z*i,r},JSM.CoordRotate=function(t,e,i,r){var o=JSM.CoordSub(t,r),n=JSM.VectorNormalize(e);e=n.x,t=n.y;var n=n.z,a=o.x,s=o.y,o=o.z,l=new JSM.Coord(0,0,0);return l.x=-e*(-e*a-t*s-n*o)*(1-Math.cos(i))+a*Math.cos(i)+(-n*s+t*o)*Math.sin(i),l.y=-t*(-e*a-t*s-n*o)*(1-Math.cos(i))+s*Math.cos(i)+(n*a-e*o)*Math.sin(i),l.z=-n*(-e*a-t*s-n*o)*(1-Math.cos(i))+o*Math.cos(i)+(-t*a+e*s)*Math.sin(i),l=JSM.CoordAdd(l,r)},JSM.GetCoord2DFromCoord=function(t,e,i){var r=new JSM.Vector(0,0,1),o=JSM.VectorCross(i,r);return i=JSM.GetVectorsAngle(i,r),t=JSM.CoordRotate(t,o,i,e),new JSM.Coord2D(t.x,t.y)},JSM.CoordTurnType=function(t,e,i,r){var o=new JSM.Coord(0,0,0);return t=JSM.GetCoord2DFromCoord(t,o,r),e=JSM.GetCoord2DFromCoord(e,o,r),i=JSM.GetCoord2DFromCoord(i,o,r),i=JSM.CoordTurnType2D(t,e,i),o=new JSM.Vector(0,0,1),r=JSM.GetVectorsAngle(r,o),JSM.IsEqual(r,Math.PI)&&("CounterClockwise"===i?i="Clockwise":"Clockwise"===i&&(i="CounterClockwise")),i},JSM.CalculateCentroid=function(t){var e=t.length,i=new JSM.Coord(0,0,0);if(e>=1){var r;for(r=0;e>r;r++)i=JSM.CoordAdd(i,t[r]);i=JSM.VectorMultiply(i,1/e)}return i},JSM.CalculateTriangleNormal=function(t,e,i){return e=JSM.CoordSub(e,t),t=JSM.CoordSub(i,t),i=new JSM.Vector(0,0,0),i.x=e.y*t.z-e.z*t.y,i.y=e.z*t.x-e.x*t.z,i.z=e.x*t.y-e.y*t.x,JSM.VectorNormalize(i)},JSM.CalculateNormal=function(t){var e=t.length,i=new JSM.Vector(0,0,0);if(e>=3){var r,o,n;for(r=0;e>r;r++)o=r%e,n=(r+1)%e,o=t[o],n=t[n],i.x+=(o.y-n.y)*(o.z+n.z),i.y+=(o.z-n.z)*(o.x+n.x),i.z+=(o.x-n.x)*(o.y+n.y)}return JSM.VectorNormalize(i)},JSM.SphericalToCartesian=function(t,e,i){var r=new JSM.Coord(0,0,0);return r.x=t*Math.sin(e)*Math.cos(i),r.y=t*Math.sin(e)*Math.sin(i),r.z=t*Math.cos(e),r},JSM.CartesianToSpherical=function(t,e,i){var r=new JSM.SphericalCoord(0,0,0);return r.radius=Math.sqrt(t*t+e*e+i*i),JSM.IsZero(r.radius)?r:(r.theta=Math.acos(i/r.radius),r.phi=Math.atan2(e,t),r)},JSM.SphericalToCartesianWithOrigo=function(t,e){var i=JSM.SphericalToCartesian(t.radius,t.theta,t.phi);return JSM.CoordAdd(i,e)},JSM.CartesianToSphericalWithOrigo=function(t,e){var i=JSM.CoordSub(t,e);return JSM.CartesianToSpherical(i.x,i.y,i.z)},JSM.MoveCoordOnSphere=function(t,e,i,r){return t=JSM.CartesianToSphericalWithOrigo(t,e),t.theta+=i,t.phi+=r,JSM.SphericalToCartesianWithOrigo(t,e)},JSM.CylindricalToCartesian=function(t,e,i){var r=new JSM.Coord(0,0,0);return r.x=t*Math.cos(i),r.y=t*Math.sin(i),r.z=e,r},JSM.GetArcLength=function(t,e,i){return JSM.GetVectorsAngle(t,e)*i},JSM.GetFullArcLength=function(t,e,i,r){return JSM.GetVectorsFullAngle(t,e,r)*i},JSM.MatrixIdentity=function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},JSM.MatrixClone=function(t){var e=[];return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},JSM.MatrixTranspose=function(t){var e=[];return e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15],e},JSM.MatrixVectorMultiply=function(t,e){var i=e[0],r=e[1],o=e[2],n=e[3],a=t[1],s=t[2],l=t[3],c=t[5],h=t[6],u=t[7],d=t[9],p=t[10],f=t[11],_=t[13],m=t[14],g=t[15],y=[];return y[0]=i*t[0]+r*t[4]+o*t[8]+n*t[12],y[1]=i*a+r*c+o*d+n*_,y[2]=i*s+r*h+o*p+n*m,y[3]=i*l+r*u+o*f+n*g,y},JSM.MatrixMultiply=function(t,e){var i=t[0],r=t[1],o=t[2],n=t[3],a=t[4],s=t[5],l=t[6],c=t[7],h=t[8],u=t[9],d=t[10],p=t[11],f=t[12],_=t[13],m=t[14],g=t[15],y=e[0],b=e[1],v=e[2],M=e[3],S=e[4],T=e[5],x=e[6],C=e[7],E=e[8],A=e[9],w=e[10],R=e[11],D=e[12],P=e[13],B=e[14],V=e[15],L=[];return L[0]=i*y+r*S+o*E+n*D,L[1]=i*b+r*T+o*A+n*P,L[2]=i*v+r*x+o*w+n*B,L[3]=i*M+r*C+o*R+n*V,L[4]=a*y+s*S+l*E+c*D,L[5]=a*b+s*T+l*A+c*P,L[6]=a*v+s*x+l*w+c*B,L[7]=a*M+s*C+l*R+c*V,L[8]=h*y+u*S+d*E+p*D,L[9]=h*b+u*T+d*A+p*P,L[10]=h*v+u*x+d*w+p*B,L[11]=h*M+u*C+d*R+p*V,L[12]=f*y+_*S+m*E+g*D,L[13]=f*b+_*T+m*A+g*P,L[14]=f*v+_*x+m*w+g*B,L[15]=f*M+_*C+m*R+g*V,L},JSM.MatrixDeterminant=function(t){var e=t[0],i=t[1],r=t[2],o=t[3],n=t[4],a=t[5],s=t[6],l=t[7],c=t[8],h=t[9],u=t[10],d=t[11],p=t[12],f=t[13],_=t[14];return t=t[15],(e*a-i*n)*(u*t-d*_)-(e*s-r*n)*(h*t-d*f)+(e*l-o*n)*(h*_-u*f)+(i*s-r*a)*(c*t-d*p)-(i*l-o*a)*(c*_-u*p)+(r*l-o*s)*(c*f-h*p)},JSM.MatrixInvert=function(t){var e=t[0],i=t[1],r=t[2],o=t[3],n=t[4],a=t[5],s=t[6],l=t[7],c=t[8],h=t[9],u=t[10],d=t[11],p=t[12],f=t[13],_=t[14];t=t[15];var m=e*a-i*n,g=e*s-r*n,y=e*l-o*n,b=i*s-r*a,v=i*l-o*a,M=r*l-o*s,S=c*f-h*p,T=c*_-u*p,x=c*t-d*p,C=h*_-u*f,E=h*t-d*f,A=u*t-d*_,w=m*A-g*E+y*C+b*x-v*T+M*S;if(JSM.IsZero(w))return null;var R=[];return R[0]=(a*A-s*E+l*C)/w,R[1]=(r*E-i*A-o*C)/w,R[2]=(f*M-_*v+t*b)/w,R[3]=(u*v-h*M-d*b)/w,R[4]=(s*x-n*A-l*T)/w,R[5]=(e*A-r*x+o*T)/w,R[6]=(_*y-p*M-t*g)/w,R[7]=(c*M-u*y+d*g)/w,R[8]=(n*E-a*x+l*S)/w,R[9]=(i*x-e*E-o*S)/w,R[10]=(p*v-f*y+t*m)/w,R[11]=(h*y-c*v-d*m)/w,R[12]=(a*T-n*C-s*S)/w,R[13]=(e*C-i*T+r*S)/w,R[14]=(f*g-p*b-_*m)/w,R[15]=(c*b-h*g+u*m)/w,R},JSM.MatrixTranslation=function(t,e,i){var r=[1,0,0,0,0,1,0,0,0,0,1,0];return r[12]=t,r[13]=e,r[14]=i,r[15]=1,r},JSM.MatrixRotation=function(t,e,i){var r=JSM.VectorNormalize(t);t=r.x;var o=r.y,r=r.z,n=t*t,a=o*o,s=r*r,l=Math.sin(e);e=Math.cos(e);var c=[];if(void 0===i||null===i)c[0]=n+(a+s)*e,c[1]=t*o*(1-e)+r*l,c[2]=t*r*(1-e)-o*l,c[3]=0,c[4]=t*o*(1-e)-r*l,c[5]=a+(n+s)*e,c[6]=o*r*(1-e)+t*l,c[7]=0,c[8]=t*r*(1-e)+o*l,c[9]=o*r*(1-e)-t*l,c[10]=s+(n+a)*e,c[11]=0,c[12]=0,c[13]=0,c[14]=0;else{var h=i.x,u=i.y;i=i.z,c[0]=n+(a+s)*e,c[1]=t*o*(1-e)+r*l,c[2]=t*r*(1-e)-o*l,c[3]=0,c[4]=t*o*(1-e)-r*l,c[5]=a+(n+s)*e,c[6]=o*r*(1-e)+t*l,c[7]=0,c[8]=t*r*(1-e)+o*l,c[9]=o*r*(1-e)-t*l,c[10]=s+(n+a)*e,c[11]=0,c[12]=(h*(a+s)-t*(u*o+i*r))*(1-e)+(u*r-i*o)*l,c[13]=(u*(n+s)-o*(h*t+i*r))*(1-e)+(i*t-h*r)*l,c[14]=(i*(n+a)-r*(h*t+u*o))*(1-e)+(h*o-u*t)*l}return c[15]=1,c},JSM.MatrixRotationQuaternion=function(t){var e=t[0],i=t[1],r=t[2],o=t[3],n=e+e,a=i+i,s=r+r;t=e*n;var l=e*a,e=e*s,c=i*a,i=i*s,r=r*s,n=o*n,a=o*a,o=o*s,s=[];return s[0]=1-(c+r),s[1]=l+o,s[2]=e-a,s[3]=0,s[4]=l-o,s[5]=1-(t+r),s[6]=i+n,s[7]=0,s[8]=e+a,s[9]=i-n,s[10]=1-(t+c),s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s},JSM.MatrixRotationX=function(t){var e=Math.sin(t);t=Math.cos(t);var i=[1,0,0,0,0];return i[5]=t,i[6]=e,i[7]=0,i[8]=0,i[9]=-e,i[10]=t,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i},JSM.MatrixRotationY=function(t){var e=Math.sin(t);t=Math.cos(t);var i=[];return i[0]=t,i[1]=0,i[2]=-e,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=e,i[9]=0,i[10]=t,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i},JSM.MatrixRotationZ=function(t){var e=Math.sin(t);t=Math.cos(t);var i=[];return i[0]=t,i[1]=e,i[2]=0,i[3]=0,i[4]=-e,i[5]=t,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i},JSM.MatrixView=function(t,e,i){if(JSM.CoordIsEqual(t,e))return JSM.MatrixIdentity();var r=[];e=JSM.VectorNormalize(JSM.CoordSub(t,e)),i=JSM.VectorNormalize(JSM.VectorCross(i,e));
var o=JSM.VectorNormalize(JSM.VectorCross(e,i));return r[0]=i.x,r[1]=o.x,r[2]=e.x,r[3]=0,r[4]=i.y,r[5]=o.y,r[6]=e.y,r[7]=0,r[8]=i.z,r[9]=o.z,r[10]=e.z,r[11]=0,r[12]=-JSM.VectorDot(i,t),r[13]=-JSM.VectorDot(o,t),r[14]=-JSM.VectorDot(e,t),r[15]=1,r},JSM.MatrixPerspective=function(t,e,i,r){var o=[];t=1/Math.tan(t/2);var n=1/(i-r);return o[0]=t/e,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=t,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=(r+i)*n,o[11]=-1,o[12]=0,o[13]=0,o[14]=2*r*i*n,o[15]=0,o},JSM.ApplyTransformation=function(t,e){var i=[];return i[0]=e.x,i[1]=e.y,i[2]=e.z,i[3]=1,i=JSM.MatrixVectorMultiply(t,i),new JSM.Coord(i[0],i[1],i[2])},JSM.CoordSystem=function(t,e,i,r){this.origo=t,this.e1=e,this.e2=i,this.e3=r},JSM.CoordSystem.prototype.Set=function(t,e,i,r){this.origo=t,this.e1=e,this.e2=i,this.e3=r},JSM.CoordSystem.prototype.Clone=function(){return new JSM.CoordSystem(this.origo.Clone(),this.e1.Clone(),this.e2.Clone(),this.e3.Clone())},JSM.CoordSystemToDirectionVectors=function(t){return new JSM.CoordSystem(t.origo,JSM.CoordSub(t.e1,t.origo),JSM.CoordSub(t.e2,t.origo),JSM.CoordSub(t.e3,t.origo))},JSM.CoordSystemToAbsoluteCoords=function(t){return new JSM.CoordSystem(t.origo,JSM.CoordAdd(t.e1,t.origo),JSM.CoordAdd(t.e2,t.origo),JSM.CoordAdd(t.e3,t.origo))},JSM.ChangeCoordSystem=function(t,e,i){var r=JSM.VectorNormalize(e.e1),o=JSM.VectorNormalize(e.e2),n=JSM.VectorNormalize(e.e3),a=JSM.VectorNormalize(i.e1),s=JSM.VectorNormalize(i.e2),l=JSM.VectorNormalize(i.e3);return t=JSM.CoordSub(t,e.origo),e=new JSM.Coord(0,0,0),e.x=JSM.VectorDot(a,r)*t.x+JSM.VectorDot(a,o)*t.y+JSM.VectorDot(a,n)*t.z,e.y=JSM.VectorDot(s,r)*t.x+JSM.VectorDot(s,o)*t.y+JSM.VectorDot(s,n)*t.z,e.z=JSM.VectorDot(l,r)*t.x+JSM.VectorDot(l,o)*t.y+JSM.VectorDot(l,n)*t.z,e=JSM.CoordAdd(e,i.origo)},JSM.Sector2D=function(t,e){this.beg=t,this.end=e},JSM.Sector2D.prototype.Set=function(t,e){this.beg=t,this.end=e},JSM.Sector2D.prototype.Clone=function(){return new JSM.Sector2D(this.beg.Clone(),this.end.Clone())},JSM.Sector=function(t,e){this.beg=t,this.end=e},JSM.Sector.prototype.Set=function(t,e){this.beg=t,this.end=e},JSM.Sector.prototype.Clone=function(){return new JSM.Sector(this.beg.Clone(),this.end.Clone())},JSM.CoordSectorPosition2D=function(t,e){var i=t.x,r=t.y,o=e.beg.x,n=e.beg.y,a=e.end.x,s=e.end.y,l=Math.pow(a-o,2)+Math.pow(s-n,2);return JSM.IsZero(l)?JSM.CoordIsEqual2D(t,e.beg)?"CoordOnSectorEndCoord":"CoordOutsideOfSector":(l=((i-o)*(a-o)+(r-n)*(s-n))/l,JSM.IsLower(l,0)||JSM.IsGreater(l,1)?"CoordOutsideOfSector":(n+=l*(s-n),JSM.IsEqual(o+l*(a-o),i)&&JSM.IsEqual(n,r)?JSM.IsEqual(l,0)||JSM.IsEqual(l,1)?"CoordOnSectorEndCoord":"CoordInsideOfSector":"CoordOutsideOfSector"))},JSM.SectorSectorPosition2D=function(t,e,i){var r=t.beg.x,o=t.beg.y,n=t.end.x,a=t.end.y,s=e.beg.x,l=e.beg.y,c=e.end.x,h=e.end.y,u=(c-s)*(o-l)-(h-l)*(r-s),d=(n-r)*(o-l)-(a-o)*(r-s);return JSM.IsZero(u)&&JSM.IsZero(d)?(i=JSM.CoordSectorPosition2D(t.beg,e),r=JSM.CoordSectorPosition2D(t.end,e),o=JSM.CoordSectorPosition2D(e.beg,t),t=JSM.CoordSectorPosition2D(e.end,t),"CoordInsideOfSector"===i||"CoordInsideOfSector"===r||"CoordInsideOfSector"===o||"CoordInsideOfSector"===t||"CoordOnSectorEndCoord"===i&&"CoordOnSectorEndCoord"===r&&"CoordOnSectorEndCoord"===o&&"CoordOnSectorEndCoord"===t?"SectorsIntersectsCoincident":"CoordOnSectorEndCoord"===i||"CoordOnSectorEndCoord"===r||"CoordOnSectorEndCoord"===o||"CoordOnSectorEndCoord"===t?"SectorsIntersectsEndPoint":"SectorsDontIntersects"):(t=(h-l)*(n-r)-(c-s)*(a-o),JSM.IsZero(t)?"SectorsDontIntersects":(u/=t,d/=t,JSM.IsLower(u,0)||JSM.IsGreater(u,1)||JSM.IsLower(d,0)||JSM.IsGreater(d,1)?"SectorsDontIntersects":(void 0!==i&&(i.x=r+u*(n-r),i.y=o+u*(a-o)),JSM.IsEqual(u,0)||JSM.IsEqual(u,1)||JSM.IsEqual(d,0)||JSM.IsEqual(d,1)?"SectorsIntersectsEndPoint":"SectorsIntersectsOnePoint")))},JSM.GetSectorSegmentation=function(t,e,i){var r,o=JSM.CoordSub(t.end,t.beg),n=JSM.CoordDistance(t.beg,t.end)/e,a=0;for(r=0;e>=r;r++)i.push(JSM.CoordOffset(t.beg,o,a)),a+=n},JSM.Line2D=function(t,e){this.start=t,this.direction=e},JSM.Line2D.prototype.Set=function(t,e){this.start=t,this.direction=e},JSM.Line2D.prototype.Clone=function(){return new JSM.Line2D(this.start.Clone(),this.direction.Clone())},JSM.Line=function(t,e){this.start=t,this.direction=e},JSM.Line.prototype.Set=function(t,e){this.start=t,this.direction=e},JSM.Line.prototype.Clone=function(){return new JSM.Line(this.start.Clone(),this.direction.Clone())},JSM.CoordLinePosition2D=function(t,e){var i=e.start,r=e.direction,i=r.x*(t.y-i.y)-r.y*(t.x-i.x);return JSM.IsPositive(i)?"CoordAtLineLeft":JSM.IsNegative(i)?"CoordAtLineRight":"CoordOnLine"},JSM.CoordLinePosition=function(t,e,i){var r=t.x,o=t.y,n=t.z,a=e.start;e=e.direction;var s=a.x,l=a.y,c=a.z,h=a.x+e.x,u=a.y+e.y,d=a.z+e.z,p=(h-s)*(h-s)+(u-l)*(u-l)+(d-c)*(d-c);return JSM.IsZero(p)?(void 0!==i&&i.Set(a.x,a.y,a.z),JSM.CoordIsEqual(a,t)?"CoordOnLine":"CoordOutsideOfLine"):(r=JSM.CoordAdd(a,JSM.VectorMultiply(e,((h-s)*(r-s)+(u-l)*(o-l)+(d-c)*(n-c))/p)),void 0!==i&&i.Set(r.x,r.y,r.z),t=JSM.CoordDistance(t,r),JSM.IsZero(t)?"CoordOnLine":"CoordOutsideOfLine")},JSM.ProjectCoordToLine=function(t,e){var i=new JSM.Coord(0,0,0),r=t.x,o=t.y,n=t.z,a=e.start,s=e.direction,l=a.x,c=a.y,h=a.z,u=a.x+s.x,d=a.y+s.y,p=a.z+s.z,f=(u-l)*(u-l)+(d-c)*(d-c)+(p-h)*(p-h);return JSM.IsZero(f)?(i.Set(a.x,a.y,a.z),i):(r=JSM.CoordAdd(a,JSM.VectorMultiply(s,((u-l)*(r-l)+(d-c)*(o-c)+(p-h)*(n-h))/f)),i.Set(r.x,r.y,r.z),i)},JSM.LineLineClosestPoint=function(t,e,i,r){function o(t,e,i,r,o){return(t[e].x-t[i].x)*(t[r].x-t[o].x)+(t[e].y-t[i].y)*(t[r].y-t[o].y)+(t[e].z-t[i].z)*(t[r].z-t[o].z)}var n=JSM.VectorNormalize(t.direction),a=t.start,n=JSM.CoordAdd(a,n);t=JSM.VectorNormalize(e.direction),e=e.start;var s=JSM.CoordAdd(e,t),l=[a,n,e,s],c=o(l,1,0,1,0),h=o(l,0,2,1,0),s=o(l,0,2,3,2),u=o(l,3,2,1,0),l=o(l,3,2,3,2),c=c*l-u*u;return JSM.IsEqual(c,0)?!1:(h=(s*u-h*l)/c,s=(s+h*u)/l,void 0!==i&&(n=JSM.VectorNormalize(JSM.CoordSub(n,a)),a=JSM.CoordAdd(a,JSM.VectorMultiply(n,h)),i.Set(a.x,a.y,a.z)),void 0!==r&&(i=JSM.CoordAdd(e,JSM.VectorMultiply(t,s)),r.Set(i.x,i.y,i.z)),!0)},JSM.LineLinePosition=function(t,e,i){var r=new JSM.Coord(0,0,0),o=new JSM.Coord(0,0,0);return JSM.LineLineClosestPoint(t,e,r,o)?JSM.CoordIsEqual(r,o)?(void 0!==i&&i.Set(r.x,r.y,r.z),"LinesIntersectsOnePoint"):"LinesDontIntersects":"LinesIntersectsCoincident"},JSM.Transformation=function(){this.matrix=JSM.MatrixIdentity()},JSM.Transformation.prototype.GetMatrix=function(){return this.matrix},JSM.Transformation.prototype.SetMatrix=function(t){this.matrix=t},JSM.Transformation.prototype.Append=function(t){this.matrix=JSM.MatrixMultiply(this.matrix,t.matrix)},JSM.Transformation.prototype.Apply=function(t){return JSM.ApplyTransformation(this.matrix,t)},JSM.Transformation.prototype.Clone=function(){var t=new JSM.Transformation;return t.matrix=JSM.MatrixClone(this.matrix),t},JSM.IdentityTransformation=function(){var t=new JSM.Transformation;return t.matrix=JSM.MatrixIdentity(),t},JSM.TranslationTransformation=function(t){var e=new JSM.Transformation;return e.matrix=JSM.MatrixTranslation(t.x,t.y,t.z),e},JSM.OffsetTransformation=function(t,e){var i=JSM.VectorNormalize(t),i=JSM.VectorMultiply(i,e);return JSM.TranslationTransformation(i)},JSM.RotationTransformation=function(t,e,i){var r=new JSM.Transformation;return r.matrix=JSM.MatrixRotation(t,e,i),r},JSM.RotationXTransformation=function(t,e){var i=new JSM.Transformation;return void 0===e||null===e?i.matrix=JSM.MatrixRotationX(t):(i.Append(JSM.TranslationTransformation(new JSM.Vector(-e.x,-e.y,-e.z))),i.Append(JSM.RotationXTransformation(t)),i.Append(JSM.TranslationTransformation(new JSM.Vector(e.x,e.y,e.z)))),i},JSM.RotationYTransformation=function(t,e){var i=new JSM.Transformation;return void 0===e||null===e?i.matrix=JSM.MatrixRotationY(t):(i.Append(JSM.TranslationTransformation(new JSM.Vector(-e.x,-e.y,-e.z))),i.Append(JSM.RotationYTransformation(t)),i.Append(JSM.TranslationTransformation(new JSM.Vector(e.x,e.y,e.z)))),i},JSM.RotationZTransformation=function(t,e){var i=new JSM.Transformation;return void 0===e||null===e?i.matrix=JSM.MatrixRotationZ(t):(i.Append(JSM.TranslationTransformation(new JSM.Vector(-e.x,-e.y,-e.z))),i.Append(JSM.RotationZTransformation(t)),i.Append(JSM.TranslationTransformation(new JSM.Vector(e.x,e.y,e.z)))),i},JSM.RotationXYZTransformation=function(t,e,i,r){var o=new JSM.Transformation;return o.Append(JSM.RotationXTransformation(t,r)),o.Append(JSM.RotationYTransformation(e,r)),o.Append(JSM.RotationZTransformation(i,r)),o},JSM.Plane=function(t,e,i,r){this.a=t,this.b=e,this.c=i,this.d=r},JSM.Plane.prototype.Set=function(t,e,i,r){this.a=t,this.b=e,this.c=i,this.d=r},JSM.Plane.prototype.GetNormal=function(){return new JSM.Vector(this.a,this.b,this.c)},JSM.Plane.prototype.Clone=function(){return new JSM.Plane(this.a,this.b,this.c,this.d)},JSM.GetPlaneFromCoordAndDirection=function(t,e){var i=new JSM.Plane,r=JSM.VectorNormalize(e),o=r.x,n=r.y,r=r.z;return i.Set(o,n,r,-(o*t.x+n*t.y+r*t.z)),i},JSM.GetPlaneFromThreeCoords=function(t,e,i){var r=new JSM.Plane,o=(e.y-t.y)*(i.z-t.z)-(i.y-t.y)*(e.z-t.z),n=(e.z-t.z)*(i.x-t.x)-(i.z-t.z)*(e.x-t.x);return e=(e.x-t.x)*(i.y-t.y)-(i.x-t.x)*(e.y-t.y),r.Set(o,n,e,-(o*t.x+n*t.y+e*t.z)),r},JSM.CoordPlanePosition=function(t,e){var i=e.a*t.x+e.b*t.y+e.c*t.z+e.d;return JSM.IsPositive(i)?"CoordInFrontOfPlane":JSM.IsNegative(i)?"CoordAtBackOfPlane":"CoordOnPlane"},JSM.LinePlanePosition=function(t,e,i){var r=JSM.VectorNormalize(t.direction),o=t.start.x,n=t.start.y,a=t.start.z,s=e.a,l=e.b,c=e.c;e=e.d;var h=s*(o-(t.start.x+r.x))+l*(n-(t.start.y+r.y))+c*(a-(t.start.z+r.z));return JSM.IsZero(h)?"LineParallelToPlane":(void 0!==i&&(t=JSM.CoordAdd(t.start,JSM.VectorMultiply(r,(s*o+l*n+c*a+e)/h)),i.Set(t.x,t.y,t.z)),"LineIntersectsPlane")},JSM.LinePlaneIntersection=function(t,e){var i=JSM.VectorNormalize(t.direction),r=t.start.x,o=t.start.y,n=t.start.z,a=t.start.x+i.x,s=t.start.y+i.y,l=t.start.z+i.z,c=e.a,h=e.b,u=e.c,d=e.d,p=new JSM.Coord(0,0,0),a=c*(r-a)+h*(o-s)+u*(n-l);return JSM.IsZero(a)?p:p=JSM.CoordAdd(t.start,JSM.VectorMultiply(i,(c*r+h*o+u*n+d)/a))},JSM.CoordPlaneSignedDistance=function(t,e){var i=e.a,r=e.b,o=e.c;return(i*t.x+r*t.y+o*t.z+e.d)/Math.sqrt(i*i+r*r+o*o)},JSM.CoordPlaneDistance=function(t,e){return Math.abs(JSM.CoordPlaneSignedDistance(t,e))},JSM.CoordPlaneSignedDirectionalDistance=function(t,e,i){var r=JSM.VectorNormalize(e);e=t.x;var o=t.y,n=t.z,a=i.a,s=i.b,l=i.c;i=i.d;var c=a*(e-(t.x+r.x))+s*(o-(t.y+r.y))+l*(n-(t.z+r.z));return JSM.IsZero(c)?0:(r=JSM.CoordAdd(t,JSM.VectorMultiply(r,(a*e+s*o+l*n+i)/c)),t=JSM.CoordDistance(t,r),JSM.IsNegative(a*e+s*o+l*n+i)&&(t=-t),t)},JSM.CoordPlaneDirectionalDistance=function(t,e,i){return Math.abs(JSM.CoordPlaneSignedDirectionalDistance(t,e,i))},JSM.ProjectCoordToPlane=function(t,e){var i=t.x,r=t.y,o=t.z,n=e.a,a=e.b,s=e.c,l=e.d,c=JSM.CoordPlaneDistance(t,e);return JSM.IsGreater(n*i+a*r+s*o+l,0)&&(c=-c),i=JSM.VectorNormalize(new JSM.Coord(n,a,s)),JSM.CoordOffset(t,i,c)},JSM.Project=function(t,e,i,r,o,n,a,s,l){return e=JSM.MatrixView(e,i,r),a=JSM.MatrixPerspective(o,n,a,s),o=new JSM.Coord(0,0,0),s=[],n=[],s[0]=t.x,s[1]=t.y,s[2]=t.z,s[3]=1,n=JSM.MatrixVectorMultiply(a,JSM.MatrixVectorMultiply(e,s)),t=n[3],JSM.IsZero(t)?l=null:(n[0]=.5*(n[0]/t)+.5,n[1]=.5*(n[1]/t)+.5,n[2]=.5*(n[2]/t)+.5,n[0]=n[0]*l[2]+l[0],n[1]=n[1]*l[3]+l[1],o.x=n[0],o.y=n[1],o.z=n[2],l=o),l},JSM.ConvexHull2D=function(t){function e(t,e){var i,r=t.length,o=0;for(i=1;r>i;i++)e==o?o=i:"Clockwise"==JSM.CoordTurnType2D(t[e],t[o],t[i])&&(o=i);return o}var i=[];if(3>t.length)return i;var r,o=function(t){var e,i,r=t.length,o=JSM.Inf,n=-1;for(e=0;r>e;e++)i=t[e].x,JSM.IsLower(i,o)&&(o=i,n=e);return n}(t),n=o;do i.push(n),n=r=e(t,n);while(r!=o);return i},JSM.ConvexHull3D=function(t){function e(){this.position=null}function i(){this.tri2=this.tri1=this.vert2=this.vert1=null}function r(){this.valid=this.edges=this.vertices=null}function o(t,i){var r=new e;return r.position=i,t.vertices.push(r),t.vertices.length-1}function n(t,e,r,o){var n,a,s=-1;for(n=0;n<t.edges.length;n++)if(a=t.edges[n],a.vert1==r&&a.vert2==o||a.vert1==o&&a.vert2==r){s=n;break}return-1==s&&(s=new i,s.vert1=r,s.vert2=o,s.tri1=-1,s.tri2=-1,t.edges.push(s),s=t.edges.length-1),t=t.edges[s],t.tri1!=e&&t.tri2!=e&&(-1==t.tri1?t.tri1=e:-1==t.tri2&&(t.tri2=e)),s}function a(t,e,i,o){var a=t.triangles.length,s=n(t,a,e,i),l=n(t,a,i,o),a=n(t,a,o,e),c=new r;return c.vertices=[e,i,o],c.edges=[s,l,a],c.valid=!0,t.triangles.push(c),t.triangles.length-1}function s(t,e,i){t=t.edges[i],t.tri1==e?t.tri1=-1:t.tri2==e&&(t.tri2=-1)}function l(t,e,i,r,o){return i=t.vertices[i].position,r=t.vertices[r].position,o=t.vertices[o].position,t=JSM.CoordSub(t.vertices[e].position,o),e=JSM.CoordSub(i,o),i=JSM.CoordSub(r,o),JSM.VectorDot(t,JSM.VectorCross(e,i))/6}function c(t,e){var i,r,o=[];for(i=0;i<t.triangles.length;i++)r=t.triangles[i],o.push(r.valid?JSM.IsLower(l(t,r.vertices[0],r.vertices[2],r.vertices[1],e),0)?!1:!0:!1);var n,c,h,u=[];for(i=0;i<o.length;i++)o[i]&&(r=t.triangles[i],r.valid&&(n=t.edges[r.edges[0]],c=t.edges[r.edges[1]],h=t.edges[r.edges[2]],n=-1==n.tri1||-1==n.tri2||o[n.tri1]!=o[n.tri2],c=-1==c.tri1||-1==c.tri2||o[c.tri1]!=o[c.tri2],h=-1==h.tri1||-1==h.tri2||o[h.tri1]!=o[h.tri2],n&&u.push([r.vertices[0],r.vertices[1],e]),c&&u.push([r.vertices[1],r.vertices[2],e]),h&&u.push([r.vertices[2],r.vertices[0],e])));for(i=0;i<o.length;i++)o[i]&&(r=t.triangles[i],r.valid&&(r=t,h=i,n=r.triangles[h],n.valid&&(s(r,h,n.edges[0]),s(r,h,n.edges[1]),s(r,h,n.edges[2]),n.valid=!1)));for(i=0;i<u.length;i++)o=u[i],a(t,o[0],o[1],o[2])}var h=[],u=t.length;if(4>u)return h;var d,p=new function(){this.vertices=[],this.edges=[],this.triangles=[]};for(d=0;u>d;d++)o(p,t[d]);for(function(t){var e=-1,e=JSM.IsLower(l(t,0,1,2,3),0)?a(t,0,2,1):a(t,0,1,2),e=t.triangles[e];a(t,e.vertices[0],e.vertices[2],3),a(t,e.vertices[2],e.vertices[1],3),a(t,e.vertices[1],e.vertices[0],3)}(p),d=4;u>d;d++)c(p,d);for(d=0;d<p.triangles.length;d++)t=p.triangles[d],t.valid&&h.push(t.vertices);return h},JSM.Polygon2D=function(){this.vertices=[]},JSM.Polygon2D.prototype.AddVertex=function(t,e){this.vertices.push(new JSM.Coord2D(t,e))},JSM.Polygon2D.prototype.GetVertex=function(t){return this.vertices[t]},JSM.Polygon2D.prototype.SetVertex=function(t,e,i){this.vertices[t].Set(e,i)},JSM.Polygon2D.prototype.VertexCount=function(){return this.vertices.length},JSM.Polygon2D.prototype.Clear=function(){this.vertices=[]},JSM.Polygon2D.prototype.Clone=function(){var t,e=new JSM.Polygon2D;for(t=0;t<this.vertices.length;t++)e.vertices.push(this.vertices[t].Clone());return e},JSM.ContourPolygon2D=function(){this.polygons=[]},JSM.ContourPolygon2D.prototype.AddVertex=function(t,e,i){void 0===this.polygons[t]&&(this.polygons[t]=new JSM.Polygon2D),this.polygons[t].AddVertex(e,i)},JSM.ContourPolygon2D.prototype.VertexCount=function(t){return void 0===this.polygons[t]?0:this.polygons[t].VertexCount()},JSM.ContourPolygon2D.prototype.GetVertex=function(t,e){return this.polygons[t].GetVertex(e)},JSM.ContourPolygon2D.prototype.SetVertex=function(t,e,i,r){this.polygons[t].SetVertex(e,i,r)},JSM.ContourPolygon2D.prototype.AddContour=function(){this.polygons.push(new JSM.Polygon2D)},JSM.ContourPolygon2D.prototype.ContourCount=function(){return this.polygons.length},JSM.ContourPolygon2D.prototype.GetContour=function(t){return this.polygons[t]},JSM.ContourPolygon2D.prototype.Clear=function(){this.polygons=[]},JSM.ContourPolygon2D.prototype.Clone=function(){var t,e=new JSM.ContourPolygon2D;for(t=0;t<this.polygons.length;t++)e.polygons.push(this.polygons[t].Clone());return e},JSM.Polygon=function(){this.vertices=[]},JSM.Polygon.prototype.AddVertex=function(t,e,i){this.vertices.push(new JSM.Coord(t,e,i))},JSM.Polygon.prototype.GetVertex=function(t){return this.vertices[t]},JSM.Polygon.prototype.SetVertex=function(t,e,i,r){this.vertices[t].Set(e,i,r)},JSM.Polygon.prototype.VertexCount=function(){return this.vertices.length},JSM.Polygon.prototype.Clear=function(){this.vertices=[]},JSM.Polygon.prototype.Clone=function(){var t,e=new JSM.Polygon;for(t=0;t<this.vertices.length;t++)e.vertices.push(this.vertices[t].Clone());return e},JSM.CreatePolygonFromVertices=function(t){var e,i,r=new JSM.Polygon2D;for(e=0;e<t.length;e++)i=t[e],r.AddVertex(i.x,i.y);return r},JSM.PolygonSignedArea2D=function(t){var e,i,r,o=t.VertexCount(),n=0;for(e=0;o>e;e++)i=t.GetVertex(e),r=t.GetVertex((e+1)%o),n+=i.x*r.y-r.x*i.y;return n/2},JSM.PolygonArea2D=function(t){return Math.abs(JSM.PolygonSignedArea2D(t))},JSM.PolygonOrientation2D=function(t){return t=JSM.PolygonSignedArea2D(t),JSM.IsPositive(t)?"CounterClockwise":JSM.IsNegative(t)?"Clockwise":"Invalid"},JSM.ChangePolygonOrientation2D=function(t){var e=t.Clone();t.Clear();var i,r;for(i=e.VertexCount()-1;i>=0;i--)r=e.GetVertex(i),t.AddVertex(r.x,r.y)},JSM.CreateCCWPolygonFromVertices=function(t){return t=JSM.CreatePolygonFromVertices(t),"CounterClockwise"!=JSM.PolygonOrientation2D(t)&&JSM.ChangePolygonOrientation2D(t),t},JSM.PolygonComplexity2D=function(t){var e,i,r,o,n=!1,a=!1,s=t.VertexCount();for(e=0;s>e;e++)if(i=0===e?s-1:e-1,r=e,o=e===s-1?0:e+1,i=t.GetVertex(i),r=t.GetVertex(r),o=t.GetVertex(o),o=JSM.CoordTurnType2D(i,r,o),"CounterClockwise"===o?n=!0:"Clockwise"===o&&(a=!0),n&&a)return"Concave";return n||a?"Convex":"Invalid"},JSM.CoordPolygonPosition2D=function(t,e){var i,r,o,n=e.VertexCount();for(i=0;n>i;i++)if(r=e.GetVertex(i),o=e.GetVertex((i+1)%n),r=new JSM.Sector2D(r,o),"CoordOutsideOfSector"!==JSM.CoordSectorPosition2D(t,r))return"CoordOnPolygonEdge";var a,s=0;for(i=0;n>i;i++)a=Math.abs(e.GetVertex(i).x-t.x),JSM.IsGreater(a,s)&&(s=a);s=new JSM.Sector2D(t,new JSM.Coord2D(t.x+2*s,t.y)),a=0;var l;for(i=0;n>i;i++)r=e.GetVertex(i),o=e.GetVertex((i+1)%n),r=new JSM.Sector2D(r,o),o=new JSM.Coord2D(0,0),l=JSM.SectorSectorPosition2D(s,r,o),"SectorsDontIntersects"!==l&&("SectorsIntersectsOnePoint"===l?a++:"SectorsIntersectsEndPoint"===l&&(JSM.CoordIsEqual2D(o,r.beg)?JSM.IsGreater(r.beg.y,r.end.y)&&a++:JSM.CoordIsEqual2D(o,r.end)&&JSM.IsLower(r.beg.y,r.end.y)&&a++));return 0===a%2?"CoordOutsideOfPolygon":"CoordInsideOfPolygon"},JSM.SectorIntersectsPolygon2D=function(t,e,i,r){var o,n,a,s=t.VertexCount();for(o=0;s>o;o++)if(n=o,a=(o+1)%s,!(n==i||a==i||n==r||a==r)&&(n=new JSM.Sector2D(t.GetVertex(n),t.GetVertex(a)),n=JSM.SectorSectorPosition2D(e,n),"SectorsDontIntersects"!==n))return!0;return!1},JSM.IsPolygonVertexVisible2D=function(t,e,i){if(e===i)return!1;var r=t.VertexCount();return i===(e>0?e-1:r-1)||i===(r-1>e?e+1:0)?!1:(r=new JSM.Sector2D(t.GetVertex(e),t.GetVertex(i)),JSM.SectorIntersectsPolygon2D(t,r,e,i)?!1:(e=JSM.MidCoord2D(r.beg,r.end),"CoordInsideOfPolygon"!==JSM.CoordPolygonPosition2D(e,t)?!1:!0))},JSM.CreatePolygonWithHole2D=function(t){var e,i=[],r=[],o=0;for(r.push(-1),e=0;e<t.length;e++)null===t[e]&&(r.push(e),o+=1);for(r.push(e),o+=1,e=0;o>e;e++){var n=e,a=r[n]+1,s=r[n+1];if(0===n)for(n=void 0,n=a;s>n;n++)i.push(n);else{for(var a=void 0,a=new JSM.Polygon2D,s=new JSM.Polygon2D,l=void 0,c=void 0,c=void 0,l=0;l<i.length;l++)c=t[i[l]],a.AddVertex(c.x,c.y);for(var h=r[n]+1,u=r[n+1],l=h;u>l;l++)c=t[l],s.AddVertex(c.x,c.y);for(var d=null,p=void 0,f=void 0,_=void 0,l=0;l<a.VertexCount();l++){for(f=i[l],c=h;u>c;c++)if(_=c-h,p=new JSM.Sector(t[f],t[c]),!JSM.SectorIntersectsPolygon2D(a,p,l,-1)&&!JSM.SectorIntersectsPolygon2D(s,p,-1,_)){d=[f,c];break}if(null!==d)break}for(a=d,s=r[n]+1,n=r[n+1],l=[],u=h=void 0,h=0;h<i.length;h++)l[h]=i[h];for(i=[],d=c=void 0,h=0;h<l.length;h++)if(i.push(l[h]),l[h]==a[0]){for(u=a[1],c=!0,d=!1;!d;)i.push(u),!c&&u==a[1]&&(d=!0),c&&(c=!1),u=n-1>u?u+1:s;i.push(l[h])}}}return i},JSM.PolygonTriangulate2D=function(t){function e(){var t,e,i,r,o=[];for(t=0;t<s.length;t++)if(i=s[t],3===i.length)if("CounterClockwise"===c)o.push(i);else{for(r=[],e=i.length-1;e>=0;e--)r.push(n-i[e]-1);o.push(r)}return o}function i(t,e,i){if(e===i)return!1;var r,o=t.VertexCount();return(r=(o-1>e?e+1:0)===i)||(r=(e>0?e-1:o-1)===i),r?!1:JSM.IsPolygonVertexVisible2D(t,e,i)}function r(t,e,i){var r=t.length;if(3>=r)return!0;var o,n,a,l;for(o=0;2>o;o++){for(a=n=-1,0===o?(n=e,a=i):1===o&&(n=i,a=e),l=[],l.push(t[a]);n!==a;n=r-1>n?n+1:0)l.push(t[n]);s.push(l)}return!0}var o=t.Clone(),n=o.VertexCount();if(3>n)return[];var a,s=[],l=[];for(t=0;n>t;t++)l.push(t);if(s.push(l),3===n)return e();var l=JSM.PolygonComplexity2D(o),c=JSM.PolygonOrientation2D(o);if("Invalid"===l||"Invalid"===c)return[];if("CounterClockwise"!==c){var h,u,d;for(t=0;n/2>t;t++)h=t,u=n-t-1,d=o.vertices[h],o.vertices[h]=o.vertices[u],o.vertices[u]=d}if("Convex"===l){for(t=0;n-2>t;t++)o=[],o.push(0),o.push((t+1)%n),o.push((t+2)%n),s.push(o);return e()}var p;for(t=0;t<s.length;t++)if(h=s[t],u=h.length,3!==u){for(d=new JSM.Polygon2D,l=0;u>l;l++)a=o.GetVertex(h[l]),d.AddVertex(a.x,a.y);for(p=!1,l=0;u>l;l++){for(a=0;u>a;a++)if(i(d,l,a)){r(h,l,a),p=!0;break}if(p)break}}return e()},JSM.CheckTriangulation2D=function(t,e){var i,r,o,n,a,s=JSM.PolygonSignedArea2D(t),l=0;for(i=0;i<e.length;i++){if(o=e[i],3!==o.length)return!1;for(n=new JSM.Polygon2D,r=0;r<o.length;r++)a=t.GetVertex(o[r]),n.AddVertex(a.x,a.y);l+=JSM.PolygonSignedArea2D(n)}return JSM.IsEqual(s,l)?!0:!1},JSM.CreatePolygonWithHole=function(t){var e,i=[];for(e=0;e<t.length;e++)null!==t[e]&&i.push(t[e]);var r,i=JSM.CalculateNormal(i),o=new JSM.Coord(0,0,0),n=[];for(e=0;e<t.length;e++)null!==t[e]?(r=JSM.GetCoord2DFromCoord(t[e],o,i),n.push(r)):n.push(null);return JSM.CreatePolygonWithHole2D(n)},JSM.PolygonTriangulate=function(t){var e,i,r=new JSM.Polygon2D,o=JSM.CalculateNormal(t.vertices),n=new JSM.Coord(0,0,0),a=t.VertexCount();for(e=0;a>e;e++)i=JSM.GetCoord2DFromCoord(t.GetVertex(e),n,o),r.AddVertex(i.x,i.y);return JSM.PolygonTriangulate2D(r)},JSM.OffsetPolygonContour=function(t,e){var i,r,o,n,a,s,l=t.VertexCount(),c=JSM.CalculateNormal(t.vertices),h=new JSM.Polygon;for(s=0;l>s;s++)i=0===s?l-1:s-1,r=s,o=s===l-1?0:s+1,i=t.GetVertex(i),r=t.GetVertex(r),n=t.GetVertex(o),a=JSM.CoordSub(i,r),o=JSM.CoordSub(n,r),a=JSM.GetVectorsAngle(a,o)/2,"Clockwise"===JSM.CoordTurnType(i,r,n,c)&&(a=Math.PI-a),i=e/Math.sin(a),i=JSM.CoordOffset(r,o,i),i=JSM.CoordRotate(i,c,a,r),h.AddVertex(i.x,i.y,i.z);return h},JSM.CutPolygonWithPlane=function(t,e,i,r,o){function n(t,e,i,r,o){1==e?i.push(t):-1==e?r.push(t):o.push(t)}function a(t,e,i,r){function o(t,e){if(!(2>e.length)){for(var i,r=t.GetVertex(e[0]),o=t.GetVertex(e[1]),o=JSM.CoordSub(o,r),n=JSM.GetPlaneFromCoordAndDirection(r,o),o=[],r=0;r<e.length;r++)i=t.GetVertex(e[r]),o.push(JSM.CoordPlaneSignedDistance(i,n));for(r=0;r<e.length-1;r++)for(n=0;n<e.length-r-1;n++)if(JSM.IsGreater(o[n],o[n+1])){i=o;var a=n+1,s=i[n];i[n]=i[a],i[a]=s,i=e,a=n+1,s=i[n],i[n]=i[a],i[a]=s}}}function n(t,e,i,r,o,n){function a(t,e){t[t[e]]=-1,t[e]=-1}var s=[];!function(t,e,i){var r;for(r=0;r<t.VertexCount();r++)i.push(-1);for(r=0;r<e.length;r+=2){t=i;var o=e,n=r;t[o[n]]=o[n+1],t[o[n+1]]=o[n]}}(t,e,s);var l=0;n&&(l=e.length-1);for(var c,h=e[l],u=h,d=!1,p=0,f=new JSM.Polygon;;){if(d||(p=i[u],0!==p&&(d=!0)),0<f.VertexCount()&&u==h){if(1==p?r.push(f):-1==p&&o.push(f),f=new JSM.Polygon,l>0&&l<e.length){u=h=e[l];continue}break}c=t.GetVertex(u),f.AddVertex(c.x,c.y,c.z),-1!=s[u]?(l=n?l-2:l+2,u=s[u],a(s,u)):u=u<t.VertexCount()-1?u+1:0}}var a=[];!function(t,e){var i,r,o,n;for(i=0;i<t.length;i++)if(r=t[i],0===r){if(r=i>0?i-1:t.length-1,o=i<t.length-1?i+1:0,n=t[r],o=t[o],0!==o&&0===n){for(;0===t[r];)r=r>0?r-1:t.length-1;n=t[r]}(-1==n&&1==o||1==n&&-1==o)&&e.push(i)}}(e,a),0===a.length||0!==a.length%2||(o(t,a),n(t,a,e,i,r,!1),n(t,a,e,i,r,!0))}var s=new JSM.Polygon,l=[];return e=function(t,e,i,r){function o(t,i,r,o,n){function a(t,i,r,o,n,a){var s=r[r.length-1];0!==s&&0!==a&&s!=a&&(o=t.GetVertex(o),t=t.GetVertex(n),t=new JSM.Line(t,JSM.CoordSub(t,o)),n=new JSM.Coord(0,0,0),"LineIntersectsPlane"==JSM.LinePlanePosition(t,e,n)&&(i.AddVertex(n.x,n.y,n.z),r.push(0)))}function s(t,e,i,r,o){t=t.GetVertex(r),e.AddVertex(t.x,t.y,t.z),i.push(o)}var l,c=0===i,h=i===t.VertexCount();return h?(i=0,l=t.VertexCount()-1):l=i-1,o=o[i],c||a(t,r,n,l,i,o),h||s(t,r,n,i,o),o}var n,a,s,l=[],c=!1,h=!1;for(n=0;n<t.VertexCount();n++)a=t.GetVertex(n),a=JSM.CoordPlanePosition(a,e),s=0,"CoordInFrontOfPlane"==a?(s=1,h=!0):"CoordAtBackOfPlane"==a&&(s=-1,c=!0),l.push(s);if(c&&h)for(n=0;n<=t.VertexCount();n++)o(t,n,i,l,r);else{if(c)return-1;if(h)return 1}return 0}(t,e,s,l),0===s.VertexCount()&&0===l.length?n(t,e,i,r,o):a(s,l,i,r),0===i.length+r.length+o.length?!1:!0},JSM.BSPNode=function(){this.outside=this.inside=this.parent=this.plane=this.userData=this.polygon=null},JSM.BSPNode.prototype.IsLeaf=function(){return null===this.inside&&null===this.outside},JSM.BSPTree=function(){this.root=null},JSM.BSPTree.prototype.AddPolygon=function(t,e){return null===this.root&&(this.root=this.GetNewNode()),this.AddPolygonToNode(this.root,t,e)},JSM.BSPTree.prototype.Traverse=function(t){this.TraverseNode(this.root,t)},JSM.BSPTree.prototype.TraverseNode=function(t,e){null!==t&&(e(t),this.TraverseNode(t.inside,e),this.TraverseNode(t.outside,e))},JSM.BSPTree.prototype.GetNodes=function(){var t=[];return this.Traverse(function(e){t.push(e)}),t},JSM.BSPTree.prototype.NodeCount=function(){var t=0;return this.Traverse(function(){t+=1}),t},JSM.BSPTree.prototype.AddPolygonToNode=function(t,e,i){if(3>e.VertexCount())return!1;var r;if(null===t.polygon){r=JSM.CalculateNormal(e.vertices);var o=JSM.GetPlaneFromCoordAndDirection(e.GetVertex(0),r);t.polygon=e,void 0!==i&&(t.userData=i),t.plane=o}else{r=[];var n=[],o=[];JSM.CutPolygonWithPlane(e,t.plane,n,r,o)&&(0<r.length&&this.AddInsidePolygonsToNode(t,r,i),0<n.length&&this.AddOutsidePolygonsToNode(t,n,i),0<o.length&&(r=JSM.CalculateNormal(e.vertices),0<JSM.VectorDot(r,t.plane.GetNormal())?this.AddInsidePolygonsToNode(t,o,i):this.AddOutsidePolygonsToNode(t,o,i)))}return!0},JSM.BSPTree.prototype.AddInsidePolygonsToNode=function(t,e,i){null===t.inside&&(t.inside=this.GetNewNode(),t.inside.parent=t);var r;for(r=0;r<e.length;r++)this.AddPolygonToNode(t.inside,e[r],i)},JSM.BSPTree.prototype.AddOutsidePolygonsToNode=function(t,e,i){null===t.outside&&(t.outside=this.GetNewNode(),t.outside.parent=t);var r;for(r=0;r<e.length;r++)this.AddPolygonToNode(t.outside,e[r],i)},JSM.BSPTree.prototype.GetNewNode=function(){return new JSM.BSPNode},JSM.ClipPolygonWithBSPTree=function(t,e,i,r,o,n){function a(t,e,i){if(null!==e){var r=[],o=[],n=[];JSM.CutPolygonWithPlane(t,e.plane,o,r,n)&&(0<r.length&&l(e,r,i),0<o.length&&c(e,o,i),0<n.length&&(t=JSM.CalculateNormal(t.vertices),0<JSM.VectorDot(t,e.plane.GetNormal())?l(e,n,!0):c(e,n,!0)))}}function s(t,e){var i;for(i=0;i<t.length;i++)e.push(t[i])}function l(t,e,i){if(null!==t.inside){t=t.inside;var o;for(o=0;o<e.length;o++)a(e[o],t,i)}else s(e,i?n:r)}function c(t,e,r){if(null!==t.outside){t=t.outside;var n;for(n=0;n<e.length;n++)a(e[n],t,r)}else s(e,r?o:i)}return a(t,e.root,!1),!0},JSM.GetGaussianCParameter=function(t,e,i,r){return Math.sqrt(-(Math.pow(t-i,2)/(2*Math.log(r/Math.abs(e)))))},JSM.GetGaussianValue=function(t,e,i,r){return e*Math.exp(-(Math.pow(t-i,2)/(2*Math.pow(r,2))))},JSM.GenerateCirclePoints=function(t,e,i){var r,o,n=[],a=2*Math.PI,s=2*Math.PI/e;for(r=0;e>r;r++)o=JSM.CylindricalToCartesian(t,0,a),void 0!==i&&null!==i&&(o=JSM.CoordAdd(o,i)),n.push(o),a+=s;return n},JSM.GetRuledMesh=function(t,e,i,r,o){if(t.length===e.length){var n,a=t.length-1,s=[],l=[];for(n=0;a>=n;n++)s.push(JSM.CoordSub(e[n],t[n])),l.push(JSM.CoordDistance(t[n],e[n]));var c,h;for(n=0;a>=n;n++)for(c=l[n]/i,e=0;i>=e;e++)h=JSM.CoordOffset(t[n],s[n],c*e),r.push(h);for(n=0;a>n;n++)for(e=0;i>e;e++)t=n*(i+1)+e,r=t+1,s=t+i+1,l=s+1,t=[t,s,l,r],o.push(t)}},JSM.BodyVertex=function(t){this.position=t},JSM.BodyVertex.prototype.GetPosition=function(){return this.position},JSM.BodyVertex.prototype.SetPosition=function(t){this.position=t},JSM.BodyVertex.prototype.Clone=function(){return new JSM.BodyVertex(this.position.Clone())},JSM.BodyPolygon=function(t){this.vertices=t,this.curved=this.material=-1},JSM.BodyPolygon.prototype.AddVertexIndex=function(t){this.vertices.push(t)},JSM.BodyPolygon.prototype.GetVertexIndex=function(t){return this.vertices[t]},JSM.BodyPolygon.prototype.VertexIndexCount=function(){return this.vertices.length},JSM.BodyPolygon.prototype.HasMaterialIndex=function(){return-1!==this.material},JSM.BodyPolygon.prototype.GetMaterialIndex=function(){return this.material},JSM.BodyPolygon.prototype.SetMaterialIndex=function(t){this.material=t},JSM.BodyPolygon.prototype.HasCurveGroup=function(){return-1!==this.curved},JSM.BodyPolygon.prototype.GetCurveGroup=function(){return this.curved},JSM.BodyPolygon.prototype.SetCurveGroup=function(t){this.curved=t},JSM.BodyPolygon.prototype.InheritAttributes=function(t){this.material=t.material,this.curved=t.curved},JSM.BodyPolygon.prototype.Clone=function(){var t,e=new JSM.BodyPolygon([]);for(t=0;t<this.vertices.length;t++)e.vertices.push(this.vertices[t]);return e.material=this.material,e.curved=this.curved,e},JSM.Body=function(){this.vertices=[],this.polygons=[],this.SetCubicTextureProjection(new JSM.Coord(0,0,0),new JSM.Coord(1,0,0),new JSM.Coord(0,1,0),new JSM.Coord(0,0,1))},JSM.Body.prototype.AddVertex=function(t){return this.vertices.push(t),this.vertices.length-1},JSM.Body.prototype.AddPolygon=function(t){return this.polygons.push(t),this.polygons.length-1},JSM.Body.prototype.GetVertex=function(t){return this.vertices[t]},JSM.Body.prototype.GetVertexPosition=function(t){return this.vertices[t].position},JSM.Body.prototype.SetVertexPosition=function(t,e){this.vertices[t].position=e},JSM.Body.prototype.VertexCount=function(){return this.vertices.length},JSM.Body.prototype.GetPolygon=function(t){return this.polygons[t]},JSM.Body.prototype.PolygonCount=function(){return this.polygons.length},JSM.Body.prototype.SetPolygonsMaterialIndex=function(t){var e;for(e=0;e<this.polygons.length;e++)this.polygons[e].SetMaterialIndex(t)},JSM.Body.prototype.SetPolygonsCurveGroup=function(t){var e;for(e=0;e<this.polygons.length;e++)this.polygons[e].SetCurveGroup(t)},JSM.Body.prototype.GetTextureProjectionType=function(){return this.projection},JSM.Body.prototype.SetTextureProjectionType=function(t){this.projection=t},JSM.Body.prototype.GetTextureProjectionCoords=function(){return this.coords},JSM.Body.prototype.SetTextureProjectionCoords=function(t){this.coords=t},JSM.Body.prototype.SetPlanarTextureProjection=function(t,e,i){this.SetTextureProjectionType("Planar"),this.SetTextureProjectionCoords(new JSM.CoordSystem(t,e,JSM.VectorCross(e,i),new JSM.Coord(0,0,0)))},JSM.Body.prototype.SetCubicTextureProjection=function(t,e,i,r){this.SetTextureProjectionType("Cubic"),this.SetTextureProjectionCoords(new JSM.CoordSystem(t,e,i,r))},JSM.Body.prototype.SetCylindricalTextureProjection=function(t,e,i,r){this.SetTextureProjectionType("Cylindrical"),this.SetTextureProjectionCoords(new JSM.CoordSystem(t,JSM.VectorSetLength(i,e),JSM.VectorSetLength(JSM.VectorCross(r,i),e),r))},JSM.Body.prototype.Transform=function(t){var e;for(e=0;e<this.vertices.length;e++)this.vertices[e].position=t.Apply(this.vertices[e].position);null!==this.coords&&(e=JSM.CoordSystemToAbsoluteCoords(this.coords),e.origo=t.Apply(e.origo),e.e1=t.Apply(e.e1),e.e2=t.Apply(e.e2),e.e3=t.Apply(e.e3),this.coords=JSM.CoordSystemToDirectionVectors(e))},JSM.Body.prototype.GetBoundingBox=function(){var t,e,i=new JSM.Coord(JSM.Inf,JSM.Inf,JSM.Inf),r=new JSM.Coord(-JSM.Inf,-JSM.Inf,-JSM.Inf);for(t=0;t<this.vertices.length;t++)e=this.vertices[t].position,i.x=JSM.Minimum(i.x,e.x),i.y=JSM.Minimum(i.y,e.y),i.z=JSM.Minimum(i.z,e.z),r.x=JSM.Maximum(r.x,e.x),r.y=JSM.Maximum(r.y,e.y),r.z=JSM.Maximum(r.z,e.z);return[i,r]},JSM.Body.prototype.GetCenter=function(){var t=this.GetBoundingBox();return JSM.MidCoord(t[0],t[1])},JSM.Body.prototype.GetBoundingSphereRadius=function(){var t,e,i=this.GetCenter(),r=0;for(t=0;t<this.vertices.length;t++)e=JSM.CoordDistance(i,this.vertices[t].position),JSM.IsGreater(e,r)&&(r=e);return r},JSM.Body.prototype.OffsetToOrigo=function(){var t,e=this.GetCenter(),e=JSM.VectorMultiply(e,-1);
for(t=0;t<this.vertices.length;t++)this.vertices[t].position=JSM.CoordAdd(this.vertices[t].position,e)},JSM.Body.prototype.Merge=function(t){var e,i,r=this.vertices.length;for(e=0;e<t.VertexCount();e++)this.vertices.push(t.GetVertex(e).Clone());var o;for(e=0;e<t.PolygonCount();e++){for(o=t.GetPolygon(e).Clone(),i=0;i<o.VertexIndexCount();i++)o.vertices[i]+=r;this.polygons.push(o)}},JSM.Body.prototype.Clear=function(){this.vertices=[],this.polygons=[],this.coords=this.projection=null},JSM.Model=function(){this.bodies=[]},JSM.Model.prototype.AddBody=function(t){return this.bodies.push(t),this.bodies.length-1},JSM.Model.prototype.GetBody=function(t){return this.bodies[t]},JSM.Model.prototype.BodyCount=function(){return this.bodies.length},JSM.Model.prototype.VertexCount=function(){var t,e=0;for(t=0;t<this.bodies.length;t++)e+=this.bodies[t].VertexCount();return e},JSM.Model.prototype.PolygonCount=function(){var t,e=0;for(t=0;t<this.bodies.length;t++)e+=this.bodies[t].PolygonCount();return e},JSM.HexColorToRGBComponents=function(t){for(var e=t.toString(16);6>e.length;)e="0"+e;t=parseInt(e.substr(0,2),16);var i=parseInt(e.substr(2,2),16),e=parseInt(e.substr(4,2),16);return[t,i,e]},JSM.HexColorToNormalizedRGBComponents=function(t){return t=JSM.HexColorToRGBComponents(t),[t[0]/255,t[1]/255,t[2]/255]},JSM.HexColorToRGBColor=function(t){return parseInt("0x"+t,16)},JSM.RGBComponentsToHexColor=function(t,e,i){function r(t){for(t=parseInt(t,10).toString(16);2>t.length;)t="0"+t;return t}return t=r(t),e=r(e),i=r(i),parseInt("0x"+t+e+i,16)},JSM.Light=function(t){var e=8355711,i=8355711,r=0,o=new JSM.Vector(1,0,0);void 0!==t&&null!==t&&(e=JSM.ValueOrDefault(t.ambient,e),i=JSM.ValueOrDefault(t.diffuse,i),r=JSM.ValueOrDefault(t.specular,r),o=JSM.ValueOrDefault(t.direction,o)),this.ambient=e,this.diffuse=i,this.specular=r,this.direction=o},JSM.Material=function(t){var e=52224,i=52224,r=0,o=0,n=1,a=null,s=1,l=1;void 0!==t&&null!==t&&(e=JSM.ValueOrDefault(t.ambient,e),i=JSM.ValueOrDefault(t.diffuse,i),r=JSM.ValueOrDefault(t.specular,r),o=JSM.ValueOrDefault(t.shininess,o),n=JSM.ValueOrDefault(t.opacity,n),a=JSM.ValueOrDefault(t.texture,a),s=JSM.ValueOrDefault(t.textureWidth,s),l=JSM.ValueOrDefault(t.textureHeight,l)),this.ambient=e,this.diffuse=i,this.specular=r,this.shininess=o,this.opacity=n,this.texture=a,this.textureWidth=s,this.textureHeight=l},JSM.Materials=function(){this.materials=[],this.defaultMaterial=new JSM.Material},JSM.Materials.prototype.GetMaterial=function(t){return 0>t||t>=this.materials.length?this.defaultMaterial:this.materials[t]},JSM.Materials.prototype.AddMaterial=function(t){this.materials.push(t)},JSM.Materials.prototype.GetDefaultMaterial=function(){return this.defaultMaterial},JSM.Materials.prototype.Count=function(){return this.materials.length},JSM.AddVertexToBody=function(t,e,i,r){t.AddVertex(new JSM.BodyVertex(new JSM.Coord(e,i,r)))},JSM.AddPolygonToBody=function(t,e){t.AddPolygon(new JSM.BodyPolygon(e))},JSM.CalculateBodyVertexToPolygon=function(t){var e,i,r=[];for(e=0;e<t.VertexCount();e++)r.push([]);var o;for(e=0;e<t.PolygonCount();e++)for(o=t.GetPolygon(e),i=0;i<o.VertexIndexCount();i++)r[o.GetVertexIndex(i)].push(e);return r},JSM.CalculateBodyPolygonNormal=function(t,e){var i=t.GetPolygon(e),r=i.VertexIndexCount(),o=new JSM.Vector(0,0,0);if(r>=3){var n,a,s;for(n=0;r>n;n++)a=n,s=(n+1)%r,a=t.GetVertexPosition(i.GetVertexIndex(a)),s=t.GetVertexPosition(i.GetVertexIndex(s)),o.x+=(a.y-s.y)*(a.z+s.z),o.y+=(a.z-s.z)*(a.x+s.x),o.z+=(a.x-s.x)*(a.y+s.y)}return JSM.VectorNormalize(o)},JSM.CalculateBodyPolygonNormals=function(t){var e,i=[];for(e=0;e<t.PolygonCount();e++)i.push(JSM.CalculateBodyPolygonNormal(t,e));return i},JSM.CalculateBodyVertexNormals=function(t){var e,i,r,o,n,a,s,l,c=[],h=JSM.CalculateBodyPolygonNormals(t),u=null;for(e=0;e<t.PolygonCount();e++)if(o=t.GetPolygon(e),c[e]=[],o.HasCurveGroup())for(null===u&&(u=JSM.CalculateBodyVertexToPolygon(t)),i=0;i<o.VertexIndexCount();i++){for(n=new JSM.Vector(0,0,0),a=0,s=u[o.GetVertexIndex(i)],r=0;r<s.length;r++)l=t.GetPolygon(s[r]),l.GetCurveGroup()===o.GetCurveGroup()&&(n=JSM.CoordAdd(n,h[s[r]]),a++);n=JSM.VectorMultiply(n,1/a),n=JSM.VectorNormalize(n),c[e].push(n)}else for(r=h[e],i=0;i<o.VertexIndexCount();i++)c[e].push(new JSM.Vector(r.x,r.y,r.z));return c},JSM.MakeBodyInsideOut=function(t){var e,i,r,o,n;for(e=0;e<t.PolygonCount();e++)for(r=t.GetPolygon(e),n=r.vertices.slice(0),o=n.length,r.vertices=[],i=0;o>i;i++)r.vertices.push(n[o-i-1])},JSM.SoftMoveBodyVertex=function(t,e,i,r,o){e=t.GetVertex(e).position;var n,a,s,l=JSM.GetGaussianCParameter(i,o,0,1e-5);for(n=0;n<t.VertexCount();n++)a=JSM.CoordDistance(e,t.GetVertex(n).position),JSM.IsGreater(a,i)||(a=JSM.GetGaussianValue(a,o,0,l),s=t.GetVertex(n).position,t.GetVertex(n).position=JSM.CoordOffset(s,r,a))},JSM.CalculatePolygonCentroid=function(t,e){var i,r=t.GetPolygon(e),o=r.VertexIndexCount(),n=new JSM.Coord(0,0,0);for(i=0;o>i;i++)n=JSM.CoordAdd(n,t.GetVertexPosition(r.GetVertexIndex(i)));return n=JSM.VectorMultiply(n,1/o)},JSM.TriangulateWithCentroids=function(t){var e,i,r=new JSM.Body;for(e=0;e<t.VertexCount();e++)i=t.GetVertex(e).position,r.AddVertex(new JSM.BodyVertex(new JSM.Coord(i.x,i.y,i.z)));var o,n,a,s,l;for(e=0;e<t.PolygonCount();e++)for(i=JSM.CalculatePolygonCentroid(t,e),l=r.VertexCount(),r.AddVertex(new JSM.BodyVertex(new JSM.Coord(i.x,i.y,i.z))),n=t.GetPolygon(e),a=n.VertexIndexCount(),i=0;a>i;i++)o=n.GetVertexIndex(i),s=n.GetVertexIndex(a-1>i?i+1:0),o=new JSM.BodyPolygon([o,s,l]),o.material=n.material,o.curved=n.curved,r.AddPolygon(o);return r},JSM.TriangulatePolygons=function(t){var e,i,r,o=new JSM.Body;for(e=0;e<t.VertexCount();e++)r=t.GetVertexPosition(e),o.AddVertex(new JSM.BodyVertex(new JSM.Coord(r.x,r.y,r.z)));var n,a;for(e=0;e<t.PolygonCount();e++){for(n=new JSM.Polygon,a=t.GetPolygon(e),i=0;i<a.VertexIndexCount();i++)r=t.GetVertexPosition(a.GetVertexIndex(i)),n.AddVertex(r.x,r.y,r.z);for(r=JSM.PolygonTriangulate(n),i=0;i<r.length;i++)n=r[i],n=new JSM.BodyPolygon([a.GetVertexIndex(n[0]),a.GetVertexIndex(n[1]),a.GetVertexIndex(n[2])]),n.InheritAttributes(a),o.AddPolygon(n)}return o},JSM.GenerateRandomMaterials=function(t,e,i){var r,o;for(r=0;r<t.PolygonCount();r++)o=void 0!==i&&i?JSM.SeededRandomInt(0,16777215,r+1):JSM.RandomInt(0,16777215),e.AddMaterial(new JSM.Material({ambient:o,diffuse:o})),o=e.Count()-1,t.GetPolygon(r).SetMaterialIndex(o)},JSM.VertInfo=function(){this.edges=[],this.pgons=[]},JSM.EdgeInfo=function(){this.pgon2=this.pgon1=this.vert2=this.vert1=-1},JSM.PolyEdgeInfo=function(){this.index=-1,this.reverse=!1},JSM.PgonInfo=function(){this.verts=[],this.pedges=[]},JSM.AdjacencyInfo=function(){this.verts=[],this.edges=[],this.pgons=[]},JSM.GetPolyEdgeStartVertex=function(t,e){return t.reverse?e.edges[t.index].vert2:e.edges[t.index].vert1},JSM.GetPolyEdgeEndVertex=function(t,e){return t.reverse?e.edges[t.index].vert1:e.edges[t.index].vert2},JSM.CalculateAdjacencyInfo=function(t){var e,i,r,o=new JSM.AdjacencyInfo;for(e=0;e<t.VertexCount();e++)i=new JSM.VertInfo,o.verts.push(i);var n,a,s,l,c;for(e=0;e<t.PolygonCount();e++){for(n=t.GetPolygon(e),r=new JSM.PgonInfo,a=n.VertexIndexCount(),i=0;a>i;i++){s=n.GetVertexIndex(i),l=n.GetVertexIndex(a-1>i?i+1:0),c=s;var h=l;l=e;for(var u=new JSM.PolyEdgeInfo,d=void 0,p=void 0,d=0;d<o.edges.length;d++)p=o.edges[d],p.vert1===c&&p.vert2===h?(u.index=d,u.reverse=!1):p.vert1===h&&p.vert2===c&&(u.index=d,u.reverse=!0);-1===u.index?(d=new JSM.EdgeInfo,d.vert1=c,d.vert2=h,d.pgon1=l,d.pgon2=-1,o.edges.push(d),u.index=o.edges.length-1,u.reverse=!1):(c=o.edges[u.index],-1===c.pgon1?c.pgon1=l:c.pgon1!==l&&-1===c.pgon2&&(c.pgon2=l)),c=u,r.verts.push(s),r.pedges.push(c),o.verts[s].edges.push(c.index),o.verts[s].pgons.push(e)}o.pgons.push(r)}return o},JSM.IsSolidBody=function(t){t=JSM.CalculateAdjacencyInfo(t);var e,i;for(e=0;e<t.edges.length;e++)if(i=t.edges[e],-1===i.pgon1||-1===i.pgon2)return!1;return!0},JSM.CheckSolidBody=function(t){t=JSM.CalculateAdjacencyInfo(t);var e,i,r,o,n,a,s,l;for(e=0;e<t.edges.length;e++){if(r=t.edges[e],-1===r.pgon1||-1===r.pgon2)return!1;for(a=t.pgons[r.pgon1],n=!1,i=0;i<a.pedges.length;i++)if(o=a.pedges[i],o.index==e){s=o.reverse,n=!0;break}if(!n)return!1;for(r=t.pgons[r.pgon2],n=!1,i=0;i<r.pedges.length;i++)if(o=r.pedges[i],o.index==e){l=o.reverse,n=!0;break}if(!n||s==l)return!1}return!0},JSM.CalculatePlanarTextureCoord=function(t,e){var i=new JSM.Coord2D(0,0),r=JSM.VectorNormalize(e.e1),o=JSM.VectorNormalize(e.e2),n=JSM.VectorCross(e.e1,e.e2),n=JSM.GetPlaneFromCoordAndDirection(e.origo,n),o=JSM.GetPlaneFromCoordAndDirection(e.origo,o),r=JSM.GetPlaneFromCoordAndDirection(e.origo,r),n=JSM.ProjectCoordToPlane(t,n);return i.x=JSM.CoordPlaneSignedDistance(n,r),i.y=JSM.CoordPlaneSignedDistance(n,o),i},JSM.CalculateCubicTextureCoord=function(t,e,i){var r,o,n,a=new JSM.Coord2D(0,0),s=JSM.VectorNormalize(i.e1),l=JSM.VectorNormalize(i.e2),c=JSM.VectorNormalize(i.e3),h=-1,u=0;for(r=0;3>r;r++)0===r?o=s:1===r?o=l:2===r&&(o=c),n=Math.abs(JSM.VectorDot(e,o)),JSM.IsGreater(n,u)&&(h=r,u=n);return-1===h?a:(e=null,0===h?e=new JSM.CoordSystem(i.origo,l,c,new JSM.Coord(0,0,0)):1===h?e=new JSM.CoordSystem(i.origo,s,c,new JSM.Coord(0,0,0)):2===h&&(e=new JSM.CoordSystem(i.origo,s,l,new JSM.Coord(0,0,0))),null===e?a:JSM.CalculatePlanarTextureCoord(t,e))},JSM.CalculateCylindricalTextureCoord=function(t,e,i){var r=new JSM.Coord2D(0,0),o=JSM.VectorNormalize(i.e3);if(JSM.VectorsAreCollinear(o,e))return r=JSM.CalculateCubicTextureCoord(t,e,i),[r,0];e=new JSM.Line(i.origo,o);var n=JSM.ProjectCoordToLine(t,e);e=JSM.CoordSignedDistance(i.origo,n,o);var a=JSM.VectorNormalize(i.e1);return t=JSM.CoordSub(t,n),o=JSM.GetVectorsFullAngle(t,a,o),i=JSM.VectorLength(i.e1),r.x=o*i,r.y=e,[r,o]},JSM.CalculatePolygonPlanarTextureCoords=function(t,e){var i,r,o=[],n=t.GetPolygon(e),a=t.GetTextureProjectionCoords();for(i=0;i<n.VertexIndexCount();i++)r=t.GetVertexPosition(n.GetVertexIndex(i)),o.push(JSM.CalculatePlanarTextureCoord(r,a));return o},JSM.CalculatePolygonCubicTextureCoords=function(t,e,i){var r=[];e=t.GetPolygon(e);var o,n,a=t.GetTextureProjectionCoords();for(o=0;o<e.VertexIndexCount();o++)n=t.GetVertexPosition(e.GetVertexIndex(o)),r.push(JSM.CalculateCubicTextureCoord(n,i,a));return r},JSM.CalculatePolygonCylindricalTextureCoords=function(t,e,i){var r=[],o=[],n=t.GetPolygon(e);e=t.GetTextureProjectionCoords();var a,s;for(a=0;a<n.VertexIndexCount();a++)s=t.GetVertexPosition(n.GetVertexIndex(a)),s=JSM.CalculateCylindricalTextureCoord(s,i,e),r.push(s[0]),o.push(s[1]);if(a=JSM.VectorNormalize(e.e3),JSM.VectorsAreCollinear(a,i))return r;for(t=!1,a=0;a<o.length;a++){for(i=a+1;i<o.length;i++)if(JSM.IsGreater(Math.abs(o[a]-o[i]),Math.PI)){t=!0;break}if(t)break}if(t)for(e=JSM.VectorLength(e.e1),a=0;a<o.length;a++)JSM.IsLower(o[a],Math.PI)&&(r[a].x=e*(o[a]+2*Math.PI));return r},JSM.CalculateBodyPlanarTextureCoords=function(t){var e,i=[];for(e=0;e<t.PolygonCount();e++)i.push(JSM.CalculatePolygonPlanarTextureCoords(t,e));return i},JSM.CalculateBodyCubicTextureCoords=function(t){var e,i,r=[],o=JSM.CalculateBodyPolygonNormals(t);for(e=0;e<t.PolygonCount();e++)i=o[e],r.push(JSM.CalculatePolygonCubicTextureCoords(t,e,i));return r},JSM.CalculateBodyCylindricalTextureCoords=function(t){var e,i,r=[],o=JSM.CalculateBodyPolygonNormals(t);for(e=0;e<t.PolygonCount();e++)i=o[e],r.push(JSM.CalculatePolygonCylindricalTextureCoords(t,e,i));return r},JSM.CalculateBodyTextureCoords=function(t){var e=[],i=t.GetTextureProjectionType();return"Planar"===i?e=JSM.CalculateBodyPlanarTextureCoords(t):"Cubic"===i?e=JSM.CalculateBodyCubicTextureCoords(t):"Cylindrical"===i&&(e=JSM.CalculateBodyCylindricalTextureCoords(t)),e},JSM.CutBodyByPlane=function(t,e){function i(t,e,i){function r(t){m.push(new JSM.Coord(s.x,s.y,s.z)),g.push(t)}function o(i,r){p=JSM.VectorNormalize(JSM.CoordSub(t[r],t[i])),f=new JSM.Line(t[i],p),_=JSM.LinePlaneIntersection(f,e),m.push(new JSM.Coord(_.x,_.y,_.z)),g.push(-1)}var n,a,s,l=void 0!==i&&null!==i,c=t.length,h=[],u=[],d=!1;for(n=0;c>n;n++)s=t[n],a=JSM.CoordPlanePosition(s,e),u.push("CoordAtBackOfPlane"!==a),n>0&&u[n-1]!==u[n]&&(d=!0);if(!d){if(!1===u[0])return h;for(n=0;c>n;n++)s=t[n],h.push(new JSM.Coord(s.x,s.y,s.z)),l&&i.push(n);return h}var p,f,_,m=[],g=[];for(n=0;c>n;n++)d=n-1,a=n,0===n&&(d=c-1),s=t[a],u[a]?(u[d]||o(d,a),r(a)):u[d]&&o(d,a);for(n=0;n<m.length;n++)c=m[n],u=h[h.length-1],0!==n&&JSM.CoordIsEqual(u,c)?l&&(c=g[n],u=g[n-1],-1!==c?i[i.length-1]=c:-1!==u&&(i[i.length-1]=u)):(h.push(new JSM.Coord(c.x,c.y,c.z)),l&&(c=g[n],i.push(c)));return h}function r(t){var e,i=-1;for(e=_;e<c.VertexCount();e++)if(JSM.CoordIsEqual(c.GetVertexPosition(e),t)){i=e;break}return-1===i&&(i=c.AddVertex(new JSM.BodyVertex(new JSM.Coord(t.x,t.y,t.z)))),i}var o,n,a,s,l,c=new JSM.Body,h=[],u=[],d=[],p=[];for(o=0;o<t.PolygonCount();o++){for(a=t.GetPolygon(o),s=[],n=0;n<a.VertexIndexCount();n++)l=t.GetVertexPosition(a.GetVertexIndex(n)),s.push(new JSM.Coord(l.x,l.y,l.z));for(l=[],s=i(s,e,l),n=0;n<l.length;n++)-1!==l[n]&&(d[a.GetVertexIndex(l[n])]=!0);h.push(s),u.push(l)}var f;for(o=0;o<t.VertexCount();o++)d[o]&&(f=t.GetVertexPosition(o),p[o]=c.AddVertex(new JSM.BodyVertex(new JSM.Coord(f.x,f.y,f.z))));var _=c.VertexCount();for(o=0;o<t.PolygonCount();o++)if(a=t.GetPolygon(o),s=h[o],l=u[o],0!==l.length){for(d=[],n=0;n<l.length;n++)-1!==l[n]?d.push(p[a.GetVertexIndex(l[n])]):(f=s[n],d.push(r(f)));n=new JSM.BodyPolygon(d),n.InheritAttributes(a),c.AddPolygon(n)}return c},JSM.GenerateRectangle=function(t,e){var i=new JSM.Body,r=t/2,o=e/2;return i.AddVertex(new JSM.BodyVertex(new JSM.Coord(-r,-o,0))),i.AddVertex(new JSM.BodyVertex(new JSM.Coord(r,-o,0))),i.AddVertex(new JSM.BodyVertex(new JSM.Coord(r,o,0))),i.AddVertex(new JSM.BodyVertex(new JSM.Coord(-r,o,0))),i.AddPolygon(new JSM.BodyPolygon([0,1,2,3])),i.SetCubicTextureProjection(new JSM.Coord(-r,-o,0),new JSM.Coord(1,0,0),new JSM.Coord(0,1,0),new JSM.Coord(0,0,1)),i},JSM.GenerateCuboid=function(t,e,i){var r=new JSM.Body;return t/=2,e/=2,i/=2,r.AddVertex(new JSM.BodyVertex(new JSM.Coord(-t,-e,-i))),r.AddVertex(new JSM.BodyVertex(new JSM.Coord(t,-e,-i))),r.AddVertex(new JSM.BodyVertex(new JSM.Coord(t,-e,i))),r.AddVertex(new JSM.BodyVertex(new JSM.Coord(-t,-e,i))),r.AddVertex(new JSM.BodyVertex(new JSM.Coord(-t,e,-i))),r.AddVertex(new JSM.BodyVertex(new JSM.Coord(t,e,-i))),r.AddVertex(new JSM.BodyVertex(new JSM.Coord(t,e,i))),r.AddVertex(new JSM.BodyVertex(new JSM.Coord(-t,e,i))),r.AddPolygon(new JSM.BodyPolygon([0,1,2,3])),r.AddPolygon(new JSM.BodyPolygon([1,5,6,2])),r.AddPolygon(new JSM.BodyPolygon([5,4,7,6])),r.AddPolygon(new JSM.BodyPolygon([4,0,3,7])),r.AddPolygon(new JSM.BodyPolygon([0,4,5,1])),r.AddPolygon(new JSM.BodyPolygon([3,2,6,7])),r.SetCubicTextureProjection(new JSM.Coord(-t,-e,-i),new JSM.Coord(1,0,0),new JSM.Coord(0,1,0),new JSM.Coord(0,0,1)),r},JSM.GenerateCuboidSides=function(t,e,i,r){var o=new JSM.Body;return t/=2,e/=2,i/=2,o.AddVertex(new JSM.BodyVertex(new JSM.Coord(-t,-e,-i))),o.AddVertex(new JSM.BodyVertex(new JSM.Coord(t,-e,-i))),o.AddVertex(new JSM.BodyVertex(new JSM.Coord(t,-e,i))),o.AddVertex(new JSM.BodyVertex(new JSM.Coord(-t,-e,i))),o.AddVertex(new JSM.BodyVertex(new JSM.Coord(-t,e,-i))),o.AddVertex(new JSM.BodyVertex(new JSM.Coord(t,e,-i))),o.AddVertex(new JSM.BodyVertex(new JSM.Coord(t,e,i))),o.AddVertex(new JSM.BodyVertex(new JSM.Coord(-t,e,i))),r[0]&&o.AddPolygon(new JSM.BodyPolygon([0,1,2,3])),r[1]&&o.AddPolygon(new JSM.BodyPolygon([1,5,6,2])),r[2]&&o.AddPolygon(new JSM.BodyPolygon([5,4,7,6])),r[3]&&o.AddPolygon(new JSM.BodyPolygon([4,0,3,7])),r[4]&&o.AddPolygon(new JSM.BodyPolygon([0,4,5,1])),r[5]&&o.AddPolygon(new JSM.BodyPolygon([3,2,6,7])),o.SetCubicTextureProjection(new JSM.Coord(-t,-e,-i),new JSM.Coord(1,0,0),new JSM.Coord(0,1,0),new JSM.Coord(0,0,1)),o},JSM.GenerateSegmentedRectangle=function(t,e,i,r){var o=new JSM.Body,n=t/2,a=e/2,s=t/i,l=e/r;return function(){var t,e,c;for(t=0;r>=t;t++)for(e=0;i>=e;e++)c=new JSM.Coord(e*s-n,t*l-a,0),o.AddVertex(new JSM.BodyVertex(c))}(),function(){var t,e,n,a,s,l;for(e=0;r>e;e++)for(t=0;i>t;t++)n=e*(i+1)+t,a=n+1,s=n+i+1,l=s+1,o.AddPolygon(new JSM.BodyPolygon([n,a,l,s]))}(),o},JSM.GenerateSegmentedCuboid=function(t,e,i,r){function o(t){var e=0;return t>0&&r>=t&&(e=(r+1)*(r+1)+4*(t-1)*r),e}function n(t){var e=[],i=o(t);if(0===t||t===r){for(t=0;r>=t;t++)e.push(i+t);for(t=1;r>=t;t++)e.push(i+(t+1)*r+t);for(t=r-1;t>=0;t--)e.push(i+(r+1)*r+t);for(t=r-1;t>0;t--)e.push(i+t*(r+1))}else if(t>0&&r>t){for(t=0;r>=t;t++)e.push(i+t);for(t=1;r>t;t++)e.push(i+r+2*t);for(t=r;t>=0;t--)e.push(i+3*r+t-1);for(t=r-1;t>0;t--)e.push(i+r+2*t-1)}return e}function a(t){var e,i,o=t*f;if(0===t||t===r)for(t=0;r>=t;t++)for(e=0;r>=e;e++)i=new JSM.Coord(e*d-c,t*p-h,o-u),l.AddVertex(new JSM.BodyVertex(i));else if(t>0&&r>t)for(t=0;r>=t;t++)for(e=0;r>=e;e++)(0===t||t===r||0===e||e===r)&&(i=new JSM.Coord(e*d-c,t*p-h,o-u),l.AddVertex(new JSM.BodyVertex(i)))}function s(t){var e,i,n,a,s,c;if(0===t||t===r){var h=o(t);for(e=0;r>e;e++)for(i=0;r>i;i++)n=h+e*(r+1)+i,a=n+1,s=n+r+1,c=s+1,l.AddPolygon(0===t?new JSM.BodyPolygon([n,s,c,a]):new JSM.BodyPolygon([n,a,c,s]))}if(t>0&&r>=t)for(i=_[t-1],t=_[t],e=0;4*r>e;e++)n=i[e],s=t[e],4*r-1>e?(a=i[e+1],c=t[e+1]):(a=i[0],c=t[0]),l.AddPolygon(new JSM.BodyPolygon([n,a,c,s]))}var l=new JSM.Body,c=t/2,h=e/2,u=i/2,d=t/r,p=e/r,f=i/r;for(t=0;r>=t;t++)a(t);var _=[];for(t=0;r>=t;t++)_.push(n(t));for(t=0;r>=t;t++)s(t);return l},JSM.GenerateCircle=function(t,e){var i,r=new JSM.Body,o=JSM.GenerateCirclePoints(t,e);for(i=0;i<o.length;i++)r.AddVertex(new JSM.BodyVertex(o[i]));for(o=new JSM.BodyPolygon([]),i=0;e>i;i++)o.AddVertexIndex(i);return r.AddPolygon(o),r.SetCylindricalTextureProjection(new JSM.Coord(0,0,0),t,new JSM.Coord(1,0,0),new JSM.Coord(0,0,1)),r},JSM.GenerateSphere=function(t,e,i){var r,o,n,a=new JSM.Body,s=2*e,l=a.AddVertex(new JSM.BodyVertex(JSM.SphericalToCartesian(t,0,0))),c=Math.PI/e,h=c;for(r=1;e>r;r++){for(o=n=0;s>o;o++)a.AddVertex(new JSM.BodyVertex(JSM.SphericalToCartesian(t,h,n))),n+=c;h+=c}t=a.AddVertex(new JSM.BodyVertex(JSM.SphericalToCartesian(-t,0,0)));var u,d;for(r=1;e>=r;r++)if(1===r)for(c=1,o=0;s>o;o++)h=c+o,n=h+1,o===s-1&&(n=c),h=new JSM.BodyPolygon([h,n,l]),i&&h.SetCurveGroup(0),a.AddPolygon(h);else if(e>r)for(c=(r-1)*s+1,o=0;s>o;o++)h=c+o,n=h+1,u=h-s,d=u+1,o===s-1&&(n=c,d=c-s),h=new JSM.BodyPolygon([h,n,d,u]),i&&h.SetCurveGroup(0),a.AddPolygon(h);else if(r===e)for(c=(r-2)*s+1,o=0;s>o;o++)h=c+o,n=h+1,o===s-1&&(n=c),h=new JSM.BodyPolygon([h,t,n]),i&&h.SetCurveGroup(0),a.AddPolygon(h);return a.SetCubicTextureProjection(new JSM.Coord(0,0,0),new JSM.Coord(1,0,0),new JSM.Coord(0,1,0),new JSM.Coord(0,0,1)),a},JSM.GenerateTriangulatedSphere=function(t,e,i){var r;r=new JSM.Body;var o=(1+Math.sqrt(5))/2;JSM.AddVertexToBody(r,0,1,+o),JSM.AddVertexToBody(r,0,1,-o),JSM.AddVertexToBody(r,0,-1,+o),JSM.AddVertexToBody(r,0,-1,-o),JSM.AddVertexToBody(r,1,+o,0),JSM.AddVertexToBody(r,1,-o,0),JSM.AddVertexToBody(r,-1,+o,0),JSM.AddVertexToBody(r,-1,-o,0),JSM.AddVertexToBody(r,+o,0,1),JSM.AddVertexToBody(r,-o,0,1),JSM.AddVertexToBody(r,+o,0,-1),JSM.AddVertexToBody(r,-o,0,-1),JSM.AddPolygonToBody(r,[0,2,8]),JSM.AddPolygonToBody(r,[0,4,6]),JSM.AddPolygonToBody(r,[0,6,9]),JSM.AddPolygonToBody(r,[0,8,4]),JSM.AddPolygonToBody(r,[0,9,2]),JSM.AddPolygonToBody(r,[1,3,11]),JSM.AddPolygonToBody(r,[1,4,10]),JSM.AddPolygonToBody(r,[1,6,4]),JSM.AddPolygonToBody(r,[1,10,3]),JSM.AddPolygonToBody(r,[1,11,6]),JSM.AddPolygonToBody(r,[2,5,8]),JSM.AddPolygonToBody(r,[2,7,5]),JSM.AddPolygonToBody(r,[2,9,7]),JSM.AddPolygonToBody(r,[3,5,7]),JSM.AddPolygonToBody(r,[3,7,11]),JSM.AddPolygonToBody(r,[3,10,5]),JSM.AddPolygonToBody(r,[4,8,10]),JSM.AddPolygonToBody(r,[6,11,9]),JSM.AddPolygonToBody(r,[5,10,8]),JSM.AddPolygonToBody(r,[7,9,11]);for(var n,a,o=JSM.VectorLength(r.GetVertexPosition(0)),s=t/o,o=0;o<r.VertexCount();o++)a=r.GetVertex(o),a.SetPosition(JSM.VectorMultiply(a.GetPosition(),s));for(var l,c,h,u,s=0;e>s;s++){for(n=r,r=new JSM.Body,a=JSM.CalculateAdjacencyInfo(n),o=0;o<a.verts.length;o++)l=n.GetVertexPosition(o),JSM.AddVertexToBody(r,l.x,l.y,l.z);for(l=[],o=0;o<a.edges.length;o++)c=a.edges[o],c=JSM.MidCoord(n.GetVertexPosition(c.vert1),n.GetVertexPosition(c.vert2)),c=JSM.VectorMultiply(JSM.VectorNormalize(c),t),l.push(r.AddVertex(new JSM.BodyVertex(c)));for(o=0;o<a.pgons.length;o++){for(c=a.pgons[o],h=[],n=0;n<c.pedges.length;n++)u=c.pedges[n],h.push(JSM.GetPolyEdgeStartVertex(u,a)),h.push(l[u.index]);JSM.AddPolygonToBody(r,[h[0],h[1],h[5]]),JSM.AddPolygonToBody(r,[h[1],h[2],h[3]]),JSM.AddPolygonToBody(r,[h[3],h[4],h[5]]),JSM.AddPolygonToBody(r,[h[1],h[3],h[5]])}}if(i)for(o=0;o<r.PolygonCount();o++)r.GetPolygon(o).SetCurveGroup(0);return r.SetCubicTextureProjection(new JSM.Coord(0,0,0),new JSM.Coord(1,0,0),new JSM.Coord(0,1,0),new JSM.Coord(0,0,1)),r},JSM.GenerateCylinder=function(t,e,i,r,o){var n,a=new JSM.Body,s=2*Math.PI,l=2*Math.PI/i;for(n=0;i>n;n++)a.AddVertex(new JSM.BodyVertex(JSM.CylindricalToCartesian(t,e/2,s))),a.AddVertex(new JSM.BodyVertex(JSM.CylindricalToCartesian(t,-e/2,s))),s-=l;for(n=0;i>n;n++)s=2*n,l=s+2,n===i-1&&(l=0),s=new JSM.BodyPolygon([s,l,l+1,s+1]),o&&s.SetCurveGroup(0),a.AddPolygon(s);if(r){for(r=new JSM.BodyPolygon([]),o=new JSM.BodyPolygon([]),n=0;i>n;n++)r.AddVertexIndex(2*(i-n-1)),o.AddVertexIndex(2*n+1);a.AddPolygon(r),a.AddPolygon(o)}return a.SetCylindricalTextureProjection(new JSM.Coord(0,0,-(e/2)),t,new JSM.Coord(1,0,0),new JSM.Coord(0,0,1)),a},JSM.GeneratePie=function(t,e,i,r,o,n){var a=new JSM.Body,s=i,l=i/(r-1);for(a.AddVertex(new JSM.BodyVertex(JSM.CylindricalToCartesian(0,e/2,0))),a.AddVertex(new JSM.BodyVertex(JSM.CylindricalToCartesian(0,-e/2,0))),i=0;r>i;i++)a.AddVertex(new JSM.BodyVertex(JSM.CylindricalToCartesian(t,e/2,s))),a.AddVertex(new JSM.BodyVertex(JSM.CylindricalToCartesian(t,-e/2,s))),s-=l;for(i=0;r>=i;i++)s=2*i,l=s+2,i===r&&(l=0),s=new JSM.BodyPolygon([s,l,l+1,s+1]),n&&i>0&&r>i&&s.SetCurveGroup(0),a.AddPolygon(s);if(o){for(o=new JSM.BodyPolygon([]),n=new JSM.BodyPolygon([]),i=0;r>=i;i++)o.AddVertexIndex(2*(r-i)),n.AddVertexIndex(2*i+1);a.AddPolygon(o),a.AddPolygon(n)}return a.SetCylindricalTextureProjection(new JSM.Coord(0,0,-(e/2)),t,new JSM.Coord(1,0,0),new JSM.Coord(0,0,1)),a},JSM.GenerateCone=function(t,e,i,r,o,n){var a=new JSM.Body,s=JSM.IsZero(t),l=JSM.IsZero(e),c=2*Math.PI,h=2*Math.PI/r;s&&a.AddVertex(new JSM.BodyVertex(JSM.CylindricalToCartesian(0,i/2,0)));var u;for(u=0;r>u;u++)s||a.AddVertex(new JSM.BodyVertex(JSM.CylindricalToCartesian(t,i/2,c))),l||a.AddVertex(new JSM.BodyVertex(JSM.CylindricalToCartesian(e,-i/2,c))),c-=h;for(l&&a.AddVertex(new JSM.BodyVertex(JSM.CylindricalToCartesian(0,-i/2,0))),u=0;r>u;u++)s?(c=u+1,h=c+1,u===r-1&&(h=1),c=new JSM.BodyPolygon([0,h,c])):l?(c=u,h=c+1,u===r-1&&(h=0),c=new JSM.BodyPolygon([c,h,r])):(c=2*u,h=c+2,u===r-1&&(h=0),c=new JSM.BodyPolygon([c,h,h+1,c+1])),n&&c.SetCurveGroup(0),a.AddPolygon(c);if(o)if(s){for(n=new JSM.BodyPolygon([]),u=0;r>u;u++)n.AddVertexIndex(u+1);a.AddPolygon(n)}else if(l){for(o=new JSM.BodyPolygon([]),u=0;r>u;u++)o.AddVertexIndex(r-u-1);a.AddPolygon(o)}else{for(o=new JSM.BodyPolygon([]),n=new JSM.BodyPolygon([]),u=0;r>u;u++)o.AddVertexIndex(2*(r-u-1)),n.AddVertexIndex(2*u+1);a.AddPolygon(o),a.AddPolygon(n)}return a.SetCylindricalTextureProjection(new JSM.Coord(0,0,-(i/2)),(t+e)/2,new JSM.Coord(1,0,0),new JSM.Coord(0,0,1)),a},JSM.GeneratePrism=function(t,e,i,r){var o,n=new JSM.Body,a=t.length;for(o=0;a>o;o++)n.AddVertex(new JSM.BodyVertex(t[o])),n.AddVertex(new JSM.BodyVertex(JSM.CoordOffset(t[o],e,i)));var s;for(o=0;a>o;o++)i=2*o,s=i+2,o===a-1&&(s=0),n.AddPolygon(new JSM.BodyPolygon([i,s,s+1,i+1]));if(r){for(r=new JSM.BodyPolygon([]),i=new JSM.BodyPolygon([]),o=0;a>o;o++)r.AddVertexIndex(2*o+1),i.AddVertexIndex(2*(a-o-1));n.AddPolygon(r),n.AddPolygon(i)}return a=JSM.VectorNormalize(JSM.CoordSub(t[1],t[0])),t=new JSM.Coord(t[0].x,t[0].y,t[0].z),e=JSM.VectorNormalize(e),a=JSM.VectorCross(e,a),o=JSM.VectorCross(a,e),n.SetCubicTextureProjection(t,o,a,e),n},JSM.GenerateCurvedPrism=function(t,e,i,r,o){if(i=JSM.GeneratePrism(t,i,r,o),void 0===e||null===e||t.length!=e.length)return i;for(r=0;r<t.length;r++)o=e[r],i.GetPolygon(r).SetCurveGroup(o);return i},JSM.GeneratePrismWithHole=function(t,e,i,r){function o(){var e,i=0,r=[];for(e=0;e<t.length;e++)null===t[e]&&(i+=1),r.push(e-i);var o,i=JSM.CreatePolygonWithHole(t),a=new JSM.Polygon;for(e=0;e<i.length;e++)o=t[i[e]],a.AddVertex(o.x,o.y,o.z);o=JSM.PolygonTriangulate(a);var s,l,c;for(e=0;e<o.length;e++){for(s=o[e],l=new JSM.BodyPolygon([]),c=new JSM.BodyPolygon([]),a=0;3>a;a++)l.AddVertexIndex(2*r[i[s[a]]]+1),c.AddVertexIndex(2*r[i[s[3-a-1]]]);n.AddPolygon(l),n.AddPolygon(c)}}var n=new JSM.Body;!function(){var r;for(r=0;r<t.length;r++)null!==t[r]&&(n.AddVertex(new JSM.BodyVertex(t[r])),n.AddVertex(new JSM.BodyVertex(JSM.CoordOffset(t[r],e,i))))}(),function(){var e=0,i=[];i.push(0);var r;for(r=0;r<t.length;r++)null===t[r]&&(i.push(r-e),e+=1);for(i.push(r-e),e=0;e<i.length-1;e++){var o=r=void 0,a=void 0,s=i[e],l=i[e+1];for(r=s;l>r;r++)o=2*r,a=o+2,r===l-1&&(a=2*s),n.AddPolygon(new JSM.BodyPolygon([o,a,a+1,o+1]))}}(),r&&o();var a=JSM.VectorNormalize(JSM.CoordSub(t[1],t[0]));r=new JSM.Coord(t[0].x,t[0].y,t[0].z);var s=JSM.VectorNormalize(e),a=JSM.VectorCross(s,a),l=JSM.VectorCross(a,s);return n.SetCubicTextureProjection(r,l,a,s),n},JSM.GenerateCurvedPrismWithHole=function(t,e,i,r,o){if(i=JSM.GeneratePrismWithHole(t,i,r,o),void 0===e||null===e||t.length!=e.length)return i;r=0;var n;for(o=0;o<t.length;o++)n=e[o],null!==n&&(i.GetPolygon(r).SetCurveGroup(n),r++);return i},JSM.GeneratePrismShell=function(t,e,i,r,o){var n,a=new JSM.Body,s=t.length;for(n=0;s>n;n++)a.AddVertex(new JSM.BodyVertex(t[n]));for(n=new JSM.Polygon,n.vertices=t,r=JSM.OffsetPolygonContour(n,r).vertices,n=0;s>n;n++)a.AddVertex(new JSM.BodyVertex(r[n]));var l;for(n=0;s>n;n++)l=JSM.CoordOffset(t[n],e,i),a.AddVertex(new JSM.BodyVertex(l));for(n=0;s>n;n++)l=JSM.CoordOffset(r[n],e,i),a.AddVertex(new JSM.BodyVertex(l));var c;for(n=0;s>n;n++)i=n,r=i+1,l=i+2*s,c=l+1,n===s-1&&(r=0,c=2*s),a.AddPolygon(new JSM.BodyPolygon([i,r,c,l])),a.AddPolygon(new JSM.BodyPolygon([i+s,l+s,c+s,r+s]));if(o)for(n=0;s>n;n++)i=n,r=i+1,l=n+s,c=l+1,n===s-1&&(r=0,c=s),a.AddPolygon(new JSM.BodyPolygon([i,l,c,r])),a.AddPolygon(new JSM.BodyPolygon([i+2*s,r+2*s,c+2*s,l+2*s]));return o=JSM.VectorNormalize(JSM.CoordSub(t[1],t[0])),t=new JSM.Coord(t[0].x,t[0].y,t[0].z),e=JSM.VectorNormalize(e),o=JSM.VectorCross(e,o),s=JSM.VectorCross(o,e),a.SetCubicTextureProjection(t,s,o,e),a},JSM.GenerateCylinderShell=function(t,e,i,r,o,n){for(var a,s=new JSM.Vector(0,0,1),l=-e/2,c=[],h=2*Math.PI/r,u=0,u=0;r>u;u++)a=u*h,a=JSM.PolarToCartesian(t,a),c.push(new JSM.Coord(a.x,a.y,l));if(t=JSM.GeneratePrismShell(c,s,e,i,o),n)for(n=0;r>n;n++)t.GetPolygon(2*n).SetCurveGroup(0),t.GetPolygon(2*n+1).SetCurveGroup(0);return t},JSM.GenerateLineShell=function(t,e,i,r,o,n){var a,s,l,c,h,u,d=new JSM.Body,p=t.length,f=[];for(a=0;p>a;a++)0===a||a===p-1?h=Math.PI/2:(s=a-1,l=a,c=a+1,u=JSM.CoordSub(t[c],t[l]),h=JSM.CoordSub(t[s],t[l]),h=JSM.GetVectorsAngle(u,h)/2,"Clockwise"===JSM.CoordTurnType(t[s],t[l],t[c],e)&&(h=Math.PI-h)),f.push(h);u=new JSM.Vector(0,0,1),s=[];var _;for(a=0;p>a;a++)l=a,a===p-1?_=JSM.CoordSub(t[l-1],t[l]):(c=(a+1)%p,_=JSM.CoordSub(t[l],t[c])),h=f[l],c=r/Math.sin(h),c=JSM.CoordOffset(t[l],_,c),c=JSM.CoordRotate(c,u,-(Math.PI-h),t[l]),s.push(c);for(a=0;p>a;a++)d.AddVertex(new JSM.BodyVertex(t[a]));for(a=0;p>a;a++)d.AddVertex(new JSM.BodyVertex(s[a]));for(a=0;p>a;a++)l=JSM.CoordOffset(t[a],e,i),d.AddVertex(new JSM.BodyVertex(l));for(a=0;p>a;a++)l=JSM.CoordOffset(s[a],e,i),d.AddVertex(new JSM.BodyVertex(l));for(a=0;p-1>a;a++)l=a,c=l+1,i=l+2*p,r=i+1,d.AddPolygon(new JSM.BodyPolygon([l,c,r,i])),d.AddPolygon(new JSM.BodyPolygon([l+p,i+p,r+p,c+p]));if(o&&(l=0,d.AddPolygon(new JSM.BodyPolygon([l,l+2*p,l+3*p,l+p])),l=p-1,d.AddPolygon(new JSM.BodyPolygon([l,l+p,l+3*p,l+2*p]))),n)for(a=0;p-1>a;a++)l=a,c=l+1,i=a+p,r=i+1,d.AddPolygon(new JSM.BodyPolygon([l,i,r,c])),d.AddPolygon(new JSM.BodyPolygon([l+2*p,c+2*p,r+2*p,i+2*p]));return o=JSM.VectorNormalize(JSM.CoordSub(t[1],t[0])),t=new JSM.Coord(t[0].x,t[0].y,t[0].z),e=JSM.VectorNormalize(e),o=JSM.VectorCross(e,o),n=JSM.VectorCross(o,e),d.SetCubicTextureProjection(t,n,o,e),d},JSM.GenerateTorus=function(t,e,i,r,o){var n,a,s=new JSM.Body,l=0,c=2*Math.PI/r,h=[];for(n=0;r>n;n++)a=JSM.PolarToCartesian(e,l),a=new JSM.Coord(a.x+t,0,a.y),h.push(a),l+=c;for(e=new JSM.Coord(0,0,1),l=new JSM.Coord(0,0,0),c=2*Math.PI/i,n=0;i>n;n++)for(t=0;r>t;t++)a=JSM.CoordRotate(h[t],e,n*c,l),s.AddVertex(new JSM.BodyVertex(a));for(n=0;i>n;n++)for(new JSM.BodyPolygon([]),t=0;r>t;t++)c=n*r+t,e=c+r,h=c+1,l=e+1,t===r-1&&(h=n*r,l=(n+1)*r),n===i-1&&(e=t,l=t+1,t===r-1&&(l=0)),c=new JSM.BodyPolygon([c,e,l,h]),o&&c.SetCurveGroup(0),s.AddPolygon(c);return s.SetCubicTextureProjection(new JSM.Coord(0,0,0),new JSM.Coord(1,0,0),new JSM.Coord(0,1,0),new JSM.Coord(0,0,1)),s},JSM.GeneratePolyTorus=function(t,e,i,r){var o,n=new JSM.Body,a=t.length,s=2*Math.PI/a,l=[];for(o=0;a>o;o++)s=t[o],s=new JSM.Coord(s.x+e,0,s.y),l.push(s);e=new JSM.Coord(0,0,1);var c,h=new JSM.Coord(0,0,0),s=2*Math.PI/i;for(o=0;i>o;o++)for(t=0;a>t;t++)c=JSM.CoordRotate(l[t],e,o*s,h),n.AddVertex(new JSM.BodyVertex(c));for(o=0;i>o;o++)for(new JSM.BodyPolygon([]),t=0;a>t;t++)l=o*a+t,e=l+a,s=l+1,h=e+1,t===a-1&&(s=o*a,h=(o+1)*a),o===i-1&&(e=t,h=t+1,t===a-1&&(h=0)),l=new JSM.BodyPolygon([l,e,h,s]),r&&l.SetCurveGroup(t),n.AddPolygon(l);return n.SetCubicTextureProjection(new JSM.Coord(0,0,0),new JSM.Coord(1,0,0),new JSM.Coord(0,1,0),new JSM.Coord(0,0,1)),n},JSM.GenerateRuledFromSectors=function(t,e,i,r,o){var n=new JSM.Body,a=[],s=[];for(JSM.GetSectorSegmentation(t,i,a),JSM.GetSectorSegmentation(e,i,s),e=[],t=[],JSM.GetRuledMesh(a,s,r,e,t),r=0;r<e.length;r++)n.AddVertex(new JSM.BodyVertex(e[r]));for(r=0;r<t.length;r++)a=t[r],a=new JSM.BodyPolygon(a),o&&a.SetCurveGroup(0),n.AddPolygon(a);return n.SetCubicTextureProjection(new JSM.Coord(0,0,0),new JSM.Coord(1,0,0),new JSM.Coord(0,1,0),new JSM.Coord(0,0,1)),n},JSM.GenerateGrid=function(t,e,i,r,o){var n=new JSM.Sector(new JSM.Coord(0,0,0),new JSM.Coord(t,0,0));return t=new JSM.Sector(new JSM.Coord(0,e,0),new JSM.Coord(t,e,0)),JSM.GenerateRuledFromSectors(n,t,i,r,o)},JSM.GenerateSquareGrid=function(t,e,i){return JSM.GenerateGrid(t,t,e,e,i)},JSM.GenerateRuledFromSectorsWithHeight=function(t,e,i,r,o,n){var a=new JSM.Body,s=[],l=[];for(JSM.GetSectorSegmentation(t,i,s),JSM.GetSectorSegmentation(e,i,l),e=[],t=[],JSM.GetRuledMesh(s,l,r,e,t),s=0;s<e.length;s++)a.AddVertex(new JSM.BodyVertex(e[s]));for(var c,s=0;s<t.length;s++)c=t[s],c=new JSM.BodyPolygon(c),o&&c.SetCurveGroup(0),a.AddPolygon(c);for(l=a.VertexCount(),s=0;s<e.length;s++)c=e[s],c=new JSM.Coord(c.x,c.y,c.z),c.z-=n,a.AddVertex(new JSM.BodyVertex(c));for(s=0;s<t.length;s++){for(c=t[s],e=[],n=c.length-1;n>=0;n--)e.push(c[n]+l);c=new JSM.BodyPolygon(e),o&&c.SetCurveGroup(0),a.AddPolygon(c)}for(s=0;r>s;s++)o=s+l,n=o+1,t=o-l,e=t+1,c=new JSM.BodyPolygon([o,n,e,t]),a.AddPolygon(c);for(s=0;r>s;s++)o=s+i*(r+1)+l,n=o+1,t=o-l,e=t+1,c=new JSM.BodyPolygon([o,t,e,n]),a.AddPolygon(c);for(s=0;i>s;s++)o=s*(r+1)+l,n=o+r+1,t=o-l,e=t+r+1,c=new JSM.BodyPolygon([o,t,e,n]),a.AddPolygon(c);for(s=0;i>s;s++)o=(s+1)*r+s+l,n=o+r+1,t=o-l,e=t+r+1,c=new JSM.BodyPolygon([o,n,e,t]),a.AddPolygon(c);return a.SetCubicTextureProjection(new JSM.Coord(0,0,0),new JSM.Coord(1,0,0),new JSM.Coord(0,1,0),new JSM.Coord(0,0,1)),a},JSM.GenerateRuledFromCoords=function(t,e,i,r){var o=new JSM.Body,n=[],a=[];for(JSM.GetRuledMesh(t,e,i,n,a),t=0;t<n.length;t++)o.AddVertex(new JSM.BodyVertex(n[t]));for(t=0;t<a.length;t++)n=a[t],n=new JSM.BodyPolygon(n),r&&n.SetCurveGroup(0),o.AddPolygon(n);return o.SetCubicTextureProjection(new JSM.Coord(0,0,0),new JSM.Coord(1,0,0),new JSM.Coord(0,1,0),new JSM.Coord(0,0,1)),o},JSM.GenerateRevolved=function(t,e,i,r,o,n){var a=new JSM.Body,s=JSM.IsEqual(i,2*Math.PI),l=t.length,c=i/r;i=JSM.CoordSub(e.end,e.beg);var h,u,d;for(h=0;l>h;h++)for(u=0;r>=u;u++)s&&u===r||(d=JSM.CoordRotate(t[h],i,u*c,e.beg),a.AddVertex(new JSM.BodyVertex(d)));
var p,f;for(h=0;l-1>h;h++)for(u=0;r>u;u++)c=h*(r+1)+u,d=c+r+1,p=c+1,f=d+1,s&&(c=h*r+u,d=c+r,p=c+1,f=d+1,u===r-1&&(p=h*r,f=(h+1)*r)),c=new JSM.BodyPolygon([c,p,f,d]),n&&c.SetCurveGroup(h),a.AddPolygon(c);if(s&&o){for(o=new JSM.BodyPolygon([]),n=new JSM.BodyPolygon([]),h=0;r>h;h++)o.AddVertexIndex(r*(l-1)+h),n.AddVertexIndex(r-h-1);a.AddPolygon(o),a.AddPolygon(n)}for(o=new JSM.Line(e.beg,JSM.VectorNormalize(i)),h=r=0;l>h;h++)n=JSM.ProjectCoordToLine(t[h],o),r+=JSM.CoordDistance(n,t[h]);return r/=l,e=new JSM.Coord(e.beg.x,e.beg.y,e.beg.z),l=JSM.VectorNormalize(i),i=new JSM.Line(e,i),i=JSM.ProjectCoordToLine(t[0],i),t=JSM.VectorNormalize(JSM.CoordSub(t[0],i)),a.SetCylindricalTextureProjection(e,r,t,l),a},JSM.GenerateTube=function(t,e){var i,r,o=new JSM.Body,n=t.length,a=t[0].length;for(r=0;a>r;r++)for(i=0;n>i;i++)o.AddVertex(new JSM.BodyVertex(t[i][r]));var s,l;for(r=0;n-1>r;r++)for(i=0;a>i;i++)s=r+n*i,l=s+n,i===a-1&&(l=r),o.AddPolygon(new JSM.BodyPolygon([s,l,l+1,s+1]));if(e){for(r=new JSM.BodyPolygon([]),s=new JSM.BodyPolygon([]),i=0;a>i;i++)r.AddVertexIndex(n*i+n-1);for(i=a-1;i>=0;i--)s.AddVertexIndex(n*i);o.AddPolygon(r),o.AddPolygon(s)}return o.SetCubicTextureProjection(new JSM.Coord(0,0,0),new JSM.Coord(1,0,0),new JSM.Coord(0,1,0),new JSM.Coord(0,0,1)),o},JSM.GenerateFunctionSurface=function(t,e,i,r,o){var n=new JSM.Sector(new JSM.Coord(e.x,e.y,0),new JSM.Coord(i.x,e.y,0));for(e=new JSM.Sector(new JSM.Coord(e.x,i.y,0),new JSM.Coord(i.x,i.y,0)),r=JSM.GenerateRuledFromSectors(n,e,r,r,o),o=0;o<r.VertexCount();o++)n=r.GetVertexPosition(o),n.z=t(n.x,n.y);return r.SetCubicTextureProjection(new JSM.Coord(0,0,0),new JSM.Coord(1,0,0),new JSM.Coord(0,1,0),new JSM.Coord(0,0,1)),r},JSM.GenerateFunctionSurfaceSolid=function(t,e,i,r,o,n){var a=new JSM.Sector(new JSM.Coord(i.x,e.y,0),new JSM.Coord(e.x,e.y,0));for(e=new JSM.Sector(new JSM.Coord(i.x,i.y,0),new JSM.Coord(e.x,i.y,0)),o=JSM.GenerateRuledFromSectorsWithHeight(a,e,r,r,o,n),a=(r+1)*(r+1),r=0;a>r;r++)n=o.GetVertexPosition(r),n.z=t(n.x,n.y);return o.SetCubicTextureProjection(new JSM.Coord(0,0,0),new JSM.Coord(1,0,0),new JSM.Coord(0,1,0),new JSM.Coord(0,0,1)),o},JSM.Camera=function(t,e,i,r,o,n){this.eye=JSM.ValueOrDefault(t,new JSM.Coord(1,1,1)),this.center=JSM.ValueOrDefault(e,new JSM.Coord(0,0,0)),this.up=JSM.ValueOrDefault(i,new JSM.Vector(0,0,1)),this.fieldOfView=JSM.ValueOrDefault(r,45),this.nearClippingPlane=JSM.ValueOrDefault(o,.1),this.farClippingPlane=JSM.ValueOrDefault(n,1e3)},JSM.Camera.prototype.Set=function(t,e,i,r,o,n){this.eye=t,this.center=e,this.up=i,this.fieldOfView=JSM.ValueOrDefault(r,45),this.nearClippingPlane=JSM.ValueOrDefault(o,.1),this.farClippingPlane=JSM.ValueOrDefault(n,1e3)},JSM.Camera.prototype.Clone=function(){var t=new JSM.Camera;return t.eye=this.eye,t.center=this.center,t.up=this.up,t.fieldOfView=this.fieldOfView,t.nearClippingPlane=this.nearClippingPlane,t.farClippingPlane=this.farClippingPlane,t},JSM.ExplodeBodyToTriangles=function(t,e,i){if(void 0===i||null===i)return!1;var r,o,n=JSM.CalculateBodyVertexNormals(t),a=!1;if(void 0!==e&&null!==e)for(r=0;r<e.Count();r++)if(null!==e.GetMaterial(r).texture){a=!0;break}var s,l;if(a)for(s=JSM.CalculateBodyTextureCoords(t),r=0;r<s.length;r++)if(o=t.GetPolygon(r),o.HasMaterialIndex())for(l=e.GetMaterial(o.GetMaterialIndex()),o=0;o<s[r].length;o++)s[r][o].x/=l.textureWidth,s[r][o].y/=-l.textureHeight;var c=!0;return void 0!==i.hasConvexPolygons&&null!==i.hasConvexPolygons&&(c=i.hasConvexPolygons),function(t,e,i,r,o){function n(n,s){var l=e.GetMaterial(s);void 0!==o.onGeometryStart&&null!==o.onGeometryStart&&o.onGeometryStart(l);var h;for(h=0;h<n.length;h++){var u=n[h],d=t.GetPolygon(u),p=d.VertexIndexCount();if(!(3>p)){var f=void 0,_=void 0,m=void 0,g=void 0,y=void 0,b=void 0,v=void 0,M=void 0,S=void 0,T=void 0;if(3==p||c)for(T=0;p-2>T;T++)f=t.GetVertex(d.GetVertexIndex(0)).position,_=t.GetVertex(d.GetVertexIndex((T+1)%p)).position,m=t.GetVertex(d.GetVertexIndex((T+2)%p)).position,g=i[u][0],y=i[u][(T+1)%p],b=i[u][(T+2)%p],S=M=v=null,a&&(v=r[u][0],M=r[u][(T+1)%p],S=r[u][(T+2)%p]),void 0!==o.onTriangle&&null!==o.onTriangle&&o.onTriangle(f,_,m,g,y,b,v,M,S);else{for(f=new JSM.Polygon,_=void 0,T=0;p>T;T++)_=t.GetVertex(d.vertices[T]),f.AddVertex(_.position.x,_.position.y,_.position.z);for(var T=JSM.CalculateBodyPolygonNormal(t,u),p=JSM.PolygonTriangulate(f,T),x=void 0,T=0;T<p.length;T++)x=p[T],f=t.GetVertex(d.GetVertexIndex(x[0])).position,_=t.GetVertex(d.GetVertexIndex(x[1])).position,m=t.GetVertex(d.GetVertexIndex(x[2])).position,g=i[u][x[0]],y=i[u][x[1]],b=i[u][x[2]],S=M=v=null,a&&(v=r[u][x[0]],M=r[u][x[1]],S=r[u][x[2]]),void 0!==o.onTriangle&&null!==o.onTriangle&&o.onTriangle(f,_,m,g,y,b,v,M,S)}}}void 0!==o.onGeometryEnd&&null!==o.onGeometryEnd&&o.onGeometryEnd(l)}var s,l=[],h=[];for((void 0===e||null===e)&&(e=new JSM.Materials),s=0;s<e.Count();s++)l[s]=[];var u;for(s=0;s<t.PolygonCount();s++)u=t.GetPolygon(s),u.HasMaterialIndex()?(u=u.GetMaterialIndex(),l[u].push(s)):h.push(s);for(s=0;s<l.length;s++)u=l[s],0!==u.length&&n(u,s);0!==h.length&&n(h,-1)}(t,e,n,s,i),!0},JSM.ExportBodyContentToStl=function(t,e,i){function r(t){a+=t+"\n"}function o(t,e,i,o){r("	facet normal "+t.x+" "+t.y+" "+t.z),r("		outer loop"),r("			vertex "+e.x+" "+e.y+" "+e.z),r("			vertex "+i.x+" "+i.y+" "+i.z),r("			vertex "+o.x+" "+o.y+" "+o.z),r("		endloop"),r("	endfacet")}function n(e){var r=t.GetPolygon(e),n=r.VertexIndexCount();if(!(3>n)){var a,s,l,c=null;if(3===n)c=JSM.CalculateBodyPolygonNormal(t,e),a=t.GetVertex(r.GetVertexIndex(0)).position,s=t.GetVertex(r.GetVertexIndex(1)).position,l=t.GetVertex(r.GetVertexIndex(2)).position,o(c,a,s,l);else if(a=!0,void 0!==i&&i&&(a=!1),c=JSM.CalculateBodyPolygonNormal(t,e),a){for(a=new JSM.Polygon,e=0;n>e;e++)s=t.GetVertex(r.vertices[e]),a.AddVertex(s.position.x,s.position.y,s.position.z);for(n=JSM.PolygonTriangulate(a,c),e=0;e<n.length;e++)l=n[e],a=t.GetVertex(r.GetVertexIndex(l[0])).position,s=t.GetVertex(r.GetVertexIndex(l[1])).position,l=t.GetVertex(r.GetVertexIndex(l[2])).position,o(c,a,s,l)}else for(e=0;n-2>e;e++)a=t.GetVertex(r.GetVertexIndex(0)).position,s=t.GetVertex(r.GetVertexIndex((e+1)%n)).position,l=t.GetVertex(r.GetVertexIndex((e+2)%n)).position,o(c,a,s,l)}}var a="";for(e=0;e<t.PolygonCount();e++)n(e);return a},JSM.ExportBodyToStl=function(t,e,i){return t=""+("solid "+e+"\n")+JSM.ExportBodyContentToStl(t,e,i),t+="endsolid "+e+"\n"},JSM.ExportModelToStl=function(t,e,i){var r;r=""+("solid "+e+"\n");var o,n;for(o=0;o<t.BodyCount();o++)n=t.GetBody(o),r+=JSM.ExportBodyContentToStl(n,e+(o+1).toString(),i);return r+("endsolid "+e+"\n")},JSM.ExportBodyContentToObj=function(t,e,i){function r(e){e=t.GetVertex(e).position,s+="v "+e.x+" "+e.y+" "+e.z+"\n"}function o(e){e=JSM.CalculateBodyPolygonNormal(t,e),s+="vn "+e.x+" "+e.y+" "+e.z+"\n"}function n(r){var o=t.GetPolygon(r);s+="f ";var n;for(n=0;n<o.VertexIndexCount();n++){var a=e+o.GetVertexIndex(n)+1+"//"+(i+r+1)+" ";s+=a}s+="\n"}var a,s="";for(a=0;a<t.VertexCount();a++)r(a);for(a=0;a<t.PolygonCount();a++)o(a);for(a=0;a<t.PolygonCount();a++)n(a);return s},JSM.ExportBodyToObj=function(t){return JSM.ExportBodyContentToObj(t,0,0)},JSM.ExportModelToObj=function(t){var e,i,r="",o=0,n=0;for(e=0;e<t.BodyCount();e++)i=t.GetBody(e),r+=JSM.ExportBodyContentToObj(i,o,n),o+=i.VertexCount(),n+=i.PolygonCount();return r},JSM.ExportMaterialsToGdl=function(t){function e(t,e){var r=JSM.HexColorToRGBComponents(t.diffuse);i+='define material "material'+e+'" 2, '+(r[0]/255+","+r[1]/255+","+r[2]/255)+" ! "+e+"\n"}var i="",r=!1;if(void 0!==t&&null!==t&&(r=!0),r)for(e(t.GetDefaultMaterial(),1),r=0;r<t.Count();r++)e(t.GetMaterial(r),r+2);return i},JSM.ExportBodyGeometryToGdl=function(t,e){function i(t){if(200<t.length){var e,i,r=0;for(e=0;e<t.length;e++)i=t[e],s+=i,r++,r>200&&","==i&&(s+="\n",r=0)}else s+=t}function r(t){i(t+"\n")}function o(e){var i=t.GetVertex(e).position;r("vert "+i.x+", "+i.y+", "+i.z+" ! "+(e+1))}function n(e){var i=c.edges[e],o=0;-1!=i.pgon1&&-1!=i.pgon2&&t.GetPolygon(i.pgon1).HasCurveGroup()&&t.GetPolygon(i.pgon2).HasCurveGroup()&&t.GetPolygon(i.pgon1).GetCurveGroup()==t.GetPolygon(i.pgon2).GetCurveGroup()&&(o=2),r("edge "+(i.vert1+1)+", "+(i.vert2+1)+", -1, -1, "+o+" ! "+(e+1))}function a(o,n){var a=-1;e&&(a=t.GetPolygon(o).GetMaterialIndex()+2,a!=n&&r('set material "material'+a+'"'));var s=c.pgons[o],l=0;t.GetPolygon(o).HasCurveGroup()&&(l=2),i("pgon "+s.pedges.length+", 0, "+l+", ");var h,u,l="";for(h=0;h<s.pedges.length;h++)u=s.pedges[h],l=u.reverse?l+-(u.index+1):l+(u.index+1),h<s.pedges.length-1&&(l+=", ");return i(l),i(" ! "+(o+1)),r(""),a}var s="";r("base");var l,c=JSM.CalculateAdjacencyInfo(t);for(l=0;l<c.verts.length;l++)o(l);for(l=0;l<c.edges.length;l++)n(l);var h=-1;for(l=0;l<c.pgons.length;l++)h=a(l,h);return r("body -1"),s},JSM.ExportBodyToGdl=function(t,e){var i="",r=!1;return void 0!==e&&null!==e&&(i+=JSM.ExportMaterialsToGdl(e),r=!0),i+=JSM.ExportBodyGeometryToGdl(t,r)},JSM.ExportModelToGdl=function(t,e){var i="",r=!1;void 0!==e&&null!==e&&(i+=JSM.ExportMaterialsToGdl(e),r=!0);var o,n;for(o=0;o<t.BodyCount();o++)n=t.GetBody(o),i+=JSM.ExportBodyGeometryToGdl(n,r);return i},JSM.TriangleBody=function(t){this.name=t,this.vertices=[],this.normals=[],this.triangles=[]},JSM.TriangleBody.prototype.SetName=function(t){this.name=t},JSM.TriangleBody.prototype.GetName=function(){return this.name},JSM.TriangleBody.prototype.AddVertex=function(t,e,i){return this.vertices.push(new JSM.Coord(t,e,i)),this.vertices.length-1},JSM.TriangleBody.prototype.GetVertex=function(t){return this.vertices[t]},JSM.TriangleBody.prototype.SetVertex=function(t,e,i,r){this.vertices[t]=new JSM.Coord(e,i,r)},JSM.TriangleBody.prototype.VertexCount=function(){return this.vertices.length},JSM.TriangleBody.prototype.AddNormal=function(t,e,i){return this.normals.push(new JSM.Coord(t,e,i)),this.normals.length-1},JSM.TriangleBody.prototype.GetNormal=function(t){return this.normals[t]},JSM.TriangleBody.prototype.NormalCount=function(){return this.normals.length},JSM.TriangleBody.prototype.AddTriangle=function(t,e,i,r,o,n,a,s,l,c,h){return this.triangles.push({v0:t,v1:e,v2:i,n0:r,n1:o,n2:n,u0:a,u1:s,u2:l,mat:c,curve:h}),this.triangles.length-1},JSM.TriangleBody.prototype.GetTriangle=function(t){return this.triangles[t]},JSM.TriangleBody.prototype.TriangleCount=function(){return this.triangles.length},JSM.TriangleBody.prototype.Finalize=function(t){function e(e,r,o,n){function a(t,e,i,r,o){var n=new JSM.Vector(0,0,0),a=0;i=t.GetTriangle(i),e=o[e];var s,l;for(o=0;o<e.length;o++)s=e[o],l=t.GetTriangle(s),i.curve==l.curve&&(n=JSM.CoordAdd(n,r[s]),a+=1);return n=JSM.VectorMultiply(n,1/a),n=JSM.VectorNormalize(n),t.AddNormal(n.x,n.y,n.z)}var s=e.triangles[i];void 0===s.mat&&(s.mat=t.AddDefaultMaterial()),(void 0===s.n0||void 0===s.n1||void 0===s.n2)&&(void 0===s.curve||0===s.curve?(r=o[i],e=e.AddNormal(r.x,r.y,r.z),s.n0=e,s.n1=e,s.n2=e):(s.n0=a(e,s.v0,r,o,n),s.n1=a(e,s.v1,r,o,n),s.n2=a(e,s.v2,r,o,n)))}var i,r=[],o={};for(i=0;i<this.vertices.length;i++)o[i]=[];var n,a;for(i=0;i<this.triangles.length;i++)n=this.triangles[i],a=JSM.CalculateTriangleNormal(this.vertices[n.v0],this.vertices[n.v1],this.vertices[n.v2]),r.push(a),o[n.v0].push(i),o[n.v1].push(i),o[n.v2].push(i);for(i=0;i<this.triangles.length;i++)e(this,i,r,o)},JSM.TriangleBody.prototype.Clone=function(){var t,e,i=new JSM.TriangleBody(this.name);for(t=0;t<this.vertices.length;t++)i.vertices.push(this.vertices[t].Clone());for(t=0;t<this.normals.length;t++)i.normals.push(this.normals[t].Clone());for(t=0;t<this.triangles.length;t++)e=this.triangles[t],i.triangles.push({v0:e.v0,v1:e.v1,v2:e.v2,n0:e.n0,n1:e.n1,n2:e.n2,u0:e.u0,u1:e.u1,u2:e.u2,mat:e.mat,curve:e.curve});return i},JSM.TriangleModel=function(){this.materials=[],this.bodies=[],this.defaultMaterial=-1},JSM.TriangleModel.prototype.AddMaterial=function(t,e,i,r,o){return this.materials.push({name:t,ambient:e,diffuse:i,specular:r,opacity:o}),this.materials.length-1},JSM.TriangleModel.prototype.GetMaterial=function(t){return this.materials[t]},JSM.TriangleModel.prototype.AddDefaultMaterial=function(){return-1==this.defaultMaterial&&(this.materials.push({name:"Default",ambient:{r:.5,g:.5,b:.5},diffuse:{r:.5,g:.5,b:.5},specular:{r:.1,g:.1,b:.1},opacity:1}),this.defaultMaterial=this.materials.length-1),this.defaultMaterial},JSM.TriangleModel.prototype.GetDefaultMaterialIndex=function(){return this.AddDefaultMaterial()},JSM.TriangleModel.prototype.MaterialCount=function(){return this.materials.length},JSM.TriangleModel.prototype.AddBody=function(t){return this.bodies.push(t),this.bodies.length-1},JSM.TriangleModel.prototype.AddBodyToIndex=function(t,e){return this.bodies.splice(e,0,t),e},JSM.TriangleModel.prototype.GetBody=function(t){return this.bodies[t]},JSM.TriangleModel.prototype.BodyCount=function(){return this.bodies.length},JSM.TriangleModel.prototype.GetBody=function(t){return this.bodies[t]},JSM.TriangleModel.prototype.Finalize=function(){var t,e;for(t=0;t<this.bodies.length;t++)e=this.bodies[t],e.Finalize(this)},JSM.BinaryReader=function(t,e){this.arrayBuffer=t,this.dataView=new DataView(t),this.isLittleEndian=e,this.position=0},JSM.BinaryReader.prototype.GetPosition=function(){return this.position},JSM.BinaryReader.prototype.GetByteLength=function(){return this.arrayBuffer.byteLength},JSM.BinaryReader.prototype.Skip=function(t){this.position+=t},JSM.BinaryReader.prototype.End=function(){return this.position>=this.arrayBuffer.byteLength},JSM.BinaryReader.prototype.ReadBoolean=function(){var t=this.dataView.getInt8(this.position,this.isLittleEndian);return this.position+=1,t?!0:!1},JSM.BinaryReader.prototype.ReadCharacter=function(){var t=this.dataView.getInt8(this.position,this.isLittleEndian);return this.position+=1,t},JSM.BinaryReader.prototype.ReadUnsignedCharacter=function(){var t=this.dataView.getUint8(this.position,this.isLittleEndian);return this.position+=1,t},JSM.BinaryReader.prototype.ReadInteger16=function(){var t=this.dataView.getInt16(this.position,this.isLittleEndian);return this.position+=2,t},JSM.BinaryReader.prototype.ReadUnsignedInteger16=function(){var t=this.dataView.getUint16(this.position,this.isLittleEndian);return this.position+=2,t},JSM.BinaryReader.prototype.ReadInteger32=function(){var t=this.dataView.getInt32(this.position,this.isLittleEndian);return this.position+=4,t},JSM.BinaryReader.prototype.ReadUnsignedInteger32=function(){var t=this.dataView.getUint32(this.position,this.isLittleEndian);return this.position+=4,t},JSM.BinaryReader.prototype.ReadFloat32=function(){var t=this.dataView.getFloat32(this.position,this.isLittleEndian);return this.position+=4,t},JSM.BinaryReader.prototype.ReadDouble64=function(){var t=this.dataView.getFloat64(this.position,this.isLittleEndian);return this.position+=8,t},JSM.GetArrayBufferFromURL=function(t,e){var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer",i.onload=function(){var t=i.response;t&&e(t)},i.send(null)},JSM.GetArrayBufferFromFile=function(t,e){var i=new FileReader;i.onloadend=function(t){t.target.readyState==FileReader.DONE&&e(t.target.result)},i.readAsArrayBuffer(t)},JSM.GetStringBufferFromURL=function(t,e){var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="text",i.onload=function(){var t=i.response;t&&e(t)},i.send(null)},JSM.LoadMultipleBuffers=function(t,e,i,r,o){i>=t.length?o(e):r(t[i],function(n){e.push(n),JSM.LoadMultipleBuffers(t,e,i+1,r,o)})},JSM.GetStringBufferFromFile=function(t,e){var i=new FileReader;i.onloadend=function(t){t.target.readyState==FileReader.DONE&&e(t.target.result)},i.readAsText(t)},JSM.GetStringBuffersFromURLList=function(t,e){JSM.LoadMultipleBuffers(t,[],0,JSM.GetStringBufferFromURL,function(t){e(t)})},JSM.GetStringBuffersFromFileList=function(t,e){JSM.LoadMultipleBuffers(t,[],0,JSM.GetStringBufferFromFile,function(t){e(t)})},JSM.ConvertTriangleModelToJsonData=function(t){function e(t,e,i){var r,o=[],n=t.MaterialCount();for(t=0;t<e.VertexCount();t++)r=e.GetVertex(t),i.vertices.push(r.x,r.y,r.z);for(t=0;t<e.NormalCount();t++)r=e.GetNormal(t),i.normals.push(r.x,r.y,r.z);for(i.uvs.push(0,0),t=0;n>t;t++)o.push([]);for(t=0;t<e.TriangleCount();t++)r=e.GetTriangle(t),void 0===r.mat||0>r.mat||r.mat>=n||o[r.mat].push(t);var a,s;for(t=0;t<o.length;t++)if(a=o[t],0!==a.length){for(s={material:t,parameters:[]},n=0;n<a.length;n++)r=e.GetTriangle(a[n]),s.parameters.push(r.v0,r.v1,r.v2,r.n0,r.n1,r.n2,0,0,0);i.triangles.push(s)}}var i={version:1,materials:[],meshes:[]};!function(t,e){var i,r;for(i=0;i<t.MaterialCount();i++)r=t.GetMaterial(i),e.push({name:r.name,ambient:[r.ambient.r,r.ambient.g,r.ambient.b],diffuse:[r.diffuse.r,r.diffuse.g,r.diffuse.b],specular:[r.specular.r,r.specular.g,r.specular.b],opacity:r.opacity})}(t,i.materials);var r,o,n;for(r=0;r<t.BodyCount();r++)o=t.GetBody(r),0!==o.TriangleCount()&&(n={name:o.GetName(),vertices:[],normals:[],uvs:[],triangles:[]},e(t,o,n),i.meshes.push(n));return i},JSM.MergeJsonDataMeshes=function(t){function e(t,e,i){function r(t,e,i){var r=e.material,s=i[r];for(void 0===s&&(t.triangles.push({material:r,parameters:[]}),s=t.triangles.length-1,i[r]=s),t=t.triangles[s].parameters,i=0;i<e.parameters.length;i+=9)t.push(e.parameters[i]+o,e.parameters[i+1]+o,e.parameters[i+2]+o,e.parameters[i+3]+n,e.parameters[i+4]+n,e.parameters[i+5]+n,e.parameters[i+6]+a,e.parameters[i+7]+a,e.parameters[i+8]+a)}var o=t.vertices.length/3,n=t.normals.length/3,a=t.uvs.length/2;!function(t,e){var i;for(i=0;i<e.vertices.length;i++)t.vertices.push(e.vertices[i]);for(i=0;i<e.normals.length;i++)t.normals.push(e.normals[i]);for(i=0;i<e.uvs.length;i++)t.uvs.push(e.uvs[i])}(t,e);var s,l;for(s=0;s<e.triangles.length;s++)l=e.triangles[s],r(t,l,i)}var i,r,o={version:t.version,materials:t.materials,meshes:[]},n={name:"Merged",vertices:[],normals:[],uvs:[],triangles:[]},a={};for(i=0;i<t.meshes.length;i++)r=t.meshes[i],e(n,r,a);return o.meshes.push(n),o},JSM.Read3dsFile=function(t,e){function i(t,i){void 0!==e.onLog&&null!==e.onLog&&e.onLog(t,i)}function r(t){for(var e="",i=0,r=0;64>r&&(i=t.ReadCharacter(),0!==i);)e+=String.fromCharCode(i),r+=1;return e}function o(t){var e,i=[];for(e=0;3>e;e++)i[e]=t.ReadFloat32();return i}function n(t,e,i){for(;t.GetPosition()<=e-6;){var r=t,o=i,n=r.ReadUnsignedInteger16(),r=r.ReadUnsignedInteger32();o(n,r)}}var a,s,l,c,h,u,d,p,f,_,m,g,y,b,v,M,S,T,x,C,E,A,w,R,D,P,B,V,L,k,H;(void 0===e||null===e)&&(e={}),a=15677,s=45055,l=40960,c=40976,h=40992,u=41008,d=41024,p=41040,f=16,_=17,m=18,g=19,y=48,b=49,v=16384,M=16640,S=17920,T=18176,x=16656,C=16672,E=16736,A=16688,w=16720,R=45056,D=45058,P=45072,B=45075,V=45088,L=45089,k=45090,H=45104,function(t){function I(t,e,i){var r={};e=t.GetPosition()+i-6;var o=!1;return n(t,e,function(e,i){e==_?o||(r.r=t.ReadUnsignedCharacter()/255,r.g=t.ReadUnsignedCharacter()/255,r.b=t.ReadUnsignedCharacter()/255):e==m?(r.r=t.ReadUnsignedCharacter()/255,r.g=t.ReadUnsignedCharacter()/255,r.b=t.ReadUnsignedCharacter()/255,o=!0):e==f?o||(r.r=t.ReadFloat32(),r.g=t.ReadFloat32(),r.b=t.ReadFloat32()):e==g?(r.r=t.ReadFloat32(),r.g=t.ReadFloat32(),r.b=t.ReadFloat32(),o=!0):t.Skip(i-6)}),r}function O(t,e,i){var r=0;return e=t.GetPosition()+i-6,n(t,e,function(e,i){e==y?r=t.ReadUnsignedInteger16()/100:e==b?r=t.ReadFloat32():t.Skip(i-6)}),r}function J(t,o,a){i("Read material chunk ("+o.toString(16)+", "+a+")",2);var s={},f=t.GetPosition()+a-6;n(t,f,function(e,n){e==l?(i("Read material name chunk ("+o.toString(16)+", "+a+")",3),s.name=r(t)):e==c?(i("Read material ambient chunk ("+o.toString(16)+", "+a+")",3),s.ambient=I(t,e,n)):e==h?(i("Read material diffuse chunk ("+o.toString(16)+", "+a+")",3),s.diffuse=I(t,e,n)):e==u?(i("Read material specular chunk ("+o.toString(16)+", "+a+")",3),s.specular=I(t,e,n)):e==d?(i("Read material shininess chunk ("+o.toString(16)+", "+a+")",3),s.shininess=O(t,e,n)):e==p?(i("Read material transparency chunk ("+o.toString(16)+", "+a+")",3),s.transparency=O(t,e,n)):(i("Skip chunk ("+e.toString(16)+", "+n+")",3),t.Skip(n-6))}),void 0!==e.onMaterial&&null!==e.onMaterial&&e.onMaterial(s)}function N(t,o,a){i("Read faces chunk ("+o.toString(16)+", "+a+")",4),o=t.GetPosition()+a-6;var s,l,c,h,u=t.ReadUnsignedInteger16();for(a=0;u>a;a++)s=t.ReadUnsignedInteger16(),l=t.ReadUnsignedInteger16(),c=t.ReadUnsignedInteger16(),h=t.ReadUnsignedInteger16(),void 0!==e.onFace&&null!==e.onFace&&e.onFace(s,l,c,h);n(t,o,function(o,n){if(o==A){i("Read face materials chunk ("+o.toString(16)+", "+n+")",5);var a,s,l=r(t),c=t.ReadUnsignedInteger16();for(a=0;c>a;a++)s=t.ReadUnsignedInteger16(),void 0!==e.onFaceMaterial&&null!==e.onFaceMaterial&&e.onFaceMaterial(s,l)}else if(o==w)for(i("Read face smoothing groups chunk ("+o.toString(16)+", "+n+")",5),l=0;u>l;l++)c=t.ReadUnsignedInteger32(),void 0!==e.onFaceSmoothingGroup&&null!==e.onFaceSmoothingGroup&&e.onFaceSmoothingGroup(l,c);else i("Skip chunk ("+o.toString(16)+", "+n+")",5),t.Skip(n-6)})}function F(t,r,o,a){i("Read mesh chunk ("+r+", "+o.toString(16)+", "+a+")",3),void 0!==e.onMesh&&null!==e.onMesh&&e.onMesh(r),r=t.GetPosition()+a-6,n(t,r,function(r,o){if(r==x){i("Read vertices chunk ("+r.toString(16)+", "+o+")",4);var n,a,s,l,c=t.ReadUnsignedInteger16();for(n=0;c>n;n++)a=t.ReadFloat32(),s=t.ReadFloat32(),l=t.ReadFloat32(),void 0!==e.onVertex&&null!==e.onVertex&&e.onVertex(a,s,l)}else if(r==C)N(t,r,o);else if(r==E){for(i("Read transformation chunk ("+r.toString(16)+", "+o+")",4),c=[],n=0;4>n;n++){for(a=0;3>a;a++)c.push(t.ReadFloat32());c.push(3>n?0:1)}void 0!==e.onTransformation&&null!==e.onTransformation&&e.onTransformation(c)}else i("Skip chunk ("+r.toString(16)+", "+o+")",4),t.Skip(o-6)})}function G(t,e,o){i("Read object chunk ("+e.toString(16)+", "+o+")",2),e=t.GetPosition()+o-6;var a=r(t);n(t,e,function(e,r){e==M?F(t,a,e,r):(e==S?i("Skip light chunk ("+a+", "+e.toString(16)+", "+r+")",3):e==T?i("Skip camera chunk ("+a+", "+e.toString(16)+", "+r+")",3):i("Skip chunk ("+e.toString(16)+", "+r+")",3),t.Skip(r-6))})}function z(t,e,r){i("Read editor chunk ("+e.toString(16)+", "+r+")",1),e=t.GetPosition()+r-6,n(t,e,function(e,r){e==s?J(t,e,r):e==v?G(t,e,r):(i("Skip chunk ("+e.toString(16)+", "+r+")",2),t.Skip(r-6))})}function j(t,a,s){function l(t,e){var i=[];t.Skip(10);var r,n,a,s=t.ReadInteger32();for(r=0;s>r;r++)t.ReadInteger32(),n=t.ReadUnsignedInteger16(),0!==n&&t.ReadFloat32(),e==L?(a=t.ReadFloat32(),n=o(t),n[3]=a):n=o(t),i.push(n);return i}i("Read object node chunk ("+a.toString(16)+", "+s+")",2);var c={name:"",nodeId:-1,flags:-1,userId:-1,pivot:[0,0,0],positions:[],rotations:[],scales:[]};a=t.GetPosition()+s-6,n(t,a,function(e,n){e==P?(c.name=r(t),c.flags=t.ReadUnsignedInteger32(),c.userId=t.ReadUnsignedInteger16()):e==B?c.pivot=o(t):e==V?c.positions=l(t,V):e==L?c.rotations=l(t,L):e==k?c.scales=l(t,k):e==H?c.nodeId=t.ReadUnsignedInteger16():(i("Skip chunk ("+e.toString(16)+", "+n+")",3),t.Skip(n-6))}),void 0!==e.onObjectNode&&null!==e.onObjectNode&&e.onObjectNode(c)}function U(t,e,r){i("Read keyframe chunk ("+e.toString(16)+", "+r+")",1),e=t.GetPosition()+r-6,n(t,e,function(e,r){e==D?j(t,e,r):(i("Skip chunk ("+e.toString(16)+", "+r+")",2),t.Skip(r-6))})}function W(t,e,r){i("Read main chunk ("+e.toString(16)+", "+r+")",0),e=t.GetPosition()+r-6,n(t,e,function(e,r){e==a?z(t,e,r):e==R?U(t,e,r):(i("Skip chunk ("+e.toString(16)+", "+r+")",1),t.Skip(r-6))})}var X=t.GetByteLength();n(t,X,function(e,r){19789==e?W(t,e,r):(i("Skip chunk ("+e.toString(16)+", "+r+")",0),t.Skip(r-6))})}(new JSM.BinaryReader(t,!0))},JSM.Convert3dsToJsonData=function(t){var e=new JSM.TriangleModel,i=null,r={},o={},n={nodes:[],nodeIdToIndex:{}};return JSM.Read3dsFile(t,{onMaterial:function(t){function i(t){return void 0===t||null===t?{r:0,g:0,b:0}:t}var o=e.AddMaterial(t.name,i(t.ambient),i(t.diffuse),i(t.specular),void 0===t.transparency||null===t.transparency?1:1-t.transparency);void 0===r[t.name]&&(r[t.name]=o)},onMesh:function(t){var r=e.AddBody(new JSM.TriangleBody(t));i=e.GetBody(r),i.meshData={faceToMaterial:{},faceToSmoothingGroup:{},objectNodes:[],transformation:null},o[t]=r},onTransformation:function(t){null!==i&&(i.meshData.transformation=t)},onObjectNode:function(t){var i=n.nodes.length;n.nodes.push(t),n.nodeIdToIndex[t.nodeId]=i,t=o[t.name],void 0!==t&&e.GetBody(t).meshData.objectNodes.push(i)},onVertex:function(t,e,r){null!==i&&i.AddVertex(t,e,r)},onFace:function(t,e,r){null!==i&&i.AddTriangle(t,e,r)},onFaceMaterial:function(t,e){null!==i&&(i.meshData.faceToMaterial[t]=e)},onFaceSmoothingGroup:function(t,e){null!==i&&(i.meshData.faceToSmoothingGroup[t]=e)}}),function(t,e,i){function r(t,e,i){function r(t,e){var i,r=e[0],o=e[1],n=e[2];for(i=0;4>i;i++)t[0+i]*=r,t[4+i]*=o,t[8+i]*=n;return t}function o(t,e){var i,r=e[0],o=e[1],n=e[2];for(i=0;3>i;i++)t[12+i]+=t[0+i]*r+t[4+i]*o+t[8+i]*n;return t}function n(t,e){var i,r;for(i=0;i<t.VertexCount();i++)r=t.GetVertex(i),r=JSM.ApplyTransformation(e,r),t.SetVertex(i,r.x,r.y,r.z)}function a(t,e,i){var o=JSM.MatrixDeterminant(e);JSM.IsNegative(o)&&(e=JSM.MatrixClone(e),r(e,[-1,1,1]),i=JSM.MatrixMultiply(i,e),n(t,i))}function s(t,e){if(void 0!==t.matrix)return t.matrix;var i,n=JSM.MatrixIdentity();if(i=0===t.positions.length?[0,0,0]:t.positions[0],n=o(n,i),0===t.rotations.length)i=[0,0,0,0];else{i=t.rotations[0];var a=[0,0,0,1],l=Math.sqrt(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]);JSM.IsPositive(l)&&(a=-.5*i[3],l=Math.sin(a)/l,a=[l*i[0],l*i[1],l*i[2],Math.cos(a)]),i=a}return i=JSM.MatrixRotationQuaternion(i),n=JSM.MatrixMultiply(i,n),i=0===t.scales.length?[0,0,0,0]:t.scales[0],n=r(n,i),65535!=t.userId&&(i=e.nodeIdToIndex[t.userId],void 0!==i&&(i=s(e.nodes[i],e),n=JSM.MatrixMultiply(n,i))),t.matrix=n}var l=t.meshData;if(l=void 0===l||null===l?null:l.transformation,null!==l){var c=null,c=null!==e?s(e,i):l;i=JSM.MatrixClone(c),c=JSM.MatrixClone(l),l=JSM.MatrixInvert(c),null!==l&&(a(t,c,l),e=void 0===e||null===e?[0,0,0]:e.pivot,o(i,[-e[0],-e[1],-e[2]]),e=JSM.MatrixMultiply(l,i),n(t,e))}}function o(t,e,i,o){r(t,e,o),e=t.meshData;var n,a;for(o=0;o<t.TriangleCount();o++)n=t.GetTriangle(o),a=e.faceToMaterial[o],void 0!==a&&(a=i[a],void 0!==a&&(n.mat=a)),a=e.faceToSmoothingGroup[o],void 0!==a&&(n.curve=a)}function n(t,e,i,r){return e=e.Clone(),e.SetName(e.GetName()+" ("+r+")"),i<t.BodyCount()?t.AddBodyToIndex(e,i):t.AddBody(e),e}var a,s,l,c,h,u,d;for(a=0;a<e.BodyCount();a++)if(l=e.GetBody(a),c=l.meshData,0===c.objectNodes.length)o(l,null,i,t);else{for(u=t.nodes[c.objectNodes[0]],s=1;s<c.objectNodes.length;s++)h=t.nodes[c.objectNodes[s]],d=n(e,l,a+1,s+1),d.meshData=l.meshData,o(d,h,i,t),a+=1;o(l,u,i,t)}}(n,e,r),e.Finalize(),JSM.ConvertTriangleModelToJsonData(e)},JSM.ReadObjFile=function(t,e){function i(t){t=t.split("\n");var r,o;for(r=0;r<t.length;r++){var n=o=t[r].trim();if(0!==n.length&&"#"!=n[0]&&(o=n.split(/\s+/),!(0===o.length||"#"==o[0][0]))){var a=void 0,a=void 0;if("g"==o[0]){if(!(2>o.length)){for(n="",a=1;a<o.length;a++)n+=o[a],a<o.length-1&&(n+=" ");void 0!==e.onMesh&&null!==e.onMesh&&e.onMesh(n)}}else if("v"==o[0])4>o.length||(a=parseFloat(o[1]),n=parseFloat(o[2]),o=parseFloat(o[3]),void 0===e.onVertex||null===e.onVertex)||e.onVertex(a,n,o);else if("vn"==o[0])4>o.length||(a=parseFloat(o[1]),n=parseFloat(o[2]),o=parseFloat(o[3]),void 0===e.onNormal||null===e.onNormal)||e.onNormal(a,n,o);else if("f"==o[0]){if(!(4>o.length)){for(var n=[],s=[],l=void 0,a=1;a<o.length;a++)l=o[a].split("/"),n.push(parseInt(l[0],10)-1),2<l.length&&0<l[2].length&&s.push(parseInt(l[2],10)-1);void 0!==e.onFace&&null!==e.onFace&&e.onFace(n,s)}}else"usemtl"==o[0]?2>o.length||void 0===e.onUseMaterial||null===e.onUseMaterial||e.onUseMaterial(o[1]):"newmtl"==o[0]?2>o.length||void 0===e.onNewMaterial||null===e.onNewMaterial||e.onNewMaterial(o[1]):"Ka"==o[0]||"Kd"==o[0]||"Ks"==o[0]?4>o.length||(a=parseFloat(o[1]),n=parseFloat(o[2]),s=parseFloat(o[3]),void 0===e.onMaterialComponent||null===e.onMaterialComponent)||e.onMaterialComponent(o[0],a,n,s):"Ka"==o[0]||"Kd"==o[0]||"Ks"==o[0]?4>o.length||(a=parseFloat(o[1]),n=parseFloat(o[2]),s=parseFloat(o[3]),void 0===e.onMaterialComponent||null===e.onMaterialComponent)||e.onMaterialComponent(o[0],a,n,s):"mtllib"==o[0]&&!(2>o.length)&&(o=n.indexOf("mtllib")+6,a=n.substr(o,n.length-o).trim(),o=a.trim(),o=void 0!==e.onFileRequested&&null!==e.onFileRequested?e.onFileRequested(o):null,null!==o&&i(o))}}}i(t)},JSM.ConvertObjToJsonData=function(t,e){var i=new JSM.TriangleModel,r=i.AddBody(new JSM.TriangleBody("Default")),o=i.GetBody(r),n={},a=null,s=null,l=[],c=[];return JSM.ReadObjFile(t,{onNewMaterial:function(t){var e=i.AddMaterial(t,{r:1,g:0,b:0},{r:1,g:0,b:0},{r:0,g:0,b:0},1);a=i.GetMaterial(e),n[t]=e},onMaterialComponent:function(t,e,i,r){null!==a&&("Ka"==t?(t=a.ambient,t.r=e,t.g=i,t.b=r):"Kd"==t?(t=a.diffuse,t.r=e,t.g=i,t.b=r):"Ks"==t&&(t=a.specular,t.r=e,t.g=i,t.b=r))},onUseMaterial:function(t){t=n[t],void 0!==t&&(s=t)},onMesh:function(t){t=i.AddBody(new JSM.TriangleBody(t)),o=i.GetBody(t)},onVertex:function(t,e,i){l.push(new JSM.Coord(t,e,i))},onNormal:function(t,e,i){c.push(new JSM.Coord(t,e,i))},onFace:function(t,e){var i,r,n=t.length==e.length,a=t.length;for(i=0;a-2>i;i++)r=o.AddTriangle(t[0],t[(i+1)%a],t[(i+2)%a]),r=o.GetTriangle(r),n&&(r.n0=e[0],r.n1=e[(i+1)%a],r.n2=e[(i+2)%a]),null!==s&&(r.mat=s)},onFileRequested:function(t){return void 0!==e.onFileRequested&&null!==e.onFileRequested?e.onFileRequested(t):null}}),function(t,e,i){function r(t,e,i,r,o){if(void 0!==i){var n=r[i];return void 0!==n?n:(e=e[i],0===o?n=t.AddVertex(e.x,e.y,e.z):1===o&&(n=t.AddNormal(e.x,e.y,e.z)),r[i]=n)}}var o,n,a,s,l,c;for(o=0;o<t.BodyCount();o++)for(a=t.GetBody(o),l={},c={},n=0;n<a.TriangleCount();n++)s=a.GetTriangle(n),s.v0=r(a,e,s.v0,l,0),s.v1=r(a,e,s.v1,l,0),s.v2=r(a,e,s.v2,l,0),s.n0=r(a,i,s.n0,c,1),s.n1=r(a,i,s.n1,c,1),s.n2=r(a,i,s.n2,c,1)}(i,l,c),i.Finalize(),JSM.ConvertTriangleModelToJsonData(i)},JSM.ReadBinaryStlFile=function(t,e){function i(t){var e,i=[];for(e=0;3>e;e++)i[e]=t.ReadFloat32();return i}var r=new JSM.BinaryReader(t,!0);r.Skip(80);var o,n,a,s,l,c=r.ReadUnsignedInteger32();for(o=0;c>o;o++)l=i(r),n=i(r),a=i(r),s=i(r),r.Skip(2),void 0!==e.onFace&&null!==e.onFace&&e.onFace(n,a,s,l)},JSM.ReadAsciiStlFile=function(t,e){function i(t,i){var r=t[i].trim();if(0===r.length)return i+1;if(r=r.split(/\s+/),0===r.length)return i+1;if("solid"!=r[0]&&"facet"==r[0]&&"normal"==r[1]){if(5>r.length)return-1;var o,n,r=[parseFloat(r[2]),parseFloat(r[3]),parseFloat(r[4])],a=[];for(o=i+1;o<t.length&&3>a.length;o++)if(n=t[o].trim(),0!==n.length&&(n=n.split(/\s+/),0!==n.length&&"vertex"==n[0])){if(4>n.length)break;n=[parseFloat(n[1]),parseFloat(n[2]),parseFloat(n[3])],a.push(n)}return o+=1,3!=a.length?-1:(void 0!==e.onFace&&null!==e.onFace&&e.onFace(a[0],a[1],a[2],r),o)}return i+1}for(var r=0,o=t.split("\n");r<o.length&&-1!=r;)r=i(o,r)},JSM.ConvertStlToJsonData=function(t){var e=new JSM.TriangleModel,i=e.AddBody(new JSM.TriangleBody("Default")),r=e.GetBody(i);return function(t){var e=t.byteLength;return 84>e?!1:(t=new JSM.BinaryReader(t,!0),t.Skip(80),t=t.ReadUnsignedInteger32(),e!=50*t+84?!1:!0)}(t)?JSM.ReadBinaryStlFile(t,{onFace:function(t,e,i,o){t=r.AddVertex(t[0],t[1],t[2]),e=r.AddVertex(e[0],e[1],e[2]),i=r.AddVertex(i[0],i[1],i[2]),o=JSM.VectorNormalize(new JSM.Vector(o[0],o[1],o[2])),o=r.AddNormal(o.x,o.y,o.z),r.AddTriangle(t,e,i,o,o,o)}}):(t=String.fromCharCode.apply(null,new Uint8Array(t)),JSM.ReadAsciiStlFile(t,{onFace:function(t,e,i,o){t=r.AddVertex(t[0],t[1],t[2]),e=r.AddVertex(e[0],e[1],e[2]),i=r.AddVertex(i[0],i[1],i[2]),o=JSM.VectorNormalize(new JSM.Vector(o[0],o[1],o[2])),o=r.AddNormal(o.x,o.y,o.z),r.AddTriangle(t,e,i,o,o,o)}})),e.Finalize(),JSM.ConvertTriangleModelToJsonData(e)},JSM.ImportFileList=function(){this.descriptors=null},JSM.ImportFileList.prototype.Init=function(t){this.descriptors=[];var e,i;for(e=0;e<t.length;e++)i=t[e],i={originalObject:i,originalFileName:i.name,fileName:i.name.toUpperCase(),extension:this.GetFileExtension(i.name)},this.descriptors.push(i)},JSM.ImportFileList.prototype.GetFileDescriptor=function(t){return this.descriptors[t]},JSM.ImportFileList.prototype.GetMainFileIndex=function(t){var e;
for(t=0;t<this.descriptors.length;t++)if(e=this.descriptors[t],this.IsSupportedExtension(e.extension))return t;return-1},JSM.ImportFileList.prototype.GetFileIndexByName=function(t){var e,i;for(e=0;e<this.descriptors.length;e++)if(i=this.descriptors[e],i.fileName==t.toUpperCase())return e;return-1},JSM.ImportFileList.prototype.IsSupportedExtension=function(t){return".3DS"==t||".OBJ"==t||".STL"==t?!0:!1},JSM.ImportFileList.prototype.GetFileExtension=function(t){var e=t.lastIndexOf(".");return-1==e?"":(t=t.substr(e),t=t.toUpperCase())},JSM.ConvertFileListToJsonData=function(t,e){function i(t,i){void 0!==e.onReady&&null!==e.onReady&&e.onReady(t,i)}var r=new JSM.ImportFileList;r.Init(t);var o=r.GetMainFileIndex();if(-1===o)void 0!==e.onError&&null!==e.onError&&e.onError();else{var n=r.GetFileDescriptor(o),a={main:n.originalFileName,requested:[],missing:[]};".3DS"==n.extension?JSM.GetArrayBufferFromFile(n.originalObject,function(t){t=JSM.Convert3dsToJsonData(t),i(a,t)}):".OBJ"==n.extension?JSM.GetStringBuffersFromFileList(t,function(t){var e=JSM.ConvertObjToJsonData(t[o],{onFileRequested:function(e){var i=r.GetFileIndexByName(e);return-1==i?(a.missing.push(e),null):(a.requested.push(e),t[i])}});i(a,e)}):".STL"==n.extension&&JSM.GetArrayBufferFromFile(n.originalObject,function(t){t=JSM.ConvertStlToJsonData(t),i(a,t)})}},JSM.GenerateSolidWithRadius=function(t,e){var i=new JSM.Body,r=!0;if("Tetrahedron"===t?i=JSM.GenerateTetrahedron():"Hexahedron"===t?i=JSM.GenerateHexahedron():"Octahedron"===t?i=JSM.GenerateOctahedron():"Dodecahedron"===t?i=JSM.GenerateDodecahedron():"Icosahedron"===t?i=JSM.GenerateIcosahedron():"TruncatedTetrahedron"===t?i=JSM.GenerateTruncatedTetrahedron():"Cuboctahedron"===t?i=JSM.GenerateCuboctahedron():"TruncatedCube"===t?i=JSM.GenerateTruncatedCube():"TruncatedOctahedron"===t?i=JSM.GenerateTruncatedOctahedron():"Rhombicuboctahedron"===t?i=JSM.GenerateRhombicuboctahedron():"TruncatedCuboctahedron"===t?i=JSM.GenerateTruncatedCuboctahedron():"SnubCube"===t?i=JSM.GenerateSnubCube():"Icosidodecahedron"===t?i=JSM.GenerateIcosidodecahedron():"TruncatedDodecahedron"===t?i=JSM.GenerateTruncatedDodecahedron():"TruncatedIcosahedron"===t?i=JSM.GenerateTruncatedIcosahedron():"Rhombicosidodecahedron"===t?i=JSM.GenerateRhombicosidodecahedron():"TruncatedIcosidodecahedron"===t?i=JSM.GenerateTruncatedIcosidodecahedron():"SnubDodecahedron"===t?i=JSM.GenerateSnubDodecahedron():"TetrakisHexahedron"===t?(i=JSM.GenerateTetrakisHexahedron(),r=!1):"RhombicDodecahedron"===t?(i=JSM.GenerateRhombicDodecahedron(),r=!1):"PentakisDodecahedron"===t?(i=JSM.GeneratePentakisDodecahedron(),r=!1):"SmallStellatedDodecahedron"===t?(i=JSM.GenerateSmallStellatedDodecahedron(),r=!1):"GreatDodecahedron"===t?(i=JSM.GenerateGreatDodecahedron(),r=!1):"SmallTriambicIcosahedron"===t?(i=JSM.GenerateSmallTriambicIcosahedron(),r=!1):"GreatStellatedDodecahedron"===t?(i=JSM.GenerateGreatStellatedDodecahedron(),r=!1):"SmallTriakisOctahedron"===t?(i=JSM.GenerateSmallTriakisOctahedron(),r=!1):"StellaOctangula"===t?(i=JSM.GenerateStellaOctangula(),r=!1):"TriakisTetrahedron"===t&&(i=JSM.GenerateTriakisTetrahedron(),r=!1),0<i.VertexCount()){var o=0;if(r)o=JSM.VectorLength(i.GetVertexPosition(0));else for(var n,r=0;r<i.VertexCount();r++)n=JSM.VectorLength(i.GetVertexPosition(r)),JSM.IsGreater(n,o)&&(o=n);for(o=e/o,r=0;r<i.VertexCount();r++)n=i.GetVertex(r),n.SetPosition(JSM.VectorMultiply(n.GetPosition(),o))}return i},JSM.GenerateTetrahedron=function(){var t=new JSM.Body;return t.AddVertex(new JSM.BodyVertex(new JSM.Coord(1,1,1))),t.AddVertex(new JSM.BodyVertex(new JSM.Coord(-1,-1,1))),t.AddVertex(new JSM.BodyVertex(new JSM.Coord(-1,1,-1))),t.AddVertex(new JSM.BodyVertex(new JSM.Coord(1,-1,-1))),t.AddPolygon(new JSM.BodyPolygon([0,1,3])),t.AddPolygon(new JSM.BodyPolygon([0,2,1])),t.AddPolygon(new JSM.BodyPolygon([0,3,2])),t.AddPolygon(new JSM.BodyPolygon([1,2,3])),t},JSM.GenerateHexahedron=function(){var t=new JSM.Body;return JSM.AddVertexToBody(t,1,1,1),JSM.AddVertexToBody(t,1,1,-1),JSM.AddVertexToBody(t,1,-1,1),JSM.AddVertexToBody(t,-1,1,1),JSM.AddVertexToBody(t,1,-1,-1),JSM.AddVertexToBody(t,-1,1,-1),JSM.AddVertexToBody(t,-1,-1,1),JSM.AddVertexToBody(t,-1,-1,-1),JSM.AddPolygonToBody(t,[0,1,5,3]),JSM.AddPolygonToBody(t,[0,2,4,1]),JSM.AddPolygonToBody(t,[0,3,6,2]),JSM.AddPolygonToBody(t,[1,4,7,5]),JSM.AddPolygonToBody(t,[2,6,7,4]),JSM.AddPolygonToBody(t,[3,5,7,6]),t},JSM.GenerateOctahedron=function(){var t=new JSM.Body;return JSM.AddVertexToBody(t,1,0,0),JSM.AddVertexToBody(t,-1,0,0),JSM.AddVertexToBody(t,0,1,0),JSM.AddVertexToBody(t,0,-1,0),JSM.AddVertexToBody(t,0,0,1),JSM.AddVertexToBody(t,0,0,-1),JSM.AddPolygonToBody(t,[0,2,4]),JSM.AddPolygonToBody(t,[0,3,5]),JSM.AddPolygonToBody(t,[0,4,3]),JSM.AddPolygonToBody(t,[0,5,2]),JSM.AddPolygonToBody(t,[1,2,5]),JSM.AddPolygonToBody(t,[1,3,4]),JSM.AddPolygonToBody(t,[1,4,2]),JSM.AddPolygonToBody(t,[1,5,3]),t},JSM.GenerateDodecahedron=function(){var t=new JSM.Body,e=(1+Math.sqrt(5))/2,i=1/e;return JSM.AddVertexToBody(t,1,1,1),JSM.AddVertexToBody(t,1,1,-1),JSM.AddVertexToBody(t,1,-1,1),JSM.AddVertexToBody(t,-1,1,1),JSM.AddVertexToBody(t,1,-1,-1),JSM.AddVertexToBody(t,-1,1,-1),JSM.AddVertexToBody(t,-1,-1,1),JSM.AddVertexToBody(t,-1,-1,-1),JSM.AddVertexToBody(t,0,+i,+e),JSM.AddVertexToBody(t,0,+i,-e),JSM.AddVertexToBody(t,0,-i,+e),JSM.AddVertexToBody(t,0,-i,-e),JSM.AddVertexToBody(t,+i,+e,0),JSM.AddVertexToBody(t,+i,-e,0),JSM.AddVertexToBody(t,-i,+e,0),JSM.AddVertexToBody(t,-i,-e,0),JSM.AddVertexToBody(t,+e,0,+i),JSM.AddVertexToBody(t,-e,0,+i),JSM.AddVertexToBody(t,+e,0,-i),JSM.AddVertexToBody(t,-e,0,-i),JSM.AddPolygonToBody(t,[0,8,10,2,16]),JSM.AddPolygonToBody(t,[0,16,18,1,12]),JSM.AddPolygonToBody(t,[0,12,14,3,8]),JSM.AddPolygonToBody(t,[1,9,5,14,12]),JSM.AddPolygonToBody(t,[1,18,4,11,9]),JSM.AddPolygonToBody(t,[2,10,6,15,13]),JSM.AddPolygonToBody(t,[2,13,4,18,16]),JSM.AddPolygonToBody(t,[3,14,5,19,17]),JSM.AddPolygonToBody(t,[3,17,6,10,8]),JSM.AddPolygonToBody(t,[4,13,15,7,11]),JSM.AddPolygonToBody(t,[5,9,11,7,19]),JSM.AddPolygonToBody(t,[6,17,19,7,15]),t},JSM.GenerateIcosahedron=function(){var t=new JSM.Body,e=(1+Math.sqrt(5))/2;return JSM.AddVertexToBody(t,0,1,+e),JSM.AddVertexToBody(t,0,1,-e),JSM.AddVertexToBody(t,0,-1,+e),JSM.AddVertexToBody(t,0,-1,-e),JSM.AddVertexToBody(t,1,+e,0),JSM.AddVertexToBody(t,1,-e,0),JSM.AddVertexToBody(t,-1,+e,0),JSM.AddVertexToBody(t,-1,-e,0),JSM.AddVertexToBody(t,+e,0,1),JSM.AddVertexToBody(t,-e,0,1),JSM.AddVertexToBody(t,+e,0,-1),JSM.AddVertexToBody(t,-e,0,-1),JSM.AddPolygonToBody(t,[0,2,8]),JSM.AddPolygonToBody(t,[0,4,6]),JSM.AddPolygonToBody(t,[0,6,9]),JSM.AddPolygonToBody(t,[0,8,4]),JSM.AddPolygonToBody(t,[0,9,2]),JSM.AddPolygonToBody(t,[1,3,11]),JSM.AddPolygonToBody(t,[1,4,10]),JSM.AddPolygonToBody(t,[1,6,4]),JSM.AddPolygonToBody(t,[1,10,3]),JSM.AddPolygonToBody(t,[1,11,6]),JSM.AddPolygonToBody(t,[2,5,8]),JSM.AddPolygonToBody(t,[2,7,5]),JSM.AddPolygonToBody(t,[2,9,7]),JSM.AddPolygonToBody(t,[3,5,7]),JSM.AddPolygonToBody(t,[3,7,11]),JSM.AddPolygonToBody(t,[3,10,5]),JSM.AddPolygonToBody(t,[4,8,10]),JSM.AddPolygonToBody(t,[6,11,9]),JSM.AddPolygonToBody(t,[5,10,8]),JSM.AddPolygonToBody(t,[7,9,11]),t},JSM.GenerateTruncatedTetrahedron=function(){var t=new JSM.Body;return JSM.AddVertexToBody(t,1,1,3),JSM.AddVertexToBody(t,1,-1,-3),JSM.AddVertexToBody(t,-1,-1,3),JSM.AddVertexToBody(t,-1,1,-3),JSM.AddVertexToBody(t,1,3,1),JSM.AddVertexToBody(t,1,-3,-1),JSM.AddVertexToBody(t,-1,-3,1),JSM.AddVertexToBody(t,-1,3,-1),JSM.AddVertexToBody(t,3,1,1),JSM.AddVertexToBody(t,3,-1,-1),JSM.AddVertexToBody(t,-3,-1,1),JSM.AddVertexToBody(t,-3,1,-1),JSM.AddPolygonToBody(t,[0,8,4]),JSM.AddPolygonToBody(t,[1,9,5]),JSM.AddPolygonToBody(t,[2,10,6]),JSM.AddPolygonToBody(t,[3,11,7]),JSM.AddPolygonToBody(t,[0,2,6,5,9,8]),JSM.AddPolygonToBody(t,[0,4,7,11,10,2]),JSM.AddPolygonToBody(t,[1,3,7,4,8,9]),JSM.AddPolygonToBody(t,[1,5,6,10,11,3]),t},JSM.GenerateCuboctahedron=function(){var t=new JSM.Body;return JSM.AddVertexToBody(t,1,1,0),JSM.AddVertexToBody(t,1,-1,0),JSM.AddVertexToBody(t,-1,-1,0),JSM.AddVertexToBody(t,-1,1,0),JSM.AddVertexToBody(t,1,0,1),JSM.AddVertexToBody(t,1,0,-1),JSM.AddVertexToBody(t,-1,0,1),JSM.AddVertexToBody(t,-1,0,-1),JSM.AddVertexToBody(t,0,1,1),JSM.AddVertexToBody(t,0,-1,-1),JSM.AddVertexToBody(t,0,-1,1),JSM.AddVertexToBody(t,0,1,-1),JSM.AddPolygonToBody(t,[0,5,11]),JSM.AddPolygonToBody(t,[0,8,4]),JSM.AddPolygonToBody(t,[1,4,10]),JSM.AddPolygonToBody(t,[1,9,5]),JSM.AddPolygonToBody(t,[2,7,9]),JSM.AddPolygonToBody(t,[2,10,6]),JSM.AddPolygonToBody(t,[3,6,8]),JSM.AddPolygonToBody(t,[3,11,7]),JSM.AddPolygonToBody(t,[0,4,1,5]),JSM.AddPolygonToBody(t,[0,11,3,8]),JSM.AddPolygonToBody(t,[1,10,2,9]),JSM.AddPolygonToBody(t,[2,6,3,7]),JSM.AddPolygonToBody(t,[4,8,6,10]),JSM.AddPolygonToBody(t,[5,9,7,11]),t},JSM.GenerateTruncatedCube=function(){var t=new JSM.Body,e=Math.sqrt(2)-1;return JSM.AddVertexToBody(t,1,1,+e),JSM.AddVertexToBody(t,1,1,-e),JSM.AddVertexToBody(t,1,-1,+e),JSM.AddVertexToBody(t,-1,1,+e),JSM.AddVertexToBody(t,1,-1,-e),JSM.AddVertexToBody(t,-1,1,-e),JSM.AddVertexToBody(t,-1,-1,+e),JSM.AddVertexToBody(t,-1,-1,-e),JSM.AddVertexToBody(t,1,+e,1),JSM.AddVertexToBody(t,1,+e,-1),JSM.AddVertexToBody(t,1,-e,1),JSM.AddVertexToBody(t,-1,+e,1),JSM.AddVertexToBody(t,1,-e,-1),JSM.AddVertexToBody(t,-1,+e,-1),JSM.AddVertexToBody(t,-1,-e,1),JSM.AddVertexToBody(t,-1,-e,-1),JSM.AddVertexToBody(t,+e,1,1),JSM.AddVertexToBody(t,+e,1,-1),JSM.AddVertexToBody(t,+e,-1,1),JSM.AddVertexToBody(t,-e,1,1),JSM.AddVertexToBody(t,+e,-1,-1),JSM.AddVertexToBody(t,-e,1,-1),JSM.AddVertexToBody(t,-e,-1,1),JSM.AddVertexToBody(t,-e,-1,-1),JSM.AddPolygonToBody(t,[0,16,8]),JSM.AddPolygonToBody(t,[1,9,17]),JSM.AddPolygonToBody(t,[2,10,18]),JSM.AddPolygonToBody(t,[3,11,19]),JSM.AddPolygonToBody(t,[4,20,12]),JSM.AddPolygonToBody(t,[5,21,13]),JSM.AddPolygonToBody(t,[6,22,14]),JSM.AddPolygonToBody(t,[7,15,23]),JSM.AddPolygonToBody(t,[0,1,17,21,5,3,19,16]),JSM.AddPolygonToBody(t,[0,8,10,2,4,12,9,1]),JSM.AddPolygonToBody(t,[2,18,22,6,7,23,20,4]),JSM.AddPolygonToBody(t,[3,5,13,15,7,6,14,11]),JSM.AddPolygonToBody(t,[8,16,19,11,14,22,18,10]),JSM.AddPolygonToBody(t,[9,12,20,23,15,13,21,17]),t},JSM.GenerateTruncatedOctahedron=function(){var t=new JSM.Body;return JSM.AddVertexToBody(t,0,1,2),JSM.AddVertexToBody(t,0,1,-2),JSM.AddVertexToBody(t,0,-1,2),JSM.AddVertexToBody(t,0,-1,-2),JSM.AddVertexToBody(t,0,2,1),JSM.AddVertexToBody(t,0,-2,1),JSM.AddVertexToBody(t,0,2,-1),JSM.AddVertexToBody(t,0,-2,-1),JSM.AddVertexToBody(t,1,0,2),JSM.AddVertexToBody(t,1,0,-2),JSM.AddVertexToBody(t,-1,0,2),JSM.AddVertexToBody(t,-1,0,-2),JSM.AddVertexToBody(t,1,2,0),JSM.AddVertexToBody(t,1,-2,0),JSM.AddVertexToBody(t,-1,2,0),JSM.AddVertexToBody(t,-1,-2,0),JSM.AddVertexToBody(t,2,0,1),JSM.AddVertexToBody(t,-2,0,1),JSM.AddVertexToBody(t,2,0,-1),JSM.AddVertexToBody(t,-2,0,-1),JSM.AddVertexToBody(t,2,1,0),JSM.AddVertexToBody(t,-2,1,0),JSM.AddVertexToBody(t,2,-1,0),JSM.AddVertexToBody(t,-2,-1,0),JSM.AddPolygonToBody(t,[0,10,2,8]),JSM.AddPolygonToBody(t,[1,9,3,11]),JSM.AddPolygonToBody(t,[4,12,6,14]),JSM.AddPolygonToBody(t,[5,15,7,13]),JSM.AddPolygonToBody(t,[16,22,18,20]),JSM.AddPolygonToBody(t,[17,21,19,23]),JSM.AddPolygonToBody(t,[0,4,14,21,17,10]),JSM.AddPolygonToBody(t,[0,8,16,20,12,4]),JSM.AddPolygonToBody(t,[1,6,12,20,18,9]),JSM.AddPolygonToBody(t,[1,11,19,21,14,6]),JSM.AddPolygonToBody(t,[2,5,13,22,16,8]),JSM.AddPolygonToBody(t,[2,10,17,23,15,5]),JSM.AddPolygonToBody(t,[3,7,15,23,19,11]),JSM.AddPolygonToBody(t,[3,9,18,22,13,7]),t},JSM.GenerateRhombicuboctahedron=function(){var t=new JSM.Body,e=1+Math.sqrt(2);return JSM.AddVertexToBody(t,1,1,+e),JSM.AddVertexToBody(t,1,1,-e),JSM.AddVertexToBody(t,1,-1,+e),JSM.AddVertexToBody(t,-1,1,+e),JSM.AddVertexToBody(t,1,-1,-e),JSM.AddVertexToBody(t,-1,1,-e),JSM.AddVertexToBody(t,-1,-1,+e),JSM.AddVertexToBody(t,-1,-1,-e),JSM.AddVertexToBody(t,1,+e,1),JSM.AddVertexToBody(t,1,+e,-1),JSM.AddVertexToBody(t,1,-e,1),JSM.AddVertexToBody(t,-1,+e,1),JSM.AddVertexToBody(t,1,-e,-1),JSM.AddVertexToBody(t,-1,+e,-1),JSM.AddVertexToBody(t,-1,-e,1),JSM.AddVertexToBody(t,-1,-e,-1),JSM.AddVertexToBody(t,+e,1,1),JSM.AddVertexToBody(t,+e,1,-1),JSM.AddVertexToBody(t,+e,-1,1),JSM.AddVertexToBody(t,-e,1,1),JSM.AddVertexToBody(t,+e,-1,-1),JSM.AddVertexToBody(t,-e,1,-1),JSM.AddVertexToBody(t,-e,-1,1),JSM.AddVertexToBody(t,-e,-1,-1),JSM.AddPolygonToBody(t,[0,16,8]),JSM.AddPolygonToBody(t,[1,9,17]),JSM.AddPolygonToBody(t,[2,10,18]),JSM.AddPolygonToBody(t,[3,11,19]),JSM.AddPolygonToBody(t,[4,20,12]),JSM.AddPolygonToBody(t,[5,21,13]),JSM.AddPolygonToBody(t,[6,22,14]),JSM.AddPolygonToBody(t,[7,15,23]),JSM.AddPolygonToBody(t,[0,2,18,16]),JSM.AddPolygonToBody(t,[0,3,6,2]),JSM.AddPolygonToBody(t,[0,8,11,3]),JSM.AddPolygonToBody(t,[1,4,7,5]),JSM.AddPolygonToBody(t,[1,5,13,9]),JSM.AddPolygonToBody(t,[1,17,20,4]),JSM.AddPolygonToBody(t,[2,6,14,10]),JSM.AddPolygonToBody(t,[3,19,22,6]),JSM.AddPolygonToBody(t,[4,12,15,7]),JSM.AddPolygonToBody(t,[5,7,23,21]),JSM.AddPolygonToBody(t,[8,9,13,11]),JSM.AddPolygonToBody(t,[8,16,17,9]),JSM.AddPolygonToBody(t,[10,12,20,18]),JSM.AddPolygonToBody(t,[10,14,15,12]),JSM.AddPolygonToBody(t,[11,13,21,19]),JSM.AddPolygonToBody(t,[14,22,23,15]),JSM.AddPolygonToBody(t,[16,18,20,17]),JSM.AddPolygonToBody(t,[19,21,23,22]),t},JSM.GenerateTruncatedCuboctahedron=function(){var t=new JSM.Body,e=1+Math.sqrt(2),i=1+2*Math.sqrt(2);return JSM.AddVertexToBody(t,1,+e,+i),JSM.AddVertexToBody(t,1,+e,-i),JSM.AddVertexToBody(t,1,-e,+i),JSM.AddVertexToBody(t,-1,+e,+i),JSM.AddVertexToBody(t,1,-e,-i),JSM.AddVertexToBody(t,-1,+e,-i),JSM.AddVertexToBody(t,-1,-e,+i),JSM.AddVertexToBody(t,-1,-e,-i),JSM.AddVertexToBody(t,1,+i,+e),JSM.AddVertexToBody(t,1,-i,+e),JSM.AddVertexToBody(t,1,+i,-e),JSM.AddVertexToBody(t,-1,+i,+e),JSM.AddVertexToBody(t,1,-i,-e),JSM.AddVertexToBody(t,-1,-i,+e),JSM.AddVertexToBody(t,-1,+i,-e),JSM.AddVertexToBody(t,-1,-i,-e),JSM.AddVertexToBody(t,+e,1,+i),JSM.AddVertexToBody(t,+e,1,-i),JSM.AddVertexToBody(t,-e,1,+i),JSM.AddVertexToBody(t,+e,-1,+i),JSM.AddVertexToBody(t,-e,1,-i),JSM.AddVertexToBody(t,+e,-1,-i),JSM.AddVertexToBody(t,-e,-1,+i),JSM.AddVertexToBody(t,-e,-1,-i),JSM.AddVertexToBody(t,+e,+i,1),JSM.AddVertexToBody(t,+e,-i,1),JSM.AddVertexToBody(t,-e,+i,1),JSM.AddVertexToBody(t,+e,+i,-1),JSM.AddVertexToBody(t,-e,-i,1),JSM.AddVertexToBody(t,+e,-i,-1),JSM.AddVertexToBody(t,-e,+i,-1),JSM.AddVertexToBody(t,-e,-i,-1),JSM.AddVertexToBody(t,+i,1,+e),JSM.AddVertexToBody(t,-i,1,+e),JSM.AddVertexToBody(t,+i,1,-e),JSM.AddVertexToBody(t,+i,-1,+e),JSM.AddVertexToBody(t,-i,1,-e),JSM.AddVertexToBody(t,-i,-1,+e),JSM.AddVertexToBody(t,+i,-1,-e),JSM.AddVertexToBody(t,-i,-1,-e),JSM.AddVertexToBody(t,+i,+e,1),JSM.AddVertexToBody(t,-i,+e,1),JSM.AddVertexToBody(t,+i,-e,1),JSM.AddVertexToBody(t,+i,+e,-1),JSM.AddVertexToBody(t,-i,-e,1),JSM.AddVertexToBody(t,-i,+e,-1),JSM.AddVertexToBody(t,+i,-e,-1),JSM.AddVertexToBody(t,-i,-e,-1),JSM.AddPolygonToBody(t,[0,8,11,3]),JSM.AddPolygonToBody(t,[1,5,14,10]),JSM.AddPolygonToBody(t,[2,6,13,9]),JSM.AddPolygonToBody(t,[4,12,15,7]),JSM.AddPolygonToBody(t,[16,19,35,32]),JSM.AddPolygonToBody(t,[17,34,38,21]),JSM.AddPolygonToBody(t,[18,33,37,22]),JSM.AddPolygonToBody(t,[23,39,36,20]),JSM.AddPolygonToBody(t,[24,40,43,27]),JSM.AddPolygonToBody(t,[25,29,46,42]),JSM.AddPolygonToBody(t,[26,30,45,41]),JSM.AddPolygonToBody(t,[28,44,47,31]),JSM.AddPolygonToBody(t,[0,16,32,40,24,8]),JSM.AddPolygonToBody(t,[1,10,27,43,34,17]),JSM.AddPolygonToBody(t,[2,9,25,42,35,19]),JSM.AddPolygonToBody(t,[3,11,26,41,33,18]),JSM.AddPolygonToBody(t,[4,21,38,46,29,12]),JSM.AddPolygonToBody(t,[5,20,36,45,30,14]),JSM.AddPolygonToBody(t,[6,22,37,44,28,13]),JSM.AddPolygonToBody(t,[7,15,31,47,39,23]),JSM.AddPolygonToBody(t,[0,3,18,22,6,2,19,16]),JSM.AddPolygonToBody(t,[1,17,21,4,7,23,20,5]),JSM.AddPolygonToBody(t,[8,24,27,10,14,30,26,11]),JSM.AddPolygonToBody(t,[9,13,28,31,15,12,29,25]),JSM.AddPolygonToBody(t,[32,35,42,46,38,34,43,40]),JSM.AddPolygonToBody(t,[33,41,45,36,39,47,44,37]),t},JSM.GenerateSnubCube=function(){var t=new JSM.Body,e=1/3*(Math.pow(17+3*Math.sqrt(33),1/3)-Math.pow(-17+3*Math.sqrt(33),1/3)-1),i=1/e;return JSM.AddVertexToBody(t,1,+e,-i),JSM.AddVertexToBody(t,1,-e,+i),JSM.AddVertexToBody(t,-1,+e,+i),JSM.AddVertexToBody(t,-1,-e,-i),JSM.AddVertexToBody(t,+e,-i,1),JSM.AddVertexToBody(t,-e,+i,1),JSM.AddVertexToBody(t,+e,+i,-1),JSM.AddVertexToBody(t,-e,-i,-1),JSM.AddVertexToBody(t,-i,1,+e),JSM.AddVertexToBody(t,+i,1,-e),JSM.AddVertexToBody(t,+i,-1,+e),JSM.AddVertexToBody(t,-i,-1,-e),JSM.AddVertexToBody(t,1,+i,+e),JSM.AddVertexToBody(t,1,-i,-e),JSM.AddVertexToBody(t,-1,+i,-e),JSM.AddVertexToBody(t,-1,-i,+e),JSM.AddVertexToBody(t,+e,1,+i),JSM.AddVertexToBody(t,-e,1,-i),JSM.AddVertexToBody(t,-e,-1,+i),JSM.AddVertexToBody(t,+e,-1,-i),JSM.AddVertexToBody(t,+i,+e,1),JSM.AddVertexToBody(t,-i,-e,1),JSM.AddVertexToBody(t,+i,-e,-1),JSM.AddVertexToBody(t,-i,+e,-1),JSM.AddPolygonToBody(t,[0,6,9]),JSM.AddPolygonToBody(t,[0,9,22]),JSM.AddPolygonToBody(t,[0,17,6]),JSM.AddPolygonToBody(t,[0,22,19]),JSM.AddPolygonToBody(t,[1,4,10]),JSM.AddPolygonToBody(t,[1,10,20]),JSM.AddPolygonToBody(t,[1,18,4]),JSM.AddPolygonToBody(t,[1,20,16]),JSM.AddPolygonToBody(t,[2,5,8]),JSM.AddPolygonToBody(t,[2,8,21]),JSM.AddPolygonToBody(t,[2,16,5]),JSM.AddPolygonToBody(t,[2,21,18]),JSM.AddPolygonToBody(t,[3,7,11]),JSM.AddPolygonToBody(t,[3,11,23]),JSM.AddPolygonToBody(t,[3,19,7]),JSM.AddPolygonToBody(t,[3,23,17]),JSM.AddPolygonToBody(t,[4,13,10]),JSM.AddPolygonToBody(t,[4,18,15]),JSM.AddPolygonToBody(t,[5,14,8]),JSM.AddPolygonToBody(t,[5,16,12]),JSM.AddPolygonToBody(t,[6,12,9]),JSM.AddPolygonToBody(t,[6,17,14]),JSM.AddPolygonToBody(t,[7,15,11]),JSM.AddPolygonToBody(t,[7,19,13]),JSM.AddPolygonToBody(t,[8,14,23]),JSM.AddPolygonToBody(t,[9,12,20]),JSM.AddPolygonToBody(t,[10,13,22]),JSM.AddPolygonToBody(t,[11,15,21]),JSM.AddPolygonToBody(t,[12,16,20]),JSM.AddPolygonToBody(t,[13,19,22]),JSM.AddPolygonToBody(t,[14,17,23]),JSM.AddPolygonToBody(t,[15,18,21]),JSM.AddPolygonToBody(t,[0,19,3,17]),JSM.AddPolygonToBody(t,[1,16,2,18]),JSM.AddPolygonToBody(t,[4,15,7,13]),JSM.AddPolygonToBody(t,[5,12,6,14]),JSM.AddPolygonToBody(t,[8,23,11,21]),JSM.AddPolygonToBody(t,[9,20,10,22]),t},JSM.GenerateIcosidodecahedron=function(){var t=new JSM.Body,e=(1+Math.sqrt(5))/2,i=e/2,r=(1+e)/2;return JSM.AddVertexToBody(t,0,0,+e),JSM.AddVertexToBody(t,0,0,-e),JSM.AddVertexToBody(t,0,+e,0),JSM.AddVertexToBody(t,0,-e,0),JSM.AddVertexToBody(t,+e,0,0),JSM.AddVertexToBody(t,-e,0,0),JSM.AddVertexToBody(t,.5,+i,+r),JSM.AddVertexToBody(t,.5,+i,-r),JSM.AddVertexToBody(t,.5,-i,+r),JSM.AddVertexToBody(t,-.5,+i,+r),JSM.AddVertexToBody(t,.5,-i,-r),JSM.AddVertexToBody(t,-.5,+i,-r),JSM.AddVertexToBody(t,-.5,-i,+r),JSM.AddVertexToBody(t,-.5,-i,-r),JSM.AddVertexToBody(t,+i,+r,.5),JSM.AddVertexToBody(t,+i,-r,.5),JSM.AddVertexToBody(t,-i,+r,.5),JSM.AddVertexToBody(t,+i,+r,-.5),JSM.AddVertexToBody(t,-i,-r,.5),JSM.AddVertexToBody(t,+i,-r,-.5),JSM.AddVertexToBody(t,-i,+r,-.5),JSM.AddVertexToBody(t,-i,-r,-.5),JSM.AddVertexToBody(t,+r,.5,+i),JSM.AddVertexToBody(t,-r,.5,+i),JSM.AddVertexToBody(t,+r,.5,-i),JSM.AddVertexToBody(t,+r,-.5,+i),JSM.AddVertexToBody(t,-r,.5,-i),JSM.AddVertexToBody(t,-r,-.5,+i),JSM.AddVertexToBody(t,+r,-.5,-i),JSM.AddVertexToBody(t,-r,-.5,-i),JSM.AddPolygonToBody(t,[0,6,9]),JSM.AddPolygonToBody(t,[0,12,8]),JSM.AddPolygonToBody(t,[1,10,13]),JSM.AddPolygonToBody(t,[1,11,7]),JSM.AddPolygonToBody(t,[2,14,17]),JSM.AddPolygonToBody(t,[2,20,16]),JSM.AddPolygonToBody(t,[3,18,21]),JSM.AddPolygonToBody(t,[3,19,15]),JSM.AddPolygonToBody(t,[4,22,25]),JSM.AddPolygonToBody(t,[4,28,24]),JSM.AddPolygonToBody(t,[5,26,29]),JSM.AddPolygonToBody(t,[5,27,23]),JSM.AddPolygonToBody(t,[6,22,14]),JSM.AddPolygonToBody(t,[7,17,24]),JSM.AddPolygonToBody(t,[8,15,25]),JSM.AddPolygonToBody(t,[9,16,23]),JSM.AddPolygonToBody(t,[10,28,19]),JSM.AddPolygonToBody(t,[11,26,20]),JSM.AddPolygonToBody(t,[12,27,18]),JSM.AddPolygonToBody(t,[13,21,29]),JSM.AddPolygonToBody(t,[0,8,25,22,6]),JSM.AddPolygonToBody(t,[0,9,23,27,12]),JSM.AddPolygonToBody(t,[1,7,24,28,10]),JSM.AddPolygonToBody(t,[1,13,29,26,11]),JSM.AddPolygonToBody(t,[2,16,9,6,14]),JSM.AddPolygonToBody(t,[2,17,7,11,20]),JSM.AddPolygonToBody(t,[3,15,8,12,18]),JSM.AddPolygonToBody(t,[3,21,13,10,19]),JSM.AddPolygonToBody(t,[4,24,17,14,22]),JSM.AddPolygonToBody(t,[4,25,15,19,28]),JSM.AddPolygonToBody(t,[5,23,16,20,26]),JSM.AddPolygonToBody(t,[5,29,21,18,27]),t},JSM.GenerateTruncatedDodecahedron=function(){var t=new JSM.Body,e=(1+Math.sqrt(5))/2,i=1/e,r=2+e,o=2*e,n=Math.pow(e,2);return JSM.AddVertexToBody(t,0,+i,+r),JSM.AddVertexToBody(t,0,+i,-r),JSM.AddVertexToBody(t,0,-i,+r),JSM.AddVertexToBody(t,0,-i,-r),JSM.AddVertexToBody(t,+r,0,+i),JSM.AddVertexToBody(t,-r,0,+i),JSM.AddVertexToBody(t,+r,0,-i),JSM.AddVertexToBody(t,-r,0,-i),JSM.AddVertexToBody(t,+i,+r,0),JSM.AddVertexToBody(t,+i,-r,0),JSM.AddVertexToBody(t,-i,+r,0),JSM.AddVertexToBody(t,-i,-r,0),JSM.AddVertexToBody(t,+i,+e,+o),JSM.AddVertexToBody(t,+i,+e,-o),JSM.AddVertexToBody(t,+i,-e,+o),JSM.AddVertexToBody(t,-i,+e,+o),JSM.AddVertexToBody(t,+i,-e,-o),JSM.AddVertexToBody(t,-i,+e,-o),JSM.AddVertexToBody(t,-i,-e,+o),JSM.AddVertexToBody(t,-i,-e,-o),JSM.AddVertexToBody(t,+o,+i,+e),JSM.AddVertexToBody(t,+o,+i,-e),JSM.AddVertexToBody(t,+o,-i,+e),JSM.AddVertexToBody(t,-o,+i,+e),JSM.AddVertexToBody(t,+o,-i,-e),JSM.AddVertexToBody(t,-o,+i,-e),JSM.AddVertexToBody(t,-o,-i,+e),JSM.AddVertexToBody(t,-o,-i,-e),JSM.AddVertexToBody(t,+e,+o,+i),JSM.AddVertexToBody(t,+e,+o,-i),JSM.AddVertexToBody(t,+e,-o,+i),JSM.AddVertexToBody(t,-e,+o,+i),JSM.AddVertexToBody(t,+e,-o,-i),JSM.AddVertexToBody(t,-e,+o,-i),JSM.AddVertexToBody(t,-e,-o,+i),JSM.AddVertexToBody(t,-e,-o,-i),JSM.AddVertexToBody(t,+e,2,+n),JSM.AddVertexToBody(t,+e,2,-n),JSM.AddVertexToBody(t,+e,-2,+n),JSM.AddVertexToBody(t,-e,2,+n),JSM.AddVertexToBody(t,+e,-2,-n),JSM.AddVertexToBody(t,-e,2,-n),JSM.AddVertexToBody(t,-e,-2,+n),JSM.AddVertexToBody(t,-e,-2,-n),JSM.AddVertexToBody(t,+n,+e,2),JSM.AddVertexToBody(t,+n,+e,-2),JSM.AddVertexToBody(t,+n,-e,2),JSM.AddVertexToBody(t,-n,+e,2),JSM.AddVertexToBody(t,+n,-e,-2),JSM.AddVertexToBody(t,-n,+e,-2),JSM.AddVertexToBody(t,-n,-e,2),JSM.AddVertexToBody(t,-n,-e,-2),JSM.AddVertexToBody(t,2,+n,+e),JSM.AddVertexToBody(t,2,+n,-e),JSM.AddVertexToBody(t,2,-n,+e),JSM.AddVertexToBody(t,-2,+n,+e),JSM.AddVertexToBody(t,2,-n,-e),JSM.AddVertexToBody(t,-2,+n,-e),JSM.AddVertexToBody(t,-2,-n,+e),JSM.AddVertexToBody(t,-2,-n,-e),JSM.AddPolygonToBody(t,[0,12,15]),JSM.AddPolygonToBody(t,[1,17,13]),JSM.AddPolygonToBody(t,[2,18,14]),JSM.AddPolygonToBody(t,[3,16,19]),JSM.AddPolygonToBody(t,[4,20,22]),JSM.AddPolygonToBody(t,[5,26,23]),JSM.AddPolygonToBody(t,[6,24,21]),JSM.AddPolygonToBody(t,[7,25,27]),JSM.AddPolygonToBody(t,[8,28,29]),JSM.AddPolygonToBody(t,[9,32,30]),JSM.AddPolygonToBody(t,[10,33,31]),JSM.AddPolygonToBody(t,[11,34,35]),JSM.AddPolygonToBody(t,[36,44,52]),JSM.AddPolygonToBody(t,[37,53,45]),JSM.AddPolygonToBody(t,[38,54,46]),JSM.AddPolygonToBody(t,[39,55,47]),JSM.AddPolygonToBody(t,[40,48,56]),JSM.AddPolygonToBody(t,[41,49,57]),JSM.AddPolygonToBody(t,[42,50,58]),JSM.AddPolygonToBody(t,[43,59,51]),JSM.AddPolygonToBody(t,[0,2,14,38,46,22,20,44,36,12]),JSM.AddPolygonToBody(t,[0,15,39,47,23,26,50,42,18,2]),JSM.AddPolygonToBody(t,[1,3,19,43,51,27,25,49,41,17]),JSM.AddPolygonToBody(t,[1,13,37,45,21,24,48,40,16,3]),JSM.AddPolygonToBody(t,[4,6,21,45,53,29,28,52,44,20]),JSM.AddPolygonToBody(t,[4,22,46,54,30,32,56,48,24,6]),JSM.AddPolygonToBody(t,[5,7,27,51,59,35,34,58,50,26]),JSM.AddPolygonToBody(t,[5,23,47,55,31,33,57,49,25,7]),JSM.AddPolygonToBody(t,[8,10,31,55,39,15,12,36,52,28]),JSM.AddPolygonToBody(t,[8,29,53,37,13,17,41,57,33,10]),JSM.AddPolygonToBody(t,[9,11,35,59,43,19,16,40,56,32]),JSM.AddPolygonToBody(t,[9,30,54,38,14,18,42,58,34,11]),t},JSM.GenerateTruncatedIcosahedron=function(){var t=new JSM.Body,e=(1+Math.sqrt(5))/2,i=3*e,r=1+2*e,o=2+e,n=2*e;return JSM.AddVertexToBody(t,0,1,+i),JSM.AddVertexToBody(t,0,1,-i),JSM.AddVertexToBody(t,0,-1,+i),JSM.AddVertexToBody(t,0,-1,-i),JSM.AddVertexToBody(t,1,+i,0),JSM.AddVertexToBody(t,1,-i,0),JSM.AddVertexToBody(t,-1,+i,0),JSM.AddVertexToBody(t,-1,-i,0),JSM.AddVertexToBody(t,+i,0,1),JSM.AddVertexToBody(t,-i,0,1),JSM.AddVertexToBody(t,+i,0,-1),JSM.AddVertexToBody(t,-i,0,-1),JSM.AddVertexToBody(t,2,+r,+e),JSM.AddVertexToBody(t,2,+r,-e),JSM.AddVertexToBody(t,2,-r,+e),JSM.AddVertexToBody(t,-2,+r,+e),JSM.AddVertexToBody(t,2,-r,-e),JSM.AddVertexToBody(t,-2,+r,-e),JSM.AddVertexToBody(t,-2,-r,+e),JSM.AddVertexToBody(t,-2,-r,-e),JSM.AddVertexToBody(t,+r,+e,2),JSM.AddVertexToBody(t,+r,-e,2),JSM.AddVertexToBody(t,-r,+e,2),JSM.AddVertexToBody(t,+r,+e,-2),JSM.AddVertexToBody(t,-r,-e,2),JSM.AddVertexToBody(t,+r,-e,-2),JSM.AddVertexToBody(t,-r,+e,-2),JSM.AddVertexToBody(t,-r,-e,-2),JSM.AddVertexToBody(t,+e,2,+r),JSM.AddVertexToBody(t,-e,2,+r),JSM.AddVertexToBody(t,+e,2,-r),JSM.AddVertexToBody(t,+e,-2,+r),JSM.AddVertexToBody(t,-e,2,-r),JSM.AddVertexToBody(t,-e,-2,+r),JSM.AddVertexToBody(t,+e,-2,-r),JSM.AddVertexToBody(t,-e,-2,-r),JSM.AddVertexToBody(t,1,+o,+n),JSM.AddVertexToBody(t,1,+o,-n),JSM.AddVertexToBody(t,1,-o,+n),JSM.AddVertexToBody(t,-1,+o,+n),JSM.AddVertexToBody(t,1,-o,-n),JSM.AddVertexToBody(t,-1,+o,-n),JSM.AddVertexToBody(t,-1,-o,+n),JSM.AddVertexToBody(t,-1,-o,-n),JSM.AddVertexToBody(t,+o,+n,1),JSM.AddVertexToBody(t,+o,-n,1),JSM.AddVertexToBody(t,-o,+n,1),JSM.AddVertexToBody(t,+o,+n,-1),JSM.AddVertexToBody(t,-o,-n,1),JSM.AddVertexToBody(t,+o,-n,-1),JSM.AddVertexToBody(t,-o,+n,-1),JSM.AddVertexToBody(t,-o,-n,-1),JSM.AddVertexToBody(t,+n,1,+o),JSM.AddVertexToBody(t,-n,1,+o),JSM.AddVertexToBody(t,+n,1,-o),JSM.AddVertexToBody(t,+n,-1,+o),JSM.AddVertexToBody(t,-n,1,-o),JSM.AddVertexToBody(t,-n,-1,+o),JSM.AddVertexToBody(t,+n,-1,-o),JSM.AddVertexToBody(t,-n,-1,-o),JSM.AddPolygonToBody(t,[0,28,36,39,29]),JSM.AddPolygonToBody(t,[1,32,41,37,30]),JSM.AddPolygonToBody(t,[2,33,42,38,31]),JSM.AddPolygonToBody(t,[3,34,40,43,35]),JSM.AddPolygonToBody(t,[4,12,44,47,13]),JSM.AddPolygonToBody(t,[5,16,49,45,14]),JSM.AddPolygonToBody(t,[6,17,50,46,15]),JSM.AddPolygonToBody(t,[7,18,48,51,19]),JSM.AddPolygonToBody(t,[8,20,52,55,21]),JSM.AddPolygonToBody(t,[9,24,57,53,22]),JSM.AddPolygonToBody(t,[10,25,58,54,23]),JSM.AddPolygonToBody(t,[11,26,56,59,27]),JSM.AddPolygonToBody(t,[0,2,31,55,52,28]),JSM.AddPolygonToBody(t,[0,29,53,57,33,2]),JSM.AddPolygonToBody(t,[1,3,35,59,56,32]),JSM.AddPolygonToBody(t,[1,30,54,58,34,3]),JSM.AddPolygonToBody(t,[4,6,15,39,36,12]),JSM.AddPolygonToBody(t,[4,13,37,41,17,6]),JSM.AddPolygonToBody(t,[5,7,19,43,40,16]),JSM.AddPolygonToBody(t,[5,14,38,42,18,7]),JSM.AddPolygonToBody(t,[8,10,23,47,44,20]),JSM.AddPolygonToBody(t,[8,21,45,49,25,10]),JSM.AddPolygonToBody(t,[9,11,27,51,48,24]),JSM.AddPolygonToBody(t,[9,22,46,50,26,11]),JSM.AddPolygonToBody(t,[12,36,28,52,20,44]),JSM.AddPolygonToBody(t,[13,47,23,54,30,37]),JSM.AddPolygonToBody(t,[14,45,21,55,31,38]),JSM.AddPolygonToBody(t,[15,46,22,53,29,39]),JSM.AddPolygonToBody(t,[16,40,34,58,25,49]),JSM.AddPolygonToBody(t,[17,41,32,56,26,50]),JSM.AddPolygonToBody(t,[18,42,33,57,24,48]),JSM.AddPolygonToBody(t,[19,51,27,59,35,43]),t},JSM.GenerateRhombicosidodecahedron=function(){var t=new JSM.Body,e=(1+Math.sqrt(5))/2,i=Math.pow(e,2),r=Math.pow(e,3),o=2*e,n=2+e;return JSM.AddVertexToBody(t,1,1,+r),JSM.AddVertexToBody(t,1,1,-r),JSM.AddVertexToBody(t,1,-1,+r),JSM.AddVertexToBody(t,-1,1,+r),JSM.AddVertexToBody(t,1,-1,-r),JSM.AddVertexToBody(t,-1,1,-r),JSM.AddVertexToBody(t,-1,-1,+r),JSM.AddVertexToBody(t,-1,-1,-r),JSM.AddVertexToBody(t,+r,1,1),JSM.AddVertexToBody(t,+r,1,-1),JSM.AddVertexToBody(t,+r,-1,1),JSM.AddVertexToBody(t,-r,1,1),JSM.AddVertexToBody(t,+r,-1,-1),JSM.AddVertexToBody(t,-r,1,-1),JSM.AddVertexToBody(t,-r,-1,1),JSM.AddVertexToBody(t,-r,-1,-1),JSM.AddVertexToBody(t,1,+r,1),JSM.AddVertexToBody(t,1,+r,-1),JSM.AddVertexToBody(t,1,-r,1),JSM.AddVertexToBody(t,-1,+r,1),JSM.AddVertexToBody(t,1,-r,-1),JSM.AddVertexToBody(t,-1,+r,-1),JSM.AddVertexToBody(t,-1,-r,1),JSM.AddVertexToBody(t,-1,-r,-1),JSM.AddVertexToBody(t,+i,+e,+o),JSM.AddVertexToBody(t,+i,+e,-o),JSM.AddVertexToBody(t,+i,-e,+o),JSM.AddVertexToBody(t,-i,+e,+o),JSM.AddVertexToBody(t,+i,-e,-o),JSM.AddVertexToBody(t,-i,+e,-o),JSM.AddVertexToBody(t,-i,-e,+o),JSM.AddVertexToBody(t,-i,-e,-o),JSM.AddVertexToBody(t,+o,+i,+e),JSM.AddVertexToBody(t,+o,+i,-e),JSM.AddVertexToBody(t,+o,-i,+e),JSM.AddVertexToBody(t,-o,+i,+e),JSM.AddVertexToBody(t,+o,-i,-e),JSM.AddVertexToBody(t,-o,+i,-e),JSM.AddVertexToBody(t,-o,-i,+e),JSM.AddVertexToBody(t,-o,-i,-e),JSM.AddVertexToBody(t,+e,+o,+i),JSM.AddVertexToBody(t,+e,+o,-i),JSM.AddVertexToBody(t,+e,-o,+i),JSM.AddVertexToBody(t,-e,+o,+i),JSM.AddVertexToBody(t,+e,-o,-i),JSM.AddVertexToBody(t,-e,+o,-i),JSM.AddVertexToBody(t,-e,-o,+i),JSM.AddVertexToBody(t,-e,-o,-i),JSM.AddVertexToBody(t,+n,0,+i),JSM.AddVertexToBody(t,+n,0,-i),JSM.AddVertexToBody(t,-n,0,+i),JSM.AddVertexToBody(t,-n,0,-i),JSM.AddVertexToBody(t,+i,+n,0),JSM.AddVertexToBody(t,-i,+n,0),JSM.AddVertexToBody(t,+i,-n,0),JSM.AddVertexToBody(t,-i,-n,0),JSM.AddVertexToBody(t,0,+i,+n),JSM.AddVertexToBody(t,0,-i,+n),JSM.AddVertexToBody(t,0,+i,-n),JSM.AddVertexToBody(t,0,-i,-n),JSM.AddPolygonToBody(t,[0,56,3]),JSM.AddPolygonToBody(t,[1,5,58]),JSM.AddPolygonToBody(t,[2,6,57]),JSM.AddPolygonToBody(t,[4,59,7]),JSM.AddPolygonToBody(t,[8,48,10]),JSM.AddPolygonToBody(t,[9,12,49]),JSM.AddPolygonToBody(t,[11,14,50]),JSM.AddPolygonToBody(t,[13,51,15]),JSM.AddPolygonToBody(t,[16,52,17]),JSM.AddPolygonToBody(t,[18,20,54]),JSM.AddPolygonToBody(t,[19,21,53]),JSM.AddPolygonToBody(t,[22,55,23]),JSM.AddPolygonToBody(t,[24,32,40]),JSM.AddPolygonToBody(t,[25,41,33]),JSM.AddPolygonToBody(t,[26,42,34]),JSM.AddPolygonToBody(t,[27,43,35]),JSM.AddPolygonToBody(t,[28,36,44]),JSM.AddPolygonToBody(t,[29,37,45]),JSM.AddPolygonToBody(t,[30,38,46]),JSM.AddPolygonToBody(t,[31,47,39]),JSM.AddPolygonToBody(t,[0,3,6,2]),JSM.AddPolygonToBody(t,[0,24,40,56]),JSM.AddPolygonToBody(t,[1,4,7,5]),JSM.AddPolygonToBody(t,[1,58,41,25]),JSM.AddPolygonToBody(t,[2,57,42,26]),JSM.AddPolygonToBody(t,[3,56,43,27]),JSM.AddPolygonToBody(t,[4,28,44,59]),JSM.AddPolygonToBody(t,[5,29,45,58]),JSM.AddPolygonToBody(t,[6,30,46,57]),JSM.AddPolygonToBody(t,[7,59,47,31]),JSM.AddPolygonToBody(t,[8,10,12,9]),JSM.AddPolygonToBody(t,[8,32,24,48]),JSM.AddPolygonToBody(t,[9,49,25,33]),JSM.AddPolygonToBody(t,[10,48,26,34]),JSM.AddPolygonToBody(t,[11,13,15,14]),JSM.AddPolygonToBody(t,[11,50,27,35]),JSM.AddPolygonToBody(t,[12,36,28,49]),JSM.AddPolygonToBody(t,[13,37,29,51]),JSM.AddPolygonToBody(t,[14,38,30,50]),JSM.AddPolygonToBody(t,[15,51,31,39]),JSM.AddPolygonToBody(t,[16,17,21,19]),JSM.AddPolygonToBody(t,[16,40,32,52]),JSM.AddPolygonToBody(t,[17,52,33,41]),JSM.AddPolygonToBody(t,[18,22,23,20]),JSM.AddPolygonToBody(t,[18,54,34,42]),JSM.AddPolygonToBody(t,[19,53,35,43]),JSM.AddPolygonToBody(t,[20,44,36,54]),JSM.AddPolygonToBody(t,[21,45,37,53]),JSM.AddPolygonToBody(t,[22,46,38,55]),JSM.AddPolygonToBody(t,[23,55,39,47]),JSM.AddPolygonToBody(t,[0,2,26,48,24]),JSM.AddPolygonToBody(t,[1,25,49,28,4]),JSM.AddPolygonToBody(t,[3,27,50,30,6]),JSM.AddPolygonToBody(t,[5,7,31,51,29]),JSM.AddPolygonToBody(t,[8,9,33,52,32]),JSM.AddPolygonToBody(t,[10,34,54,36,12]),JSM.AddPolygonToBody(t,[11,35,53,37,13]),JSM.AddPolygonToBody(t,[14,15,39,55,38]),JSM.AddPolygonToBody(t,[16,19,43,56,40]),JSM.AddPolygonToBody(t,[17,41,58,45,21]),JSM.AddPolygonToBody(t,[18,42,57,46,22]),JSM.AddPolygonToBody(t,[20,23,47,59,44]),t},JSM.GenerateTruncatedIcosidodecahedron=function(){var t=new JSM.Body,e=(1+Math.sqrt(5))/2,i=1/e,r=3+e,o=2/e,n=1+2*e,a=Math.pow(e,2),s=-1+3*e,l=-1+2*e,c=2+e,h=2*e;return JSM.AddVertexToBody(t,+i,+i,+r),JSM.AddVertexToBody(t,+i,+i,-r),JSM.AddVertexToBody(t,+i,-i,+r),JSM.AddVertexToBody(t,-i,+i,+r),JSM.AddVertexToBody(t,+i,-i,-r),JSM.AddVertexToBody(t,-i,+i,-r),JSM.AddVertexToBody(t,-i,-i,+r),JSM.AddVertexToBody(t,-i,-i,-r),JSM.AddVertexToBody(t,+i,+r,+i),JSM.AddVertexToBody(t,+i,-r,+i),JSM.AddVertexToBody(t,-i,+r,+i),JSM.AddVertexToBody(t,+i,+r,-i),JSM.AddVertexToBody(t,-i,-r,+i),JSM.AddVertexToBody(t,+i,-r,-i),JSM.AddVertexToBody(t,-i,+r,-i),JSM.AddVertexToBody(t,-i,-r,-i),JSM.AddVertexToBody(t,+r,+i,+i),JSM.AddVertexToBody(t,-r,+i,+i),JSM.AddVertexToBody(t,+r,+i,-i),JSM.AddVertexToBody(t,+r,-i,+i),JSM.AddVertexToBody(t,-r,+i,-i),JSM.AddVertexToBody(t,-r,-i,+i),JSM.AddVertexToBody(t,+r,-i,-i),JSM.AddVertexToBody(t,-r,-i,-i),JSM.AddVertexToBody(t,+o,+e,+n),JSM.AddVertexToBody(t,+o,+e,-n),JSM.AddVertexToBody(t,+o,-e,+n),JSM.AddVertexToBody(t,-o,+e,+n),JSM.AddVertexToBody(t,+o,-e,-n),JSM.AddVertexToBody(t,-o,+e,-n),JSM.AddVertexToBody(t,-o,-e,+n),JSM.AddVertexToBody(t,-o,-e,-n),JSM.AddVertexToBody(t,+e,+n,+o),JSM.AddVertexToBody(t,+e,-n,+o),JSM.AddVertexToBody(t,-e,+n,+o),JSM.AddVertexToBody(t,+e,+n,-o),JSM.AddVertexToBody(t,-e,-n,+o),JSM.AddVertexToBody(t,+e,-n,-o),JSM.AddVertexToBody(t,-e,+n,-o),JSM.AddVertexToBody(t,-e,-n,-o),JSM.AddVertexToBody(t,+n,+o,+e),JSM.AddVertexToBody(t,-n,+o,+e),JSM.AddVertexToBody(t,+n,+o,-e),JSM.AddVertexToBody(t,+n,-o,+e),JSM.AddVertexToBody(t,-n,+o,-e),JSM.AddVertexToBody(t,-n,-o,+e),JSM.AddVertexToBody(t,+n,-o,-e),JSM.AddVertexToBody(t,-n,-o,-e),JSM.AddVertexToBody(t,+i,+a,+s),JSM.AddVertexToBody(t,+i,+a,-s),JSM.AddVertexToBody(t,+i,-a,+s),JSM.AddVertexToBody(t,-i,+a,+s),JSM.AddVertexToBody(t,+i,-a,-s),JSM.AddVertexToBody(t,-i,+a,-s),JSM.AddVertexToBody(t,-i,-a,+s),JSM.AddVertexToBody(t,-i,-a,-s),JSM.AddVertexToBody(t,+a,+s,+i),JSM.AddVertexToBody(t,+a,-s,+i),JSM.AddVertexToBody(t,-a,+s,+i),JSM.AddVertexToBody(t,+a,+s,-i),JSM.AddVertexToBody(t,-a,-s,+i),JSM.AddVertexToBody(t,+a,-s,-i),JSM.AddVertexToBody(t,-a,+s,-i),JSM.AddVertexToBody(t,-a,-s,-i),JSM.AddVertexToBody(t,+s,+i,+a),JSM.AddVertexToBody(t,-s,+i,+a),JSM.AddVertexToBody(t,+s,+i,-a),JSM.AddVertexToBody(t,+s,-i,+a),JSM.AddVertexToBody(t,-s,+i,-a),JSM.AddVertexToBody(t,-s,-i,+a),JSM.AddVertexToBody(t,+s,-i,-a),JSM.AddVertexToBody(t,-s,-i,-a),JSM.AddVertexToBody(t,+l,2,+c),JSM.AddVertexToBody(t,+l,2,-c),JSM.AddVertexToBody(t,+l,-2,+c),JSM.AddVertexToBody(t,-l,2,+c),JSM.AddVertexToBody(t,+l,-2,-c),JSM.AddVertexToBody(t,-l,2,-c),JSM.AddVertexToBody(t,-l,-2,+c),JSM.AddVertexToBody(t,-l,-2,-c),JSM.AddVertexToBody(t,2,+c,+l),JSM.AddVertexToBody(t,2,-c,+l),JSM.AddVertexToBody(t,-2,+c,+l),JSM.AddVertexToBody(t,2,+c,-l),JSM.AddVertexToBody(t,-2,-c,+l),JSM.AddVertexToBody(t,2,-c,-l),JSM.AddVertexToBody(t,-2,+c,-l),JSM.AddVertexToBody(t,-2,-c,-l),JSM.AddVertexToBody(t,+c,+l,2),JSM.AddVertexToBody(t,-c,+l,2),JSM.AddVertexToBody(t,+c,+l,-2),JSM.AddVertexToBody(t,+c,-l,2),JSM.AddVertexToBody(t,-c,+l,-2),JSM.AddVertexToBody(t,-c,-l,2),JSM.AddVertexToBody(t,+c,-l,-2),JSM.AddVertexToBody(t,-c,-l,-2),JSM.AddVertexToBody(t,+e,3,+h),JSM.AddVertexToBody(t,+e,3,-h),JSM.AddVertexToBody(t,+e,-3,+h),JSM.AddVertexToBody(t,-e,3,+h),JSM.AddVertexToBody(t,+e,-3,-h),JSM.AddVertexToBody(t,-e,3,-h),JSM.AddVertexToBody(t,-e,-3,+h),JSM.AddVertexToBody(t,-e,-3,-h),JSM.AddVertexToBody(t,3,+h,+e),JSM.AddVertexToBody(t,3,-h,+e),JSM.AddVertexToBody(t,-3,+h,+e),JSM.AddVertexToBody(t,3,+h,-e),JSM.AddVertexToBody(t,-3,-h,+e),JSM.AddVertexToBody(t,3,-h,-e),JSM.AddVertexToBody(t,-3,+h,-e),JSM.AddVertexToBody(t,-3,-h,-e),JSM.AddVertexToBody(t,+h,+e,3),JSM.AddVertexToBody(t,-h,+e,3),JSM.AddVertexToBody(t,+h,+e,-3),JSM.AddVertexToBody(t,+h,-e,3),JSM.AddVertexToBody(t,-h,+e,-3),JSM.AddVertexToBody(t,-h,-e,3),JSM.AddVertexToBody(t,+h,-e,-3),JSM.AddVertexToBody(t,-h,-e,-3),JSM.AddPolygonToBody(t,[0,3,6,2]),JSM.AddPolygonToBody(t,[1,4,7,5]),JSM.AddPolygonToBody(t,[8,11,14,10]),JSM.AddPolygonToBody(t,[9,12,15,13]),JSM.AddPolygonToBody(t,[16,19,22,18]),JSM.AddPolygonToBody(t,[17,20,23,21]),JSM.AddPolygonToBody(t,[24,72,96,48]),JSM.AddPolygonToBody(t,[25,49,97,73]),JSM.AddPolygonToBody(t,[26,50,98,74]),JSM.AddPolygonToBody(t,[27,51,99,75]),JSM.AddPolygonToBody(t,[28,76,100,52]),JSM.AddPolygonToBody(t,[29,77,101,53]),JSM.AddPolygonToBody(t,[30,78,102,54]),JSM.AddPolygonToBody(t,[31,55,103,79]),JSM.AddPolygonToBody(t,[32,80,104,56]),JSM.AddPolygonToBody(t,[33,57,105,81]),JSM.AddPolygonToBody(t,[34,58,106,82]),JSM.AddPolygonToBody(t,[35,59,107,83]),JSM.AddPolygonToBody(t,[36,84,108,60]),JSM.AddPolygonToBody(t,[37,85,109,61]),JSM.AddPolygonToBody(t,[38,86,110,62]),JSM.AddPolygonToBody(t,[39,63,111,87]),JSM.AddPolygonToBody(t,[40,88,112,64]),JSM.AddPolygonToBody(t,[41,65,113,89]),JSM.AddPolygonToBody(t,[42,66,114,90]),JSM.AddPolygonToBody(t,[43,67,115,91]),JSM.AddPolygonToBody(t,[44,92,116,68]),JSM.AddPolygonToBody(t,[45,93,117,69]),JSM.AddPolygonToBody(t,[46,94,118,70]),JSM.AddPolygonToBody(t,[47,71,119,95]),JSM.AddPolygonToBody(t,[0,24,48,51,27,3]),JSM.AddPolygonToBody(t,[1,5,29,53,49,25]),JSM.AddPolygonToBody(t,[2,6,30,54,50,26]),JSM.AddPolygonToBody(t,[4,28,52,55,31,7]),JSM.AddPolygonToBody(t,[8,32,56,59,35,11]),JSM.AddPolygonToBody(t,[9,13,37,61,57,33]),JSM.AddPolygonToBody(t,[10,14,38,62,58,34]),JSM.AddPolygonToBody(t,[12,36,60,63,39,15]),JSM.AddPolygonToBody(t,[16,40,64,67,43,19]),JSM.AddPolygonToBody(t,[17,21,45,69,65,41]),JSM.AddPolygonToBody(t,[18,22,46,70,66,42]),JSM.AddPolygonToBody(t,[20,44,68,71,47,23]),JSM.AddPolygonToBody(t,[72,112,88,104,80,96]),JSM.AddPolygonToBody(t,[73,97,83,107,90,114]),JSM.AddPolygonToBody(t,[74,98,81,105,91,115]),JSM.AddPolygonToBody(t,[75,99,82,106,89,113]),JSM.AddPolygonToBody(t,[76,118,94,109,85,100]),JSM.AddPolygonToBody(t,[78,117,93,108,84,102]),JSM.AddPolygonToBody(t,[79,103,87,111,95,119]),JSM.AddPolygonToBody(t,[86,101,77,116,92,110]),JSM.AddPolygonToBody(t,[0,2,26,74,115,67,64,112,72,24]),JSM.AddPolygonToBody(t,[1,25,73,114,66,70,118,76,28,4]),JSM.AddPolygonToBody(t,[3,27,75,113,65,69,117,78,30,6]),JSM.AddPolygonToBody(t,[5,7,31,79,119,71,68,116,77,29]),JSM.AddPolygonToBody(t,[8,10,34,82,99,51,48,96,80,32]),JSM.AddPolygonToBody(t,[9,33,81,98,50,54,102,84,36,12]),JSM.AddPolygonToBody(t,[11,35,83,97,49,53,101,86,38,14]),JSM.AddPolygonToBody(t,[13,15,39,87,103,55,52,100,85,37]),JSM.AddPolygonToBody(t,[16,18,42,90,107,59,56,104,88,40]),JSM.AddPolygonToBody(t,[17,41,89,106,58,62,110,92,44,20]),JSM.AddPolygonToBody(t,[19,43,91,105,57,61,109,94,46,22]),JSM.AddPolygonToBody(t,[21,23,47,95,111,63,60,108,93,45]),t
},JSM.GenerateSnubDodecahedron=function(){var t=new JSM.Body,e=(1+Math.sqrt(5))/2,i=Math.pow(e/2+.5*Math.sqrt(e-5/27),1/3)+Math.pow(e/2-.5*Math.sqrt(e-5/27),1/3),r=i-1/i,o=i*e+Math.pow(e,2)+e/i,i=2*r,n=2*o,a=r+o/e+e,s=-(r*e)+o+1/e,l=r/e+o*e-1,c=-(r/e)+o*e+1,h=-r+o/e-e,u=r*e+o-1/e,d=-(r/e)+o*e-1,p=r-o/e-e,f=r*e+o+1/e,_=r+o/e-e,m=r*e-o+1/e,e=r/e+o*e+1;return JSM.AddVertexToBody(t,+i,2,-n),JSM.AddVertexToBody(t,+i,-2,+n),JSM.AddVertexToBody(t,-i,2,+n),JSM.AddVertexToBody(t,-i,-2,-n),JSM.AddVertexToBody(t,2,-n,+i),JSM.AddVertexToBody(t,-2,+n,+i),JSM.AddVertexToBody(t,2,+n,-i),JSM.AddVertexToBody(t,-2,-n,-i),JSM.AddVertexToBody(t,-n,+i,2),JSM.AddVertexToBody(t,+n,+i,-2),JSM.AddVertexToBody(t,+n,-i,2),JSM.AddVertexToBody(t,-n,-i,-2),JSM.AddVertexToBody(t,+a,+s,-l),JSM.AddVertexToBody(t,+a,-s,+l),JSM.AddVertexToBody(t,-a,+s,+l),JSM.AddVertexToBody(t,-a,-s,-l),JSM.AddVertexToBody(t,+s,-l,+a),JSM.AddVertexToBody(t,-s,+l,+a),JSM.AddVertexToBody(t,+s,+l,-a),JSM.AddVertexToBody(t,-s,-l,-a),JSM.AddVertexToBody(t,-l,+a,+s),JSM.AddVertexToBody(t,+l,+a,-s),JSM.AddVertexToBody(t,+l,-a,+s),JSM.AddVertexToBody(t,-l,-a,-s),JSM.AddVertexToBody(t,+c,+h,-u),JSM.AddVertexToBody(t,+c,-h,+u),JSM.AddVertexToBody(t,-c,+h,+u),JSM.AddVertexToBody(t,-c,-h,-u),JSM.AddVertexToBody(t,+h,-u,+c),JSM.AddVertexToBody(t,-h,+u,+c),JSM.AddVertexToBody(t,+h,+u,-c),JSM.AddVertexToBody(t,-h,-u,-c),JSM.AddVertexToBody(t,-u,+c,+h),JSM.AddVertexToBody(t,+u,+c,-h),JSM.AddVertexToBody(t,+u,-c,+h),JSM.AddVertexToBody(t,-u,-c,-h),JSM.AddVertexToBody(t,+d,+p,-f),JSM.AddVertexToBody(t,+d,-p,+f),JSM.AddVertexToBody(t,-d,+p,+f),JSM.AddVertexToBody(t,-d,-p,-f),JSM.AddVertexToBody(t,+p,-f,+d),JSM.AddVertexToBody(t,-p,+f,+d),JSM.AddVertexToBody(t,+p,+f,-d),JSM.AddVertexToBody(t,-p,-f,-d),JSM.AddVertexToBody(t,-f,+d,+p),JSM.AddVertexToBody(t,+f,+d,-p),JSM.AddVertexToBody(t,+f,-d,+p),JSM.AddVertexToBody(t,-f,-d,-p),JSM.AddVertexToBody(t,+_,+m,-e),JSM.AddVertexToBody(t,+_,-m,+e),JSM.AddVertexToBody(t,-_,+m,+e),JSM.AddVertexToBody(t,-_,-m,-e),JSM.AddVertexToBody(t,+m,-e,+_),JSM.AddVertexToBody(t,-m,+e,+_),JSM.AddVertexToBody(t,+m,+e,-_),JSM.AddVertexToBody(t,-m,-e,-_),JSM.AddVertexToBody(t,-e,+_,+m),JSM.AddVertexToBody(t,+e,+_,-m),JSM.AddVertexToBody(t,+e,-_,+m),JSM.AddVertexToBody(t,-e,-_,-m),JSM.AddPolygonToBody(t,[0,3,51]),JSM.AddPolygonToBody(t,[0,30,12]),JSM.AddPolygonToBody(t,[0,48,3]),JSM.AddPolygonToBody(t,[0,51,30]),JSM.AddPolygonToBody(t,[1,2,50]),JSM.AddPolygonToBody(t,[1,28,13]),JSM.AddPolygonToBody(t,[1,49,2]),JSM.AddPolygonToBody(t,[1,50,28]),JSM.AddPolygonToBody(t,[2,29,14]),JSM.AddPolygonToBody(t,[2,49,29]),JSM.AddPolygonToBody(t,[3,31,15]),JSM.AddPolygonToBody(t,[3,48,31]),JSM.AddPolygonToBody(t,[4,7,55]),JSM.AddPolygonToBody(t,[4,34,16]),JSM.AddPolygonToBody(t,[4,52,7]),JSM.AddPolygonToBody(t,[4,55,34]),JSM.AddPolygonToBody(t,[5,6,54]),JSM.AddPolygonToBody(t,[5,32,17]),JSM.AddPolygonToBody(t,[5,53,6]),JSM.AddPolygonToBody(t,[5,54,32]),JSM.AddPolygonToBody(t,[6,33,18]),JSM.AddPolygonToBody(t,[6,53,33]),JSM.AddPolygonToBody(t,[7,35,19]),JSM.AddPolygonToBody(t,[7,52,35]),JSM.AddPolygonToBody(t,[8,11,59]),JSM.AddPolygonToBody(t,[8,26,20]),JSM.AddPolygonToBody(t,[8,56,11]),JSM.AddPolygonToBody(t,[8,59,26]),JSM.AddPolygonToBody(t,[9,10,58]),JSM.AddPolygonToBody(t,[9,24,21]),JSM.AddPolygonToBody(t,[9,57,10]),JSM.AddPolygonToBody(t,[9,58,24]),JSM.AddPolygonToBody(t,[10,25,22]),JSM.AddPolygonToBody(t,[10,57,25]),JSM.AddPolygonToBody(t,[11,27,23]),JSM.AddPolygonToBody(t,[11,56,27]),JSM.AddPolygonToBody(t,[12,18,21]),JSM.AddPolygonToBody(t,[12,21,24]),JSM.AddPolygonToBody(t,[12,30,18]),JSM.AddPolygonToBody(t,[13,16,22]),JSM.AddPolygonToBody(t,[13,22,25]),JSM.AddPolygonToBody(t,[13,28,16]),JSM.AddPolygonToBody(t,[14,17,20]),JSM.AddPolygonToBody(t,[14,20,26]),JSM.AddPolygonToBody(t,[14,29,17]),JSM.AddPolygonToBody(t,[15,19,23]),JSM.AddPolygonToBody(t,[15,23,27]),JSM.AddPolygonToBody(t,[15,31,19]),JSM.AddPolygonToBody(t,[16,34,22]),JSM.AddPolygonToBody(t,[17,32,20]),JSM.AddPolygonToBody(t,[18,33,21]),JSM.AddPolygonToBody(t,[19,35,23]),JSM.AddPolygonToBody(t,[24,58,36]),JSM.AddPolygonToBody(t,[25,57,37]),JSM.AddPolygonToBody(t,[26,59,38]),JSM.AddPolygonToBody(t,[27,56,39]),JSM.AddPolygonToBody(t,[28,50,40]),JSM.AddPolygonToBody(t,[29,49,41]),JSM.AddPolygonToBody(t,[30,51,42]),JSM.AddPolygonToBody(t,[31,48,43]),JSM.AddPolygonToBody(t,[32,54,44]),JSM.AddPolygonToBody(t,[33,53,45]),JSM.AddPolygonToBody(t,[34,55,46]),JSM.AddPolygonToBody(t,[35,52,47]),JSM.AddPolygonToBody(t,[36,43,48]),JSM.AddPolygonToBody(t,[36,46,43]),JSM.AddPolygonToBody(t,[36,58,46]),JSM.AddPolygonToBody(t,[37,41,49]),JSM.AddPolygonToBody(t,[37,45,41]),JSM.AddPolygonToBody(t,[37,57,45]),JSM.AddPolygonToBody(t,[38,40,50]),JSM.AddPolygonToBody(t,[38,47,40]),JSM.AddPolygonToBody(t,[38,59,47]),JSM.AddPolygonToBody(t,[39,42,51]),JSM.AddPolygonToBody(t,[39,44,42]),JSM.AddPolygonToBody(t,[39,56,44]),JSM.AddPolygonToBody(t,[40,47,52]),JSM.AddPolygonToBody(t,[41,45,53]),JSM.AddPolygonToBody(t,[42,44,54]),JSM.AddPolygonToBody(t,[43,46,55]),JSM.AddPolygonToBody(t,[0,12,24,36,48]),JSM.AddPolygonToBody(t,[1,13,25,37,49]),JSM.AddPolygonToBody(t,[2,14,26,38,50]),JSM.AddPolygonToBody(t,[3,15,27,39,51]),JSM.AddPolygonToBody(t,[4,16,28,40,52]),JSM.AddPolygonToBody(t,[5,17,29,41,53]),JSM.AddPolygonToBody(t,[6,18,30,42,54]),JSM.AddPolygonToBody(t,[7,19,31,43,55]),JSM.AddPolygonToBody(t,[8,20,32,44,56]),JSM.AddPolygonToBody(t,[9,21,33,45,57]),JSM.AddPolygonToBody(t,[10,22,34,46,58]),JSM.AddPolygonToBody(t,[11,23,35,47,59]),t},JSM.AddCumulatedPolygonToBody=function(t,e,i){var r,o=new JSM.Coord(0,0,0),n=new JSM.Vector(0,0,0),a=o,s=[];for(r=0;r<e.length;r++)s.push(t.GetVertexPosition(e[r]));for(r=JSM.CalculateCentroid(s),s=JSM.CalculateNormal(s),a.Set(r.x,r.y,r.z),n.Set(s.x,s.y,s.z),o=JSM.CoordOffset(o,n,i),i=t.VertexCount(),JSM.AddVertexToBody(t,o.x,o.y,o.z),o=e.length,n=0;o>n;n++)a=e[n],s=e[o-1>n?n+1:0],JSM.AddPolygonToBody(t,[a,s,i])},JSM.GenerateCumulatedTetrahedron=function(t){var e=new JSM.Body;return e.AddVertex(new JSM.BodyVertex(new JSM.Coord(1,1,1))),e.AddVertex(new JSM.BodyVertex(new JSM.Coord(-1,-1,1))),e.AddVertex(new JSM.BodyVertex(new JSM.Coord(-1,1,-1))),e.AddVertex(new JSM.BodyVertex(new JSM.Coord(1,-1,-1))),t*=2*Math.sqrt(2),JSM.AddCumulatedPolygonToBody(e,[0,1,3],t),JSM.AddCumulatedPolygonToBody(e,[0,2,1],t),JSM.AddCumulatedPolygonToBody(e,[0,3,2],t),JSM.AddCumulatedPolygonToBody(e,[1,2,3],t),e},JSM.GenerateCumulatedHexahedron=function(t){var e=new JSM.Body;return JSM.AddVertexToBody(e,1,1,1),JSM.AddVertexToBody(e,1,1,-1),JSM.AddVertexToBody(e,1,-1,1),JSM.AddVertexToBody(e,-1,1,1),JSM.AddVertexToBody(e,1,-1,-1),JSM.AddVertexToBody(e,-1,1,-1),JSM.AddVertexToBody(e,-1,-1,1),JSM.AddVertexToBody(e,-1,-1,-1),t*=2,JSM.AddCumulatedPolygonToBody(e,[0,1,5,3],t),JSM.AddCumulatedPolygonToBody(e,[0,2,4,1],t),JSM.AddCumulatedPolygonToBody(e,[0,3,6,2],t),JSM.AddCumulatedPolygonToBody(e,[1,4,7,5],t),JSM.AddCumulatedPolygonToBody(e,[2,6,7,4],t),JSM.AddCumulatedPolygonToBody(e,[3,5,7,6],t),e},JSM.GenerateCumulatedOctahedron=function(t){var e=new JSM.Body;return JSM.AddVertexToBody(e,1,0,0),JSM.AddVertexToBody(e,-1,0,0),JSM.AddVertexToBody(e,0,1,0),JSM.AddVertexToBody(e,0,-1,0),JSM.AddVertexToBody(e,0,0,1),JSM.AddVertexToBody(e,0,0,-1),t*=Math.sqrt(2),JSM.AddCumulatedPolygonToBody(e,[0,2,4],t),JSM.AddCumulatedPolygonToBody(e,[0,3,5],t),JSM.AddCumulatedPolygonToBody(e,[0,4,3],t),JSM.AddCumulatedPolygonToBody(e,[0,5,2],t),JSM.AddCumulatedPolygonToBody(e,[1,2,5],t),JSM.AddCumulatedPolygonToBody(e,[1,3,4],t),JSM.AddCumulatedPolygonToBody(e,[1,4,2],t),JSM.AddCumulatedPolygonToBody(e,[1,5,3],t),e},JSM.GenerateCumulatedDodecahedron=function(t){var e=new JSM.Body,i=(1+Math.sqrt(5))/2,r=1/i;return JSM.AddVertexToBody(e,1,1,1),JSM.AddVertexToBody(e,1,1,-1),JSM.AddVertexToBody(e,1,-1,1),JSM.AddVertexToBody(e,-1,1,1),JSM.AddVertexToBody(e,1,-1,-1),JSM.AddVertexToBody(e,-1,1,-1),JSM.AddVertexToBody(e,-1,-1,1),JSM.AddVertexToBody(e,-1,-1,-1),JSM.AddVertexToBody(e,0,+r,+i),JSM.AddVertexToBody(e,0,+r,-i),JSM.AddVertexToBody(e,0,-r,+i),JSM.AddVertexToBody(e,0,-r,-i),JSM.AddVertexToBody(e,+r,+i,0),JSM.AddVertexToBody(e,+r,-i,0),JSM.AddVertexToBody(e,-r,+i,0),JSM.AddVertexToBody(e,-r,-i,0),JSM.AddVertexToBody(e,+i,0,+r),JSM.AddVertexToBody(e,-i,0,+r),JSM.AddVertexToBody(e,+i,0,-r),JSM.AddVertexToBody(e,-i,0,-r),t*=Math.sqrt(5)-1,JSM.AddCumulatedPolygonToBody(e,[0,8,10,2,16],t),JSM.AddCumulatedPolygonToBody(e,[0,16,18,1,12],t),JSM.AddCumulatedPolygonToBody(e,[0,12,14,3,8],t),JSM.AddCumulatedPolygonToBody(e,[1,9,5,14,12],t),JSM.AddCumulatedPolygonToBody(e,[1,18,4,11,9],t),JSM.AddCumulatedPolygonToBody(e,[2,10,6,15,13],t),JSM.AddCumulatedPolygonToBody(e,[2,13,4,18,16],t),JSM.AddCumulatedPolygonToBody(e,[3,14,5,19,17],t),JSM.AddCumulatedPolygonToBody(e,[3,17,6,10,8],t),JSM.AddCumulatedPolygonToBody(e,[4,13,15,7,11],t),JSM.AddCumulatedPolygonToBody(e,[5,9,11,7,19],t),JSM.AddCumulatedPolygonToBody(e,[6,17,19,7,15],t),e},JSM.GenerateCumulatedIcosahedron=function(t){var e=new JSM.Body,i=(1+Math.sqrt(5))/2;return JSM.AddVertexToBody(e,0,1,+i),JSM.AddVertexToBody(e,0,1,-i),JSM.AddVertexToBody(e,0,-1,+i),JSM.AddVertexToBody(e,0,-1,-i),JSM.AddVertexToBody(e,1,+i,0),JSM.AddVertexToBody(e,1,-i,0),JSM.AddVertexToBody(e,-1,+i,0),JSM.AddVertexToBody(e,-1,-i,0),JSM.AddVertexToBody(e,+i,0,1),JSM.AddVertexToBody(e,-i,0,1),JSM.AddVertexToBody(e,+i,0,-1),JSM.AddVertexToBody(e,-i,0,-1),t*=2,JSM.AddCumulatedPolygonToBody(e,[0,2,8],t),JSM.AddCumulatedPolygonToBody(e,[0,4,6],t),JSM.AddCumulatedPolygonToBody(e,[0,6,9],t),JSM.AddCumulatedPolygonToBody(e,[0,8,4],t),JSM.AddCumulatedPolygonToBody(e,[0,9,2],t),JSM.AddCumulatedPolygonToBody(e,[1,3,11],t),JSM.AddCumulatedPolygonToBody(e,[1,4,10],t),JSM.AddCumulatedPolygonToBody(e,[1,6,4],t),JSM.AddCumulatedPolygonToBody(e,[1,10,3],t),JSM.AddCumulatedPolygonToBody(e,[1,11,6],t),JSM.AddCumulatedPolygonToBody(e,[2,5,8],t),JSM.AddCumulatedPolygonToBody(e,[2,7,5],t),JSM.AddCumulatedPolygonToBody(e,[2,9,7],t),JSM.AddCumulatedPolygonToBody(e,[3,5,7],t),JSM.AddCumulatedPolygonToBody(e,[3,7,11],t),JSM.AddCumulatedPolygonToBody(e,[3,10,5],t),JSM.AddCumulatedPolygonToBody(e,[4,8,10],t),JSM.AddCumulatedPolygonToBody(e,[6,11,9],t),JSM.AddCumulatedPolygonToBody(e,[5,10,8],t),JSM.AddCumulatedPolygonToBody(e,[7,9,11],t),e},JSM.GenerateTetrakisHexahedron=function(){return JSM.GenerateCumulatedHexahedron(.25)},JSM.GenerateRhombicDodecahedron=function(){return JSM.GenerateCumulatedHexahedron(.5)},JSM.GeneratePentakisDodecahedron=function(){var t=Math.sqrt((65+22*Math.sqrt(5))/5)/19;return JSM.GenerateCumulatedDodecahedron(t)},JSM.GenerateSmallStellatedDodecahedron=function(){var t=Math.sqrt((5+2*Math.sqrt(5))/5);return JSM.GenerateCumulatedDodecahedron(t)},JSM.GenerateGreatDodecahedron=function(){var t=Math.sqrt(3)*(Math.sqrt(5)-3)/6;return JSM.GenerateCumulatedIcosahedron(t)},JSM.GenerateSmallTriambicIcosahedron=function(){var t=Math.sqrt(15)/15;return JSM.GenerateCumulatedIcosahedron(t)},JSM.GenerateGreatStellatedDodecahedron=function(){var t=Math.sqrt(3)*(3+Math.sqrt(5))/6;return JSM.GenerateCumulatedIcosahedron(t)},JSM.GenerateSmallTriakisOctahedron=function(){var t=Math.sqrt(3)-2*Math.sqrt(6)/3;return JSM.GenerateCumulatedOctahedron(t)},JSM.GenerateStellaOctangula=function(){var t=Math.sqrt(6)/3;return JSM.GenerateCumulatedOctahedron(t)},JSM.GenerateTriakisTetrahedron=function(){var t=Math.sqrt(6)/15;return JSM.GenerateCumulatedTetrahedron(t)},JSM.LegoDimensions=function(){this.legoWidth=.78,this.legoSmallHeight=.32,this.legoLargeHeight=.96,this.legoWallWidth=.16,this.legoCylinderWidth=.5,this.legoCylinderHeight=.17,this.legoBottomSmallCylinderWidth=.3,this.legoBottomLargeCylinderWidth=.6,this.legoBottomLargeCylinderWallWidth=.1},JSM.GenerateLegoBrick=function(t,e,i,r,o,n,a){function s(t,e){var i,r;for(i=0;i<t.VertexCount();i++)r=t.GetVertex(i),r.position=JSM.CoordAdd(r.position,e)}var l=new JSM.LegoDimensions,c=new JSM.Vector(0,0,1),h=l.legoWidth,u=l.legoLargeHeight;i||(u=l.legoSmallHeight),i=l.legoWallWidth;var d=l.legoCylinderWidth,p=l.legoCylinderHeight,f=l.legoBottomSmallCylinderWidth,_=l.legoBottomLargeCylinderWidth,m=l.legoBottomLargeCylinderWallWidth,g=[];g.push(new JSM.Coord(0,0,0)),g.push(new JSM.Coord(h*t,0,0)),g.push(new JSM.Coord(h*t,h*e,0)),g.push(new JSM.Coord(0,h*e,0));var l=new JSM.Body,y=JSM.GeneratePrismShell(g,c,u-i,i,!0);for(l.Merge(y),y=0;4>y;y++)g[y].z=u-i;if(y=JSM.GeneratePrism(g,c,i,!0),l.Merge(y),r)for(y=0;t>y;y++)for(g=0;e>g;g++)r=new JSM.Coord(h*y+h/2,h*g+h/2,u+p/2),c=JSM.GenerateCylinder(d/2,p,n,!0,a),s(c,r),l.Merge(c);if(o)if(1===t&&e>1||1===e&&t>1)for(o=e,d=!0,t>e&&(o=t,d=!1),y=0;o-1>y;y++)r=d?new JSM.Coord(h/2,h*(y+1),(u-i)/2):new JSM.Coord(h*(y+1),h/2,(u-i)/2),c=JSM.GenerateCylinder(f/2,u-i,n,!0,a),s(c,r),l.Merge(c);else if(t>1&&e>1)for(y=0;t-1>y;y++)for(g=0;e-1>g;g++)r=new JSM.Coord(h*(y+1),h*(g+1),(u-i)/2),c=JSM.GenerateCylinderShell(_/2,u-i,m,n,!0,a),s(c,r),l.Merge(c);return l.SetCubicTextureProjection(new JSM.Coord(0,0,0),new JSM.Coord(1,0,0),new JSM.Coord(0,1,0),new JSM.Coord(0,0,1)),l},JSM.GenerateConvexHullBody=function(t){var e,i,r,o,n=new JSM.Body,a=JSM.ConvexHull3D(t),s={};for(e=0;e<a.length;e++)for(r=a[e],i=0;i<r.length;i++)o=r[i],o in s||(s[o]=n.VertexCount(),n.AddVertex(new JSM.BodyVertex(t[o])));for(e=0;e<a.length;e++){for(r=a[e],t=[],i=0;i<r.length;i++)o=r[i],t.push(s[o]);n.AddPolygon(new JSM.BodyPolygon(t))}return n},JSM.GenerateSuperShape=function(t,e,i,r,o,n,a,s,l,c,h,u,d,p){function f(t){var e=Math.sqrt(t.x*t.x+t.y*t.y+t.z*t.z),i=Math.asin(t.z/e);return t=Math.atan2(t.y,t.x),[e,i,t]}function _(t,e,i,r,o,n,a){return e=Math.abs(Math.cos(r*t/4)/e),t=Math.abs(Math.sin(r*t/4)/i),Math.pow(Math.pow(e,n)+Math.pow(t,a),-1/o)}function m(d,p){var f=new JSM.Coord(0,0,0),m=_(d,a,s,l,c,h,u),g=_(p,t,e,i,r,o,n);return f.x=g*Math.cos(p)*m*Math.cos(d),f.y=g*Math.sin(p)*m*Math.cos(d),f.z=m*Math.sin(d),f}d=JSM.GenerateSphere(1,d,p);var g,y;for(p=0;p<d.VertexCount();p++)g=d.GetVertex(p),y=g.position,y=f(y),y=m(y[1],y[2]),g.SetPosition(y);return d},JSM.OrderPolygons=function(t,e,i){var r,o,n=[],a=[],s=[],l=[],c=[],h=[],u=[],d=t.PolygonCount();for(r=0;d>r;r++)for(h.push(r),u.push([]),o=0;d>o;o++)u[r].push(null);return function(){var r,o,h,u,d,p,f=JSM.VectorNormalize(JSM.CoordSub(i,e)),f=JSM.GetPlaneFromCoordAndDirection(e,f);for(r=0;r<t.PolygonCount();r++){for(d=JSM.Inf,p=-JSM.Inf,h=t.GetPolygon(r),o=0;o<h.VertexIndexCount();o++)u=t.GetVertexPosition(h.GetVertexIndex(o)),u=JSM.CoordPlaneDistance(u,f),JSM.IsLower(u,d)&&(d=u),JSM.IsGreater(u,p)&&(p=u);for(n.push(d),a.push(p),o=t.GetPolygon(r),h=new JSM.Coord(0,0,0),p=d=void 0,d=0;d<o.VertexIndexCount();d++)p=t.GetVertexPosition(o.GetVertexIndex(d)),h=JSM.CoordAdd(h,p);o=h=JSM.VectorMultiply(h,1/o.VertexIndexCount()),h=JSM.CoordPlaneDistance(o,f),s.push(o),l.push(h),h=JSM.CalculateBodyPolygonNormal(t,r),d=JSM.VectorNormalize(JSM.CoordSub(o,e)),d=JSM.VectorDot(h,d),JSM.IsGreaterOrEqual(d,0)&&(h=JSM.VectorMultiply(h,-1)),o=JSM.GetPlaneFromCoordAndDirection(o,h),c.push(o)}}(),function(){var t,e,i=h.length;for(t=0;i-1>t;t++)for(e=0;i-t-1>e;e++){var r;r=h[e];var o=h[e+1];if(r=JSM.IsLower(a[r],a[o])?!0:JSM.IsEqual(a[r],a[o])&&JSM.IsLower(l[r],l[o])?!0:!1){r=h;var o=e+1,n=r[e];r[e]=r[o],r[o]=n}}}(),function(){var e,i,r=h.length;for(e=0;r-1>e;e++)for(i=0;r-e-1>i;i++){var o;o=h[i];var s=h[i+1];if(null!==u[o][s])o=u[o][s];else{var l;if(l=JSM.IsLowerOrEqual(n[o],a[s])){var d=s;l=c[o];for(var p=c[d],f=void 0,_=void 0,m=!0,g=t.GetPolygon(o),f=0;f<g.VertexIndexCount();f++)if(_=t.GetVertexPosition(g.GetVertexIndex(f)),"CoordInFrontOfPlane"===JSM.CoordPlanePosition(_,p)){m=!1;break}if(m)l=!1;else{for(p=!0,d=t.GetPolygon(d),f=0;f<d.VertexIndexCount();f++)if(_=t.GetVertexPosition(d.GetVertexIndex(f)),"CoordAtBackOfPlane"===JSM.CoordPlanePosition(_,l)){p=!1;break}l=p?!1:!0}}o=u[o][s]=l?!0:!1}o&&(o=h,s=i+1,l=o[i],o[i]=o[s],o[s]=l)}}(),h},JSM.CanvasDrawer=function(t){this.canvas=t,this.context=this.canvas.getContext("2d")},JSM.CanvasDrawer.prototype.GetWidth=function(){return this.canvas.width},JSM.CanvasDrawer.prototype.GetHeight=function(){return this.canvas.height},JSM.CanvasDrawer.prototype.BeginPath=function(){this.context.beginPath()},JSM.CanvasDrawer.prototype.EndPath=function(){this.context.stroke()},JSM.CanvasDrawer.prototype.Clear=function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.fillStyle="#ffffff",this.context.fillRect(0,0,this.canvas.width,this.canvas.height)},JSM.CanvasDrawer.prototype.DrawLine=function(t,e){this.context.moveTo(t.x,this.canvas.height-t.y),this.context.lineTo(e.x,this.canvas.height-e.y)},JSM.CanvasDrawer.prototype.DrawPolygon=function(t,e){var i=this.context,r=JSM.HexColorToRGBComponents(e);i.fillStyle="rgb("+r[0]+","+r[1]+","+r[2]+")",this.context.beginPath();for(var o,i=0;i<t.VertexCount();i++)r=t.GetVertex(i),0===i?this.context.moveTo(r.x,this.canvas.height-r.y):this.context.lineTo(r.x,this.canvas.height-r.y);for(this.context.closePath(),this.context.fill(),this.BeginPath(),i=0;i<t.VertexCount();i++)r=t.GetVertex(i),o=t.GetVertex(i<t.VertexCount()-1?i+1:0),this.DrawLine(r,o);this.EndPath()},JSM.SVGDrawer=function(t){this.svgObject=t,this.svgNameSpace="http://www.w3.org/2000/svg"},JSM.SVGDrawer.prototype.GetWidth=function(){return this.svgObject.getAttribute("width")},JSM.SVGDrawer.prototype.GetHeight=function(){return this.svgObject.getAttribute("height")},JSM.SVGDrawer.prototype.BeginPath=function(){},JSM.SVGDrawer.prototype.EndPath=function(){},JSM.SVGDrawer.prototype.Clear=function(){for(;this.svgObject.lastChild;)this.svgObject.removeChild(this.svgObject.lastChild)},JSM.SVGDrawer.prototype.DrawLine=function(t,e){var i=document.createElementNS(this.svgNameSpace,"line"),r=this.GetHeight();i.setAttributeNS(null,"stroke","black"),i.setAttributeNS(null,"x1",t.x),i.setAttributeNS(null,"y1",r-t.y),i.setAttributeNS(null,"x2",e.x),i.setAttributeNS(null,"y2",r-e.y),this.svgObject.appendChild(i)},JSM.SVGDrawer.prototype.DrawPolygon=function(t,e){var i,r,o="",n=this.GetHeight();for(i=0;i<t.VertexCount();i++)r=t.GetVertex(i),o=o+r.x+", "+(n-r.y),i<t.VertexCount()-1&&(o+=", ");n=document.createElementNS(this.svgNameSpace,"polygon"),n.setAttributeNS(null,"points",o),n.setAttributeNS(null,"fill",function(t){return t=JSM.HexColorToRGBComponents(t),"rgb("+t[0]+","+t[1]+","+t[2]+")"}(e)),n.setAttributeNS(null,"fill-opacity","1.0"),n.setAttributeNS(null,"stroke","black"),this.svgObject.appendChild(n)},JSM.DrawProjectedBody=function(t,e,i,r,o,n){function a(e){var i,r,o,n=new JSM.Polygon2D;for(i=0;i<e.VertexIndexCount();i++)r=t.GetVertexPosition(e.GetVertexIndex(i)),o=JSM.Project(r,l,c,h,u*JSM.DegRad,d,p,f,_),r=o.x,o=o.y,n.AddVertex(r,o);return n}o&&n.Clear(),o=n.GetWidth();var s=n.GetHeight(),l=i.eye,c=i.center,h=i.up,u=i.fieldOfView,d=o/s,p=i.nearClippingPlane,f=i.farClippingPlane,_=[0,0,o,s];if("HiddenLinePainter"==r)for(s=JSM.OrderPolygons(t,l,c),(void 0===e||null===e)&&(e=new JSM.Materials),i=0;i<s.length;i++)o=t.GetPolygon(s[i]),r=a(o),o=o.GetMaterialIndex(),o=e.GetMaterial(o).diffuse,n.DrawPolygon(r,o);else if("HiddenLineFrontFacing"==r)for((void 0===e||null===e)&&(e=new JSM.Materials),i=0;i<t.PolygonCount();i++)o=t.GetPolygon(i),r=a(o),"CounterClockwise"==JSM.PolygonOrientation2D(r)&&(o=o.GetMaterialIndex(),o=e.GetMaterial(o).diffuse,n.DrawPolygon(r,o));else if("Wireframe"==r){var m,g,y;n.BeginPath();var b=[];for(i=0;i<t.PolygonCount();i++)for(g=m=null,o=t.GetPolygon(i),s=o.VertexIndexCount(),e=0;s>=e;e++)y=o.GetVertexIndex(e%s),r=t.GetVertexPosition(y),r=JSM.Project(r,l,c,h,u*JSM.DegRad,d,p,f,_),null!==m&&null!==g&&void 0===b[[g,y]]&&(n.DrawLine(m,r),b[[g,y]]=!0,b[[y,g]]=!0),g=y,m=r;n.EndPath()}return!0},JSM.CatmullClarkSubdivisionOneIteration=function(t){var e=new JSM.Body,i=JSM.CalculateAdjacencyInfo(t);!function(){var r,o;for(r=0;r<i.verts.length;r++)o=t.GetVertex(r).position,e.AddVertex(new JSM.BodyVertex(new JSM.Coord(o.x,o.y,o.z)))}();var r=[];!function(){var o,n,a,s,l;for(o=0;o<i.pgons.length;o++){for(a=i.pgons[o],l=new JSM.Coord(0,0,0),n=0;n<a.verts.length;n++)s=t.GetVertex(a.verts[n]).position,l=JSM.CoordAdd(l,s);l=JSM.VectorMultiply(l,1/a.verts.length),r.push(e.AddVertex(new JSM.BodyVertex(l)))}}();var o=[];return function(){var n,a,s,l,c;for(n=0;n<i.edges.length;n++){for(s=i.edges[n],l=new JSM.Coord(0,0,0),l=JSM.CoordAdd(l,JSM.VectorMultiply(t.GetVertex(s.vert1).position,.25)),l=JSM.CoordAdd(l,JSM.VectorMultiply(t.GetVertex(s.vert2).position,.25)),a=0;2>a;a++)c=0===a?s.pgon1:s.pgon2,-1===c&&(c=0===a?s.pgon2:s.pgon1),c=e.GetVertex(r[c]).position,l=JSM.CoordAdd(l,JSM.VectorMultiply(c,.25));o.push(e.AddVertex(new JSM.BodyVertex(l)))}}(),function(){var o,n,a,s,l=[];for(a=0;a<i.edges.length;a++)o=i.edges[a],n=JSM.MidCoord(t.GetVertex(o.vert1).position,t.GetVertex(o.vert2).position),l.push(n);var c,h,u;for(a=0;a<i.verts.length;a++){for(c=i.verts[a],u=new JSM.Coord(0,0,0),o=new JSM.Coord(0,0,0),h=1/c.pgons.length,s=0;s<c.pgons.length;s++)n=e.GetVertex(r[c.pgons[s]]).position,u=JSM.CoordAdd(u,JSM.VectorMultiply(n,h));for(h=1/c.edges.length,s=0;s<c.edges.length;s++)n=l[c.edges[s]],o=JSM.CoordAdd(o,JSM.VectorMultiply(n,h));c=c.edges.length,s=e.GetVertex(a).position,s.x=(u.x+2*o.x+(c-3)*s.x)/c,s.y=(u.y+2*o.y+(c-3)*s.y)/c,s.z=(u.z+2*o.z+(c-3)*s.z)/c}}(),function(){var n,a,s,l,c,h,u,d;for(h=0;h<i.pgons.length;h++)for(d=i.pgons[h],n=d.verts.length,u=0;n>u;u++)a=d.pedges[u],s=d.pedges[(u+1)%n],l=r[h],a=o[a.index],c=JSM.GetPolyEdgeStartVertex(s,i),s=o[s.index],l=new JSM.BodyPolygon([l,a,c,s]),s=t.GetPolygon(h),l.material=s.material,l.curved=s.curved,e.AddPolygon(l)}(),e},JSM.CatmullClarkSubdivision=function(t,e){var i,r=t;for(i=0;e>i;i++)r=JSM.CatmullClarkSubdivisionOneIteration(r);return r},JSM.SvgToModel=function(t,e,i){function r(t,e){function i(t,e,i,r,o,n){return t=t.createSVGPoint(),t.x=o,t.y=n,r=t.matrixTransform(r.getCTM()),t=new JSM.Coord2D(r.x,r.y),o=new JSM.Coord2D(o,n),n=e.VertexCount(i),n>0&&JSM.CoordIsEqual2DWithEps(e.GetVertex(i,n-1),t,.1)?o:(e.AddVertex(i,r.x,r.y),o)}function r(t,e,r,o,n,a,s){var l,c,h,u,d,p=document.createElementNS("http://www.w3.org/2000/svg","path"),f="M "+o.x+" "+o.y+" ";for(l=0;l<n.length;l++)c=n[l],c.pathSegType==SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS||c.pathSegType==SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL?(h=c.pathSegType==SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS?"C":"c",f+=h+" "+c.x1+" "+c.y1+" "+c.x2+" "+c.y2+" "+c.x+" "+c.y+" "):c.pathSegType==SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS||c.pathSegType==SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL?(h=c.pathSegType==SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS?"Q":"q",f+=h+" "+c.x1+" "+c.y1+" "+c.x+" "+c.y+" "):c.pathSegType==SVGPathSeg.PATHSEG_ARC_ABS||c.pathSegType==SVGPathSeg.PATHSEG_ARC_REL?(h=c.pathSegType==SVGPathSeg.PATHSEG_ARC_ABS?"A":"a",u=c.largeArcFlag?1:0,d=c.sweepFlag?1:0,f+=h+" "+c.r1+" "+c.r2+" "+c.angle+" "+u+" "+d+" "+c.x+" "+c.y+" "):(c.pathSegType==SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS||c.pathSegType==SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL)&&(h=c.pathSegType==SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS?"S":"s",f+=h+" "+c.x2+" "+c.y2+" "+c.x+" "+c.y+" ");for(p.setAttributeNS(null,"d",f),f=p.getTotalLength(),n=0,r>0&&(n=parseInt(f/r,10)),3>n&&(n=3),r=f/n,f=1;n>=f;f++)o=p.getPointAtLength(f*r),o=i(t,a,s,e,o.x,o.y);return o}function o(t,e){var i=t.VertexCount(e);if(0!==i){var r=t.GetVertex(e,0),i=t.GetVertex(e,i-1);JSM.CoordIsEqual2DWithEps(r,i,.1)&&t.GetContour(e).vertices.pop()}}function n(t,e){return 0<t.VertexCount(e)?(o(t,e),t.AddContour(),e+1):e}var a,s=new JSM.ContourPolygon2D,l=document.createElementNS("http://www.w3.org/2000/svg","svg");if(t instanceof SVGPathElement){var c=new JSM.Coord2D(0,0),h=new JSM.Coord2D(0,0),u=e;t.hasAttribute("segmentlength")&&(u=parseFloat(t.getAttribute("segmentlength")));var d,p,f=0;for(a=0;a<t.pathSegList.numberOfItems;a++)if(d=t.pathSegList.getItem(a),d.pathSegType!=SVGPathSeg.PATHSEG_CLOSEPATH)if(d.pathSegType==SVGPathSeg.PATHSEG_MOVETO_ABS)f=n(s,f),c=i(l,s,f,t,d.x,d.y),h=c.Clone();else if(d.pathSegType==SVGPathSeg.PATHSEG_MOVETO_REL)f=n(s,f),c=i(l,s,f,t,h.x+d.x,h.y+d.y),h=c.Clone();else if(d.pathSegType==SVGPathSeg.PATHSEG_LINETO_ABS)c=i(l,s,f,t,d.x,d.y);else if(d.pathSegType==SVGPathSeg.PATHSEG_LINETO_REL)c=i(l,s,f,t,c.x+d.x,c.y+d.y);else if(d.pathSegType==SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS)c=i(l,s,f,t,d.x,c.y);else if(d.pathSegType==SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS)c=i(l,s,f,t,c.x,d.y);else if(d.pathSegType==SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL)c=i(l,s,f,t,c.x+d.x,c.y);else if(d.pathSegType==SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL)c=i(l,s,f,t,c.x,c.y+d.y);else if(d.pathSegType==SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS||d.pathSegType==SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL||d.pathSegType==SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS||d.pathSegType==SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL||d.pathSegType==SVGPathSeg.PATHSEG_ARC_ABS||d.pathSegType==SVGPathSeg.PATHSEG_ARC_REL||d.pathSegType==SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS||d.pathSegType==SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL){if(p=[],d.pathSegType==SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS||d.pathSegType==SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL){for(;a<t.pathSegList.numberOfItems&&(d=t.pathSegList.getItem(a),d.pathSegType==SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS||d.pathSegType==SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL);a++)p.push(d);a-=1}else p.push(d);c=r(l,t,u,c,p,s,f)}o(s,f)}else if(t instanceof SVGRectElement)i(l,s,0,t,t.x.baseVal.value,t.y.baseVal.value),i(l,s,0,t,t.x.baseVal.value+t.width.baseVal.value,t.y.baseVal.value),i(l,s,0,t,t.x.baseVal.value+t.width.baseVal.value,t.y.baseVal.value+t.height.baseVal.value),i(l,s,0,t,t.x.baseVal.value,t.y.baseVal.value+t.height.baseVal.value);else if(t instanceof SVGPolygonElement)for(a=0;a<t.points.numberOfItems;a++)c=t.points.getItem(a),i(l,s,0,t,c.x,c.y);return s.color=function(t){for(var e="";null!==t&&void 0!==t&&0===e.length;)e=t.getAttribute("fill"),null===e&&(e=t.style.fill),t=t.parentElement;if(t=0,0===e.length)return t;if("#"==e[0])t=JSM.HexColorToRGBColor(e.substring(1));else{var i=e.indexOf("("),r=e.indexOf(")");if(-1==i||-1==r)return t;if(e=e.substring(i+1,r).split(", "),3!=e.length)return t;t=JSM.RGBComponentsToHexColor(e[0],e[1],e[2])}return t}(t),s}function o(t,e){function i(t,e){var i,r,o=[];if("Clockwise"==e)for(i=0;i<t.VertexCount();i++)r=t.GetVertex(i),o.push(new JSM.Coord(r.x,0,-r.y));else for(i=t.VertexCount()-1;i>=0;i--)r=t.GetVertex(i),o.push(new JSM.Coord(r.x,0,-r.y));return o}function r(t,e,i){t.push(null);var r;if("CounterClockwise"==i)for(i=0;i<e.VertexCount();i++)r=e.GetVertex(i),t.push(new JSM.Coord(r.x,0,-r.y));else for(i=e.VertexCount()-1;i>=0;i--)r=e.GetVertex(i),t.push(new JSM.Coord(r.x,0,-r.y))}var o,n,a=[],s=new JSM.Vector(0,-1,0);if(n=t.ContourCount(),1==n)n=JSM.PolygonOrientation2D(t.GetContour(0)),o=i(t.GetContour(0),n),o=JSM.GeneratePrism(o,s,e,!0),a.push(o);else if(n>1){n=JSM.PolygonOrientation2D(t.GetContour(0));var l,c=i(t.GetContour(0),n),h=!1;for(l=1;l<t.ContourCount();l++)o=JSM.PolygonOrientation2D(t.GetContour(l)),o==n?(o=i(t.GetContour(l),n),o=JSM.GeneratePrism(o,s,e,!0),a.push(o)):(r(c,t.GetContour(l),o),h=!0);o=h?JSM.GeneratePrismWithHole(c,s,e,!0):JSM.GeneratePrism(c,s,e,!0),a.push(o)}return s=new JSM.Material({ambient:t.color,diffuse:t.color}),[a,s]}var n=new JSM.Model,a=new JSM.Materials;i=function(t,e){function i(t,e,i){for(t=t.getElementsByTagName(e),e=0;e<t.length;e++)i.push(t[e])}var o=[],n=[];i(t,"path",n),i(t,"rect",n),i(t,"polygon",n);var a=e;t.hasAttribute("segmentlength")&&(a=parseFloat(t.getAttribute("segmentlength")));var s,l;for(s=0;s<n.length;s++)l=r(n[s],a),o.push(l);return o}(t,i),t.hasAttribute("modelheight")&&(e=parseFloat(t.getAttribute("modelheight")));var s,l,c;for(t=0;t<i.length;t++)for(s=o(i[t],e),l=s[0],s=s[1],a.AddMaterial(s),s=0;s<l.length;s++)c=l[s],c.SetPolygonsMaterialIndex(a.Count()-1),n.AddBody(c);return[n,a]},JSM.BSPPolygonUserData=function(){this.material=this.id=null},JSM.AddBodyToBSPTree=function(t,e,i){var r,o,n;for(r=0;r<t.PolygonCount();r++){n=new JSM.BSPPolygonUserData,n.id=i,o=t;var a=n,s=o.GetPolygon(r);a.material=s.GetMaterialIndex();for(var a=new JSM.Polygon,l=void 0,c=void 0,l=0;l<s.VertexIndexCount();l++)c=o.GetVertexPosition(s.GetVertexIndex(l)),a.AddVertex(c.x,c.y,c.z);o=a,e.AddPolygon(o,n)}},JSM.BooleanOperation=function(t,e,i){function r(t,e,i){function r(t){return e.AddVertex(new JSM.BodyVertex(t)),e.VertexCount()-1}var o,n=new JSM.BodyPolygon([]);if(i)for(i=t.VertexCount()-1;i>=0;i--)o=r(t.GetVertex(i)),n.AddVertexIndex(o);else for(i=0;i<t.VertexCount();i++)o=r(t.GetVertex(i)),n.AddVertexIndex(o);void 0!==t.userData&&n.SetMaterialIndex(t.userData.material),e.AddPolygon(n)}function o(t,e,i){var o;for(o=0;o<t.length;o++)r(t[o],e,i)}function n(t,e,i,r,o,n){function a(t,e){var i;for(i=0;i<t.length;i++)t[i].userData=e}var s,l;for(s=0;s<t.length;s++)l=t[s],JSM.ClipPolygonWithBSPTree(l.polygon,e,i,r,o,n),a(i,l.userData),a(r,l.userData),a(o,l.userData),a(n,l.userData)}var a=new JSM.BSPTree,s=new JSM.BSPTree;JSM.AddBodyToBSPTree(e,a,"a"),JSM.AddBodyToBSPTree(i,s,"b"),e=new JSM.Body,i=[];var l=[],c=[],h=[];n(a.GetNodes(),s,i,l,c,h);var u=[],d=[],p=[];return n(s.GetNodes(),a,u,d,p,[]),"Union"==t?(o(i,e,!1),o(c,e,!1),o(h,e,!1),o(u,e,!1),o(p,e,!1)):"Difference"==t?(o(i,e,!1),o(c,e,!1),o(d,e,!0)):"Intersection"==t&&(o(l,e,!1),o(h,e,!1),o(d,e,!1)),e},JSM.GenerateSurface=function(t,e,i,r,o,n,a,s){var l=new JSM.Body,c=t[0],h=e[0],u=(t[1]-t[0])/i,d=(e[1]-e[0])/r;return function(){var t,e,o,n;for(t=0;r>=t;t++)for(e=0;i>=e;e++)o=c+e*u,n=h+t*d,o=a(t,e,o,n,s),l.AddVertex(new JSM.BodyVertex(o))}(),function(){var t,e,a,s,c,h;for(e=0;r>e;e++)for(t=0;i>t;t++)a=e*(i+1)+t,s=a+1,c=a+i+1,h=c+1,o?(s=new JSM.BodyPolygon([a,s,h]),n&&s.SetCurveGroup(0),l.AddPolygon(s),s=new JSM.BodyPolygon([a,h,c])):s=new JSM.BodyPolygon([a,s,h,c]),n&&s.SetCurveGroup(0),l.AddPolygon(s)}(),l},JSM.SurfaceControlPoints=function(t,e){this.n=t,this.m=e,this.points=[];var i,r;for(i=0;i<=this.n;i++)for(this.points.push([]),r=0;r<=this.m;r++)this.points[i].push(new JSM.Coord(0,0,0))},JSM.SurfaceControlPoints.prototype.GetNValue=function(){return this.n},JSM.SurfaceControlPoints.prototype.GetMValue=function(){return this.m},JSM.SurfaceControlPoints.prototype.GetControlPoint=function(t,e){return this.points[t][e]},JSM.SurfaceControlPoints.prototype.InitPlanar=function(t,e){var i,r,o,n=t/this.n,a=e/this.m;for(i=0;i<=this.n;i++)for(r=0;r<=this.m;r++)o=this.points[i][r],o.x=i*n,o.y=r*a},JSM.GenerateBezierSurface=function(t,e,i,r){return JSM.GenerateSurface([0,1],[0,1],e,i,!1,r,function(t,e,i,r,o){function n(t,e,i){var r,o=1,n=JSM.Minimum(t,e-t);for(r=0;n>r;r++)o*=e-r,o/=r+1;return o*Math.pow(i,t)*Math.pow(1-i,e-t)}var a,s,l,c=o.GetNValue(),h=o.GetMValue();for(a=new JSM.Coord(0,0,0),t=0;c>=t;t++){for(s=new JSM.Coord(0,0,0),e=0;h>=e;e++)l=n(t,c,i)*n(e,h,r),l=JSM.VectorMultiply(o.GetControlPoint(t,e),l),s=JSM.CoordAdd(s,l);a=JSM.CoordAdd(a,s)}return a},t)},JSM.RenderMaterial=function(t,e,i,r,o,n,a){this.ambient=t,this.diffuse=e,this.specular=i,this.shininess=r,this.texture=o,this.textureWidth=n,this.textureHeight=a,this.textureImage=this.textureBuffer=null,this.textureLoaded=!1},JSM.RenderMaterial.prototype.HasTexture=function(){return null!==this.texture&&this.textureLoaded},JSM.RenderMaterial.prototype.Compile=function(t,e){if(null!==this.texture){var i=this;this.textureBuffer=t.createTexture(),this.textureImage=new Image,this.textureImage.src=this.texture,this.textureImage.onload=function(){t.bindTexture(t.TEXTURE_2D,i.textureBuffer),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,i.textureImage),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_LINEAR),t.generateMipmap(t.TEXTURE_2D),t.bindTexture(t.TEXTURE_2D,null),i.textureLoaded=!0,void 0!==e&&null!==e&&e()}}},JSM.RenderGeometry=function(){this.transformation=new JSM.Transformation,this.uvBuffer=this.normalBuffer=this.vertexBuffer=this.uvArray=this.normalArray=this.vertexArray=this.material=null
},JSM.RenderGeometry.prototype.SetMaterial=function(t){this.material=t},JSM.RenderGeometry.prototype.GetMaterial=function(){return this.material},JSM.RenderGeometry.prototype.SetVertexArray=function(t){this.vertexArray=new Float32Array(t)},JSM.RenderGeometry.prototype.SetNormalArray=function(t){this.normalArray=new Float32Array(t)},JSM.RenderGeometry.prototype.SetUVArray=function(t){this.uvArray=new Float32Array(t)},JSM.RenderGeometry.prototype.GetTransformation=function(){return this.transformation},JSM.RenderGeometry.prototype.GetTransformationMatrix=function(){return this.transformation.matrix},JSM.RenderGeometry.prototype.SetTransformation=function(t){this.transformation=t},JSM.RenderGeometry.prototype.GetVertexBuffer=function(){return this.vertexBuffer},JSM.RenderGeometry.prototype.GetNormalBuffer=function(){return this.normalBuffer},JSM.RenderGeometry.prototype.GetUVBuffer=function(){return this.uvBuffer},JSM.RenderGeometry.prototype.VertexCount=function(){return parseInt(this.vertexArray.length/3,10)},JSM.RenderGeometry.prototype.GetVertex=function(t){return new JSM.Coord(this.vertexArray[3*t],this.vertexArray[3*t+1],this.vertexArray[3*t+2])},JSM.RenderGeometry.prototype.GetTransformedVertex=function(t){return t=this.GetVertex(t),this.transformation.Apply(t)},JSM.RenderGeometry.prototype.Compile=function(t,e){this.material.Compile(t,e),this.vertexBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertexArray,t.STATIC_DRAW),this.vertexBuffer.itemSize=3,this.vertexBuffer.numItems=parseInt(this.vertexArray.length/3,10),this.normalBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.normalBuffer),t.bufferData(t.ARRAY_BUFFER,this.normalArray,t.STATIC_DRAW),this.normalBuffer.itemSize=3,this.normalBuffer.numItems=parseInt(this.normalArray.length/3,10),null!==this.uvArray&&(this.uvBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.uvBuffer),t.bufferData(t.ARRAY_BUFFER,this.uvArray,t.STATIC_DRAW),this.uvBuffer.itemSize=2,this.uvBuffer.numItems=parseInt(this.uvArray.length/2,10))},JSM.Renderer=function(){this.geometries=this.light=this.camera=this.texShader=this.shader=this.context=this.canvas=null},JSM.Renderer.prototype.Init=function(t,e,i){return this.InitContext(t)&&this.InitView(e,i)&&this.InitShaders()&&this.InitBuffers()?!0:!1},JSM.Renderer.prototype.InitContext=function(t){return window.WebGLRenderingContext?(this.canvas=document.getElementById(t),null===this.canvas||void 0===this.canvas.getContext?!1:(this.context=this.canvas.getContext("webgl")||this.canvas.getContext("experimental-webgl"),null===this.context?!1:(this.context.viewportWidth=this.canvas.width,this.context.viewportHeight=this.canvas.height,this.context.viewport(0,0,this.context.viewportWidth,this.context.viewportHeight),this.context.clearColor(1,1,1,1),this.context.enable(this.context.DEPTH_TEST),this.context.depthFunc(this.context.LEQUAL),this.context.enable(this.context.BLEND),this.context.blendEquation(this.context.FUNC_ADD),this.context.blendFunc(this.context.SRC_ALPHA,this.context.ONE_MINUS_SRC_ALPHA),!0))):!1},JSM.Renderer.prototype.InitShaders=function(){function t(t,e,i){return i=t.createShader(i),t.shaderSource(i,e),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS)?i:null}function e(e,i,r){if(i=t(e,i,e.FRAGMENT_SHADER),r=t(e,r,e.VERTEX_SHADER),null===i||null===r)return null;var o=e.createProgram();return e.attachShader(o,r),e.attachShader(o,i),e.linkProgram(o),e.getProgramParameter(o,e.LINK_STATUS)?o:null}function i(t){var e="";return t&&(e="#define USETEXTURE"),[e,"uniform highp vec3 uPolygonAmbientColor;\nuniform highp vec3 uPolygonDiffuseColor;\nuniform highp vec3 uPolygonSpecularColor;\nuniform highp float uPolygonShininess;\nuniform highp vec3 uLightAmbientColor;\nuniform highp vec3 uLightDiffuseColor;\nuniform highp vec3 uLightSpecularColor;\nvarying highp vec3 vVertex;\nvarying highp vec3 vNormal;\nvarying highp vec3 vLight;\n#ifdef USETEXTURE\nvarying highp vec2 vUV;\nuniform sampler2D uSampler;\n#endif\nvoid main (void) {\n	highp vec3 N = normalize (vNormal);\n	if (!gl_FrontFacing) {\n		N = -N;\n	}\n	highp vec3 L = normalize (-vLight);\n	highp vec3 E = normalize (-vVertex);\n	highp vec3 R = normalize (-reflect (L, N));\n	highp vec3 ambientComponent = uPolygonAmbientColor * uLightAmbientColor;\n	highp vec3 diffuseComponent = uPolygonDiffuseColor * uLightDiffuseColor * max (dot (N, L), 0.0);\n	highp vec3 specularComponent = uPolygonSpecularColor * uLightSpecularColor * pow (max (dot (R, E), 0.0), uPolygonShininess);\n#ifdef USETEXTURE\n	highp vec3 textureColor = texture2D (uSampler, vec2 (vUV.s, vUV.t)).xyz;\n	ambientComponent = textureColor * ambientComponent;\n	diffuseComponent = textureColor * diffuseComponent;\n	specularComponent = textureColor * specularComponent;\n#endif\n	ambientComponent = clamp (ambientComponent, 0.0, 1.0);\n	diffuseComponent = clamp (diffuseComponent, 0.0, 1.0);\n	specularComponent = clamp (specularComponent, 0.0, 1.0);\n	gl_FragColor = vec4 (ambientComponent + diffuseComponent + specularComponent, 1.0);\n}"].join("\n")}function r(t){var e="";return t&&(e="#define USETEXTURE"),[e,"attribute highp vec3 aVertexPosition;\nattribute highp vec3 aVertexNormal;\nuniform highp mat4 uViewMatrix;\nuniform highp mat4 uModelViewMatrix;\nuniform highp mat4 uProjectionMatrix;\nuniform highp vec3 uLightDirection;\nvarying highp vec3 vVertex;\nvarying highp vec3 vNormal;\nvarying highp vec3 vLight;\n#ifdef USETEXTURE\nattribute highp vec2 aVertexUV;\nvarying highp vec2 vUV;\n#endif\nvoid main (void) {\n	vVertex = vec3 (uModelViewMatrix * vec4 (aVertexPosition, 1.0));\n	vNormal = normalize (vec3 (uModelViewMatrix * vec4 (aVertexNormal, 0.0)));\n	vLight = normalize (vec3 (uViewMatrix * vec4 (uLightDirection, 0.0)));\n#ifdef USETEXTURE\n	vUV = aVertexUV;\n#endif\n	gl_Position = uProjectionMatrix * vec4 (vVertex, 1.0);\n}"].join("\n")}function o(t,e){e.vertexPositionAttribute=t.getAttribLocation(e,"aVertexPosition"),e.vertexNormalAttribute=t.getAttribLocation(e,"aVertexNormal"),e.lightAmbientColorUniform=t.getUniformLocation(e,"uLightAmbientColor"),e.lightDiffuseColorUniform=t.getUniformLocation(e,"uLightDiffuseColor"),e.lightSpecularColorUniform=t.getUniformLocation(e,"uLightSpecularColor"),e.lightDirectionUniform=t.getUniformLocation(e,"uLightDirection"),e.vMatrixUniform=t.getUniformLocation(e,"uViewMatrix"),e.mvMatrixUniform=t.getUniformLocation(e,"uModelViewMatrix"),e.pMatrixUniform=t.getUniformLocation(e,"uProjectionMatrix"),e.polygonAmbientColorUniform=t.getUniformLocation(e,"uPolygonAmbientColor"),e.polygonDiffuseColorUniform=t.getUniformLocation(e,"uPolygonDiffuseColor"),e.polygonSpecularColorUniform=t.getUniformLocation(e,"uPolygonSpecularColor"),e.polygonShininessUniform=t.getUniformLocation(e,"uPolygonShininess")}return this.shader=function(t){var n=i(!1),a=r(!1),n=e(t,n,a);return null===n?null:(t.useProgram(n),o(t,n),n)}(this.context),null===this.shader?!1:(this.texShader=function(t){var n=i(!0),a=r(!0),n=e(t,n,a);return null===n?null:(t.useProgram(n),o(t,n),n.vertexUVAttribute=t.getAttribLocation(n,"aVertexUV"),n.samplerUniform=t.getUniformLocation(n,"uSampler"),n)}(this.context),null===this.texShader?!1:!0)},JSM.Renderer.prototype.InitBuffers=function(){return this.geometries=[],!0},JSM.Renderer.prototype.InitView=function(t,e){return this.camera=JSM.ValueOrDefault(t,new JSM.Camera),this.camera?(this.light=JSM.ValueOrDefault(e,new JSM.Light),this.light?!0:!1):!1},JSM.Renderer.prototype.SetClearColor=function(t,e,i){this.context.clearColor(t,e,i,1)},JSM.Renderer.prototype.AddGeometries=function(t){var e,i;for(e=0;e<t.length;e++)i=t[e],i.Compile(this.context,this.Render.bind(this)),this.geometries.push(i)},JSM.Renderer.prototype.RemoveGeometries=function(){this.geometries=[]},JSM.Renderer.prototype.Resize=function(){this.context.viewportWidth=this.canvas.width,this.context.viewportHeight=this.canvas.height,this.context.viewport(0,0,this.context.viewportWidth,this.context.viewportHeight)},JSM.Renderer.prototype.Render=function(){this.context.clear(this.context.COLOR_BUFFER_BIT|this.context.DEPTH_BUFFER_BIT);var t=JSM.MatrixPerspective(this.camera.fieldOfView*JSM.DegRad,this.context.viewportWidth/this.context.viewportHeight,this.camera.nearClippingPlane,this.camera.farClippingPlane),e=JSM.MatrixView(this.camera.eye,this.camera.center,this.camera.up),i=JSM.MatrixIdentity(),r=JSM.HexColorToNormalizedRGBComponents(this.light.ambient),o=JSM.HexColorToNormalizedRGBComponents(this.light.diffuse),n=JSM.HexColorToNormalizedRGBComponents(this.light.specular);this.light.direction=JSM.VectorNormalize(JSM.CoordSub(this.camera.center,this.camera.eye));var a,s,l,c,h,u;for(a=0;a<this.geometries.length;a++)h=this.geometries[a],i=h.GetMaterial().HasTexture()?this.texShader:this.shader,u!=i&&(u=i,this.context.useProgram(u),this.context.uniformMatrix4fv(u.pMatrixUniform,!1,t),this.context.uniformMatrix4fv(u.vMatrixUniform,!1,e),this.context.uniform3f(u.lightDirectionUniform,this.light.direction.x,this.light.direction.y,this.light.direction.z),this.context.uniform3f(u.lightAmbientColorUniform,r[0],r[1],r[2]),this.context.uniform3f(u.lightDiffuseColorUniform,o[0],o[1],o[2]),this.context.uniform3f(u.lightSpecularColorUniform,n[0],n[1],n[2])),i=h.material.ambient,s=h.material.diffuse,l=h.material.specular,c=h.material.shininess,this.context.uniform3f(u.polygonAmbientColorUniform,i[0],i[1],i[2]),this.context.uniform3f(u.polygonDiffuseColorUniform,s[0],s[1],s[2]),this.context.uniform3f(u.polygonSpecularColorUniform,l[0],l[1],l[2]),this.context.uniform1f(u.polygonShininessUniform,c),u==this.texShader&&(i=h.GetUVBuffer(),this.context.activeTexture(this.context.TEXTURE0),this.context.bindTexture(this.context.TEXTURE_2D,h.material.textureBuffer),this.context.bindBuffer(this.context.ARRAY_BUFFER,i),this.context.vertexAttribPointer(u.vertexUVAttribute,i.itemSize,this.context.FLOAT,!1,0,0),this.context.enableVertexAttribArray(u.vertexUVAttribute),this.context.uniform1i(u.samplerUniform,0)),i=JSM.MatrixMultiply(h.GetTransformationMatrix(),e),this.context.uniformMatrix4fv(u.mvMatrixUniform,!1,i),i=h.GetVertexBuffer(),this.context.bindBuffer(this.context.ARRAY_BUFFER,i),this.context.enableVertexAttribArray(u.vertexPositionAttribute),this.context.vertexAttribPointer(u.vertexPositionAttribute,i.itemSize,this.context.FLOAT,!1,0,0),h=h.GetNormalBuffer(),this.context.bindBuffer(this.context.ARRAY_BUFFER,h),this.context.enableVertexAttribArray(u.vertexNormalAttribute),this.context.vertexAttribPointer(u.vertexNormalAttribute,h.itemSize,this.context.FLOAT,!1,0,0),this.context.drawArrays(this.context.TRIANGLES,0,i.numItems)},JSM.PointCloudRenderer=function(){this.pointSize=this.points=this.camera=this.shader=this.context=this.canvas=null},JSM.PointCloudRenderer.prototype.Init=function(t,e){return this.InitContext(t)&&this.InitShaders()&&this.InitBuffers()&&this.InitView(e)?!0:!1},JSM.PointCloudRenderer.prototype.InitContext=function(t){return window.WebGLRenderingContext?(this.canvas=document.getElementById(t),null===this.canvas||void 0===this.canvas.getContext?!1:(this.context=this.canvas.getContext("experimental-webgl"),null===this.context?!1:(this.context.viewportWidth=this.canvas.width,this.context.viewportHeight=this.canvas.height,this.context.clearColor(1,1,1,1),this.context.enable(this.context.DEPTH_TEST),!0))):!1},JSM.PointCloudRenderer.prototype.InitShaders=function(){function t(t,e,i){return i=t.createShader(i),t.shaderSource(i,e),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS)?i:null}var e=t(this.context,"varying highp vec3 vColor;\nvoid main (void) {\n	gl_FragColor = vec4 (vColor, 1.0);\n}",this.context.FRAGMENT_SHADER),i=t(this.context,"attribute highp vec3 aVertexPosition;\nattribute highp vec3 aVertexColor;\nuniform highp mat4 uViewMatrix;\nuniform highp mat4 uProjectionMatrix;\nuniform highp float uPointSize;\nvarying highp vec3 vColor;\nvoid main (void) {\n	vColor = aVertexColor;\n	gl_PointSize = uPointSize;\n	gl_Position = uProjectionMatrix * uViewMatrix * vec4 (aVertexPosition, 1.0);\n}",this.context.VERTEX_SHADER);return null===e||null===i?!1:(this.shader=this.context.createProgram(),this.context.attachShader(this.shader,i),this.context.attachShader(this.shader,e),this.context.linkProgram(this.shader),this.context.getProgramParameter(this.shader,this.context.LINK_STATUS)?(this.context.useProgram(this.shader),this.shader.vertexPositionAttribute=this.context.getAttribLocation(this.shader,"aVertexPosition"),this.context.enableVertexAttribArray(this.shader.vertexPositionAttribute),this.shader.vertexColorAttribute=this.context.getAttribLocation(this.shader,"aVertexColor"),this.context.enableVertexAttribArray(this.shader.vertexColorAttribute),this.shader.pMatrixUniform=this.context.getUniformLocation(this.shader,"uProjectionMatrix"),this.shader.vMatrixUniform=this.context.getUniformLocation(this.shader,"uViewMatrix"),this.shader.pointSizeUniform=this.context.getUniformLocation(this.shader,"uPointSize"),!0):!1)},JSM.PointCloudRenderer.prototype.InitBuffers=function(){return this.points=[],this.pointSize=1,!0},JSM.PointCloudRenderer.prototype.InitView=function(t){return this.camera=JSM.ValueOrDefault(t,new JSM.Camera),this.camera?!0:!1},JSM.PointCloudRenderer.prototype.SetClearColor=function(t,e,i){this.context.clearColor(t,e,i,1)},JSM.PointCloudRenderer.prototype.SetPointSize=function(t){this.pointSize=t},JSM.PointCloudRenderer.prototype.AddPoints=function(t,e){var i=this.context.createBuffer(),r=new Float32Array(t);this.context.bindBuffer(this.context.ARRAY_BUFFER,i),this.context.bufferData(this.context.ARRAY_BUFFER,r,this.context.STATIC_DRAW),i.itemSize=3,i.numItems=parseInt(r.length/3,10);var o=this.context.createBuffer(),n=new Float32Array(e);this.context.bindBuffer(this.context.ARRAY_BUFFER,o),this.context.bufferData(this.context.ARRAY_BUFFER,n,this.context.STATIC_DRAW),o.itemSize=3,o.numItems=parseInt(n.length/3,10),this.points.push({pointArray:r,pointBuffer:i,colorBuffer:o})},JSM.PointCloudRenderer.prototype.RemovePoints=function(){this.points=[]},JSM.PointCloudRenderer.prototype.Resize=function(){this.context.viewportWidth=this.canvas.width,this.context.viewportHeight=this.canvas.height},JSM.PointCloudRenderer.prototype.Render=function(){this.context.viewport(0,0,this.context.viewportWidth,this.context.viewportHeight),this.context.clear(this.context.COLOR_BUFFER_BIT|this.context.DEPTH_BUFFER_BIT);var t=JSM.MatrixPerspective(this.camera.fieldOfView*JSM.DegRad,this.context.viewportWidth/this.context.viewportHeight,this.camera.nearClippingPlane,this.camera.farClippingPlane);this.context.uniformMatrix4fv(this.shader.pMatrixUniform,!1,t),t=JSM.MatrixView(this.camera.eye,this.camera.center,this.camera.up),this.context.uniformMatrix4fv(this.shader.vMatrixUniform,!1,t),this.context.uniform1f(this.shader.pointSizeUniform,this.pointSize);for(var e,i,t=0;t<this.points.length;t++)e=this.points[t].pointBuffer,i=this.points[t].colorBuffer,this.context.bindBuffer(this.context.ARRAY_BUFFER,e),this.context.vertexAttribPointer(this.shader.vertexPositionAttribute,e.itemSize,this.context.FLOAT,!1,0,0),this.context.bindBuffer(this.context.ARRAY_BUFFER,i),this.context.vertexAttribPointer(this.shader.vertexColorAttribute,i.itemSize,this.context.FLOAT,!1,0,0),this.context.drawArrays(this.context.POINTS,0,e.numItems)},JSM.ConvertBodyToRenderGeometries=function(t,e){var i=[],r=null,o=null,n=null,a=null;return JSM.ExplodeBodyToTriangles(t,e,{hasConvexPolygons:!1,onGeometryStart:function(t){o=[],n=[],a=[];var e=JSM.HexColorToNormalizedRGBComponents(t.ambient),s=JSM.HexColorToNormalizedRGBComponents(t.diffuse),l=JSM.HexColorToNormalizedRGBComponents(t.specular);t=new JSM.RenderMaterial(e,s,l,t.shininess,t.texture,t.textureWidth,t.textureHeight),r=new JSM.RenderGeometry,r.SetMaterial(t),i.push(r)},onGeometryEnd:function(t){r.SetVertexArray(o),r.SetNormalArray(n),null!==t.texture&&r.SetUVArray(a)},onTriangle:function(t,e,i,r,s,l,c,h,u){o.push(t.x,t.y,t.z),o.push(e.x,e.y,e.z),o.push(i.x,i.y,i.z),n.push(r.x,r.y,r.z),n.push(s.x,s.y,s.z),n.push(l.x,l.y,l.z),null!==c&&null!==h&&null!==u&&(a.push(c.x,c.y),a.push(h.x,h.y),a.push(u.x,u.y))}}),i},JSM.ConvertModelToRenderGeometries=function(t,e){var i,r,o=[];for(i=0;i<t.BodyCount();i++){r=t.GetBody(i);var n=JSM.ConvertBodyToRenderGeometries(r,e,o);for(r=0;r<n.length;r++)o.push(n[r])}return o},JSM.JSONFileLoader=function(t){this.onReady=t},JSM.JSONFileLoader.prototype.Load=function(t){var e=this,i=new XMLHttpRequest;i.overrideMimeType("application/json"),i.open("GET",t,!0),i.onreadystatechange=function(){4==i.readyState&&e.OnReady(i.responseText)},i.send(null)},JSM.JSONFileLoader.prototype.OnReady=function(t){null!==this.onReady&&(t=JSON.parse(t),this.onReady(t))},JSM.Mouse=function(){this.down=!1,this.button=0,this.alt=this.ctrl=this.shift=!1,this.diffY=this.diffX=this.currY=this.currX=this.prevY=this.prevX=0},JSM.Mouse.prototype.Down=function(t,e){var i=t;void 0===i&&(i=window.event),this.down=!0,this.button=t.which,this.shift=t.shiftKey,this.ctrl=t.ctrlKey,this.alt=t.altKey,this.SetCurrent(i,e),this.prevX=this.currX,this.prevY=this.currY},JSM.Mouse.prototype.Move=function(t,e){var i=t;void 0===i&&(i=window.event),this.shift=t.shiftKey,this.ctrl=t.ctrlKey,this.alt=t.altKey,this.SetCurrent(i,e),this.diffX=this.currX-this.prevX,this.diffY=this.currY-this.prevY,this.prevX=this.currX,this.prevY=this.currY},JSM.Mouse.prototype.Up=function(t,e){var i=t;void 0===i&&(i=window.event),this.down=!1,this.SetCurrent(i,e)},JSM.Mouse.prototype.Out=function(t,e){var i=t;void 0===i&&(i=window.event),this.down=!1,this.SetCurrent(i,e)},JSM.Mouse.prototype.SetCurrent=function(t,e){this.currX=t.clientX,this.currY=t.clientY,void 0!==e&&void 0!==e.offsetLeft&&void 0!==e.offsetTop&&(this.currX-=e.offsetLeft,this.currY-=e.offsetTop)},JSM.Touch=function(){this.down=!1,this.diffY=this.diffX=this.currY=this.currX=this.prevY=this.prevX=0},JSM.Touch.prototype.Start=function(t,e){if(0!==t.touches.length){var i=t.touches[0];this.down=!0,this.SetCurrent(i,e),this.prevX=this.currX,this.prevY=this.currY}},JSM.Touch.prototype.Move=function(t,e){0!==t.touches.length&&(this.SetCurrent(t.touches[0],e),this.diffX=this.currX-this.prevX,this.diffY=this.currY-this.prevY,this.prevX=this.currX,this.prevY=this.currY)},JSM.Touch.prototype.End=function(t,e){if(0!==t.touches.length){var i=t.touches[0];this.down=!1,this.SetCurrent(i,e)}},JSM.Touch.prototype.SetCurrent=function(t,e){this.currX=t.pageX,this.currY=t.pageY,void 0!==e&&void 0!==e.offsetLeft&&void 0!==e.offsetTop&&(this.currX=t.pageX-e.offsetLeft,this.currY=t.pageY-e.offsetTop)},JSM.Navigation=function(){this.orbitCenter=this.cameraEnableZoom=this.cameraEnablePan=this.cameraEnableOrbit=this.cameraFixUp=this.touch=this.mouse=this.resizeCallback=this.drawCallback=this.camera=this.canvas=null},JSM.Navigation.prototype.Init=function(t,e,i,r){this.canvas=t,this.camera=e,this.drawCallback=i,this.resizeCallback=r,this.mouse=new JSM.Mouse,this.touch=new JSM.Touch,this.cameraEnableZoom=this.cameraEnablePan=this.cameraEnableOrbit=this.cameraFixUp=!0,this.orbitCenter=this.camera.center.Clone();var o=this;return document.addEventListener&&(document.addEventListener("mousemove",function(t){o.OnMouseMove(t)}),document.addEventListener("mouseup",function(t){o.OnMouseUp(t)})),this.canvas.addEventListener&&(this.canvas.addEventListener("mousedown",function(t){o.OnMouseDown(t)},!1),this.canvas.addEventListener("DOMMouseScroll",function(t){o.OnMouseWheel(t)},!1),this.canvas.addEventListener("mousewheel",function(t){o.OnMouseWheel(t)},!1),this.canvas.addEventListener("touchstart",function(t){o.OnTouchStart(t)},!1),this.canvas.addEventListener("touchmove",function(t){o.OnTouchMove(t)},!1),this.canvas.addEventListener("touchend",function(t){o.OnTouchEnd(t)},!1),this.canvas.addEventListener("contextmenu",function(t){o.OnContextMenu(t)},!1)),window.addEventListener&&window.addEventListener("resize",function(t){o.OnResize(t)},!1),!0},JSM.Navigation.prototype.SetCamera=function(t,e,i){this.camera.Set(t,e,i),this.orbitCenter=this.camera.center.Clone()},JSM.Navigation.prototype.EnableFixUp=function(t){this.cameraFixUp=t},JSM.Navigation.prototype.EnableOrbit=function(t){this.cameraEnableOrbit=t},JSM.Navigation.prototype.EnablePan=function(t){this.cameraEnablePan=t},JSM.Navigation.prototype.EnableZoom=function(t){this.cameraEnableZoom=t},JSM.Navigation.prototype.SetOrbitCenter=function(t){this.orbitCenter=t},JSM.Navigation.prototype.FitInWindow=function(t,e){var i=JSM.CoordSub(this.camera.center,t);this.camera.center=t,this.camera.eye=JSM.CoordSub(this.camera.eye,i);var i=JSM.VectorNormalize(JSM.CoordSub(this.camera.eye,this.camera.center)),r=this.camera.fieldOfView/2;this.canvas.width<this.canvas.height&&(r=r*this.canvas.width/this.canvas.height),r=e/Math.sin(r*JSM.DegRad),this.camera.eye=JSM.CoordOffset(this.camera.center,i,r),this.orbitCenter=this.camera.center.Clone()},JSM.Navigation.prototype.Orbit=function(t,e){var i=t*JSM.DegRad,r=e*JSM.DegRad,o=JSM.VectorNormalize(JSM.CoordSub(this.camera.center,this.camera.eye)),n=JSM.VectorNormalize(JSM.VectorCross(o,this.camera.up)),a=!JSM.CoordIsEqual(this.orbitCenter,this.camera.center);this.cameraFixUp?(o=JSM.GetVectorsAngle(o,this.camera.up)+r,JSM.IsGreater(o,0)&&JSM.IsLower(o,Math.PI)&&(this.camera.eye=JSM.CoordRotate(this.camera.eye,n,-r,this.orbitCenter),a&&(this.camera.center=JSM.CoordRotate(this.camera.center,n,-r,this.orbitCenter))),this.camera.eye=JSM.CoordRotate(this.camera.eye,this.camera.up,-i,this.orbitCenter),a&&(this.camera.center=JSM.CoordRotate(this.camera.center,this.camera.up,-i,this.orbitCenter))):(o=JSM.VectorNormalize(JSM.VectorCross(n,o)),this.camera.eye=JSM.CoordRotate(this.camera.eye,n,-r,this.orbitCenter),this.camera.eye=JSM.CoordRotate(this.camera.eye,o,-i,this.orbitCenter),a&&(this.camera.center=JSM.CoordRotate(this.camera.center,n,-r,this.orbitCenter),this.camera.center=JSM.CoordRotate(this.camera.center,o,-i,this.orbitCenter)),this.camera.up=o)},JSM.Navigation.prototype.Pan=function(t,e){var i=JSM.VectorNormalize(JSM.CoordSub(this.camera.center,this.camera.eye)),r=JSM.VectorNormalize(JSM.VectorCross(i,this.camera.up)),i=JSM.VectorNormalize(JSM.VectorCross(r,i));this.camera.eye=JSM.CoordOffset(this.camera.eye,r,-t),this.camera.center=JSM.CoordOffset(this.camera.center,r,-t),this.camera.eye=JSM.CoordOffset(this.camera.eye,i,e),this.camera.center=JSM.CoordOffset(this.camera.center,i,e)},JSM.Navigation.prototype.Zoom=function(t){var e=JSM.CoordSub(this.camera.center,this.camera.eye),i=JSM.VectorLength(e);return t&&.1>i?0:(i*=.1,t||(i*=-1),void(this.camera.eye=JSM.CoordOffset(this.camera.eye,e,i)))},JSM.Navigation.prototype.DrawCallback=function(){void 0!==this.drawCallback&&null!==this.drawCallback&&this.drawCallback()},JSM.Navigation.prototype.ResizeCallback=function(){void 0!==this.resizeCallback&&null!==this.resizeCallback&&this.resizeCallback()},JSM.Navigation.prototype.OnMouseDown=function(t){t.preventDefault(),this.mouse.Down(t,this.canvas)},JSM.Navigation.prototype.OnMouseMove=function(t){t.preventDefault(),this.mouse.Move(t,this.canvas),this.mouse.down&&(t=0,1==this.mouse.button?this.cameraEnableOrbit&&(t=.5,this.Orbit(this.mouse.diffX*t,this.mouse.diffY*t),this.DrawCallback()):3==this.mouse.button&&this.cameraEnablePan&&(t=.001*JSM.CoordDistance(this.camera.eye,this.camera.center),this.Pan(this.mouse.diffX*t,this.mouse.diffY*t),this.DrawCallback()))},JSM.Navigation.prototype.OnMouseUp=function(t){t.preventDefault(),this.mouse.Up(t,this.canvas)},JSM.Navigation.prototype.OnMouseOut=function(t){t.preventDefault(),this.mouse.Out(t,this.canvas)},JSM.Navigation.prototype.OnMouseWheel=function(t){if(t.preventDefault(),this.cameraEnableZoom){null===t&&(t=window.event);var e=0;t.detail?e=-t.detail:t.wheelDelta&&(e=t.wheelDelta/40),this.Zoom(e>0),this.DrawCallback()}},JSM.Navigation.prototype.OnTouchStart=function(t){t.preventDefault(),this.touch.Start(t,this.canvas)},JSM.Navigation.prototype.OnTouchMove=function(t){t.preventDefault(),this.touch.Move(t,this.canvas),this.touch.down&&this.cameraEnableOrbit&&(this.Orbit(.5*this.touch.diffX,.5*this.touch.diffY),this.DrawCallback())},JSM.Navigation.prototype.OnTouchEnd=function(t){t.preventDefault(),this.touch.End(t,this.canvas)},JSM.Navigation.prototype.OnContextMenu=function(t){t.preventDefault()},JSM.Navigation.prototype.OnResize=function(t){t.preventDefault(),this.ResizeCallback()},JSM.SoftwareViewer=function(){this.navigation=this.drawMode=this.drawer=this.bodies=this.camera=this.canvas=null},JSM.SoftwareViewer.prototype.Start=function(t,e){return this.InitCanvas(t)&&this.InitCamera(e)?!0:!1},JSM.SoftwareViewer.prototype.InitCanvas=function(t){return this.bodies=[],this.canvas=document.getElementById(t),this.canvas?(this.canvas instanceof HTMLCanvasElement?this.drawer=new JSM.CanvasDrawer(this.canvas):this.canvas instanceof SVGSVGElement&&(this.drawer=new JSM.SVGDrawer(this.canvas)),this.drawer?(this.drawMode="Wireframe",!0):!1):!1},JSM.SoftwareViewer.prototype.InitCamera=function(t){return this.camera=JSM.ValueOrDefault(t,new JSM.Camera),this.camera?(this.navigation=new JSM.Navigation,this.navigation.Init(this.canvas,this.camera,this.Draw.bind(this),this.Resize.bind(this))?!0:!1):!1},JSM.SoftwareViewer.prototype.AddBody=function(t,e){this.bodies.push([t,e])},JSM.SoftwareViewer.prototype.RemoveBodies=function(){this.bodies=[]},JSM.SoftwareViewer.prototype.FitInWindow=function(){var t=this.GetCenter(),e=this.GetBoundingSphereRadius(t);this.navigation.FitInWindow(t,e),this.Draw()},JSM.SoftwareViewer.prototype.GetCenter=function(){var t=this.GetBoundingBox();return JSM.MidCoord(t[0],t[1])},JSM.SoftwareViewer.prototype.GetBoundingBox=function(){var t,e,i,r,o=new JSM.Coord(JSM.Inf,JSM.Inf,JSM.Inf),n=new JSM.Coord(-JSM.Inf,-JSM.Inf,-JSM.Inf);for(t=0;t<this.bodies.length;t++)for(i=this.bodies[t][0],e=0;e<i.VertexCount();e++)r=i.GetVertex(e),o.x=JSM.Minimum(o.x,r.position.x),o.y=JSM.Minimum(o.y,r.position.y),o.z=JSM.Minimum(o.z,r.position.z),n.x=JSM.Maximum(n.x,r.position.x),n.y=JSM.Maximum(n.y,r.position.y),n.z=JSM.Maximum(n.z,r.position.z);return[o,n]},JSM.SoftwareViewer.prototype.GetBoundingSphereRadius=function(t){(void 0===t||null===t)&&(t=this.GetCenter());var e,i,r,o,n=0;for(e=0;e<this.bodies.length;e++)for(r=this.bodies[e][0],i=0;i<r.VertexCount();i++)o=r.GetVertex(i),o=JSM.CoordDistance(t,o.position),JSM.IsGreater(o,n)&&(n=o);return n},JSM.SoftwareViewer.prototype.Resize=function(){this.Draw()},JSM.SoftwareViewer.prototype.Draw=function(){var t,e;for(this.drawer.Clear(),t=0;t<this.bodies.length;t++)e=this.bodies[t],JSM.DrawProjectedBody(e[0],e[1],this.camera,this.drawMode,!1,this.drawer);return!0},JSM.SpriteViewer=function(){this.navigation=this.projected=this.points=this.callbacks=this.camera=this.canvas=null},JSM.SpriteViewer.prototype.Start=function(t,e,i){return this.InitCanvas(t)&&this.InitCamera(e)&&this.InitCallbacks(i)?!0:!1},JSM.SpriteViewer.prototype.InitCanvas=function(t){return this.points=[],this.canvas=document.getElementById(t),this.canvas?!0:!1},JSM.SpriteViewer.prototype.InitCamera=function(t){return this.camera=JSM.ValueOrDefault(t,new JSM.Camera),this.camera?(this.navigation=new JSM.Navigation,this.navigation.Init(this.canvas,this.camera,this.Draw.bind(this))?!0:!1):!1},JSM.SpriteViewer.prototype.InitCallbacks=function(t){return this.callbacks={onPointDraw:null},void 0!==t&&(void 0!==t.onDrawStart&&(this.callbacks.onDrawStart=t.onDrawStart),void 0!==t.onPointDraw&&(this.callbacks.onPointDraw=t.onPointDraw),void 0!==t.onDrawEnd&&(this.callbacks.onDrawEnd=t.onDrawEnd)),!0},JSM.SpriteViewer.prototype.AddPoint=function(t){this.points.push(t)},JSM.SpriteViewer.prototype.RemovePoints=function(){this.points=[]},JSM.SpriteViewer.prototype.Resize=function(){this.Draw()},JSM.SpriteViewer.prototype.NearestPointUnderPosition=function(t,e,i){e=new JSM.Coord2D(e,i),i=-1;var r,o,n,a=JSM.Inf;for(r=0;r<this.projected.length;r++)o=this.projected[r],n=JSM.CoordDistance2D(new JSM.Coord2D(o.position.x,o.position.y),e),JSM.IsLower(n,t)&&JSM.IsLower(n,a)&&(i=o.originalIndex,a=n);return i},JSM.SpriteViewer.prototype.NearestPointUnderMouse=function(t){return this.NearestPointUnderPosition(t,this.navigation.mouse.currX,this.navigation.mouse.currY)},JSM.SpriteViewer.prototype.NearestPointUnderTouch=function(t){return this.NearestPointUnderPosition(t,this.navigation.touch.currX,this.navigation.touch.currY)},JSM.SpriteViewer.prototype.FitInWindow=function(){var t=this.GetCenter(),e=this.GetBoundingSphereRadius(t);this.navigation.FitInWindow(t,e),this.Draw()},JSM.SpriteViewer.prototype.GetCenter=function(){var t=this.GetBoundingBox();return JSM.MidCoord(t[0],t[1])},JSM.SpriteViewer.prototype.GetBoundingBox=function(){var t,e,i=new JSM.Coord(JSM.Inf,JSM.Inf,JSM.Inf),r=new JSM.Coord(-JSM.Inf,-JSM.Inf,-JSM.Inf);for(t=0;t<this.points.length;t++)e=this.points[t],i.x=JSM.Minimum(i.x,e.x),i.y=JSM.Minimum(i.y,e.y),i.z=JSM.Minimum(i.z,e.z),r.x=JSM.Maximum(r.x,e.x),r.y=JSM.Maximum(r.y,e.y),r.z=JSM.Maximum(r.z,e.z);return[i,r]},JSM.SpriteViewer.prototype.GetBoundingSphereRadius=function(t){(void 0===t||null===t)&&(t=this.GetCenter());var e,i,r=0;for(e=0;e<this.points.length;e++)i=this.points[e],i=JSM.CoordDistance(t,i),JSM.IsGreater(i,r)&&(r=i);return r},JSM.SpriteViewer.prototype.Draw=function(){null!==this.callbacks.onDrawStart&&this.callbacks.onDrawStart(this.canvas);var t=this.canvas.width/this.canvas.height,e=[0,0,this.canvas.width,this.canvas.height];this.projected=[];var i,r;for(i=0;i<this.points.length;i++)r=this.points[i],r=JSM.Project(r,this.camera.eye,this.camera.center,this.camera.up,this.camera.fieldOfView*JSM.DegRad,t,this.camera.nearClippingPlane,this.camera.farClippingPlane,e),r.y=this.canvas.height-r.y,null!==r&&this.projected.push({position:r,originalIndex:i});for(this.projected.sort(function(t,e){return t.position.z>e.position.z?-1:t.position.z<e.position.z?1:0}),i=0;i<this.projected.length;i++)null!==this.callbacks.onPointDraw&&this.callbacks.onPointDraw(this.canvas,this.projected[i].originalIndex,this.projected[i].position);return null!==this.callbacks.onDrawEnd&&this.callbacks.onDrawEnd(this.canvas),!0},JSM.Viewer=function(){this.navigation=this.renderer=this.canvas=null},JSM.Viewer.prototype.Init=function(t,e,i){return this.InitRenderer(t,e,i)&&this.InitNavigation()?!0:!1},JSM.Viewer.prototype.InitRenderer=function(t,e,i){return this.renderer=new JSM.Renderer,this.renderer.Init(t,e,i)?!0:!1},JSM.Viewer.prototype.InitNavigation=function(){return this.navigation=new JSM.Navigation,this.navigation.Init(this.renderer.canvas,this.renderer.camera,this.Draw.bind(this),this.Resize.bind(this))?!0:!1},JSM.Viewer.prototype.SetClearColor=function(t,e,i){this.renderer.SetClearColor(t,e,i),this.Draw()},JSM.Viewer.prototype.AddGeometries=function(t){this.renderer.AddGeometries(t),this.Draw()},JSM.Viewer.prototype.RemoveGeometries=function(){this.renderer.RemoveGeometries(),this.Draw()},JSM.Viewer.prototype.FitInWindow=function(){var t=this.GetCenter(),e=this.GetBoundingSphereRadius(t);this.navigation.FitInWindow(t,e),this.Draw()},JSM.Viewer.prototype.GetCenter=function(){var t=this.GetBoundingBox();return JSM.MidCoord(t[0],t[1])},JSM.Viewer.prototype.GetBoundingBox=function(){var t,e,i,r,o=new JSM.Coord(JSM.Inf,JSM.Inf,JSM.Inf),n=new JSM.Coord(-JSM.Inf,-JSM.Inf,-JSM.Inf);for(t=0;t<this.renderer.geometries.length;t++)for(i=this.renderer.geometries[t],e=0;e<i.VertexCount();e+=1)r=i.GetTransformedVertex(e),o.x=JSM.Minimum(o.x,r.x),o.y=JSM.Minimum(o.y,r.y),o.z=JSM.Minimum(o.z,r.z),n.x=JSM.Maximum(n.x,r.x),n.y=JSM.Maximum(n.y,r.y),n.z=JSM.Maximum(n.z,r.z);return[o,n]},JSM.Viewer.prototype.GetBoundingSphereRadius=function(t){(void 0===t||null===t)&&(t=this.GetCenter());var e,i,r,o,n=0;for(e=0;e<this.renderer.geometries.length;e++)for(r=this.renderer.geometries[e],i=0;i<r.VertexCount();i+=1)o=r.GetTransformedVertex(i),o=JSM.CoordDistance(t,o),JSM.IsGreater(o,n)&&(n=o);return n},JSM.Viewer.prototype.Resize=function(){this.renderer.Resize(),this.Draw()
},JSM.Viewer.prototype.Draw=function(){this.renderer.Render()},JSM.PointCloudViewer=function(){this.navigation=this.renderer=this.canvas=null},JSM.PointCloudViewer.prototype.Init=function(t,e){return this.InitRenderer(t,e)&&this.InitNavigation()?!0:!1},JSM.PointCloudViewer.prototype.InitRenderer=function(t,e){return this.renderer=new JSM.PointCloudRenderer,this.renderer.Init(t,e)?!0:!1},JSM.PointCloudViewer.prototype.InitNavigation=function(){return this.navigation=new JSM.Navigation,this.navigation.Init(this.renderer.canvas,this.renderer.camera,this.Draw.bind(this),this.Resize.bind(this))?!0:!1},JSM.PointCloudViewer.prototype.SetClearColor=function(t,e,i){this.renderer.SetClearColor(t,e,i)},JSM.PointCloudViewer.prototype.SetPointSize=function(t){this.renderer.SetPointSize(t)},JSM.PointCloudViewer.prototype.AddPoints=function(t,e){this.renderer.AddPoints(t,e)},JSM.PointCloudViewer.prototype.RemovePoints=function(){this.renderer.RemovePoints()},JSM.PointCloudViewer.prototype.FitInWindow=function(){var t=this.GetCenter(),e=this.GetBoundingSphereRadius(t);this.navigation.FitInWindow(t,e),this.Draw()},JSM.PointCloudViewer.prototype.GetCenter=function(){var t=this.GetBoundingBox();return JSM.MidCoord(t[0],t[1])},JSM.PointCloudViewer.prototype.GetBoundingBox=function(){var t,e,i,r,o=new JSM.Coord(JSM.Inf,JSM.Inf,JSM.Inf),n=new JSM.Coord(-JSM.Inf,-JSM.Inf,-JSM.Inf);for(t=0;t<this.renderer.points.length;t++)for(i=this.renderer.points[t].pointArray,e=0;e<i.length;e+=3)r=new JSM.Coord(i[e],i[e+1],i[e+2]),o.x=JSM.Minimum(o.x,r.x),o.y=JSM.Minimum(o.y,r.y),o.z=JSM.Minimum(o.z,r.z),n.x=JSM.Maximum(n.x,r.x),n.y=JSM.Maximum(n.y,r.y),n.z=JSM.Maximum(n.z,r.z);return[o,n]},JSM.PointCloudViewer.prototype.GetBoundingSphereRadius=function(t){(void 0===t||null===t)&&(t=this.GetCenter());var e,i,r,o,n=0;for(e=0;e<this.renderer.points.length;e++)for(r=this.renderer.points[e].pointArray,i=0;i<r.length;i+=3)o=new JSM.Coord(r[i],r[i+1],r[i+2]),o=JSM.CoordDistance(t,o),JSM.IsGreater(o,n)&&(n=o);return n},JSM.PointCloudViewer.prototype.Resize=function(){this.renderer.Resize(),this.Draw()},JSM.PointCloudViewer.prototype.Draw=function(){this.renderer.Render()},JSM.ConvertBodyToThreeMeshes=function(t,e,i){var r={textureLoadedCallback:null,hasConvexPolygons:!1,doubleSided:!0};void 0!==i&&null!==i&&(r.textureLoadedCallback=JSM.ValueOrDefault(i.textureLoadedCallback,r.textureLoadedCallback),r.hasConvexPolygons=JSM.ValueOrDefault(i.hasConvexPolygons,r.hasConvexPolygons),r.doubleSided=JSM.ValueOrDefault(i.doubleSided,r.doubleSided));var o=[],n=null;return JSM.ExplodeBodyToTriangles(t,e,{hasConvexPolygons:r.hasConvexPolygons,onGeometryStart:function(){n=new THREE.Geometry},onGeometryEnd:function(t){var e=null!==t.texture,i=1!==t.opacity,a=new THREE.MeshPhongMaterial({ambient:t.ambient,color:t.diffuse,specular:t.specular});r.doubleSided&&(a.side=THREE.DoubleSide),i&&(a.opacity=t.opacity,a.transparent=!0),e&&(t=THREE.ImageUtils.loadTexture(t.texture,new THREE.UVMapping,function(){null!==r.textureLoadedCallback&&r.textureLoadedCallback()}),t.wrapS=THREE.RepeatWrapping,t.wrapT=THREE.RepeatWrapping,a.map=t),n.computeFaceNormals(),a=new THREE.Mesh(n,a),o.push(a)},onTriangle:function(t,e,i,r,o,a,s,l,c){var h=n.vertices.length;n.vertices.push(new THREE.Vector3(t.x,t.y,t.z)),n.vertices.push(new THREE.Vector3(e.x,e.y,e.z)),n.vertices.push(new THREE.Vector3(i.x,i.y,i.z)),t=new THREE.Face3(h+0,h+1,h+2),n.faces.push(t),null!==r&&null!==o&&null!==a&&(t=[],t.push(new THREE.Vector3(r.x,r.y,r.z)),t.push(new THREE.Vector3(o.x,o.y,o.z)),t.push(new THREE.Vector3(a.x,a.y,a.z)),n.faces[n.faces.length-1].vertexNormals=t),null!==s&&null!==l&&null!==c&&(r=[],r.push(new THREE.Vector2(s.x,-s.y)),r.push(new THREE.Vector2(l.x,-l.y)),r.push(new THREE.Vector2(c.x,-c.y)),n.faceVertexUvs[0].push(r))}}),o},JSM.ConvertModelToThreeMeshes=function(t,e,i){var r,o,n=[],a=[];for(r=0;r<t.BodyCount();r++)for(a=t.GetBody(r),a=JSM.ConvertBodyToThreeMeshes(a,e,i),o=0;o<a.length;o++)n.push(a[o]);return n},JSM.ConvertJSONDataToThreeMeshes=function(t,e,i){function r(t,i){function r(t){var r=t.parameters,c=n[t.material];t=c.texture;var h=c.offset,u=c.scale,d=new THREE.Color,p=new THREE.Color,f=new THREE.Color;d.setRGB(c.ambient[0],c.ambient[1],c.ambient[2]),p.setRGB(c.diffuse[0],c.diffuse[1],c.diffuse[2]),f.setRGB(c.specular[0],c.specular[1],c.specular[2]),void 0!==t&&(d.setRGB(1,1,1),p.setRGB(1,1,1),f.setRGB(1,1,1),void 0===h&&(h=[0,0]),void 0===u&&(u=[1,1])),d=new THREE.MeshPhongMaterial({ambient:p.getHex(),color:p.getHex(),specular:f.getHex(),side:THREE.DoubleSide}),1!==c.opacity&&(d.opacity=c.opacity,d.transparent=!0),void 0!==t&&(c=THREE.ImageUtils.loadTexture(t,new THREE.UVMapping,function(){void 0!==e&&null!==e&&e()}),c.wrapS=THREE.RepeatWrapping,c.wrapT=THREE.RepeatWrapping,d.map=c);var _,m,g,y,b,v,M,S,T,x,c=new THREE.Geometry;for(x=0;x<r.length;x+=9)_=3*r[x+0],m=3*r[x+1],g=3*r[x+2],y=3*r[x+3],b=3*r[x+4],v=3*r[x+5],p=2*r[x+6],f=2*r[x+7],M=2*r[x+8],S=c.vertices.length,T=c.faces.length,c.vertices.push(new THREE.Vector3(a[_+0],a[_+1],a[_+2])),c.vertices.push(new THREE.Vector3(a[m+0],a[m+1],a[m+2])),c.vertices.push(new THREE.Vector3(a[g+0],a[g+1],a[g+2])),c.faces.push(new THREE.Face3(S+0,S+1,S+2)),_=[],_.push(new THREE.Vector3(s[y+0],s[y+1],s[y+2])),_.push(new THREE.Vector3(s[b+0],s[b+1],s[b+2])),_.push(new THREE.Vector3(s[v+0],s[v+1],s[v+2])),c.faces[T].vertexNormals=_,void 0!==t&&(y=[],y.push(new THREE.Vector2(h[0]+l[p+0]*u[0],h[1]+l[p+1]*u[1])),y.push(new THREE.Vector2(h[0]+l[f+0]*u[0],h[1]+l[f+1]*u[1])),y.push(new THREE.Vector2(h[0]+l[M+0]*u[0],h[1]+l[M+1]*u[1])),c.faceVertexUvs[0].push(y));r=new THREE.Mesh(c,d),r.originalJsonIndex=i,o.push(r)}var a=t.vertices;if(void 0!==a){var s=t.normals;if(void 0!==s){var l=t.uvs;if(void 0!==l){var c,h=t.triangles;for(c=0;c<h.length;c++)r(h[c])}}}}var o=[],n=t.materials;if(void 0===n)return o;var a=t.meshes;if(void 0===a)return o;var s=0;return JSM.AsyncRunTask(function(){return r(a[s],s),s+=1,!0},i,a.length,0,o),o},JSM.JSONFileConverter=function(t,e){this.onReady=t,this.onTextureLoaded=e},JSM.JSONFileConverter.prototype.Convert=function(t){new JSM.JSONFileLoader(this.OnReady.bind(this)).Load(t)},JSM.JSONFileConverter.prototype.OnReady=function(t){null!==this.onReady&&(t=JSM.ConvertJSONDataToThreeMeshes(t,this.onTextureLoaded),this.onReady(t))},JSM.ThreeViewer=function(){this.enableDraw=this.drawLoop=this.settings=this.navigation=this.cameraMove=this.runAfterRender=this.runBeforeRender=this.directionalLight=this.ambientLight=this.renderer=this.camera=this.scene=this.canvas=null},JSM.ThreeViewer.prototype.Start=function(t,e){return this.IsWebGLEnabled()&&this.InitSettings(e)&&this.InitThree(t)&&this.InitCamera(e)&&this.InitLights()?(this.drawLoop=!1,this.enableDraw=!0,this.DrawIfNeeded(),!0):!1},JSM.ThreeViewer.prototype.IsWebGLEnabled=function(){return window.WebGLRenderingContext&&document.createElement("canvas").getContext("experimental-webgl")?!0:!1},JSM.ThreeViewer.prototype.InitSettings=function(t){return this.settings={cameraEyePosition:new JSM.Coord(1,1,1),cameraCenterPosition:new JSM.Coord(0,0,0),cameraUpVector:new JSM.Coord(0,0,1),lightAmbientColor:[.5,.5,.5],lightDiffuseColor:[.5,.5,.5]},void 0!==t&&(void 0!==t.cameraEyePosition&&(this.settings.cameraEyePosition=JSM.CoordFromArray(t.cameraEyePosition)),void 0!==t.cameraCenterPosition&&(this.settings.cameraCenterPosition=JSM.CoordFromArray(t.cameraCenterPosition)),void 0!==t.cameraUpVector&&(this.settings.cameraUpVector=JSM.CoordFromArray(t.cameraUpVector)),void 0!==t.lightAmbientColor&&(this.settings.lightAmbientColor=t.lightAmbientColor),void 0!==t.lightDiffuseColor&&(this.settings.lightDiffuseColor=t.lightDiffuseColor)),!0},JSM.ThreeViewer.prototype.InitThree=function(t){return this.canvas=document.getElementById(t),this.canvas&&this.canvas.getContext?(this.scene=new THREE.Scene,this.scene?(this.renderer=new THREE.WebGLRenderer({canvas:this.canvas,antialias:!0}),this.renderer?(this.renderer.setClearColor(new THREE.Color(16777215)),this.renderer.setSize(this.canvas.width,this.canvas.height),!0):!1):!1):!1},JSM.ThreeViewer.prototype.InitCamera=function(t){return this.cameraMove=new JSM.Camera(JSM.CoordFromArray(t.cameraEyePosition),JSM.CoordFromArray(t.cameraCenterPosition),JSM.CoordFromArray(t.cameraUpVector),t.fieldOfView,t.nearClippingPlane,t.farClippingPlane),this.cameraMove?(this.navigation=new JSM.Navigation,this.navigation.Init(this.canvas,this.cameraMove,this.DrawIfNeeded.bind(this),this.Resize.bind(this))?(this.camera=new THREE.PerspectiveCamera(this.cameraMove.fieldOfView,this.canvas.width/this.canvas.height,this.cameraMove.nearClippingPlane,this.cameraMove.farClippingPlane),this.camera?(this.scene.add(this.camera),!0):!1):!1):!1},JSM.ThreeViewer.prototype.InitLights=function(){var t=new THREE.Color,e=new THREE.Color;return t.setRGB(this.settings.lightAmbientColor[0],this.settings.lightAmbientColor[1],this.settings.lightAmbientColor[2]),e.setRGB(this.settings.lightDiffuseColor[0],this.settings.lightDiffuseColor[1],this.settings.lightDiffuseColor[2]),this.ambientLight=new THREE.AmbientLight(t.getHex()),this.ambientLight?(this.scene.add(this.ambientLight),this.directionalLight=new THREE.DirectionalLight(e.getHex()),this.directionalLight?(t=(new THREE.Vector3).subVectors(this.cameraMove.eye,this.cameraMove.center),this.directionalLight.position.set(t.x,t.y,t.z),this.scene.add(this.directionalLight),!0):!1):!1},JSM.ThreeViewer.prototype.SetRunBeforeRender=function(t){this.runBeforeRender=t},JSM.ThreeViewer.prototype.SetRunAfterRender=function(t){this.runAfterRender=t},JSM.ThreeViewer.prototype.SetClearColor=function(t){this.renderer.setClearColor(new THREE.Color(t)),this.DrawIfNeeded()},JSM.ThreeViewer.prototype.AddMesh=function(t){this.scene.add(t),this.DrawIfNeeded()},JSM.ThreeViewer.prototype.AddMeshes=function(t){var e;for(e=0;e<t.length;e++)this.scene.add(t[e]);this.DrawIfNeeded()},JSM.ThreeViewer.prototype.MeshCount=function(){var t=0;return this.scene.traverse(function(e){e instanceof THREE.Mesh&&(t+=1)}),t},JSM.ThreeViewer.prototype.VertexCount=function(){var t=0;return this.scene.traverse(function(e){e instanceof THREE.Mesh&&(t+=e.geometry.vertices.length)}),t},JSM.ThreeViewer.prototype.FaceCount=function(){var t=0;return this.scene.traverse(function(e){e instanceof THREE.Mesh&&(t+=e.geometry.faces.length)}),t},JSM.ThreeViewer.prototype.GetMesh=function(t){var e,i=null,r=0;for(e=0;e<this.scene.children.length;e++)if(i=this.scene.children[e],i instanceof THREE.Mesh){if(r==t)return i;r+=1}return null},JSM.ThreeViewer.prototype.RemoveMesh=function(t){this.scene.remove(t),this.DrawIfNeeded()},JSM.ThreeViewer.prototype.RemoveMeshes=function(){var t,e;for(e=0;e<this.scene.children.length;e++)t=this.scene.children[e],t instanceof THREE.Mesh&&(this.scene.remove(t),e--);this.DrawIfNeeded()},JSM.ThreeViewer.prototype.RemoveLastMesh=function(){var t=null;this.scene.traverse(function(e){e instanceof THREE.Mesh&&(t=e)}),null!==t&&this.scene.remove(t),this.DrawIfNeeded()},JSM.ThreeViewer.prototype.SetCamera=function(t,e,i){this.navigation.SetCamera(t,e,i),this.navigation.SetOrbitCenter(e.Clone()),this.DrawIfNeeded()},JSM.ThreeViewer.prototype.Resize=function(){this.camera.aspect=this.canvas.width/this.canvas.height,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.canvas.width,this.canvas.height),this.DrawIfNeeded()},JSM.ThreeViewer.prototype.FitInWindow=function(){if(0!==this.MeshCount()){var t=this.GetCenter(),e=this.GetBoundingSphereRadius(t);this.navigation.FitInWindow(t,e),this.DrawIfNeeded()}},JSM.ThreeViewer.prototype.AdjustClippingPlanes=function(t){var e=this.GetCenter();this.GetBoundingSphereRadius(e)<t?(this.camera.near=.1,this.camera.far=1e3):(this.camera.near=10,this.camera.far=1e6),this.camera.updateProjectionMatrix(),this.Draw()},JSM.ThreeViewer.prototype.GetCenter=function(){var t=this.GetBoundingBox();return JSM.MidCoord(t[0],t[1])},JSM.ThreeViewer.prototype.GetBoundingBox=function(){var t,e,i=new JSM.Coord(JSM.Inf,JSM.Inf,JSM.Inf),r=new JSM.Coord(-JSM.Inf,-JSM.Inf,-JSM.Inf);return this.scene.traverse(function(o){if(o instanceof THREE.Mesh){t=o.geometry;var n;for(n=0;n<t.vertices.length;n++)e=t.vertices[n].clone(),e.add(o.position),i.x=JSM.Minimum(i.x,e.x),i.y=JSM.Minimum(i.y,e.y),i.z=JSM.Minimum(i.z,e.z),r.x=JSM.Maximum(r.x,e.x),r.y=JSM.Maximum(r.y,e.y),r.z=JSM.Maximum(r.z,e.z)}}),[i,r]},JSM.ThreeViewer.prototype.GetBoundingSphereRadius=function(t){(void 0===t||null===t)&&(t=this.GetCenter());var e,i,r,o=0;return this.scene.traverse(function(n){if(n instanceof THREE.Mesh){e=n.geometry;var a;for(a=0;a<e.vertices.length;a++)i=e.vertices[a].clone(),i.add(n.position),r=JSM.CoordDistance(t,new JSM.Coord(i.x,i.y,i.z)),JSM.IsGreater(r,o)&&(o=r)}}),o},JSM.ThreeViewer.prototype.GetObjectsUnderPosition=function(t,e){var i=2*(t/this.canvas.width)-1,r=2*-(e/this.canvas.height)+1,o=new THREE.Projector,n=this.camera.position,i=new THREE.Vector3(i,r,.5);return o.unprojectVector(i,this.camera),i.sub(n),i.normalize(),new THREE.Raycaster(n,i).intersectObjects(this.scene.children)},JSM.ThreeViewer.prototype.GetObjectsUnderMouse=function(){return this.GetObjectsUnderPosition(this.navigation.mouse.currX,this.navigation.mouse.currY)},JSM.ThreeViewer.prototype.GetObjectsUnderTouch=function(){return this.GetObjectsUnderPosition(this.navigation.touch.currX,this.navigation.touch.currY)},JSM.ThreeViewer.prototype.ProjectVector=function(t,e,i){var r=this.canvas.width/2,o=this.canvas.height/2,n=new THREE.Projector;return t=new THREE.Vector3(t,e,i),n.projectVector(t,this.camera),t.x=t.x*r+r,t.y=-(t.y*o)+o,t},JSM.ThreeViewer.prototype.EnableDraw=function(t){this.enableDraw=t},JSM.ThreeViewer.prototype.Draw=function(){if(this.enableDraw){null!==this.runBeforeRender&&this.runBeforeRender(),this.camera.position.set(this.cameraMove.eye.x,this.cameraMove.eye.y,this.cameraMove.eye.z),this.camera.up.set(this.cameraMove.up.x,this.cameraMove.up.y,this.cameraMove.up.z),this.camera.lookAt(new THREE.Vector3(this.cameraMove.center.x,this.cameraMove.center.y,this.cameraMove.center.z));var t=(new THREE.Vector3).subVectors(this.cameraMove.eye,this.cameraMove.center);this.directionalLight.position.set(t.x,t.y,t.z),this.renderer.render(this.scene,this.camera),null!==this.runAfterRender&&this.runAfterRender(),this.drawLoop&&requestAnimationFrame(this.Draw.bind(this))}},JSM.ThreeViewer.prototype.DrawIfNeeded=function(){this.drawLoop||this.Draw()},JSM.ThreeViewer.prototype.StartDrawLoop=function(){this.drawLoop=!0,this.Draw()};var AmmoLib=function(t){function e(){throw"NO_DYNAMIC_EXECUTION was set, cannot eval"}function i(t,e){t||gi("Assertion failed: "+e)}function r(e){var r=t["_"+e];return r||gi("NO_DYNAMIC_EXECUTION was set, cannot eval - ccall/cwrap are not functional"),i(r,"Cannot call unknown function "+e+" (perhaps LLVM optimizations or closure removed it?)"),r}function o(t,e,i){switch(i=i||"i8","*"===i.charAt(i.length-1)&&(i="i32"),i){case"i1":So[t>>0]=e;break;case"i8":So[t>>0]=e;break;case"i16":xo[t>>1]=e;break;case"i32":Eo[t>>2]=e;break;case"i64":co=[e>>>0,(lo=e,+Zo(lo)>=1?lo>0?(0|cn(+sn(lo/4294967296),4294967295))>>>0:~~+an((lo-+(~~lo>>>0))/4294967296)>>>0:0)],Eo[t>>2]=co[0],Eo[t+4>>2]=co[1];break;case"float":wo[t>>2]=e;break;case"double":Ro[t>>3]=e;break;default:gi("invalid type for setValue: "+i)}}function n(t,e){switch(e=e||"i8","*"===e.charAt(e.length-1)&&(e="i32"),e){case"i1":return So[t>>0];case"i8":return So[t>>0];case"i16":return xo[t>>1];case"i32":return Eo[t>>2];case"i64":return Eo[t>>2];case"float":return wo[t>>2];case"double":return Ro[t>>3];default:gi("invalid type for setValue: "+e)}return null}function a(t,e,r,n){var a,s;"number"==typeof t?(a=!0,s=t):(a=!1,s=t.length);var l,c="string"==typeof e?e:null;if(l=r==vo?n:[ge,so.stackAlloc,so.staticAlloc,so.dynamicAlloc][void 0===r?yo:r](Math.max(s,c?1:e.length)),a){var h,n=l;for(i(0==(3&l)),h=l+(-4&s);h>n;n+=4)Eo[n>>2]=0;for(h=l+s;h>n;)So[n++>>0]=0;return l}if("i8"===c)return t.subarray||t.slice?To.set(t,l):To.set(new Uint8Array(t),l),l;for(var u,d,p,f=0;s>f;){var _=t[f];"function"==typeof _&&(_=so.getFunctionIndex(_)),u=c||e[f],0!==u?("i64"==u&&(u="i32"),o(l+f,_,u),p!==u&&(d=so.getNativeTypeSize(u),p=u),f+=d):f++}return l}function s(e,i){if(0===i||!e)return"";for(var r,o=0,n=0;;){if(r=To[e+n>>0],o|=r,0==r&&!i)break;if(n++,i&&n==i)break}i||(i=n);var a="";if(128>o){for(var s,l=1024;i>0;)s=String.fromCharCode.apply(String,To.subarray(e,e+Math.min(i,l))),a=a?a+s:s,e+=l,i-=l;return a}return t.UTF8ToString(e)}function l(t){for(var e="";;){var i=So[t++>>0];if(!i)return e;e+=String.fromCharCode(i)}}function c(t,e){return G(t,e,!1)}function h(t,e){for(var i,r,o,n,a,s,l="";;){if(i=t[e++],!i)return l;if(128&i)if(r=63&t[e++],192!=(224&i))if(o=63&t[e++],224==(240&i)?i=(15&i)<<12|r<<6|o:(n=63&t[e++],240==(248&i)?i=(7&i)<<18|r<<12|o<<6|n:(a=63&t[e++],248==(252&i)?i=(3&i)<<24|r<<18|o<<12|n<<6|a:(s=63&t[e++],i=(1&i)<<30|r<<24|o<<18|n<<12|a<<6|s))),65536>i)l+=String.fromCharCode(i);else{var c=i-65536;l+=String.fromCharCode(55296|c>>10,56320|1023&c)}else l+=String.fromCharCode((31&i)<<6|r);else l+=String.fromCharCode(i)}}function u(t){return h(To,t)}function d(t,e,i,r){if(!(r>0))return 0;for(var o=i,n=i+r-1,a=0;a<t.length;++a){var s=t.charCodeAt(a);if(s>=55296&&57343>=s&&(s=65536+((1023&s)<<10)|1023&t.charCodeAt(++a)),127>=s){if(i>=n)break;e[i++]=s}else if(2047>=s){if(i+1>=n)break;e[i++]=192|s>>6,e[i++]=128|63&s}else if(65535>=s){if(i+2>=n)break;e[i++]=224|s>>12,e[i++]=128|s>>6&63,e[i++]=128|63&s}else if(2097151>=s){if(i+3>=n)break;e[i++]=240|s>>18,e[i++]=128|s>>12&63,e[i++]=128|s>>6&63,e[i++]=128|63&s}else if(67108863>=s){if(i+4>=n)break;e[i++]=248|s>>24,e[i++]=128|s>>18&63,e[i++]=128|s>>12&63,e[i++]=128|s>>6&63,e[i++]=128|63&s}else{if(i+5>=n)break;e[i++]=252|s>>30,e[i++]=128|s>>24&63,e[i++]=128|s>>18&63,e[i++]=128|s>>12&63,e[i++]=128|s>>6&63,e[i++]=128|63&s}}return e[i]=0,i-o}function p(t,e,i){return d(t,To,e,i)}function f(t){for(var e=0,i=0;i<t.length;++i){var r=t.charCodeAt(i);r>=55296&&57343>=r&&(r=65536+((1023&r)<<10)|1023&t.charCodeAt(++i)),127>=r?++e:e+=2047>=r?2:65535>=r?3:2097151>=r?4:67108863>=r?5:6}return e}function _(t){for(var e=0,i="";;){var r=xo[t+2*e>>1];if(0==r)return i;++e,i+=String.fromCharCode(r)}}function m(t,e,i){if(void 0===i&&(i=2147483647),2>i)return 0;i-=2;for(var r=e,o=i<2*t.length?i/2:t.length,n=0;o>n;++n){var a=t.charCodeAt(n);xo[e>>1]=a,e+=2}return xo[e>>1]=0,e-r}function g(t){return 2*t.length}function y(t){for(var e=0,i="";;){var r=Eo[t+4*e>>2];if(0==r)return i;if(++e,r>=65536){var o=r-65536;i+=String.fromCharCode(55296|o>>10,56320|1023&o)}else i+=String.fromCharCode(r)}}function b(t,e,i){if(void 0===i&&(i=2147483647),4>i)return 0;for(var r=e,o=r+i-4,n=0;n<t.length;++n){var a=t.charCodeAt(n);if(a>=55296&&57343>=a){var s=t.charCodeAt(++n);a=65536+((1023&a)<<10)|1023&s}if(Eo[e>>2]=a,e+=4,e+4>o)break}return Eo[e>>2]=0,e-r}function v(t){for(var e=0,i=0;i<t.length;++i){var r=t.charCodeAt(i);r>=55296&&57343>=r&&++i,e+=4}return e}function M(e){function i(){u++,"K"===e[u]&&u++;for(var t=[];"E"!==e[u];)if("S"!==e[u])if("C"!==e[u]){var i=parseInt(e.substr(u)),r=i.toString().length;if(!i||!r){u--;break}var o=e.substr(u+r,i);t.push(o),p.push(o),u+=r+i}else t.push(t[t.length-1]),u+=2;else{u++;var n=e.indexOf("_",u),a=e.substring(u,n)||0;t.push(p[a]||"?"),u=n+1}return u++,t}function r(t,o,n){function a(){return"("+c.join(", ")+")"}o=o||1/0;var s,l="",c=[];if("N"===e[u]){if(s=i().join("::"),o--,0===o)return t?[s]:s}else{("K"===e[u]||f&&"L"===e[u])&&u++;var h=parseInt(e.substr(u));if(h){var p=h.toString().length;s=e.substr(u+p,h),u+=p+h}}if(f=!1,"I"===e[u]){u++;var _=r(!0),m=r(!0,1,!0);l+=m[0]+" "+s+"<"+_.join(", ")+">"}else l=s;t:for(;u<e.length&&o-->0;){var g=e[u++];if(g in d)c.push(d[g]);else switch(g){case"P":c.push(r(!0,1,!0)[0]+"*");break;case"R":c.push(r(!0,1,!0)[0]+"&");break;case"L":u++;var y=e.indexOf("E",u),h=y-u;c.push(e.substr(u,h)),u+=h+2;break;case"A":var h=parseInt(e.substr(u));if(u+=h.toString().length,"_"!==e[u])throw"?";u++,c.push(r(!0,1,!0)[0]+" ["+h+"]");break;case"E":break t;default:l+="?"+g;break t}}return n||1!==c.length||"void"!==c[0]||(c=[]),t?(l&&c.push(l+"?"),c):l+a()}var o=!!t.___cxa_demangle;if(o)try{var a=ge(e.length);N(e.substr(1),a);var l=ge(4),c=t.___cxa_demangle(a,0,0,l);if(0===n(l,"i32")&&c)return s(c)}catch(h){}finally{a&&x_(a),l&&x_(l),c&&x_(c)}var u=3,d={v:"void",b:"bool",c:"char",s:"short",i:"int",l:"long",f:"float",d:"double",w:"wchar_t",a:"signed char",h:"unsigned char",t:"unsigned short",j:"unsigned int",m:"unsigned long",x:"long long",y:"unsigned long long",z:"..."},p=[],f=!0,_=e;try{if("Object._main"==e||"_main"==e)return"main()";if("number"==typeof e&&(e=s(e)),"_"!==e[0])return e;if("_"!==e[1])return e;if("Z"!==e[2])return e;switch(e[3]){case"n":return"operator new()";case"d":return"operator delete()"}_=r()}catch(h){_+="?"}return _.indexOf("?")>=0&&!o&&so.warnOnce("warning: a problem occurred in builtin C++ name demangling; build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),_}function S(t){return t.replace(/__Z[\w\d_]+/g,function(t){var e=M(t);return t===e?t:t+" ["+e+"]"})}function T(){var t=new Error;if(!t.stack){try{throw new Error(0)}catch(e){t=e}if(!t.stack)return"(no stack trace available)"}return t.stack.toString()}function x(){return S(T())}function C(t){return t%4096>0&&(t+=4096-t%4096),t}function E(){var e=Math.pow(2,31);if(Jo>=e)return!1;for(;Jo>=Go;)if(e/2>Go)Go=C(2*Go);else{var i=Go;if(Go=C((3*Go+e)/4),i>=Go)return!1}if(Go=Math.max(Go,16777216),Go>=e)return!1;try{if(ArrayBuffer.transfer)jo=ArrayBuffer.transfer(jo,Go);else{var r=So;jo=new ArrayBuffer(Go)}}catch(o){return!1}var n=Ps(jo);return n?(t.buffer=jo,t.HEAP8=So=new Int8Array(jo),t.HEAP16=xo=new Int16Array(jo),t.HEAP32=Eo=new Int32Array(jo),t.HEAPU8=To=new Uint8Array(jo),t.HEAPU16=Co=new Uint16Array(jo),t.HEAPU32=Ao=new Uint32Array(jo),t.HEAPF32=wo=new Float32Array(jo),t.HEAPF64=Ro=new Float64Array(jo),ArrayBuffer.transfer||So.set(r),!0):!1}function A(t){for(;t.length>0;){var e=t.shift();if("function"!=typeof e){var i=e.func;"number"==typeof i?void 0===e.arg?so.dynCall("v",i):so.dynCall("vi",i,[e.arg]):i(void 0===e.arg?null:e.arg)}else e()}}function w(){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)V(t.preRun.shift());A(Uo)}function R(){Yo||(Yo=!0,A(Wo))}function D(){A(Xo)}function P(){A(qo),Qo=!0}function B(){if(t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;)I(t.postRun.shift());A(Ko)}function V(t){Uo.unshift(t)}function L(t){Wo.unshift(t)}function k(t){Xo.unshift(t)}function H(t){qo.unshift(t)}function I(t){Ko.unshift(t)}function O(t,e,i){var r=i>0?i:f(t)+1,o=new Array(r),n=d(t,o,0,o.length);return e&&(o.length=n),o}function J(t){for(var e=[],i=0;i<t.length;i++){var r=t[i];r>255&&(r&=255),e.push(String.fromCharCode(r))}return e.join("")}function N(t,e,i){for(var r=O(t,i),o=0;o<r.length;){var n=r[o];So[e+o>>0]=n,o+=1}}function F(t,e){for(var i=0;i<t.length;i++)So[e++>>0]=t[i]}function G(t,e,i){for(var r=0;r<t.length;++r)So[e++>>0]=t.charCodeAt(r);i||(So[e>>0]=0)}function z(t,e){return t>=0?t:32>=e?2*Math.abs(1<<e-1)+t:Math.pow(2,e)+t}function j(t,e){if(0>=t)return t;var i=32>=e?Math.abs(1<<e-1):Math.pow(2,e-1);return t>=i&&(32>=e||t>i)&&(t=-2*i+t),t}function U(){hn++,t.monitorRunDependencies&&t.monitorRunDependencies(hn)}function W(){if(hn--,t.monitorRunDependencies&&t.monitorRunDependencies(hn),0==hn&&(null!==un&&(clearInterval(un),un=null),dn)){var e=dn;dn=null,e()}}function X(t,e,i,r,o,n,a,s,l){return 0|fn[t](e,i,r,o,n,a,s,l)}function q(t){return Eo[yn>>2]=t,t}function K(t){switch(t){case 30:return Po;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 79:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"==typeof navigator?navigator.hardwareConcurrency||1:1}return q(bn.EINVAL),-1}function Y(){return!!Y.uncaught_exception}function Q(t){throw vn.last||(vn.last=t),vn.clearRef(vn.deAdjust(t)),t+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}function Z(){var e=vn.last;if(!e)return 0|(Vn.setTempRet0(0),0);var i=vn.infos[e],r=i.type;if(!r)return 0|(Vn.setTempRet0(0),e);{var o=Array.prototype.slice.call(arguments);t.___cxa_is_pointer_type(r)}Z.buffer||(Z.buffer=ge(4)),Eo[Z.buffer>>2]=e,e=Z.buffer;for(var n=0;n<o.length;n++)if(o[n]&&t.___cxa_can_catch(o[n],r,e))return e=Eo[e>>2],i.adjusted=e,0|(Vn.setTempRet0(o[n]),e);return e=Eo[e>>2],0|(Vn.setTempRet0(r),e)}function $(t,e,i){throw vn.infos[t]={ptr:t,adjusted:t,type:e,destructor:i,refcount:0},vn.last=t,"uncaught_exception"in Y?Y.uncaught_exception++:Y.uncaught_exception=1,t+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}function te(){t.abort()}function ee(t,e){ee.seen||(ee.seen={}),t in ee.seen||(so.dynCall("v",e),ee.seen[t]=1)}function ie(t,e,i){var r=xn.getSocket(t);return r?oe(t,e,i):(q(bn.EBADF),-1)}function re(t,e,i,r){var o=Tn.getStream(t);if(!o)return q(bn.EBADF),-1;try{var n=So;return Tn.write(o,n,e,i,r)}catch(a){return Tn.handleFSError(a),-1}}function oe(t,e,i){var r=Tn.getStream(t);if(!r)return q(bn.EBADF),-1;try{var o=So;return Tn.write(r,o,e,i)}catch(n){return Tn.handleFSError(n),-1}}function ne(t){return t=Tn.getStreamFromPtr(t),t?t.fd:-1}function ae(t,e){var i=z(255&t);So[ae.ret>>0]=i;var r=ne(e),o=oe(r,ae.ret,1);if(-1==o){var n=Tn.getStreamFromPtr(e);return n&&(n.error=!0),-1}return i}function se(t){return Cn[t]||0}function le(t){return 0==t?bn.EINVAL:(Eo[t>>2]=En,Cn[En]=0,En++,0)}function ce(t,e){return t in Cn?(Cn[t]=e,0):bn.EINVAL}function he(){throw fo=!0,"Pure virtual function called!"}function ue(){}function de(t){return So[t>>0]?0:(So[t>>0]=1,1)}function pe(t){var e=Date.now();return Eo[t>>2]=e/1e3|0,Eo[t+4>>2]=e%1e3*1e3|0,0}function fe(t){return Y.uncaught_exception--,vn.caught.push(t),vn.addRef(vn.deAdjust(t)),t}function _e(t,e,i){return To.set(To.subarray(e,e+i),t),t}function me(t){var e=me;e.called||(Jo=C(Jo),e.called=!0,i(so.dynamicAlloc),e.alloc=so.dynamicAlloc,so.dynamicAlloc=function(){gi("cannot dynamically allocate, sbrk now has control")});var r=Jo;if(0!=t){var o=e.alloc(t);if(!o)return-1>>>0}return r}function ge(t){var e=so.dynamicAlloc(t+8);return e+8&4294967288}function ye(t){return ge(t)}function be(){return yn}function ve(){gi("trap!")}function Me(t){var e=Date.now()/1e3|0;return t&&(Eo[t>>2]=e),e}function Se(t,e,i,r){var o=i*e;if(0==o)return 0;var n=ne(r),a=oe(n,t,o);if(-1==a){var s=Tn.getStreamFromPtr(r);return s&&(s.error=!0),0}return a/e|0}function Te(t){return 0>t||0===t&&1/t===-1/0}function xe(t,e){function r(t){var r;return l=so.prepVararg(l,t),"double"===t?(Eo[_n>>2]=Eo[e+l>>2],Eo[_n+4>>2]=Eo[e+(l+4)>>2],r=+Ro[_n>>3],l+=8):"i64"==t?(r=[Eo[e+l>>2],Eo[e+(l+4)>>2]],l+=8):(i(0===(3&l)),t="i32",r=Eo[e+l>>2],l+=4),r}i(0===(7&e));for(var o,n,a,s=t,l=0,c=[];;){var h=s;if(o=So[s>>0],0===o)break;if(n=So[s+1>>0],37==o){var u=!1,d=!1,p=!1,f=!1,_=!1;t:for(;;){switch(n){case 43:u=!0;break;case 45:d=!0;break;case 35:p=!0;break;case 48:if(f)break t;f=!0;break;case 32:_=!0;break;default:break t}s++,n=So[s+1>>0]}var m=0;if(42==n)m=r("i32"),s++,n=So[s+1>>0];else for(;n>=48&&57>=n;)m=10*m+(n-48),s++,n=So[s+1>>0];var g=!1,y=-1;if(46==n){if(y=0,g=!0,s++,n=So[s+1>>0],42==n)y=r("i32"),s++;else for(;;){var b=So[s+1>>0];if(48>b||b>57)break;y=10*y+(b-48),s++}n=So[s+1>>0]}0>y&&(y=6,g=!1);var v;switch(String.fromCharCode(n)){case"h":var M=So[s+2>>0];104==M?(s++,v=1):v=2;break;case"l":var M=So[s+2>>0];108==M?(s++,v=8):v=4;break;case"L":case"q":case"j":v=8;break;case"z":case"t":case"I":v=4;break;default:v=null}switch(v&&s++,n=So[s+1>>0],String.fromCharCode(n)){case"d":case"i":case"u":case"o":case"x":case"X":case"p":var S=100==n||105==n;v=v||4;var T,a=r("i"+8*v),x=a;if(8==v&&(a=so.makeBigInt(a[0],a[1],117==n)),4>=v){var C=Math.pow(256,v)-1;a=(S?j:z)(a&C,8*v)}var E=Math.abs(a),A="";if(100==n||105==n)T=8==v&&Yg?Yg.stringify(x[0],x[1],null):j(a,8*v,1).toString(10);else if(117==n)T=8==v&&Yg?Yg.stringify(x[0],x[1],!0):z(a,8*v,1).toString(10),a=Math.abs(a);else if(111==n)T=(p?"0":"")+E.toString(8);else if(120==n||88==n){if(A=p&&0!=a?"0x":"",8==v&&Yg)if(x[1]){T=(x[1]>>>0).toString(16);for(var w=(x[0]>>>0).toString(16);w.length<8;)w="0"+w;T+=w}else T=(x[0]>>>0).toString(16);else if(0>a){a=-a,T=(E-1).toString(16);for(var R=[],D=0;D<T.length;D++)R.push((15-parseInt(T[D],16)).toString(16));for(T=R.join("");T.length<2*v;)T="f"+T}else T=E.toString(16);88==n&&(A=A.toUpperCase(),T=T.toUpperCase())}else 112==n&&(0===E?T="(nil)":(A="0x",T=E.toString(16)));if(g)for(;T.length<y;)T="0"+T;for(a>=0&&(u?A="+"+A:_&&(A=" "+A)),"-"==T.charAt(0)&&(A="-"+A,T=T.substr(1));A.length+T.length<m;)d?T+=" ":f?T="0"+T:A=" "+A;T=A+T,T.split("").forEach(function(t){c.push(t.charCodeAt(0))});break;case"f":case"F":case"e":case"E":case"g":case"G":var T,a=r("double");if(isNaN(a))T="nan",f=!1;else if(isFinite(a)){var P=!1,B=Math.min(y,20);if(103==n||71==n){P=!0,y=y||1;var V=parseInt(a.toExponential(B).split("e")[1],10);y>V&&V>=-4?(n=(103==n?"f":"F").charCodeAt(0),y-=V+1):(n=(103==n?"e":"E").charCodeAt(0),y--),B=Math.min(y,20)}101==n||69==n?(T=a.toExponential(B),/[eE][-+]\d$/.test(T)&&(T=T.slice(0,-1)+"0"+T.slice(-1))):(102==n||70==n)&&(T=a.toFixed(B),0===a&&Te(a)&&(T="-"+T));var L=T.split("e");if(P&&!p)for(;L[0].length>1&&-1!=L[0].indexOf(".")&&("0"==L[0].slice(-1)||"."==L[0].slice(-1));)L[0]=L[0].slice(0,-1);else for(p&&-1==T.indexOf(".")&&(L[0]+=".");y>B++;)L[0]+="0";T=L[0]+(L.length>1?"e"+L[1]:""),69==n&&(T=T.toUpperCase()),a>=0&&(u?T="+"+T:_&&(T=" "+T))}else T=(0>a?"-":"")+"inf",f=!1;for(;T.length<m;)d?T+=" ":T=!f||"-"!=T[0]&&"+"!=T[0]?(f?"0":" ")+T:T[0]+"0"+T.slice(1);97>n&&(T=T.toUpperCase()),T.split("").forEach(function(t){c.push(t.charCodeAt(0))});break;case"s":var k=r("i8*"),H=k?Hn(k):"(null)".length;if(g&&(H=Math.min(H,y)),!d)for(;H<m--;)c.push(32);if(k)for(var D=0;H>D;D++)c.push(To[k++>>0]);else c=c.concat(O("(null)".substr(0,H),!0));if(d)for(;H<m--;)c.push(32);break;case"c":for(d&&c.push(r("i8"));--m>0;)c.push(32);d||c.push(r("i8"));break;case"n":var I=r("i32*");Eo[I>>2]=c.length;break;case"%":c.push(o);break;default:for(var D=h;s+2>D;D++)c.push(So[D>>0])}s+=2}else c.push(o),s+=1}return c}function Ce(t,e,i){var r=xe(e,i),o=so.stackSave(),n=Se(a(r,"i8",go),1,r.length,t);return so.stackRestore(o),n}function Ee(t,e,i){return Ce(t,e,Eo[i>>2])}function Ae(e,i,r,o,n,a){try{t.dynCall_viiiii(e,i,r,o,n,a)}catch(s){if("number"!=typeof s&&"longjmp"!==s)throw s;Vn.setThrew(1,0)}}function we(e,i,r){try{t.dynCall_vid(e,i,r)}catch(o){if("number"!=typeof o&&"longjmp"!==o)throw o;Vn.setThrew(1,0)}}function Re(e,i){try{t.dynCall_vi(e,i)}catch(r){if("number"!=typeof r&&"longjmp"!==r)throw r;Vn.setThrew(1,0)}}function De(e,i,r,o,n,a,s){try{t.dynCall_viiidii(e,i,r,o,n,a,s)
}catch(l){if("number"!=typeof l&&"longjmp"!==l)throw l;Vn.setThrew(1,0)}}function Pe(e,i,r){try{t.dynCall_vii(e,i,r)}catch(o){if("number"!=typeof o&&"longjmp"!==o)throw o;Vn.setThrew(1,0)}}function Be(e,i,r,o,n,a,s,l,c,h,u){try{return t.dynCall_iiiiiiiiiii(e,i,r,o,n,a,s,l,c,h,u)}catch(d){if("number"!=typeof d&&"longjmp"!==d)throw d;Vn.setThrew(1,0)}}function Ve(e,i){try{return t.dynCall_ii(e,i)}catch(r){if("number"!=typeof r&&"longjmp"!==r)throw r;Vn.setThrew(1,0)}}function Le(e,i,r,o,n){try{t.dynCall_viidi(e,i,r,o,n)}catch(a){if("number"!=typeof a&&"longjmp"!==a)throw a;Vn.setThrew(1,0)}}function ke(e,i,r,o,n,a,s){try{t.dynCall_viddiii(e,i,r,o,n,a,s)}catch(l){if("number"!=typeof l&&"longjmp"!==l)throw l;Vn.setThrew(1,0)}}function He(e,i,r,o,n){try{t.dynCall_vidii(e,i,r,o,n)}catch(a){if("number"!=typeof a&&"longjmp"!==a)throw a;Vn.setThrew(1,0)}}function Ie(e,i,r,o,n){try{return t.dynCall_iiiii(e,i,r,o,n)}catch(a){if("number"!=typeof a&&"longjmp"!==a)throw a;Vn.setThrew(1,0)}}function Oe(e,i,r,o){try{t.dynCall_vidi(e,i,r,o)}catch(n){if("number"!=typeof n&&"longjmp"!==n)throw n;Vn.setThrew(1,0)}}function Je(e,i,r,o,n,a,s,l,c){try{return t.dynCall_diiiiiiii(e,i,r,o,n,a,s,l,c)}catch(h){if("number"!=typeof h&&"longjmp"!==h)throw h;Vn.setThrew(1,0)}}function Ne(e,i,r,o,n,a,s,l,c,h,u,d){try{t.dynCall_viiiiddddiid(e,i,r,o,n,a,s,l,c,h,u,d)}catch(p){if("number"!=typeof p&&"longjmp"!==p)throw p;Vn.setThrew(1,0)}}function Fe(e,i,r,o,n,a){try{return t.dynCall_diiiii(e,i,r,o,n,a)}catch(s){if("number"!=typeof s&&"longjmp"!==s)throw s;Vn.setThrew(1,0)}}function Ge(e,i,r,o){try{return t.dynCall_iiii(e,i,r,o)}catch(n){if("number"!=typeof n&&"longjmp"!==n)throw n;Vn.setThrew(1,0)}}function ze(e,i,r,o,n,a,s){try{t.dynCall_viiiiii(e,i,r,o,n,a,s)}catch(l){if("number"!=typeof l&&"longjmp"!==l)throw l;Vn.setThrew(1,0)}}function je(e,i,r,o){try{return t.dynCall_iiid(e,i,r,o)}catch(n){if("number"!=typeof n&&"longjmp"!==n)throw n;Vn.setThrew(1,0)}}function Ue(e,i){try{return t.dynCall_di(e,i)}catch(r){if("number"!=typeof r&&"longjmp"!==r)throw r;Vn.setThrew(1,0)}}function We(e,i,r,o,n,a,s){try{return t.dynCall_iiiiiii(e,i,r,o,n,a,s)}catch(l){if("number"!=typeof l&&"longjmp"!==l)throw l;Vn.setThrew(1,0)}}function Xe(e,i,r,o,n,a,s){try{return t.dynCall_diiidii(e,i,r,o,n,a,s)}catch(l){if("number"!=typeof l&&"longjmp"!==l)throw l;Vn.setThrew(1,0)}}function qe(e,i,r,o,n,a){try{t.dynCall_viidii(e,i,r,o,n,a)}catch(s){if("number"!=typeof s&&"longjmp"!==s)throw s;Vn.setThrew(1,0)}}function Ke(e,i,r,o,n,a,s,l){try{t.dynCall_viiiiiii(e,i,r,o,n,a,s,l)}catch(c){if("number"!=typeof c&&"longjmp"!==c)throw c;Vn.setThrew(1,0)}}function Ye(e,i,r,o,n,a,s,l,c,h){try{t.dynCall_viiiiiiiii(e,i,r,o,n,a,s,l,c,h)}catch(u){if("number"!=typeof u&&"longjmp"!==u)throw u;Vn.setThrew(1,0)}}function Qe(e,i,r,o,n,a,s,l,c,h,u){try{t.dynCall_viiiiiiiiii(e,i,r,o,n,a,s,l,c,h,u)}catch(d){if("number"!=typeof d&&"longjmp"!==d)throw d;Vn.setThrew(1,0)}}function Ze(e,i,r){try{return t.dynCall_iii(e,i,r)}catch(o){if("number"!=typeof o&&"longjmp"!==o)throw o;Vn.setThrew(1,0)}}function $e(e,i,r,o){try{return t.dynCall_diii(e,i,r,o)}catch(n){if("number"!=typeof n&&"longjmp"!==n)throw n;Vn.setThrew(1,0)}}function ti(e,i,r,o,n,a,s,l,c,h,u){try{return t.dynCall_diiiiiiiiii(e,i,r,o,n,a,s,l,c,h,u)}catch(d){if("number"!=typeof d&&"longjmp"!==d)throw d;Vn.setThrew(1,0)}}function ei(e,i,r,o,n,a){try{t.dynCall_viiiid(e,i,r,o,n,a)}catch(s){if("number"!=typeof s&&"longjmp"!==s)throw s;Vn.setThrew(1,0)}}function ii(e,i,r,o,n,a,s,l,c,h){try{return t.dynCall_diiiiiiiii(e,i,r,o,n,a,s,l,c,h)}catch(u){if("number"!=typeof u&&"longjmp"!==u)throw u;Vn.setThrew(1,0)}}function ri(e,i,r){try{return t.dynCall_did(e,i,r)}catch(o){if("number"!=typeof o&&"longjmp"!==o)throw o;Vn.setThrew(1,0)}}function oi(e,i,r,o,n,a,s,l,c,h,u,d,p){try{t.dynCall_viiiidddddidi(e,i,r,o,n,a,s,l,c,h,u,d,p)}catch(f){if("number"!=typeof f&&"longjmp"!==f)throw f;Vn.setThrew(1,0)}}function ni(e,i,r,o,n,a){try{return t.dynCall_diidii(e,i,r,o,n,a)}catch(s){if("number"!=typeof s&&"longjmp"!==s)throw s;Vn.setThrew(1,0)}}function ai(e,i,r,o,n){try{return t.dynCall_diiii(e,i,r,o,n)}catch(a){if("number"!=typeof a&&"longjmp"!==a)throw a;Vn.setThrew(1,0)}}function si(e,i,r,o,n,a,s,l,c,h){try{return t.dynCall_iiiiiiiiii(e,i,r,o,n,a,s,l,c,h)}catch(u){if("number"!=typeof u&&"longjmp"!==u)throw u;Vn.setThrew(1,0)}}function li(e,i,r,o,n){try{t.dynCall_viiid(e,i,r,o,n)}catch(a){if("number"!=typeof a&&"longjmp"!==a)throw a;Vn.setThrew(1,0)}}function ci(e,i,r,o){try{t.dynCall_viii(e,i,r,o)}catch(n){if("number"!=typeof n&&"longjmp"!==n)throw n;Vn.setThrew(1,0)}}function hi(e){try{t.dynCall_v(e)}catch(i){if("number"!=typeof i&&"longjmp"!==i)throw i;Vn.setThrew(1,0)}}function ui(e,i,r,o){try{t.dynCall_viid(e,i,r,o)}catch(n){if("number"!=typeof n&&"longjmp"!==n)throw n;Vn.setThrew(1,0)}}function di(e,i,r,o,n){try{return t.dynCall_iidid(e,i,r,o,n)}catch(a){if("number"!=typeof a&&"longjmp"!==a)throw a;Vn.setThrew(1,0)}}function pi(e,i,r,o,n){try{t.dynCall_viiii(e,i,r,o,n)}catch(a){if("number"!=typeof a&&"longjmp"!==a)throw a;Vn.setThrew(1,0)}}function fi(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function _i(e){function i(){t.calledRun||(t.calledRun=!0,fo||(R(),D(),to&&null!==ey&&t.printErr("pre-main prep time: "+(Date.now()-ey)+" ms"),t.onRuntimeInitialized&&t.onRuntimeInitialized(),t._main&&oy&&t.callMain(e),B()))}e=e||t.arguments,null===ey&&(ey=Date.now()),hn>0||(w(),hn>0||t.calledRun||(t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),i()},1)):i()))}function mi(e,i){if(!i||!t.noExitRuntime)throw t.noExitRuntime||(fo=!0,_o=e,Ho=ty,P(),t.onExit&&t.onExit(e)),eo?(process.stdout.once("drain",function(){process.exit(e)}),console.log(" "),setTimeout(function(){process.exit(e)},500)):ro&&"function"==typeof quit&&quit(e),new fi(e)}function gi(e){void 0!==e?(t.print(e),t.printErr(e),e=JSON.stringify(e)):e="",fo=!0,_o=1;var i="\nIf this abort() is unexpected, build with -s ASSERTIONS=1 which can give more information.",r="abort("+e+") at "+x()+i;throw ry&&ry.forEach(function(t){r=t(r,e)}),r}function yi(){}function bi(t){return(t||yi).__cache__}function vi(t,e){var i=bi(e),r=i[t];return r?r:(r=Object.create((e||yi).prototype),r.ptr=t,i[t]=r)}function Mi(t,e){return vi(t.ptr,e)}function Si(t){if(!t.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";t.__destroy__(),delete bi(t.__class__)[t.ptr]}function Ti(t,e){return t.ptr===e.ptr}function xi(t){return t.ptr}function Ci(t){return t.__class__}function Ei(){throw"cannot construct a btMatrix3x3, no constructor in IDL"}function Ai(){this.ptr=mm(),bi(Ai)[this.ptr]=this}function wi(t,e,i){return t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),i=i&&"object"==typeof i?i.ptr:ny(i),void 0===i?(this.ptr=d_(t,e),void(bi(wi)[this.ptr]=this)):(this.ptr=p_(t,e,i),void(bi(wi)[this.ptr]=this))}function Ri(){this.ptr=Th(),bi(Ri)[this.ptr]=this}function Di(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Pi(){this.ptr=Zu(),bi(Pi)[this.ptr]=this}function Bi(){throw"cannot construct a btDispatcherInfo, no constructor in IDL"}function Vi(t,e){t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),this.ptr=nf(t,e),bi(Vi)[this.ptr]=this}function Li(){throw"cannot construct a btCollisionConfiguration, no constructor in IDL"}function ki(t,e,i,r,o){return t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),i=i&&"object"==typeof i?i.ptr:ny(i),r=r&&"object"==typeof r?r.ptr:ny(r),o=o&&"object"==typeof o?o.ptr:ny(o),void 0===i?(this.ptr=jl(t,e),void(bi(ki)[this.ptr]=this)):void 0===r?(this.ptr=Ul(t,e,i),void(bi(ki)[this.ptr]=this)):void 0===o?(this.ptr=ql(t,e,i,r),void(bi(ki)[this.ptr]=this)):(this.ptr=zf(t,e,i,r,o),void(bi(ki)[this.ptr]=this))}function Hi(){this.ptr=Fa(),bi(Hi)[this.ptr]=this}function Ii(t,e,i,r){return t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),i=i&&"object"==typeof i?i.ptr:ny(i),r=r&&"object"==typeof r?r.ptr:ny(r),void 0===r?(this.ptr=Td(t,e,i),void(bi(Ii)[this.ptr]=this)):(this.ptr=Cd(t,e,i,r),void(bi(Ii)[this.ptr]=this))}function Oi(){throw"cannot construct a btManifoldPoint, no constructor in IDL"}function Ji(t,e,i,r,o){return t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),i=i&&"object"==typeof i?i.ptr:ny(i),r=r&&"object"==typeof r?r.ptr:ny(r),o=o&&"object"==typeof o?o.ptr:ny(o),void 0===r?(this.ptr=Qa(t,e,i),void(bi(Ji)[this.ptr]=this)):void 0===o?(this.ptr=_emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_4(t,e,i,r),void(bi(Ji)[this.ptr]=this)):(this.ptr=Ya(t,e,i,r,o),void(bi(Ji)[this.ptr]=this))}function Ni(){throw"cannot construct a btStridingMeshInterface, no constructor in IDL"}function Fi(){throw"cannot construct a btBroadphaseInterface, no constructor in IDL"}function Gi(){throw"cannot construct a btCollisionObject, no constructor in IDL"}function zi(t,e,i,r){t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),i=i&&"object"==typeof i?i.ptr:ny(i),r=r&&"object"==typeof r?r.ptr:ny(r),this.ptr=Nn(t,e,i,r),bi(zi)[this.ptr]=this}function ji(t,e){return t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),void 0===e?(this.ptr=as(t),void(bi(ji)[this.ptr]=this)):(this.ptr=ns(t,e),void(bi(ji)[this.ptr]=this))}function Ui(){throw"cannot construct a ConvexResultCallback, no constructor in IDL"}function Wi(t,e,i,r){return t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),i=i&&"object"==typeof i?i.ptr:ny(i),r=r&&"object"==typeof r?r.ptr:ny(r),void 0===i?(this.ptr=t_(t,e),void(bi(Wi)[this.ptr]=this)):void 0===r?(this.ptr=_emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_3(t,e,i),void(bi(Wi)[this.ptr]=this)):(this.ptr=$f(t,e,i,r),void(bi(Wi)[this.ptr]=this))}function Xi(){throw"cannot construct a btMotionState, no constructor in IDL"}function qi(t,e,i,r,o){return t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),i=i&&"object"==typeof i?i.ptr:ny(i),r=r&&"object"==typeof r?r.ptr:ny(r),o=o&&"object"==typeof o?o.ptr:ny(o),void 0===r?(this.ptr=_g(t,e,i),void(bi(qi)[this.ptr]=this)):void 0===o?(this.ptr=_emscripten_bind_btSliderConstraint_btSliderConstraint_4(t,e,i,r),void(bi(qi)[this.ptr]=this)):(this.ptr=fg(t,e,i,r,o),void(bi(qi)[this.ptr]=this))}function Ki(t,e,i,r){return t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),i=i&&"object"==typeof i?i.ptr:ny(i),r=r&&"object"==typeof r?r.ptr:ny(r),void 0===i?(this.ptr=lc(t,e),void(bi(Ki)[this.ptr]=this)):void 0===r?(this.ptr=_emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_3(t,e,i),void(bi(Ki)[this.ptr]=this)):(this.ptr=hc(t,e,i,r),void(bi(Ki)[this.ptr]=this))}function Yi(t,e){t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),this.ptr=kl(t,e),bi(Yi)[this.ptr]=this}function Qi(){throw"cannot construct a btConvexShape, no constructor in IDL"}function Zi(t){return t=t&&"object"==typeof t?t.ptr:ny(t),void 0===t?(this.ptr=Sf(),void(bi(Zi)[this.ptr]=this)):(this.ptr=Tf(t),void(bi(Zi)[this.ptr]=this))}function $i(){throw"cannot construct a ContactResultCallback, no constructor in IDL"}function tr(t,e){t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),this.ptr=rp(t,e),bi(tr)[this.ptr]=this}function er(t,e){t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),this.ptr=rc(t,e),bi(er)[this.ptr]=this}function ir(t,e){return t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),void 0===t?(this.ptr=Rm(),void(bi(ir)[this.ptr]=this)):void 0===e?(this.ptr=fh(t),void(bi(ir)[this.ptr]=this)):(this.ptr=Pm(t,e),void(bi(ir)[this.ptr]=this))}function rr(){this.ptr=gc(),bi(rr)[this.ptr]=this}function or(){this.ptr=df(),bi(or)[this.ptr]=this}function nr(t){t=t&&"object"==typeof t?t.ptr:ny(t),this.ptr=Ua(t),bi(nr)[this.ptr]=this}function ar(t){t=t&&"object"==typeof t?t.ptr:ny(t),this.ptr=Ta(t),bi(ar)[this.ptr]=this}function sr(){this.ptr=zm(),bi(sr)[this.ptr]=this}function lr(t){return t=t&&"object"==typeof t?t.ptr:ny(t),void 0===t?(this.ptr=iu(),void(bi(lr)[this.ptr]=this)):(this.ptr=ru(t),void(bi(lr)[this.ptr]=this))}function cr(){throw"cannot construct a btCollisionObjectWrapper, no constructor in IDL"}function hr(t,e){t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),this.ptr=gp(t,e),bi(hr)[this.ptr]=this}function ur(t,e){return t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),void 0===t?(this.ptr=Ac(),void(bi(ur)[this.ptr]=this)):void 0===e?(this.ptr=wc(t),void(bi(ur)[this.ptr]=this)):(this.ptr=Ec(t,e),void(bi(ur)[this.ptr]=this))}function dr(){throw"cannot construct a btTriangleMeshShape, no constructor in IDL"}function pr(){throw"cannot construct a btDispatcher, no constructor in IDL"}function fr(t,e){t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),this.ptr=ff(t,e),bi(fr)[this.ptr]=this}function _r(){throw"cannot construct a btDynamicsWorld, no constructor in IDL"}function mr(t,e){t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),this.ptr=vs(t,e),bi(mr)[this.ptr]=this}function gr(t,e,i,r){t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),i=i&&"object"==typeof i?i.ptr:ny(i),r=r&&"object"==typeof r?r.ptr:ny(r),this.ptr=Ea(t,e,i,r),bi(gr)[this.ptr]=this}function yr(t,e){t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),this.ptr=pg(t,e),bi(yr)[this.ptr]=this}function br(t){t=t&&"object"==typeof t?t.ptr:ny(t),this.ptr=Yu(t),bi(br)[this.ptr]=this}function vr(){throw"cannot construct a RayResultCallback, no constructor in IDL"}function Mr(){throw"cannot construct a btWheelInfo, no constructor in IDL"}function Sr(){throw"cannot construct a btConcaveShape, no constructor in IDL"}function Tr(t,e,i,r){return t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),i=i&&"object"==typeof i?i.ptr:ny(i),r=r&&"object"==typeof r?r.ptr:ny(r),void 0===t?(this.ptr=Hg(),void(bi(Tr)[this.ptr]=this)):void 0===e?(this.ptr=_emscripten_bind_btVector4_btVector4_1(t),void(bi(Tr)[this.ptr]=this)):void 0===i?(this.ptr=_emscripten_bind_btVector4_btVector4_2(t,e),void(bi(Tr)[this.ptr]=this)):void 0===r?(this.ptr=_emscripten_bind_btVector4_btVector4_3(t,e,i),void(bi(Tr)[this.ptr]=this)):(this.ptr=ym(t,e,i,r),void(bi(Tr)[this.ptr]=this))}function xr(t,e,i,r){return t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),i=i&&"object"==typeof i?i.ptr:ny(i),r=r&&"object"==typeof r?r.ptr:ny(r),void 0===r?(this.ptr=qc(t,e,i),void(bi(xr)[this.ptr]=this)):(this.ptr=zc(t,e,i,r),void(bi(xr)[this.ptr]=this))}function Cr(t,e){t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),this.ptr=nu(t,e),bi(Cr)[this.ptr]=this}function Er(){throw"cannot construct a btContactSolverInfo, no constructor in IDL"}function Ar(){throw"cannot construct a btOverlappingPairCache, no constructor in IDL"}function wr(t,e,i){return t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),i=i&&"object"==typeof i?i.ptr:ny(i),void 0===t?(this.ptr=Gp(),void(bi(wr)[this.ptr]=this)):void 0===e?(this.ptr=_emscripten_bind_btVector3_btVector3_1(t),void(bi(wr)[this.ptr]=this)):void 0===i?(this.ptr=_emscripten_bind_btVector3_btVector3_2(t,e),void(bi(wr)[this.ptr]=this)):(this.ptr=Fp(t,e,i),void(bi(wr)[this.ptr]=this))}function Rr(){throw"cannot construct a btVehicleRaycaster, no constructor in IDL"}function Dr(t){t=t&&"object"==typeof t?t.ptr:ny(t),this.ptr=Nu(t),bi(Dr)[this.ptr]=this}function Pr(){this.ptr=dp(),bi(Pr)[this.ptr]=this}function Br(t,e,i,r,o,n,a){return t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),i=i&&"object"==typeof i?i.ptr:ny(i),r=r&&"object"==typeof r?r.ptr:ny(r),o=o&&"object"==typeof o?o.ptr:ny(o),n=n&&"object"==typeof n?n.ptr:ny(n),a=a&&"object"==typeof a?a.ptr:ny(a),void 0===i?(this.ptr=Du(t,e),void(bi(Br)[this.ptr]=this)):void 0===r?(this.ptr=Pu(t,e,i),void(bi(Br)[this.ptr]=this)):void 0===o?(this.ptr=Xn(t,e,i,r),void(bi(Br)[this.ptr]=this)):void 0===n?(this.ptr=Ru(t,e,i,r,o),void(bi(Br)[this.ptr]=this)):void 0===a?(this.ptr=Eu(t,e,i,r,o,n),void(bi(Br)[this.ptr]=this)):(this.ptr=Au(t,e,i,r,o,n,a),void(bi(Br)[this.ptr]=this))}function Vr(){throw"cannot construct a btCollisionShape, no constructor in IDL"}function Lr(){this.ptr=X_(),bi(Lr)[this.ptr]=this}function kr(){this.ptr=Ll(),bi(kr)[this.ptr]=this}function Hr(){throw"cannot construct a LocalShapeInfo, no constructor in IDL"}function Ir(){throw"cannot construct a btConstraintSolver, no constructor in IDL"}function Or(t,e,i,r,o){return t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),i=i&&"object"==typeof i?i.ptr:ny(i),r=r&&"object"==typeof r?r.ptr:ny(r),o=o&&"object"==typeof o?o.ptr:ny(o),void 0===r?(this.ptr=Ih(t,e,i),void(bi(Or)[this.ptr]=this)):void 0===o?(this.ptr=_emscripten_bind_btGeneric6DofSpringConstraint_btGeneric6DofSpringConstraint_4(t,e,i,r),void(bi(Or)[this.ptr]=this)):(this.ptr=ga(t,e,i,r,o),void(bi(Or)[this.ptr]=this))}function Jr(t,e,i,r,o){t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),i=i&&"object"==typeof i?i.ptr:ny(i),r=r&&"object"==typeof r?r.ptr:ny(r),o=o&&"object"==typeof o?o.ptr:ny(o),this.ptr=pm(t,e,i,r,o),bi(Jr)[this.ptr]=this}function Nr(){throw"cannot construct a btOverlappingPairCallback, no constructor in IDL"}function Fr(t){t=t&&"object"==typeof t?t.ptr:ny(t),this.ptr=K_(t),bi(Fr)[this.ptr]=this}function Gr(t){t=t&&"object"==typeof t?t.ptr:ny(t),this.ptr=ku(t),bi(Gr)[this.ptr]=this}function zr(t){t=t&&"object"==typeof t?t.ptr:ny(t),this.ptr=tu(t),bi(zr)[this.ptr]=this}function jr(t,e){return t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),void 0===t?(this.ptr=Vs(),void(bi(jr)[this.ptr]=this)):void 0===e?(this.ptr=_emscripten_bind_btTransform_btTransform_1(t),void(bi(jr)[this.ptr]=this)):(this.ptr=Bs(t,e),void(bi(jr)[this.ptr]=this))}function Ur(){throw"cannot construct a btCollisionWorld, no constructor in IDL"}function Wr(){throw"cannot construct a btQuadWord, no constructor in IDL"}function Xr(t,e,i){t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),i=i&&"object"==typeof i?i.ptr:ny(i),this.ptr=Pc(t,e,i),bi(Xr)[this.ptr]=this}function qr(t){t=t&&"object"==typeof t?t.ptr:ny(t),this.ptr=pd(t),bi(qr)[this.ptr]=this}function Kr(){throw"cannot construct a btActionInterface, no constructor in IDL"}function Yr(){this.ptr=Wg(),bi(Yr)[this.ptr]=this}function Qr(){throw"cannot construct a btTypedConstraint, no constructor in IDL"}t=t||{};var t;t||(t=("undefined"!=typeof AmmoLib?AmmoLib:null)||{});var Zr={};for(var $r in t)t.hasOwnProperty($r)&&(Zr[$r]=t[$r]);var to="object"==typeof window,eo="object"==typeof process&&"function"==typeof require&&!to,io="function"==typeof importScripts,ro=!to&&!eo&&!io;if(eo){t.print||(t.print=function(t){process.stdout.write(t+"\n")}),t.printErr||(t.printErr=function(t){process.stderr.write(t+"\n")});var oo=require("fs"),no=require("path");t.read=function(t,e){t=no.normalize(t);var i=oo.readFileSync(t);return i||t==no.resolve(t)||(t=path.join(__dirname,"..","src",t),i=oo.readFileSync(t)),i&&!e&&(i=i.toString()),i},t.readBinary=function(e){return t.read(e,!0)},t.load=function(t){e(read(t))},t.thisProgram||(t.thisProgram=process.argv.length>1?process.argv[1].replace(/\\/g,"/"):"unknown-program"),t.arguments=process.argv.slice(2),"undefined"!=typeof module&&(module.exports=t),process.on("uncaughtException",function(t){if(!(t instanceof fi))throw t}),t.inspect=function(){return"[Emscripten Module object]"}}else if(ro)t.print||(t.print=print),"undefined"!=typeof printErr&&(t.printErr=printErr),t.read="undefined"!=typeof read?read:function(){throw"no read() available (jsc?)"},t.readBinary=function(t){if("function"==typeof readbuffer)return new Uint8Array(readbuffer(t));var e=read(t,"binary");return i("object"==typeof e),e},"undefined"!=typeof scriptArgs?t.arguments=scriptArgs:"undefined"!=typeof arguments&&(t.arguments=arguments);else{if(!to&&!io)throw"Unknown runtime environment. Where are we?";if(t.read=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},"undefined"!=typeof arguments&&(t.arguments=arguments),"undefined"!=typeof console)t.print||(t.print=function(t){console.log(t)}),t.printErr||(t.printErr=function(t){console.log(t)});else{var ao=!1;t.print||(t.print=ao&&"undefined"!=typeof dump?function(t){dump(t)}:function(){})}io&&(t.load=importScripts),"undefined"==typeof t.setWindowTitle&&(t.setWindowTitle=function(t){document.title=t})}!t.load&&t.read&&(t.load=function(i){e(t.read(i))}),t.print||(t.print=function(){}),t.printErr||(t.printErr=t.print),t.arguments||(t.arguments=[]),t.thisProgram||(t.thisProgram="./this.program"),t.print=t.print,t.printErr=t.printErr,t.preRun=[],t.postRun=[];for(var $r in Zr)Zr.hasOwnProperty($r)&&(t[$r]=Zr[$r]);var so={setTempRet0:function(t){ho=t},getTempRet0:function(){return ho},stackSave:function(){return Ho},stackRestore:function(t){Ho=t},getNativeTypeSize:function(t){switch(t){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:if("*"===t[t.length-1])return so.QUANTUM_SIZE;if("i"===t[0]){var e=parseInt(t.substr(1));return i(e%8===0),e/8}return 0}},getNativeFieldSize:function(t){return Math.max(so.getNativeTypeSize(t),so.QUANTUM_SIZE)},STACK_ALIGN:16,prepVararg:function(t,e){return"double"===e||"i64"===e?7&t&&(i(4===(7&t)),t+=4):i(0===(3&t)),t},getAlignSize:function(t,e,i){return i||"i64"!=t&&"double"!=t?t?Math.min(e||(t?so.getNativeFieldSize(t):0),so.QUANTUM_SIZE):Math.min(e,8):8},dynCall:function(e,i,r){return r&&r.length?(r.splice||(r=Array.prototype.slice.call(r)),r.splice(0,0,i),t["dynCall_"+e].apply(null,r)):t["dynCall_"+e].call(null,i)},functionPointers:[],addFunction:function(t){for(var e=0;e<so.functionPointers.length;e++)if(!so.functionPointers[e])return so.functionPointers[e]=t,2*(1+e);throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."},removeFunction:function(t){so.functionPointers[(t-2)/2]=null},warnOnce:function(e){so.warnOnce.shown||(so.warnOnce.shown={}),so.warnOnce.shown[e]||(so.warnOnce.shown[e]=1,t.printErr(e))},funcWrappers:{},getFuncWrapper:function(t,e){i(e),so.funcWrappers[e]||(so.funcWrappers[e]={});var r=so.funcWrappers[e];return r[t]||(r[t]=function(){return so.dynCall(e,t,arguments)}),r[t]},getCompilerSetting:function(){throw"You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work"},stackAlloc:function(t){var e=Ho;return Ho=Ho+t|0,Ho=Ho+15&-16,e},staticAlloc:function(t){var e=Vo;return Vo=Vo+t|0,Vo=Vo+15&-16,e},dynamicAlloc:function(t){var e=Jo;if(Jo=Jo+t|0,Jo=Jo+15&-16,Jo>=Go){var i=E();if(!i)return Jo=e,0}return e},alignMemory:function(t,e){var i=t=Math.ceil(t/(e?e:16))*(e?e:16);return i},makeBigInt:function(t,e,i){var r=i?+(t>>>0)+4294967296*+(e>>>0):+(t>>>0)+4294967296*+(0|e);return r},GLOBAL_BASE:8,QUANTUM_SIZE:4,__dummy__:0};t.Runtime=so;var lo,co,ho,uo,po,fo=!1,_o=0;!function(){var t={stackSave:function(){so.stackSave()},stackRestore:function(){so.stackRestore()},arrayToC:function(t){var e=so.stackAlloc(t.length);return F(t,e),e},stringToC:function(t){var e=0;return null!==t&&void 0!==t&&0!==t&&(e=so.stackAlloc((t.length<<2)+1),N(t,e)),e}},e={string:t.stringToC,array:t.arrayToC};po=function(t,i,o,n,a){var l=r(t),c=[],h=0;if(n)for(var u=0;u<n.length;u++){var d=e[o[u]];d?(0===h&&(h=so.stackSave()),c[u]=d(n[u])):c[u]=n[u]}var p=l.apply(null,c);if("string"===i&&(p=s(p)),0!==h){if(a&&a.async)return void EmterpreterAsync.asyncFinalizers.push(function(){so.stackRestore(h)});so.stackRestore(h)}return p},uo=function(t,e,i){return function(){return po(t,e,i,arguments)}}}(),t.cwrap=uo,t.ccall=po,t.setValue=o,t.getValue=n;var mo=0,go=1,yo=2,bo=3,vo=4;t.ALLOC_NORMAL=mo,t.ALLOC_STACK=go,t.ALLOC_STATIC=yo,t.ALLOC_DYNAMIC=bo,t.ALLOC_NONE=vo,t.allocate=a,t.Pointer_stringify=s,t.AsciiToString=l,t.stringToAscii=c,t.UTF8ArrayToString=h,t.UTF8ToString=u,t.stringToUTF8Array=d,t.stringToUTF8=p,t.lengthBytesUTF8=f,t.UTF16ToString=_,t.stringToUTF16=m,t.lengthBytesUTF16=g,t.UTF32ToString=y,t.stringToUTF32=b,t.lengthBytesUTF32=v,t.stackTrace=x;var Mo,So,To,xo,Co,Eo,Ao,wo,Ro,Do,Po=4096,Bo=0,Vo=0,Lo=!1,ko=0,Ho=0,Io=0,Oo=0,Jo=0;try{Do=Function.prototype.call.bind(Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get),Do(new ArrayBuffer(4))}catch(No){Do=function(t){return t.byteLength}}for(var Fo=t.TOTAL_STACK||5242880,Go=t.TOTAL_MEMORY||16777216,zo=65536;Go>zo||2*Fo>zo;)16777216>zo?zo*=2:zo+=16777216;zo=Math.max(zo,16777216),zo!==Go&&(t.printErr("increasing TOTAL_MEMORY to "+zo+" to be compliant with the asm.js spec (and given that TOTAL_STACK="+Fo+")"),Go=zo),i("undefined"!=typeof Int32Array&&"undefined"!=typeof Float64Array&&!!new Int32Array(1).subarray&&!!new Int32Array(1).set,"JS engine does not provide full typed array support");var jo=new ArrayBuffer(Go);So=new Int8Array(jo),xo=new Int16Array(jo),Eo=new Int32Array(jo),To=new Uint8Array(jo),Co=new Uint16Array(jo),Ao=new Uint32Array(jo),wo=new Float32Array(jo),Ro=new Float64Array(jo),Eo[0]=255,i(255===To[0]&&0===To[3],"Typed arrays 2 must be run on a little-endian system"),t.HEAP=Mo,t.buffer=jo,t.HEAP8=So,t.HEAP16=xo,t.HEAP32=Eo,t.HEAPU8=To,t.HEAPU16=Co,t.HEAPU32=Ao,t.HEAPF32=wo,t.HEAPF64=Ro;var Uo=[],Wo=[],Xo=[],qo=[],Ko=[],Yo=!1,Qo=!1;t.addOnPreRun=t.addOnPreRun=V,t.addOnInit=t.addOnInit=L,t.addOnPreMain=t.addOnPreMain=k,t.addOnExit=t.addOnExit=H,t.addOnPostRun=t.addOnPostRun=I,t.intArrayFromString=O,t.intArrayToString=J,t.writeStringToMemory=N,t.writeArrayToMemory=F,t.writeAsciiToMemory=G,Math.imul&&-5===Math.imul(4294967295,5)||(Math.imul=function(t,e){var i=t>>>16,r=65535&t,o=e>>>16,n=65535&e;return r*n+(i*n+r*o<<16)|0}),Math.imul=Math.imul,Math.clz32||(Math.clz32=function(t){t>>>=0;for(var e=0;32>e;e++)if(t&1<<31-e)return e;return 32}),Math.clz32=Math.clz32;var Zo=Math.abs,$o=Math.cos,tn=Math.sin,en=(Math.tan,Math.acos),rn=Math.asin,on=(Math.atan,Math.atan2),nn=(Math.exp,Math.log,Math.sqrt),an=Math.ceil,sn=Math.floor,ln=Math.pow,cn=(Math.imul,Math.fround,Math.min),hn=(Math.clz32,0),un=null,dn=null;t.addRunDependency=U,t.removeRunDependency=W,t.preloadedImages={},t.preloadedAudios={};var pn=null,fn=[function(e,i,r,o,n,a,s,l){var c=t.getCache(t.ConcreteContactResultCallback)[e];if(!c.hasOwnProperty("addSingleResult"))throw"a JSImplementation must implement all functions, you forgot ConcreteContactResultCallback::addSingleResult.";return c.addSingleResult(i,r,o,n,a,s,l)}];Bo=8,Vo=Bo+21936,Wo.push({func:function(){au()}}),a([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,1,0,0,1,0,0,0,2,0,0,0,3,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,49,55,98,116,84,121,112,101,100,67,111,110,115,116,114,97,105,110,116,0,0,0,0,0,49,51,98,116,84,121,112,101,100,79,98,106,101,99,116,0,216,82,0,0,72,1,0,0,96,83,0,0,48,1,0,0,0,0,0,0,1,0,0,0,88,1,0,0,2,4,0,0,0,0,0,0,216,1,0,0,4,0,0,0,5,0,0,0,2,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,49,57,98,116,71,104,111,115,116,80,97,105,114,67,97,108,108,98,97,99,107,0,0,0,50,53,98,116,79,118,101,114,108,97,112,112,105,110,103,80,97,105,114,67,97,108,108,98,97,99,107,0,0,0,0,0,216,82,0,0,176,1,0,0,0,83,0,0,152,1,0,0,208,1,0,0,0,0,0,0,49,56,98,116,86,101,104,105,99,108,101,82,97,121,99,97,115,116,101,114,0,0,0,0,216,82,0,0,232,1,0,0,0,0,0,0,128,2,0,0,6,0,0,0,7,0,0,0,1,0,0,0,1,0,0,0,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,52,67,108,111,115,101,115,116,82,97,121,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,0,0,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,49,55,82,97,121,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,0,216,82,0,0,80,2,0,0,0,83,0,0,32,2,0,0,120,2,0,0,0,0,0,0,0,0,0,0,216,2,0,0,8,0,0,0,9,0,0,0,1,0,0,0,2,0,0,0,50,48,98,116,68,101,102,97,117,108,116,77,111,116,105,111,110,83,116,97,116,101,0,0,49,51,98,116,77,111,116,105,111,110,83,116,97,116,101,0,216,82,0,0,192,2,0,0,0,83,0,0,168,2,0,0,208,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,240,3,0,0,10,0,0,0,11,0,0,0,2,0,0,0,2,0,0,0,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,55,67,108,111,115,101,115,116,67,111,110,118,101,120,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,0,0,0,0,0,0,0,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,48,67,111,110,118,101,120,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,0,0,0,0,0,0,216,82,0,0,184,3,0,0,0,83,0,0,128,3,0,0,232,3,0,0,0,0,0,0,0,0,0,0,112,4,0,0,12,0,0,0,13,0,0,0,3,0,0,0,1,0,0,0,50,57,67,111,110,99,114,101,116,101,67,111,110,116,97,99,116,82,101,115,117,108,116,67,97,108,108,98,97,99,107,0,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,49,67,111,110,116,97,99,116,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,0,0,0,0,0,216,82,0,0,56,4,0,0,0,83,0,0,24,4,0,0,104,4,0,0,0,0,0,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,67,111,110,99,114,101,116,101,67,111,110,116,97,99,116,82,101,115,117,108,116,67,97,108,108,98,97,99,107,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,97,100,100,83,105,110,103,108,101,82,101,115,117,108,116,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,67,111,110,99,114,101,116,101,67,111,110,116,97,99,116,82,101,115,117,108,116,67,97,108,108,98,97,99,107,58,58,97,100,100,83,105,110,103,108,101,82,101,115,117,108,116,46,39,59,32,114,101,116,117,114,110,32,115,101,108,102,91,39,97,100,100,83,105,110,103,108,101,82,101,115,117,108,116,39,93,40,36,49,44,36,50,44,36,51,44,36,52,44,36,53,44,36,54,44,36,55,41,59,32,125,0,0,0,0,0,0,0,0,0,0,0,0,0,8,6,0,0,4,0,0,0,14,0,0,0,15,0,0,0,3,0,0,0,2,0,0,0,3,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,98,116,82,105,103,105,100,66,111,100,121,70,108,111,97,116,68,97,116,97,0,0,0,0,49,49,98,116,82,105,103,105,100,66,111,100,121,0,0,0,0,83,0,0,248,5,0,0,24,21,0,0,0,0,0,0,0,0,0,0,224,8,0,0,16,0,0,0,17,0,0,0,18,0,0,0,19,0,0,0,5,0,0,0,3,0,0,0,20,0,0,0,1,0,0,0,2,0,0,0,3,0,0,0,6,0,0,0,21,0,0,0,7,0,0,0,1,0,0,0,2,0,0,0,8,0,0,0,9,0,0,0,10,0,0,0,11,0,0,0,12,0,0,0,22,0,0,0,13,0,0,0,4,0,0,0,14,0,0,0,15,0,0,0,4,0,0,0,5,0,0,0,5,0,0,0,6,0,0,0,6,0,0,0,23,0,0,0,16,0,0,0,17,0,0,0,18,0,0,0,19,0,0,0,1,0,0,0,2,0,0,0,24,0,0,0,20,0,0,0,3,0,0,0,4,0,0,0,5,0,0,0,25,0,0,0,21,0,0,0,6,0,0,0,0,0,0,0,100,101,98,117,103,68,114,97,119,87,111,114,108,100,0,0,115,121,110,99,104,114,111,110,105,122,101,77,111,116,105,111,110,83,116,97,116,101,115,0,115,116,101,112,83,105,109,117,108,97,116,105,111,110,0,0,105,110,116,101,114,110,97,108,83,105,110,103,108,101,83,116,101,112,83,105,109,117,108,97,116,105,111,110,0,0,0,0,117,112,100,97,116,101,65,99,116,105,111,110,115,0,0,0,117,112,100,97,116,101,65,99,116,105,118,97,116,105,111,110,83,116,97,116,101,0,0,0,115,111,108,118,101,67,111,110,115,116,114,97,105,110,116,115,0,0,0,0,0,0,0,0,99,97,108,99,117,108,97,116,101,83,105,109,117,108,97,116,105,111,110,73,115,108,97,110,100,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,99,114,101,97,116,101,80,114,101,100,105,99,116,105,118,101,67,111,110,116,97,99,116,115,0,0,0,0,0,0,0,0,114,101,108,101,97,115,101,32,112,114,101,100,105,99,116,105,118,101,32,99,111,110,116,97,99,116,32,109,97,110,105,102,111,108,100,115,0,0,0,0,112,114,101,100,105,99,116,105,118,101,32,99,111,110,118,101,120,83,119,101,101,112,84,101,115,116,0,0,0,0,0,0,105,110,116,101,103,114,97,116,101,84,114,97,110,115,102,111,114,109,115,0,0,0,0,0,67,67,68,32,109,111,116,105,111,110,32,99,108,97,109,112,105,110,103,0,0,0,0,0,97,112,112,108,121,32,115,112,101,99,117,108,97,116,105,118,101,32,99,111,110,116,97,99,116,32,114,101,115,116,105,116,117,116,105,111,110,0,0,0,112,114,101,100,105,99,116,85,110,99,111,110,115,116,114,97,105,110,116,77,111,116,105,111,110,0,0,0,0,0,0,0,98,116,68,121,110,97,109,105,99,115,87,111,114,108,100,70,108,111,97,116,68,97,116,97,0,0,0,0,0,0,0,0,50,51,98,116,68,105,115,99,114,101,116,101,68,121,110,97,109,105,99,115,87,111,114,108,100,0,0,0,0,0,0,0,49,53,98,116,68,121,110,97,109,105,99,115,87,111,114,108,100,0,0,0,0,0,0,0,0,83,0,0,184,8,0,0,32,33,0,0,0,0,0,0,0,83,0,0,152,8,0,0,208,8,0,0,0,0,0,0,0,0,0,0,48,9,0,0,26,0,0,0,27,0,0,0,7,0,0,0,3,0,0,0,51,52,98,116,67,108,111,115,101,115,116,78,111,116,77,101,67,111,110,118,101,120,82,101,115,117,108,116,67,97,108,108,98,97,99,107,0,0,0,0,0,83,0,0,8,9,0,0,240,3,0,0,0,0,0,0,0,0,0,0,176,9,0,0,28,0,0,0,29,0,0,0,1,0,0,0,0,0,0,0,50,55,73,110,112,108,97,99,101,83,111,108,118,101,114,73,115,108,97,110,100,67,97,108,108,98,97,99,107,0,0,0,78,50,53,98,116,83,105,109,117,108,97,116,105,111,110,73,115,108,97,110,100,77,97,110,97,103,101,114,49,52,73,115,108,97,110,100,67,97,108,108,98,97,99,107,69,0,0,0,216,82,0,0,120,9,0,0,0,83,0,0,88,9,0,0,168,9,0,0,0,0,0,0,0,0,0,0,24,10,0,0,1,0,0,0,30,0,0,0,31,0,0,0,1,0,0,0,22,0,0,0,23,0,0,0,1,0,0,0,1,0,0,0,4,0,0,0,7,0,0,0,4,0,0,0,32,0,0,0,50,51,98,116,71,101,110,101,114,105,99,54,68,111,102,67,111,110,115,116,114,97,105,110,116,0,0,0,0,0,0,0,0,83,0,0,248,9,0,0,96,1,0,0,0,0,0,0,98,116,71,101,110,101,114,105,99,54,68,111,102,67,111,110,115,116,114,97,105,110,116,68,97,116,97,0,0,0,0,0,0,0,0,0,168,10,0,0,1,0,0,0,33,0,0,0,31,0,0,0,1,0,0,0,22,0,0,0,24,0,0,0,1,0,0,0,1,0,0,0,4,0,0,0,8,0,0,0,5,0,0,0,32,0,0,0,3,0,0,0,0,0,0,0,50,57,98,116,71,101,110,101,114,105,99,54,68,111,102,83,112,114,105,110,103,67,111,110,115,116,114,97,105,110,116,0,0,83,0,0,136,10,0,0,24,10,0,0,0,0,0,0,98,116,71,101,110,101,114,105,99,54,68,111,102,83,112,114,105,110,103,67,111,110,115,116,114,97,105,110,116,68,97,116,97,0,0,0,0,0,0,0,0,0,0,0,56,11,0,0,1,0,0,0,34,0,0,0,35,0,0,0,1,0,0,0,25,0,0,0,26,0,0,0,1,0,0,0,2,0,0,0,5,0,0,0,9,0,0,0,6,0,0,0,0,0,0,0,50,51,98,116,80,111,105,110,116,50,80,111,105,110,116,67,111,110,115,116,114,97,105,110,116,0,0,0,0,0,0,0,0,83,0,0,24,11,0,0,96,1,0,0,0,0,0,0,98,116,80,111,105,110,116,50,80,111,105,110,116,67,111,110,115,116,114,97,105,110,116,70,108,111,97,116,68,97,116,97,0,0,0,0,0,0,0,0,98,116,84,121,112,101,100,67,111,110,115,116,114,97,105,110,116,70,108,111,97,116,68,97,116,97,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,80,14,0,0,1,0,0,0,36,0,0,0,3,0,0,0,1,0,0,0,27,0,0,0,28,0,0,0,1,0,0,0,3,0,0,0,6,0,0,0,10,0,0,0,7,0,0,0,0,0,0,0,49,56,98,116,83,108,105,100,101,114,67,111,110,115,116,114,97,105,110,116,0,0,0,0,0,83,0,0,56,14,0,0,96,1,0,0,0,0,0,0,98,116,83,108,105,100,101,114,67,111,110,115,116,114,97,105,110,116,68,97,116,97,0,0,0,0,0,0,200,14,0,0,1,0,0,0,37,0,0,0,38,0,0,0,1,0,0,0,29,0,0,0,30,0,0,0,2,0,0,0,4,0,0,0,7,0,0,0,11,0,0,0,8,0,0,0,4,0,0,0,50,49,98,116,67,111,110,101,84,119,105,115,116,67,111,110,115,116,114,97,105,110,116,0,0,83,0,0,176,14,0,0,96,1,0,0,0,0,0,0,98,116,67,111,110,101,84,119,105,115,116,67,111,110,115,116,114,97,105,110,116,68,97,116,97,0,0,0,0,0,0,0,0,0,0,0,72,15,0,0,1,0,0,0,39,0,0,0,40,0,0,0,1,0,0,0,31,0,0,0,32,0,0,0,1,0,0,0,5,0,0,0,8,0,0,0,12,0,0,0,9,0,0,0,0,0,0,0,49,55,98,116,72,105,110,103,101,67,111,110,115,116,114,97,105,110,116,0,0,0,0,0,0,83,0,0,48,15,0,0,96,1,0,0,0,0,0,0,98,116,72,105,110,103,101,67,111,110,115,116,114,97,105,110,116,70,108,111,97,116,68,97,116,97,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,16,0,0,41,0,0,0,42,0,0,0,5,0,0,0,1,0,0,0,6,0,0,0,43,0,0,0,13,0,0,0,5,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,115,111,108,118,101,71,114,111,117,112,67,97,99,104,101,70,114,105,101,110,100,108,121,83,101,116,117,112,0,0,0,0,115,111,108,118,101,71,114,111,117,112,67,97,99,104,101,70,114,105,101,110,100,108,121,73,116,101,114,97,116,105,111,110,115,0,0,0,0,0,0,0,115,111,108,118,101,71,114,111,117,112,0,0,0,0,0,0,51,53,98,116,83,101,113,117,101,110,116,105,97,108,73,109,112,117,108,115,101,67,111,110,115,116,114,97,105,110,116,83,111,108,118,101,114,0,0,0,49,56,98,116,67,111,110,115,116,114,97,105,110,116,83,111,108,118,101,114,0,0,0,0,216,82,0,0,64,16,0,0,0,83,0,0,24,16,0,0,88,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,19,0,0,44,0,0,0,45,0,0,0,1,0,0,0,33,0,0,0,7,0,0,0,8,0,0,0,6,0,0,0,0,0,0,0,49,54,98,116,82,97,121,99,97,115,116,86,101,104,105,99,108,101,0,0,0,0,0,0,49,55,98,116,65,99,116,105,111,110,73,110,116,101,114,102,97,99,101,0,0,0,0,0,216,82,0,0,32,19,0,0,0,83,0,0,8,19,0,0,56,19,0,0,0,0,0,0,0,0,0,0,136,19,0,0,46,0,0,0,47,0,0,0,2,0,0,0,0,0,0,0,50,53,98,116,68,101,102,97,117,108,116,86,101,104,105,99,108,101,82,97,121,99,97,115,116,101,114,0,0,0,0,0,0,83,0,0,104,19,0,0,0,2,0,0,0,0,0,0,0,0,0,0,112,20,0,0,48,0,0,0,49,0,0,0,2,0,0,0,34,0,0,0,35,0,0,0,3,0,0,0,36,0,0,0,37,0,0,0,38,0,0,0,4,0,0,0,14,0,0,0,50,0,0,0,15,0,0,0,39,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,51,48,98,116,75,105,110,101,109,97,116,105,99,67,104,97,114,97,99,116,101,114,67,111,110,116,114,111,108,108,101,114,0,0,0,0,0,0,0,0,51,48,98,116,67,104,97,114,97,99,116,101,114,67,111,110,116,114,111,108,108,101,114,73,110,116,101,114,102,97,99,101,0,0,0,0,0,0,0,0,0,83,0,0,56,20,0,0,56,19,0,0,0,0,0,0,0,83,0,0,16,20,0,0,96,20,0,0,0,0,0,0,0,0,0,0,200,20,0,0,26,0,0,0,51,0,0,0,2,0,0,0,9,0,0,0,52,51,98,116,75,105,110,101,109,97,116,105,99,67,108,111,115,101,115,116,78,111,116,77,101,67,111,110,118,101,120,82,101,115,117,108,116,67,97,108,108,98,97,99,107,0,0,0,0,83,0,0,152,20,0,0,240,3,0,0,0,0,0,0,10,215,163,60,0,0,0,0,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,70,108,111,97,116,68,97,116,97,0,0,0,0,0,0,49,55,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,0,0,0,0,0,216,82,0,0,0,21,0,0,0,0,0,0,144,21,0,0,8,0,0,0,52,0,0,0,53,0,0,0,3,0,0,0,16,0,0,0,10,0,0,0,40,0,0,0,7,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,192,21,0,0,8,0,0,0,54,0,0,0,55,0,0,0,3,0,0,0,16,0,0,0,10,0,0,0,40,0,0,0,8,0,0,0,8,0,0,0,0,0,0,0,49,51,98,116,71,104,111,115,116,79,98,106,101,99,116,0,0,83,0,0,128,21,0,0,24,21,0,0,0,0,0,0,50,52,98,116,80,97,105,114,67,97,99,104,105,110,103,71,104,111,115,116,79,98,106,101,99,116,0,0,0,0,0,0,0,83,0,0,160,21,0,0,144,21,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,56,22,0,0,56,0,0,0,57,0,0,0,3,0,0,0,11,0,0,0,41,0,0,0,42,0,0,0,12,0,0,0,13,0,0,0,9,0,0,0,17,0,0,0,9,0,0,0,18,0,0,0,19,0,0,0,20,0,0,0,10,0,0,0,43,0,0,0,50,49,98,116,67,111,108,108,105,115,105,111,110,68,105,115,112,97,116,99,104,101,114,0,0,83,0,0,32,22,0,0,160,67,0,0,0,0,0,0,0,0,0,0,160,22,0,0,58,0,0,0,59,0,0,0,11,0,0,0,0,0,0,0,50,51,98,116,67,111,108,108,105,115,105,111,110,80,97,105,114,67,97,108,108,98,97,99,107,0,0,0,0,0,0,0,49,55,98,116,79,118,101,114,108,97,112,67,97,108,108,98,97,99,107,0,0,0,0,0,216,82,0,0,128,22,0,0,0,83,0,0,96,22,0,0,152,22,0,0,0,0,0,0,0,0,0,0,32,23,0,0,60,0,0,0,61,0,0,0,21,0,0,0,22,0,0,0,14,0,0,0,23,0,0,0,51,49,98,116,68,101,102,97,117,108,116,67,111,108,108,105,115,105,111,110,67,111,110,102,105,103,117,114,97,116,105,111,110,0,0,0,0,0,0,0,50,52,98,116,67,111,108,108,105,115,105,111,110,67,111,110,102,105,103,117,114,97,116,105,111,110,0,0,0,0,0,0,216,82,0,0,248,22,0,0,0,83,0,0,208,22,0,0,24,23,0,0,0,0,0,0,0,0,0,0,168,23,0,0,62,0,0,0,63,0,0,0,4,0,0,0,0,0,0,0,78,51,49,98,116,67,111,110,118,101,120,80,108,97,110,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,51,48,98,116,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,67,114,101,97,116,101,70,117,110,99,0,0,0,0,0,0,0,0,216,82,0,0,120,23,0,0,0,83,0,0,72,23,0,0,160,23,0,0,0,0,0,0,0,0,0,0,0,24,0,0,62,0,0,0,64,0,0,0,5,0,0,0,0,0,0,0,78,50,54,98,116,66,111,120,66,111,120,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,0,0,0,0,0,0,83,0,0,208,23,0,0,160,23,0,0,0,0,0,0,0,0,0,0,96,24,0,0,62,0,0,0,65,0,0,0,6,0,0,0,0,0,0,0,78,51,52,98,116,83,112,104,101,114,101,84,114,105,97,110,103,108,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,0,0,0,0,0,0,83,0,0,40,24,0,0,160,23,0,0,0,0,0,0,0,0,0,0,192,24,0,0,62,0,0,0,66,0,0,0,7,0,0,0,0,0,0,0,78,51,50,98,116,83,112,104,101,114,101,83,112,104,101,114,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,0,0,0,0,0,0,0,0,83,0,0,136,24,0,0,160,23,0,0,0,0,0,0,0,0,0,0,16,25,0,0,62,0,0,0,67,0,0,0,8,0,0,0,0,0,0,0,78,49,54,98,116,69,109,112,116,121,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,0,0,0,0,0,0,0,0,83,0,0,232,24,0,0,160,23,0,0,0,0,0,0,0,0,0,0,112,25,0,0,62,0,0,0,68,0,0,0,9,0,0,0,0,0,0,0,78,50,56,98,116,67,111,109,112,111,117,110,100,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,55,83,119,97,112,112,101,100,67,114,101,97,116,101,70,117,110,99,69,0,0,0,0,0,0,83,0,0,56,25,0,0,160,23,0,0,0,0,0,0,0,0,0,0,208,25,0,0,62,0,0,0,69,0,0,0,10,0,0,0,0,0,0,0,78,51,54,98,116,67,111,109,112,111,117,110,100,67,111,109,112,111,117,110,100,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,0,0,0,0,83,0,0,152,25,0,0,160,23,0,0,0,0,0,0,0,0,0,0,40,26,0,0,62,0,0,0,70,0,0,0,11,0,0,0,0,0,0,0,78,50,56,98,116,67,111,109,112,111,117,110,100,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,0,0,0,0,83,0,0,248,25,0,0,160,23,0,0,0,0,0,0,0,0,0,0,144,26,0,0,62,0,0,0,71,0,0,0,12,0,0,0,0,0,0,0,78,51,51,98,116,67,111,110,118,101,120,67,111,110,99,97,118,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,55,83,119,97,112,112,101,100,67,114,101,97,116,101,70,117,110,99,69,0,0,0,0,0,0,0,0,0,83,0,0,80,26,0,0,160,23,0,0,0,0,0,0,0,0,0,0,240,26,0,0,62,0,0,0,72,0,0,0,13,0,0,0,0,0,0,0,78,51,51,98,116,67,111,110,118,101,120,67,111,110,99,97,118,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,0,0,0,0,0,0,0,83,0,0,184,26,0,0,160,23,0,0,0,0,0,0,0,0,0,0,104,27,0,0,73,0,0,0,74,0,0,0,9,0,0,0,44,0,0,0,105,115,108,97,110,100,85,110,105,111,110,70,105,110,100,65,110,100,81,117,105,99,107,83,111,114,116,0,0,0,0,0,112,114,111,99,101,115,115,73,115,108,97,110,100,115,0,0,50,53,98,116,83,105,109,117,108,97,116,105,111,110,73,115,108,97,110,100,77,97,110,97,103,101,114,0,0,0,0,0,216,82,0,0,72,27,0,0,0,0,0,0,216,27,0,0,75,0,0,0,76,0,0,0,1,0,0,0,1,0,0,0,45,0,0,0,0,0,0,0,51,49,98,116,67,111,110,118,101,120,80,108,97,110,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,0,0,0,0,0,0,50,48,98,116,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,0,216,82,0,0,184,27,0,0,0,83,0,0,144,27,0,0,208,27,0,0,0,0,0,0,0,0,0,0,120,28,0,0,77,0,0,0,78,0,0,0,2,0,0,0,2,0,0,0,46,0,0,0,0,0,0,0,0,0,0,0,64,28,0,0,79,0,0,0,80,0,0,0,10,0,0,0,0,0,0,0,50,52,98,116,67,111,110,118,101,120,84,114,105,97,110,103,108,101,67,97,108,108,98,97,99,107,0,0,0,0,0,0,0,83,0,0,32,28,0,0,208,54,0,0,0,0,0,0,51,51,98,116,67,111,110,118,101,120,67,111,110,99,97,118,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,0,0,0,0,0,83,0,0,80,28,0,0,120,76,0,0,0,0,0,0,0,0,0,0,64,29,0,0,81,0,0,0,82,0,0,0,11,0,0,0,0,0,0,0,90,78,51,51,98,116,67,111,110,118,101,120,67,111,110,99,97,118,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,50,49,99,97,108,99,117,108,97,116,101,84,105,109,101,79,102,73,109,112,97,99,116,69,80,49,55,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,83,49,95,82,75,49,54,98,116,68,105,115,112,97,116,99,104,101,114,73,110,102,111,80,49,54,98,116,77,97,110,105,102,111,108,100,82,101,115,117,108,116,69,51,49,76,111,99,97,108,84,114,105,97,110,103,108,101,83,112,104,101,114,101,67,97,115,116,67,97,108,108,98,97,99,107,0,0,0,0,83,0,0,160,28,0,0,208,54,0,0,0,0,0,0,0,0,0,0,144,29,0,0,9,0,0,0,47,0,0,0,10,0,0,0,83,0,0,0,84,0,0,0,0,0,0,0,78,49,50,98,116,67,111,110,118,101,120,67,97,115,116,49,48,67,97,115,116,82,101,115,117,108,116,69,0,0,0,0,216,82,0,0,112,29,0,0,0,0,0,0,56,30,0,0,85,0,0,0,86,0,0,0,12,0,0,0,11,0,0,0,1,0,0,0,1,0,0,0,48,0,0,0,24,0,0,0,1,0,0,0,25,0,0,0,49,0,0,0,10,0,0,0,2,0,0,0,26,0,0,0,15,0,0,0,50,0,0,0,12,0,0,0,13,0,0,0,3,0,0,0,13,0,0,0,14,0,0,0,27,0,0,0,14,0,0,0,12,0,0,0,28,0,0,0,29,0,0,0,15,0,0,0,15,0,0,0,30,0,0,0,16,0,0,0,1,0,0,0,17,0,0,0,49,53,98,116,84,114,105,97,110,103,108,101,83,104,97,112,101,0,0,0,0,0,0,0,0,83,0,0,32,30,0,0,32,53,0,0,0,0,0,0,98,116,67,111,110,118,101,120,73,110,116,101,114,110,97,108,83,104,97,112,101,68,97,116,97,0,0,0,0,0,0,0,84,114,105,97,110,103,108,101,0,0,0,0,0,0,0,0,0,0,0,0,184,30,0,0,87,0,0,0,88,0,0,0,4,0,0,0,3,0,0,0,51,0,0,0,0,0,0,0,50,54,98,116,66,111,120,66,111,120,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,0,0,0,0,83,0,0,152,30,0,0,120,76,0,0,0,0,0,0,0,0,0,0,56,31,0,0,89,0,0,0,90,0,0,0,16,0,0,0,17,0,0,0,3,0,0,0,0,0,0,0,49,54,98,116,77,97,110,105,102,111,108,100,82,101,115,117,108,116,0,0,0,0,0,0,78,51,54,98,116,68,105,115,99,114,101,116,101,67,111,108,108,105,115,105,111,110,68,101,116,101,99,116,111,114,73,110,116,101,114,102,97,99,101,54,82,101,115,117,108,116,69,0,216,82,0,0,0,31,0,0,0,83,0,0,232,30,0,0,48,31,0,0,0,0,0,0,0,0,0,0,32,33,0,0,91,0,0,0,92,0,0,0,18,0,0,0,19,0,0,0,5,0,0,0,3,0,0,0,93,0,0,0,1,0,0,0,2,0,0,0,18,0,0,0,52,0,0,0,21,0,0,0,53,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,79,118,101,114,102,108,111,119,32,105,110,32,65,65,66,66,44,32,111,98,106,101,99,116,32,114,101,109,111,118,101,100,32,102,114,111,109,32,115,105,109,117,108,97,116,105,111,110,0,0,0,0,0,0,0,0,73,102,32,121,111,117,32,99,97,110,32,114,101,112,114,111,100,117,99,101,32,116,104,105,115,44,32,112,108,101,97,115,101,32,101,109,97,105,108,32,98,117,103,115,64,99,111,110,116,105,110,117,111,117,115,112,104,121,115,105,99,115,46,99,111,109,10,0,0,0,0,0,80,108,101,97,115,101,32,105,110,99,108,117,100,101,32,97,98,111,118,101,32,105,110,102,111,114,109,97,116,105,111,110,44,32,121,111,117,114,32,80,108,97,116,102,111,114,109,44,32,118,101,114,115,105,111,110,32,111,102,32,79,83,46,10,0,0,0,0,0,0,0,0,84,104,97,110,107,115,46,10,0,0,0,0,0,0,0,0,117,112,100,97,116,101,65,97,98,98,115,0,0,0,0,0,99,97,108,99,117,108,97,116,101,79,118,101,114,108,97,112,112,105,110,103,80,97,105,114,115,0,0,0,0,0,0,0,112,101,114,102,111,114,109,68,105,115,99,114,101,116,101,67,111,108,108,105,115,105,111,110,68,101,116,101,99,116,105,111,110,0,0,0,0,0,0,0,100,105,115,112,97,116,99,104,65,108,108,67,111,108,108,105,115,105,111,110,80,97,105,114,115,0,0,0,0,0,0,0,99,111,110,118,101,120,83,119,101,101,112,67,111,109,112,111,117,110,100,0,0,0,0,0,99,111,110,118,101,120,83,119,101,101,112,84,101,115,116,0,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,0,0,0,0,0,0,216,82,0,0,8,33,0,0,0,0,0,0,112,33,0,0,94,0,0,0,95,0,0,0,19,0,0,0,20,0,0,0,252,255,255,255,112,33,0,0,96,0,0,0,97,0,0,0,21,0,0,0,0,0,0,0,49,55,68,101,98,117,103,68,114,97,119,99,97,108,108,98,97,99,107,0,0,0,0,0,96,83,0,0,88,33,0,0,0,0,0,0,2,0,0,0,208,54,0,0,2,0,0,0,0,55,0,0,2,4,0,0,0,0,0,0,208,33,0,0,89,0,0,0,98,0,0,0,16,0,0,0,17,0,0,0,4,0,0,0,0,0,0,0,50,51,98,116,66,114,105,100,103,101,100,77,97,110,105,102,111,108,100,82,101,115,117,108,116,0,0,0,0,0,0,0,0,83,0,0,176,33,0,0,56,31,0,0,0,0,0,0,50,52,98,116,66,114,111,97,100,112,104,97,115,101,65,97,98,98,67,97,108,108,98,97,99,107,0,0,0,0,0,0,216,82,0,0,224,33,0,0,0,0,0,0,104,34,0,0,99,0,0,0,100,0,0,0,13,0,0,0,0,0,0,0,50,49,98,116,83,105,110,103,108,101,83,119,101,101,112,67,97,108,108,98,97,99,107,0,50,51,98,116,66,114,111,97,100,112,104,97,115,101,82,97,121,67,97,108,108,98,97,99,107,0,0,0,0,0,0,0,0,83,0,0,56,34,0,0,0,34,0,0,0,0,0,0,0,83,0,0,32,34,0,0,88,34,0,0,0,0,0,0,0,0,0,0,168,34,0,0,99,0,0,0,101,0,0,0,14,0,0,0,0,0,0,0,49,57,98,116,83,105,110,103,108,101,82,97,121,67,97,108,108,98,97,99,107,0,0,0,0,83,0,0,144,34,0,0,88,34,0,0,0,0,0,0,0,0,0,0,112,35,0,0,26,0,0,0,102,0,0,0,15,0,0,0,10,0,0,0,90,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,53,111,98,106,101,99,116,81,117,101,114,121,83,105,110,103,108,101,73,110,116,101,114,110,97,108,69,80,75,49,51,98,116,67,111,110,118,101,120,83,104,97,112,101,82,75,49,49,98,116,84,114,97,110,115,102,111,114,109,83,53,95,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,82,78,83,95,50,48,67,111,110,118,101,120,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,102,69,49,52,76,111,99,97,108,73,110,102,111,65,100,100,101,114,0,0,0,0,0,83,0,0,208,34,0,0,232,3,0,0,0,0,0,0,0,0,0,0,80,36,0,0,81,0,0,0,103,0,0,0,22,0,0,0,1,0,0,0,90,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,53,111,98,106,101,99,116,81,117,101,114,121,83,105,110,103,108,101,73,110,116,101,114,110,97,108,69,80,75,49,51,98,116,67,111,110,118,101,120,83,104,97,112,101,82,75,49,49,98,116,84,114,97,110,115,102,111,114,109,83,53,95,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,82,78,83,95,50,48,67,111,110,118,101,120,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,102,69,51,50,66,114,105,100,103,101,84,114,105,97,110,103,108,101,67,111,110,118,101,120,99,97,115,116,67,97,108,108,98,97,99,107,95,48,0,0,0,0,0,0,0,0,0,83,0,0,152,35,0,0,192,68,0,0,0,0,0,0,0,0,0,0,40,37,0,0,81,0,0,0,104,0,0,0,22,0,0,0,2,0,0,0,90,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,53,111,98,106,101,99,116,81,117,101,114,121,83,105,110,103,108,101,73,110,116,101,114,110,97,108,69,80,75,49,51,98,116,67,111,110,118,101,120,83,104,97,112,101,82,75,49,49,98,116,84,114,97,110,115,102,111,114,109,83,53,95,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,82,78,83,95,50,48,67,111,110,118,101,120,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,102,69,51,50,66,114,105,100,103,101,84,114,105,97,110,103,108,101,67,111,110,118,101,120,99,97,115,116,67,97,108,108,98,97,99,107,0,0,0,83,0,0,120,36,0,0,192,68,0,0,0,0,0,0,0,0,0,0,216,37,0,0,105,0,0,0,106,0,0,0,16,0,0,0,11,0,0,0,90,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,49,114,97,121,84,101,115,116,83,105,110,103,108,101,73,110,116,101,114,110,97,108,69,82,75,49,49,98,116,84,114,97,110,115,102,111,114,109,83,50,95,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,82,78,83,95,49,55,82,97,121,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,69,49,53,76,111,99,97,108,73,110,102,111,65,100,100,101,114,50,0,0,0,0,0,83,0,0,80,37,0,0,120,2,0,0,0,0,0,0,0,0,0,0,176,38,0,0,107,0,0,0,108,0,0,0,18,0,0,0,54,0,0,0,5,0,0,0,17,0,0,0,18,0,0,0,0,0,0,0,90,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,49,114,97,121,84,101,115,116,83,105,110,103,108,101,73,110,116,101,114,110,97,108,69,82,75,49,49,98,116,84,114,97,110,115,102,111,114,109,83,50,95,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,82,78,83,95,49,55,82,97,121,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,69,57,82,97,121,84,101,115,116,101,114,0,0,0,78,54,98,116,68,98,118,116,56,73,67,111,108,108,105,100,101,69,0,0,0,0,0,0,216,82,0,0,144,38,0,0,0,83,0,0,16,38,0,0,168,38,0,0,0,0,0,0,0,0,0,0,112,39,0,0,81,0,0,0,109,0,0,0,23,0,0,0,1,0,0,0,90,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,49,114,97,121,84,101,115,116,83,105,110,103,108,101,73,110,116,101,114,110,97,108,69,82,75,49,49,98,116,84,114,97,110,115,102,111,114,109,83,50,95,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,82,78,83,95,49,55,82,97,121,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,69,50,57,66,114,105,100,103,101,84,114,105,97,110,103,108,101,82,97,121,99,97,115,116,67,97,108,108,98,97,99,107,95,48,0,0,0,0,0,83,0,0,216,38,0,0,144,68,0,0,0,0,0,0,0,0,0,0,48,40,0,0,81,0,0,0,110,0,0,0,23,0,0,0,2,0,0,0,90,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,49,114,97,121,84,101,115,116,83,105,110,103,108,101,73,110,116,101,114,110,97,108,69,82,75,49,49,98,116,84,114,97,110,115,102,111,114,109,83,50,95,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,82,78,83,95,49,55,82,97,121,82,101,115,117,108,116,67,97,108,108,98,97,99],"i8",vo,so.GLOBAL_BASE),a([107,69,69,50,57,66,114,105,100,103,101,84,114,105,97,110,103,108,101,82,97,121,99,97,115,116,67,97,108,108,98,97,99,107,0,0,0,0,0,0,0,83,0,0,152,39,0,0,144,68,0,0,0,0,0,0,0,0,0,0,136,40,0,0,111,0,0,0,112,0,0,0,5,0,0,0,4,0,0,0,55,0,0,0,0,0,0,0,51,52,98,116,83,112,104,101,114,101,84,114,105,97,110,103,108,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,0,0,0,0,83,0,0,96,40,0,0,120,76,0,0,0,0,0,0,0,0,0,0,248,40,0,0,113,0,0,0,114,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,40,41,0,0,115,0,0,0,116,0,0,0,6,0,0,0,5,0,0,0,56,0,0,0,0,0,0,0,78,50,51,98,116,67,111,110,118,101,120,67,111,110,118,101,120,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,0,83,0,0,208,40,0,0,160,23,0,0,0,0,0,0,50,51,98,116,67,111,110,118,101,120,67,111,110,118,101,120,65,108,103,111,114,105,116,104,109,0,0,0,0,0,0,0,0,83,0,0,8,41,0,0,120,76,0,0,0,0,0,0,0,0,0,0,232,41,0,0,89,0,0,0,117,0,0,0,19,0,0,0,20,0,0,0,5,0,0,0,0,0,0,0,90,78,50,51,98,116,67,111,110,118,101,120,67,111,110,118,101,120,65,108,103,111,114,105,116,104,109,49,54,112,114,111,99,101,115,115,67,111,108,108,105,115,105,111,110,69,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,83,50,95,82,75,49,54,98,116,68,105,115,112,97,116,99,104,101,114,73,110,102,111,80,49,54,98,116,77,97,110,105,102,111,108,100,82,101,115,117,108,116,69,50,49,98,116,87,105,116,104,111,117,116,77,97,114,103,105,110,82,101,115,117,108,116,0,0,0,0,0,83,0,0,88,41,0,0,48,31,0,0,0,0,0,0,0,0,0,0,56,42,0,0,89,0,0,0,118,0,0,0,16,0,0,0,17,0,0,0,6,0,0,0,0,0,0,0,50,52,98,116,80,101,114,116,117,114,98,101,100,67,111,110,116,97,99,116,82,101,115,117,108,116,0,0,0,0,0,0,0,83,0,0,24,42,0,0,56,31,0,0,0,0,0,0,0,0,0,0,240,42,0,0,89,0,0,0,119,0,0,0,21,0,0,0,22,0,0,0,7,0,0,0,0,0,0,0,90,78,50,51,98,116,67,111,110,118,101,120,67,111,110,118,101,120,65,108,103,111,114,105,116,104,109,49,54,112,114,111,99,101,115,115,67,111,108,108,105,115,105,111,110,69,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,83,50,95,82,75,49,54,98,116,68,105,115,112,97,116,99,104,101,114,73,110,102,111,80,49,54,98,116,77,97,110,105,102,111,108,100,82,101,115,117,108,116,69,49,51,98,116,68,117,109,109,121,82,101,115,117,108,116,0,0,0,0,0,83,0,0,104,42,0,0,48,31,0,0,0,0,0,0,0,0,0,0,64,43,0,0,120,0,0,0,121,0,0,0,7,0,0,0,6,0,0,0,57,0,0,0,0,0,0,0,50,56,98,116,67,111,109,112,111,117,110,100,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,0,0,83,0,0,32,43,0,0,120,76,0,0,0,0,0,0,0,0,0,0,152,43,0,0,107,0,0,0,122,0,0,0,18,0,0,0,58,0,0,0,5,0,0,0,17,0,0,0,18,0,0,0,0,0,0,0,50,50,98,116,67,111,109,112,111,117,110,100,76,101,97,102,67,97,108,108,98,97,99,107,0,0,0,0,0,0,0,0,0,83,0,0,120,43,0,0,168,38,0,0,0,0,0,0,0,0,0,0,240,43,0,0,123,0,0,0,124,0,0,0,8,0,0,0,7,0,0,0,59,0,0,0,0,0,0,0,51,54,98,116,67,111,109,112,111,117,110,100,67,111,109,112,111,117,110,100,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,0,0,83,0,0,200,43,0,0,120,76,0,0,0,0,0,0,0,0,0,0,80,44,0,0,107,0,0,0,125,0,0,0,23,0,0,0,60,0,0,0,5,0,0,0,17,0,0,0,18,0,0,0,0,0,0,0,51,48,98,116,67,111,109,112,111,117,110,100,67,111,109,112,111,117,110,100,76,101,97,102,67,97,108,108,98,97,99,107,0,0,0,0,0,0,0,0,0,83,0,0,40,44,0,0,168,38,0,0,0,0,0,0,0,0,0,0,0,45,0,0,126,0,0,0,127,0,0,0,24,0,0,0,11,0,0,0,1,0,0,0,1,0,0,0,61,0,0,0,31,0,0,0,2,0,0,0,32,0,0,0,49,0,0,0,11,0,0,0,3,0,0,0,33,0,0,0,16,0,0,0,50,0,0,0,62,0,0,0,128,0,0,0,98,116,67,111,109,112,111,117,110,100,83,104,97,112,101,67,104,105,108,100,68,97,116,97,0,0,0,0,0,0,0,0,98,116,67,111,109,112,111,117,110,100,83,104,97,112,101,68,97,116,97,0,0,0,0,0,49,53,98,116,67,111,109,112,111,117,110,100,83,104,97,112,101,0,0,0,0,0,0,0,0,83,0,0,232,44,0,0,152,53,0,0,0,0,0,0,67,111,109,112,111,117,110,100,0,0,0,0,0,0,0,0,0,0,0,0,104,46,0,0,129,0,0,0,130,0,0,0,25,0,0,0,11,0,0,0,1,0,0,0,1,0,0,0,63,0,0,0,24,0,0,0,3,0,0,0,34,0,0,0,64,0,0,0,10,0,0,0,2,0,0,0,35,0,0,0,17,0,0,0,50,0,0,0,24,0,0,0,25,0,0,0,3,0,0,0,26,0,0,0,14,0,0,0,36,0,0,0,26,0,0,0,0,0,0,0,0,0,0,0,136,46,0,0,129,0,0,0,131,0,0,0,25,0,0,0,11,0,0,0,1,0,0,0,1,0,0,0,63,0,0,0,24,0,0,0,3,0,0,0,37,0,0,0,65,0,0,0,10,0,0,0,2,0,0,0,35,0,0,0,17,0,0,0,50,0,0,0,24,0,0,0,25,0,0,0,3,0,0,0,26,0,0,0,14,0,0,0,36,0,0,0,26,0,0,0,0,0,0,0,0,0,0,0,168,46,0,0,129,0,0,0,132,0,0,0,25,0,0,0,11,0,0,0,1,0,0,0,1,0,0,0,63,0,0,0,24,0,0,0,3,0,0,0,38,0,0,0,66,0,0,0,10,0,0,0,2,0,0,0,35,0,0,0,17,0,0,0,50,0,0,0,24,0,0,0,25,0,0,0,3,0,0,0,26,0,0,0,14,0,0,0,36,0,0,0,26,0,0,0,0,0,0,0,49,49,98,116,67,111,110,101,83,104,97,112,101,0,0,0,0,83,0,0,88,46,0,0,216,53,0,0,0,0,0,0,49,50,98,116,67,111,110,101,83,104,97,112,101,90,0,0,0,83,0,0,120,46,0,0,104,46,0,0,0,0,0,0,49,50,98,116,67,111,110,101,83,104,97,112,101,88,0,0,0,83,0,0,152,46,0,0,104,46,0,0,0,0,0,0,67,111,110,101,88,0,0,0,67,111,110,101,90,0,0,0,98,116,67,111,110,101,83,104,97,112,101,68,97,116,97,0,67,111,110,101,0,0,0,0,0,0,0,0,88,47,0,0,129,0,0,0,133,0,0,0,27,0,0,0,11,0,0,0,1,0,0,0,1,0,0,0,48,0,0,0,24,0,0,0,4,0,0,0,39,0,0,0,49,0,0,0,12,0,0,0,4,0,0,0,26,0,0,0,15,0,0,0,50,0,0,0,27,0,0,0,28,0,0,0,3,0,0,0,28,0,0,0,14,0,0,0,36,0,0,0,26,0,0,0,0,0,0,0,49,51,98,116,83,112,104,101,114,101,83,104,97,112,101,0,0,83,0,0,72,47,0,0,216,53,0,0,0,0,0,0,83,80,72,69,82,69,0,0,0,0,0,0,8,48,0,0,134,0,0,0,135,0,0,0,29,0,0,0,11,0,0,0,1,0,0,0,1,0,0,0,67,0,0,0,40,0,0,0,5,0,0,0,41,0,0,0,49,0,0,0,13,0,0,0,5,0,0,0,42,0,0,0,18,0,0,0,50,0,0,0,30,0,0,0,29,0,0,0,30,0,0,0,68,0,0,0,69,0,0,0,0,0,0,0,98,116,84,114,105,97,110,103,108,101,77,101,115,104,83,104,97,112,101,68,97,116,97,0,50,50,98,116,66,118,104,84,114,105,97,110,103,108,101,77,101,115,104,83,104,97,112,101,0,0,0,0,0,0,0,0,0,83,0,0,232,47,0,0,128,50,0,0,0,0,0,0,66,86,72,84,82,73,65,78,71,76,69,77,69,83,72,0,0,0,0,0,208,48,0,0,136,0,0,0,137,0,0,0,31,0,0,0,0,0,0,0,90,78,75,50,50,98,116,66,118,104,84,114,105,97,110,103,108,101,77,101,115,104,83,104,97,112,101,49,57,112,114,111,99,101,115,115,65,108,108,84,114,105,97,110,103,108,101,115,69,80,49,56,98,116,84,114,105,97,110,103,108,101,67,97,108,108,98,97,99,107,82,75,57,98,116,86,101,99,116,111,114,51,83,52,95,69,50,49,77,121,78,111,100,101,79,118,101,114,108,97,112,67,97,108,108,98,97,99,107,0,0,0,50,49,98,116,78,111,100,101,79,118,101,114,108,97,112,67,97,108,108,98,97,99,107,0,216,82,0,0,176,48,0,0,0,83,0,0,64,48,0,0,200,48,0,0,0,0,0,0,0,0,0,0,112,49,0,0,136,0,0,0,138,0,0,0,32,0,0,0,0,0,0,0,90,78,50,50,98,116,66,118,104,84,114,105,97,110,103,108,101,77,101,115,104,83,104,97,112,101,49,55,112,101,114,102,111,114,109,67,111,110,118,101,120,99,97,115,116,69,80,49,56,98,116,84,114,105,97,110,103,108,101,67,97,108,108,98,97,99,107,82,75,57,98,116,86,101,99,116,111,114,51,83,52,95,83,52,95,83,52,95,69,50,49,77,121,78,111,100,101,79,118,101,114,108,97,112,67,97,108,108,98,97,99,107,0,0,0,0,0,0,0,0,0,83,0,0,248,48,0,0,200,48,0,0,0,0,0,0,0,0,0,0,0,50,0,0,136,0,0,0,139,0,0,0,33,0,0,0,0,0,0,0,90,78,50,50,98,116,66,118,104,84,114,105,97,110,103,108,101,77,101,115,104,83,104,97,112,101,49,52,112,101,114,102,111,114,109,82,97,121,99,97,115,116,69,80,49,56,98,116,84,114,105,97,110,103,108,101,67,97,108,108,98,97,99,107,82,75,57,98,116,86,101,99,116,111,114,51,83,52,95,69,50,49,77,121,78,111,100,101,79,118,101,114,108,97,112,67,97,108,108,98,97,99,107,0,0,83,0,0,152,49,0,0,200,48,0,0,0,0,0,0,0,0,0,0,128,50,0,0,140,0,0,0,141,0,0,0,29,0,0,0,11,0,0,0,1,0,0,0,1,0,0,0,70,0,0,0,40,0,0,0,5,0,0,0,43,0,0,0,49,0,0,0,13,0,0,0,5,0,0,0,44,0,0,0,19,0,0,0,50,0,0,0,31,0,0,0,29,0,0,0,30,0,0,0,0,0,0,0,49,57,98,116,84,114,105,97,110,103,108,101,77,101,115,104,83,104,97,112,101,0,0,0,0,83,0,0,104,50,0,0,40,58,0,0,0,0,0,0,84,82,73,65,78,71,76,69,77,69,83,72,0,0,0,0,0,0,0,0,208,50,0,0,81,0,0,0,142,0,0,0,32,0,0,0,0,0,0,0,50,49,83,117,112,112,111,114,116,86,101,114,116,101,120,67,97,108,108,98,97,99,107,0,0,83,0,0,184,50,0,0,208,54,0,0,0,0,0,0,0,0,0,0,96,51,0,0,143,0,0,0,144,0,0,0,33,0,0,0,0,0,0,0,90,78,75,49,57,98,116,84,114,105,97,110,103,108,101,77,101,115,104,83,104,97,112,101,49,57,112,114,111,99,101,115,115,65,108,108,84,114,105,97,110,103,108,101,115,69,80,49,56,98,116,84,114,105,97,110,103,108,101,67,97,108,108,98,97,99,107,82,75,57,98,116,86,101,99,116,111,114,51,83,52,95,69,49,54,70,105,108,116,101,114,101,100,67,97,108,108,98,97,99,107,0,0,0,0,83,0,0,248,50,0,0,0,55,0,0,0,0,0,0,0,0,0,0,216,51,0,0,145,0,0,0,146,0,0,0,34,0,0,0,11,0,0,0,1,0,0,0,1,0,0,0,71,0,0,0,45,0,0,0,6,0,0,0,46,0,0,0,49,0,0,0,13,0,0,0,5,0,0,0,47,0,0,0,20,0,0,0,50,0,0,0,35,0,0,0,0,0,0,0,49,56,98,116,83,116,97,116,105,99,80,108,97,110,101,83,104,97,112,101,0,0,0,0,0,83,0,0,192,51,0,0,40,58,0,0,0,0,0,0,98,116,83,116,97,116,105,99,80,108,97,110,101,83,104,97,112,101,68,97,116,97,0,0,83,84,65,84,73,67,80,76,65,78,69,0,0,0,0,0,0,0,0,0,32,53,0,0,85,0,0,0,147,0,0,0,25,0,0,0,11,0,0,0,1,0,0,0,1,0,0,0,48,0,0,0,24,0,0,0,7,0,0,0,1,0,0,0,49,0,0,0,10,0,0,0,2,0,0,0,26,0,0,0,15,0,0,0,50,0,0,0,12,0,0,0,34,0,0,0,3,0,0,0,36,0,0,0,14,0,0,0,36,0,0,0,26,0,0,0,12,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,50,51,98,116,80,111,108,121,104,101,100,114,97,108,67,111,110,118,101,120,83,104,97,112,101,0,0,0,0,0,0,0,0,83,0,0,0,53,0,0,216,53,0,0,0,0,0,0,51,52,98,116,80,111,108,121,104,101,100,114,97,108,67,111,110,118,101,120,65,97,98,98,67,97,99,104,105,110,103,83,104,97,112,101,0,0,0,0,0,83,0,0,48,53,0,0,32,53,0,0,0,0,0,0,98,116,67,111,108,108,105,115,105,111,110,83,104,97,112,101,68,97,116,97,0,0,0,0,49,54,98,116,67,111,108,108,105,115,105,111,110,83,104,97,112,101,0,0,0,0,0,0,216,82,0,0,128,53,0,0,49,51,98,116,67,111,110,118,101,120,83,104,97,112,101,0,0,83,0,0,160,53,0,0,152,53,0,0,0,0,0,0,50,49,98,116,67,111,110,118,101,120,73,110,116,101,114,110,97,108,83,104,97,112,101,0,0,83,0,0,192,53,0,0,176,53,0,0,0,0,0,0,0,0,0,0,160,54,0,0,148,0,0,0,149,0,0,0,37,0,0,0,11,0,0,0,1,0,0,0,1,0,0,0,72,0,0,0,24,0,0,0,7,0,0,0,48,0,0,0,49,0,0,0,10,0,0,0,2,0,0,0,49,0,0,0,21,0,0,0,50,0,0,0,35,0,0,0,36,0,0,0,3,0,0,0,38,0,0,0,14,0,0,0,36,0,0,0,26,0,0,0,12,0,0,0,50,0,0,0,51,0,0,0,39,0,0,0,37,0,0,0,52,0,0,0,40,0,0,0,2,0,0,0,1,0,0,0,98,116,67,111,110,118,101,120,72,117,108,108,83,104,97,112,101,68,97,116,97,0,0,0,49,55,98,116,67,111,110,118,101,120,72,117,108,108,83,104,97,112,101,0,0,0,0,0,0,83,0,0,136,54,0,0,88,53,0,0,0,0,0,0,67,111,110,118,101,120,0,0,49,56,98,116,84,114,105,97,110,103,108,101,67,97,108,108,98,97,99,107,0,0,0,0,216,82,0,0,184,54,0,0,51,49,98,116,73,110,116,101,114,110,97,108,84,114,105,97,110,103,108,101,73,110,100,101,120,67,97,108,108,98,97,99,107,0,0,0,0,0,0,0,216,82,0,0,216,54,0,0,0,0,0,0,88,56,0,0,129,0,0,0,150,0,0,0,41,0,0,0,11,0,0,0,1,0,0,0,1,0,0,0,73,0,0,0,24,0,0,0,8,0,0,0,53,0,0,0,74,0,0,0,14,0,0,0,2,0,0,0,54,0,0,0,22,0,0,0,50,0,0,0,12,0,0,0,38,0,0,0,3,0,0,0,42,0,0,0,14,0,0,0,36,0,0,0,26,0,0,0,0,0,0,0,0,0,0,0,128,56,0,0,129,0,0,0,151,0,0,0,41,0,0,0,11,0,0,0,1,0,0,0,1,0,0,0,73,0,0,0,24,0,0,0,8,0,0,0,55,0,0,0,74,0,0,0,14,0,0,0,2,0,0,0,54,0,0,0,22,0,0,0,50,0,0,0,12,0,0,0,38,0,0,0,3,0,0,0,42,0,0,0,14,0,0,0,36,0,0,0,26,0,0,0,0,0,0,0,0,0,0,0,168,56,0,0,129,0,0,0,152,0,0,0,41,0,0,0,11,0,0,0,1,0,0,0,1,0,0,0,73,0,0,0,24,0,0,0,8,0,0,0,56,0,0,0,74,0,0,0,14,0,0,0,2,0,0,0,54,0,0,0,22,0,0,0,50,0,0,0,12,0,0,0,38,0,0,0,3,0,0,0,42,0,0,0,14,0,0,0,36,0,0,0,26,0,0,0,0,0,0,0,49,52,98,116,67,97,112,115,117,108,101,83,104,97,112,101,0,0,0,0,0,0,0,0,0,83,0,0,64,56,0,0,216,53,0,0,0,0,0,0,49,53,98,116,67,97,112,115,117,108,101,83,104,97,112,101,88,0,0,0,0,0,0,0,0,83,0,0,104,56,0,0,88,56,0,0,0,0,0,0,49,53,98,116,67,97,112,115,117,108,101,83,104,97,112,101,90,0,0,0,0,0,0,0,0,83,0,0,144,56,0,0,88,56,0,0,0,0,0,0,67,97,112,115,117,108,101,90,0,0,0,0,0,0,0,0,67,97,112,115,117,108,101,88,0,0,0,0,0,0,0,0,98,116,67,97,112,115,117,108,101,83,104,97,112,101,68,97,116,97,0,0,0,0,0,0,67,97,112,115,117,108,101,83,104,97,112,101,0,0,0,0,0,0,0,0,168,57,0,0,85,0,0,0,153,0,0,0,37,0,0,0,11,0,0,0,1,0,0,0,1,0,0,0,75,0,0,0,57,0,0,0,7,0,0,0,58,0,0,0,49,0,0,0,10,0,0,0,2,0,0,0,26,0,0,0,15,0,0,0,50,0,0,0,39,0,0,0,40,0,0,0,3,0,0,0,43,0,0,0,14,0,0,0,36,0,0,0,26,0,0,0,12,0,0,0,59,0,0,0,60,0,0,0,44,0,0,0,41,0,0,0,61,0,0,0,45,0,0,0,3,0,0,0,0,0,0,0,50,53,98,116,67,111,110,118,101,120,84,114,105,97,110,103,108,101,77,101,115,104,83,104,97,112,101,0,0,0,0,0,0,83,0,0,136,57,0,0,88,53,0,0,0,0,0,0,67,111,110,118,101,120,84,114,105,109,101,115,104,0,0,0,0,0,0,0,0,58,0,0,143,0,0,0,154,0,0,0,46,0,0,0,0,0,0,0,50,54,76,111,99,97,108,83,117,112,112,111,114,116,86,101,114,116,101,120,67,97,108,108,98,97,99,107,0,0,0,0,0,83,0,0,224,57,0,0,0,55,0,0,0,0,0,0,49,52,98,116,67,111,110,99,97,118,101,83,104,97,112,101,0,0,0,0,0,0,0,0,0,83,0,0,16,58,0,0,152,53,0,0,0,0,0,0,0,0,0,0,208,58,0,0,85,0,0,0,155,0,0,0,47,0,0,0,11,0,0,0,1,0,0,0,1,0,0,0,76,0,0,0,24,0,0,0,9,0,0,0,62,0,0,0,49,0,0,0,15,0,0,0,2,0,0,0,26,0,0,0,15,0,0,0,50,0,0,0,42,0,0,0,43,0,0,0,3,0,0,0,48,0,0,0,14,0,0,0,63,0,0,0,44,0,0,0,12,0,0,0,64,0,0,0,65,0,0,0,49,0,0,0,45,0,0,0,66,0,0,0,50,0,0,0,4,0,0,0,46,0,0,0,49,48,98,116,66,111,120,83,104,97,112,101,0,0,0,0,0,83,0,0,192,58,0,0,32,53,0,0,0,0,0,0,66,111,120,0,0,0,0,0,0,0,0,0,40,59,0,0,156,0,0,0,157,0,0,0,15,0,0,0,67,0,0,0,23,0,0,0,77,0,0,0,78,0,0,0,16,0,0,0,49,52,98,116,79,112,116,105,109,105,122,101,100,66,118,104,0,0,0,0,0,0,0,0,0,83,0,0,16,59,0,0,80,68,0,0,0,0,0,0,0,0,0,0,184,59,0,0,143,0,0,0,158,0,0,0,51,0,0,0,0,0,0,0,90,78,49,52,98,116,79,112,116,105,109,105,122,101,100,66,118,104,53,98,117,105,108,100,69,80,50,51,98,116,83,116,114,105,100,105,110,103,77,101,115,104,73,110,116,101,114,102,97,99,101,98,82,75,57,98,116,86,101,99,116,111,114,51,83,52,95,69,50,57,81,117,97,110,116,105,122,101,100,78,111,100,101,84,114,105,97,110,103,108,101,67,97,108,108,98,97,99,107,0,0,0,0,0,0,83,0,0,80,59,0,0,0,55,0,0,0,0,0,0,0,0,0,0,64,60,0,0,143,0,0,0,159,0,0,0,52,0,0,0,0,0,0,0,90,78,49,52,98,116,79,112,116,105,109,105,122,101,100,66,118,104,53,98,117,105,108,100,69,80,50,51,98,116,83,116,114,105,100,105,110,103,77,101,115,104,73,110,116,101,114,102,97,99,101,98,82,75,57,98,116,86,101,99,116,111,114,51,83,52,95,69,50,48,78,111,100,101,84,114,105,97,110,103,108,101,67,97,108,108,98,97,99,107,0,0,0,0,0,0,0,83,0,0,224,59,0,0,0,55,0,0,0,0,0,0,0,0,0,0,160,61,0,0,129,0,0,0,160,0,0,0,53,0,0,0,11,0,0,0,1,0,0,0,1,0,0,0,79,0,0,0,24,0,0,0,10,0,0,0,68,0,0,0,80,0,0,0,16,0,0,0,2,0,0,0,69,0,0,0,24,0,0,0,50,0,0,0,47,0,0,0,48,0,0,0,3,0,0,0,54,0,0,0,14,0,0,0,36,0,0,0,26,0,0,0,6,0,0,0,0,0,0,0,200,61,0,0,129,0,0,0,161,0,0,0,53,0,0,0,11,0,0,0,1,0,0,0,1,0,0,0,79,0,0,0,24,0,0,0,10,0,0,0,70,0,0,0,80,0,0,0,16,0,0,0,2,0,0,0,69,0,0,0,24,0,0,0,50,0,0,0,47,0,0,0,49,0,0,0,3,0,0,0,55,0,0,0,14,0,0,0,36,0,0,0,26,0,0,0,7,0,0,0,0,0,0,0,240,61,0,0,129,0,0,0,162,0,0,0,53,0,0,0,11,0,0,0,1,0,0,0,1,0,0,0,79,0,0,0,24,0,0,0,10,0,0,0,71,0,0,0,80,0,0,0,16,0,0,0,2,0,0,0,69,0,0,0,24,0,0,0,50,0,0,0,47,0,0,0,50,0,0,0,3,0,0,0,56,0,0,0,14,0,0,0,36,0,0,0,26,0,0,0,8,0,0,0,49,53,98,116,67,121,108,105,110,100,101,114,83,104,97,112,101,0,0,0,0,0,0,0,0,83,0,0,136,61,0,0,216,53,0,0,0,0,0,0,49,54,98,116,67,121,108,105,110,100,101,114,83,104,97,112,101,88,0,0,0,0,0,0,0,83,0,0,176,61,0,0,160,61,0,0,0,0,0,0,49,54,98,116,67,121,108,105,110,100,101,114,83,104,97,112,101,90,0,0,0,0,0,0,0,83,0,0,216,61,0,0,160,61,0,0,0,0,0,0,67,121,108,105,110,100,101,114,90,0,0,0,0,0,0,0,67,121,108,105,110,100,101,114,88,0,0,0,0,0,0,0,98,116,67,121,108,105,110,100,101,114,83,104,97,112,101,68,97,116,97,0,0,0,0,0,67,121,108,105,110,100,101,114,89,0,0,0,0,0,0,0,0,0,0,0,168,62,0,0,163,0,0,0,164,0,0,0,57,0,0,0,1,0,0,0,2,0,0,0,81,0,0,0,82,0,0,0,72,0,0,0,83,0,0,0,84,0,0,0,73,0,0,0,51,0,0,0,52,0,0,0,74,0,0,0,25,0,0,0,0,0,0,0,49,52,98,116,84,114,105,97,110,103,108,101,77,101,115,104,0,0,0,0,0,0,0,0,0,83,0,0,144,62,0,0,168,78,0,0,0,0,0,0,0,0,0,0,88,63,0,0,165,0,0,0,166,0,0,0,1,0,0,0,53,0,0,0,9,0,0,0,58,0,0,0,2,0,0,0,59,0,0,0,85,0,0,0,75,0,0,0,76,0,0,0,54,0,0,0,86,0,0,0,167,0,0,0,49,50,98,116,65,120,105,115,83,119,101,101,112,51,0,0,50,48,98,116,65,120,105,115,83,119,101,101,112,51,73,110,116,101,114,110,97,108,73,116,69,0,0,0,0,0,0,0,50,49,98,116,66,114,111,97,100,112,104,97,115,101,73,110,116,101,114,102,97,99,101,0,216,82,0,0,40,63,0,0,0,83,0,0,8,63,0,0,64,63,0,0,0,0,0,0,0,83,0,0,248,62,0,0,72,63,0,0,0,0,0,0,0,0,0,0,72,63,0,0,165,0,0,0,168,0,0,0,1,0,0,0,53,0,0,0,9,0,0,0,58,0,0,0,2,0,0,0,59,0,0,0,85,0,0,0,75,0,0,0,76,0,0,0,54,0,0,0,86,0,0,0,167,0,0,0,0,0,0,0,64,64,0,0,169,0,0,0,170,0,0,0,26,0,0,0,17,0,0,0,55,0,0,0,77,0,0,0,78,0,0,0,79,0,0,0,56,0,0,0,80,0,0,0,57,0,0,0,87,0,0,0,58,0,0,0,27,0,0,0,81,0,0,0,88,0,0,0,89,0,0,0,0,0,0,0,49,53,98,116,78,117,108,108,80,97,105,114,67,97,99,104,101,0,0,0,0,0,0,0,50,50,98,116,79,118,101,114,108,97,112,112,105,110,103,80,97,105,114,67,97,99,104,101,0,0,0,0,0,0,0,0,0,83,0,0,16,64,0,0,208,1,0,0,0,0,0,0,0,83,0,0,248,63,0,0,48,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,224,64,0,0,171,0,0,0,172,0,0,0,28,0,0,0,18,0,0,0,59,0,0,0,82,0,0,0,83,0,0,0,84,0,0,0,60,0,0,0,85,0,0,0,61,0,0,0,90,0,0,0,62,0,0,0,29,0,0,0,86,0,0,0,91,0,0,0,92,0,0,0,0,0,0,0,50,56,98,116,72,97,115,104,101,100,79,118,101,114,108,97,112,112,105,110,103,80,97,105,114,67,97,99,104,101,0,0,0,83,0,0,192,64,0,0,48,64,0,0,0,0,0,0,0,0,0,0,144,65,0,0,58,0,0,0,173,0,0,0,19,0,0,0,0,0,0,0,90,78,50,56,98,116,72,97,115,104,101,100,79,118,101,114,108,97,112,112,105,110,103,80,97,105,114,67,97,99,104,101,51,55,114,101,109,111,118,101,79,118,101,114,108,97,112,112,105,110,103,80,97,105,114,115,67,111,110,116,97,105,110,105,110,103,80,114,111,120,121,69,80,49,55,98,116,66,114,111,97,100,112,104,97,115,101,80,114,111,120,121,80,49,50,98,116,68,105,115,112,97,116,99,104,101,114,69,49,56,82,101,109,111,118,101,80,97,105,114,67,97,108,108,98,97,99,107,0,0,0,0,0,0,0,0,0,83,0,0,8,65,0,0,152,22,0,0,0,0,0,0,0,0,0,0,40,66,0,0,58,0,0,0,174,0,0,0,20,0,0,0,0,0,0,0,90,78,50,56,98,116,72,97,115,104,101,100,79,118,101,114,108,97,112,112,105,110,103,80,97,105,114,67,97,99,104,101,49,57,99,108,101,97,110,80,114,111,120,121,70,114,111,109,80,97,105,114,115,69,80,49,55,98,116,66,114,111,97,100,112,104,97,115,101,80,114,111,120,121,80,49,50,98,116,68,105,115,112,97,116,99,104,101,114,69,49,55,67,108,101,97,110,80,97,105,114,67,97,108,108,98,97,99,107,0,0,0,0,83,0,0,184,65,0,0,152,22,0,0,0,0,0,0,0,0,0,0,144,66,0,0,175,0,0,0,176,0,0,0,2,0,0,0,63,0,0,0,10,0,0,0,60,0,0,0,3,0,0,0,61,0,0,0,93,0,0,0,87,0,0,0,88,0,0,0,64,0,0,0,94,0,0,0,177,0,0,0,49,54,98,116,68,98,118,116,66,114,111,97,100,112,104,97,115,101,0,0,0,0,0,0,0,83,0,0,120,66,0,0,64,63,0,0,0,0,0,0,0,0,0,0,224,66,0,0,107,0,0,0,178,0,0,0,18,0,0,0,95,0,0,0,5,0,0,0,17,0,0,0,18,0,0,0,0,0,0,0,50,48,66,114,111,97,100,112,104,97,115,101,65,97,98,98,84,101,115,116,101,114,0,0,0,83,0,0,200,66,0,0,168,38,0,0,0,0,0,0,0,0,0,0,48,67,0,0,107,0,0,0,179,0,0,0,18,0,0,0,96,0,0,0,5,0,0,0,17,0,0,0,18,0,0,0,0,0,0,0,49,57,66,114,111,97,100,112,104,97,115,101,82,97,121,84,101,115,116,101,114,0,0,0,0,83,0,0,24,67,0,0,168,38,0,0,0,0,0,0,0,0,0,0,128,67,0,0,107,0,0,0,180,0,0,0,65,0,0,0,97,0,0,0,5,0,0,0,17,0,0,0,18,0,0,0,0,0,0,0,49,56,98,116,68,98,118,116,84,114,101,101,67,111,108,108,105,100,101,114,0,0,0,0,0,83,0,0,104,67,0,0,168,38,0,0,0,0,0,0,49,50,98,116,68,105,115,112,97,116,99,104,101,114,0,0,216,82,0,0,144,67,0,0,0,0,0,0,80,68,0,0,181,0,0,0,182,0,0,0,15,0,0,0,67,0,0,0,23,0,0,0,77,0,0,0,78,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,98,116,79,112,116,105,109,105,122,101,100,66,118,104,78,111,100,101,68,97,116,97,0,0,98,116,81,117,97,110,116,105,122,101,100,66,118,104,78,111,100,101,68,97,116,97,0,0,98,116,66,118,104,83,117,98,116,114,101,101,73,110,102,111,68,97,116,97,0,0,0,0,98,116,81,117,97,110,116,105,122,101,100,66,118,104,70,108,111,97,116,68,97,116,97,0,49,52,98,116,81,117,97,110,116,105,122,101,100,66,118,104,0,0,0,0,0,0,0,0,216,82,0,0,56,68,0,0,0,0,0,0,192,68,0,0,81,0,0,0,183,0,0,0,22,0,0,0,1,0,0,0,50,53,98,116,84,114,105,97,110,103,108,101,82,97,121,99,97,115,116,67,97,108,108,98,97,99,107,0,0,0,0,0,0,83,0,0,112,68,0,0,208,54,0,0,0,0,0,0,50,56,98,116,84,114,105,97,110,103,108,101,67,111,110,118,101,120,99,97,115,116,67,97,108,108,98,97,99,107,0,0,0,83,0,0,160,68,0,0,208,54,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,40,73,0,0,184,0,0,0,185,0,0,0,1,0,0,0,0,0,0,0,51,51,98,116,77,105,110,107,111,119,115,107,105,80,101,110,101,116,114,97,116,105,111,110,68,101,112,116,104,83,111,108,118,101,114,0,0,0,0,0,51,48,98,116,67,111,110,118,101,120,80,101,110,101,116,114,97,116,105,111,110,68,101,112,116,104,83,111,108,118,101,114,0,0,0,0,0,0,0,0,216,82,0,0,248,72,0,0,0,83,0,0,208,72,0,0,32,73,0,0,0,0,0,0,0,0,0,0,8,74,0,0,89,0,0,0,186,0,0,0,66,0,0,0,67,0,0,0,8,0,0,0,0,0,0,0,90,78,51,51,98,116,77,105,110,107,111,119,115,107,105,80,101,110,101,116,114,97,116,105,111,110,68,101,112,116,104,83,111,108,118,101,114,49,50,99,97,108,99,80,101,110,68,101,112,116,104,69,82,50,50,98,116,86,111,114,111,110,111,105,83,105,109,112,108,101,120,83,111,108,118,101,114,80,75,49,51,98,116,67,111,110,118,101,120,83,104,97,112,101,83,52,95,82,75,49,49,98,116,84,114,97,110,115,102,111,114,109,83,55,95,82,57,98,116,86,101,99,116,111,114,51,83,57,95,83,57,95,80,49,50,98,116,73,68,101,98,117,103,68,114,97,119,69,50,48,98,116,73,110,116,101,114,109,101,100,105,97,116,101,82,101,115,117,108,116,0,0,0,0,0,0,0,83,0,0,88,73,0,0,48,31,0,0,0,0,0,0,0,0,0,0,80,74,0,0,187,0,0,0,188,0,0,0,1,0,0,0,0,0,0,0,50,50,98,116,83,117,98,115,105,109,112,108,101,120,67,111,110,118,101,120,67,97,115,116,0,0,0,0,0,0,0,0,0,83,0,0,48,74,0,0,72,75,0,0,0,0,0,0,0,0,0,0,160,74,0,0,184,0,0,0,189,0,0,0,2,0,0,0,0,0,0,0,51,48,98,116,71,106,107,69,112,97,80,101,110,101,116,114,97,116,105,111,110,68,101,112,116,104,83,111,108,118,101,114,0,0,0,0,0,0,0,0,0,83,0,0,120,74,0,0,32,73,0,0,0,0,0,0,0,0,0,0,224,74,0,0,187,0,0,0,190,0,0,0,2,0,0,0,0,0,0,0,49,53,98,116,71,106,107,67,111,110,118,101,120,67,97,115,116,0,0,0,0,0,0,0,0,83,0,0,200,74,0,0,72,75,0,0,0,0,0,0,0,0,0,0,40,75,0,0,89,0,0,0,191,0,0,0,68,0,0,0,69,0,0,0,9,0,0,0,0,0,0,0,49,54,98,116,80,111,105,110,116,67,111,108,108,101,99,116,111,114,0,0,0,0,0,0,0,83,0,0,16,75,0,0,48,31,0,0,0,0,0,0,49,50,98,116,67,111,110,118,101,120,67,97,115,116,0,0,216,82,0,0,56,75,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,75,0,0,187,0,0,0,192,0,0,0,3,0,0,0,0,0,0,0,50,55,98,116,67,111,110,116,105,110,117,111,117,115,67,111,110,118,101,120,67,111,108,108,105,115,105,111,110,0,0,0,0,83,0,0,128,75,0,0,72,75,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,76,0,0,193,0,0,0,194,0,0,0,11,0,0,0,0,0,0,0,49,55,98,116,71,106,107,80,97,105,114,68,101,116,101,99,116,111,114,0,0,0,0,0,51,54,98,116,68,105,115,99,114,101,116,101,67,111,108,108,105,115,105,111,110,68,101,116,101,99,116,111,114,73,110,116,101,114,102,97,99,101,0,0,216,82,0,0,240,75,0,0,0,83,0,0,216,75,0,0,24,76,0,0,0,0,0,0,2,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,51,48,98,116,65,99,116,105,118,97,116,105,110,103,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,0,0,0,0,0,0,0,0,83,0,0,80,76,0,0,208,27,0,0,0,0,0,0,0,0,0,0,192,76,0,0,195,0,0,0,196,0,0,0,12,0,0,0,8,0,0,0,98,0,0,0,0,0,0,0,49,54,98,116,69,109,112,116,121,65,108,103,111,114,105,116,104,109,0,0,0,0,0,0,0,83,0,0,168,76,0,0,208,27,0,0,0,0,0,0,0,0,0,0,24,77,0,0,197,0,0,0,198,0,0,0,13,0,0,0,9,0,0,0,99,0,0,0,0,0,0,0,51,50,98,116,83,112,104,101,114,101,83,112,104,101,114,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,0,0,0,0,0,0,83,0,0,240,76,0,0,120,76,0,0,0,0,0,0,0,0,0,0,88,77,0,0,193,0,0,0,199,0,0,0,14,0,0,0,0,0,0,0,49,54,98,116,66,111,120,66,111,120,68,101,116,101,99,116,111,114,0,0,0,0,0,0,0,83,0,0,64,77,0,0,24,76,0,0,0,0,0,0,0,0,0,0,160,77,0,0,193,0,0,0,200,0,0,0,15,0,0,0,0,0,0,0,50,50,83,112,104,101,114,101,84,114,105,97,110,103,108,101,68,101,116,101,99,116,111,114,0,0,0,0,0,0,0,0,0,83,0,0,128,77,0,0,24,76,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,78,0,0,201,0,0,0,202,0,0,0,30,0,0,0,31,0,0,0,89,0,0,0,0,0,0,0,50,51,98,116,72,97,115,104,101,100,83,105,109,112,108,101,80,97,105,114,67,97,99,104,101,0,0,0,0,0,0,0,216,82,0,0,232,77,0,0,0,0,0,0,56,78,0,0,203,0,0,0,204,0,0,0,49,56,98,116,67,111,110,118,101,120,80,111,108,121,104,101,100,114,111,110,0,0,0,0,216,82,0,0,32,78,0,0,0,0,0,0,168,78,0,0,205,0,0,0,206,0,0,0,57,0,0,0,1,0,0,0,2,0,0,0,81,0,0,0,82,0,0,0,72,0,0,0,100,0,0,0,101,0,0,0,73,0,0,0,51,0,0,0,52,0,0,0,74,0,0,0,25,0,0,0,0,0,0,0,50,54,98,116,84,114,105,97,110,103,108,101,73,110,100,101,120,86,101,114,116,101,120,65,114,114,97,121,0,0,0,0,0,83,0,0,136,78,0,0,128,79,0,0,0,0,0,0,98,116,73,110,116,73,110,100,101,120,68,97,116,97,0,0,98,116,83,104,111,114,116,73,110,116,73,110,100,101,120,84,114,105,112,108,101,116,68,97,116,97,0,0,0,0,0,0,98,116,67,104,97,114,73,110,100,101,120,84,114,105,112,108,101,116,68,97,116,97,0,0,98,116,86,101,99,116,111,114,51,70,108,111,97,116,68,97,116,97,0,0,0,0,0,0,98,116,86,101,99,116,111,114,51,68,111,117,98,108,101,68,97,116,97,0,0,0,0,0,98,116,77,101,115,104,80,97,114,116,68,97,116,97,0,0,98,116,83,116,114,105,100,105,110,103,77,101,115,104,73,110,116,101,114,102,97,99,101,68,97,116,97,0,0,0,0,0,50,51,98,116,83,116,114,105,100,105,110,103,77,101,115,104,73,110,116,101,114,102,97,99,101,0,0,0,0,0,0,0,216,82,0,0,96,79,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,82,111,111,116,0,0,0,0,144,79,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,117,110,99,97,117,103,104,116,0,0,0,0,0,0,0,0,116,101,114,109,105,110,97,116,105,110,103,32,119,105,116,104],"i8",vo,so.GLOBAL_BASE+10240),a([32,37,115,32,101,120,99,101,112,116,105,111,110,32,111,102,32,116,121,112,101,32,37,115,58,32,37,115,0,0,0,0,116,101,114,109,105,110,97,116,105,110,103,32,119,105,116,104,32,37,115,32,101,120,99,101,112,116,105,111,110,32,111,102,32,116,121,112,101,32,37,115,0,0,0,0,0,0,0,0,116,101,114,109,105,110,97,116,105,110,103,32,119,105,116,104,32,37,115,32,102,111,114,101,105,103,110,32,101,120,99,101,112,116,105,111,110,0,0,0,116,101,114,109,105,110,97,116,105,110,103,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,116,104,114,101,97,100,95,111,110,99,101,32,102,97,105,108,117,114,101,32,105,110,32,95,95,99,120,97,95,103,101,116,95,103,108,111,98,97,108,115,95,102,97,115,116,40,41,0,0,0,0,0,0,0,0,99,97,110,110,111,116,32,99,114,101,97,116,101,32,112,116,104,114,101,97,100,32,107,101,121,32,102,111,114,32,95,95,99,120,97,95,103,101,116,95,103,108,111,98,97,108,115,40,41,0,0,0,0,0,0,0,99,97,110,110,111,116,32,122,101,114,111,32,111,117,116,32,116,104,114,101,97,100,32,118,97,108,117,101,32,102,111,114,32,95,95,99,120,97,95,103,101,116,95,103,108,111,98,97,108,115,40,41,0,0,0,0,0,0,0,0,128,81,0,0,207,0,0,0,208,0,0,0,90,0,0,0,0,0,0,0,115,116,100,58,58,98,97,100,95,97,108,108,111,99,0,0,83,116,57,98,97,100,95,97,108,108,111,99,0,0,0,0,0,83,0,0,112,81,0,0,208,81,0,0,0,0,0,0,116,101,114,109,105,110,97,116,101,95,104,97,110,100,108,101,114,32,117,110,101,120,112,101,99,116,101,100,108,121,32,114,101,116,117,114,110,101,100,0,0,0,0,0,0,0,0,0,83,116,57,101,120,99,101,112,116,105,111,110,0,0,0,0,216,82,0,0,192,81,0,0,83,116,57,116,121,112,101,95,105,110,102,111,0,0,0,0,216,82,0,0,216,81,0,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,54,95,95,115,104,105,109,95,116,121,112,101,95,105,110,102,111,69,0,0,0,0,0,0,0,0,0,83,0,0,240,81,0,0,232,81,0,0,0,0,0,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,55,95,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,0,0,0,0,0,0,0,83,0,0,40,82,0,0,24,82,0,0,0,0,0,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,57,95,95,112,111,105,110,116,101,114,95,116,121,112,101,95,105,110,102,111,69,0,0,0,0,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,55,95,95,112,98,97,115,101,95,116,121,112,101,95,105,110,102,111,69,0,0,0,0,0,0,0,0,83,0,0,136,82,0,0,24,82,0,0,0,0,0,0,0,83,0,0,96,82,0,0,176,82,0,0,0,0,0,0,0,0,0,0,80,82,0,0,209,0,0,0,210,0,0,0,211,0,0,0,212,0,0,0,32,0,0,0,4,0,0,0,16,0,0,0,62,0,0,0,0,0,0,0,72,83,0,0,209,0,0,0,213,0,0,0,211,0,0,0,212,0,0,0,32,0,0,0,5,0,0,0,17,0,0,0,63,0,0,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,48,95,95,115,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,0,0,0,0,83,0,0,32,83,0,0,80,82,0,0,0,0,0,0,0,0,0,0,168,83,0,0,209,0,0,0,214,0,0,0,211,0,0,0,212,0,0,0,32,0,0,0,6,0,0,0,18,0,0,0,64,0,0,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,49,95,95,118,109,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,0,0,0,83,0,0,128,83,0,0,80,82,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"i8",vo,so.GLOBAL_BASE+20480);
var _n=so.alignMemory(a(12,"i8",yo),8);i(_n%8==0);var mn=$o;t._i64Subtract=_h;var gn=Zo,yn=0,bn={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86},vn={last:0,caught:[],infos:{},deAdjust:function(t){if(!t||vn.infos[t])return t;for(var e in vn.infos){var i=vn.infos[e];if(i.adjusted===t)return e}return t},addRef:function(t){if(t){var e=vn.infos[t];e.refcount++}},decRef:function(t){if(t){var e=vn.infos[t];i(e.refcount>0),e.refcount--,0===e.refcount&&(e.destructor&&so.dynCall("vi",e.destructor,[t]),delete vn.infos[t],___cxa_free_exception(t))}},clearRef:function(t){if(t){var e=vn.infos[t];e.refcount=0}}};t._memset=Em;var Mn=en;t._strlen=Hn;var Sn=nn,Tn=void 0,xn=void 0,Cn={};t._i64Add=yf;var En=1,An=ln,wn=on,Rn=rn,Dn=tn;t._memcpy=l_,t._memmove=gu,t._malloc=ge,t._llvm_bswap_i32=lm;var Pn=a(1,"i32*",yo);yn=so.staticAlloc(4),Eo[yn>>2]=0,ae.ret=a([0],"i8",yo),ko=Ho=so.alignMemory(Vo),Lo=!0,Io=ko+Fo,Oo=Jo=so.alignMemory(Io),i(Go>Oo,"TOTAL_MEMORY not big enough for stack");var Bn=a([8,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,7,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0],"i8",bo);t.asmGlobalArg={Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:0/0,Infinity:1/0,byteLength:Do},t.asmLibraryArg={abort:gi,assert:i,invoke_viiiii:Ae,invoke_vid:we,invoke_vi:Re,invoke_viiidii:De,invoke_vii:Pe,invoke_iiiiiiiiiii:Be,invoke_ii:Ve,invoke_viidi:Le,invoke_viddiii:ke,invoke_vidii:He,invoke_iiiii:Ie,invoke_vidi:Oe,invoke_diiiiiiii:Je,invoke_viiiiddddiid:Ne,invoke_diiiii:Fe,invoke_iiii:Ge,invoke_viiiiii:ze,invoke_iiid:je,invoke_di:Ue,invoke_iiiiiii:We,invoke_diiidii:Xe,invoke_viidii:qe,invoke_viiiiiii:Ke,invoke_viiiiiiiii:Ye,invoke_viiiiiiiiii:Qe,invoke_iii:Ze,invoke_diii:$e,invoke_diiiiiiiiii:ti,invoke_viiiid:ei,invoke_diiiiiiiii:ii,invoke_did:ri,invoke_viiiidddddidi:oi,invoke_diidii:ni,invoke_diiii:ai,invoke_iiiiiiiiii:si,invoke_viiid:li,invoke_viii:ci,invoke_v:hi,invoke_viid:ui,invoke_iidid:di,invoke_viiii:pi,_cosf:mn,_send:ie,_sqrtf:Sn,___cxa_guard_acquire:de,___setErrNo:q,_vfprintf:Ee,_atan2f:wn,__ZSt18uncaught_exceptionv:Y,___cxa_guard_release:ue,_pwrite:re,_acosf:Mn,_asinf:Rn,_fabsf:gn,_sbrk:me,_llvm_pow_f32:An,___cxa_begin_catch:fe,_sinf:Dn,_fileno:ne,___resumeException:Q,___cxa_find_matching_catch:Z,_sysconf:K,__reallyNegative:Te,_pthread_getspecific:se,_emscripten_memcpy_big:_e,_pthread_once:ee,_pthread_key_create:le,_write:oe,___errno_location:be,_pthread_setspecific:ce,_fputc:ae,___cxa_throw:$,_abort:te,___cxa_allocate_exception:ye,_fwrite:Se,_time:Me,_fprintf:Ce,_gettimeofday:pe,__formatString:xe,_emscripten_asm_const_8:X,_llvm_trap:ve,___cxa_pure_virtual:he,STACKTOP:Ho,STACK_MAX:Io,tempDoublePtr:_n,ABORT:fo,cttz_i8:Bn,_stderr:Pn};{var Vn=function(t,e,i){"use asm";function r(t){return PD(t)&16777215||PD(t)<=16777215||PD(t)>2147483648?!1:(TD=new _D(t),xD=new mD(t),CD=new gD(t),ED=new yD(t),AD=new bD(t),wD=new vD(t),RD=new MD(t),DD=new SD(t),i=t,!0)}function o(t){t|=0;var e=0;return e=BD,BD=BD+t|0,BD=BD+15&-16,e|0}function n(){return BD|0}function a(t){t|=0,BD=t}function s(t,e){t|=0,e|=0,kD||(kD=t,HD=e)}function l(t){t|=0,OD=t}function c(){return OD|0}function h(t,e,i,r){t|=0,e=+e,i=+i,r=+r;var o=0,n=0,a=0;o=+GD(+e),n=+GD(+i),a=+GD(+r),e=+zD(+e),i=+zD(+i),r=+zD(+r),RD[t>>2]=n*a,RD[t+4>>2]=i*e*a-o*r,RD[t+8>>2]=i*o*a+e*r,RD[t+12>>2]=0,RD[t+16>>2]=n*r,RD[t+20>>2]=i*e*r+o*a,RD[t+24>>2]=i*o*r-e*a,RD[t+28>>2]=0,RD[t+32>>2]=-i,RD[t+36>>2]=n*e,RD[t+40>>2]=n*o,RD[t+44>>2]=0}function u(t,e){t|=0,e|=0,qf(t,e)}function d(t){t|=0,t&&ww(t)}function p(){for(var t=0,e=0;;){if(t=Aw(8)|0){e=6;break}if(t=CD[5230]|0,CD[5230]=t+0,!t){e=5;break}ZP[t&3]()}if((e|0)==5)e=cP(4)|0,CD[e>>2]=20816,sP(e|0,20864,207);else if((e|0)==6)return CD[t>>2]=0,CD[t+4>>2]=0,xD[t+4>>1]=1,xD[t+6>>1]=-1,CD[t>>2]=1032,t|0;return 0}function f(t,e,i,r,o,n,a,s){return t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,+ +AP[CD[(CD[t>>2]|0)+12>>2]&1](t,e,i,r,o,n,a,s)}function _(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function m(t,e){t|=0,e|=0;var i=0;return CD[5108]=(CD[5108]|0)+1,i=Aw(95)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,i=i+4+15&-16):i=0,ox(i,t,e,1),i|0}function g(t,e,i){t|=0,e|=0,i|=0;var r=0;return CD[5108]=(CD[5108]|0)+1,r=Aw(95)|0,r?(CD[(r+4+15&-16)+-4>>2]=r,r=r+4+15&-16):r=0,ox(r,t,e,i),r|0}function y(t,e){t|=0,e|=0,bP[CD[(CD[t>>2]|0)+24>>2]&127](t,e)}function b(t,e,i){t|=0,e=+e,i|=0,EP[CD[(CD[t>>2]|0)+32>>2]&15](t,e,i)}function v(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function M(){for(var t=0,e=0;;){if(t=Aw(196)|0){e=6;break}if(t=CD[5230]|0,CD[5230]=t+0,!t){e=5;break}ZP[t&3]()}if((e|0)==5)e=cP(4)|0,CD[e>>2]=20816,sP(e|0,20864,207);else if((e|0)==6)return ff(t,0),t|0;return 0}function S(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function T(t){t|=0,t&&ww(t)}function x(){var t=0;return CD[5108]=(CD[5108]|0)+1,t=Aw(215)|0,t?(CD[(t+4+15&-16)+-4>>2]=t,t=t+4+15&-16):t=0,CD[t>>2]=3976,TD[t+20>>0]=1,CD[t+16>>2]=0,CD[t+8>>2]=0,CD[t+12>>2]=0,TD[t+40>>0]=1,CD[t+36>>2]=0,CD[t+28>>2]=0,CD[t+32>>2]=0,TD[t+60>>0]=1,CD[t+56>>2]=0,CD[t+48>>2]=0,CD[t+52>>2]=0,TD[t+80>>0]=1,CD[t+76>>2]=0,CD[t+68>>2]=0,CD[t+72>>2]=0,TD[t+100>>0]=1,CD[t+96>>2]=0,CD[t+88>>2]=0,CD[t+92>>2]=0,TD[t+120>>0]=1,CD[t+116>>2]=0,CD[t+108>>2]=0,CD[t+112>>2]=0,TD[t+140>>0]=1,CD[t+136>>2]=0,CD[t+128>>2]=0,CD[t+132>>2]=0,TD[t+160>>0]=1,CD[t+156>>2]=0,CD[t+148>>2]=0,CD[t+152>>2]=0,TD[t+180>>0]=1,CD[t+176>>2]=0,CD[t+168>>2]=0,CD[t+172>>2]=0,CD[t+192>>2]=0,t|0}function C(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function E(t){return t|=0,+ +RD[t>>2]}function A(t,e){t|=0,e=+e,RD[t>>2]=e}function w(t){return t|=0,CD[t+4>>2]|0}function R(t,e){t|=0,e|=0,CD[t+4>>2]=e}function D(t){return t|=0,CD[t+8>>2]|0}function P(t,e){t|=0,e|=0,CD[t+8>>2]=e}function B(t){return t|=0,+ +RD[t+12>>2]}function V(t,e){t|=0,e=+e,RD[t+12>>2]=e}function L(t){return t|=0,(TD[t+16>>0]&1)!=0|0}function k(t,e){t|=0,e|=0,TD[t+16>>0]=e&1}function H(t){return t|=0,(TD[t+24>>0]&1)!=0|0}function I(t,e){t|=0,e|=0,TD[t+24>>0]=e&1}function O(t){return t|=0,(TD[t+25>>0]&1)!=0|0}function J(t,e){t|=0,e|=0,TD[t+25>>0]=e&1}function N(t){return t|=0,(TD[t+26>>0]&1)!=0|0}function F(t,e){t|=0,e|=0,TD[t+26>>0]=e&1}function G(t){return t|=0,+ +RD[t+28>>2]}function z(t,e){t|=0,e=+e,RD[t+28>>2]=e}function j(t){return t|=0,(TD[t+32>>0]&1)!=0|0}function U(t,e){t|=0,e|=0,TD[t+32>>0]=e&1}function W(t){return t|=0,+ +RD[t+36>>2]}function X(t,e){t|=0,e=+e,RD[t+36>>2]=e}function q(t){t|=0,t&&ww(t)}function K(t,e){t=+t,e=+e;var i=0;return CD[5108]=(CD[5108]|0)+1,i=Aw(75)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,i=i+4+15&-16):i=0,CD[i+8>>2]=0,RD[i+12>>2]=1,RD[i+16>>2]=1,RD[i+20>>2]=1,RD[i+24>>2]=0,RD[i+44>>2]=.03999999910593033,CD[i>>2]=14096,CD[i+4>>2]=10,CD[i+52>>2]=1,RD[i+28>>2]=t,RD[i+32>>2]=e*.5,RD[i+36>>2]=t,RD[i+40>>2]=0,i|0}function Y(t,e){t|=0,e|=0,bP[CD[(CD[t>>2]|0)+24>>2]&127](t,e)}function Q(t,e,i){t|=0,e=+e,i|=0,EP[CD[(CD[t>>2]|0)+32>>2]&15](t,e,i)}function Z(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function $(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function te(t,e){t|=0,e|=0;var i=0;return CD[5108]=(CD[5108]|0)+1,i=Aw(135)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,i=i+4+15&-16):i=0,ef(i,t,e,16384,0,0),i|0}function ee(t,e,i){t|=0,e|=0,i|=0;var r=0;return CD[5108]=(CD[5108]|0)+1,r=Aw(135)|0,r?(CD[(r+4+15&-16)+-4>>2]=r,r=r+4+15&-16):r=0,ef(r,t,e,i&65535,0,0),r|0}function ie(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;return CD[5108]=(CD[5108]|0)+1,o=Aw(135)|0,o?(CD[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,ef(o,t,e,i&65535,r,0),o|0}function re(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0;return CD[5108]=(CD[5108]|0)+1,n=Aw(135)|0,n?(CD[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,ef(n,t,e,i&65535,r,o),n|0}function oe(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function ne(){var t=0,e=0,i=0;return CD[5108]=(CD[5108]|0)+1,t=Aw(307)|0,t?(CD[(t+4+15&-16)+-4>>2]=t,e=t+4+15&-16):e=0,RD[e+164>>2]=1,RD[e+168>>2]=1,RD[e+172>>2]=1,RD[e+176>>2]=0,CD[e+180>>2]=0,RD[e+184>>2]=0xde0b6b000000000,t=e+188|0,CD[t>>2]=0,CD[t+4>>2]=0,CD[t+8>>2]=0,CD[t+12>>2]=0,CD[e+204>>2]=1,CD[e+208>>2]=-1,CD[e+212>>2]=-1,CD[e+216>>2]=1,RD[e+220>>2]=0,RD[e+224>>2]=.5,RD[e+228>>2]=0,RD[e+232>>2]=0,CD[e+240>>2]=0,RD[e+244>>2]=1,t=e+248|0,CD[t>>2]=0,CD[t+4>>2]=0,CD[t+8>>2]=0,CD[t+12>>2]=0,RD[e+4>>2]=1,t=e+8|0,CD[t>>2]=0,CD[t+4>>2]=0,CD[t+8>>2]=0,CD[t+12>>2]=0,RD[e+24>>2]=1,t=e+28|0,CD[t>>2]=0,CD[t+4>>2]=0,CD[t+8>>2]=0,CD[t+12>>2]=0,RD[e+44>>2]=1,t=e+48|0,CD[t>>2]=0,CD[t+4>>2]=0,CD[t+8>>2]=0,CD[t+12>>2]=0,CD[t+16>>2]=0,TD[e+280>>0]=1,CD[e+276>>2]=0,CD[e+268>>2]=0,CD[e+272>>2]=0,CD[e+236>>2]=4,CD[e>>2]=5464,CD[5108]=(CD[5108]|0)+1,(t=Aw(95)|0)?(CD[(t+4+15&-16)+-4>>2]=t,t+4+15&-16?(rf(t+4+15&-16),t=t+4+15&-16,i=e+284|0,CD[i>>2]=t,e|0):(t=0,i=e+284|0,CD[i>>2]=t,e|0)):(i=0,t=e+284|0,CD[t>>2]=i,e|0)}function ae(t,e,i){return t|=0,e|=0,i|=0,CD[t+164>>2]=CD[e>>2],CD[t+164+4>>2]=CD[e+4>>2],CD[t+164+8>>2]=CD[e+8>>2],CD[t+164+12>>2]=CD[e+12>>2],((+RD[e>>2]==1?+RD[e+4>>2]==1:0)?+RD[e+8>>2]==1:0)?(i=0,t=t+180|0,void(CD[t>>2]=i)):(t=t+180|0,void(CD[t>>2]=i))}function se(t){return t|=0,CD[t+192>>2]|0}function le(t,e){t|=0,e=+e,RD[t+184>>2]=e}function ce(t,e){t|=0,e|=0,(CD[t+216>>2]&-2|0)!=4&&(CD[t+216>>2]=e)}function he(t,e){t|=0,e|=0,CD[t+216>>2]=e}function ue(t){t|=0,CD[t+204>>2]&3||((CD[t+216>>2]&-2|0)!=4&&(CD[t+216>>2]=1),RD[t+220>>2]=0)}function de(t,e){t|=0,e|=0,(e?0:(CD[t+204>>2]&3|0)!=0)||((CD[t+216>>2]&-2|0)!=4&&(CD[t+216>>2]=1),RD[t+220>>2]=0)}function pe(t){return t|=0,t=CD[t+216>>2]|0,((t|0)==2?0:(t|0)!=5)|0}function fe(t){return t|=0,(CD[t+204>>2]&2|0)!=0|0}function _e(t,e){t|=0,e=+e,CD[t+260>>2]=(CD[t+260>>2]|0)+1,RD[t+228>>2]=e}function me(t,e){t|=0,e=+e,CD[t+260>>2]=(CD[t+260>>2]|0)+1,RD[t+224>>2]=e}function ge(t,e){t|=0,e=+e,CD[t+260>>2]=(CD[t+260>>2]|0)+1,RD[t+232>>2]=e}function ye(t){return t|=0,t+4|0}function be(t){return t|=0,CD[t+204>>2]|0}function ve(t,e){t|=0,e|=0,CD[t+204>>2]=e}function Me(t,e){t|=0,e|=0,CD[t+260>>2]=(CD[t+260>>2]|0)+1,CD[t+4>>2]=CD[e>>2],CD[t+4+4>>2]=CD[e+4>>2],CD[t+4+8>>2]=CD[e+8>>2],CD[t+4+12>>2]=CD[e+12>>2],CD[t+20>>2]=CD[e+16>>2],CD[t+20+4>>2]=CD[e+16+4>>2],CD[t+20+8>>2]=CD[e+16+8>>2],CD[t+20+12>>2]=CD[e+16+12>>2],CD[t+36>>2]=CD[e+32>>2],CD[t+36+4>>2]=CD[e+32+4>>2],CD[t+36+8>>2]=CD[e+32+8>>2],CD[t+36+12>>2]=CD[e+32+12>>2],CD[t+52>>2]=CD[e+48>>2],CD[t+52+4>>2]=CD[e+48+4>>2],CD[t+52+8>>2]=CD[e+48+8>>2],CD[t+52+12>>2]=CD[e+48+12>>2]}function Se(t,e){t|=0,e|=0,bP[CD[(CD[t>>2]|0)+12>>2]&127](t,e)}function Te(t,e){t|=0,e=+e,RD[t+252>>2]=e}function xe(t,e){t|=0,e=+e,RD[t+248>>2]=e}function Ce(t){return t|=0,CD[t+268>>2]|0}function Ee(t,e){return t|=0,e|=0,CD[(CD[t+276>>2]|0)+(e<<2)>>2]|0}function Ae(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+8>>2]&255](t)}function we(t,e,i){t=+t,e|=0,i|=0;for(var r=0,o=0;;){if(r=Aw(140)|0){o=6;break}if(r=CD[5230]|0,CD[5230]=r+0,!r){o=5;break}ZP[r&3]()}if((o|0)==5)i=cP(4)|0,CD[i>>2]=20816,sP(i|0,20864,207);else if((o|0)==6)return RD[r>>2]=t,CD[r+4>>2]=e,CD[r+72>>2]=i,CD[r+76>>2]=0,CD[r+76+4>>2]=0,CD[r+76+8>>2]=0,CD[r+76+12>>2]=0,CD[r+76+16>>2]=0,CD[r+76+20>>2]=0,RD[r+100>>2]=.5,RD[r+104>>2]=0,RD[r+108>>2]=0,RD[r+112>>2]=.800000011920929,RD[r+116>>2]=1,TD[r+120>>0]=0,RD[r+124>>2]=.004999999888241291,RD[r+128>>2]=.009999999776482582,RD[r+132>>2]=.009999999776482582,RD[r+136>>2]=.009999999776482582,$f(r+8|0),r|0;return 0}function Re(t,e,i,r){t=+t,e|=0,i|=0,r|=0;for(var o=0,n=0;;){if(o=Aw(140)|0){n=6;break}if(o=CD[5230]|0,CD[5230]=o+0,!o){n=5;break}ZP[o&3]()}if((n|0)==5)i=cP(4)|0,CD[i>>2]=20816,sP(i|0,20864,207);else if((n|0)==6)return RD[o>>2]=t,CD[o+4>>2]=e,CD[o+72>>2]=i,CD[o+76>>2]=CD[r>>2],CD[o+76+4>>2]=CD[r+4>>2],CD[o+76+8>>2]=CD[r+8>>2],CD[o+76+12>>2]=CD[r+12>>2],RD[o+92>>2]=0,RD[o+96>>2]=0,RD[o+100>>2]=.5,RD[o+104>>2]=0,RD[o+108>>2]=0,RD[o+112>>2]=.800000011920929,RD[o+116>>2]=1,TD[o+120>>0]=0,RD[o+124>>2]=.004999999888241291,RD[o+128>>2]=.009999999776482582,RD[o+132>>2]=.009999999776482582,RD[o+136>>2]=.009999999776482582,$f(o+8|0),o|0;return 0}function De(t){return t|=0,+ +RD[t+92>>2]}function Pe(t,e){t|=0,e=+e,RD[t+92>>2]=e}function Be(t){return t|=0,+ +RD[t+96>>2]}function Ve(t,e){t|=0,e=+e,RD[t+96>>2]=e}function Le(t){return t|=0,+ +RD[t+100>>2]}function ke(t,e){t|=0,e=+e,RD[t+100>>2]=e}function He(t){return t|=0,+ +RD[t+104>>2]}function Ie(t,e){t|=0,e=+e,RD[t+104>>2]=e}function Oe(t){return t|=0,+ +RD[t+108>>2]}function Je(t,e){t|=0,e=+e,RD[t+108>>2]=e}function Ne(t){return t|=0,+ +RD[t+112>>2]}function Fe(t,e){t|=0,e=+e,RD[t+112>>2]=e}function Ge(t){return t|=0,+ +RD[t+116>>2]}function ze(t,e){t|=0,e=+e,RD[t+116>>2]=e}function je(t){return t|=0,(TD[t+120>>0]&1)!=0|0}function Ue(t,e){t|=0,e|=0,TD[t+120>>0]=e&1}function We(t){return t|=0,+ +RD[t+124>>2]}function Xe(t,e){t|=0,e=+e,RD[t+124>>2]=e}function qe(t){return t|=0,+ +RD[t+128>>2]}function Ke(t,e){t|=0,e=+e,RD[t+128>>2]=e}function Ye(t){return t|=0,+ +RD[t+132>>2]}function Qe(t,e){t|=0,e=+e,RD[t+132>>2]=e}function Ze(t){return t|=0,+ +RD[t+136>>2]}function $e(t,e){t|=0,e=+e,RD[t+136>>2]=e}function ti(t){t|=0,t&&ww(t)}function ei(t){return t|=0,t+48|0}function ii(t){return t|=0,t+32|0}function ri(t){return t|=0,+ +RD[t+80>>2]}function oi(t){return t|=0,t|0}function ni(t,e){t|=0,e|=0,CD[t>>2]=CD[e>>2],CD[t+4>>2]=CD[e+4>>2],CD[t+8>>2]=CD[e+8>>2],CD[t+12>>2]=CD[e+12>>2]}function ai(t){return t|=0,t+16|0}function si(t,e){t|=0,e|=0,CD[t+16>>2]=CD[e>>2],CD[t+16+4>>2]=CD[e+4>>2],CD[t+16+8>>2]=CD[e+8>>2],CD[t+16+12>>2]=CD[e+12>>2]}function li(t){return t|=0,t+32|0}function ci(t,e){t|=0,e|=0,CD[t+32>>2]=CD[e>>2],CD[t+32+4>>2]=CD[e+4>>2],CD[t+32+8>>2]=CD[e+8>>2],CD[t+32+12>>2]=CD[e+12>>2]}function hi(t){return t|=0,t+48|0}function ui(t,e){t|=0,e|=0,CD[t+48>>2]=CD[e>>2],CD[t+48+4>>2]=CD[e+4>>2],CD[t+48+8>>2]=CD[e+8>>2],CD[t+48+12>>2]=CD[e+12>>2]}function di(t){return t|=0,t+64|0}function pi(t,e){t|=0,e|=0,CD[t+64>>2]=CD[e>>2],CD[t+64+4>>2]=CD[e+4>>2],CD[t+64+8>>2]=CD[e+8>>2],CD[t+64+12>>2]=CD[e+12>>2]}function fi(t){t|=0,t&&ww(t)}function _i(t,e,i){t|=0,e|=0,i|=0;var r=0;return CD[5108]=(CD[5108]|0)+1,r=Aw(1331)|0,r?(CD[(r+4+15&-16)+-4>>2]=r,r=r+4+15&-16):r=0,zb(r,t,e,i),r|0}function mi(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0;return CD[5108]=(CD[5108]|0)+1,n=Aw(1331)|0,n?(CD[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,Gb(n,t,e,i,r,o),n|0}function gi(t,e){t|=0,e|=0,CD[t+680>>2]=CD[e>>2],CD[t+680+4>>2]=CD[e+4>>2],CD[t+680+8>>2]=CD[e+8>>2],CD[t+680+12>>2]=CD[e+12>>2]}function yi(t,e){t|=0,e|=0,CD[t+696>>2]=CD[e>>2],CD[t+696+4>>2]=CD[e+4>>2],CD[t+696+8>>2]=CD[e+8>>2],CD[t+696+12>>2]=CD[e+12>>2]}function bi(t,e){t|=0,e|=0;var i=0,r=0;for(r=0;;){if((r|0)==3)break;i=+Rw(+RD[e+(r<<2)>>2],6.2831854820251465),i<-3.1415927410125732?i+=6.2831854820251465:i>3.1415927410125732&&(i+=-6.2831854820251465),RD[t+868+(r<<6)>>2]=i,r=r+1|0}}function vi(t,e){t|=0,e|=0;var i=0,r=0;for(r=0;;){if((r|0)==3)break;i=+Rw(+RD[e+(r<<2)>>2],6.2831854820251465),i<-3.1415927410125732?i+=6.2831854820251465:i>3.1415927410125732&&(i+=-6.2831854820251465),RD[t+868+(r<<6)+4>>2]=i,r=r+1|0}}function Mi(t,e){t|=0,e|=0,TD[t+21>>0]=e&1}function Si(t){return t|=0,+ +RD[t+16>>2]}function Ti(t,e){t|=0,e=+e,RD[t+16>>2]=e}function xi(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function Ci(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function Ei(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function Ai(t,e,i){return t|=0,e|=0,i|=0,CD[t+164>>2]=CD[e>>2],CD[t+164+4>>2]=CD[e+4>>2],CD[t+164+8>>2]=CD[e+8>>2],CD[t+164+12>>2]=CD[e+12>>2],((+RD[e>>2]==1?+RD[e+4>>2]==1:0)?+RD[e+8>>2]==1:0)?(i=0,t=t+180|0,void(CD[t>>2]=i)):(t=t+180|0,void(CD[t>>2]=i))}function wi(t){return t|=0,CD[t+192>>2]|0}function Ri(t,e){t|=0,e=+e,RD[t+184>>2]=e}function Di(t,e){t|=0,e|=0,(CD[t+216>>2]&-2|0)!=4&&(CD[t+216>>2]=e)}function Pi(t,e){t|=0,e|=0,CD[t+216>>2]=e}function Bi(t){t|=0,CD[t+204>>2]&3||((CD[t+216>>2]&-2|0)!=4&&(CD[t+216>>2]=1),RD[t+220>>2]=0)}function Vi(t,e){t|=0,e|=0,(e?0:(CD[t+204>>2]&3|0)!=0)||((CD[t+216>>2]&-2|0)!=4&&(CD[t+216>>2]=1),RD[t+220>>2]=0)}function Li(t){return t|=0,t=CD[t+216>>2]|0,((t|0)==2?0:(t|0)!=5)|0}function ki(t){return t|=0,(CD[t+204>>2]&2|0)!=0|0}function Hi(t,e){t|=0,e=+e,CD[t+260>>2]=(CD[t+260>>2]|0)+1,RD[t+228>>2]=e}function Ii(t,e){t|=0,e=+e,CD[t+260>>2]=(CD[t+260>>2]|0)+1,RD[t+224>>2]=e}function Oi(t,e){t|=0,e=+e,CD[t+260>>2]=(CD[t+260>>2]|0)+1,RD[t+232>>2]=e}function Ji(t){return t|=0,t+4|0}function Ni(t){return t|=0,CD[t+204>>2]|0}function Fi(t,e){t|=0,e|=0,CD[t+204>>2]=e}function Gi(t,e){t|=0,e|=0,CD[t+260>>2]=(CD[t+260>>2]|0)+1,CD[t+4>>2]=CD[e>>2],CD[t+4+4>>2]=CD[e+4>>2],CD[t+4+8>>2]=CD[e+8>>2],CD[t+4+12>>2]=CD[e+12>>2],CD[t+20>>2]=CD[e+16>>2],CD[t+20+4>>2]=CD[e+16+4>>2],CD[t+20+8>>2]=CD[e+16+8>>2],CD[t+20+12>>2]=CD[e+16+12>>2],CD[t+36>>2]=CD[e+32>>2],CD[t+36+4>>2]=CD[e+32+4>>2],CD[t+36+8>>2]=CD[e+32+8>>2],CD[t+36+12>>2]=CD[e+32+12>>2],CD[t+52>>2]=CD[e+48>>2],CD[t+52+4>>2]=CD[e+48+4>>2],CD[t+52+8>>2]=CD[e+48+8>>2],CD[t+52+12>>2]=CD[e+48+12>>2]}function zi(t,e){t|=0,e|=0,bP[CD[(CD[t>>2]|0)+12>>2]&127](t,e)}function ji(t,e){t|=0,e=+e,RD[t+252>>2]=e}function Ui(t,e){t|=0,e=+e,RD[t+248>>2]=e}function Wi(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+8>>2]&255](t)}function Xi(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0;return CD[5108]=(CD[5108]|0)+1,r=Aw(343)|0,r?(CD[(r+4+15&-16)+-4>>2]=r,s=r+4+15&-16):s=0,TD[s+20>>0]=1,CD[s+16>>2]=0,CD[s+8>>2]=0,CD[s+12>>2]=0,CD[s+24>>2]=t,RD[s+28>>2]=0,CD[s+32>>2]=0,CD[s+36>>2]=1,RD[s+40>>2]=1,TD[s+44>>0]=1,CD[s+48>>2]=0,TD[s+52>>0]=0,TD[s+53>>0]=1,TD[s+54>>0]=1,RD[s+56>>2]=.03999999910593033,TD[s+60>>0]=0,RD[s+64>>2]=0,CD[s+68>>2]=e,CD[s+72>>2]=0,TD[s+76>>0]=1,CD[s+80>>2]=0,CD[s+84>>2]=0,CD[s+88>>2]=0,RD[s+92>>2]=.6000000238418579,RD[s+96>>2]=1,RD[s+100>>2]=.30000001192092896,RD[s+104>>2]=.01666666753590107,RD[s+108>>2]=0,RD[s+116>>2]=20,CD[s+112>>2]=10,RD[s+124>>2]=.20000000298023224,RD[s+128>>2]=.800000011920929,RD[s+132>>2]=0,RD[s+120>>2]=1,CD[s+136>>2]=1,RD[s+140>>2]=-.03999999910593033,RD[s+144>>2]=.10000000149011612,RD[s+148>>2]=0,RD[s+152>>2]=.8500000238418579,CD[s+156>>2]=260,CD[s+160>>2]=2,CD[s+164>>2]=128,RD[s+168>>2]=100,RD[s+172>>2]=1.0000000150474662e30,CD[s>>2]=1568,TD[s+192>>0]=1,CD[s+188>>2]=0,CD[s+180>>2]=0,CD[s+184>>2]=0,n=s+196|0,CD[n>>2]=0,a=s+200|0,CD[a>>2]=i,TD[s+224>>0]=1,CD[s+220>>2]=0,CD[s+212>>2]=0,CD[s+216>>2]=0,TD[s+244>>0]=1,CD[s+240>>2]=0,CD[s+232>>2]=0,CD[s+236>>2]=0,RD[s+248>>2]=0,RD[s+252>>2]=-10,e=s+256|0,TD[s+274>>0]=0,TD[s+275>>0]=0,CD[e>>2]=0,CD[e+4>>2]=0,CD[e+8>>2]=0,CD[e+12>>2]=0,TD[s+292>>0]=1,CD[s+288>>2]=0,CD[s+280>>2]=0,CD[s+284>>2]=0,CD[s+296>>2]=0,TD[s+300>>0]=1,TD[s+320>>0]=1,CD[s+316>>2]=0,CD[s+308>>2]=0,CD[s+312>>2]=0,i?TD[s+273>>0]=0:(CD[5108]=(CD[5108]|0)+1,e=Aw(215)|0,e?(CD[(e+4+15&-16)+-4>>2]=e,e=e+4+15&-16):e=0,CD[e>>2]=3976,TD[e+20>>0]=1,CD[e+16>>2]=0,CD[e+8>>2]=0,CD[e+12>>2]=0,TD[e+40>>0]=1,CD[e+36>>2]=0,CD[e+28>>2]=0,CD[e+32>>2]=0,TD[e+60>>0]=1,CD[e+56>>2]=0,CD[e+48>>2]=0,CD[e+52>>2]=0,TD[e+80>>0]=1,CD[e+76>>2]=0,CD[e+68>>2]=0,CD[e+72>>2]=0,TD[e+100>>0]=1,CD[e+96>>2]=0,CD[e+88>>2]=0,CD[e+92>>2]=0,TD[e+120>>0]=1,CD[e+116>>2]=0,CD[e+108>>2]=0,CD[e+112>>2]=0,TD[e+140>>0]=1,CD[e+136>>2]=0,CD[e+128>>2]=0,CD[e+132>>2]=0,TD[e+160>>0]=1,CD[e+156>>2]=0,CD[e+148>>2]=0,CD[e+152>>2]=0,TD[e+180>>0]=1,CD[e+176>>2]=0,CD[e+168>>2]=0,CD[e+172>>2]=0,CD[e+192>>2]=0,CD[a>>2]=e,TD[s+273>>0]=1),CD[5108]=(CD[5108]|0)+1,r=Aw(87)|0,((r|0)!=0?(o=r+4+15&-16,CD[o+-4>>2]=r,(r+4+15&-16|0)!=0):0)?(CD[(r+4+15&-16)>>2]=6920,TD[o+20>>0]=1,CD[o+16>>2]=0,CD[o+8>>2]=0,CD[o+12>>2]=0,TD[o+40>>0]=1,CD[o+36>>2]=0,CD[o+28>>2]=0,CD[o+32>>2]=0,TD[o+60>>0]=1,CD[o+56>>2]=0,CD[o+48>>2]=0,CD[o+52>>2]=0,TD[o+64>>0]=1,r=r+4+15&-16):r=0,CD[s+204>>2]=r,TD[s+272>>0]=1,CD[5108]=(CD[5108]|0)+1,(r=Aw(107)|0)?(e=r+4+15&-16,CD[e+-4>>2]=r,r+4+15&-16?(a=CD[a>>2]|0,CD[(r+4+15&-16)>>2]=2376,CD[e+4>>2]=0,CD[e+8>>2]=a,CD[e+12>>2]=0,CD[e+16>>2]=0,CD[e+20>>2]=0,CD[e+24>>2]=t,TD[e+44>>0]=1,CD[e+40>>2]=0,CD[e+32>>2]=0,CD[e+36>>2]=0,TD[e+64>>0]=1,CD[e+60>>2]=0,CD[e+52>>2]=0,CD[e+56>>2]=0,TD[e+84>>0]=1,CD[e+80>>2]=0,CD[e+72>>2]=0,CD[e+76>>2]=0,t=r+4+15&-16,CD[n>>2]=t,s|0):(t=0,CD[n>>2]=t,s|0)):(t=0,CD[n>>2]=t,s|0)}function qi(t,e){t|=0,e|=0,bP[CD[(CD[t>>2]|0)+72>>2]&127](t,e)}function Ki(t){t|=0;var e=0;return e=BD,BD=BD+16|0,((TD[24]|0)==0?(KD(24)|0)!=0:0)&&QD(24),bP[CD[(CD[t>>2]|0)+76>>2]&127](e,t),CD[2]=CD[e>>2],CD[3]=CD[e+4>>2],CD[4]=CD[e+8>>2],CD[5]=CD[e+12>>2],BD=e,8}function Yi(t,e){t|=0,e|=0,bP[CD[(CD[t>>2]|0)+84>>2]&127](t,e)}function Qi(t,e,i,r){t|=0,e|=0,i|=0,r|=0,eB[CD[(CD[t>>2]|0)+88>>2]&127](t,e,i,r)}function Zi(t,e){t|=0,e|=0,bP[CD[(CD[t>>2]|0)+92>>2]&127](t,e)}function $i(t,e){t|=0,e|=0,QP[CD[(CD[t>>2]|0)+56>>2]&127](t,e,0)}function tr(t,e,i){t|=0,e|=0,i|=0,QP[CD[(CD[t>>2]|0)+56>>2]&127](t,e,i)}function er(t,e){t|=0,e|=0,bP[CD[(CD[t>>2]|0)+60>>2]&127](t,e)}function ir(t,e){return t|=0,e=+e,tB[CD[(CD[t>>2]|0)+52>>2]&1](t,e,1,.01666666753590107)|0}function rr(t,e,i){return t|=0,e=+e,i|=0,tB[CD[(CD[t>>2]|0)+52>>2]&1](t,e,i,.01666666753590107)|0}function or(t,e,i,r){return t|=0,e=+e,i|=0,r=+r,tB[CD[(CD[t>>2]|0)+52>>2]&1](t,e,i,r)|0}function nr(t){return t|=0,CD[t+24>>2]|0}function ar(t,e,i,r){t|=0,e|=0,i|=0,r|=0,eB[CD[(CD[t>>2]|0)+32>>2]&127](t,e,i,r)}function sr(t){return t|=0,t=CD[t+68>>2]|0,MP[CD[(CD[t>>2]|0)+36>>2]&127](t)|0}function lr(t){return t|=0,t+28|0}function cr(t,e){t|=0,e|=0,eB[CD[(CD[t>>2]|0)+36>>2]&127](t,e,2,-3)}function hr(t,e,i){t|=0,e|=0,i|=0,eB[CD[(CD[t>>2]|0)+36>>2]&127](t,e,i,-3)}function ur(t,e,i,r){t|=0,e|=0,i|=0,r|=0,eB[CD[(CD[t>>2]|0)+36>>2]&127](t,e,i,r)}function dr(t){return t|=0,CD[t+68>>2]|0}function pr(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n=+n,ES(t,e,i,r,o,n)}function fr(t,e,i,r){t|=0,e|=0,i|=0,r|=0,AS(t,e,i,r)}function _r(t,e){t|=0,e|=0,bP[CD[(CD[t>>2]|0)+64>>2]&127](t,e)}function mr(t){t|=0;var e=0,i=0;((TD[120]|0)==0?(KD(120)|0)!=0:0)&&(RD[8]=.6000000238418579,RD[9]=1,RD[10]=.30000001192092896,RD[11]=.01666666753590107,RD[12]=0,RD[14]=20,CD[13]=10,RD[16]=.20000000298023224,RD[17]=.800000011920929,RD[18]=0,RD[15]=1,CD[19]=1,RD[20]=-.03999999910593033,RD[21]=.10000000149011612,RD[22]=0,RD[23]=.8500000238418579,CD[24]=260,CD[25]=2,CD[26]=128,RD[27]=100,RD[28]=1.0000000150474662e30,QD(120)),i=32,t=t+92|0,e=i+84|0;do CD[i>>2]=CD[t>>2],i=i+4|0,t=t+4|0;while((i|0)<(e|0));return 32}function gr(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function yr(t){t|=0;var e=0;return CD[5108]=(CD[5108]|0)+1,e=Aw(115)|0,e?(CD[(e+4+15&-16)+-4>>2]=e,e=e+4+15&-16):e=0,CD[e+8>>2]=0,RD[e+12>>2]=1,RD[e+16>>2]=1,RD[e+20>>2]=1,RD[e+24>>2]=0,RD[e+44>>2]=.03999999910593033,CD[e+52>>2]=0,RD[e+56>>2]=1,RD[e+60>>2]=1,RD[e+64>>2]=1,RD[e+68>>2]=0,RD[e+72>>2]=-1,RD[e+76>>2]=-1,RD[e+80>>2]=-1,RD[e+84>>2]=0,TD[e+88>>0]=0,CD[e>>2]=14600,CD[e+92>>2]=t,CD[e+4>>2]=3,zd(e),e|0}function br(t,e){t|=0,e|=0;var i=0;return CD[5108]=(CD[5108]|0)+1,i=Aw(115)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,i=i+4+15&-16):i=0,CD[i+8>>2]=0,RD[i+12>>2]=1,RD[i+16>>2]=1,RD[i+20>>2]=1,RD[i+24>>2]=0,RD[i+44>>2]=.03999999910593033,CD[i+52>>2]=0,RD[i+56>>2]=1,RD[i+60>>2]=1,RD[i+64>>2]=1,RD[i+68>>2]=0,RD[i+72>>2]=-1,RD[i+76>>2]=-1,RD[i+80>>2]=-1,RD[i+84>>2]=0,TD[i+88>>0]=0,CD[i>>2]=14600,CD[i+92>>2]=t,CD[i+4>>2]=3,e?(zd(i),i|0):i|0}function vr(t,e){t|=0,e|=0,bP[CD[(CD[t>>2]|0)+24>>2]&127](t,e)}function Mr(t,e,i){t|=0,e=+e,i|=0,EP[CD[(CD[t>>2]|0)+32>>2]&15](t,e,i)}function Sr(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function Tr(t){return t|=0,+RD[t+4>>2]<1|0}function xr(t){return t|=0,xD[t+8>>1]|0}function Cr(t,e){t|=0,e|=0,xD[t+8>>1]=e}function Er(t){return t|=0,xD[t+10>>1]|0}function Ar(t,e){t|=0,e|=0,xD[t+10>>1]=e}function wr(t){return t|=0,+ +RD[t+4>>2]}function Rr(t,e){t|=0,e=+e,RD[t+4>>2]=e}function Dr(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function Pr(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0;return CD[5108]=(CD[5108]|0)+1,i=Aw(379)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,i=i+4+15&-16):i=0,CD[i+4>>2]=3,CD[i>>2]=256,CD[i+8>>2]=-1,CD[i+12>>2]=-1,RD[i+16>>2]=3.4028234663852886e38,TD[i+20>>0]=1,TD[i+21>>0]=0,CD[i+24>>2]=-1,CD[i+28>>2]=t,av(),CD[i+32>>2]=2960,RD[i+36>>2]=0,RD[i+40>>2]=.30000001192092896,CD[i+44>>2]=0,CD[i>>2]=2792,l=i+300|0,CD[l>>2]=CD[e>>2],CD[l+4>>2]=CD[e+4>>2],CD[l+8>>2]=CD[e+8>>2],CD[l+12>>2]=CD[e+12>>2],s=+RD[e>>2],a=+RD[e+4>>2],n=+RD[e+8>>2],o=s*+RD[t+20>>2]+a*+RD[t+24>>2]+n*+RD[t+28>>2]+ +RD[t+56>>2],r=s*+RD[t+36>>2]+a*+RD[t+40>>2]+n*+RD[t+44>>2]+ +RD[t+60>>2],RD[i+316>>2]=s*+RD[t+4>>2]+a*+RD[t+8>>2]+n*+RD[t+12>>2]+ +RD[t+52>>2],RD[i+320>>2]=o,RD[i+324>>2]=r,RD[i+328>>2]=0,CD[i+332>>2]=0,TD[i+344>>0]=0,RD[i+348>>2]=.30000001192092896,RD[i+352>>2]=1,RD[i+356>>2]=0,i|0}function Br(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;return CD[5108]=(CD[5108]|0)+1,o=Aw(379)|0,o?(CD[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,CD[o+4>>2]=3,CD[o+8>>2]=-1,CD[o+12>>2]=-1,RD[o+16>>2]=3.4028234663852886e38,TD[o+20>>0]=1,TD[o+21>>0]=0,CD[o+24>>2]=-1,CD[o+28>>2]=t,CD[o+32>>2]=e,RD[o+36>>2]=0,RD[o+40>>2]=.30000001192092896,CD[o+44>>2]=0,CD[o>>2]=2792,e=o+300|0,CD[e>>2]=CD[i>>2],CD[e+4>>2]=CD[i+4>>2],CD[e+8>>2]=CD[i+8>>2],CD[e+12>>2]=CD[i+12>>2],i=o+316|0,CD[i>>2]=CD[r>>2],CD[i+4>>2]=CD[r+4>>2],CD[i+8>>2]=CD[r+8>>2],CD[i+12>>2]=CD[r+12>>2],CD[o+332>>2]=0,TD[o+344>>0]=0,RD[o+348>>2]=.30000001192092896,RD[o+352>>2]=1,RD[o+356>>2]=0,o|0}function Vr(t,e){t|=0,e|=0,CD[t+300>>2]=CD[e>>2],CD[t+300+4>>2]=CD[e+4>>2],CD[t+300+8>>2]=CD[e+8>>2],CD[t+300+12>>2]=CD[e+12>>2]}function Lr(t,e){t|=0,e|=0,CD[t+316>>2]=CD[e>>2],CD[t+316+4>>2]=CD[e+4>>2],CD[t+316+8>>2]=CD[e+8>>2],CD[t+316+12>>2]=CD[e+12>>2]}function kr(t){return t|=0,t+300|0}function Hr(t){return t|=0,t+316|0}function Ir(t,e){t|=0,e|=0,TD[t+21>>0]=e&1}function Or(t){return t|=0,+ +RD[t+16>>2]}function Jr(t,e){t|=0,e=+e,RD[t+16>>2]=e}function Nr(t){return t|=0,t+348|0}function Fr(t,e){t|=0,e|=0,CD[t+348>>2]=CD[e>>2],CD[t+348+4>>2]=CD[e+4>>2],CD[t+348+8>>2]=CD[e+8>>2]}function Gr(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function zr(t,e){t|=0,e|=0,bP[CD[(CD[t>>2]|0)+8>>2]&127](t,e)}function jr(t,e){t|=0,e|=0,bP[CD[(CD[t>>2]|0)+12>>2]&127](t,e)}function Ur(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function Wr(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0;return o=BD,BD=BD+64|0,CD[5108]=(CD[5108]|0)+1,r=Aw(1147)|0,r?(CD[(r+4+15&-16)+-4>>2]=r,r=r+4+15&-16):r=0,av(),CD[r+4>>2]=7,CD[r+8>>2]=-1,CD[r+12>>2]=-1,RD[r+16>>2]=3.4028234663852886e38,TD[r+20>>0]=1,TD[r+21>>0]=0,CD[r+24>>2]=-1,a=r+28|0,CD[a>>2]=2960,n=r+32|0,CD[n>>2]=t,RD[r+36>>2]=0,RD[r+40>>2]=.30000001192092896,CD[r+44>>2]=0,CD[r>>2]=3592,TD[r+48>>0]=0,s=r+116|0,CD[s>>2]=CD[e>>2],CD[s+4>>2]=CD[e+4>>2],CD[s+8>>2]=CD[e+8>>2],CD[s+12>>2]=CD[e+12>>2],l=r+132|0,CD[l>>2]=CD[e+16>>2],CD[l+4>>2]=CD[e+16+4>>2],CD[l+8>>2]=CD[e+16+8>>2],CD[l+12>>2]=CD[e+16+12>>2],l=r+148|0,CD[l>>2]=CD[e+32>>2],CD[l+4>>2]=CD[e+32+4>>2],CD[l+8>>2]=CD[e+32+8>>2],CD[l+12>>2]=CD[e+32+12>>2],l=r+164|0,CD[l>>2]=CD[e+48>>2],CD[l+4>>2]=CD[e+48+4>>2],CD[l+8>>2]=CD[e+48+8>>2],CD[l+12>>2]=CD[e+48+12>>2],TD[r+180>>0]=i&1,i=r+52|0,i_(o,t+4|0,s),CD[i>>2]=CD[o>>2],CD[i+4>>2]=CD[o+4>>2],CD[i+8>>2]=CD[o+8>>2],CD[i+12>>2]=CD[o+12>>2],i=r+68|0,CD[i>>2]=CD[o+16>>2],CD[i+4>>2]=CD[o+16+4>>2],CD[i+8>>2]=CD[o+16+8>>2],CD[i+12>>2]=CD[o+16+12>>2],i=r+84|0,CD[i>>2]=CD[o+32>>2],CD[i+4>>2]=CD[o+32+4>>2],CD[i+8>>2]=CD[o+32+8>>2],CD[i+12>>2]=CD[o+32+12>>2],i=r+100|0,CD[i>>2]=CD[o+48>>2],CD[i+4>>2]=CD[o+48+4>>2],CD[i+8>>2]=CD[o+48+8>>2],CD[i+12>>2]=CD[o+48+12>>2],RD[r+184>>2]=1,RD[r+188>>2]=-1,RD[r+192>>2]=0,RD[r+196>>2]=0,RD[r+200>>2]=1,RD[r+204>>2]=.699999988079071,RD[r+208>>2]=0,RD[r+212>>2]=0,RD[r+216>>2]=1,RD[r+220>>2]=.699999988079071,RD[r+224>>2]=0,RD[r+228>>2]=0,RD[r+264>>2]=1,RD[r+268>>2]=.699999988079071,RD[r+272>>2]=1,RD[r+276>>2]=0,RD[r+280>>2]=1,RD[r+284>>2]=.699999988079071,RD[r+288>>2]=1,RD[r+292>>2]=0,RD[r+232>>2]=1,RD[r+236>>2]=.699999988079071,RD[r+240>>2]=1,RD[r+244>>2]=0,RD[r+248>>2]=1,RD[r+252>>2]=.699999988079071,RD[r+256>>2]=1,RD[r+260>>2]=0,TD[r+1096>>0]=0,i=r+1100|0,RD[r+1116>>2]=0,RD[r+1120>>2]=0,RD[r+1124>>2]=0,CD[r+300>>2]=0,CD[i>>2]=0,CD[i+4>>2]=0,CD[i+8>>2]=0,TD[i+12>>0]=0,TD[r+49>>0]=1,lv(r,(CD[a>>2]|0)+4|0,(CD[n>>2]|0)+4|0),BD=o,r|0}function Xr(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0;return CD[5108]=(CD[5108]|0)+1,n=Aw(1147)|0,n?(CD[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,CD[n+4>>2]=7,CD[n+8>>2]=-1,CD[n+12>>2]=-1,RD[n+16>>2]=3.4028234663852886e38,TD[n+20>>0]=1,TD[n+21>>0]=0,CD[n+24>>2]=-1,a=n+28|0,CD[a>>2]=t,t=n+32|0,CD[t>>2]=e,RD[n+36>>2]=0,RD[n+40>>2]=.30000001192092896,CD[n+44>>2]=0,CD[n>>2]=3592,TD[n+48>>0]=0,e=n+52|0,CD[e>>2]=CD[i>>2],CD[e+4>>2]=CD[i+4>>2],CD[e+8>>2]=CD[i+8>>2],CD[e+12>>2]=CD[i+12>>2],e=n+68|0,CD[e>>2]=CD[i+16>>2],CD[e+4>>2]=CD[i+16+4>>2],CD[e+8>>2]=CD[i+16+8>>2],CD[e+12>>2]=CD[i+16+12>>2],e=n+84|0,CD[e>>2]=CD[i+32>>2],CD[e+4>>2]=CD[i+32+4>>2],CD[e+8>>2]=CD[i+32+8>>2],CD[e+12>>2]=CD[i+32+12>>2],e=n+100|0,CD[e>>2]=CD[i+48>>2],CD[e+4>>2]=CD[i+48+4>>2],CD[e+8>>2]=CD[i+48+8>>2],CD[e+12>>2]=CD[i+48+12>>2],i=n+116|0,CD[i>>2]=CD[r>>2],CD[i+4>>2]=CD[r+4>>2],CD[i+8>>2]=CD[r+8>>2],CD[i+12>>2]=CD[r+12>>2],i=n+132|0,CD[i>>2]=CD[r+16>>2],CD[i+4>>2]=CD[r+16+4>>2],CD[i+8>>2]=CD[r+16+8>>2],CD[i+12>>2]=CD[r+16+12>>2],i=n+148|0,CD[i>>2]=CD[r+32>>2],CD[i+4>>2]=CD[r+32+4>>2],CD[i+8>>2]=CD[r+32+8>>2],CD[i+12>>2]=CD[r+32+12>>2],i=n+164|0,CD[i>>2]=CD[r+48>>2],CD[i+4>>2]=CD[r+48+4>>2],CD[i+8>>2]=CD[r+48+8>>2],CD[i+12>>2]=CD[r+48+12>>2],TD[n+180>>0]=o&1,RD[n+184>>2]=1,RD[n+188>>2]=-1,RD[n+192>>2]=0,RD[n+196>>2]=0,RD[n+200>>2]=1,RD[n+204>>2]=.699999988079071,RD[n+208>>2]=0,RD[n+212>>2]=0,RD[n+216>>2]=1,RD[n+220>>2]=.699999988079071,RD[n+224>>2]=0,RD[n+228>>2]=0,RD[n+264>>2]=1,RD[n+268>>2]=.699999988079071,RD[n+272>>2]=1,RD[n+276>>2]=0,RD[n+280>>2]=1,RD[n+284>>2]=.699999988079071,RD[n+288>>2]=1,RD[n+292>>2]=0,RD[n+232>>2]=1,RD[n+236>>2]=.699999988079071,RD[n+240>>2]=1,RD[n+244>>2]=0,RD[n+248>>2]=1,RD[n+252>>2]=.699999988079071,RD[n+256>>2]=1,RD[n+260>>2]=0,TD[n+1096>>0]=0,o=n+1100|0,RD[n+1116>>2]=0,RD[n+1120>>2]=0,RD[n+1124>>2]=0,CD[n+300>>2]=0,CD[o>>2]=0,CD[o+4>>2]=0,CD[o+8>>2]=0,TD[o+12>>0]=0,TD[n+49>>0]=1,lv(n,(CD[a>>2]|0)+4|0,(CD[t>>2]|0)+4|0),n|0}function qr(t,e){t|=0,e=+e,RD[t+184>>2]=e}function Kr(t,e){t|=0,e=+e,RD[t+188>>2]=e}function Yr(t,e){t|=0,e=+e,e=+Rw(e,6.2831854820251465),e<-3.1415927410125732?e+=6.2831854820251465:e>3.1415927410125732&&(e+=-6.2831854820251465),RD[t+192>>2]=e}function Qr(t,e){t|=0,e=+e,e=+Rw(e,6.2831854820251465),e<-3.1415927410125732?e+=6.2831854820251465:e>3.1415927410125732&&(e+=-6.2831854820251465),RD[t+196>>2]=e
}function Zr(t,e){t|=0,e|=0,TD[t+21>>0]=e&1}function $r(t){return t|=0,+ +RD[t+16>>2]}function to(t,e){t|=0,e=+e,RD[t+16>>2]=e}function eo(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function io(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0;return CD[5108]=(CD[5108]|0)+1,i=Aw(627)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,i=i+4+15&-16):i=0,CD[i+4>>2]=5,CD[i>>2]=256,CD[i+8>>2]=-1,CD[i+12>>2]=-1,RD[i+16>>2]=3.4028234663852886e38,TD[i+20>>0]=1,TD[i+21>>0]=0,CD[i+24>>2]=-1,CD[i+28>>2]=t,av(),CD[i+32>>2]=2960,RD[i+36>>2]=0,RD[i+40>>2]=.30000001192092896,CD[i+44>>2]=0,CD[i>>2]=3712,o=i+300|0,CD[o>>2]=CD[e>>2],CD[o+4>>2]=CD[e+4>>2],CD[o+8>>2]=CD[e+8>>2],CD[o+12>>2]=CD[e+12>>2],r=i+316|0,CD[r>>2]=CD[e+16>>2],CD[r+4>>2]=CD[e+16+4>>2],CD[r+8>>2]=CD[e+16+8>>2],CD[r+12>>2]=CD[e+16+12>>2],t=i+332|0,CD[t>>2]=CD[e+32>>2],CD[t+4>>2]=CD[e+32+4>>2],CD[t+8>>2]=CD[e+32+8>>2],CD[t+12>>2]=CD[e+32+12>>2],n=i+348|0,CD[n>>2]=CD[e+48>>2],CD[n+4>>2]=CD[e+48+4>>2],CD[n+8>>2]=CD[e+48+8>>2],CD[n+12>>2]=CD[e+48+12>>2],e=i+364|0,TD[i+527>>0]=0,CD[e>>2]=CD[o>>2],CD[e+4>>2]=CD[o+4>>2],CD[e+8>>2]=CD[o+8>>2],CD[e+12>>2]=CD[o+12>>2],e=i+380|0,CD[e>>2]=CD[r>>2],CD[e+4>>2]=CD[r+4>>2],CD[e+8>>2]=CD[r+8>>2],CD[e+12>>2]=CD[r+12>>2],e=i+396|0,CD[e>>2]=CD[t>>2],CD[e+4>>2]=CD[t+4>>2],CD[e+8>>2]=CD[t+8>>2],CD[e+12>>2]=CD[t+12>>2],e=i+412|0,TD[i+524>>0]=0,TD[i+525>>0]=0,TD[i+526>>0]=0,TD[i+552>>0]=0,CD[e>>2]=0,CD[e+4>>2]=0,CD[e+8>>2]=0,CD[e+12>>2]=0,RD[i+572>>2]=-1,RD[i+444>>2]=0xde0b6b000000000,RD[i+448>>2]=0xde0b6b000000000,RD[i+452>>2]=0xde0b6b000000000,RD[i+428>>2]=1,RD[i+432>>2]=.30000001192092896,RD[i+436>>2]=1,RD[i+440>>2]=.009999999776482582,RD[i+456>>2]=.05000000074505806,CD[i+592>>2]=0,RD[i+596>>2]=0,RD[i+600>>2]=.699999988079071,RD[i+604>>2]=0,i|0}function ro(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;return CD[5108]=(CD[5108]|0)+1,o=Aw(627)|0,o?(CD[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,CD[o+4>>2]=5,CD[o+8>>2]=-1,CD[o+12>>2]=-1,RD[o+16>>2]=3.4028234663852886e38,TD[o+20>>0]=1,TD[o+21>>0]=0,CD[o+24>>2]=-1,CD[o+28>>2]=t,CD[o+32>>2]=e,RD[o+36>>2]=0,RD[o+40>>2]=.30000001192092896,CD[o+44>>2]=0,CD[o>>2]=3712,e=o+300|0,CD[e>>2]=CD[i>>2],CD[e+4>>2]=CD[i+4>>2],CD[e+8>>2]=CD[i+8>>2],CD[e+12>>2]=CD[i+12>>2],e=o+316|0,CD[e>>2]=CD[i+16>>2],CD[e+4>>2]=CD[i+16+4>>2],CD[e+8>>2]=CD[i+16+8>>2],CD[e+12>>2]=CD[i+16+12>>2],e=o+332|0,CD[e>>2]=CD[i+32>>2],CD[e+4>>2]=CD[i+32+4>>2],CD[e+8>>2]=CD[i+32+8>>2],CD[e+12>>2]=CD[i+32+12>>2],e=o+348|0,CD[e>>2]=CD[i+48>>2],CD[e+4>>2]=CD[i+48+4>>2],CD[e+8>>2]=CD[i+48+8>>2],CD[e+12>>2]=CD[i+48+12>>2],i=o+364|0,CD[i>>2]=CD[r>>2],CD[i+4>>2]=CD[r+4>>2],CD[i+8>>2]=CD[r+8>>2],CD[i+12>>2]=CD[r+12>>2],i=o+380|0,CD[i>>2]=CD[r+16>>2],CD[i+4>>2]=CD[r+16+4>>2],CD[i+8>>2]=CD[r+16+8>>2],CD[i+12>>2]=CD[r+16+12>>2],i=o+396|0,CD[i>>2]=CD[r+32>>2],CD[i+4>>2]=CD[r+32+4>>2],CD[i+8>>2]=CD[r+32+8>>2],CD[i+12>>2]=CD[r+32+12>>2],i=o+412|0,CD[i>>2]=CD[r+48>>2],CD[i+4>>2]=CD[r+48+4>>2],CD[i+8>>2]=CD[r+48+8>>2],CD[i+12>>2]=CD[r+48+12>>2],r=o+524|0,TD[o+552>>0]=0,TD[r>>0]=0,TD[r+1>>0]=0,TD[r+2>>0]=0,TD[r+3>>0]=0,RD[o+572>>2]=-1,RD[o+444>>2]=0xde0b6b000000000,RD[o+448>>2]=0xde0b6b000000000,RD[o+452>>2]=0xde0b6b000000000,RD[o+428>>2]=1,RD[o+432>>2]=.30000001192092896,RD[o+436>>2]=1,RD[o+440>>2]=.009999999776482582,RD[o+456>>2]=.05000000074505806,CD[o+592>>2]=0,RD[o+596>>2]=0,RD[o+600>>2]=.699999988079071,RD[o+604>>2]=0,o|0}function oo(t,e,i){return t|=0,e|=0,i=+i,(e|0)==5?void(RD[t+444>>2]=i):(e|0)==3?void(RD[t+452>>2]=i):(e|0)==4?void(RD[t+448>>2]=i):void 0}function no(t,e){t|=0,e|=0,TD[t+524>>0]=e&1}function ao(t,e){t|=0,e=+e,RD[t+440>>2]=e}function so(t,e){t|=0,e|=0,TD[t+552>>0]=e&1}function lo(t,e){t|=0,e=+e,RD[t+572>>2]=e,TD[t+553>>0]=0}function co(t,e){t|=0,e=+e,RD[t+572>>2]=e,TD[t+553>>0]=1}function ho(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0;i=BD,BD=BD+48|0,qf(t+364|0,i+16|0),a=-+RD[i+16>>2],o=-+RD[i+16+4>>2],h=-+RD[i+16+8>>2],c=+RD[i+16+12>>2],n=+RD[e>>2],u=+RD[e+12>>2],l=+RD[e+8>>2],s=+RD[e+4>>2],qf(t+300|0,i),p=+RD[i>>2],f=+RD[i+12>>2],r=+RD[i+8>>2],d=+RD[i+4>>2],RD[i+32>>2]=p*(c*u-n*a-s*o-l*h)+(c*n+u*a+l*o-s*h)*f+(n*h+(u*o+c*s)-l*a)*r-(u*h+c*l+s*a-n*o)*d,RD[i+32+4>>2]=p*(u*h+c*l+s*a-n*o)+(f*(n*h+(u*o+c*s)-l*a)+(c*u-n*a-s*o-l*h)*d)-(c*n+u*a+l*o-s*h)*r,RD[i+32+8>>2]=f*(u*h+c*l+s*a-n*o)+(c*u-n*a-s*o-l*h)*r+(c*n+u*a+l*o-s*h)*d-p*(n*h+(u*o+c*s)-l*a),RD[i+32+12>>2]=(c*u-n*a-s*o-l*h)*f-p*(c*n+u*a+l*o-s*h)-(n*h+(u*o+c*s)-l*a)*d-(u*h+c*l+s*a-n*o)*r,bv(t,i+32|0),BD=i}function uo(t,e){t|=0,e|=0,bv(t,e)}function po(t,e){t|=0,e|=0,TD[t+21>>0]=e&1}function fo(t){return t|=0,+ +RD[t+16>>2]}function _o(t,e){t|=0,e=+e,RD[t+16>>2]=e}function mo(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function go(t,e){t=+t,e=+e;var i=0;return CD[5108]=(CD[5108]|0)+1,i=Aw(95)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,i=i+4+15&-16):i=0,CD[i+8>>2]=0,RD[i+12>>2]=1,RD[i+16>>2]=1,RD[i+20>>2]=1,RD[i+24>>2]=0,RD[i+44>>2]=.03999999910593033,CD[i>>2]=11560,RD[i+56>>2]=t,RD[i+60>>2]=e,CD[i+4>>2]=11,CD[i+64>>2]=0,CD[i+68>>2]=1,CD[i+72>>2]=2,RD[i+28>>2]=t,RD[i+32>>2]=e,RD[i+36>>2]=t,e=t/+ND(+(t*t+e*e)),RD[i+52>>2]=e,i|0}function yo(t,e){t|=0,e|=0,bP[CD[(CD[t>>2]|0)+24>>2]&127](t,e)}function bo(t,e,i){t|=0,e=+e,i|=0,EP[CD[(CD[t>>2]|0)+32>>2]&15](t,e,i)}function vo(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function Mo(t,e){t|=0,e|=0,bP[CD[(CD[t>>2]|0)+24>>2]&127](t,e)}function So(t,e,i){t|=0,e=+e,i|=0,EP[CD[(CD[t>>2]|0)+32>>2]&15](t,e,i)}function To(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function xo(){var t=0,e=0,i=0;for(i=BD,BD=BD+32|0;;){if(t=Aw(92)|0){e=6;break}if(t=CD[5230]|0,CD[5230]=t+0,!t){e=5;break}ZP[t&3]()}if((e|0)==5)i=cP(4)|0,CD[i>>2]=20816,sP(i|0,20864,207);else if((e|0)==6)return CD[i>>2]=0,CD[i+4>>2]=0,CD[i+8>>2]=4096,CD[i+12>>2]=4096,CD[i+16>>2]=0,CD[i+20>>2]=1,UM(t,i),BD=i,t|0;return 0}function Co(t){t|=0;for(var e=0,i=0;;){if(e=Aw(92)|0){i=6;break}if(e=CD[5230]|0,CD[5230]=e+0,!e){i=5;break}ZP[e&3]()}if((i|0)==5)t=cP(4)|0,CD[t>>2]=20816,sP(t|0,20864,207);else if((i|0)==6)return UM(e,t),e|0;return 0}function Eo(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function Ao(t,e,i,r,o,n,a,s){return t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,+ +AP[CD[(CD[t>>2]|0)+12>>2]&1](t,e,i,r,o,n,a,s)}function wo(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function Ro(t,e){t=+t,e=+e;var i=0,r=0;return CD[5108]=(CD[5108]|0)+1,i=Aw(95)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,i=i+4+15&-16):i=0,CD[i+8>>2]=0,RD[i+12>>2]=1,RD[i+16>>2]=1,RD[i+20>>2]=1,RD[i+24>>2]=0,RD[i+44>>2]=.03999999910593033,RD[i+56>>2]=t,RD[i+60>>2]=e,CD[i+4>>2]=11,r=t/+ND(+(t*t+e*e)),RD[i+52>>2]=r,CD[i>>2]=11664,CD[i+64>>2]=0,CD[i+68>>2]=2,CD[i+72>>2]=1,RD[i+28>>2]=t,RD[i+36>>2]=e,RD[i+32>>2]=t,i|0}function Do(t,e){t|=0,e|=0,bP[CD[(CD[t>>2]|0)+24>>2]&127](t,e)}function Po(t,e,i){t|=0,e=+e,i|=0,EP[CD[(CD[t>>2]|0)+32>>2]&15](t,e,i)}function Bo(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function Vo(t,e){t=+t,e=+e;var i=0,r=0;return CD[5108]=(CD[5108]|0)+1,i=Aw(95)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,i=i+4+15&-16):i=0,CD[i+8>>2]=0,RD[i+12>>2]=1,RD[i+16>>2]=1,RD[i+20>>2]=1,RD[i+24>>2]=0,RD[i+44>>2]=.03999999910593033,RD[i+56>>2]=t,RD[i+60>>2]=e,CD[i+4>>2]=11,r=t/+ND(+(t*t+e*e)),RD[i+52>>2]=r,CD[i>>2]=11768,CD[i+64>>2]=1,CD[i+68>>2]=0,CD[i+72>>2]=2,RD[i+32>>2]=t,RD[i+28>>2]=e,RD[i+36>>2]=t,i|0}function Lo(t,e){t|=0,e|=0,bP[CD[(CD[t>>2]|0)+24>>2]&127](t,e)}function ko(t,e,i){t|=0,e=+e,i|=0,EP[CD[(CD[t>>2]|0)+32>>2]&15](t,e,i)}function Ho(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function Io(){var t=0;return CD[5108]=(CD[5108]|0)+1,t=Aw(191)|0,t?(CD[(t+4+15&-16)+-4>>2]=t,t=t+4+15&-16):t=0,Yp(t,1,1),t|0}function Oo(t){t|=0;var e=0;return CD[5108]=(CD[5108]|0)+1,e=Aw(191)|0,e?(CD[(e+4+15&-16)+-4>>2]=e,e=e+4+15&-16):e=0,Yp(e,t,1),e|0}function Jo(t,e){t|=0,e|=0;var i=0;return CD[5108]=(CD[5108]|0)+1,i=Aw(191)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,i=i+4+15&-16):i=0,Yp(i,t,e),i|0}function No(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;o=CD[t+32>>2]|0,CD[o>>2]=(CD[o>>2]|0)+1,Qp(t,Zp(t,e,0)|0),Qp(t,Zp(t,i,0)|0),Qp(t,Zp(t,r,0)|0)}function Fo(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0;n=CD[t+32>>2]|0,CD[n>>2]=(CD[n>>2]|0)+1,Qp(t,Zp(t,e,o)|0),Qp(t,Zp(t,i,o)|0),Qp(t,Zp(t,r,o)|0)}function Go(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function zo(){var t=0;return CD[5108]=(CD[5108]|0)+1,t=Aw(131)|0,t?(CD[(t+4+15&-16)+-4>>2]=t,t=t+4+15&-16):t=0,CD[t+8>>2]=0,RD[t+12>>2]=1,RD[t+16>>2]=1,RD[t+20>>2]=1,RD[t+24>>2]=0,RD[t+44>>2]=.03999999910593033,CD[t+52>>2]=0,RD[t+56>>2]=1,RD[t+60>>2]=1,RD[t+64>>2]=1,RD[t+68>>2]=0,RD[t+72>>2]=-1,RD[t+76>>2]=-1,RD[t+80>>2]=-1,RD[t+84>>2]=0,TD[t+88>>0]=0,CD[t>>2]=13808,TD[t+108>>0]=1,CD[t+104>>2]=0,CD[t+100>>2]=0,CD[t+4>>2]=4,CD[t+96>>2]=0,zd(t),t|0}function jo(t,e){t|=0,e|=0,ap(t,e,1)}function Uo(t,e,i){t|=0,e|=0,i|=0,ap(t,e,i)}function Wo(t,e){t|=0,e|=0,bP[CD[(CD[t>>2]|0)+24>>2]&127](t,e)}function Xo(t,e,i){t|=0,e=+e,i|=0,EP[CD[(CD[t>>2]|0)+32>>2]&15](t,e,i)}function qo(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function Ko(){var t=0,e=0;return CD[5108]=(CD[5108]|0)+1,t=Aw(791)|0,t?(CD[(t+4+15&-16)+-4>>2]=t,t=t+4+15&-16):t=0,CD[t>>2]=1025,CD[t+116>>2]=0,TD[t+120>>0]=0,e=t+124|0,CD[e>>2]=0,CD[e+4>>2]=0,CD[e+8>>2]=0,CD[e+12>>2]=0,CD[e+16>>2]=0,CD[e+20>>2]=0,CD[e+24>>2]=0,CD[e+28>>2]=0,CD[t+300>>2]=0,TD[t+304>>0]=0,e=t+308|0,CD[e>>2]=0,CD[e+4>>2]=0,CD[e+8>>2]=0,CD[e+12>>2]=0,CD[e+16>>2]=0,CD[e+20>>2]=0,CD[e+24>>2]=0,CD[e+28>>2]=0,CD[t+484>>2]=0,TD[t+488>>0]=0,e=t+492|0,CD[e>>2]=0,CD[e+4>>2]=0,CD[e+8>>2]=0,CD[e+12>>2]=0,CD[e+16>>2]=0,CD[e+20>>2]=0,CD[e+24>>2]=0,CD[e+28>>2]=0,CD[t+668>>2]=0,TD[t+672>>0]=0,e=t+676|0,CD[e>>2]=0,CD[e+4>>2]=0,CD[e+8>>2]=0,CD[e+12>>2]=0,CD[e+16>>2]=0,CD[e+20>>2]=0,CD[e+24>>2]=0,CD[e+28>>2]=0,CD[t+740>>2]=0,CD[t+744>>2]=0,CD[t+748>>2]=0,CD[t+768>>2]=0,t|0}function Yo(t){return t|=0,CD[t+740>>2]|0}function Qo(t){return t|=0,CD[t+744>>2]|0}function Zo(t){return t|=0,CD[t+748>>2]|0}function $o(t,e){return t|=0,e|=0,t+4+(e*184|0)|0}function tn(t){t|=0,t&&(CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0))}function en(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0;return CD[5108]=(CD[5108]|0)+1,e=Aw(75)|0,e?(CD[(e+4+15&-16)+-4>>2]=e,c=e+4+15&-16):c=0,CD[c+8>>2]=0,a=c+12|0,RD[a>>2]=1,s=c+16|0,RD[s>>2]=1,l=c+20|0,RD[l>>2]=1,RD[c+24>>2]=0,n=c+44|0,RD[n>>2]=.03999999910593033,CD[c+52>>2]=0,CD[c>>2]=14912,CD[c+4>>2]=0,i=+RD[t>>2],r=+RD[t+4>>2],o=+RD[t+8>>2],e=i<r?i<o?0:2:r<o?1:2,i=+RD[t+(e<<2)>>2]*.10000000149011612,i<.03999999910593033?(p=+b_(c),u=+VP[CD[(CD[c>>2]|0)+48>>2]&15](c),o=+VP[CD[(CD[c>>2]|0)+48>>2]&15](c),d=c+28|0,p+=+RD[d>>2],h=c+32|0,u+=+RD[h>>2],e=c+36|0,o+=+RD[e>>2],RD[n>>2]=i,i=+VP[CD[(CD[c>>2]|0)+48>>2]&15](c),r=+VP[CD[(CD[c>>2]|0)+48>>2]&15](c),o-=+VP[CD[(CD[c>>2]|0)+48>>2]&15](c),RD[d>>2]=p-i,RD[h>>2]=u-r,RD[e>>2]=o,RD[c+40>>2]=0,e=CD[c>>2]|0):e=14912,r=+VP[CD[e+48>>2]&15](c),o=+VP[CD[(CD[c>>2]|0)+48>>2]&15](c),p=+VP[CD[(CD[c>>2]|0)+48>>2]&15](c),o=+RD[t+4>>2]*+RD[s>>2]-o,p=+RD[t+8>>2]*+RD[l>>2]-p,RD[c+28>>2]=+RD[t>>2]*+RD[a>>2]-r,RD[c+32>>2]=o,RD[c+36>>2]=p,RD[c+40>>2]=0,c|0}function rn(t,e){t|=0,e|=0,bP[CD[(CD[t>>2]|0)+24>>2]&127](t,e)}function on(t,e,i){t|=0,e=+e,i|=0,EP[CD[(CD[t>>2]|0)+32>>2]&15](t,e,i)}function nn(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function an(t){t|=0;for(var e=0,i=0,r=0;;){if(r=Aw(5260)|0)break;if(e=CD[5230]|0,CD[5230]=e+0,!e){i=5;break}ZP[e&3]()}(i|0)==5&&(r=cP(4)|0,CD[r>>2]=20816,sP(r|0,20864,207)),CD[r>>2]=5600,CD[r+4>>2]=2,TD[r+24>>0]=1,CD[r+20>>2]=0,CD[r+12>>2]=0,CD[r+16>>2]=0,CD[r+28>>2]=7888,CD[r+5256>>2]=t,CD[r+60>>2]=70,e=MP[CD[(CD[t>>2]|0)+12>>2]&127](t)|0,CD[r+64>>2]=e,e=MP[CD[(CD[t>>2]|0)+8>>2]&127](t)|0,CD[r+68>>2]=e,e=0;do{t=0;do i=CD[r+5256>>2]|0,i=DP[CD[(CD[i>>2]|0)+16>>2]&63](i,e,t)|0,CD[r+72+(e*144|0)+(t<<2)>>2]=i,t=t+1|0;while((t|0)<36);e=e+1|0}while((e|0)<36);return r|0}function sn(t){return t|=0,MP[CD[(CD[t>>2]|0)+36>>2]&127](t)|0}function ln(t,e){return t|=0,e|=0,NP[CD[(CD[t>>2]|0)+40>>2]&31](t,e)|0}function cn(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function hn(){for(var t=0,e=0;;){if(t=Aw(24)|0){e=6;break}if(t=CD[5230]|0,CD[5230]=t+0,!t){e=5;break}ZP[t&3]()}if((e|0)==5)e=cP(4)|0,CD[e>>2]=20816,sP(e|0,20864,207);else if((e|0)==6)return RD[t>>2]=5.880000114440918,RD[t+4>>2]=.8299999833106995,RD[t+8>>2]=.8799999952316284,RD[t+12>>2]=500,RD[t+16>>2]=10.5,RD[t+20>>2]=6e3,t|0;return 0}function un(t){return t|=0,+ +RD[t>>2]}function dn(t,e){t|=0,e=+e,RD[t>>2]=e}function pn(t){return t|=0,+ +RD[t+4>>2]}function fn(t,e){t|=0,e=+e,RD[t+4>>2]=e}function _n(t){return t|=0,+ +RD[t+8>>2]}function mn(t,e){t|=0,e=+e,RD[t+8>>2]=e}function gn(t){return t|=0,+ +RD[t+12>>2]}function yn(t,e){t|=0,e=+e,RD[t+12>>2]=e}function bn(t){return t|=0,+ +RD[t+16>>2]}function vn(t,e){t|=0,e=+e,RD[t+16>>2]=e}function Mn(t){return t|=0,+ +RD[t+20>>2]}function Sn(t,e){t|=0,e=+e,RD[t+20>>2]=e}function Tn(){var t=0;return CD[5108]=(CD[5108]|0)+1,t=Aw(111)|0,t?(CD[(t+4+15&-16)+-4>>2]=t,t=t+4+15&-16):t=0,NT(t,1),t|0}function xn(t){t|=0;var e=0;return CD[5108]=(CD[5108]|0)+1,e=Aw(111)|0,e?(CD[(e+4+15&-16)+-4>>2]=e,e=e+4+15&-16):e=0,NT(e,t),e|0}function Cn(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0;if(u=BD,BD=BD+128|0,CD[t+68>>2]=(CD[t+68>>2]|0)+1,CD[u>>2]=CD[e>>2],CD[u+4>>2]=CD[e+4>>2],CD[u+8>>2]=CD[e+8>>2],CD[u+12>>2]=CD[e+12>>2],CD[u+16>>2]=CD[e+16>>2],CD[u+16+4>>2]=CD[e+16+4>>2],CD[u+16+8>>2]=CD[e+16+8>>2],CD[u+16+12>>2]=CD[e+16+12>>2],CD[u+32>>2]=CD[e+32>>2],CD[u+32+4>>2]=CD[e+32+4>>2],CD[u+32+8>>2]=CD[e+32+8>>2],CD[u+32+12>>2]=CD[e+32+12>>2],CD[u+48>>2]=CD[e+48>>2],CD[u+48+4>>2]=CD[e+48+4>>2],CD[u+48+8>>2]=CD[e+48+8>>2],CD[u+48+12>>2]=CD[e+48+12>>2],c=CD[i+4>>2]|0,h=+VP[CD[(CD[i>>2]|0)+48>>2]&15](i),eB[CD[(CD[i>>2]|0)+8>>2]&127](i,e,u+112|0,u+96|0),r=+RD[u+112>>2],+RD[t+32>>2]>r&&(RD[t+32>>2]=r),r=+RD[u+96>>2],+RD[t+48>>2]<r&&(RD[t+48>>2]=r),r=+RD[u+112+4>>2],+RD[t+36>>2]>r&&(RD[t+36>>2]=r),r=+RD[u+96+4>>2],+RD[t+52>>2]<r&&(RD[t+52>>2]=r),r=+RD[u+112+8>>2],+RD[t+40>>2]>r&&(RD[t+40>>2]=r),r=+RD[u+96+8>>2],+RD[t+56>>2]<r&&(RD[t+56>>2]=r),s=CD[t+64>>2]|0){if(CD[u+64>>2]=CD[u+112>>2],CD[u+64+4>>2]=CD[u+112+4>>2],CD[u+64+8>>2]=CD[u+112+8>>2],CD[u+64+12>>2]=CD[u+112+12>>2],CD[u+64+16>>2]=CD[u+96>>2],CD[u+64+16+4>>2]=CD[u+96+4>>2],CD[u+64+16+8>>2]=CD[u+96+8>>2],CD[u+64+16+12>>2]=CD[u+96+12>>2],a=CD[t+16>>2]|0,e=CD[s+4>>2]|0)CD[s+4>>2]=0;else if(CD[5108]=(CD[5108]|0)+1,e=Aw(63)|0,(e|0)!=0?(CD[(e+4+15&-16)+-4>>2]=e,(e+4+15&-16|0)!=0):0){o=e+4+15&-16,n=o+44|0;do CD[o>>2]=0,o=o+4|0;while((o|0)<(n|0));e=e+4+15&-16}else e=0;CD[e+32>>2]=0,CD[e+36>>2]=a,CD[e+40>>2]=0,CD[e>>2]=CD[u+64>>2],CD[e+4>>2]=CD[u+64+4>>2],CD[e+8>>2]=CD[u+64+8>>2],CD[e+12>>2]=CD[u+64+12>>2],CD[e+16>>2]=CD[u+64+16>>2],CD[e+20>>2]=CD[u+64+20>>2],CD[e+24>>2]=CD[u+64+24>>2],CD[e+28>>2]=CD[u+64+28>>2],A_(s,CD[s>>2]|0,e),CD[s+12>>2]=(CD[s+12>>2]|0)+1,n=t+16|0,a=e}else n=t+16|0,a=0;if(e=CD[n>>2]|0,(e|0)==(CD[t+20>>2]|0)?(l=(e|0)==0?1:e<<1,(e|0)<(l|0)):0){if(l?(CD[5108]=(CD[5108]|0)+1,e=Aw((l*80|3)+16|0)|0,e?(CD[(e+4+15&-16)+-4>>2]=e,e=e+4+15&-16):e=0,s=e,e=CD[n>>2]|0):s=0,(e|0)>0)for(e=e+-1|0,o=0;;){if(d=s+(o*80|0)|0,p=CD[t+24>>2]|0,f=p+(o*80|0)|0,CD[d>>2]=CD[f>>2],CD[d+4>>2]=CD[f+4>>2],CD[d+8>>2]=CD[f+8>>2],CD[d+12>>2]=CD[f+12>>2],d=s+(o*80|0)+16|0,f=p+(o*80|0)+16|0,CD[d>>2]=CD[f>>2],CD[d+4>>2]=CD[f+4>>2],CD[d+8>>2]=CD[f+8>>2],CD[d+12>>2]=CD[f+12>>2],d=s+(o*80|0)+32|0,f=p+(o*80|0)+32|0,CD[d>>2]=CD[f>>2],CD[d+4>>2]=CD[f+4>>2],CD[d+8>>2]=CD[f+8>>2],CD[d+12>>2]=CD[f+12>>2],d=s+(o*80|0)+48|0,f=p+(o*80|0)+48|0,CD[d>>2]=CD[f>>2],CD[d+4>>2]=CD[f+4>>2],CD[d+8>>2]=CD[f+8>>2],CD[d+12>>2]=CD[f+12>>2],d=s+(o*80|0)+64|0,p=p+(o*80|0)+64|0,CD[d>>2]=CD[p>>2],CD[d+4>>2]=CD[p+4>>2],CD[d+8>>2]=CD[p+8>>2],CD[d+12>>2]=CD[p+12>>2],(o|0)==(e|0))break;o=o+1|0}e=CD[t+24>>2]|0,e&&(TD[t+28>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+24>>2]=0),TD[t+28>>0]=1,CD[t+24>>2]=s,CD[t+20>>2]=l,e=CD[n>>2]|0}f=CD[t+24>>2]|0,p=f+(e*80|0)|0,CD[p>>2]=CD[u>>2],CD[p+4>>2]=CD[u+4>>2],CD[p+8>>2]=CD[u+8>>2],CD[p+12>>2]=CD[u+12>>2],p=f+(e*80|0)+16|0,CD[p>>2]=CD[u+16>>2],CD[p+4>>2]=CD[u+16+4>>2],CD[p+8>>2]=CD[u+16+8>>2],CD[p+12>>2]=CD[u+16+12>>2],p=f+(e*80|0)+32|0,CD[p>>2]=CD[u+32>>2],CD[p+4>>2]=CD[u+32+4>>2],CD[p+8>>2]=CD[u+32+8>>2],CD[p+12>>2]=CD[u+32+12>>2],p=f+(e*80|0)+48|0,CD[p>>2]=CD[u+48>>2],CD[p+4>>2]=CD[u+48+4>>2],CD[p+8>>2]=CD[u+48+8>>2],CD[p+12>>2]=CD[u+48+12>>2],f=f+(e*80|0)+64|0,CD[f>>2]=i,CD[f+4>>2]=c,RD[f+8>>2]=h,CD[f+12>>2]=a,CD[n>>2]=(CD[n>>2]|0)+1,BD=u}function En(t,e){t|=0,e|=0,bP[CD[(CD[t>>2]|0)+24>>2]&127](t,e)}function An(t,e,i){t|=0,e=+e,i|=0,EP[CD[(CD[t>>2]|0)+32>>2]&15](t,e,i)}function wn(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function Rn(t,e){t|=0,e|=0;for(var i=0,r=0;;){if(i=Aw(80)|0){r=6;break}if(i=CD[5230]|0,CD[5230]=i+0,!i){r=5;break}ZP[i&3]()}if((r|0)==5)e=cP(4)|0,CD[e>>2]=20816,sP(e|0,20864,207);else if((r|0)==6)return RD[i+4>>2]=1,xD[i+8>>1]=1,xD[i+10>>1]=-1,CD[i>>2]=880,CD[i+12>>2]=CD[t>>2],CD[i+12+4>>2]=CD[t+4>>2],CD[i+12+8>>2]=CD[t+8>>2],CD[i+12+12>>2]=CD[t+12>>2],CD[i+28>>2]=CD[e>>2],CD[i+28+4>>2]=CD[e+4>>2],CD[i+28+8>>2]=CD[e+8>>2],CD[i+28+12>>2]=CD[e+12>>2],CD[i+76>>2]=0,i|0;return 0}function Dn(t){return t|=0,+RD[t+4>>2]<1|0}function Pn(t){return t|=0,t+12|0}function Bn(t,e){t|=0,e|=0,CD[t+12>>2]=CD[e>>2],CD[t+12+4>>2]=CD[e+4>>2],CD[t+12+8>>2]=CD[e+8>>2],CD[t+12+12>>2]=CD[e+12>>2]}function Vn(t){return t|=0,t+28|0}function Ln(t,e){t|=0,e|=0,CD[t+28>>2]=CD[e>>2],CD[t+28+4>>2]=CD[e+4>>2],CD[t+28+8>>2]=CD[e+8>>2],CD[t+28+12>>2]=CD[e+12>>2]}function kn(t){return t|=0,t+44|0}function Hn(t,e){t|=0,e|=0,CD[t+44>>2]=CD[e>>2],CD[t+44+4>>2]=CD[e+4>>2],CD[t+44+8>>2]=CD[e+8>>2],CD[t+44+12>>2]=CD[e+12>>2]}function In(t){return t|=0,t+60|0}function On(t,e){t|=0,e|=0,CD[t+60>>2]=CD[e>>2],CD[t+60+4>>2]=CD[e+4>>2],CD[t+60+8>>2]=CD[e+8>>2],CD[t+60+12>>2]=CD[e+12>>2]}function Jn(t){return t|=0,xD[t+8>>1]|0}function Nn(t,e){t|=0,e|=0,xD[t+8>>1]=e}function Fn(t){return t|=0,xD[t+10>>1]|0}function Gn(t,e){t|=0,e|=0,xD[t+10>>1]=e}function zn(t){return t|=0,+ +RD[t+4>>2]}function jn(t,e){t|=0,e=+e,RD[t+4>>2]=e}function Un(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function Wn(){var t=0;return CD[5108]=(CD[5108]|0)+1,t=Aw(219)|0,t?(CD[(t+4+15&-16)+-4>>2]=t,t=t+4+15&-16):t=0,Kf(),Kf(),Yf(t,744,744),t|0}function Xn(t){t|=0;var e=0;return CD[5108]=(CD[5108]|0)+1,e=Aw(219)|0,e?(CD[(e+4+15&-16)+-4>>2]=e,e=e+4+15&-16):e=0,Kf(),Yf(e,t,744),e|0}function qn(t,e){t|=0,e|=0;var i=0;return CD[5108]=(CD[5108]|0)+1,i=Aw(219)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,i=i+4+15&-16):i=0,Yf(i,t,e),i|0}function Kn(t,e){t|=0,e|=0,bP[CD[(CD[t>>2]|0)+8>>2]&127](t,e)}function Yn(t,e){t|=0,e|=0,bP[CD[(CD[t>>2]|0)+12>>2]&127](t,e)}function Qn(t){return t|=0,t+4|0}function Zn(t,e){t|=0,e|=0,CD[t+4>>2]=CD[e>>2],CD[t+4+4>>2]=CD[e+4>>2],CD[t+4+8>>2]=CD[e+8>>2],CD[t+4+12>>2]=CD[e+12>>2],CD[t+20>>2]=CD[e+16>>2],CD[t+20+4>>2]=CD[e+16+4>>2],CD[t+20+8>>2]=CD[e+16+8>>2],CD[t+20+12>>2]=CD[e+16+12>>2],CD[t+36>>2]=CD[e+32>>2],CD[t+36+4>>2]=CD[e+32+4>>2],CD[t+36+8>>2]=CD[e+32+8>>2],CD[t+36+12>>2]=CD[e+32+12>>2],CD[t+52>>2]=CD[e+48>>2],CD[t+52+4>>2]=CD[e+48+4>>2],CD[t+52+8>>2]=CD[e+48+8>>2],CD[t+52+12>>2]=CD[e+48+12>>2]}function $n(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function ta(t,e){t|=0,e|=0,bP[CD[(CD[t>>2]|0)+24>>2]&127](t,e)}function ea(t,e,i){t|=0,e=+e,i|=0,EP[CD[(CD[t>>2]|0)+32>>2]&15](t,e,i)}function ia(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function ra(t){return t|=0,MP[CD[(CD[t>>2]|0)+36>>2]&127](t)|0}function oa(t,e){return t|=0,e|=0,NP[CD[(CD[t>>2]|0)+40>>2]&31](t,e)|0}function na(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function aa(t,e){t|=0,e|=0;for(var i=0,r=0;;){if(i=Aw(84)|0){r=6;break}if(i=CD[5230]|0,CD[5230]=i+0,!i){r=5;break}ZP[i&3]()}if((r|0)==5)e=cP(4)|0,CD[e>>2]=20816,sP(e|0,20864,207);else if((r|0)==6)return RD[i+4>>2]=1,CD[i+8>>2]=0,xD[i+12>>1]=1,xD[i+14>>1]=-1,CD[i+16>>2]=0,CD[i>>2]=528,CD[i+20>>2]=CD[t>>2],CD[i+20+4>>2]=CD[t+4>>2],CD[i+20+8>>2]=CD[t+8>>2],CD[i+20+12>>2]=CD[t+12>>2],CD[i+36>>2]=CD[e>>2],CD[i+36+4>>2]=CD[e+4>>2],CD[i+36+8>>2]=CD[e+8>>2],CD[i+36+12>>2]=CD[e+12>>2],i|0;return 0}function sa(t){return t|=0,(CD[t+8>>2]|0)!=0|0}function la(t){return t|=0,t+20|0}function ca(t,e){t|=0,e|=0,CD[t+20>>2]=CD[e>>2],CD[t+20+4>>2]=CD[e+4>>2],CD[t+20+8>>2]=CD[e+8>>2],CD[t+20+12>>2]=CD[e+12>>2]}function ha(t){return t|=0,t+36|0}function ua(t,e){t|=0,e|=0,CD[t+36>>2]=CD[e>>2],CD[t+36+4>>2]=CD[e+4>>2],CD[t+36+8>>2]=CD[e+8>>2],CD[t+36+12>>2]=CD[e+12>>2]}function da(t){return t|=0,t+52|0}function pa(t,e){t|=0,e|=0,CD[t+52>>2]=CD[e>>2],CD[t+52+4>>2]=CD[e+4>>2],CD[t+52+8>>2]=CD[e+8>>2],CD[t+52+12>>2]=CD[e+12>>2]}function fa(t){return t|=0,t+68|0}function _a(t,e){t|=0,e|=0,CD[t+68>>2]=CD[e>>2],CD[t+68+4>>2]=CD[e+4>>2],CD[t+68+8>>2]=CD[e+8>>2],CD[t+68+12>>2]=CD[e+12>>2]}function ma(t){return t|=0,xD[t+12>>1]|0}function ga(t,e){t|=0,e|=0,xD[t+12>>1]=e}function ya(t){return t|=0,xD[t+14>>1]|0}function ba(t,e){t|=0,e|=0,xD[t+14>>1]=e}function va(t){return t|=0,CD[t+8>>2]|0}function Ma(t,e){t|=0,e|=0,CD[t+8>>2]=e}function Sa(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function Ta(t,e){t|=0,e|=0,bP[CD[(CD[t>>2]|0)+64>>2]&127](t,e)}function xa(t){t|=0;var e=0,i=0;((TD[216]|0)==0?(KD(216)|0)!=0:0)&&(RD[32]=.6000000238418579,RD[33]=1,RD[34]=.30000001192092896,RD[35]=.01666666753590107,RD[36]=0,RD[38]=20,CD[37]=10,RD[40]=.20000000298023224,RD[41]=.800000011920929,RD[42]=0,RD[39]=1,CD[43]=1,RD[44]=-.03999999910593033,RD[45]=.10000000149011612,RD[46]=0,RD[47]=.8500000238418579,CD[48]=260,CD[49]=2,CD[50]=128,RD[51]=100,RD[52]=1.0000000150474662e30,QD(216)),i=128,t=t+92|0,e=i+84|0;do CD[i>>2]=CD[t>>2],i=i+4|0,t=t+4|0;while((i|0)<(e|0));return 128}function Ca(t){return t|=0,CD[t+24>>2]|0}function Ea(t,e,i,r){t|=0,e|=0,i|=0,r|=0,eB[CD[(CD[t>>2]|0)+32>>2]&127](t,e,i,r)}function Aa(t){return t|=0,t=CD[t+68>>2]|0,MP[CD[(CD[t>>2]|0)+36>>2]&127](t)|0}function wa(t){return t|=0,t+28|0}function Ra(t,e){t|=0,e|=0,eB[CD[(CD[t>>2]|0)+36>>2]&127](t,e,1,-1)}function Da(t,e,i){t|=0,e|=0,i|=0,eB[CD[(CD[t>>2]|0)+36>>2]&127](t,e,i,-1)}function Pa(t,e,i,r){t|=0,e|=0,i|=0,r|=0,eB[CD[(CD[t>>2]|0)+36>>2]&127](t,e,i,r)}function Ba(t){return t|=0,CD[t+68>>2]|0}function Va(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n=+n,ES(t,e,i,r,o,n)}function La(t,e,i,r){t|=0,e|=0,i|=0,r|=0,AS(t,e,i,r)}function ka(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function Ha(t,e){t=+t,e=+e;var i=0;return CD[5108]=(CD[5108]|0)+1,i=Aw(75)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,i=i+4+15&-16):i=0,CD[i+8>>2]=0,RD[i+12>>2]=1,RD[i+16>>2]=1,RD[i+20>>2]=1,RD[i+24>>2]=0,RD[i+44>>2]=.03999999910593033,CD[i+4>>2]=10,CD[i>>2]=14200,CD[i+52>>2]=0,RD[i+28>>2]=e*.5,RD[i+32>>2]=t,RD[i+36>>2]=t,RD[i+40>>2]=0,i|0}function Ia(t,e){t|=0,e|=0,bP[CD[(CD[t>>2]|0)+24>>2]&127](t,e)}function Oa(t,e,i){t|=0,e=+e,i|=0,EP[CD[(CD[t>>2]|0)+32>>2]&15](t,e,i)}function Ja(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function Na(t,e,i,r){t=+t,e=+e,i=+i,r=+r;for(var o=0,n=0;;){if(o=Aw(16)|0){n=6;break}if(o=CD[5230]|0,CD[5230]=o+0,!o){n=5;break}ZP[o&3]()}if((n|0)==5)n=cP(4)|0,CD[n>>2]=20816,sP(n|0,20864,207);else if((n|0)==6)return RD[o>>2]=t,RD[o+4>>2]=e,RD[o+8>>2]=i,RD[o+12>>2]=r,o|0;return 0}function Fa(t,e,i,r,o){t|=0,e=+e,i=+i,r=+r,o=+o,RD[t>>2]=e,RD[t+4>>2]=i,RD[t+8>>2]=r,RD[t+12>>2]=o}function Ga(t){return t|=0,+ +RD[t>>2]}function za(t){return t|=0,+ +RD[t+4>>2]}function ja(t){return t|=0,+ +RD[t+8>>2]}function Ua(t){return t|=0,+ +RD[t+12>>2]}function Wa(t,e){t|=0,e=+e,RD[t>>2]=e}function Xa(t,e){t|=0,e=+e,RD[t+4>>2]=e}function qa(t,e){t|=0,e=+e,RD[t+8>>2]=e}function Ka(t,e){t|=0,e=+e,RD[t+12>>2]=e}function Ya(t){t|=0,t&&ww(t)}function Qa(t,e){t=+t,e=+e;var i=0;return CD[5108]=(CD[5108]|0)+1,i=Aw(75)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,i=i+4+15&-16):i=0,CD[i+8>>2]=0,RD[i+12>>2]=1,RD[i+16>>2]=1,RD[i+20>>2]=1,RD[i+24>>2]=0,RD[i+44>>2]=.03999999910593033,CD[i+4>>2]=10,CD[i>>2]=14304,CD[i+52>>2]=2,RD[i+28>>2]=t,RD[i+32>>2]=t,RD[i+36>>2]=e*.5,RD[i+40>>2]=0,i|0}function Za(t,e){t|=0,e|=0,bP[CD[(CD[t>>2]|0)+24>>2]&127](t,e)}function $a(t,e,i){t|=0,e=+e,i|=0,EP[CD[(CD[t>>2]|0)+32>>2]&15](t,e,i)}function ts(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function es(t){t|=0;for(var e=0,i=0;;){if(e=Aw(8)|0){i=6;break}if(e=CD[5230]|0,CD[5230]=e+0,!e){i=5;break}ZP[e&3]()}if((i|0)==5)t=cP(4)|0,CD[t>>2]=20816,sP(t|0,20864,207);else if((i|0)==6)return CD[e>>2]=4952,CD[e+4>>2]=t,e|0;return 0}function is(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function rs(t){return t|=0,(CD[t+8>>2]|0)!=0|0}function os(t){return t|=0,xD[t+12>>1]|0}function ns(t,e){t|=0,e|=0,xD[t+12>>1]=e}function as(t){return t|=0,xD[t+14>>1]|0}function ss(t,e){t|=0,e|=0,xD[t+14>>1]=e}function ls(t){return t|=0,CD[t+8>>2]|0}function cs(t,e){t|=0,e|=0,CD[t+8>>2]=e}function hs(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function us(t){return t|=0,+ +RD[t+216>>2]}function ds(t,e){t|=0,e=+e,RD[t+216>>2]=e}function ps(t){return t|=0,+ +RD[t+228>>2]}function fs(t,e){t|=0,e=+e,RD[t+228>>2]=e}function _s(t){return t|=0,+ +RD[t+244>>2]}function ms(t,e){t|=0,e=+e,RD[t+244>>2]=e}function gs(t){return t|=0,+ +RD[t+204>>2]}function ys(t,e){t|=0,e=+e,RD[t+204>>2]=e}function bs(t){return t|=0,+ +RD[t+212>>2]}function vs(t,e){t|=0,e=+e,RD[t+212>>2]=e}function Ms(t){return t|=0,+ +RD[t+220>>2]}function Ss(t,e){t|=0,e=+e,RD[t+220>>2]=e}function Ts(t){return t|=0,+ +RD[t+224>>2]}function xs(t,e){t|=0,e=+e,RD[t+224>>2]=e}function Cs(t){return t|=0,+ +RD[t+232>>2]}function Es(t,e){t|=0,e=+e,RD[t+232>>2]=e}function As(t){return t|=0,+ +RD[t+248>>2]}function ws(t,e){t|=0,e=+e,RD[t+248>>2]=e}function Rs(t){return t|=0,+ +RD[t+208>>2]}function Ds(t,e){t|=0,e=+e,RD[t+208>>2]=e}function Ps(t){return t|=0,+ +RD[t+276>>2]}function Bs(t,e){t|=0,e=+e,RD[t+276>>2]=e}function Vs(t){return t|=0,(TD[t+260>>0]&1)!=0|0}function Ls(t,e){t|=0,e|=0,TD[t+260>>0]=e&1}function ks(t){return t|=0,t+156|0}function Hs(t,e){t|=0,e|=0,CD[t+156>>2]=CD[e>>2],CD[t+156+4>>2]=CD[e+4>>2],CD[t+156+8>>2]=CD[e+8>>2],CD[t+156+12>>2]=CD[e+12>>2]}function Is(t){t|=0,t&&ww(t)}function Os(t,e){t|=0,e|=0,bP[CD[(CD[t>>2]|0)+24>>2]&127](t,e)}function Js(t,e,i){t|=0,e=+e,i|=0,EP[CD[(CD[t>>2]|0)+32>>2]&15](t,e,i)}function Ns(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function Fs(){var t=0;return CD[5108]=(CD[5108]|0)+1,(t=Aw(35)|0)?(CD[(t+4+15&-16)+-4>>2]=t,t=t+4+15&-16,t|0):(t=0,t|0)}function Gs(t,e,i,r){t=+t,e=+e,i=+i,r=+r;var o=0;return CD[5108]=(CD[5108]|0)+1,o=Aw(35)|0,o?(CD[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,RD[o>>2]=t,RD[o+4>>2]=e,RD[o+8>>2]=i,RD[o+12>>2]=r,o|0}function zs(t){return t|=0,+ +RD[t+12>>2]}function js(t,e,i,r,o){t|=0,e=+e,i=+i,r=+r,o=+o,RD[t>>2]=e,RD[t+4>>2]=i,RD[t+8>>2]=r,RD[t+12>>2]=o}function Us(t){t|=0;var e=0,i=0,r=0;return r=+RD[t>>2],i=+RD[t+4>>2],e=+RD[t+8>>2],+ +ND(+(r*r+i*i+e*e))}function Ws(t){return t|=0,+ +RD[t>>2]}function Xs(t){return t|=0,+ +RD[t+4>>2]}function qs(t){return t|=0,+ +RD[t+8>>2]}function Ks(t,e){t|=0,e=+e,RD[t>>2]=e}function Ys(t,e){t|=0,e=+e,RD[t+4>>2]=e}function Qs(t,e){t|=0,e=+e,RD[t+8>>2]=e}function Zs(t,e){return t|=0,e=+e,RD[t>>2]=+RD[t>>2]*e,RD[t+4>>2]=+RD[t+4>>2]*e,RD[t+8>>2]=+RD[t+8>>2]*e,t|0}function $s(t){t|=0,t&&(CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0))}function tl(t,e,i){t|=0,e|=0,i=+i;var r=0,o=0;return CD[5108]=(CD[5108]|0)+1,r=Aw(203)|0,r?(CD[(r+4+15&-16)+-4>>2]=r,r=r+4+15&-16):r=0,CD[r>>2]=5024,TD[r+144>>0]=1,CD[r+140>>2]=0,CD[r+132>>2]=0,CD[r+136>>2]=0,CD[r+176>>2]=1,RD[r+56>>2]=.019999999552965164,o=r+60|0,CD[o>>2]=0,CD[o+4>>2]=0,CD[o+8>>2]=0,CD[o+12>>2]=0,TD[r+170>>0]=1,CD[r+8>>2]=t,RD[r+52>>2]=i,RD[r+48>>2]=0,CD[r+12>>2]=e,TD[r+171>>0]=1,RD[r+172>>2]=0,RD[r+16>>2]=0,RD[r+20>>2]=0,RD[r+44>>2]=29.399999618530273,RD[r+24>>2]=55,RD[r+28>>2]=10,TD[r+168>>0]=0,TD[r+169>>0]=0,TD[r+180>>0]=1,RD[r+36>>2]=.7853981852531433,RD[r+40>>2]=.7071067690849304,RD[r+108>>2]=0,TD[r+181>>0]=0,TD[r+182>>0]=0,r|0}function el(t,e,i,r){t|=0,e|=0,i=+i,r|=0;var o=0;return CD[5108]=(CD[5108]|0)+1,o=Aw(203)|0,o?(CD[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,CD[o>>2]=5024,TD[o+144>>0]=1,CD[o+140>>2]=0,CD[o+132>>2]=0,CD[o+136>>2]=0,CD[o+176>>2]=r,RD[o+56>>2]=.019999999552965164,r=o+60|0,CD[r>>2]=0,CD[r+4>>2]=0,CD[r+8>>2]=0,CD[r+12>>2]=0,TD[o+170>>0]=1,CD[o+8>>2]=t,RD[o+52>>2]=i,RD[o+48>>2]=0,CD[o+12>>2]=e,TD[o+171>>0]=1,RD[o+172>>2]=0,RD[o+16>>2]=0,RD[o+20>>2]=0,RD[o+44>>2]=29.399999618530273,RD[o+24>>2]=55,RD[o+28>>2]=10,TD[o+168>>0]=0,TD[o+169>>0]=0,TD[o+180>>0]=1,RD[o+36>>2]=.7853981852531433,RD[o+40>>2]=.7071067690849304,RD[o+108>>2]=0,TD[o+181>>0]=0,TD[o+182>>0]=0,o|0}function il(t,e){t|=0,e|=0,e=(e|0)<0?0:(e|0)>2?2:e,CD[t+176>>2]=e}function rl(t,e){t|=0,e|=0,bP[CD[(CD[t>>2]|0)+16>>2]&127](t,e)}function ol(t,e,i){t|=0,e|=0,i=+i,$P[CD[(CD[t>>2]|0)+20>>2]&7](t,e,i)}function nl(t,e){t|=0,e|=0,bP[CD[(CD[t>>2]|0)+28>>2]&127](t,e)}function al(t,e){t|=0,e|=0,bP[CD[(CD[t>>2]|0)+32>>2]&127](t,e)}function sl(t,e,i){t|=0,e|=0,i=+i,$P[CD[(CD[t>>2]|0)+36>>2]&7](t,e,i)}function ll(t,e){t|=0,e=+e,RD[t+24>>2]=e}function cl(t,e){t|=0,e=+e,RD[t+28>>2]=e}function hl(t,e){t|=0,e=+e,RD[t+32>>2]=e}function ul(t){return t|=0,MP[CD[(CD[t>>2]|0)+40>>2]&127](t)|0}function dl(t){t|=0,gP[CD[(CD[t>>2]|0)+44>>2]&255](t)}function pl(t,e){t|=0,e=+e,RD[t+44>>2]=e}function fl(t){return t|=0,+ +RD[t+44>>2]}function _l(t,e){t|=0,e=+e,RD[t+36>>2]=e,e=+GD(+e),RD[t+40>>2]=e}function ml(t){return t|=0,+ +RD[t+36>>2]}function gl(t){return t|=0,CD[t+8>>2]|0}function yl(t,e){t|=0,e|=0,TD[t+170>>0]=e&1}function bl(t){return t|=0,MP[CD[(CD[t>>2]|0)+48>>2]&127](t)|0}function vl(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function Ml(t,e){t|=0,e=+e;var i=0,r=0,o=0,n=0,a=0,s=0,l=0;return CD[5108]=(CD[5108]|0)+1,i=Aw(103)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,i=i+4+15&-16):i=0,r=i+4|0,CD[r>>2]=35,CD[i+8>>2]=0,RD[i+12>>2]=0,CD[i>>2]=13176,l=+RD[t>>2],s=+RD[t+4>>2],a=+RD[t+8>>2],o=+RD[t+12>>2],n=1/+ND(+(l*l+s*s+a*a)),RD[i+48>>2]=l*n,RD[i+52>>2]=s*n,RD[i+56>>2]=a*n,RD[i+60>>2]=o,RD[i+64>>2]=e,t=i+68|0,CD[t>>2]=0,CD[t+4>>2]=0,CD[t+8>>2]=0,CD[t+12>>2]=0,CD[r>>2]=28,i|0}function Sl(t,e){t|=0,e|=0,bP[CD[(CD[t>>2]|0)+24>>2]&127](t,e)}function Tl(t,e,i){t|=0,e=+e,i|=0,EP[CD[(CD[t>>2]|0)+32>>2]&15](t,e,i)}function xl(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function Cl(t){return t|=0,(CD[t+44>>2]|0)!=0|0}function El(t,e){t|=0,e|=0,CD[t+44>>2]=e&1}function Al(t){return t|=0,~~+RD[t+48>>2]|0}function wl(t,e){t|=0,e|=0,RD[t+48>>2]=+(e|0)}function Rl(t){t|=0,t&&ww(t)}function Dl(t,e){t|=0,e|=0,bP[CD[(CD[t>>2]|0)+60>>2]&127](t,e)}function Pl(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function Bl(){var t=0;return CD[5108]=(CD[5108]|0)+1,(t=Aw(35)|0)?(CD[(t+4+15&-16)+-4>>2]=t,t=t+4+15&-16,t|0):(t=0,t|0)}function Vl(t,e,i){t=+t,e=+e,i=+i;var r=0;return CD[5108]=(CD[5108]|0)+1,r=Aw(35)|0,r?(CD[(r+4+15&-16)+-4>>2]=r,r=r+4+15&-16):r=0,RD[r>>2]=t,RD[r+4>>2]=e,RD[r+8>>2]=i,RD[r+12>>2]=0,r|0}function Ll(t){t|=0;var e=0,i=0,r=0;return r=+RD[t>>2],i=+RD[t+4>>2],e=+RD[t+8>>2],+ +ND(+(r*r+i*i+e*e))}function kl(t){return t|=0,+ +RD[t>>2]}function Hl(t){return t|=0,+ +RD[t+4>>2]}function Il(t){return t|=0,+ +RD[t+8>>2]}function Ol(t,e){t|=0,e=+e,RD[t>>2]=e}function Jl(t,e){t|=0,e=+e,RD[t+4>>2]=e}function Nl(t,e){t|=0,e=+e,RD[t+8>>2]=e}function Fl(t,e,i,r){t|=0,e=+e,i=+i,r=+r,RD[t>>2]=e,RD[t+4>>2]=i,RD[t+8>>2]=r,RD[t+12>>2]=0}function Gl(t,e){return t|=0,e=+e,RD[t>>2]=+RD[t>>2]*e,RD[t+4>>2]=+RD[t+4>>2]*e,RD[t+8>>2]=+RD[t+8>>2]*e,t|0}function zl(t){t|=0,t&&(CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0))}function jl(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function Ul(t){t=+t;var e=0;return CD[5108]=(CD[5108]|0)+1,e=Aw(71)|0,e?(CD[(e+4+15&-16)+-4>>2]=e,e=e+4+15&-16):e=0,CD[e+8>>2]=0,RD[e+12>>2]=1,RD[e+16>>2]=1,RD[e+20>>2]=1,RD[e+24>>2]=0,CD[e>>2]=12008,CD[e+4>>2]=8,RD[e+28>>2]=t,RD[e+44>>2]=t,e|0}function Wl(t,e){t|=0,e|=0,bP[CD[(CD[t>>2]|0)+24>>2]&127](t,e)}function Xl(t,e,i){t|=0,e=+e,i|=0,EP[CD[(CD[t>>2]|0)+32>>2]&15](t,e,i)}function ql(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function Kl(){for(var t=0,e=0;;){if(t=Aw(24)|0){e=6;break}if(t=CD[5230]|0,CD[5230]=t+0,!t){e=5;break}ZP[t&3]()}if((e|0)==5)e=cP(4)|0,CD[e>>2]=20816,sP(e|0,20864,207);else if((e|0)==6)return CD[t>>2]=0,CD[t+4>>2]=0,CD[t+8>>2]=4096,CD[t+12>>2]=4096,CD[t+16>>2]=0,CD[t+20>>2]=1,t|0;return 0}function Yl(t){t|=0,t&&ww(t)}function Ql(t,e){t|=0,e|=0;var i=0;return CD[5108]=(CD[5108]|0)+1,i=Aw(783)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,i=i+4+15&-16):i=0,xv(i,t,e,0),i|0
}function Zl(t,e,i){t|=0,e|=0,i|=0;var r=0;return CD[5108]=(CD[5108]|0)+1,r=Aw(783)|0,r?(CD[(r+4+15&-16)+-4>>2]=r,r=r+4+15&-16):r=0,xv(r,t,e,i),r|0}function $l(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;return CD[5108]=(CD[5108]|0)+1,o=Aw(783)|0,o?(CD[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,CD[o+4>>2]=4,CD[o+8>>2]=-1,CD[o+12>>2]=-1,RD[o+16>>2]=3.4028234663852886e38,TD[o+20>>0]=1,TD[o+21>>0]=0,CD[o+24>>2]=-1,CD[o+28>>2]=t,CD[o+32>>2]=e,RD[o+36>>2]=0,RD[o+40>>2]=.30000001192092896,CD[o+44>>2]=0,CD[o>>2]=3840,e=o+552|0,CD[e>>2]=CD[i>>2],CD[e+4>>2]=CD[i+4>>2],CD[e+8>>2]=CD[i+8>>2],CD[e+12>>2]=CD[i+12>>2],e=o+568|0,CD[e>>2]=CD[i+16>>2],CD[e+4>>2]=CD[i+16+4>>2],CD[e+8>>2]=CD[i+16+8>>2],CD[e+12>>2]=CD[i+16+12>>2],e=o+584|0,CD[e>>2]=CD[i+32>>2],CD[e+4>>2]=CD[i+32+4>>2],CD[e+8>>2]=CD[i+32+8>>2],CD[e+12>>2]=CD[i+32+12>>2],e=o+600|0,CD[e>>2]=CD[i+48>>2],CD[e+4>>2]=CD[i+48+4>>2],CD[e+8>>2]=CD[i+48+8>>2],CD[e+12>>2]=CD[i+48+12>>2],i=o+616|0,CD[i>>2]=CD[r>>2],CD[i+4>>2]=CD[r+4>>2],CD[i+8>>2]=CD[r+8>>2],CD[i+12>>2]=CD[r+12>>2],i=o+632|0,CD[i>>2]=CD[r+16>>2],CD[i+4>>2]=CD[r+16+4>>2],CD[i+8>>2]=CD[r+16+8>>2],CD[i+12>>2]=CD[r+16+12>>2],i=o+648|0,CD[i>>2]=CD[r+32>>2],CD[i+4>>2]=CD[r+32+4>>2],CD[i+8>>2]=CD[r+32+8>>2],CD[i+12>>2]=CD[r+32+12>>2],i=o+664|0,CD[i>>2]=CD[r+48>>2],CD[i+4>>2]=CD[r+48+4>>2],CD[i+8>>2]=CD[r+48+8>>2],CD[i+12>>2]=CD[r+48+12>>2],RD[o+688>>2]=0,RD[o+692>>2]=-1,RD[o+696>>2]=.8999999761581421,RD[o+700>>2]=.30000001192092896,RD[o+704>>2]=1,RD[o+708>>2]=0,RD[o+712>>2]=0,TD[o+716>>0]=0,TD[o+736>>0]=0,TD[o+737>>0]=0,TD[o+738>>0]=0,TD[o+739>>0]=1,TD[o+740>>0]=0,CD[o+748>>2]=0,RD[o+732>>2]=1,o|0}function tc(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0;return CD[5108]=(CD[5108]|0)+1,n=Aw(783)|0,n?(CD[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,CD[n+4>>2]=4,CD[n+8>>2]=-1,CD[n+12>>2]=-1,RD[n+16>>2]=3.4028234663852886e38,TD[n+20>>0]=1,TD[n+21>>0]=0,CD[n+24>>2]=-1,CD[n+28>>2]=t,CD[n+32>>2]=e,RD[n+36>>2]=0,RD[n+40>>2]=.30000001192092896,CD[n+44>>2]=0,CD[n>>2]=3840,e=n+552|0,CD[e>>2]=CD[i>>2],CD[e+4>>2]=CD[i+4>>2],CD[e+8>>2]=CD[i+8>>2],CD[e+12>>2]=CD[i+12>>2],e=n+568|0,CD[e>>2]=CD[i+16>>2],CD[e+4>>2]=CD[i+16+4>>2],CD[e+8>>2]=CD[i+16+8>>2],CD[e+12>>2]=CD[i+16+12>>2],e=n+584|0,CD[e>>2]=CD[i+32>>2],CD[e+4>>2]=CD[i+32+4>>2],CD[e+8>>2]=CD[i+32+8>>2],CD[e+12>>2]=CD[i+32+12>>2],e=n+600|0,CD[e>>2]=CD[i+48>>2],CD[e+4>>2]=CD[i+48+4>>2],CD[e+8>>2]=CD[i+48+8>>2],CD[e+12>>2]=CD[i+48+12>>2],i=n+616|0,CD[i>>2]=CD[r>>2],CD[i+4>>2]=CD[r+4>>2],CD[i+8>>2]=CD[r+8>>2],CD[i+12>>2]=CD[r+12>>2],i=n+632|0,CD[i>>2]=CD[r+16>>2],CD[i+4>>2]=CD[r+16+4>>2],CD[i+8>>2]=CD[r+16+8>>2],CD[i+12>>2]=CD[r+16+12>>2],i=n+648|0,CD[i>>2]=CD[r+32>>2],CD[i+4>>2]=CD[r+32+4>>2],CD[i+8>>2]=CD[r+32+8>>2],CD[i+12>>2]=CD[r+32+12>>2],i=n+664|0,CD[i>>2]=CD[r+48>>2],CD[i+4>>2]=CD[r+48+4>>2],CD[i+8>>2]=CD[r+48+8>>2],CD[i+12>>2]=CD[r+48+12>>2],RD[n+688>>2]=0,RD[n+692>>2]=-1,RD[n+696>>2]=.8999999761581421,RD[n+700>>2]=.30000001192092896,RD[n+704>>2]=1,RD[n+708>>2]=0,RD[n+712>>2]=0,TD[n+716>>0]=0,TD[n+736>>0]=0,TD[n+737>>0]=0,TD[n+738>>0]=0,TD[n+739>>0]=1,TD[n+740>>0]=o&1,CD[n+748>>2]=0,RD[n+732>>2]=o?-1:1,n|0}function ec(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0;var a=0;return CD[5108]=(CD[5108]|0)+1,a=Aw(783)|0,a?(CD[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,Tv(a,t,e,i,r,o,n,0),a|0}function ic(t,e,i,r,o,n,a){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0;var s=0;return CD[5108]=(CD[5108]|0)+1,s=Aw(783)|0,s?(CD[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,Tv(s,t,e,i,r,o,n,a),s|0}function rc(t,e,i,r,o){t|=0,e=+e,i=+i,r=+r,o=+o,RD[t+692>>2]=(i-e)*.5,e=+Rw((i-e)*.5+e,6.2831854820251465),e<-3.1415927410125732?e+=6.2831854820251465:e>3.1415927410125732&&(e+=-6.2831854820251465),RD[t+688>>2]=e,RD[t+696>>2]=r,RD[t+700>>2]=o,RD[t+704>>2]=1}function oc(t,e,i,r,o,n){t|=0,e=+e,i=+i,r=+r,o=+o,n=+n,RD[t+692>>2]=(i-e)*.5,e=+Rw((i-e)*.5+e,6.2831854820251465),e<-3.1415927410125732?e+=6.2831854820251465:e>3.1415927410125732&&(e+=-6.2831854820251465),RD[t+688>>2]=e,RD[t+696>>2]=r,RD[t+700>>2]=o,RD[t+704>>2]=n}function nc(t,e,i,r){t|=0,e|=0,i=+i,r=+r,TD[t+737>>0]=e&1,RD[t+680>>2]=i,RD[t+684>>2]=r}function ac(t,e){t|=0,e|=0,TD[t+21>>0]=e&1}function sc(t){return t|=0,+ +RD[t+16>>2]}function lc(t,e){t|=0,e=+e,RD[t+16>>2]=e}function cc(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function hc(t,e){t|=0,e|=0,bP[CD[(CD[t>>2]|0)+24>>2]&127](t,e)}function uc(t,e,i){t|=0,e=+e,i|=0,EP[CD[(CD[t>>2]|0)+32>>2]&15](t,e,i)}function dc(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function pc(){for(var t=0,e=0;;){if(t=Aw(12)|0){e=6;break}if(t=CD[5230]|0,CD[5230]=t+0,!t){e=5;break}ZP[t&3]()}if((e|0)==5)e=cP(4)|0,CD[e>>2]=20816,sP(e|0,20864,207);else if((e|0)==6)return RD[t>>2]=.30000001192092896,RD[t+4>>2]=1,RD[t+8>>2]=0,t|0;return 0}function fc(t){return t|=0,+ +RD[t>>2]}function _c(t,e){t|=0,e=+e,RD[t>>2]=e}function mc(t){return t|=0,+ +RD[t+4>>2]}function gc(t,e){t|=0,e=+e,RD[t+4>>2]=e}function yc(t){return t|=0,+ +RD[t+8>>2]}function bc(t,e){t|=0,e=+e,RD[t+8>>2]=e}function vc(t){t|=0,t&&ww(t)}function Mc(){var t=0,e=0;return CD[5108]=(CD[5108]|0)+1,t=Aw(303)|0,t?(CD[(t+4+15&-16)+-4>>2]=t,t=t+4+15&-16):t=0,RD[t+164>>2]=1,RD[t+168>>2]=1,RD[t+172>>2]=1,RD[t+176>>2]=0,CD[t+180>>2]=0,RD[t+184>>2]=0xde0b6b000000000,e=t+188|0,CD[e>>2]=0,CD[e+4>>2]=0,CD[e+8>>2]=0,CD[e+12>>2]=0,CD[t+204>>2]=1,CD[t+208>>2]=-1,CD[t+212>>2]=-1,CD[t+216>>2]=1,RD[t+220>>2]=0,RD[t+224>>2]=.5,RD[t+228>>2]=0,RD[t+232>>2]=0,CD[t+240>>2]=0,RD[t+244>>2]=1,e=t+248|0,CD[e>>2]=0,CD[e+4>>2]=0,CD[e+8>>2]=0,CD[e+12>>2]=0,RD[t+4>>2]=1,e=t+8|0,CD[e>>2]=0,CD[e+4>>2]=0,CD[e+8>>2]=0,CD[e+12>>2]=0,RD[t+24>>2]=1,e=t+28|0,CD[e>>2]=0,CD[e+4>>2]=0,CD[e+8>>2]=0,CD[e+12>>2]=0,RD[t+44>>2]=1,e=t+48|0,CD[e>>2]=0,CD[e+4>>2]=0,CD[e+8>>2]=0,CD[e+12>>2]=0,CD[e+16>>2]=0,CD[t>>2]=5416,TD[t+280>>0]=1,CD[t+276>>2]=0,CD[t+268>>2]=0,CD[t+272>>2]=0,CD[t+236>>2]=4,t|0}function Sc(t){return t|=0,CD[t+268>>2]|0}function Tc(t,e){return t|=0,e|=0,CD[(CD[t+276>>2]|0)+(e<<2)>>2]|0}function xc(t,e,i){return t|=0,e|=0,i|=0,CD[t+164>>2]=CD[e>>2],CD[t+164+4>>2]=CD[e+4>>2],CD[t+164+8>>2]=CD[e+8>>2],CD[t+164+12>>2]=CD[e+12>>2],((+RD[e>>2]==1?+RD[e+4>>2]==1:0)?+RD[e+8>>2]==1:0)?(i=0,t=t+180|0,void(CD[t>>2]=i)):(t=t+180|0,void(CD[t>>2]=i))}function Cc(t){return t|=0,CD[t+192>>2]|0}function Ec(t,e){t|=0,e=+e,RD[t+184>>2]=e}function Ac(t,e){t|=0,e|=0,(CD[t+216>>2]&-2|0)!=4&&(CD[t+216>>2]=e)}function wc(t,e){t|=0,e|=0,CD[t+216>>2]=e}function Rc(t){t|=0,CD[t+204>>2]&3||((CD[t+216>>2]&-2|0)!=4&&(CD[t+216>>2]=1),RD[t+220>>2]=0)}function Dc(t,e){t|=0,e|=0,(e?0:(CD[t+204>>2]&3|0)!=0)||((CD[t+216>>2]&-2|0)!=4&&(CD[t+216>>2]=1),RD[t+220>>2]=0)}function Pc(t){return t|=0,t=CD[t+216>>2]|0,((t|0)==2?0:(t|0)!=5)|0}function Bc(t){return t|=0,(CD[t+204>>2]&2|0)!=0|0}function Vc(t,e){t|=0,e=+e,CD[t+260>>2]=(CD[t+260>>2]|0)+1,RD[t+228>>2]=e}function Lc(t,e){t|=0,e=+e,CD[t+260>>2]=(CD[t+260>>2]|0)+1,RD[t+224>>2]=e}function kc(t,e){t|=0,e=+e,CD[t+260>>2]=(CD[t+260>>2]|0)+1,RD[t+232>>2]=e}function Hc(t){return t|=0,t+4|0}function Ic(t){return t|=0,CD[t+204>>2]|0}function Oc(t,e){t|=0,e|=0,CD[t+204>>2]=e}function Jc(t,e){t|=0,e|=0,CD[t+260>>2]=(CD[t+260>>2]|0)+1,CD[t+4>>2]=CD[e>>2],CD[t+4+4>>2]=CD[e+4>>2],CD[t+4+8>>2]=CD[e+8>>2],CD[t+4+12>>2]=CD[e+12>>2],CD[t+20>>2]=CD[e+16>>2],CD[t+20+4>>2]=CD[e+16+4>>2],CD[t+20+8>>2]=CD[e+16+8>>2],CD[t+20+12>>2]=CD[e+16+12>>2],CD[t+36>>2]=CD[e+32>>2],CD[t+36+4>>2]=CD[e+32+4>>2],CD[t+36+8>>2]=CD[e+32+8>>2],CD[t+36+12>>2]=CD[e+32+12>>2],CD[t+52>>2]=CD[e+48>>2],CD[t+52+4>>2]=CD[e+48+4>>2],CD[t+52+8>>2]=CD[e+48+8>>2],CD[t+52+12>>2]=CD[e+48+12>>2]}function Nc(t,e){t|=0,e|=0,bP[CD[(CD[t>>2]|0)+12>>2]&127](t,e)}function Fc(t,e){t|=0,e=+e,RD[t+252>>2]=e}function Gc(t,e){t|=0,e=+e,RD[t+248>>2]=e}function zc(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+8>>2]&255](t)}function jc(t){return t|=0,CD[t>>2]|0}function Uc(t,e){t|=0,e|=0,CD[t>>2]=e}function Wc(t){return t|=0,CD[t+4>>2]|0}function Xc(t,e){t|=0,e|=0,CD[t+4>>2]=e}function qc(t){t|=0,t&&ww(t)}function Kc(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function Yc(t,e,i){t|=0,e|=0,i|=0;var r=0;return CD[5108]=(CD[5108]|0)+1,r=Aw(1407)|0,r?(CD[(r+4+15&-16)+-4>>2]=r,r=r+4+15&-16):r=0,zb(r,t,e,i),CD[r>>2]=2640,CD[r+4>>2]=9,TD[r+1309>>0]=0,RD[r+1316>>2]=0,RD[r+1340>>2]=0,RD[r+1364>>2]=1,TD[r+1310>>0]=0,RD[r+1320>>2]=0,RD[r+1344>>2]=0,RD[r+1368>>2]=1,TD[r+1311>>0]=0,RD[r+1324>>2]=0,RD[r+1348>>2]=0,RD[r+1372>>2]=1,TD[r+1312>>0]=0,RD[r+1328>>2]=0,RD[r+1352>>2]=0,RD[r+1376>>2]=1,TD[r+1313>>0]=0,RD[r+1332>>2]=0,RD[r+1356>>2]=0,RD[r+1380>>2]=1,TD[r+1314>>0]=0,RD[r+1336>>2]=0,RD[r+1360>>2]=0,RD[r+1384>>2]=1,r|0}function Qc(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0;return CD[5108]=(CD[5108]|0)+1,n=Aw(1407)|0,n?(CD[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,Gb(n,t,e,i,r,o),CD[n>>2]=2640,CD[n+4>>2]=9,TD[n+1309>>0]=0,RD[n+1316>>2]=0,RD[n+1340>>2]=0,RD[n+1364>>2]=1,TD[n+1310>>0]=0,RD[n+1320>>2]=0,RD[n+1344>>2]=0,RD[n+1368>>2]=1,TD[n+1311>>0]=0,RD[n+1324>>2]=0,RD[n+1348>>2]=0,RD[n+1372>>2]=1,TD[n+1312>>0]=0,RD[n+1328>>2]=0,RD[n+1352>>2]=0,RD[n+1376>>2]=1,TD[n+1313>>0]=0,RD[n+1332>>2]=0,RD[n+1356>>2]=0,RD[n+1380>>2]=1,TD[n+1314>>0]=0,RD[n+1336>>2]=0,RD[n+1360>>2]=0,RD[n+1384>>2]=1,n|0}function Zc(t,e,i){return t|=0,e|=0,i|=0,TD[t+1309+e>>0]=i&1,(e|0)<3?void(TD[t+788+e>>0]=i&1):void(TD[t+868+(e+-3<<6)+44>>0]=i&1)}function $c(t,e,i){t|=0,e|=0,i=+i,RD[t+1340+(e<<2)>>2]=i}function th(t,e,i){t|=0,e|=0,i=+i,RD[t+1364+(e<<2)>>2]=i}function eh(t,e){t|=0,e|=0,CD[t+680>>2]=CD[e>>2],CD[t+680+4>>2]=CD[e+4>>2],CD[t+680+8>>2]=CD[e+8>>2],CD[t+680+12>>2]=CD[e+12>>2]}function ih(t,e){t|=0,e|=0,CD[t+696>>2]=CD[e>>2],CD[t+696+4>>2]=CD[e+4>>2],CD[t+696+8>>2]=CD[e+8>>2],CD[t+696+12>>2]=CD[e+12>>2]}function rh(t,e){t|=0,e|=0;var i=0,r=0;for(r=0;;){if((r|0)==3)break;i=+Rw(+RD[e+(r<<2)>>2],6.2831854820251465),i<-3.1415927410125732?i+=6.2831854820251465:i>3.1415927410125732&&(i+=-6.2831854820251465),RD[t+868+(r<<6)>>2]=i,r=r+1|0}}function oh(t,e){t|=0,e|=0;var i=0,r=0;for(r=0;;){if((r|0)==3)break;i=+Rw(+RD[e+(r<<2)>>2],6.2831854820251465),i<-3.1415927410125732?i+=6.2831854820251465:i>3.1415927410125732&&(i+=-6.2831854820251465),RD[t+868+(r<<6)+4>>2]=i,r=r+1|0}}function nh(t,e){t|=0,e|=0,TD[t+21>>0]=e&1}function ah(t){return t|=0,+ +RD[t+16>>2]}function sh(t,e){t|=0,e=+e,RD[t+16>>2]=e}function lh(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function ch(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o=+o;for(var n=0,a=0;;){if(n=Aw(44)|0){a=6;break}if(n=CD[5230]|0,CD[5230]=n+0,!n){a=5;break}ZP[n&3]()}if((a|0)==5)r=cP(4)|0,CD[r>>2]=20816,sP(r|0,20864,207);else if((a|0)==6)return CD[n>>2]=t,CD[n+4>>2]=e,CD[n+8>>2]=CD[i>>2],CD[n+8+4>>2]=CD[i+4>>2],CD[n+8+8>>2]=CD[i+8>>2],CD[n+8+12>>2]=CD[i+12>>2],CD[n+24>>2]=CD[r>>2],CD[n+24+4>>2]=CD[r+4>>2],CD[n+24+8>>2]=CD[r+8>>2],CD[n+24+12>>2]=CD[r+12>>2],RD[n+40>>2]=o,n|0;return 0}function hh(t){return t|=0,CD[t>>2]|0}function uh(t,e){t|=0,e|=0,CD[t>>2]=e}function dh(t){return t|=0,CD[t+4>>2]|0}function ph(t,e){t|=0,e|=0,CD[t+4>>2]=e}function fh(t){return t|=0,t+8|0}function _h(t,e){t|=0,e|=0,CD[t+8>>2]=CD[e>>2],CD[t+8+4>>2]=CD[e+4>>2],CD[t+8+8>>2]=CD[e+8>>2],CD[t+8+12>>2]=CD[e+12>>2]}function mh(t){return t|=0,t+24|0}function gh(t,e){t|=0,e|=0,CD[t+24>>2]=CD[e>>2],CD[t+24+4>>2]=CD[e+4>>2],CD[t+24+8>>2]=CD[e+8>>2],CD[t+24+12>>2]=CD[e+12>>2]}function yh(t){return t|=0,+ +RD[t+40>>2]}function bh(t,e){t|=0,e=+e,RD[t+40>>2]=e}function vh(t){t|=0,t&&ww(t)}function Mh(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function Sh(t){t|=0;var e=0,i=0;return CD[5108]=(CD[5108]|0)+1,e=Aw(635)|0,e?(CD[(e+4+15&-16)+-4>>2]=e,e=e+4+15&-16):e=0,RD[e+164>>2]=1,RD[e+168>>2]=1,RD[e+172>>2]=1,RD[e+176>>2]=0,CD[e+180>>2]=0,RD[e+184>>2]=0xde0b6b000000000,i=e+188|0,CD[i>>2]=0,CD[i+4>>2]=0,CD[i+8>>2]=0,CD[i+12>>2]=0,CD[e+204>>2]=1,CD[e+208>>2]=-1,CD[e+212>>2]=-1,CD[e+216>>2]=1,RD[e+220>>2]=0,RD[e+224>>2]=.5,RD[e+228>>2]=0,RD[e+232>>2]=0,CD[e+236>>2]=1,CD[e+240>>2]=0,RD[e+244>>2]=1,i=e+248|0,CD[i>>2]=0,CD[i+4>>2]=0,CD[i+8>>2]=0,CD[i+12>>2]=0,RD[e+4>>2]=1,i=e+8|0,CD[i>>2]=0,CD[i+4>>2]=0,CD[i+8>>2]=0,CD[i+12>>2]=0,RD[e+24>>2]=1,i=e+28|0,CD[i>>2]=0,CD[i+4>>2]=0,CD[i+8>>2]=0,CD[i+12>>2]=0,RD[e+44>>2]=1,i=e+48|0,CD[i>>2]=0,CD[i+4>>2]=0,CD[i+8>>2]=0,CD[i+12>>2]=0,CD[i+16>>2]=0,CD[e>>2]=1464,TD[e+500>>0]=1,CD[e+496>>2]=0,CD[e+488>>2]=0,CD[e+492>>2]=0,gd(e,t),e|0}function Th(t){return t|=0,t+4|0}function xh(t,e){t|=0,e|=0,bd(t,e)}function Ch(t,e,i){t|=0,e=+e,i=+i,RD[t+472>>2]=e,RD[t+476>>2]=i}function Eh(t,e,i){t|=0,e=+e,i=+i,e=e<0?0:e>1?1:e,RD[t+444>>2]=e,e=i<0?0:i>1?1:i,RD[t+448>>2]=e}function Ah(t,e,i){t|=0,e=+e,i|=0;var r=0,o=0,n=0,a=0;r=CD[t+204>>2]|0,e==0?(CD[t+204>>2]=r|1,a=0):(CD[t+204>>2]=r&-2,a=1/e),RD[t+344>>2]=a,o=+RD[t+384>>2]*e,n=+RD[t+388>>2]*e,RD[t+364>>2]=+RD[t+380>>2]*e,RD[t+368>>2]=o,RD[t+372>>2]=n,RD[t+376>>2]=0,e=+RD[i>>2],n=e!=0?1/e:0,e=+RD[i+4>>2],o=e!=0?1/e:0,e=+RD[i+8>>2],e=e!=0?1/e:0,RD[t+396>>2]=n,RD[t+400>>2]=o,RD[t+404>>2]=e,RD[t+408>>2]=0,o=a*+RD[t+352>>2],n=a*+RD[t+356>>2],RD[t+560>>2]=+RD[t+348>>2]*a,RD[t+564>>2]=o,RD[t+568>>2]=n,RD[t+572>>2]=0}function wh(t,e){t|=0,e|=0;var i=0,r=0,o=0;CD[t+348>>2]=CD[e>>2],CD[t+348+4>>2]=CD[e+4>>2],CD[t+348+8>>2]=CD[e+8>>2],CD[t+348+12>>2]=CD[e+12>>2],o=+RD[t+344>>2],r=+RD[t+352>>2]*o,i=+RD[t+356>>2]*o,RD[t+560>>2]=+RD[t+348>>2]*o,RD[t+564>>2]=r,RD[t+568>>2]=i,RD[t+572>>2]=0}function Rh(t,e){t|=0,e|=0;var i=0,r=0,o=0;i=+RD[t+344>>2],i!=0&&(o=1/i*+RD[e+4>>2],r=1/i*+RD[e+8>>2],RD[t+364>>2]=1/i*+RD[e>>2],RD[t+368>>2]=o,RD[t+372>>2]=r,RD[t+376>>2]=0),CD[t+380>>2]=CD[e>>2],CD[t+380+4>>2]=CD[e+4>>2],CD[t+380+8>>2]=CD[e+8>>2],CD[t+380+12>>2]=CD[e+12>>2]}function Dh(t,e){t|=0,e|=0;var i=0,r=0;r=+RD[e+4>>2]*+RD[t+548>>2],i=+RD[e+8>>2]*+RD[t+552>>2],RD[t+428>>2]=+RD[t+428>>2]+ +RD[e>>2]*+RD[t+544>>2],RD[t+432>>2]=+RD[t+432>>2]+r,RD[t+436>>2]=+RD[t+436>>2]+i}function Ph(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0;r=+RD[t+348>>2],n=+RD[t+352>>2],a=+RD[e+4>>2]*n,s=+RD[t+356>>2],l=+RD[e+8>>2]*s,RD[t+412>>2]=+RD[t+412>>2]+ +RD[e>>2]*r,RD[t+416>>2]=+RD[t+416>>2]+a,RD[t+420>>2]=+RD[t+420>>2]+l,r=+RD[e>>2]*r,n=+RD[e+4>>2]*n,s=+RD[e+8>>2]*s,l=+RD[i+4>>2],a=+RD[i+8>>2],c=+RD[i>>2],o=(a*r-c*s)*+RD[t+548>>2],r=(c*n-l*r)*+RD[t+552>>2],RD[t+428>>2]=+RD[t+428>>2]+(l*s-a*n)*+RD[t+544>>2],RD[t+432>>2]=+RD[t+432>>2]+o,RD[t+436>>2]=+RD[t+436>>2]+r}function Bh(t,e){t|=0,e|=0;var i=0,r=0;r=+RD[e+4>>2]*+RD[t+352>>2],i=+RD[e+8>>2]*+RD[t+356>>2],RD[t+412>>2]=+RD[t+412>>2]+ +RD[e>>2]*+RD[t+348>>2],RD[t+416>>2]=+RD[t+416>>2]+r,RD[t+420>>2]=+RD[t+420>>2]+i}function Vh(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0;a=+RD[e>>2],n=+RD[e+4>>2],o=+RD[e+8>>2],r=(+RD[t+280>>2]*a+ +RD[t+284>>2]*n+ +RD[t+288>>2]*o)*+RD[t+548>>2],i=(+RD[t+296>>2]*a+ +RD[t+300>>2]*n+ +RD[t+304>>2]*o)*+RD[t+552>>2],RD[t+328>>2]=+RD[t+328>>2]+(+RD[t+264>>2]*a+ +RD[t+268>>2]*n+ +RD[t+272>>2]*o)*+RD[t+544>>2],RD[t+332>>2]=+RD[t+332>>2]+r,RD[t+336>>2]=+RD[t+336>>2]+i}function Lh(t,e,i){t|=0,e|=0,i|=0,Qf(t,e,i)}function kh(t,e){t|=0,e|=0,Zf(t,e)}function Hh(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0;d=+RD[t+4>>2],a=+RD[t+396>>2],u=+RD[t+8>>2],o=+RD[t+400>>2],h=+RD[t+12>>2],i=+RD[t+404>>2],c=+RD[t+20>>2],l=+RD[t+24>>2],s=+RD[t+28>>2],n=+RD[t+36>>2],r=+RD[t+40>>2],e=+RD[t+44>>2],RD[t+264>>2]=d*d*a+u*u*o+h*h*i,RD[t+268>>2]=d*a*c+u*o*l+h*i*s,RD[t+272>>2]=d*a*n+u*o*r+h*i*e,RD[t+276>>2]=0,RD[t+280>>2]=d*a*c+u*o*l+h*i*s,RD[t+284>>2]=c*a*c+l*o*l+s*i*s,RD[t+288>>2]=a*c*n+o*l*r+i*s*e,RD[t+292>>2]=0,RD[t+296>>2]=d*a*n+u*o*r+h*i*e,RD[t+300>>2]=c*a*n+l*o*r+s*i*e,RD[t+304>>2]=n*a*n+r*o*r+e*i*e,RD[t+308>>2]=0}function Ih(t){return t|=0,t+312|0}function Oh(t){return t|=0,t+328|0}function Jh(t){return t|=0,t+380|0}function Nh(t,e){t|=0,e|=0,CD[t+260>>2]=(CD[t+260>>2]|0)+1,CD[t+312>>2]=CD[e>>2],CD[t+312+4>>2]=CD[e+4>>2],CD[t+312+8>>2]=CD[e+8>>2],CD[t+312+12>>2]=CD[e+12>>2]}function Fh(t,e){t|=0,e|=0,CD[t+260>>2]=(CD[t+260>>2]|0)+1,CD[t+328>>2]=CD[e>>2],CD[t+328+4>>2]=CD[e+4>>2],CD[t+328+8>>2]=CD[e+8>>2],CD[t+328+12>>2]=CD[e+12>>2]}function Gh(t){return t|=0,CD[t+480>>2]|0}function zh(t,e){t|=0,e|=0,CD[t+260>>2]=(CD[t+260>>2]|0)+1,CD[t+544>>2]=CD[e>>2],CD[t+544+4>>2]=CD[e+4>>2],CD[t+544+8>>2]=CD[e+8>>2],CD[t+544+12>>2]=CD[e+12>>2]}function jh(t,e){return t|=0,e|=0,((CD[e+236>>2]&2|0)==0?0:e)|0}function Uh(t,e,i){return t|=0,e|=0,i|=0,CD[t+164>>2]=CD[e>>2],CD[t+164+4>>2]=CD[e+4>>2],CD[t+164+8>>2]=CD[e+8>>2],CD[t+164+12>>2]=CD[e+12>>2],((+RD[e>>2]==1?+RD[e+4>>2]==1:0)?+RD[e+8>>2]==1:0)?(i=0,t=t+180|0,void(CD[t>>2]=i)):(t=t+180|0,void(CD[t>>2]=i))}function Wh(t){return t|=0,CD[t+192>>2]|0}function Xh(t,e){t|=0,e=+e,RD[t+184>>2]=e}function qh(t,e){t|=0,e|=0,(CD[t+216>>2]&-2|0)!=4&&(CD[t+216>>2]=e)}function Kh(t,e){t|=0,e|=0,CD[t+216>>2]=e}function Yh(t){t|=0,CD[t+204>>2]&3||((CD[t+216>>2]&-2|0)!=4&&(CD[t+216>>2]=1),RD[t+220>>2]=0)}function Qh(t,e){t|=0,e|=0,(e?0:(CD[t+204>>2]&3|0)!=0)||((CD[t+216>>2]&-2|0)!=4&&(CD[t+216>>2]=1),RD[t+220>>2]=0)}function Zh(t){return t|=0,t=CD[t+216>>2]|0,((t|0)==2?0:(t|0)!=5)|0}function $h(t){return t|=0,(CD[t+204>>2]&2|0)!=0|0}function tu(t,e){t|=0,e=+e,CD[t+260>>2]=(CD[t+260>>2]|0)+1,RD[t+228>>2]=e}function eu(t,e){t|=0,e=+e,CD[t+260>>2]=(CD[t+260>>2]|0)+1,RD[t+224>>2]=e}function iu(t,e){t|=0,e=+e,CD[t+260>>2]=(CD[t+260>>2]|0)+1,RD[t+232>>2]=e}function ru(t){return t|=0,t+4|0}function ou(t){return t|=0,CD[t+204>>2]|0}function nu(t,e){t|=0,e|=0,CD[t+204>>2]=e}function au(t,e){t|=0,e|=0,CD[t+260>>2]=(CD[t+260>>2]|0)+1,CD[t+4>>2]=CD[e>>2],CD[t+4+4>>2]=CD[e+4>>2],CD[t+4+8>>2]=CD[e+8>>2],CD[t+4+12>>2]=CD[e+12>>2],CD[t+20>>2]=CD[e+16>>2],CD[t+20+4>>2]=CD[e+16+4>>2],CD[t+20+8>>2]=CD[e+16+8>>2],CD[t+20+12>>2]=CD[e+16+12>>2],CD[t+36>>2]=CD[e+32>>2],CD[t+36+4>>2]=CD[e+32+4>>2],CD[t+36+8>>2]=CD[e+32+8>>2],CD[t+36+12>>2]=CD[e+32+12>>2],CD[t+52>>2]=CD[e+48>>2],CD[t+52+4>>2]=CD[e+48+4>>2],CD[t+52+8>>2]=CD[e+48+8>>2],CD[t+52+12>>2]=CD[e+48+12>>2]}function su(t,e){t|=0,e|=0,bP[CD[(CD[t>>2]|0)+12>>2]&127](t,e)}function lu(t,e){t|=0,e=+e,RD[t+252>>2]=e}function cu(t,e){t|=0,e=+e,RD[t+248>>2]=e}function hu(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+8>>2]&255](t)}function uu(t){t|=0;var e=0;return CD[5108]=(CD[5108]|0)+1,e=Aw(75)|0,e?(CD[(e+4+15&-16)+-4>>2]=e,e=e+4+15&-16):e=0,Fp(e,t),CD[e>>2]=15552,CD[e+52>>2]=0,e|0}function du(t,e){t|=0,e|=0,bP[CD[(CD[t>>2]|0)+24>>2]&127](t,e)}function pu(t,e,i){t|=0,e=+e,i|=0,EP[CD[(CD[t>>2]|0)+32>>2]&15](t,e,i)}function fu(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function _u(t){t|=0;var e=0;return CD[5108]=(CD[5108]|0)+1,e=Aw(75)|0,e?(CD[(e+4+15&-16)+-4>>2]=e,e=e+4+15&-16):e=0,Fp(e,t),CD[e>>2]=15656,CD[e+52>>2]=2,e|0}function mu(t,e){t|=0,e|=0,bP[CD[(CD[t>>2]|0)+24>>2]&127](t,e)}function gu(t,e,i){t|=0,e=+e,i|=0,EP[CD[(CD[t>>2]|0)+32>>2]&15](t,e,i)}function yu(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function bu(){for(var t=0,e=0;;){if(t=Aw(64)|0){e=6;break}if(t=CD[5230]|0,CD[5230]=t+0,!t){e=5;break}ZP[t&3]()}if((e|0)==5)e=cP(4)|0,CD[e>>2]=20816,sP(e|0,20864,207);else if((e|0)==6)return t|0;return 0}function vu(t,e){t|=0,e|=0;for(var i=0,r=0;;){if(i=Aw(64)|0){r=6;break}if(i=CD[5230]|0,CD[5230]=i+0,!i){r=5;break}ZP[i&3]()}if((r|0)==5)e=cP(4)|0,CD[e>>2]=20816,sP(e|0,20864,207);else if((r|0)==6)return YA(i,t),CD[i+48>>2]=CD[e>>2],CD[i+48+4>>2]=CD[e+4>>2],CD[i+48+8>>2]=CD[e+8>>2],CD[i+48+12>>2]=CD[e+12>>2],i|0;return 0}function Mu(t){t|=0,$f(t)}function Su(t,e){t|=0,e|=0,CD[t+48>>2]=CD[e>>2],CD[t+48+4>>2]=CD[e+4>>2],CD[t+48+8>>2]=CD[e+8>>2],CD[t+48+12>>2]=CD[e+12>>2]}function Tu(t,e){t|=0,e|=0,YA(t,e)}function xu(t){return t|=0,t+48|0}function Cu(t){t|=0;var e=0;return e=BD,BD=BD+16|0,((TD[240]|0)==0?(KD(240)|0)!=0:0)&&QD(240),qf(t,e),CD[56]=CD[e>>2],CD[57]=CD[e+4>>2],CD[58]=CD[e+8>>2],CD[59]=CD[e+12>>2],BD=e,224}function Eu(t){return t|=0,t|0}function Au(t){t|=0,t&&ww(t)}function wu(t){return t|=0,CD[t+24>>2]|0}function Ru(t,e,i,r){t|=0,e|=0,i|=0,r|=0,eB[CD[(CD[t>>2]|0)+32>>2]&127](t,e,i,r)}function Du(t){return t|=0,t=CD[t+68>>2]|0,MP[CD[(CD[t>>2]|0)+36>>2]&127](t)|0}function Pu(t){return t|=0,t+28|0}function Bu(t,e){t|=0,e|=0,eB[CD[(CD[t>>2]|0)+36>>2]&127](t,e,1,-1)}function Vu(t,e,i){t|=0,e|=0,i|=0,eB[CD[(CD[t>>2]|0)+36>>2]&127](t,e,i,-1)}function Lu(t,e,i,r){t|=0,e|=0,i|=0,r|=0,eB[CD[(CD[t>>2]|0)+36>>2]&127](t,e,i,r)}function ku(t){return t|=0,CD[t+68>>2]|0}function Hu(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n=+n,ES(t,e,i,r,o,n)}function Iu(t,e,i,r){t|=0,e|=0,i|=0,r|=0,AS(t,e,i,r)}function Ou(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function Ju(t){return t|=0,+ +RD[t>>2]}function Nu(t){return t|=0,+ +RD[t+4>>2]}function Fu(t){return t|=0,+ +RD[t+8>>2]}function Gu(t){return t|=0,+ +RD[t+12>>2]}function zu(t,e){t|=0,e=+e,RD[t>>2]=e}function ju(t,e){t|=0,e=+e,RD[t+4>>2]=e}function Uu(t,e){t|=0,e=+e,RD[t+8>>2]=e}function Wu(t,e){t|=0,e=+e,RD[t+12>>2]=e}function Xu(t){t|=0,t&&ww(t)}function qu(t,e,i){t|=0,e|=0,i|=0;for(var r=0;;){if(t=Aw(152)|0){r=6;break}if(t=CD[5230]|0,CD[5230]=t+0,!t){r=5;break}ZP[t&3]()}if((r|0)==5)i=cP(4)|0,CD[i>>2]=20816,sP(i|0,20864,207);else if((r|0)==6)return CD[t>>2]=4840,TD[t+20>>0]=1,CD[t+16>>2]=0,CD[t+8>>2]=0,CD[t+12>>2]=0,TD[t+40>>0]=1,CD[t+36>>2]=0,CD[t+28>>2]=0,CD[t+32>>2]=0,TD[t+60>>0]=1,CD[t+56>>2]=0,CD[t+48>>2]=0,CD[t+52>>2]=0,TD[t+80>>0]=1,CD[t+76>>2]=0,CD[t+68>>2]=0,CD[t+72>>2]=0,CD[t+100>>2]=i,RD[t+104>>2]=0,TD[t+148>>0]=1,CD[t+144>>2]=0,CD[t+136>>2]=0,CD[t+140>>2]=0,CD[t+116>>2]=e,CD[t+120>>2]=0,CD[t+124>>2]=2,CD[t+128>>2]=1,RD[t+112>>2]=0,RD[t+108>>2]=0,t|0;return 0}function Ku(t,e,i){t|=0,e=+e,i|=0,RD[(CD[t+144>>2]|0)+(i*284|0)+252>>2]=e}function Yu(t,e,i){t|=0,e=+e,i|=0,RD[(CD[t+144>>2]|0)+(i*284|0)+232>>2]=e}function Qu(t,e){return t|=0,e|=0,(CD[t+144>>2]|0)+(e*284|0)+92|0}function Zu(t,e,i){t|=0,e|=0,i|=0,pT(CD[t+116>>2]|0,CD[t+144>>2]|0,e,i)}function $u(t,e,i,r,o,n,a,s){t|=0,e|=0,i|=0,r|=0,o=+o,n=+n,a|=0,s|=0;var l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0;if(y=BD,BD=BD+288|0,CD[y+208>>2]=CD[e>>2],CD[y+208+4>>2]=CD[e+4>>2],CD[y+208+8>>2]=CD[e+8>>2],CD[y+208+12>>2]=CD[e+12>>2],h=y+208+16|0,CD[h>>2]=CD[i>>2],CD[h+4>>2]=CD[i+4>>2],CD[h+8>>2]=CD[i+8>>2],CD[h+12>>2]=CD[i+12>>2],i=y+208+32|0,CD[i>>2]=CD[r>>2],CD[i+4>>2]=CD[r+4>>2],CD[i+8>>2]=CD[r+8>>2],CD[i+12>>2]=CD[r+12>>2],f=+RD[a>>2],_=+RD[a+4>>2],m=+RD[a+8>>2],g=+RD[a+16>>2],p=+RD[a+12>>2],d=+RD[a+20>>2],CD[y>>2]=CD[y+208>>2],CD[y+4>>2]=CD[y+208+4>>2],CD[y+8>>2]=CD[y+208+8>>2],CD[y+12>>2]=CD[y+208+12>>2],CD[y+16>>2]=CD[h>>2],CD[y+16+4>>2]=CD[h+4>>2],CD[y+16+8>>2]=CD[h+8>>2],CD[y+16+12>>2]=CD[h+12>>2],CD[y+32>>2]=CD[i>>2],CD[y+32+4>>2]=CD[i+4>>2],CD[y+32+8>>2]=CD[i+8>>2],CD[y+32+12>>2]=CD[i+12>>2],i=CD[t+136>>2]|0,(i|0)==(CD[t+140>>2]|0)?(u=(i|0)==0?1:i<<1,(i|0)<(u|0)):0){if(u?(CD[5108]=(CD[5108]|0)+1,r=Aw((u*284|3)+16|0)|0,r?(CD[(r+4+15&-16)+-4>>2]=r,r=r+4+15&-16):r=0,i=CD[t+136>>2]|0):r=0,(i|0)>0)for(i=i+-1|0,l=0;;){if(a=r+(l*284|0)|0){e=CD[t+144>>2]|0,c=e+(l*284|0)|0,h=a+92|0;do CD[a>>2]=CD[c>>2],a=a+4|0,c=c+4|0;while((a|0)<(h|0));a=r+(l*284|0)+92|0,c=e+(l*284|0)+92|0,CD[a>>2]=CD[c>>2],CD[a+4>>2]=CD[c+4>>2],CD[a+8>>2]=CD[c+8>>2],CD[a+12>>2]=CD[c+12>>2],a=r+(l*284|0)+108|0,c=e+(l*284|0)+108|0,CD[a>>2]=CD[c>>2],CD[a+4>>2]=CD[c+4>>2],CD[a+8>>2]=CD[c+8>>2],CD[a+12>>2]=CD[c+12>>2],a=r+(l*284|0)+124|0,c=e+(l*284|0)+124|0,CD[a>>2]=CD[c>>2],CD[a+4>>2]=CD[c+4>>2],CD[a+8>>2]=CD[c+8>>2],CD[a+12>>2]=CD[c+12>>2],a=r+(l*284|0)+140|0,c=e+(l*284|0)+140|0,CD[a>>2]=CD[c>>2],CD[a+4>>2]=CD[c+4>>2],CD[a+8>>2]=CD[c+8>>2],CD[a+12>>2]=CD[c+12>>2],a=r+(l*284|0)+156|0,c=e+(l*284|0)+156|0,h=a+128|0;do CD[a>>2]=CD[c>>2],a=a+4|0,c=c+4|0;while((a|0)<(h|0))}if((l|0)==(i|0))break;l=l+1|0}i=CD[t+144>>2]|0,i&&(TD[t+148>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0)),CD[t+144>>2]=0),TD[t+148>>0]=1,CD[t+144>>2]=r,CD[t+140>>2]=u,i=CD[t+136>>2]|0}if(e=CD[t+144>>2]|0,r=e+(i*284|0)|0,!r)return u=i,s=e,h=u+1|0,CD[t+136>>2]=h,u=s+(u*284|0)|0,s=t+116|0,h=CD[s>>2]|0,dT(h,u,0),h=CD[t+136>>2]|0,h=h+-1|0,s=CD[s>>2]|0,t=CD[t+144>>2]|0,pT(s,t,h,0),BD=y,u|0;a=r,c=y+48|0,h=a+92|0;do CD[a>>2]=CD[c>>2],a=a+4|0,c=c+4|0;while((a|0)<(h|0));r=e+(i*284|0)+92|0,CD[r>>2]=CD[y+160>>2],CD[r+4>>2]=CD[y+160+4>>2],CD[r+8>>2]=CD[y+160+8>>2],CD[r+12>>2]=CD[y+160+12>>2],r=e+(i*284|0)+108|0,CD[r>>2]=CD[y+176>>2],CD[r+4>>2]=CD[y+176+4>>2],CD[r+8>>2]=CD[y+176+8>>2],CD[r+12>>2]=CD[y+176+12>>2],r=e+(i*284|0)+124|0,CD[r>>2]=CD[y+192>>2],CD[r+4>>2]=CD[y+192+4>>2],CD[r+8>>2]=CD[y+192+8>>2],CD[r+12>>2]=CD[y+192+12>>2],r=e+(i*284|0)+140|0,CD[r>>2]=CD[y+144>>2],CD[r+4>>2]=CD[y+144+4>>2],CD[r+8>>2]=CD[y+144+8>>2],CD[r+12>>2]=CD[y+144+12>>2],r=e+(i*284|0)+156|0,a=r,c=y,h=a+48|0;do CD[a>>2]=CD[c>>2],a=a+4|0,c=c+4|0;while((a|0)<(h|0));RD[r+48>>2]=o,RD[r+52>>2]=p,RD[r+56>>2]=n,RD[r+60>>2]=f,RD[r+64>>2]=_,RD[r+68>>2]=m,RD[r+72>>2]=g,RD[r+76>>2]=0,RD[r+80>>2]=0,RD[r+84>>2]=0,RD[r+88>>2]=.10000000149011612,RD[r+92>>2]=d,RD[r+96>>2]=0,RD[r+100>>2]=0,TD[r+104>>0]=s&1,a=r+105|0,c=y+256|0,h=a+23|0;do TD[a>>0]=TD[c>>0]|0,a=a+1|0,c=c+1|0;while((a|0)<(h|0));return u=CD[t+136>>2]|0,s=CD[t+144>>2]|0,h=u+1|0,CD[t+136>>2]=h,u=s+(u*284|0)|0,s=t+116|0,h=CD[s>>2]|0,dT(h,u,0),h=CD[t+136>>2]|0,h=h+-1|0,s=CD[s>>2]|0,t=CD[t+144>>2]|0,pT(s,t,h,0),BD=y,u|0}function td(t){return t|=0,CD[t+136>>2]|0}function ed(t){return t|=0,CD[t+116>>2]|0}function id(t,e){return t|=0,e|=0,(CD[t+144>>2]|0)+(e*284|0)|0}function rd(t,e,i){t|=0,e=+e,i|=0,RD[(CD[t+144>>2]|0)+(i*284|0)+256>>2]=e}function od(t,e,i,r){t|=0,e|=0,i|=0,r|=0,eB[CD[(CD[t>>2]|0)+24>>2]&127](t,e,i,r)}function nd(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function ad(t){t|=0;var e=0;return CD[5108]=(CD[5108]|0)+1,e=Aw(75)|0,e?(CD[(e+4+15&-16)+-4>>2]=e,e=e+4+15&-16):e=0,Fp(e,t),e|0}function sd(t,e){t|=0,e|=0,bP[CD[(CD[t>>2]|0)+24>>2]&127](t,e)}function ld(t,e,i){t|=0,e=+e,i|=0,EP[CD[(CD[t>>2]|0)+32>>2]&15](t,e,i)}function cd(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function hd(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function ud(){for(var t=0,e=0;;){if(t=Aw(4)|0){e=6;break}if(t=CD[5230]|0,CD[5230]=t+0,!t){e=5;break}ZP[t&3]()}if((e|0)==5)e=cP(4)|0,CD[e>>2]=20816,sP(e|0,20864,207);else if((e|0)==6)return CD[t>>2]=384,t|0;return 0}function dd(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function pd(t,e){t|=0,e|=0,TD[t+21>>0]=e&1}function fd(t){return t|=0,+ +RD[t+16>>2]}function _d(t,e){t|=0,e=+e,RD[t+16>>2]=e}function md(t){t|=0,t&&gP[CD[(CD[t>>2]|0)+4>>2]&255](t)}function gd(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0;CD[t+236>>2]=2,CD[t+312>>2]=0,CD[t+312+4>>2]=0,CD[t+312+8>>2]=0,CD[t+312+12>>2]=0,CD[t+312+16>>2]=0,CD[t+312+20>>2]=0,CD[t+312+24>>2]=0,CD[t+312+28>>2]=0,RD[t+544>>2]=1,RD[t+548>>2]=1,RD[t+552>>2]=1,RD[t+556>>2]=0,RD[t+348>>2]=1,RD[t+352>>2]=1,RD[t+356>>2]=1,r=t+360|0,o=r+36|0;do CD[r>>2]=0,r=r+4|0;while((r|0)<(o|0));CD[t+412>>2]=0,CD[t+412+4>>2]=0,CD[t+412+8>>2]=0,CD[t+412+12>>2]=0,CD[t+412+16>>2]=0,CD[t+412+20>>2]=0,CD[t+412+24>>2]=0,CD[t+412+28>>2]=0,i=+RD[e+92>>2],n=+RD[e+96>>2],i=i<0?0:i>1?1:i,RD[t+444>>2]=i,i=n<0?0:n>1?1:n,RD[t+448>>2]=i,RD[t+472>>2]=+RD[e+112>>2],RD[t+476>>2]=+RD[e+116>>2],r=CD[e+4>>2]|0,CD[t+480>>2]=r,CD[t+608>>2]=0,CD[t+612>>2]=0,TD[t+452>>0]=TD[e+120>>0]|0,RD[t+456>>2]=+RD[e+124>>2],RD[t+460>>2]=+RD[e+128>>2],RD[t+464>>2]=+RD[e+132>>2],RD[t+468>>2]=+RD[e+136>>2],r?(bP[CD[(CD[r>>2]|0)+8>>2]&127](r,t+4|0),o=t+52|0,r=t+20|0,a=t+36|0,s=t+4|0):(CD[t+4>>2]=CD[e+8>>2],CD[t+4+4>>2]=CD[e+8+4>>2],CD[t+4+8>>2]=CD[e+8+8>>2],CD[t+4+12>>2]=CD[e+8+12>>2],CD[t+20>>2]=CD[e+24>>2],CD[t+20+4>>2]=CD[e+24+4>>2],CD[t+20+8>>2]=CD[e+24+8>>2],CD[t+20+12>>2]=CD[e+24+12>>2],CD[t+36>>2]=CD[e+40>>2],CD[t+36+4>>2]=CD[e+40+4>>2],CD[t+36+8>>2]=CD[e+40+8>>2],CD[t+36+12>>2]=CD[e+40+12>>2],CD[t+52>>2]=CD[e+56>>2],CD[t+52+4>>2]=CD[e+56+4>>2],CD[t+52+8>>2]=CD[e+56+8>>2],CD[t+52+12>>2]=CD[e+56+12>>2],o=t+52|0,r=t+20|0,a=t+36|0,s=t+4|0),CD[t+68>>2]=CD[s>>2],CD[t+68+4>>2]=CD[s+4>>2],CD[t+68+8>>2]=CD[s+8>>2],CD[t+68+12>>2]=CD[s+12>>2],CD[t+84>>2]=CD[r>>2],CD[t+84+4>>2]=CD[r+4>>2],CD[t+84+8>>2]=CD[r+8>>2],CD[t+84+12>>2]=CD[r+12>>2],CD[t+100>>2]=CD[a>>2],CD[t+100+4>>2]=CD[a+4>>2],CD[t+100+8>>2]=CD[a+8>>2],CD[t+100+12>>2]=CD[a+12>>2],CD[t+116>>2]=CD[o>>2],CD[t+116+4>>2]=CD[o+4>>2],CD[t+116+8>>2]=CD[o+8>>2],CD[t+116+12>>2]=CD[o+12>>2],CD[t+132>>2]=0,CD[t+132+4>>2]=0,CD[t+132+8>>2]=0,CD[t+132+12>>2]=0,CD[t+132+16>>2]=0,CD[t+132+20>>2]=0,CD[t+132+24>>2]=0,CD[t+132+28>>2]=0,RD[t+224>>2]=+RD[e+100>>2],RD[t+232>>2]=+RD[e+104>>2],RD[t+228>>2]=+RD[e+108>>2],bP[CD[(CD[t>>2]|0)+12>>2]&127](t,CD[e+72>>2]|0),r=CD[374]|0,CD[374]=r+1,CD[t+508>>2]=r,n=+RD[e>>2],r=CD[t+204>>2]|0,n==0?(CD[t+204>>2]=r|1,c=0):(CD[t+204>>2]=r&-2,c=1/n),RD[t+344>>2]=c,l=n*+RD[t+384>>2],i=n*+RD[t+388>>2],RD[t+364>>2]=n*+RD[t+380>>2],RD[t+368>>2]=l,RD[t+372>>2]=i,RD[t+376>>2]=0,i=+RD[e+76>>2],l=i!=0?1/i:0,i=+RD[e+80>>2],n=i!=0?1/i:0,i=+RD[e+84>>2],i=i!=0?1/i:0,RD[t+396>>2]=l,RD[t+400>>2]=n,RD[t+404>>2]=i,RD[t+408>>2]=0,x=c*+RD[t+352>>2],y=c*+RD[t+356>>2],RD[t+560>>2]=c*+RD[t+348>>2],RD[t+564>>2]=x,RD[t+568>>2]=y,RD[t+572>>2]=0,y=+RD[t+4>>2],x=y*l,g=+RD[t+8>>2],T=g*n,m=+RD[t+12>>2],S=m*i,_=+RD[t+20>>2],M=l*_,f=+RD[t+24>>2],v=n*f,p=+RD[t+28>>2],b=i*p,d=+RD[t+36>>2],u=l*d,h=+RD[t+40>>2],c=n*h,l=+RD[t+44>>2],n=i*l,RD[t+264>>2]=y*x+g*T+m*S,RD[t+268>>2]=x*_+T*f+S*p,RD[t+272>>2]=x*d+T*h+S*l,RD[t+276>>2]=0,RD[t+280>>2]=y*M+g*v+m*b,RD[t+284>>2]=_*M+f*v+p*b,RD[t+288>>2]=M*d+v*h+b*l,RD[t+292>>2]=0,RD[t+296>>2]=y*u+g*c+m*n,RD[t+300>>2]=_*u+f*c+p*n,RD[t+304>>2]=d*u+h*c+l*n,RD[t+308>>2]=0,CD[t+504>>2]=0,CD[t+512>>2]=0,CD[t+512+4>>2]=0,CD[t+512+8>>2]=0,CD[t+512+12>>2]=0,CD[t+512+16>>2]=0,CD[t+512+20>>2]=0,CD[t+512+24>>2]=0,CD[t+512+28>>2]=0,n=+RD[t+344>>2],l=n*+RD[t+352>>2],c=n*+RD[t+356>>2],RD[t+560>>2]=+RD[t+348>>2]*n,RD[t+564>>2]=l,RD[t+568>>2]=c,r=t+572|0,o=r+36|0;do CD[r>>2]=0,r=r+4|0;while((r|0)<(o|0))}function yd(t,e,i,r,o){t|=0,e=+e,i|=0,r|=0,o|=0;var n=0;n=BD,BD=BD+144|0,RD[t+164>>2]=1,RD[t+168>>2]=1,RD[t+172>>2]=1,RD[t+176>>2]=0,CD[t+180>>2]=0,RD[t+184>>2]=0xde0b6b000000000,CD[t+188>>2]=0,CD[t+188+4>>2]=0,CD[t+188+8>>2]=0,CD[t+188+12>>2]=0,CD[t+204>>2]=1,CD[t+208>>2]=-1,CD[t+212>>2]=-1,CD[t+216>>2]=1,RD[t+220>>2]=0,RD[t+224>>2]=.5,RD[t+228>>2]=0,RD[t+232>>2]=0,CD[t+236>>2]=1,CD[t+240>>2]=0,RD[t+244>>2]=1,CD[t+248>>2]=0,CD[t+248+4>>2]=0,CD[t+248+8>>2]=0,CD[t+248+12>>2]=0,RD[t+4>>2]=1,CD[t+8>>2]=0,CD[t+8+4>>2]=0,CD[t+8+8>>2]=0,CD[t+8+12>>2]=0,RD[t+24>>2]=1,CD[t+28>>2]=0,CD[t+28+4>>2]=0,CD[t+28+8>>2]=0,CD[t+28+12>>2]=0,RD[t+44>>2]=1,CD[t+48>>2]=0,CD[t+48+4>>2]=0,CD[t+48+8>>2]=0,CD[t+48+12>>2]=0,CD[t+48+16>>2]=0,CD[t>>2]=1464,TD[t+500>>0]=1,CD[t+496>>2]=0,CD[t+488>>2]=0,CD[t+492>>2]=0,RD[n>>2]=e,CD[n+4>>2]=i,CD[n+72>>2]=r,CD[n+76>>2]=CD[o>>2],CD[n+76+4>>2]=CD[o+4>>2],CD[n+76+8>>2]=CD[o+8>>2],CD[n+76+12>>2]=CD[o+12>>2],RD[n+92>>2]=0,RD[n+96>>2]=0,RD[n+100>>2]=.5,RD[n+104>>2]=0,RD[n+108>>2]=0,RD[n+112>>2]=.800000011920929,RD[n+116>>2]=1,TD[n+120>>0]=0,RD[n+124>>2]=.004999999888241291,RD[n+128>>2]=.009999999776482582,RD[n+132>>2]=.009999999776482582,RD[n+136>>2]=.009999999776482582,RD[n+8>>2]=1,CD[n+12>>2]=0,CD[n+12+4>>2]=0,CD[n+12+8>>2]=0,CD[n+12+12>>2]=0,RD[n+28>>2]=1,CD[n+32>>2]=0,CD[n+32+4>>2]=0,CD[n+32+8>>2]=0,CD[n+32+12>>2]=0,RD[n+48>>2]=1,CD[n+52>>2]=0,CD[n+52+4>>2]=0,CD[n+52+8>>2]=0,CD[n+52+12>>2]=0,CD[n+52+16>>2]=0,gd(t,n),BD=n}function bd(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0;CD[t+204>>2]&2?(CD[t+68>>2]=CD[t+4>>2],CD[t+68+4>>2]=CD[t+4+4>>2],CD[t+68+8>>2]=CD[t+4+8>>2],CD[t+68+12>>2]=CD[t+4+12>>2],CD[t+84>>2]=CD[t+20>>2],CD[t+84+4>>2]=CD[t+20+4>>2],CD[t+84+8>>2]=CD[t+20+8>>2],CD[t+84+12>>2]=CD[t+20+12>>2],CD[t+100>>2]=CD[t+36>>2],CD[t+100+4>>2]=CD[t+36+4>>2],CD[t+100+8>>2]=CD[t+36+8>>2],CD[t+100+12>>2]=CD[t+36+12>>2],CD[t+116>>2]=CD[t+52>>2],CD[t+116+4>>2]=CD[t+52+4>>2],CD[t+116+8>>2]=CD[t+52+8>>2],CD[t+116+12>>2]=CD[t+52+12>>2],i=t+20|0,r=e+16|0,o=t+36|0,n=e+32|0,a=t+52|0,s=e+48|0,l=t+4|0):(CD[t+68>>2]=CD[e>>2],CD[t+68+4>>2]=CD[e+4>>2],CD[t+68+8>>2]=CD[e+8>>2],CD[t+68+12>>2]=CD[e+12>>2],CD[t+84>>2]=CD[e+16>>2],CD[t+84+4>>2]=CD[e+16+4>>2],CD[t+84+8>>2]=CD[e+16+8>>2],CD[t+84+12>>2]=CD[e+16+12>>2],CD[t+100>>2]=CD[e+32>>2],CD[t+100+4>>2]=CD[e+32+4>>2],CD[t+100+8>>2]=CD[e+32+8>>2],CD[t+100+12>>2]=CD[e+32+12>>2],CD[t+116>>2]=CD[e+48>>2],CD[t+116+4>>2]=CD[e+48+4>>2],CD[t+116+8>>2]=CD[e+48+8>>2],CD[t+116+12>>2]=CD[e+48+12>>2],i=t+20|0,r=e+16|0,o=t+36|0,n=e+32|0,a=t+52|0,s=e+48|0,l=t+4|0),CD[t+132>>2]=CD[t+312>>2],CD[t+132+4>>2]=CD[t+312+4>>2],CD[t+132+8>>2]=CD[t+312+8>>2],CD[t+132+12>>2]=CD[t+312+12>>2],CD[t+148>>2]=CD[t+328>>2],CD[t+148+4>>2]=CD[t+328+4>>2],CD[t+148+8>>2]=CD[t+328+8>>2],CD[t+148+12>>2]=CD[t+328+12>>2],CD[l>>2]=CD[e>>2],CD[l+4>>2]=CD[e+4>>2],CD[l+8>>2]=CD[e+8>>2],CD[l+12>>2]=CD[e+12>>2],CD[i>>2]=CD[r>>2],CD[i+4>>2]=CD[r+4>>2],CD[i+8>>2]=CD[r+8>>2],CD[i+12>>2]=CD[r+12>>2],CD[o>>2]=CD[n>>2],CD[o+4>>2]=CD[n+4>>2],CD[o+8>>2]=CD[n+8>>2],CD[o+12>>2]=CD[n+12>>2],CD[a>>2]=CD[s>>2],CD[a+4>>2]=CD[s+4>>2],CD[a+8>>2]=CD[s+8>>2],CD[a+12>>2]=CD[s+12>>2],v=+RD[t+4>>2],f=+RD[t+396>>2],b=+RD[t+8>>2],d=+RD[t+400>>2],y=+RD[t+12>>2],h=+RD[t+404>>2],g=+RD[t+20>>2],m=+RD[t+24>>2],_=+RD[t+28>>2],p=+RD[t+36>>2],u=+RD[t+40>>2],c=+RD[t+44>>2],RD[t+264>>2]=v*v*f+b*b*d+y*y*h,RD[t+268>>2]=v*f*g+b*d*m+y*h*_,RD[t+272>>2]=v*f*p+b*d*u+y*h*c,RD[t+276>>2]=0,RD[t+280>>2]=v*f*g+b*d*m+y*h*_,RD[t+284>>2]=g*f*g+m*d*m+_*h*_,RD[t+288>>2]=f*g*p+d*m*u+h*_*c,RD[t+292>>2]=0,RD[t+296>>2]=v*f*p+b*d*u+y*h*c,RD[t+300>>2]=g*f*p+m*d*u+_*h*c,RD[t+304>>2]=p*f*p+u*d*u+c*h*c,RD[t+308>>2]=0
}function vd(t,e){t|=0,e|=0;var i=0,r=0,o=0;if((e|0)==0?1:(CD[e+236>>2]&2|0)==0)return e=1,e|0;if(o=CD[t+488>>2]|0,(o|0)<=0)return e=1,e|0;for(t=CD[t+496>>2]|0,r=0;;){if(i=CD[t+(r<<2)>>2]|0,TD[i+20>>0]|0){if((CD[i+28>>2]|0)==(e|0)){i=0,t=8;break}if((CD[i+32>>2]|0)==(e|0)){i=0,t=8;break}}if(r=r+1|0,(r|0)>=(o|0)){i=1,t=8;break}}return(t|0)==8?i|0:0}function Md(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0;r=CD[t+488>>2]|0;t:do if((r|0)>0){for(o=CD[t+496>>2]|0,i=0;;){if((CD[o+(i<<2)>>2]|0)==(e|0))break;if(i=i+1|0,(i|0)>=(r|0))break t}if((i|0)!=(r|0))return t=t+256|0,void(CD[t>>2]=1)}while(0);if((r|0)==(CD[t+492>>2]|0)?(s=(r|0)==0?1:r<<1,(r|0)<(s|0)):0){if(s?(CD[5108]=(CD[5108]|0)+1,i=Aw((s<<2|3)+16|0)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,r=i+4+15&-16):r=0,a=r,r=CD[t+488>>2]|0):a=0,(r|0)>0)for(o=r+-1|0,n=0;;){if(i=a+(n<<2)|0,i&&(CD[i>>2]=CD[(CD[t+496>>2]|0)+(n<<2)>>2]),(n|0)==(o|0))break;n=n+1|0}i=CD[t+496>>2]|0,i&&(TD[t+500>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0),r=CD[t+488>>2]|0),CD[t+496>>2]=0),TD[t+500>>0]=1,CD[t+496>>2]=a,CD[t+492>>2]=s}i=(CD[t+496>>2]|0)+(r<<2)|0,i&&(CD[i>>2]=e),CD[t+488>>2]=r+1,t=t+256|0,CD[t>>2]=1}function Sd(t){return t|=0,488}function Td(t,e,i){return t|=0,e|=0,i|=0,SM(t,e,i)|0,RD[e+256>>2]=+RD[t+264>>2],RD[e+260>>2]=+RD[t+268>>2],RD[e+264>>2]=+RD[t+272>>2],RD[e+268>>2]=+RD[t+276>>2],RD[e+272>>2]=+RD[t+280>>2],RD[e+276>>2]=+RD[t+284>>2],RD[e+280>>2]=+RD[t+288>>2],RD[e+284>>2]=+RD[t+292>>2],RD[e+288>>2]=+RD[t+296>>2],RD[e+292>>2]=+RD[t+300>>2],RD[e+296>>2]=+RD[t+304>>2],RD[e+300>>2]=+RD[t+308>>2],RD[e+304>>2]=+RD[t+312>>2],RD[e+308>>2]=+RD[t+316>>2],RD[e+312>>2]=+RD[t+320>>2],RD[e+316>>2]=+RD[t+324>>2],RD[e+320>>2]=+RD[t+328>>2],RD[e+324>>2]=+RD[t+332>>2],RD[e+328>>2]=+RD[t+336>>2],RD[e+332>>2]=+RD[t+340>>2],RD[e+448>>2]=+RD[t+344>>2],RD[e+336>>2]=+RD[t+544>>2],RD[e+340>>2]=+RD[t+548>>2],RD[e+344>>2]=+RD[t+552>>2],RD[e+348>>2]=+RD[t+556>>2],RD[e+352>>2]=+RD[t+348>>2],RD[e+356>>2]=+RD[t+352>>2],RD[e+360>>2]=+RD[t+356>>2],RD[e+364>>2]=+RD[t+360>>2],RD[e+368>>2]=+RD[t+364>>2],RD[e+372>>2]=+RD[t+368>>2],RD[e+376>>2]=+RD[t+372>>2],RD[e+380>>2]=+RD[t+376>>2],RD[e+384>>2]=+RD[t+380>>2],RD[e+388>>2]=+RD[t+384>>2],RD[e+392>>2]=+RD[t+388>>2],RD[e+396>>2]=+RD[t+392>>2],RD[e+400>>2]=+RD[t+396>>2],RD[e+404>>2]=+RD[t+400>>2],RD[e+408>>2]=+RD[t+404>>2],RD[e+412>>2]=+RD[t+408>>2],RD[e+416>>2]=+RD[t+412>>2],RD[e+420>>2]=+RD[t+416>>2],RD[e+424>>2]=+RD[t+420>>2],RD[e+428>>2]=+RD[t+424>>2],RD[e+432>>2]=+RD[t+428>>2],RD[e+436>>2]=+RD[t+432>>2],RD[e+440>>2]=+RD[t+436>>2],RD[e+444>>2]=+RD[t+440>>2],RD[e+452>>2]=+RD[t+444>>2],RD[e+456>>2]=+RD[t+448>>2],CD[e+484>>2]=ED[t+452>>0],RD[e+460>>2]=+RD[t+456>>2],RD[e+464>>2]=+RD[t+460>>2],RD[e+468>>2]=+RD[t+464>>2],RD[e+472>>2]=+RD[t+468>>2],RD[e+476>>2]=+RD[t+472>>2],RD[e+480>>2]=+RD[t+476>>2],1504}function xd(t,e){t|=0,e|=0;var i=0,r=0;i=CD[(CD[e>>2]|0)+16>>2]|0,r=MP[CD[(CD[t>>2]|0)+16>>2]&127](t)|0,r=DP[i&63](e,r,1)|0,i=DP[CD[(CD[t>>2]|0)+20>>2]&63](t,CD[r+8>>2]|0,e)|0,_P[CD[(CD[e>>2]|0)+20>>2]&31](e,r,i,1497645650,t)}function Cd(t){t|=0;var e=0,i=0,r=0;return CD[t>>2]=1568,((TD[t+272>>0]|0)!=0?(e=CD[t+204>>2]|0,gP[CD[CD[e>>2]>>2]&255](e),e=CD[t+204>>2]|0,(e|0)!=0):0)&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),e=CD[t+196>>2]|0,((e|0)!=0?(gP[CD[CD[e>>2]>>2]&255](e),i=CD[t+196>>2]|0,(i|0)!=0):0)&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0)),((TD[t+273>>0]|0)!=0?(r=CD[t+200>>2]|0,gP[CD[CD[r>>2]>>2]&255](r),r=CD[t+200>>2]|0,(r|0)!=0):0)&&(CD[5110]=(CD[5110]|0)+1,ww(CD[r+-4>>2]|0)),e=CD[t+316>>2]|0,e&&(TD[t+320>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+316>>2]=0),TD[t+320>>0]=1,CD[t+316>>2]=0,CD[t+308>>2]=0,CD[t+312>>2]=0,e=CD[t+288>>2]|0,e&&(TD[t+292>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+288>>2]=0),TD[t+292>>0]=1,CD[t+288>>2]=0,CD[t+280>>2]=0,CD[t+284>>2]=0,e=CD[t+240>>2]|0,e&&(TD[t+244>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+240>>2]=0),TD[t+244>>0]=1,CD[t+240>>2]=0,CD[t+232>>2]=0,CD[t+236>>2]=0,e=CD[t+220>>2]|0,e&&(TD[t+224>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+220>>2]=0),TD[t+224>>0]=1,CD[t+220>>2]=0,CD[t+212>>2]=0,CD[t+216>>2]=0,(e=CD[t+188>>2]|0)?(TD[t+192>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+188>>2]=0,TD[t+192>>0]=1,CD[t+188>>2]=0,CD[t+180>>2]=0,r=t+184|0,CD[r>>2]=0,void mS(t)):(TD[t+192>>0]=1,CD[t+188>>2]=0,CD[t+180>>2]=0,r=t+184|0,CD[r>>2]=0,void mS(t))}function Ed(t){t|=0,Cd(t),t&&(CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0))}function Ad(t,e){t|=0,e=+e;var i=0,r=0,o=0,n=0,a=0,s=0,l=0;if(n=BD,BD=BD+32|0,i=CD[t+8>>2]|0,(i|0)<=0)return void(BD=n);o=0;do r=CD[(CD[t+16>>2]|0)+(o<<2)>>2]|0,((((r|0)==0?1:(CD[r+236>>2]&2|0)==0)?0:(CD[r+216>>2]|0)!=2)?(CD[r+204>>2]&2|0)==0|e!=0^1:!0)||(i=CD[r+480>>2]|0,i?(bP[CD[(CD[i>>2]|0)+8>>2]&127](i,r+4|0),i=r+4|0):i=r+4|0,s=(+RD[r+56>>2]-+RD[r+120>>2])*(1/e),l=1/e*(+RD[r+60>>2]-+RD[r+124>>2]),RD[r+312>>2]=(+RD[r+52>>2]-+RD[r+116>>2])*(1/e),RD[r+316>>2]=s,RD[r+320>>2]=l,RD[r+324>>2]=0,e_(r+68|0,i,n+8|0,n),l=+RD[n>>2],s=1/e*l*+RD[n+8+4>>2],a=1/e*l*+RD[n+8+8>>2],RD[r+328>>2]=1/e*+RD[n+8>>2]*l,RD[r+332>>2]=s,RD[r+336>>2]=a,RD[r+340>>2]=0,CD[r+132>>2]=CD[r+312>>2],CD[r+132+4>>2]=CD[r+312+4>>2],CD[r+132+8>>2]=CD[r+312+8>>2],CD[r+132+12>>2]=CD[r+312+12>>2],CD[r+148>>2]=CD[r+328>>2],CD[r+148+4>>2]=CD[r+328+4>>2],CD[r+148+8>>2]=CD[r+328+8>>2],CD[r+148+12>>2]=CD[r+328+12>>2],CD[r+68>>2]=CD[i>>2],CD[r+68+4>>2]=CD[i+4>>2],CD[r+68+8>>2]=CD[i+8>>2],CD[r+68+12>>2]=CD[i+12>>2],CD[r+84>>2]=CD[r+20>>2],CD[r+84+4>>2]=CD[r+20+4>>2],CD[r+84+8>>2]=CD[r+20+8>>2],CD[r+84+12>>2]=CD[r+20+12>>2],CD[r+100>>2]=CD[r+36>>2],CD[r+100+4>>2]=CD[r+36+4>>2],CD[r+100+8>>2]=CD[r+36+8>>2],CD[r+100+12>>2]=CD[r+36+12>>2],CD[r+116>>2]=CD[r+52>>2],CD[r+116+4>>2]=CD[r+52+4>>2],CD[r+116+8>>2]=CD[r+52+8>>2],CD[r+116+12>>2]=CD[r+52+12>>2],i=CD[t+8>>2]|0),o=o+1|0;while((o|0)<(i|0));BD=n}function wd(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0,N=0,F=0,G=0,z=0;V=BD,BD=BD+752|0,cM(1752),RS(t);t:do if((MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0)!=0?(B=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,((MP[CD[(CD[B>>2]|0)+48>>2]&127](B)|0)&6144|0)!=0):0)for(m=V+272+44|0,g=V+272+16|0,y=V+416+16|0,b=V+272+32|0,v=V+416+32|0,M=V+272+48|0,S=V+416+48|0,T=V+272+16|0,x=V+32+16|0,C=V+272+32|0,E=V+32+32|0,A=V+272+48|0,w=V+32+48|0,R=V+272+16|0,D=V+272+32|0,P=V+272+48|0,d=V+272+16|0,p=V+272+32|0,f=V+272+48|0,e=MP[CD[(CD[t>>2]|0)+104>>2]&127](t)|0;;){if(B=e+-1|0,(e|0)<=0)break t;h=NP[CD[(CD[t>>2]|0)+108>>2]&31](t,B)|0,e=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,e=(MP[CD[(CD[e>>2]|0)+48>>2]&127](e)|0)>>>11,c=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,c=(MP[CD[(CD[c>>2]|0)+48>>2]&127](c)|0)>>>12,u=+RD[h+40>>2];e:do if(!(u<=0))switch(CD[h+4>>2]|0){case 7:CD[V+272>>2]=CD[h+824>>2],CD[V+272+4>>2]=CD[h+824+4>>2],CD[V+272+8>>2]=CD[h+824+8>>2],CD[V+272+12>>2]=CD[h+824+12>>2],CD[d>>2]=CD[h+824+16>>2],CD[d+4>>2]=CD[h+824+16+4>>2],CD[d+8>>2]=CD[h+824+16+8>>2],CD[d+12>>2]=CD[h+824+16+12>>2],CD[p>>2]=CD[h+824+32>>2],CD[p+4>>2]=CD[h+824+32+4>>2],CD[p+8>>2]=CD[h+824+32+8>>2],CD[p+12>>2]=CD[h+824+32+12>>2],CD[f>>2]=CD[h+824+48>>2],CD[f+4>>2]=CD[h+824+48+4>>2],CD[f+8>>2]=CD[h+824+48+8>>2],CD[f+12>>2]=CD[h+824+48+12>>2],e&1?(l=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,$P[CD[(CD[l>>2]|0)+56>>2]&7](l,V+272|0,u),CD[V+272>>2]=CD[h+888>>2],CD[V+272+4>>2]=CD[h+888+4>>2],CD[V+272+8>>2]=CD[h+888+8>>2],CD[V+272+12>>2]=CD[h+888+12>>2],CD[d>>2]=CD[h+888+16>>2],CD[d+4>>2]=CD[h+888+16+4>>2],CD[d+8>>2]=CD[h+888+16+8>>2],CD[d+12>>2]=CD[h+888+16+12>>2],CD[p>>2]=CD[h+888+32>>2],CD[p+4>>2]=CD[h+888+32+4>>2],CD[p+8>>2]=CD[h+888+32+8>>2],CD[p+12>>2]=CD[h+888+32+12>>2],CD[f>>2]=CD[h+888+48>>2],CD[f+4>>2]=CD[h+888+48+4>>2],CD[f+8>>2]=CD[h+888+48+8>>2],CD[f+12>>2]=CD[h+888+48+12>>2],l=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,$P[CD[(CD[l>>2]|0)+56>>2]&7](l,V+272|0,u)):(CD[V+272>>2]=CD[h+888>>2],CD[V+272+4>>2]=CD[h+888+4>>2],CD[V+272+8>>2]=CD[h+888+8>>2],CD[V+272+12>>2]=CD[h+888+12>>2],CD[d>>2]=CD[h+888+16>>2],CD[d+4>>2]=CD[h+888+16+4>>2],CD[d+8>>2]=CD[h+888+16+8>>2],CD[d+12>>2]=CD[h+888+16+12>>2],CD[p>>2]=CD[h+888+32>>2],CD[p+4>>2]=CD[h+888+32+4>>2],CD[p+8>>2]=CD[h+888+32+8>>2],CD[p+12>>2]=CD[h+888+32+12>>2],CD[f>>2]=CD[h+888+48>>2],CD[f+4>>2]=CD[h+888+48+4>>2],CD[f+8>>2]=CD[h+888+48+8>>2],CD[f+12>>2]=CD[h+888+48+12>>2]),c&1&&(c=(TD[h+180>>0]|0)!=0?h+824|0:h+888|0,k=+RD[c>>2],r=+RD[c+4>>2],L=+RD[c+16>>2],n=+RD[c+20>>2],i=+RD[c+32>>2],o=+RD[c+36>>2],G=+RD[c+48>>2],N=+RD[c+52>>2],O=+RD[c+56>>2],H=+RD[h+184>>2],F=+RD[c+8>>2]*0,J=+RD[c+24>>2]*0,I=+RD[c+40>>2]*0,RD[V+528>>2]=G+(F+(r*0+k*H)),RD[V+528+4>>2]=N+(J+(n*0+L*H)),RD[V+528+8>>2]=O+(I+(o*0+i*H)),RD[V+528+12>>2]=0,H=+RD[h+188>>2],RD[V+208>>2]=G+(F+(r*0+k*H)),RD[V+208+4>>2]=N+(J+(n*0+L*H)),RD[V+208+8>>2]=O+(I+(o*0+i*H)),RD[V+208+12>>2]=0,c=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,l=CD[(CD[c>>2]|0)+8>>2]|0,CD[V+608>>2]=0,CD[V+608+4>>2]=0,CD[V+608+8>>2]=0,CD[V+608+12>>2]=0,eB[l&127](c,V+528|0,V+208|0,V+608|0),RD[V+240>>2]=k,RD[V+240+4>>2]=L,RD[V+240+8>>2]=i,RD[V+240+12>>2]=0,RD[V+640>>2]=r,RD[V+640+4>>2]=n,RD[V+640+8>>2]=o,RD[V+640+12>>2]=0,o=+RD[h+192>>2],n=+RD[h+196>>2],c=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,l=CD[(CD[c>>2]|0)+60>>2]|0,CD[V+256>>2]=0,CD[V+256+4>>2]=0,CD[V+256+8>>2]=0,CD[V+256+12>>2]=0,wP[l&0](c,h+888+48|0,V+240|0,V+640|0,u,u,o,n,V+256|0,1,10));break e;case 6:case 9:CD[V+272>>2]=CD[h+1064>>2],CD[V+272+4>>2]=CD[h+1064+4>>2],CD[V+272+8>>2]=CD[h+1064+8>>2],CD[V+272+12>>2]=CD[h+1064+12>>2],a=h+1064+16|0,CD[R>>2]=CD[a>>2],CD[R+4>>2]=CD[a+4>>2],CD[R+8>>2]=CD[a+8>>2],CD[R+12>>2]=CD[a+12>>2],s=h+1064+32|0,CD[D>>2]=CD[s>>2],CD[D+4>>2]=CD[s+4>>2],CD[D+8>>2]=CD[s+8>>2],CD[D+12>>2]=CD[s+12>>2],l=h+1064+48|0,CD[P>>2]=CD[l>>2],CD[P+4>>2]=CD[l+4>>2],CD[P+8>>2]=CD[l+8>>2],CD[P+12>>2]=CD[l+12>>2],e&1?(e=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,$P[CD[(CD[e>>2]|0)+56>>2]&7](e,V+272|0,u),CD[V+272>>2]=CD[h+1128>>2],CD[V+272+4>>2]=CD[h+1128+4>>2],CD[V+272+8>>2]=CD[h+1128+8>>2],CD[V+272+12>>2]=CD[h+1128+12>>2],CD[R>>2]=CD[h+1128+16>>2],CD[R+4>>2]=CD[h+1128+16+4>>2],CD[R+8>>2]=CD[h+1128+16+8>>2],CD[R+12>>2]=CD[h+1128+16+12>>2],CD[D>>2]=CD[h+1128+32>>2],CD[D+4>>2]=CD[h+1128+32+4>>2],CD[D+8>>2]=CD[h+1128+32+8>>2],CD[D+12>>2]=CD[h+1128+32+12>>2],CD[P>>2]=CD[h+1128+48>>2],CD[P+4>>2]=CD[h+1128+48+4>>2],CD[P+8>>2]=CD[h+1128+48+8>>2],CD[P+12>>2]=CD[h+1128+48+12>>2],e=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,$P[CD[(CD[e>>2]|0)+56>>2]&7](e,V+272|0,u)):(CD[V+272>>2]=CD[h+1128>>2],CD[V+272+4>>2]=CD[h+1128+4>>2],CD[V+272+8>>2]=CD[h+1128+8>>2],CD[V+272+12>>2]=CD[h+1128+12>>2],CD[R>>2]=CD[h+1128+16>>2],CD[R+4>>2]=CD[h+1128+16+4>>2],CD[R+8>>2]=CD[h+1128+16+8>>2],CD[R+12>>2]=CD[h+1128+16+12>>2],CD[D>>2]=CD[h+1128+32>>2],CD[D+4>>2]=CD[h+1128+32+4>>2],CD[D+8>>2]=CD[h+1128+32+8>>2],CD[D+12>>2]=CD[h+1128+32+12>>2],CD[P>>2]=CD[h+1128+48>>2],CD[P+4>>2]=CD[h+1128+48+4>>2],CD[P+8>>2]=CD[h+1128+48+8>>2],CD[P+12>>2]=CD[h+1128+48+12>>2]),c&1&&(CD[V+272>>2]=CD[h+1064>>2],CD[V+272+4>>2]=CD[h+1064+4>>2],CD[V+272+8>>2]=CD[h+1064+8>>2],CD[V+272+12>>2]=CD[h+1064+12>>2],CD[R>>2]=CD[a>>2],CD[R+4>>2]=CD[a+4>>2],CD[R+8>>2]=CD[a+8>>2],CD[R+12>>2]=CD[a+12>>2],CD[D>>2]=CD[s>>2],CD[D+4>>2]=CD[s+4>>2],CD[D+8>>2]=CD[s+8>>2],CD[D+12>>2]=CD[s+12>>2],CD[P>>2]=CD[l>>2],CD[P+4>>2]=CD[l+4>>2],CD[P+8>>2]=CD[l+8>>2],CD[P+12>>2]=CD[l+12>>2],e=h+1128+48|0,RD[V+736>>2]=+RD[V+272+8>>2],RD[V+736+4>>2]=+RD[V+272+24>>2],RD[V+736+8>>2]=+RD[V+272+40>>2],RD[V+736+12>>2]=0,RD[V+336>>2]=+RD[V+272>>2],RD[V+336+4>>2]=+RD[V+272+16>>2],RD[V+336+8>>2]=+RD[V+272+32>>2],RD[V+336+12>>2]=0,N=+RD[h+932>>2],o=+RD[h+932+4>>2],G=+RD[h+996>>2],J=+RD[h+996+4>>2],c=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,z=CD[(CD[c>>2]|0)+64>>2]|0,CD[V+352>>2]=0,CD[V+352+4>>2]=0,CD[V+352+8>>2]=0,CD[V+352+12>>2]=0,WP[z&0](c,e,V+736|0,V+336|0,u*.8999999761581421,N,o,G,J,V+352|0,10,1),J=+RD[V+272+4>>2],G=+RD[V+272+20>>2],o=+RD[V+272+36>>2],RD[V+336>>2]=J,RD[V+336+4>>2]=G,RD[V+336+8>>2]=o,RD[V+336+12>>2]=0,N=+RD[h+1196>>2],F=+RD[h+1200>>2],n=+GD(+N),N=+zD(+N),O=+GD(+F),F=+zD(+F),RD[V+368>>2]=n*O*J+n*F*G-N*o,RD[V+368+4>>2]=O*G-F*J,RD[V+368+8>>2]=N*O*J+N*F*G+n*o,CD[V+272>>2]=CD[h+1128>>2],CD[V+272+4>>2]=CD[h+1128+4>>2],CD[V+272+8>>2]=CD[h+1128+8>>2],CD[V+272+12>>2]=CD[h+1128+12>>2],CD[R>>2]=CD[h+1128+16>>2],CD[R+4>>2]=CD[h+1128+16+4>>2],CD[R+8>>2]=CD[h+1128+16+8>>2],CD[R+12>>2]=CD[h+1128+16+12>>2],CD[D>>2]=CD[h+1128+32>>2],CD[D+4>>2]=CD[h+1128+32+4>>2],CD[D+8>>2]=CD[h+1128+32+8>>2],CD[D+12>>2]=CD[h+1128+32+12>>2],CD[P>>2]=CD[e>>2],CD[P+4>>2]=CD[e+4>>2],CD[P+8>>2]=CD[e+8>>2],CD[P+12>>2]=CD[e+12>>2],o=-+RD[V+272+16>>2],n=-+RD[V+272+32>>2],RD[V+384>>2]=-+RD[V+272>>2],RD[V+384+4>>2]=o,RD[V+384+8>>2]=n,RD[V+384+12>>2]=0,n=+RD[h+868>>2],o=+RD[h+868+4>>2],n>o?(z=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,c=CD[(CD[z>>2]|0)+60>>2]|0,CD[V+400>>2]=0,CD[V+400+4>>2]=0,CD[V+400+8>>2]=0,CD[V+400+12>>2]=0,wP[c&0](z,e,V+384|0,V+368|0,u,u,-3.1415927410125732,3.1415927410125732,V+400|0,0,10)):n<o&&(z=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,c=CD[(CD[z>>2]|0)+60>>2]|0,CD[V+16>>2]=0,CD[V+16+4>>2]=0,CD[V+16+8>>2]=0,CD[V+16+12>>2]=0,wP[c&0](z,e,V+384|0,V+368|0,u,u,n,o,V+16|0,1,10)),CD[V+272>>2]=CD[h+1064>>2],CD[V+272+4>>2]=CD[h+1064+4>>2],CD[V+272+8>>2]=CD[h+1064+8>>2],CD[V+272+12>>2]=CD[h+1064+12>>2],CD[R>>2]=CD[a>>2],CD[R+4>>2]=CD[a+4>>2],CD[R+8>>2]=CD[a+8>>2],CD[R+12>>2]=CD[a+12>>2],CD[D>>2]=CD[s>>2],CD[D+4>>2]=CD[s+4>>2],CD[D+8>>2]=CD[s+8>>2],CD[D+12>>2]=CD[s+12>>2],CD[P>>2]=CD[l>>2],CD[P+4>>2]=CD[l+4>>2],CD[P+8>>2]=CD[l+8>>2],CD[P+12>>2]=CD[l+12>>2],CD[V+496>>2]=CD[h+680>>2],CD[V+496+4>>2]=CD[h+680+4>>2],CD[V+496+8>>2]=CD[h+680+8>>2],CD[V+496+12>>2]=CD[h+680+12>>2],CD[V+512>>2]=CD[h+680+16>>2],CD[V+512+4>>2]=CD[h+680+16+4>>2],CD[V+512+8>>2]=CD[h+680+16+8>>2],CD[V+512+12>>2]=CD[h+680+16+12>>2],z=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,h=CD[(CD[z>>2]|0)+72>>2]|0,CD[V>>2]=0,CD[V+4>>2]=0,CD[V+8>>2]=0,CD[V+12>>2]=0,_P[h&31](z,V+496|0,V+512|0,V+272|0,V));break e;case 5:if(i_(V+272|0,(CD[h+28>>2]|0)+4|0,h+300|0),e&1?(z=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,$P[CD[(CD[z>>2]|0)+56>>2]&7](z,V+272|0,u),i_(V+32|0,(CD[h+32>>2]|0)+4|0,h+364|0),CD[V+272>>2]=CD[V+32>>2],CD[V+272+4>>2]=CD[V+32+4>>2],CD[V+272+8>>2]=CD[V+32+8>>2],CD[V+272+12>>2]=CD[V+32+12>>2],CD[T>>2]=CD[x>>2],CD[T+4>>2]=CD[x+4>>2],CD[T+8>>2]=CD[x+8>>2],CD[T+12>>2]=CD[x+12>>2],CD[C>>2]=CD[E>>2],CD[C+4>>2]=CD[E+4>>2],CD[C+8>>2]=CD[E+8>>2],CD[C+12>>2]=CD[E+12>>2],CD[A>>2]=CD[w>>2],CD[A+4>>2]=CD[w+4>>2],CD[A+8>>2]=CD[w+8>>2],CD[A+12>>2]=CD[w+12>>2],z=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,$P[CD[(CD[z>>2]|0)+56>>2]&7](z,V+272|0,u)):(i_(V+32|0,(CD[h+32>>2]|0)+4|0,h+364|0),CD[V+272>>2]=CD[V+32>>2],CD[V+272+4>>2]=CD[V+32+4>>2],CD[V+272+8>>2]=CD[V+32+8>>2],CD[V+272+12>>2]=CD[V+32+12>>2],CD[T>>2]=CD[x>>2],CD[T+4>>2]=CD[x+4>>2],CD[T+8>>2]=CD[x+8>>2],CD[T+12>>2]=CD[x+12>>2],CD[C>>2]=CD[E>>2],CD[C+4>>2]=CD[E+4>>2],CD[C+8>>2]=CD[E+8>>2],CD[C+12>>2]=CD[E+12>>2],CD[A>>2]=CD[w>>2],CD[A+4>>2]=CD[w+4>>2],CD[A+8>>2]=CD[w+8>>2],CD[A+12>>2]=CD[w+12>>2]),c&1){yv(V+96|0,h,6.0868353843688965,u),O=+RD[V+96>>2],J=+RD[V+96+4>>2],N=+RD[V+96+8>>2],F=O*+RD[V+272+16>>2]+J*+RD[V+272+20>>2]+N*+RD[V+272+24>>2]+ +RD[V+272+52>>2],G=O*+RD[V+272+32>>2]+J*+RD[V+272+36>>2]+N*+RD[V+272+40>>2]+ +RD[V+272+56>>2],RD[V+96>>2]=O*+RD[V+272>>2]+J*+RD[V+272+4>>2]+N*+RD[V+272+8>>2]+ +RD[V+272+48>>2],RD[V+96+4>>2]=F,RD[V+96+8>>2]=G,RD[V+96+12>>2]=0,e=0;do yv(V+480|0,h,+(e|0)*6.283185005187988*.03125,u),O=+RD[V+480>>2],J=+RD[V+480+4>>2],N=+RD[V+480+8>>2],F=O*+RD[V+272+16>>2]+J*+RD[V+272+20>>2]+N*+RD[V+272+24>>2]+ +RD[V+272+52>>2],G=O*+RD[V+272+32>>2]+J*+RD[V+272+36>>2]+N*+RD[V+272+40>>2]+ +RD[V+272+56>>2],RD[V+480>>2]=O*+RD[V+272>>2]+J*+RD[V+272+4>>2]+N*+RD[V+272+8>>2]+ +RD[V+272+48>>2],RD[V+480+4>>2]=F,RD[V+480+8>>2]=G,RD[V+480+12>>2]=0,z=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,c=CD[(CD[z>>2]|0)+8>>2]|0,CD[V+112>>2]=0,CD[V+112+4>>2]=0,CD[V+112+8>>2]=0,CD[V+112+12>>2]=0,eB[c&127](z,V+96|0,V+480|0,V+112|0),e&3||(z=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,c=CD[(CD[z>>2]|0)+8>>2]|0,CD[V+128>>2]=0,CD[V+128+4>>2]=0,CD[V+128+8>>2]=0,CD[V+128+12>>2]=0,eB[c&127](z,A,V+480|0,V+128|0)),CD[V+96>>2]=CD[V+480>>2],CD[V+96+4>>2]=CD[V+480+4>>2],CD[V+96+8>>2]=CD[V+480+8>>2],CD[V+96+12>>2]=CD[V+480+12>>2],e=e+1|0;while((e|0)!=32);i=+RD[h+452>>2],r=+RD[h+512>>2],e=CD[h+32>>2]|0,+RD[e+344>>2]>0?(i_(V+144|0,e+4|0,h+364|0),CD[V+272>>2]=CD[V+144>>2],CD[V+272+4>>2]=CD[V+144+4>>2],CD[V+272+8>>2]=CD[V+144+8>>2],CD[V+272+12>>2]=CD[V+144+12>>2],CD[T>>2]=CD[V+144+16>>2],CD[T+4>>2]=CD[V+144+16+4>>2],CD[T+8>>2]=CD[V+144+16+8>>2],CD[T+12>>2]=CD[V+144+16+12>>2],CD[C>>2]=CD[V+144+32>>2],CD[C+4>>2]=CD[V+144+32+4>>2],CD[C+8>>2]=CD[V+144+32+8>>2],CD[C+12>>2]=CD[V+144+32+12>>2],CD[A>>2]=CD[V+144+48>>2],CD[A+4>>2]=CD[V+144+48+4>>2],CD[A+8>>2]=CD[V+144+48+8>>2],CD[A+12>>2]=CD[V+144+48+12>>2]):(i_(V+544|0,(CD[h+28>>2]|0)+4|0,h+300|0),CD[V+272>>2]=CD[V+544>>2],CD[V+272+4>>2]=CD[V+544+4>>2],CD[V+272+8>>2]=CD[V+544+8>>2],CD[V+272+12>>2]=CD[V+544+12>>2],CD[T>>2]=CD[V+544+16>>2],CD[T+4>>2]=CD[V+544+16+4>>2],CD[T+8>>2]=CD[V+544+16+8>>2],CD[T+12>>2]=CD[V+544+16+12>>2],CD[C>>2]=CD[V+544+32>>2],CD[C+4>>2]=CD[V+544+32+4>>2],CD[C+8>>2]=CD[V+544+32+8>>2],CD[C+12>>2]=CD[V+544+32+12>>2],CD[A>>2]=CD[V+544+48>>2],CD[A+4>>2]=CD[V+544+48+4>>2],CD[A+8>>2]=CD[V+544+48+8>>2],CD[A+12>>2]=CD[V+544+48+12>>2]),CD[V+624>>2]=CD[A>>2],CD[V+624+4>>2]=CD[A+4>>2],CD[V+624+8>>2]=CD[A+8>>2],CD[V+624+12>>2]=CD[A+12>>2],RD[V+656>>2]=+RD[V+272>>2],RD[V+656+4>>2]=+RD[V+272+16>>2],RD[V+656+8>>2]=+RD[V+272+32>>2],RD[V+656+12>>2]=0,RD[V+688>>2]=+RD[V+272+4>>2],RD[V+688+4>>2]=+RD[V+272+20>>2],RD[V+688+8>>2]=+RD[V+272+36>>2],RD[V+688+12>>2]=0,z=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,h=CD[(CD[z>>2]|0)+60>>2]|0,CD[V+720>>2]=0,CD[V+720+4>>2]=0,CD[V+720+8>>2]=0,CD[V+720+12>>2]=0,wP[h&0](z,V+624|0,V+656|0,V+688|0,u,u,-r-i,i-r,V+720|0,1,10)}break e;case 3:RD[V+272>>2]=1,CD[V+272+4>>2]=0,CD[V+272+4+4>>2]=0,CD[V+272+4+8>>2]=0,CD[V+272+4+12>>2]=0,RD[V+272+20>>2]=1,CD[V+272+24>>2]=0,CD[V+272+24+4>>2]=0,CD[V+272+24+8>>2]=0,CD[V+272+24+12>>2]=0,RD[V+272+40>>2]=1,CD[m>>2]=0,CD[m+4>>2]=0,CD[m+8>>2]=0,CD[m+12>>2]=0,CD[m+16>>2]=0,G=+RD[h+300>>2],F=+RD[h+304>>2],N=+RD[h+308>>2],z=CD[h+28>>2]|0,J=G*+RD[z+20>>2]+F*+RD[z+24>>2]+N*+RD[z+28>>2]+ +RD[z+56>>2],O=G*+RD[z+36>>2]+F*+RD[z+40>>2]+N*+RD[z+44>>2]+ +RD[z+60>>2],RD[V+272+48>>2]=G*+RD[z+4>>2]+F*+RD[z+8>>2]+N*+RD[z+12>>2]+ +RD[z+52>>2],RD[V+272+52>>2]=J,RD[V+272+56>>2]=O,RD[V+272+60>>2]=0,z=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,$P[CD[(CD[z>>2]|0)+56>>2]&7](z,V+272|0,u),O=+RD[h+316>>2],J=+RD[h+320>>2],N=+RD[h+324>>2],z=CD[h+32>>2]|0,F=O*+RD[z+20>>2]+J*+RD[z+24>>2]+N*+RD[z+28>>2]+ +RD[z+56>>2],G=O*+RD[z+36>>2]+J*+RD[z+40>>2]+N*+RD[z+44>>2]+ +RD[z+60>>2],RD[V+272+48>>2]=O*+RD[z+4>>2]+J*+RD[z+8>>2]+N*+RD[z+12>>2]+ +RD[z+52>>2],RD[V+272+52>>2]=F,RD[V+272+56>>2]=G,RD[V+272+60>>2]=0,e&1&&(z=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,$P[CD[(CD[z>>2]|0)+56>>2]&7](z,V+272|0,u));break e;case 4:i_(V+272|0,(CD[h+28>>2]|0)+4|0,h+552|0),e&1?(z=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,$P[CD[(CD[z>>2]|0)+56>>2]&7](z,V+272|0,u),i_(V+416|0,(CD[h+32>>2]|0)+4|0,h+616|0),CD[V+272>>2]=CD[V+416>>2],CD[V+272+4>>2]=CD[V+416+4>>2],CD[V+272+8>>2]=CD[V+416+8>>2],CD[V+272+12>>2]=CD[V+416+12>>2],CD[g>>2]=CD[y>>2],CD[g+4>>2]=CD[y+4>>2],CD[g+8>>2]=CD[y+8>>2],CD[g+12>>2]=CD[y+12>>2],CD[b>>2]=CD[v>>2],CD[b+4>>2]=CD[v+4>>2],CD[b+8>>2]=CD[v+8>>2],CD[b+12>>2]=CD[v+12>>2],CD[M>>2]=CD[S>>2],CD[M+4>>2]=CD[S+4>>2],CD[M+8>>2]=CD[S+8>>2],CD[M+12>>2]=CD[S+12>>2],z=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,$P[CD[(CD[z>>2]|0)+56>>2]&7](z,V+272|0,u)):(i_(V+416|0,(CD[h+32>>2]|0)+4|0,h+616|0),CD[V+272>>2]=CD[V+416>>2],CD[V+272+4>>2]=CD[V+416+4>>2],CD[V+272+8>>2]=CD[V+416+8>>2],CD[V+272+12>>2]=CD[V+416+12>>2],CD[g>>2]=CD[y>>2],CD[g+4>>2]=CD[y+4>>2],CD[g+8>>2]=CD[y+8>>2],CD[g+12>>2]=CD[y+12>>2],CD[b>>2]=CD[v>>2],CD[b+4>>2]=CD[v+4>>2],CD[b+8>>2]=CD[v+8>>2],CD[b+12>>2]=CD[v+12>>2],CD[M>>2]=CD[S>>2],CD[M+4>>2]=CD[S+4>>2],CD[M+8>>2]=CD[S+8>>2],CD[M+12>>2]=CD[S+12>>2]),n=+RD[h+688>>2],r=+RD[h+688+4>>2],i=+Rw(n-r,6.2831854820251465),o=i<-3.1415927410125732?i+6.2831854820251465:i>3.1415927410125732?i+-6.2831854820251465:i,i=+Rw(n+r,6.2831854820251465),i<-3.1415927410125732?i+=6.2831854820251465:i>3.1415927410125732&&(i+=-6.2831854820251465),(o!=i?(_=o>i,(c&1|0)!=0):0)&&(RD[V+224>>2]=+RD[V+272+8>>2],RD[V+224+4>>2]=+RD[V+272+24>>2],RD[V+224+8>>2]=+RD[V+272+40>>2],RD[V+224+12>>2]=0,RD[V+672>>2]=+RD[V+272>>2],RD[V+672+4>>2]=+RD[V+272+16>>2],RD[V+672+8>>2]=+RD[V+272+32>>2],RD[V+672+12>>2]=0,z=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,h=CD[(CD[z>>2]|0)+60>>2]|0,CD[V+704>>2]=0,CD[V+704+4>>2]=0,CD[V+704+8>>2]=0,CD[V+704+12>>2]=0,wP[h&0](z,M,V+224|0,V+672|0,u,u,_?0:o,_?6.2831854820251465:i,V+704|0,_^1,10));break e;default:break e}while(0);e=B}while(0);if(((((MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0)!=0?(z=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,((MP[CD[(CD[z>>2]|0)+48>>2]&127](z)|0)&16387|0)!=0):0)?(MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0)!=0:0)?(z=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,(MP[CD[(CD[z>>2]|0)+48>>2]&127](z)|0)!=0):0)?(CD[t+280>>2]|0)>0:0){e=0;do z=CD[(CD[t+288>>2]|0)+(e<<2)>>2]|0,bP[CD[(CD[z>>2]|0)+12>>2]&127](z,CD[t+72>>2]|0),e=e+1|0;while((e|0)<(CD[t+280>>2]|0))}if(e=CD[5104]|0,z=(CD[e+16>>2]|0)+-1|0,CD[e+16>>2]=z,z)return void(BD=V);do if(CD[e+4>>2]|0){if(uP(V+272|0,0)|0,z=CD[5090]|0,RD[e+8>>2]=+(((CD[V+272+4>>2]|0)-(CD[z+4>>2]|0)+(((CD[V+272>>2]|0)-(CD[z>>2]|0)|0)*1e6|0)-(CD[e+12>>2]|0)|0)>>>0)/1e3+ +RD[e+8>>2],CD[e+16>>2]|0)return void(BD=V);e=CD[5104]|0;break}while(0);CD[5104]=CD[e+20>>2],BD=V}function Rd(t){t|=0;var e=0,i=0;if(!((CD[t+232>>2]|0)<=0)){e=0;do i=(CD[(CD[t+240>>2]|0)+(e<<2)>>2]|0)+412|0,CD[i>>2]=0,CD[i+4>>2]=0,CD[i+8>>2]=0,CD[i+12>>2]=0,CD[i+16>>2]=0,CD[i+20>>2]=0,CD[i+24>>2]=0,CD[i+28>>2]=0,e=e+1|0;while((e|0)<(CD[t+232>>2]|0))}}function Dd(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0;if(r=CD[t+232>>2]|0,!((r|0)<=0))for(t=CD[t+240>>2]|0,i=0;;){if(e=CD[t+(i<<2)>>2]|0,o=CD[e+216>>2]|0,((o|0)==2|(o|0)==5?0:(CD[e+204>>2]&3|0)==0)&&(a=+RD[e+368>>2]*+RD[e+352>>2],n=+RD[e+372>>2]*+RD[e+356>>2],RD[e+412>>2]=+RD[e+364>>2]*+RD[e+348>>2]+ +RD[e+412>>2],RD[e+416>>2]=a+ +RD[e+416>>2],RD[e+420>>2]=n+ +RD[e+420>>2]),(i|0)==(r+-1|0))break;i=i+1|0}}function Pd(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0,s=0,l=0;if(s=BD,BD=BD+64|0,cM(1768),TD[t+274>>0]|0){if(e=CD[t+8>>2]|0,(e|0)>0){o=0;do r=CD[(CD[t+16>>2]|0)+(o<<2)>>2]|0,((((r|0)==0?1:(CD[r+236>>2]&2|0)==0)?0:(CD[r+480>>2]|0)!=0)?(CD[r+204>>2]&3|0)==0:0)&&(i=((TD[t+300>>0]|0)!=0?(n=+RD[t+268>>2],n!=0):0)?+RD[t+264>>2]-n:+RD[t+264>>2]*+RD[r+244>>2],t_(r+68|0,+RD[r+132>>2],+RD[r+136>>2],+RD[r+140>>2],r+148|0,i,s),e=CD[r+480>>2]|0,bP[CD[(CD[e>>2]|0)+12>>2]&127](e,s),e=CD[t+8>>2]|0),o=o+1|0;while((o|0)<(e|0))}}else if(e=CD[t+232>>2]|0,(e|0)>0){o=0;do r=CD[(CD[t+240>>2]|0)+(o<<2)>>2]|0,l=CD[r+216>>2]|0,(((l|0)==2|(l|0)==5?0:(CD[r+480>>2]|0)!=0)?(CD[r+204>>2]&3|0)==0:0)&&(i=((TD[t+300>>0]|0)!=0?(a=+RD[t+268>>2],a!=0):0)?+RD[t+264>>2]-a:+RD[t+264>>2]*+RD[r+244>>2],t_(r+68|0,+RD[r+132>>2],+RD[r+136>>2],+RD[r+140>>2],r+148|0,i,s),e=CD[r+480>>2]|0,bP[CD[(CD[e>>2]|0)+12>>2]&127](e,s),e=CD[t+232>>2]|0),o=o+1|0;while((o|0)<(e|0))}if(e=CD[5104]|0,l=(CD[e+16>>2]|0)+-1|0,CD[e+16>>2]=l,l)return void(BD=s);do if(CD[e+4>>2]|0){if(uP(s|0,0)|0,l=CD[5090]|0,RD[e+8>>2]=+(((CD[s+4>>2]|0)-(CD[l+4>>2]|0)+(((CD[s>>2]|0)-(CD[l>>2]|0)|0)*1e6|0)-(CD[e+12>>2]|0)|0)>>>0)/1e3+ +RD[e+8>>2],CD[e+16>>2]|0)return void(BD=s);e=CD[5104]|0;break}while(0);CD[5104]=CD[e+20>>2],BD=s}function Bd(t,e,i,r){t|=0,e=+e,i|=0,r=+r;var o=0,n=0,a=0,s=0;if(s=BD,BD=BD+16|0,uP(CD[5090]|0,0)|0,lM(20368),CD[5093]=(CD[5093]|0)+1,a=CD[5096]|0,CD[5096]=a+1,a||(uP(s|0,0)|0,a=CD[5090]|0,CD[5095]=(CD[s+4>>2]|0)-(CD[a+4>>2]|0)+(((CD[s>>2]|0)-(CD[a>>2]|0)|0)*1e6|0)),CD[5106]=0,uP(s|0,0)|0,cM(1792),i?(RD[t+268>>2]=r,n=+RD[t+264>>2]+e,RD[t+264>>2]=n,n>=r?(RD[t+264>>2]=n-+(~~(n/r)|0)*r,e=r,a=~~(n/r)):(e=r,a=0)):(RD[t+264>>2]=(TD[t+300>>0]|0)!=0?0:e,RD[t+268>>2]=0,a=!(+JD(+e)<1.1920928955078125e-7)&1,i=a),MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0&&(o=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,o=(MP[CD[(CD[o>>2]|0)+48>>2]&127](o)|0)>>>4&1,TD[1448]=o),a){if(o=(a|0)>(i|0)?i:a,mP[CD[(CD[t>>2]|0)+164>>2]&31](t,e*+(o|0)),gP[CD[(CD[t>>2]|0)+168>>2]&255](t),(o|0)>0){i=0;do mP[CD[(CD[t>>2]|0)+160>>2]&31](t,e),gP[CD[(CD[t>>2]|0)+80>>2]&255](t),i=i+1|0;while((i|0)<(o|0))}}else gP[CD[(CD[t>>2]|0)+80>>2]&255](t);if(gP[CD[(CD[t>>2]|0)+120>>2]&255](t),CD[5106]=(CD[5106]|0)+1,o=CD[5104]|0,t=(CD[o+16>>2]|0)+-1|0,CD[o+16>>2]=t,t)return BD=s,a|0;do if(CD[o+4>>2]|0){if(uP(s|0,0)|0,t=CD[5090]|0,RD[o+8>>2]=+(((CD[s+4>>2]|0)-(CD[t+4>>2]|0)+(((CD[s>>2]|0)-(CD[t>>2]|0)|0)*1e6|0)-(CD[o+12>>2]|0)|0)>>>0)/1e3+ +RD[o+8>>2],CD[o+16>>2]|0)return BD=s,a|0;o=CD[5104]|0;break}while(0);return CD[5104]=CD[o+20>>2],BD=s,a|0}function Vd(t,e){t|=0,e=+e;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0;if(x=BD,BD=BD+464|0,cM(1808),i=CD[t+84>>2]|0,i&&mP[i&31](t,e),mP[CD[(CD[t>>2]|0)+140>>2]&31](t,e),RD[t+28>>2]=e,CD[t+32>>2]=0,i=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,CD[t+48>>2]=i,cM(1944),cM(1976),i=CD[t+316>>2]|0,(CD[t+308>>2]|0)>0){r=0;do d=CD[t+24>>2]|0,bP[CD[(CD[d>>2]|0)+16>>2]&127](d,CD[i+(r<<2)>>2]|0),r=r+1|0,i=CD[t+316>>2]|0;while((r|0)<(CD[t+308>>2]|0))}i&&(TD[t+320>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0)),CD[t+316>>2]=0),TD[t+320>>0]=1,CD[t+316>>2]=0,CD[t+308>>2]=0,CD[t+312>>2]=0,i=CD[5104]|0,d=(CD[i+16>>2]|0)+-1|0,CD[i+16>>2]=d;do if(!d){if(CD[i+4>>2]|0){if(uP(x+368|0,0)|0,d=CD[5090]|0,RD[i+8>>2]=+(((CD[x+368+4>>2]|0)-(CD[d+4>>2]|0)+(((CD[x+368>>2]|0)-(CD[d>>2]|0)|0)*1e6|0)-(CD[i+12>>2]|0)|0)>>>0)/1e3+ +RD[i+8>>2],CD[i+16>>2]|0)break;i=CD[5104]|0}CD[5104]=CD[i+20>>2]}while(0);if((CD[t+232>>2]|0)>0){p=x+304+48|0,f=x+368+44|0,_=0;do{s=CD[(CD[t+240>>2]|0)+(_<<2)>>2]|0,RD[s+244>>2]=1,d=CD[s+216>>2]|0;do if((((d|0)==2|(d|0)==5?0:(CD[s+204>>2]&3|0)==0)?(t_(s+4|0,+RD[s+312>>2],+RD[s+316>>2],+RD[s+320>>2],s+328|0,e,x+304|0),g=+RD[p>>2],y=g-+RD[s+52>>2],b=+RD[x+304+52>>2],v=b-+RD[s+56>>2],M=+RD[x+304+56>>2],S=M-+RD[s+60>>2],(TD[t+44>>0]|0)!=0):0)?(u=+RD[s+252>>2],u*u!=0?u*u<y*y+v*v+S*S:0):0){if(cM(2016),(CD[(CD[s+192>>2]|0)+4>>2]|0)<20?(CD[484]=(CD[484]|0)+1,a=CD[t+68>>2]|0,a=MP[CD[(CD[a>>2]|0)+36>>2]&127](a)|0,d=CD[t+24>>2]|0,RD[x+368+4>>2]=1,xD[x+368+8>>1]=1,xD[x+368+10>>1]=-1,CD[x+368>>2]=880,CD[x+368+12>>2]=CD[s+52>>2],CD[x+368+12+4>>2]=CD[s+52+4>>2],CD[x+368+12+8>>2]=CD[s+52+8>>2],CD[x+368+12+12>>2]=CD[s+52+12>>2],CD[x+368+28>>2]=CD[p>>2],CD[x+368+28+4>>2]=CD[p+4>>2],CD[x+368+28+8>>2]=CD[p+8>>2],CD[x+368+28+12>>2]=CD[p+12>>2],CD[x+368+76>>2]=0,CD[x+368>>2]=2296,CD[x+368+80>>2]=s,CD[x+368+88>>2]=a,CD[x+368+92>>2]=d,T=+RD[s+248>>2],CD[x+248+8>>2]=0,RD[x+248+12>>2]=1,RD[x+248+16>>2]=1,RD[x+248+20>>2]=1,RD[x+248+24>>2]=0,CD[x+248>>2]=12008,CD[x+248+4>>2]=8,RD[x+248+28>>2]=T,RD[x+248+44>>2]=T,RD[x+368+84>>2]=+RD[t+56>>2],d=CD[s+188>>2]|0,xD[x+368+8>>1]=xD[d+4>>1]|0,xD[x+368+10>>1]=xD[d+6>>1]|0,CD[x+184+48>>2]=CD[p>>2],CD[x+184+48+4>>2]=CD[p+4>>2],CD[x+184+48+8>>2]=CD[p+8>>2],CD[x+184+48+12>>2]=CD[p+12>>2],CD[x+184>>2]=CD[s+4>>2],CD[x+184+4>>2]=CD[s+4+4>>2],CD[x+184+8>>2]=CD[s+4+8>>2],CD[x+184+12>>2]=CD[s+4+12>>2],CD[x+184+16>>2]=CD[s+20>>2],CD[x+184+16+4>>2]=CD[s+20+4>>2],CD[x+184+16+8>>2]=CD[s+20+8>>2],CD[x+184+16+12>>2]=CD[s+20+12>>2],CD[x+184+32>>2]=CD[s+36>>2],CD[x+184+32+4>>2]=CD[s+36+4>>2],CD[x+184+32+8>>2]=CD[s+36+8>>2],CD[x+184+32+12>>2]=CD[s+36+12>>2],ES(t,x+248|0,s+4|0,x+184|0,x+368|0,0),T=+RD[x+368+4>>2],T<1):0){if(l=T*(g-+RD[s+52>>2]),c=T*(b-+RD[s+56>>2]),h=T*(M-+RD[s+60>>2]),u=-(c*+RD[x+368+48>>2])-l*+RD[f>>2]-h*+RD[x+368+52>>2],d=CD[t+24>>2]|0,d=DP[CD[(CD[d>>2]|0)+12>>2]&63](d,s,CD[x+368+76>>2]|0)|0,i=CD[t+308>>2]|0,(i|0)==(CD[t+312>>2]|0)?(m=(i|0)==0?1:i<<1,(i|0)<(m|0)):0){if(m?(CD[5108]=(CD[5108]|0)+1,r=Aw((m<<2|3)+16|0)|0,r?(CD[(r+4+15&-16)+-4>>2]=r,r=r+4+15&-16):r=0,i=CD[t+308>>2]|0):r=0,(i|0)>0)for(o=i+-1|0,a=0;;){if(n=r+(a<<2)|0,n&&(CD[n>>2]=CD[(CD[t+316>>2]|0)+(a<<2)>>2]),(a|0)==(o|0))break;a=a+1|0}o=CD[t+316>>2]|0,o&&(TD[t+320>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[o+-4>>2]|0),i=CD[t+308>>2]|0),CD[t+316>>2]=0),TD[t+320>>0]=1,CD[t+316>>2]=r,CD[t+312>>2]=m}r=(CD[t+316>>2]|0)+(i<<2)|0,r&&(CD[r>>2]=d),CD[t+308>>2]=i+1,l+=+RD[s+52>>2],c+=+RD[s+56>>2],h+=+RD[s+60>>2],a=CD[x+368+76>>2]|0,H=+RD[a+4>>2],k=+RD[a+20>>2],L=+RD[a+36>>2],V=+RD[a+8>>2],B=+RD[a+24>>2],P=+RD[a+40>>2],D=+RD[a+12>>2],w=+RD[a+28>>2],E=+RD[a+44>>2],R=-+RD[a+52>>2],A=-+RD[a+56>>2],C=-+RD[a+60>>2],CD[x>>2]=0,CD[x+4>>2]=0,CD[x+8>>2]=0,CD[x+12>>2]=0,RD[x+16>>2]=l*H+c*k+h*L+(H*R+k*A+L*C),RD[x+20>>2]=l*V+c*B+h*P+(V*R+B*A+P*C),RD[x+24>>2]=l*D+c*w+h*E+(D*R+w*A+E*C),RD[x+28>>2]=0,CD[x+64>>2]=CD[f>>2],CD[x+64+4>>2]=CD[f+4>>2],CD[x+64+8>>2]=CD[f+8>>2],CD[x+64+12>>2]=CD[f+12>>2],RD[x+80>>2]=u,RD[x+84>>2]=0,RD[x+88>>2]=0,RD[x+92>>2]=0,CD[x+112>>2]=0,TD[x+116>>0]=0,CD[x+120>>2]=0,CD[x+120+4>>2]=0,CD[x+120+8>>2]=0,CD[x+120+12>>2]=0,CD[x+120+16>>2]=0,CD[x+120+20>>2]=0,CD[x+120+24>>2]=0,CD[x+120+28>>2]=0,a=vM(d,x)|0,RD[d+4+(a*184|0)+92>>2]=0,u=+RD[s+224>>2]*+RD[(CD[x+368+76>>2]|0)+224>>2],u=u<-10?-10:u,RD[d+4+(a*184|0)+84>>2]=u>10?10:u,CD[d+4+(a*184|0)+48>>2]=CD[s+52>>2],CD[d+4+(a*184|0)+48+4>>2]=CD[s+52+4>>2],CD[d+4+(a*184|0)+48+8>>2]=CD[s+52+8>>2],CD[d+4+(a*184|0)+48+12>>2]=CD[s+52+12>>2],RD[d+4+(a*184|0)+32>>2]=l,RD[d+4+(a*184|0)+36>>2]=c,RD[d+4+(a*184|0)+40>>2]=h,RD[d+4+(a*184|0)+44>>2]=0}if(r=CD[5104]|0,d=(CD[r+16>>2]|0)+-1|0,CD[r+16>>2]=d,!d){if(CD[r+4>>2]|0){if(uP(x+368|0,0)|0,d=CD[5090]|0,RD[r+8>>2]=+(((CD[x+368+4>>2]|0)-(CD[d+4>>2]|0)+(((CD[x+368>>2]|0)-(CD[d>>2]|0)|0)*1e6|0)-(CD[r+12>>2]|0)|0)>>>0)/1e3+ +RD[r+8>>2],CD[r+16>>2]|0)break;r=CD[5104]|0}CD[5104]=CD[r+20>>2]}}while(0);_=_+1|0}while((_|0)<(CD[t+232>>2]|0))}i=CD[5104]|0,d=(CD[i+16>>2]|0)+-1|0,CD[i+16>>2]=d;do if(!d){if(CD[i+4>>2]|0){if(uP(x+368|0,0)|0,d=CD[5090]|0,RD[i+8>>2]=+(((CD[x+368+4>>2]|0)-(CD[d+4>>2]|0)+(((CD[x+368>>2]|0)-(CD[d>>2]|0)|0)*1e6|0)-(CD[i+12>>2]|0)|0)>>>0)/1e3+ +RD[i+8>>2],CD[i+16>>2]|0)break;i=CD[5104]|0}CD[5104]=CD[i+20>>2]}while(0);if(gP[CD[(CD[t>>2]|0)+44>>2]&255](t),gP[CD[(CD[t>>2]|0)+148>>2]&255](t),RD[t+104>>2]=e,bP[CD[(CD[t>>2]|0)+152>>2]&127](t,t+92|0),mP[CD[(CD[t>>2]|0)+144>>2]&31](t,e),cM(1840),(CD[t+280>>2]|0)>0){i=0;do d=CD[(CD[t+288>>2]|0)+(i<<2)>>2]|0,$P[CD[(CD[d>>2]|0)+8>>2]&7](d,t,e),i=i+1|0;while((i|0)<(CD[t+280>>2]|0))}i=CD[5104]|0,d=(CD[i+16>>2]|0)+-1|0,CD[i+16>>2]=d;do if(!d){if(CD[i+4>>2]|0){if(uP(x+368|0,0)|0,d=CD[5090]|0,RD[i+8>>2]=+(((CD[x+368+4>>2]|0)-(CD[d+4>>2]|0)+(((CD[x+368>>2]|0)-(CD[d>>2]|0)|0)*1e6|0)-(CD[i+12>>2]|0)|0)>>>0)/1e3+ +RD[i+8>>2],CD[i+16>>2]|0)break;i=CD[5104]|0}CD[5104]=CD[i+20>>2]}while(0);if(mP[CD[(CD[t>>2]|0)+156>>2]&31](t,e),i=CD[t+80>>2]|0,i&&mP[i&31](t,e),i=CD[5104]|0,t=(CD[i+16>>2]|0)+-1|0,CD[i+16>>2]=t,t)return void(BD=x);do if(CD[i+4>>2]|0){if(uP(x+368|0,0)|0,t=CD[5090]|0,RD[i+8>>2]=+(((CD[x+368+4>>2]|0)-(CD[t+4>>2]|0)+(((CD[x+368>>2]|0)-(CD[t>>2]|0)|0)*1e6|0)-(CD[i+12>>2]|0)|0)>>>0)/1e3+ +RD[i+8>>2],CD[i+16>>2]|0)return void(BD=x);i=CD[5104]|0;break}while(0);CD[5104]=CD[i+20>>2],BD=x}function Ld(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0;if(CD[t+248>>2]=CD[e>>2],CD[t+248+4>>2]=CD[e+4>>2],CD[t+248+8>>2]=CD[e+8>>2],CD[t+248+12>>2]=CD[e+12>>2],i=CD[t+232>>2]|0,!((i|0)<=0)){n=0;do o=CD[(CD[t+240>>2]|0)+(n<<2)>>2]|0,a=CD[o+216>>2]|0,((a|0)==2|(a|0)==5?0:(CD[o+504>>2]&1|0)==0)&&(r=+RD[o+344>>2],r!=0&&(l=1/r*+RD[e+4>>2],s=1/r*+RD[e+8>>2],RD[o+364>>2]=1/r*+RD[e>>2],RD[o+368>>2]=l,RD[o+372>>2]=s,RD[o+376>>2]=0),CD[o+380>>2]=CD[e>>2],CD[o+380+4>>2]=CD[e+4>>2],CD[o+380+8>>2]=CD[e+8>>2],CD[o+380+12>>2]=CD[e+12>>2],i=CD[t+232>>2]|0),n=n+1|0;while((n|0)<(i|0))}}function kd(t,e){t|=0,e|=0,CD[t>>2]=CD[e+248>>2],CD[t+4>>2]=CD[e+248+4>>2],CD[t+8>>2]=CD[e+248+8>>2],CD[t+12>>2]=CD[e+248+12>>2]}function Hd(t,e,i,r){t|=0,e|=0,i|=0,r|=0,yS(t,e,i,r)}function Id(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0;if(!((e|0)==0?1:(CD[e+236>>2]&2|0)==0))return void bP[CD[(CD[t>>2]|0)+92>>2]&127](t,e);if(i=CD[e+188>>2]|0,i&&(n=CD[t+68>>2]|0,n=MP[CD[(CD[n>>2]|0)+36>>2]&127](n)|0,QP[CD[(CD[n>>2]|0)+40>>2]&127](n,i,CD[t+24>>2]|0),n=CD[t+68>>2]|0,QP[CD[(CD[n>>2]|0)+12>>2]&127](n,i,CD[t+24>>2]|0),CD[e+188>>2]=0),o=CD[t+8>>2]|0,!((o|0)<=0)){for(n=CD[t+16>>2]|0,i=0;;){if(r=n+(i<<2)|0,(CD[r>>2]|0)==(e|0))break;
if(i=i+1|0,(i|0)>=(o|0)){a=11;break}}(a|0)!=11&&((i|0)>=(o|0)||(CD[r>>2]=CD[n+(o+-1<<2)>>2],CD[(CD[t+16>>2]|0)+(o+-1<<2)>>2]=e,CD[t+8>>2]=o+-1))}}function Od(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0;o=CD[t+232>>2]|0;t:do if((o|0)>0){for(n=CD[t+240>>2]|0,i=0;;){if(r=n+(i<<2)|0,(CD[r>>2]|0)==(e|0))break;if(i=i+1|0,(i|0)>=(o|0))break t}(i|0)<(o|0)&&(CD[r>>2]=CD[n+(o+-1<<2)>>2],CD[(CD[t+240>>2]|0)+(o+-1<<2)>>2]=e,CD[t+232>>2]=o+-1)}while(0);if(i=CD[e+188>>2]|0,i&&(n=CD[t+68>>2]|0,n=MP[CD[(CD[n>>2]|0)+36>>2]&127](n)|0,QP[CD[(CD[n>>2]|0)+40>>2]&127](n,i,CD[t+24>>2]|0),n=CD[t+68>>2]|0,QP[CD[(CD[n>>2]|0)+12>>2]&127](n,i,CD[t+24>>2]|0),CD[e+188>>2]=0),o=CD[t+8>>2]|0,!((o|0)<=0)){for(n=CD[t+16>>2]|0,i=0;;){if(r=n+(i<<2)|0,(CD[r>>2]|0)==(e|0))break;if(i=i+1|0,(i|0)>=(o|0)){a=15;break}}(a|0)!=15&&((i|0)>=(o|0)||(CD[r>>2]=CD[n+(o+-1<<2)>>2],CD[(CD[t+16>>2]|0)+(o+-1<<2)>>2]=e,CD[t+8>>2]=o+-1))}}function Jd(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0;if(i=CD[e+204>>2]|0,((i&3|0)==0?(CD[e+504>>2]&1|0)==0:0)&&(o=+RD[e+344>>2],o!=0&&(h=1/o*+RD[t+252>>2],c=1/o*+RD[t+256>>2],RD[e+364>>2]=1/o*+RD[t+248>>2],RD[e+368>>2]=h,RD[e+372>>2]=c,RD[e+376>>2]=0),CD[e+380>>2]=CD[t+248>>2],CD[e+380+4>>2]=CD[t+248+4>>2],CD[e+380+8>>2]=CD[t+248+8>>2],CD[e+380+12>>2]=CD[t+248+12>>2]),CD[e+192>>2]|0){if(i&1)(CD[e+216>>2]&-2|0)!=4&&(CD[e+216>>2]=2);else{if(r=CD[t+232>>2]|0,(r|0)==(CD[t+236>>2]|0)?(l=(r|0)==0?1:r<<1,(r|0)<(l|0)):0){if(l?(CD[5108]=(CD[5108]|0)+1,i=Aw((l<<2|3)+16|0)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,r=i+4+15&-16):r=0,s=r,r=CD[t+232>>2]|0):s=0,(r|0)>0)for(i=r+-1|0,a=0;;){if(n=s+(a<<2)|0,n&&(CD[n>>2]=CD[(CD[t+240>>2]|0)+(a<<2)>>2]),(a|0)==(i|0))break;a=a+1|0}i=CD[t+240>>2]|0,i&&(TD[t+244>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0),r=CD[t+232>>2]|0),CD[t+240>>2]=0),TD[t+244>>0]=1,CD[t+240>>2]=s,CD[t+236>>2]=l}i=(CD[t+240>>2]|0)+(r<<2)|0,i&&(CD[i>>2]=e),CD[t+232>>2]=r+1,i=CD[e+204>>2]|0}i=i&1?0:(i&2|0)==0,eB[CD[(CD[t>>2]|0)+36>>2]&127](t,e,i?1:2,i?-1:-3)}}function Nd(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0;if(n=CD[e+204>>2]|0,((n&3|0)==0?(CD[e+504>>2]&1|0)==0:0)&&(a=+RD[e+344>>2],a!=0&&(d=1/a*+RD[t+252>>2],u=1/a*+RD[t+256>>2],RD[e+364>>2]=1/a*+RD[t+248>>2],RD[e+368>>2]=d,RD[e+372>>2]=u,RD[e+376>>2]=0),CD[e+380>>2]=CD[t+248>>2],CD[e+380+4>>2]=CD[t+248+4>>2],CD[e+380+8>>2]=CD[t+248+8>>2],CD[e+380+12>>2]=CD[t+248+12>>2]),CD[e+192>>2]|0){if(n&1)(CD[e+216>>2]&-2|0)!=4&&(CD[e+216>>2]=2);else{if(n=CD[t+232>>2]|0,(n|0)==(CD[t+236>>2]|0)?(h=(n|0)==0?1:n<<1,(n|0)<(h|0)):0){if(h?(CD[5108]=(CD[5108]|0)+1,o=Aw((h<<2|3)+16|0)|0,o?(CD[(o+4+15&-16)+-4>>2]=o,n=o+4+15&-16):n=0,c=n,n=CD[t+232>>2]|0):c=0,(n|0)>0)for(o=n+-1|0,l=0;;){if(s=c+(l<<2)|0,s&&(CD[s>>2]=CD[(CD[t+240>>2]|0)+(l<<2)>>2]),(l|0)==(o|0))break;l=l+1|0}o=CD[t+240>>2]|0,o&&(TD[t+244>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[o+-4>>2]|0),n=CD[t+232>>2]|0),CD[t+240>>2]=0),TD[t+244>>0]=1,CD[t+240>>2]=c,CD[t+236>>2]=h}o=(CD[t+240>>2]|0)+(n<<2)|0,o&&(CD[o>>2]=e),CD[t+232>>2]=n+1}eB[CD[(CD[t>>2]|0)+36>>2]&127](t,e,i,r)}}function Fd(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0;if(b=BD,BD=BD+2048|0,(r|0)<=0)return void(BD=b);for(o=0;;){if(RD[i+(o<<4)+12>>2]=-0xde0b6b000000000,(o|0)==(r+-1|0))break;o=o+1|0}for(m=0;;){if((MP[CD[(CD[t>>2]|0)+96>>2]&127](t)|0)>0){_=e+(m<<4)|0,u=e+(m<<4)+4|0,d=e+(m<<4)+8|0,p=i+(m<<4)+12|0,f=i+(m<<4)|0,g=0;do{if(((MP[CD[(CD[t>>2]|0)+96>>2]&127](t)|0)-g|0)<128?(o=(MP[CD[(CD[t>>2]|0)+96>>2]&127](t)|0)-g|0,(o|0)>0?y=9:(n=-3.4028234663852886e38,o=-1)):(o=128,y=9),(y|0)==9){for(y=0,h=o+-1|0,o=0;;){if(QP[CD[(CD[t>>2]|0)+108>>2]&127](t,o,b+(o<<4)|0),(o|0)==(h|0))break;o=o+1|0}for(a=+RD[_>>2],s=+RD[u>>2],l=+RD[d>>2],c=0,n=-3.4028234663852886e38,o=-1;;){if(v=a*+RD[b+(c<<4)>>2]+s*+RD[b+(c<<4)+4>>2]+l*+RD[b+(c<<4)+8>>2],M=v>n,o=M?c:o,n=M?v:n,(c|0)==(h|0))break;c=c+1|0}}n>+RD[p>>2]&&(M=b+(o<<4)|0,CD[f>>2]=CD[M>>2],CD[f+4>>2]=CD[M+4>>2],CD[f+8>>2]=CD[M+8>>2],CD[f+12>>2]=CD[M+12>>2],RD[p>>2]=n),g=g+128|0}while((g|0)<(MP[CD[(CD[t>>2]|0)+96>>2]&127](t)|0))}if((m|0)==(r+-1|0))break;m=m+1|0}BD=b}function Gd(t,e,i){t|=0,e=+e,i|=0;var r=0,o=0,n=0,a=0,s=0;r=BD,BD=BD+96|0,a=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),RD[r+32>>2]=1,CD[r+32+4>>2]=0,CD[r+32+4+4>>2]=0,CD[r+32+4+8>>2]=0,CD[r+32+4+12>>2]=0,RD[r+32+20>>2]=1,CD[r+32+24>>2]=0,CD[r+32+24+4>>2]=0,CD[r+32+24+8>>2]=0,CD[r+32+24+12>>2]=0,RD[r+32+40>>2]=1,s=r+32+44|0,CD[s>>2]=0,CD[s+4>>2]=0,CD[s+8>>2]=0,CD[s+12>>2]=0,CD[s+16>>2]=0,eB[CD[(CD[t>>2]|0)+8>>2]&127](t,r+32|0,r+16|0,r),n=(a+(+RD[r>>2]-+RD[r+16>>2])*.5)*2,o=(a+(+RD[r+4>>2]-+RD[r+16+4>>2])*.5)*2,a=(a+(+RD[r+8>>2]-+RD[r+16+8>>2])*.5)*2,RD[i>>2]=e*.0833333283662796*(o*o+a*a),RD[i+4>>2]=e*.0833333283662796*(n*n+a*a),RD[i+8>>2]=e*.0833333283662796*(n*n+o*o),RD[i+12>>2]=0,BD=r}function zd(t){t|=0;var e=0,i=0,r=0,o=0;i=BD,BD=BD+96|0,TD[t+88>>0]=1,((TD[13560]|0)==0?(KD(13560)|0)!=0:0)&&(RD[3366]=1,CD[3367]=0,CD[3368]=0,CD[3369]=0,CD[3370]=0,RD[3371]=1,CD[3372]=0,CD[3373]=0,CD[3374]=0,CD[3375]=0,RD[3376]=1,RD[3377]=0,RD[3378]=-1,CD[3379]=0,CD[3380]=0,CD[3381]=0,CD[3382]=0,RD[3383]=-1,CD[3384]=0,CD[3385]=0,CD[3386]=0,CD[3387]=0,RD[3388]=-1,RD[3389]=0,QD(13560)),e=i,r=e+96|0;do CD[e>>2]=0,e=e+4|0;while((e|0)<(r|0));eB[CD[(CD[t>>2]|0)+76>>2]&127](t,13464,i,6),o=+RD[t+44>>2],RD[t+72>>2]=+RD[i>>2]+o,RD[t+56>>2]=+RD[i+48>>2]-o,RD[t+76>>2]=+RD[i+20>>2]+o,RD[t+60>>2]=+RD[i+68>>2]-o,RD[t+80>>2]=+RD[i+40>>2]+o,RD[t+64>>2]=+RD[i+88>>2]-o,BD=i}function jd(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0;d=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),y=+RD[t+72>>2],g=+RD[t+56>>2],_=+RD[t+76>>2],f=+RD[t+60>>2],u=+RD[t+80>>2],h=+RD[t+64>>2],w=+RD[e>>2],S=+JD(+w),A=+RD[e+4>>2],M=+JD(+A),l=+RD[e+8>>2],c=+JD(+l),E=+RD[e+16>>2],v=+JD(+E),C=+RD[e+20>>2],b=+JD(+C),a=+RD[e+24>>2],s=+JD(+a),x=+RD[e+32>>2],m=+JD(+x),T=+RD[e+36>>2],p=+JD(+T),o=+RD[e+40>>2],n=+JD(+o),l=(y+g)*.5*w+(_+f)*.5*A+(u+h)*.5*l+ +RD[e+48>>2],a=(y+g)*.5*E+(_+f)*.5*C+(u+h)*.5*a+ +RD[e+52>>2],o=(y+g)*.5*x+(_+f)*.5*T+(u+h)*.5*o+ +RD[e+56>>2],c=(d+(y-g)*.5)*S+(d+(_-f)*.5)*M+(d+(u-h)*.5)*c,s=(d+(y-g)*.5)*v+(d+(_-f)*.5)*b+(d+(u-h)*.5)*s,n=(d+(y-g)*.5)*m+(d+(_-f)*.5)*p+(d+(u-h)*.5)*n,RD[i>>2]=l-c,RD[i+4>>2]=a-s,RD[i+8>>2]=o-n,RD[i+12>>2]=0,RD[r>>2]=c+l,RD[r+4>>2]=s+a,RD[r+8>>2]=n+o,RD[r+12>>2]=0}function Ud(t){t|=0;var e=0;CD[t>>2]=13336,e=CD[t+52>>2]|0,e&&(gP[CD[CD[e>>2]>>2]&255](e),e=CD[t+52>>2]|0,e&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)))}function Wd(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0;r=BD,BD=BD+96|0,RD[r+32>>2]=1,CD[r+32+4>>2]=0,CD[r+32+4+4>>2]=0,CD[r+32+4+8>>2]=0,CD[r+32+4+12>>2]=0,RD[r+32+20>>2]=1,CD[r+32+24>>2]=0,CD[r+32+24+4>>2]=0,CD[r+32+24+8>>2]=0,CD[r+32+24+12>>2]=0,RD[r+32+40>>2]=1,u=r+32+44|0,CD[u>>2]=0,CD[u+4>>2]=0,CD[u+8>>2]=0,CD[u+12>>2]=0,CD[u+16>>2]=0,eB[CD[(CD[t>>2]|0)+8>>2]&127](t,r+32|0,r+16|0,r),l=+RD[r>>2],c=+RD[r+16>>2],a=+RD[r+4>>2],s=+RD[r+16+4>>2],o=+RD[r+8>>2],n=+RD[r+16+8>>2],h=+ND(+((l-c)*(l-c)+(a-s)*(a-s)+(o-n)*(o-n)))*.5,RD[i>>2]=h,RD[e>>2]=(c+l)*.5,RD[e+4>>2]=(s+a)*.5,RD[e+8>>2]=(n+o)*.5,RD[e+12>>2]=0,BD=r}function Xd(t,e){return t|=0,e=+e,+(+VP[CD[(CD[t>>2]|0)+16>>2]&15](t)*e)}function qd(t){t|=0;var e=0,i=0,r=0,o=0;return e=BD,BD=BD+32|0,QP[CD[(CD[t>>2]|0)+12>>2]&127](t,e+8|0,e),o=+RD[e+8>>2],r=+RD[e+8+4>>2],i=+RD[e+8+8>>2],i=+ND(+(o*o+r*r+i*i)),BD=e,+(i+ +RD[e>>2])}function Kd(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0;var a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0;eB[CD[(CD[t>>2]|0)+8>>2]&127](t,e,o,n),u=+RD[n>>2],l=+RD[n+4>>2],a=+RD[n+8>>2],c=+RD[o>>2],d=+RD[o+4>>2],s=+RD[o+8>>2],h=+RD[i>>2],p=+RD[i+4>>2],f=+RD[i+8>>2],h>0?u+=h:c+=h,p>0?(h=d,l+=p):h=d+p,f>0?a+=f:s+=f,d=+RD[r>>2],p=+RD[r+4>>2],f=+RD[r+8>>2],f=+ND(+(d*d+p*p+f*f)),f*=+VP[CD[(CD[t>>2]|0)+16>>2]&15](t),RD[o>>2]=c,RD[o+4>>2]=h,RD[o+8>>2]=s,RD[o+12>>2]=0,RD[n>>2]=u,RD[n+4>>2]=l,RD[n+8>>2]=a,RD[n+12>>2]=0,RD[o>>2]=+RD[o>>2]-f,RD[o+4>>2]=+RD[o+4>>2]-f,RD[o+8>>2]=+RD[o+8>>2]-f,RD[n>>2]=f+ +RD[n>>2],RD[n+4>>2]=f+ +RD[n+4>>2],RD[n+8>>2]=f+ +RD[n+8>>2]}function Yd(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0;return r=NP[CD[(CD[i>>2]|0)+40>>2]&31](i,t)|0,o=NP[CD[(CD[i>>2]|0)+28>>2]&31](i,r)|0,CD[e>>2]=o,o&&bP[CD[(CD[i>>2]|0)+48>>2]&127](i,r),CD[e+4>>2]=CD[t+4>>2],13672}function Qd(t,e){t|=0,e|=0;var i=0,r=0;r=MP[CD[(CD[t>>2]|0)+52>>2]&127](t)|0,r=DP[CD[(CD[e>>2]|0)+16>>2]&63](e,r,1)|0,i=DP[CD[(CD[t>>2]|0)+56>>2]&63](t,CD[r+8>>2]|0,e)|0,_P[CD[(CD[e>>2]|0)+20>>2]&31](e,r,i,1346455635,t)}function Zd(t){t|=0}function $d(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0;return s=BD,BD=BD+64|0,h=+RD[i>>2],u=+RD[i+4>>2],c=+RD[i+8>>2],d=h*+RD[e+4>>2]+u*+RD[e+20>>2]+c*+RD[e+36>>2],p=h*+RD[e+8>>2]+u*+RD[e+24>>2]+c*+RD[e+40>>2],RD[s+48>>2]=+RD[e>>2]*h+ +RD[e+16>>2]*u+ +RD[e+32>>2]*c,RD[s+48+4>>2]=d,RD[s+48+8>>2]=p,RD[s+48+12>>2]=0,QP[CD[(CD[t>>2]|0)+64>>2]&127](s+32|0,t,s+48|0),p=+RD[s+32>>2],d=+RD[s+32+4>>2],c=+RD[s+32+8>>2],u=p*+RD[e>>2]+d*+RD[e+4>>2]+c*+RD[e+8>>2]+ +RD[e+48>>2],h=p*+RD[e+16>>2]+d*+RD[e+20>>2]+c*+RD[e+24>>2]+ +RD[e+52>>2],c=p*+RD[e+32>>2]+d*+RD[e+36>>2]+c*+RD[e+40>>2]+ +RD[e+56>>2],f=CD[(CD[t>>2]|0)+64>>2]|0,d=-+RD[s+48+4>>2],p=-+RD[s+48+8>>2],RD[s>>2]=-+RD[s+48>>2],RD[s+4>>2]=d,RD[s+8>>2]=p,RD[s+12>>2]=0,QP[f&127](s+16|0,t,s),p=+RD[s+16>>2],d=+RD[s+16+4>>2],n=+RD[s+16+8>>2],l=p*+RD[e>>2]+d*+RD[e+4>>2]+n*+RD[e+8>>2]+ +RD[e+48>>2],a=p*+RD[e+16>>2]+d*+RD[e+20>>2]+n*+RD[e+24>>2]+ +RD[e+52>>2],n=p*+RD[e+32>>2]+d*+RD[e+36>>2]+n*+RD[e+40>>2]+ +RD[e+56>>2],RD[r>>2]=u*+RD[i>>2]+h*+RD[i+4>>2]+c*+RD[i+8>>2],n=l*+RD[i>>2]+a*+RD[i+4>>2]+n*+RD[i+8>>2],RD[o>>2]=n,a=+RD[r>>2],a>n?(RD[r>>2]=n,RD[o>>2]=a,void(BD=s)):void(BD=s)}function tp(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0;switch(v=BD,BD=BD+80|0,CD[e+4>>2]|0){case 0:return g=+RD[e+28>>2],y=+RD[e+28+4>>2],y=+RD[i+4>>2]>=0?y:-y,b=+RD[e+28+8>>2],b=+RD[i+8>>2]>=0?b:-b,RD[t>>2]=+RD[i>>2]>=0?g:-g,RD[t+4>>2]=y,RD[t+8>>2]=b,RD[t+12>>2]=0,void(BD=v);case 13:return CD[v+64>>2]=CD[e+28>>2],CD[v+64+4>>2]=CD[e+28+4>>2],CD[v+64+8>>2]=CD[e+28+8>>2],CD[v+64+12>>2]=CD[e+28+12>>2],RD[v+48>>2]=+RD[i>>2],n=+RD[i+4>>2],RD[v+48+4>>2]=n,a=+RD[i+8>>2],RD[v+48+8>>2]=a,RD[v+48+12>>2]=0,r=CD[e+52>>2]|0,(r|0)==1?(l=0,e=r,i=2):(r|0)==2?(a=n,l=0,e=r,i=1):(l=1,e=0,i=2),c=+RD[v+64+(l<<2)>>2],o=+RD[v+64+(r<<2)>>2],n=+RD[v+48+(l<<2)>>2],s=+ND(+(n*n+a*a)),s!=0?(RD[v+32+(l<<2)>>2]=n*(c/s),+RD[v+48+(e<<2)>>2]<0&&(o=-o),RD[v+32+(e<<2)>>2]=o,RD[v+32+(i<<2)>>2]=c/s*a,RD[t>>2]=+RD[v+32>>2],RD[t+4>>2]=+RD[v+32+4>>2],RD[t+8>>2]=+RD[v+32+8>>2],RD[t+12>>2]=0,void(BD=v)):(RD[v+32+(l<<2)>>2]=c,+RD[v+48+(e<<2)>>2]<0&&(o=-o),RD[v+32+(e<<2)>>2]=o,RD[v+32+(i<<2)>>2]=0,RD[t>>2]=+RD[v+32>>2],RD[t+4>>2]=+RD[v+32+4>>2],RD[t+8>>2]=+RD[v+32+8>>2],RD[t+12>>2]=0,void(BD=v));case 8:return CD[t>>2]=0,CD[t+4>>2]=0,CD[t+8>>2]=0,CD[t+12>>2]=0,void(BD=v);case 1:return y=+RD[i>>2],b=+RD[i+4>>2],a=+RD[i+8>>2],o=y*+RD[e+56>>2]+b*+RD[e+56+4>>2]+a*+RD[e+56+8>>2],n=y*+RD[e+56+16>>2]+b*+RD[e+56+20>>2]+a*+RD[e+56+24>>2],a=y*+RD[e+56+32>>2]+b*+RD[e+56+36>>2]+a*+RD[e+56+40>>2],r=o<n?n<a?2:1:o<a?2:0,y=+RD[e+56+(r<<4)+4>>2],b=+RD[e+56+(r<<4)+8>>2],RD[t>>2]=+RD[e+56+(r<<4)>>2],RD[t+4>>2]=y,RD[t+8>>2]=b,RD[t+12>>2]=0,void(BD=v);case 5:if(p=CD[e+92>>2]|0,l=CD[e+96>>2]|0,d=+RD[e+12>>2],u=+RD[e+16>>2],h=+RD[e+20>>2],c=+RD[i>>2]*d,o=+RD[i+4>>2]*u,s=+RD[i+8>>2]*h,(l|0)>0)for(e=0,n=-3.4028234663852886e38,r=-1;;){if(a=c*+RD[p+(e<<4)>>2]+o*+RD[p+(e<<4)+4>>2]+s*+RD[p+(e<<4)+8>>2],i=a>n,r=i?e:r,(e|0)==(l+-1|0))break;e=e+1|0,n=i?a:n}else r=-1;return y=u*+RD[p+(r<<4)+4>>2],b=h*+RD[p+(r<<4)+8>>2],RD[t>>2]=d*+RD[p+(r<<4)>>2],RD[t+4>>2]=y,RD[t+8>>2]=b,RD[t+12>>2]=0,void(BD=v);case 4:if(p=CD[e+104>>2]|0,l=CD[e+96>>2]|0,u=+RD[e+12>>2],d=+RD[e+16>>2],h=+RD[e+20>>2],c=+RD[i>>2]*u,o=+RD[i+4>>2]*d,s=+RD[i+8>>2]*h,(l|0)>0)for(e=0,n=-3.4028234663852886e38,r=-1;;){if(a=c*+RD[p+(e<<4)>>2]+o*+RD[p+(e<<4)+4>>2]+s*+RD[p+(e<<4)+8>>2],i=a>n,r=i?e:r,(e|0)==(l+-1|0))break;e=e+1|0,n=i?a:n}else r=-1;return y=d*+RD[p+(r<<4)+4>>2],b=h*+RD[p+(r<<4)+8>>2],RD[t>>2]=u*+RD[p+(r<<4)>>2],RD[t+4>>2]=y,RD[t+8>>2]=b,RD[t+12>>2]=0,void(BD=v);case 10:return a=+RD[i>>2],n=+RD[i+4>>2],o=+RD[i+8>>2],i=CD[e+52>>2]|0,b=+RD[e+28+(i<<2)>>2],s=+RD[e+28+(((i+2|0)%3|0)<<2)>>2],a*a+n*n+o*o<9999999747378752e-20?(y=1,g=0,m=0):(m=1/+ND(+(a*a+n*n+o*o)),y=a*m,g=n*m,m=o*m),CD[v+16>>2]=0,CD[v+16+4>>2]=0,CD[v+16+8>>2]=0,CD[v+16+12>>2]=0,RD[v+16+(i<<2)>>2]=b,f=s*y,_=s*g,o=s*m,c=+RD[e+44>>2],d=y*c,u=g*c,c=m*c,n=+RD[v+16>>2]+f-d,h=_+ +RD[v+16+4>>2]-u,s=o+ +RD[v+16+8>>2]-c,a=m*s+(y*n+g*h),a>-0xde0b6b000000000||(s=0,h=0,n=0,a=-0xde0b6b000000000),CD[v>>2]=0,CD[v+4>>2]=0,CD[v+8>>2]=0,CD[v+12>>2]=0,RD[v+(i<<2)>>2]=-b,f=f+ +RD[v>>2]-d,d=_+ +RD[v+4>>2]-u,b=o+ +RD[v+8>>2]-c,i=m*b+(y*f+g*d)>a,RD[t>>2]=i?f:n,RD[t+4>>2]=i?d:h,RD[t+8>>2]=i?b:s,RD[t+12>>2]=0,void(BD=v);default:return QP[CD[(CD[e>>2]|0)+68>>2]&127](t,e,i),void(BD=v)}}function ep(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0;switch(a=BD,BD=BD+32|0,CD[a+16>>2]=CD[i>>2],CD[a+16+4>>2]=CD[i+4>>2],CD[a+16+8>>2]=CD[i+8>>2],CD[a+16+12>>2]=CD[i+12>>2],r=+RD[a+16>>2],n=+RD[a+16+4>>2],o=+RD[a+16+8>>2],r*r+n*n+o*o<1.4210854715202004e-14&&(RD[a+16>>2]=-1,RD[a+16+4>>2]=-1,RD[a+16+8>>2]=-1,RD[a+16+12>>2]=0,r=-1,n=-1,o=-1),s=1/+ND(+(r*r+n*n+o*o)),RD[a+16>>2]=r*s,RD[a+16+4>>2]=n*s,RD[a+16+8>>2]=o*s,tp(a,e,a+16|0),CD[e+4>>2]|0){case 1:r=+RD[e+44>>2];break;case 11:r=+RD[e+44>>2];break;case 0:r=+RD[e+44>>2];break;case 8:r=+RD[e+28>>2]*+RD[e+12>>2];break;case 10:r=+RD[e+44>>2];break;case 4:case 5:r=+RD[e+44>>2];break;case 13:r=+RD[e+44>>2];break;default:r=+VP[CD[(CD[e>>2]|0)+48>>2]&15](e)}s=r*+RD[a+16+4>>2]+ +RD[a+4>>2],n=r*+RD[a+16+8>>2]+ +RD[a+8>>2],RD[t>>2]=r*+RD[a+16>>2]+ +RD[a>>2],RD[t+4>>2]=s,RD[t+8>>2]=n,RD[t+12>>2]=0,BD=a}function ip(t,e){t|=0,e|=0;var i=0,r=0,o=0;o=+JD(+ +RD[e>>2]),r=+JD(+ +RD[e+4>>2]),i=+JD(+ +RD[e+8>>2]),RD[t+12>>2]=o,RD[t+16>>2]=r,RD[t+20>>2]=i,RD[t+24>>2]=0}function rp(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0;a=BD,BD=BD+96|0,o=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),n=0;do p=a+80+(n<<2)|0,CD[a+80>>2]=0,CD[a+80+4>>2]=0,CD[a+80+8>>2]=0,CD[a+80+12>>2]=0,RD[p>>2]=1,s=CD[(CD[t>>2]|0)+64>>2]|0,l=+RD[a+80>>2],c=+RD[a+80+4>>2],h=+RD[a+80+8>>2],u=l*+RD[e+4>>2]+c*+RD[e+20>>2]+h*+RD[e+36>>2],d=l*+RD[e+8>>2]+c*+RD[e+24>>2]+h*+RD[e+40>>2],RD[a+48>>2]=+RD[e>>2]*l+ +RD[e+16>>2]*c+ +RD[e+32>>2]*h,RD[a+48+4>>2]=u,RD[a+48+8>>2]=d,RD[a+48+12>>2]=0,QP[s&127](a+64|0,t,a+48|0),d=+RD[a+64>>2],u=+RD[a+64+4>>2],h=+RD[a+64+8>>2],c=d*+RD[e+16>>2]+u*+RD[e+20>>2]+h*+RD[e+24>>2]+ +RD[e+52>>2],l=d*+RD[e+32>>2]+u*+RD[e+36>>2]+h*+RD[e+40>>2]+ +RD[e+56>>2],RD[a+32>>2]=d*+RD[e>>2]+u*+RD[e+4>>2]+h*+RD[e+8>>2]+ +RD[e+48>>2],RD[a+32+4>>2]=c,RD[a+32+8>>2]=l,RD[a+32+12>>2]=0,s=a+32+(n<<2)|0,RD[r+(n<<2)>>2]=o+ +RD[s>>2],RD[p>>2]=-1,p=CD[(CD[t>>2]|0)+64>>2]|0,l=+RD[a+80>>2],c=+RD[a+80+4>>2],h=+RD[a+80+8>>2],u=l*+RD[e+4>>2]+c*+RD[e+20>>2]+h*+RD[e+36>>2],d=l*+RD[e+8>>2]+c*+RD[e+24>>2]+h*+RD[e+40>>2],RD[a>>2]=+RD[e>>2]*l+ +RD[e+16>>2]*c+ +RD[e+32>>2]*h,RD[a+4>>2]=u,RD[a+8>>2]=d,RD[a+12>>2]=0,QP[p&127](a+16|0,t,a),d=+RD[a+16>>2],u=+RD[a+16+4>>2],h=+RD[a+16+8>>2],c=d*+RD[e+16>>2]+u*+RD[e+20>>2]+h*+RD[e+24>>2]+ +RD[e+52>>2],l=d*+RD[e+32>>2]+u*+RD[e+36>>2]+h*+RD[e+40>>2]+ +RD[e+56>>2],RD[a+32>>2]=d*+RD[e>>2]+u*+RD[e+4>>2]+h*+RD[e+8>>2]+ +RD[e+48>>2],RD[a+32+4>>2]=c,RD[a+32+8>>2]=l,RD[a+32+12>>2]=0,RD[i+(n<<2)>>2]=+RD[s>>2]-o,n=n+1|0;while((n|0)!=3);BD=a}function op(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0;QP[CD[(CD[e>>2]|0)+68>>2]&127](t,e,i),+VP[CD[(CD[e>>2]|0)+48>>2]&15](e)!=0&&(s=+RD[i>>2],n=+RD[i+4>>2],o=+RD[i+8>>2],r=s*s+n*n+o*o<1.4210854715202004e-14?-1:o,a=s*s+n*n+o*o<1.4210854715202004e-14?-1:n,s=s*s+n*n+o*o<1.4210854715202004e-14?-1:s,o=1/+ND(+(r*r+(s*s+a*a))),n=+VP[CD[(CD[e>>2]|0)+48>>2]&15](e),RD[t>>2]=o*s*n+ +RD[t>>2],RD[t+4>>2]=n*o*a+ +RD[t+4>>2],RD[t+8>>2]=n*o*r+ +RD[t+8>>2])}function np(t,e){t|=0,e|=0,CD[t+12>>2]=CD[e>>2],CD[t+12+4>>2]=CD[e+4>>2],CD[t+12+8>>2]=CD[e+8>>2],CD[t+12+12>>2]=CD[e+12>>2],zd(t)}function ap(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0;if(r=CD[t+96>>2]|0,(r|0)==(CD[t+100>>2]|0)?(a=(r|0)==0?1:r<<1,(r|0)<(a|0)):0){if(a?(CD[5108]=(CD[5108]|0)+1,r=Aw((a<<4|3)+16|0)|0,r?(CD[(r+4+15&-16)+-4>>2]=r,r=r+4+15&-16):r=0,n=r,r=CD[t+96>>2]|0):n=0,(r|0)>0)for(r=r+-1|0,o=0;;){if(s=n+(o<<4)|0,l=(CD[t+104>>2]|0)+(o<<4)|0,CD[s>>2]=CD[l>>2],CD[s+4>>2]=CD[l+4>>2],CD[s+8>>2]=CD[l+8>>2],CD[s+12>>2]=CD[l+12>>2],(o|0)==(r|0))break;o=o+1|0}r=CD[t+104>>2]|0,r&&(TD[t+108>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[r+-4>>2]|0)),CD[t+104>>2]=0),TD[t+108>>0]=1,CD[t+104>>2]=n,CD[t+100>>2]=a,r=CD[t+96>>2]|0}l=(CD[t+104>>2]|0)+(r<<4)|0,CD[l>>2]=CD[e>>2],CD[l+4>>2]=CD[e+4>>2],CD[l+8>>2]=CD[e+8>>2],CD[l+12>>2]=CD[e+12>>2],CD[t+96>>2]=(CD[t+96>>2]|0)+1,i&&zd(t)}function sp(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0;if(l=CD[e+96>>2]|0,(l|0)<=0)return CD[t>>2]=0,CD[t+4>>2]=0,CD[t+8>>2]=0,void(CD[t+12>>2]=0);for(d=+RD[e+12>>2],p=+RD[i>>2]*d,c=+RD[e+16>>2],h=+RD[i+4>>2]*c,u=+RD[e+20>>2],s=+RD[i+8>>2]*u,e=CD[e+104>>2]|0,o=0,n=-3.4028234663852886e38,a=-1;;){if(r=p*+RD[e+(o<<4)>>2]+h*+RD[e+(o<<4)+4>>2]+s*+RD[e+(o<<4)+8>>2],i=r>n,a=i?o:a,(o|0)==(l+-1|0))break;o=o+1|0,n=i?r:n}c=+RD[e+(a<<4)+4>>2]*c,p=+RD[e+(a<<4)+8>>2]*u,RD[t>>2]=+RD[e+(a<<4)>>2]*d,RD[t+4>>2]=c,RD[t+8>>2]=p,RD[t+12>>2]=0}function lp(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0;if(!((r|0)<=0)){for(o=0;;){if(RD[i+(o<<4)+12>>2]=-0xde0b6b000000000,(o|0)==(r+-1|0))break;o=o+1|0}for(p=0;;){if(n=+RD[t+12>>2],a=+RD[e+(p<<4)>>2]*n,s=+RD[t+16>>2],l=+RD[e+(p<<4)+4>>2]*s,c=+RD[t+20>>2],h=+RD[e+(p<<4)+8>>2]*c,o=CD[t+96>>2]|0,(o|0)>0){for(u=CD[t+104>>2]|0,d=0,f=-3.4028234663852886e38,_=-1;;){if(m=a*+RD[u+(d<<4)>>2]+l*+RD[u+(d<<4)+4>>2]+h*+RD[u+(d<<4)+8>>2],g=m>f,_=g?d:_,f=g?m:f,(d|0)==(o+-1|0))break;d=d+1|0}m=+RD[u+(_<<4)+4>>2]*s,h=+RD[u+(_<<4)+8>>2]*c,RD[i+(p<<4)>>2]=+RD[u+(_<<4)>>2]*n,RD[i+(p<<4)+4>>2]=m,RD[i+(p<<4)+8>>2]=h,RD[i+(p<<4)+12>>2]=f}else RD[i+(p<<4)+12>>2]=-0xde0b6b000000000;if((p|0)==(r+-1|0))break;p=p+1|0}}}function cp(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0;QP[CD[(CD[e>>2]|0)+68>>2]&127](t,e,i),+VP[CD[(CD[e>>2]|0)+48>>2]&15](e)!=0&&(s=+RD[i>>2],n=+RD[i+4>>2],o=+RD[i+8>>2],r=s*s+n*n+o*o<1.4210854715202004e-14?-1:o,a=s*s+n*n+o*o<1.4210854715202004e-14?-1:n,s=s*s+n*n+o*o<1.4210854715202004e-14?-1:s,o=1/+ND(+(r*r+(s*s+a*a))),n=+VP[CD[(CD[e>>2]|0)+48>>2]&15](e),RD[t>>2]=o*s*n+ +RD[t>>2],RD[t+4>>2]=n*o*a+ +RD[t+4>>2],RD[t+8>>2]=n*o*r+ +RD[t+8>>2])}function hp(t){return t|=0,CD[t+96>>2]|0}function up(t){return t|=0,CD[t+96>>2]|0}function dp(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0;a=CD[t+96>>2]|0,s=CD[t+104>>2]|0,o=+RD[s+(((e|0)%(a|0)|0)<<4)+4>>2]*+RD[t+16>>2],n=+RD[s+(((e|0)%(a|0)|0)<<4)+8>>2]*+RD[t+20>>2],RD[i>>2]=+RD[s+(((e|0)%(a|0)|0)<<4)>>2]*+RD[t+12>>2],RD[i+4>>2]=o,RD[i+8>>2]=n,RD[i+12>>2]=0,i=CD[t+104>>2]|0,n=+RD[i+(((e+1|0)%(a|0)|0)<<4)+4>>2]*+RD[t+16>>2],o=+RD[i+(((e+1|0)%(a|0)|0)<<4)+8>>2]*+RD[t+20>>2],RD[r>>2]=+RD[i+(((e+1|0)%(a|0)|0)<<4)>>2]*+RD[t+12>>2],RD[r+4>>2]=n,RD[r+8>>2]=o,RD[r+12>>2]=0}function pp(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0;n=CD[t+104>>2]|0,o=+RD[n+(e<<4)+4>>2]*+RD[t+16>>2],r=+RD[n+(e<<4)+8>>2]*+RD[t+20>>2],RD[i>>2]=+RD[n+(e<<4)>>2]*+RD[t+12>>2],RD[i+4>>2]=o,RD[i+8>>2]=r,RD[i+12>>2]=0}function fp(t){return t|=0,0}function _p(t,e,i,r){t|=0,e|=0,i|=0,r|=0}function mp(t,e,i){return t|=0,e|=0,i=+i,0}function gp(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0;if(r=NP[CD[(CD[i>>2]|0)+40>>2]&31](i,t)|0,n=NP[CD[(CD[i>>2]|0)+28>>2]&31](i,r)|0,CD[e>>2]=n,n&&bP[CD[(CD[i>>2]|0)+48>>2]&127](i,r),CD[e+4>>2]=CD[t+4>>2],RD[e+28>>2]=+RD[t+28>>2],RD[e+32>>2]=+RD[t+32>>2],RD[e+36>>2]=+RD[t+36>>2],RD[e+40>>2]=+RD[t+40>>2],RD[e+12>>2]=+RD[t+12>>2],RD[e+16>>2]=+RD[t+16>>2],RD[e+20>>2]=+RD[t+20>>2],RD[e+24>>2]=+RD[t+24>>2],RD[e+44>>2]=+RD[t+44>>2],o=CD[t+96>>2]|0,CD[e+60>>2]=o,!o)return CD[e+52>>2]=0,CD[e+56>>2]=0,13936;if(n=NP[CD[(CD[i>>2]|0)+28>>2]&31](i,CD[t+104>>2]|0)|0,CD[e+52>>2]=n,CD[e+56>>2]=0,n=DP[CD[(CD[i>>2]|0)+16>>2]&63](i,16,o)|0,(o|0)>0)for(r=CD[t+104>>2]|0,e=0,t=CD[n+8>>2]|0;;){if(RD[t>>2]=+RD[r+(e<<4)>>2],RD[t+4>>2]=+RD[r+(e<<4)+4>>2],RD[t+8>>2]=+RD[r+(e<<4)+8>>2],RD[t+12>>2]=+RD[r+(e<<4)+12>>2],(e|0)==(o+-1|0))break;e=e+1|0,t=t+16|0}else r=CD[t+104>>2]|0;return _P[CD[(CD[i>>2]|0)+20>>2]&31](i,n,20224,1497453121,r),13936}function yp(t,e,i,r,o,n,a){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0;var s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0;if(p=BD,BD=BD+16|0,RD[r>>2]=3.4028234663852886e38,RD[o>>2]=-3.4028234663852886e38,c=CD[t+96>>2]|0,(c|0)>0){for(d=0;;){if(_=CD[t+104>>2]|0,f=+RD[_+(d<<4)>>2]*+RD[t+12>>2],u=+RD[_+(d<<4)+4>>2]*+RD[t+16>>2],h=+RD[_+(d<<4)+8>>2]*+RD[t+20>>2],l=f*+RD[e>>2]+u*+RD[e+4>>2]+h*+RD[e+8>>2]+ +RD[e+48>>2],s=f*+RD[e+16>>2]+u*+RD[e+20>>2]+h*+RD[e+24>>2]+ +RD[e+52>>2],h=f*+RD[e+32>>2]+u*+RD[e+36>>2]+h*+RD[e+40>>2]+ +RD[e+56>>2],u=l*+RD[i>>2]+s*+RD[i+4>>2]+h*+RD[i+8>>2],u<+RD[r>>2]&&(RD[r>>2]=u,RD[n>>2]=l,RD[n+4>>2]=s,RD[n+8>>2]=h,RD[n+12>>2]=0),u>+RD[o>>2]&&(RD[o>>2]=u,RD[a>>2]=l,RD[a+4>>2]=s,RD[a+8>>2]=h,RD[a+12>>2]=0),(d|0)==(c+-1|0))break;d=d+1|0}l=+RD[o>>2]}else l=-3.4028234663852886e38;return s=+RD[r>>2],s>l?(RD[r>>2]=l,RD[o>>2]=s,CD[p>>2]=CD[n>>2],CD[p+4>>2]=CD[n+4>>2],CD[p+8>>2]=CD[n+8>>2],CD[p+12>>2]=CD[n+12>>2],CD[n>>2]=CD[a>>2],CD[n+4>>2]=CD[a+4>>2],CD[n+8>>2]=CD[a+8>>2],CD[n+12>>2]=CD[a+12>>2],CD[a>>2]=CD[p>>2],CD[a+4>>2]=CD[p+4>>2],CD[a+8>>2]=CD[p+8>>2],CD[a+12>>2]=CD[p+12>>2],void(BD=p)):void(BD=p)}function bp(t){t|=0}function vp(t){t|=0}function Mp(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0;return p=BD,BD=BD+32|0,CD[t>>2]=0,CD[t+4>>2]=0,CD[t+8>>2]=0,CD[t+12>>2]=0,r=+RD[i>>2],o=+RD[i+4>>2],n=+RD[i+8>>2],r*r+o*o+n*n<9999999747378752e-20?(d=1,u=0,h=0):(h=1/+ND(+(r*r+o*o+n*n)),d=r*h,u=o*h,h=n*h),i=CD[e+52>>2]|0,c=+RD[e+28+(((i+2|0)%3|0)<<2)>>2],CD[p+16>>2]=0,CD[p+16+4>>2]=0,CD[p+16+8>>2]=0,CD[p+16+12>>2]=0,RD[p+16+(i<<2)>>2]=+RD[e+28+(i<<2)>>2],s=d*c,l=u*c,c=h*c,n=s+ +RD[p+16>>2],o=l+ +RD[p+16+4>>2],a=c+ +RD[p+16+8>>2],r=+VP[CD[(CD[e>>2]|0)+48>>2]&15](e),n-=d*r,o-=u*r,r=a-h*r,a=h*r+(d*n+u*o),a>-0xde0b6b000000000?(RD[t>>2]=n,RD[t+4>>2]=o,RD[t+8>>2]=r,RD[t+12>>2]=0):a=-0xde0b6b000000000,CD[p>>2]=0,CD[p+4>>2]=0,CD[p+8>>2]=0,CD[p+12>>2]=0,i=CD[e+52>>2]|0,RD[p+(i<<2)>>2]=-+RD[e+28+(i<<2)>>2],n=s+ +RD[p>>2],o=l+ +RD[p+4>>2],c+=+RD[p+8>>2],r=+VP[CD[(CD[e>>2]|0)+48>>2]&15](e),n-=d*r,o-=u*r,r=c-h*r,h*r+(d*n+u*o)>a?(RD[t>>2]=n,RD[t+4>>2]=o,RD[t+8>>2]=r,RD[t+12>>2]=0,void(BD=p)):void(BD=p)}function Sp(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0;if(v=BD,BD=BD+32|0,o=CD[t+52>>2]|0,b=+RD[t+28+(((o+2|0)%3|0)<<2)>>2],(r|0)<=0)return void(BD=v);for(y=0;;){if(CD[v+16>>2]=0,CD[v+16+4>>2]=0,CD[v+16+8>>2]=0,CD[v+16+12>>2]=0,RD[v+16+(o<<2)>>2]=+RD[t+28+(o<<2)>>2],o=e+(y<<4)|0,m=e+(y<<4)+4|0,g=e+(y<<4)+8|0,h=b*+RD[o>>2]+ +RD[v+16>>2],c=b*+RD[m>>2]+ +RD[v+16+4>>2],l=b*+RD[g>>2]+ +RD[v+16+8>>2],s=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),a=+RD[o>>2],n=+RD[m>>2],u=+RD[g>>2],a*(h-s*a)+n*(c-s*n)+u*(l-s*u)>-0xde0b6b000000000?(RD[i+(y<<4)>>2]=h-s*a,RD[i+(y<<4)+4>>2]=c-s*n,RD[i+(y<<4)+8>>2]=l-s*u,RD[i+(y<<4)+12>>2]=0,d=+RD[o>>2],f=+RD[m>>2],_=+RD[g>>2],p=a*(h-s*a)+n*(c-s*n)+u*(l-s*u)):(d=a,f=n,_=u,p=-0xde0b6b000000000),CD[v>>2]=0,CD[v+4>>2]=0,CD[v+8>>2]=0,CD[v+12>>2]=0,M=CD[t+52>>2]|0,RD[v+(M<<2)>>2]=-+RD[t+28+(M<<2)>>2],u=b*d+ +RD[v>>2],h=b*f+ +RD[v+4>>2],l=b*_+ +RD[v+8>>2],c=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),s=+RD[o>>2],a=+RD[m>>2],n=+RD[g>>2],s*(u-c*s)+a*(h-c*a)+n*(l-c*n)>p&&(RD[i+(y<<4)>>2]=u-c*s,RD[i+(y<<4)+4>>2]=h-c*a,RD[i+(y<<4)+8>>2]=l-c*n,RD[i+(y<<4)+12>>2]=0),(y|0)==(r+-1|0))break;o=CD[t+52>>2]|0,y=y+1|0}BD=v}function Tp(t,e,i){t|=0,e=+e,i|=0;var r=0,o=0,n=0,a=0,s=0;r=BD,BD=BD+16|0,s=CD[t+52>>2]|0,n=+RD[t+28+(((s+2|0)%3|0)<<2)>>2],RD[r>>2]=n,RD[r+4>>2]=n,RD[r+8>>2]=n,RD[r+12>>2]=0,RD[r+(s<<2)>>2]=+RD[t+28+(s<<2)>>2]+ +RD[r+(s<<2)>>2],n=(+RD[r>>2]+.03999999910593033)*2,o=(+RD[r+4>>2]+.03999999910593033)*2,a=(+RD[r+8>>2]+.03999999910593033)*2,RD[i>>2]=e*.0833333283662796*(o*o+a*a),RD[i+4>>2]=e*.0833333283662796*(n*n+a*a),RD[i+8>>2]=e*.0833333283662796*(n*n+o*o),BD=r}function xp(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0;l=BD,BD=BD+80|0,CD[t>>2]=0,CD[t+4>>2]=0,CD[t+8>>2]=0,CD[t+12>>2]=0,r=+RD[i>>2],o=+RD[i+4>>2],a=+RD[i+8>>2],r*r+o*o+a*a<9999999747378752e-20?(s=1,n=0,o=0,r=0):(c=1/+ND(+(r*r+o*o+a*a)),s=r*c,n=o*c,o=a*c,r=+RD[i+12>>2]),CD[l+32>>2]=14800,CD[l+32+4>>2]=0,CD[l+32+4+4>>2]=0,CD[l+32+4+8>>2]=0,CD[l+32+4+12>>2]=0,RD[l+32+20>>2]=-0xde0b6b000000000,RD[l+32+24>>2]=s,RD[l+32+28>>2]=n,RD[l+32+32>>2]=o,RD[l+32+36>>2]=r,RD[l+16>>2]=0xde0b6b000000000,RD[l+16+4>>2]=0xde0b6b000000000,RD[l+16+8>>2]=0xde0b6b000000000,RD[l+16+12>>2]=0,e=CD[e+92>>2]|0,i=CD[(CD[e>>2]|0)+8>>2]|0,RD[l>>2]=-0xde0b6b000000000,RD[l+4>>2]=-0xde0b6b000000000,RD[l+8>>2]=-0xde0b6b000000000,RD[l+12>>2]=0,eB[i&127](e,l+32|0,l,l+16|0),CD[t>>2]=CD[l+32+4>>2],CD[t+4>>2]=CD[l+32+4+4>>2],CD[t+8>>2]=CD[l+32+4+8>>2],CD[t+12>>2]=CD[l+32+4+12>>2],BD=l}function Cp(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0;if(n=BD,BD=BD+80|0,(r|0)<=0)return void(BD=n);for(o=0;;){if(RD[i+(o<<4)+12>>2]=-0xde0b6b000000000,(o|0)==(r+-1|0))break;o=o+1|0}o=0;do a=e+(o<<4)|0,CD[n+32>>2]=14800,CD[n+32+4>>2]=0,CD[n+32+4+4>>2]=0,CD[n+32+4+8>>2]=0,CD[n+32+4+12>>2]=0,RD[n+32+20>>2]=-0xde0b6b000000000,CD[n+32+24>>2]=CD[a>>2],CD[n+32+24+4>>2]=CD[a+4>>2],CD[n+32+24+8>>2]=CD[a+8>>2],CD[n+32+24+12>>2]=CD[a+12>>2],RD[n+16>>2]=0xde0b6b000000000,RD[n+16+4>>2]=0xde0b6b000000000,RD[n+16+8>>2]=0xde0b6b000000000,RD[n+16+12>>2]=0,a=CD[t+92>>2]|0,s=CD[(CD[a>>2]|0)+8>>2]|0,RD[n>>2]=-0xde0b6b000000000,RD[n+4>>2]=-0xde0b6b000000000,RD[n+8>>2]=-0xde0b6b000000000,RD[n+12>>2]=0,eB[s&127](a,n+32|0,n,n+16|0),a=i+(o<<4)|0,CD[a>>2]=CD[n+32+4>>2],CD[a+4>>2]=CD[n+32+4+4>>2],CD[a+8>>2]=CD[n+32+4+8>>2],CD[a+12>>2]=CD[n+32+4+12>>2],o=o+1|0;while((o|0)<(r|0));BD=n}function Ep(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0;QP[CD[(CD[e>>2]|0)+68>>2]&127](t,e,i),+VP[CD[(CD[e>>2]|0)+48>>2]&15](e)!=0&&(s=+RD[i>>2],n=+RD[i+4>>2],o=+RD[i+8>>2],r=s*s+n*n+o*o<1.4210854715202004e-14?-1:o,a=s*s+n*n+o*o<1.4210854715202004e-14?-1:n,s=s*s+n*n+o*o<1.4210854715202004e-14?-1:s,o=1/+ND(+(r*r+(s*s+a*a))),n=+VP[CD[(CD[e>>2]|0)+48>>2]&15](e),RD[t>>2]=o*s*n+ +RD[t>>2],RD[t+4>>2]=n*o*a+ +RD[t+4>>2],RD[t+8>>2]=n*o*r+ +RD[t+8>>2])}function Ap(t){return t|=0,0}function wp(t){return t|=0,0}function Rp(t,e,i,r){t|=0,e|=0,i|=0,r|=0}function Dp(t,e,i){t|=0,e|=0,i|=0}function Pp(t){return t|=0,0}function Bp(t,e,i,r){t|=0,e|=0,i|=0,r|=0}function Vp(t,e,i){return t|=0,e|=0,i=+i,0}function Lp(t,e){t|=0,e|=0;var i=0;i=(CD[t+92>>2]|0)+4|0,CD[i>>2]=CD[e>>2],CD[i+4>>2]=CD[e+4>>2],CD[i+8>>2]=CD[e+8>>2],CD[i+12>>2]=CD[e+12>>2],zd(t)}function kp(t){return t|=0,(CD[t+92>>2]|0)+4|0}function Hp(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0;a=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),h=a+ +RD[t+28>>2],l=a+ +RD[t+32>>2],a+=+RD[t+36>>2],y=+JD(+ +RD[e>>2]),g=+JD(+ +RD[e+4>>2]),m=+JD(+ +RD[e+8>>2]),f=+JD(+ +RD[e+16>>2]),p=+JD(+ +RD[e+20>>2]),d=+JD(+ +RD[e+24>>2]),c=+JD(+ +RD[e+32>>2]),s=+JD(+ +RD[e+36>>2]),n=+JD(+ +RD[e+40>>2]),_=+RD[e+48>>2],u=+RD[e+52>>2],o=+RD[e+56>>2],RD[i>>2]=_-(h*y+l*g+a*m),RD[i+4>>2]=u-(h*f+l*p+a*d),RD[i+8>>2]=o-(h*c+l*s+a*n),RD[i+12>>2]=0,RD[r>>2]=h*y+l*g+a*m+_,RD[r+4>>2]=h*f+l*p+a*d+u,RD[r+8>>2]=h*c+l*s+a*n+o,RD[r+12>>2]=0}function Ip(t,e,i){t|=0,e=+e,i|=0;var r=0,o=0,n=0,a=0,s=0;a=+RD[t+28>>2],o=+RD[t+32>>2],s=+RD[t+36>>2],n=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),r=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),s=(s+ +VP[CD[(CD[t>>2]|0)+48>>2]&15](t))*2,RD[i>>2]=e/12*((o+r)*2*(o+r)*2+s*s),RD[i+4>>2]=e/12*((a+n)*2*(a+n)*2+s*s),RD[i+8>>2]=e/12*((a+n)*2*(a+n)*2+(o+r)*2*(o+r)*2),RD[i+12>>2]=0}function Op(t){t|=0,Df(t)}function Jp(t){t|=0,Df(t),t&&(CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0))}function Np(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0;if(M=BD,BD=BD+176|0,TD[t+60>>0]=i&1,i){if(p=+RD[r>>2]+-1,m=+RD[r+4>>2]+-1,f=+RD[r+8>>2]+-1,RD[t+4>>2]=p,RD[t+8>>2]=m,RD[t+12>>2]=f,RD[t+16>>2]=0,g=+RD[o>>2]+1,b=+RD[o+4>>2]+1,a=+RD[o+8>>2]+1,RD[t+20>>2]=g,RD[t+24>>2]=b,RD[t+28>>2]=a,RD[t+32>>2]=0,RD[t+36>>2]=65533/(g-p),RD[t+40>>2]=65533/(b-m),RD[t+44>>2]=65533/(a-f),RD[t+48>>2]=0,TD[t+60>>0]=1,l=p+ +(~~((p-p)*(65533/(g-p)))&65534)/(65533/(g-p))+-1,u=m+ +(~~((m-m)*(65533/(b-m)))&65534)/(65533/(b-m))+-1,d=f+ +(~~((f-f)*(65533/(a-f)))&65534)/(65533/(a-f))+-1,l<p?(RD[t+4>>2]=l,v=l):v=p,u<m?(RD[t+8>>2]=u,y=u):y=m,d<f?(RD[t+12>>2]=d,_=d):_=f,u=v+ +((~~((g-v)*(65533/(g-p))+1)&65535|1)&65535)/(65533/(g-p))+1,l=y+ +((~~((b-y)*(65533/(b-m))+1)&65535|1)&65535)/(65533/(b-m))+1,d=_+ +((~~((a-_)*(65533/(a-f))+1)&65535|1)&65535)/(65533/(a-f))+1,g<u?RD[t+20>>2]=u:u=g,b<l?RD[t+24>>2]=l:l=b,a<d&&(RD[t+28>>2]=d,a=d),RD[t+36>>2]=65533/(u-v),RD[t+40>>2]=65533/(l-y),RD[t+44>>2]=65533/(a-_),RD[t+48>>2]=0,CD[M+80>>2]=15168,CD[M+80+4>>2]=t+104,CD[M+80+8>>2]=t,eB[CD[(CD[e>>2]|0)+8>>2]&127](e,M+80|0,t+4|0,t+20|0),n=CD[t+108>>2]|0,CD[M+128>>2]=0,CD[M+128+4>>2]=0,CD[M+128+8>>2]=0,CD[M+128+12>>2]=0,s=CD[t+128>>2]|0,(s|0)<(n<<1|0)){if((CD[t+132>>2]|0)<(n<<1|0)){if(n?(CD[5108]=(CD[5108]|0)+1,o=Aw(n<<5|19)|0,o?(CD[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,i=CD[t+128>>2]|0):(o=0,i=s),(i|0)>0)for(i=i+-1|0,r=0;;){if(e=o+(r<<4)|0,h=(CD[t+136>>2]|0)+(r<<4)|0,CD[e>>2]=CD[h>>2],CD[e+4>>2]=CD[h+4>>2],CD[e+8>>2]=CD[h+8>>2],CD[e+12>>2]=CD[h+12>>2],(r|0)==(i|0))break;r=r+1|0}i=CD[t+136>>2]|0,i&&(TD[t+140>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0)),CD[t+136>>2]=0),TD[t+140>>0]=1,CD[t+136>>2]=o,CD[t+132>>2]=n<<1,i=t+136|0}else i=t+136|0;for(o=s;;){if(e=(CD[i>>2]|0)+(o<<4)|0,CD[e>>2]=CD[M+128>>2],CD[e+4>>2]=CD[M+128+4>>2],CD[e+8>>2]=CD[M+128+8>>2],CD[e+12>>2]=CD[M+128+12>>2],(o|0)==((n<<1)+-1|0))break;o=o+1|0}}CD[t+128>>2]=n<<1}else{CD[M+144>>2]=15312,CD[M+144+4>>2]=t+64,RD[M+152>>2]=-0xde0b6b000000000,RD[M+152+4>>2]=-0xde0b6b000000000,RD[M+152+8>>2]=-0xde0b6b000000000,RD[M+152+12>>2]=0,RD[M+64>>2]=0xde0b6b000000000,RD[M+64+4>>2]=0xde0b6b000000000,RD[M+64+8>>2]=0xde0b6b000000000,RD[M+64+12>>2]=0,eB[CD[(CD[e>>2]|0)+8>>2]&127](e,M+144|0,M+152|0,M+64|0),n=CD[t+68>>2]|0,c=M,e=c+64|0;do CD[c>>2]=0,c=c+4|0;while((c|0)<(e|0));if(r=CD[t+88>>2]|0,(r|0)<(n<<1|0)){if((CD[t+92>>2]|0)<(n<<1|0)){if(n?(CD[5108]=(CD[5108]|0)+1,o=Aw(n<<7|19)|0,o?(CD[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,i=CD[t+88>>2]|0):(o=0,i=r),(i|0)>0)for(i=i+-1|0,s=0;;){c=o+(s<<6)|0,h=(CD[t+96>>2]|0)+(s<<6)|0,e=c+64|0;do CD[c>>2]=CD[h>>2],c=c+4|0,h=h+4|0;while((c|0)<(e|0));if((s|0)==(i|0))break;s=s+1|0}i=CD[t+96>>2]|0,i&&(TD[t+100>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0)),CD[t+96>>2]=0),TD[t+100>>0]=1,CD[t+96>>2]=o,CD[t+92>>2]=n<<1,i=t+96|0}else i=t+96|0;for(;;){c=(CD[i>>2]|0)+(r<<6)|0,h=M,e=c+64|0;do CD[c>>2]=CD[h>>2],c=c+4|0,h=h+4|0;while((c|0)<(e|0));if((r|0)==((n<<1)+-1|0))break;r=r+1|0}}CD[t+88>>2]=n<<1}if(CD[t+56>>2]=0,Rf(t,0,n),(TD[t+60>>0]|0)!=0?(CD[t+152>>2]|0)==0:0){if(CD[t+156>>2]|0)o=1,n=CD[t+160>>2]|0;else{if(CD[5108]=(CD[5108]|0)+1,n=Aw(51)|0,n?(CD[(n+4+15&-16)+-4>>2]=n,r=n+4+15&-16):r=0,n=CD[t+152>>2]|0,(n|0)>0)for(o=0;;){if(e=r+(o<<5)|0,h=(CD[t+160>>2]|0)+(o<<5)|0,CD[e>>2]=CD[h>>2],CD[e+4>>2]=CD[h+4>>2],CD[e+8>>2]=CD[h+8>>2],CD[e+12>>2]=CD[h+12>>2],CD[e+16>>2]=CD[h+16>>2],CD[e+20>>2]=CD[h+20>>2],CD[e+24>>2]=CD[h+24>>2],CD[e+28>>2]=CD[h+28>>2],(o|0)==(n+-1|0))break;o=o+1|0}n=CD[t+160>>2]|0,n&&(TD[t+164>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[n+-4>>2]|0)),CD[t+160>>2]=0),TD[t+164>>0]=1,CD[t+160>>2]=r,CD[t+156>>2]=1,o=(CD[t+152>>2]|0)+1|0,n=r}CD[t+152>>2]=o,CD[n>>2]=CD[M+96>>2],CD[n+4>>2]=CD[M+96+4>>2],CD[n+8>>2]=CD[M+96+8>>2],CD[n+12>>2]=CD[M+96+12>>2],CD[n+16>>2]=CD[M+96+16>>2],CD[n+20>>2]=CD[M+96+20>>2],CD[n+24>>2]=CD[M+96+24>>2],CD[n+28>>2]=CD[M+96+28>>2],e=CD[t+160>>2]|0,h=CD[t+136>>2]|0,xD[e>>1]=xD[h>>1]|0,xD[e+2>>1]=xD[h+2>>1]|0,xD[e+4>>1]=xD[h+4>>1]|0,xD[e+6>>1]=xD[h+6>>1]|0,xD[e+8>>1]=xD[h+8>>1]|0,xD[e+10>>1]=xD[h+10>>1]|0,CD[e+12>>2]=0,h=CD[h+12>>2]|0,CD[e+16>>2]=(h|0)>-1?1:0-h|0}return CD[t+168>>2]=CD[t+152>>2],n=CD[t+116>>2]|0,n&&(TD[t+120>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[n+-4>>2]|0)),CD[t+116>>2]=0),TD[t+120>>0]=1,CD[t+116>>2]=0,CD[t+108>>2]=0,CD[t+112>>2]=0,(n=CD[t+76>>2]|0)?(TD[t+80>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[n+-4>>2]|0)),CD[t+76>>2]=0,TD[t+80>>0]=1,CD[t+76>>2]=0,CD[t+68>>2]=0,t=t+72|0,CD[t>>2]=0,void(BD=M)):(TD[t+80>>0]=1,CD[t+76>>2]=0,CD[t+68>>2]=0,t=t+72|0,CD[t>>2]=0,void(BD=M))
}function Fp(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0;CD[t+4>>2]=35,CD[t+8>>2]=0,RD[t+12>>2]=1,RD[t+16>>2]=1,RD[t+20>>2]=1,RD[t+24>>2]=0,RD[t+44>>2]=.03999999910593033,CD[t>>2]=15448,CD[t+52>>2]=1,n=+RD[e>>2],r=+RD[e+4>>2],o=+RD[e+8>>2],i=n<r?n<o?0:2:r<o?1:2,r=+RD[e+(i<<2)>>2]*.10000000149011612,r<.03999999910593033?(s=+b_(t),a=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),n=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),s+=+RD[t+28>>2],a+=+RD[t+32>>2],n+=+RD[t+36>>2],RD[t+44>>2]=r,r=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),o=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),n-=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),RD[t+28>>2]=s-r,RD[t+32>>2]=a-o,RD[t+36>>2]=n,RD[t+40>>2]=0,i=CD[t>>2]|0):i=15448,o=+VP[CD[i+48>>2]&15](t),s=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),n=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),s=+RD[e+4>>2]*+RD[t+16>>2]-s,n=+RD[e+8>>2]*+RD[t+20>>2]-n,RD[t+28>>2]=+RD[e>>2]*+RD[t+12>>2]-o,RD[t+32>>2]=s,RD[t+36>>2]=n,RD[t+40>>2]=0,CD[t+4>>2]=13}function Gp(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0;a=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),h=a+ +RD[t+28>>2],l=a+ +RD[t+32>>2],a+=+RD[t+36>>2],y=+JD(+ +RD[e>>2]),g=+JD(+ +RD[e+4>>2]),m=+JD(+ +RD[e+8>>2]),f=+JD(+ +RD[e+16>>2]),p=+JD(+ +RD[e+20>>2]),d=+JD(+ +RD[e+24>>2]),c=+JD(+ +RD[e+32>>2]),s=+JD(+ +RD[e+36>>2]),n=+JD(+ +RD[e+40>>2]),_=+RD[e+48>>2],u=+RD[e+52>>2],o=+RD[e+56>>2],RD[i>>2]=_-(h*y+l*g+a*m),RD[i+4>>2]=u-(h*f+l*p+a*d),RD[i+8>>2]=o-(h*c+l*s+a*n),RD[i+12>>2]=0,RD[r>>2]=h*y+l*g+a*m+_,RD[r+4>>2]=h*f+l*p+a*d+u,RD[r+8>>2]=h*c+l*s+a*n+o,RD[r+12>>2]=0}function zp(t,e,i){t|=0,e=+e,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0;return s=BD,BD=BD+16|0,CD[s>>2]=CD[t+28>>2],CD[s+4>>2]=CD[t+28+4>>2],CD[s+8>>2]=CD[t+28+8>>2],CD[s+12>>2]=CD[t+28+12>>2],l=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),r=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),o=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),RD[s>>2]=l+ +RD[s>>2],RD[s+4>>2]=r+ +RD[s+4>>2],RD[s+8>>2]=o+ +RD[s+8>>2],a=CD[t+52>>2]|0,a?(a|0)==2?(n=2,t=0):(n=1,t=0):(n=0,t=1),o=+RD[s+(t<<2)>>2],r=+RD[s+(n<<2)>>2],r=e*.25*o*o+e/12*r*r*4,(a|0)==2?(RD[i>>2]=r,RD[i+4>>2]=r,RD[i+8>>2]=e*.5*o*o,RD[i+12>>2]=0,void(BD=s)):a?(RD[i>>2]=r,RD[i+4>>2]=e*.5*o*o,RD[i+8>>2]=r,RD[i+12>>2]=0,void(BD=s)):(RD[i>>2]=e*.5*o*o,RD[i+4>>2]=r,RD[i+8>>2]=r,RD[i+12>>2]=0,void(BD=s))}function jp(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0;return s=+RD[e+32>>2],r=+RD[e+28>>2],o=+RD[i+4>>2],a=+RD[i+8>>2],n=+ND(+(o*o+a*a)),n!=0?(RD[t+4>>2]=o*(s/n),+RD[i>>2]<0&&(r=-r),RD[t>>2]=r,void(RD[t+8>>2]=a*(s/n))):(RD[t+4>>2]=s,+RD[i>>2]<0&&(r=-r),RD[t>>2]=r,void(RD[t+8>>2]=0))}function Up(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0;return s=+RD[e+28>>2],r=+RD[e+36>>2],o=+RD[i>>2],a=+RD[i+4>>2],n=+ND(+(o*o+a*a)),n!=0?(RD[t>>2]=o*(s/n),+RD[i+8>>2]<0&&(r=-r),RD[t+8>>2]=r,void(RD[t+4>>2]=a*(s/n))):(RD[t>>2]=s,+RD[i+8>>2]<0&&(r=-r),RD[t+8>>2]=r,void(RD[t+4>>2]=0))}function Wp(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0;return s=+RD[e+28>>2],r=+RD[e+32>>2],o=+RD[i>>2],a=+RD[i+8>>2],n=+ND(+(o*o+a*a)),n!=0?(RD[t>>2]=o*(s/n),+RD[i+4>>2]<0&&(r=-r),RD[t+4>>2]=r,void(RD[t+8>>2]=a*(s/n))):(RD[t>>2]=s,+RD[i+4>>2]<0&&(r=-r),RD[t+4>>2]=r,void(RD[t+8>>2]=0))}function Xp(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0;if(!((r|0)<=0))for(h=0;;){if(c=+RD[t+28>>2],n=+RD[t+32>>2],o=+RD[e+(h<<4)>>2],a=+RD[e+(h<<4)+8>>2],s=+ND(+(o*o+a*a)),s==0?+RD[e+(h<<4)+4>>2]<0?(l=c,n=-n,o=0):(l=c,o=0):(+RD[e+(h<<4)+4>>2]<0&&(n=-n),l=o*(c/s),o=a*(c/s)),RD[i+(h<<4)>>2]=l,RD[i+(h<<4)+4>>2]=n,RD[i+(h<<4)+8>>2]=o,(h|0)==(r+-1|0))break;h=h+1|0}}function qp(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0;if(!((r|0)<=0))for(h=0;;){if(l=+RD[t+28>>2],o=+RD[t+36>>2],n=+RD[e+(h<<4)>>2],a=+RD[e+(h<<4)+4>>2],s=+ND(+(n*n+a*a)),s==0?+RD[e+(h<<4)+8>>2]<0?(c=l,n=0,o=-o):(c=l,n=0):(+RD[e+(h<<4)+8>>2]<0&&(o=-o),c=n*(l/s),n=a*(l/s)),RD[i+(h<<4)>>2]=c,RD[i+(h<<4)+4>>2]=n,RD[i+(h<<4)+8>>2]=o,(h|0)==(r+-1|0))break;h=h+1|0}}function Kp(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0;if(!((r|0)<=0))for(u=0;;){if(h=+RD[t+32>>2],o=+RD[t+28>>2],a=e+(u<<4)|0,n=+RD[e+(u<<4)+4>>2],l=+RD[e+(u<<4)+8>>2],c=+ND(+(n*n+l*l)),c==0?+RD[a>>2]<0?(s=-o,n=h,o=0):(s=o,n=h,o=0):(+RD[a>>2]<0&&(o=-o),s=o,n*=h/c,o=l*(h/c)),RD[i+(u<<4)>>2]=s,RD[i+(u<<4)+4>>2]=n,RD[i+(u<<4)+8>>2]=o,(u|0)==(r+-1|0))break;u=u+1|0}}function Yp(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0;if(RD[t+4>>2]=1,RD[t+8>>2]=1,RD[t+12>>2]=1,RD[t+16>>2]=0,TD[t+36>>0]=1,CD[t+32>>2]=0,CD[t+24>>2]=0,CD[t+28>>2]=0,CD[t+48>>2]=0,CD[t>>2]=15952,TD[t+100>>0]=1,CD[t+96>>2]=0,CD[t+88>>2]=0,CD[t+92>>2]=0,TD[t+120>>0]=1,CD[t+116>>2]=0,CD[t+108>>2]=0,CD[t+112>>2]=0,TD[t+140>>0]=1,CD[t+136>>2]=0,CD[t+128>>2]=0,CD[t+132>>2]=0,TD[t+160>>0]=1,CD[t+156>>2]=0,CD[t+148>>2]=0,CD[t+152>>2]=0,TD[t+164>>0]=e&1,TD[t+165>>0]=i&1,RD[t+168>>2]=0,CD[5108]=(CD[5108]|0)+1,e=Aw(51)|0,e?(CD[(e+4+15&-16)+-4>>2]=e,r=e+4+15&-16):r=0,i=CD[t+24>>2]|0,(i|0)>0)for(e=0;;){if(o=r+(e<<5)|0,n=(CD[t+32>>2]|0)+(e<<5)|0,CD[o>>2]=CD[n>>2],CD[o+4>>2]=CD[n+4>>2],CD[o+8>>2]=CD[n+8>>2],CD[o+12>>2]=CD[n+12>>2],CD[o+16>>2]=CD[n+16>>2],CD[o+20>>2]=CD[n+20>>2],CD[o+24>>2]=CD[n+24>>2],CD[o+28>>2]=CD[n+28>>2],(e|0)==(i+-1|0))break;e=e+1|0}return e=CD[t+32>>2]|0,e&&(TD[t+36>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+32>>2]=0),TD[t+36>>0]=1,CD[t+32>>2]=r,CD[t+28>>2]=1,n=CD[t+24>>2]|0,CD[r+(n<<5)>>2]=0,CD[r+(n<<5)+4>>2]=0,CD[r+(n<<5)+8>>2]=12,CD[r+(n<<5)+12>>2]=0,CD[r+(n<<5)+16>>2]=0,CD[r+(n<<5)+20>>2]=16,CD[r+(n<<5)+24>>2]=2,CD[r+(n<<5)+28>>2]=0,CD[t+24>>2]=(CD[t+24>>2]|0)+1,TD[t+164>>0]|0?(e=CD[t+32>>2]|0,CD[e>>2]=(CD[t+128>>2]|0)/3|0,CD[e+4>>2]=0,CD[e+24>>2]=2,CD[e+8>>2]=12):(e=CD[t+32>>2]|0,CD[e>>2]=(CD[t+148>>2]|0)/3|0,CD[e+4>>2]=0,CD[e+24>>2]=3,CD[e+8>>2]=6),TD[t+165>>0]|0?(o=16,t=CD[t+88>>2]|0,n=e+12|0,CD[n>>2]=t,n=e+16|0,CD[n>>2]=0,n=e+20|0,void(CD[n>>2]=o)):(o=12,t=(CD[t+108>>2]|0)/3|0,n=e+12|0,CD[n>>2]=t,n=e+16|0,CD[n>>2]=0,n=e+20|0,void(CD[n>>2]=o))}function Qp(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0;if(TD[t+164>>0]|0){if(i=CD[t+128>>2]|0,(i|0)==(CD[t+132>>2]|0)?(n=(i|0)==0?1:i<<1,(i|0)<(n|0)):0){if(n?(CD[5108]=(CD[5108]|0)+1,i=Aw((n<<2|3)+16|0)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,i=i+4+15&-16):i=0,a=i,i=CD[t+128>>2]|0):a=0,(i|0)>0)for(o=i+-1|0,i=0;;){if(r=a+(i<<2)|0,r&&(CD[r>>2]=CD[(CD[t+136>>2]|0)+(i<<2)>>2]),(i|0)==(o|0))break;i=i+1|0}r=CD[t+136>>2]|0,r&&(TD[t+140>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[r+-4>>2]|0)),CD[t+136>>2]=0),TD[t+140>>0]=1,CD[t+136>>2]=a,CD[t+132>>2]=n,i=CD[t+128>>2]|0}return o=CD[t+136>>2]|0,r=o+(i<<2)|0,r&&(CD[r>>2]=e,i=CD[t+128>>2]|0),CD[t+128>>2]=i+1,void(CD[(CD[t+32>>2]|0)+4>>2]=o)}if(r=CD[t+148>>2]|0,(r|0)==(CD[t+152>>2]|0)?(s=(r|0)==0?1:r<<1,(r|0)<(s|0)):0){if(s?(CD[5108]=(CD[5108]|0)+1,i=Aw((s<<1)+19|0)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,i=i+4+15&-16):i=0,r=CD[t+148>>2]|0):i=0,(r|0)>0)for(o=r+-1|0,a=0;;){if(n=i+(a<<1)|0,n&&(xD[n>>1]=xD[(CD[t+156>>2]|0)+(a<<1)>>1]|0),(a|0)==(o|0))break;a=a+1|0}o=CD[t+156>>2]|0,o&&(TD[t+160>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[o+-4>>2]|0),r=CD[t+148>>2]|0),CD[t+156>>2]=0),TD[t+160>>0]=1,CD[t+156>>2]=i,CD[t+152>>2]=s}return i=CD[t+156>>2]|0,o=i+(r<<1)|0,o&&(xD[o>>1]=e),CD[t+148>>2]=r+1,void(CD[(CD[t+32>>2]|0)+4>>2]=i)}function Zp(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0;if(TD[t+165>>0]|0){n=CD[t+88>>2]|0;t:do if((n|0)>0&i){for(s=CD[t+96>>2]|0,u=+RD[e>>2],l=+RD[e+4>>2],c=+RD[e+8>>2],h=+RD[t+168>>2],r=0;;){if(_=+RD[s+(r<<4)>>2]-u,f=+RD[s+(r<<4)+4>>2]-l,p=+RD[s+(r<<4)+8>>2]-c,_*_+f*f+p*p<=h)break;if(r=r+1|0,(r|0)>=(n|0))break t}return r|0}while(0);if(d=(CD[t+32>>2]|0)+12|0,CD[d>>2]=(CD[d>>2]|0)+1,(n|0)==(CD[t+92>>2]|0)?(a=(n|0)==0?1:n<<1,(n|0)<(a|0)):0){if(a?(CD[5108]=(CD[5108]|0)+1,r=Aw((a<<4|3)+16|0)|0,r?(CD[(r+4+15&-16)+-4>>2]=r,r=r+4+15&-16):r=0,n=CD[t+88>>2]|0):r=0,(n|0)>0)for(i=n+-1|0,n=0;;){if(d=r+(n<<4)|0,s=(CD[t+96>>2]|0)+(n<<4)|0,CD[d>>2]=CD[s>>2],CD[d+4>>2]=CD[s+4>>2],CD[d+8>>2]=CD[s+8>>2],CD[d+12>>2]=CD[s+12>>2],(n|0)==(i|0))break;n=n+1|0}n=CD[t+96>>2]|0,n&&(TD[t+100>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[n+-4>>2]|0)),CD[t+96>>2]=0),TD[t+100>>0]=1,CD[t+96>>2]=r,CD[t+92>>2]=a,r=CD[t+88>>2]|0}else r=n;return d=(CD[t+96>>2]|0)+(r<<4)|0,CD[d>>2]=CD[e>>2],CD[d+4>>2]=CD[e+4>>2],CD[d+8>>2]=CD[e+8>>2],CD[d+12>>2]=CD[e+12>>2],d=CD[t+88>>2]|0,CD[t+88>>2]=d+1,CD[(CD[t+32>>2]|0)+16>>2]=CD[t+96>>2],d|0}o=CD[t+108>>2]|0;t:do{if((o|0)>0&i){for(a=CD[t+116>>2]|0,u=+RD[e>>2],h=+RD[e+4>>2],c=+RD[e+8>>2],l=+RD[t+168>>2],s=0;;){if(p=+RD[a+(s<<2)>>2]-u,f=+RD[a+(s+1<<2)>>2]-h,_=+RD[a+(s+2<<2)>>2]-c,p*p+f*f+_*_<=l)break;if(s=s+3|0,(s|0)>=(o|0)){d=e;break t}}return d=(s|0)/3|0,d|0}d=e}while(0);if(n=CD[t+112>>2]|0,(o|0)==(n|0))if(r=(o|0)==0?1:o<<1,(o|0)<(r|0)){if(r?(CD[5108]=(CD[5108]|0)+1,n=Aw((r<<2|3)+16|0)|0,n?(CD[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,o=CD[t+108>>2]|0):n=0,(o|0)>0)for(s=o+-1|0,i=0;;){if(a=n+(i<<2)|0,a&&(RD[a>>2]=+RD[(CD[t+116>>2]|0)+(i<<2)>>2]),(i|0)==(s|0))break;i=i+1|0}i=CD[t+116>>2]|0,i&&(TD[t+120>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0),o=CD[t+108>>2]|0),CD[t+116>>2]=0),TD[t+120>>0]=1,CD[t+116>>2]=n,CD[t+112>>2]=r,s=o,a=r}else s=o,a=o;else s=o,a=n;if(r=CD[t+116>>2]|0,i=r+(s<<2)|0,i&&(RD[i>>2]=+RD[d>>2]),n=s+1|0,CD[t+108>>2]=n,(n|0)==(a|0))if(o=(a|0)==0?1:a<<1,(a|0)<(o|0)){if(o?(CD[5108]=(CD[5108]|0)+1,r=Aw((o<<2|3)+16|0)|0,r?(CD[(r+4+15&-16)+-4>>2]=r,r=r+4+15&-16):r=0,n=CD[t+108>>2]|0):(r=0,n=a),(n|0)>0)for(i=n+-1|0,s=0;;){if(a=r+(s<<2)|0,a&&(RD[a>>2]=+RD[(CD[t+116>>2]|0)+(s<<2)>>2]),(s|0)==(i|0))break;s=s+1|0}i=CD[t+116>>2]|0,i&&(TD[t+120>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0),n=CD[t+108>>2]|0),CD[t+116>>2]=0),TD[t+120>>0]=1,CD[t+116>>2]=r,CD[t+112>>2]=o}else n=a,o=a;else o=a;if(i=r+(n<<2)|0,i&&(RD[i>>2]=+RD[e+4>>2]),i=n+1|0,CD[t+108>>2]=i,(i|0)==(o|0)){if(s=(o|0)==0?1:o<<1,(o|0)<(s|0)){if(s?(CD[5108]=(CD[5108]|0)+1,r=Aw((s<<2|3)+16|0)|0,r?(CD[(r+4+15&-16)+-4>>2]=r,r=r+4+15&-16):r=0,o=CD[t+108>>2]|0):r=0,(o|0)>0)for(a=o+-1|0,n=0;;){if(i=r+(n<<2)|0,i&&(RD[i>>2]=+RD[(CD[t+116>>2]|0)+(n<<2)>>2]),(n|0)==(a|0))break;n=n+1|0}i=CD[t+116>>2]|0,i&&(TD[t+120>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0),o=CD[t+108>>2]|0),CD[t+116>>2]=0),TD[t+120>>0]=1,CD[t+116>>2]=r,CD[t+112>>2]=s}}else o=i;return n=r+(o<<2)|0,n&&(RD[n>>2]=+RD[e+8>>2]),d=o+1|0,CD[t+108>>2]=d,s=CD[t+32>>2]|0,CD[s+12>>2]=(CD[s+12>>2]|0)+1,CD[s+16>>2]=r,d=((d|0)/3|0)+-1|0,d|0}function $p(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0;if(TD[t+165>>0]|0){if((CD[t+92>>2]|0)>=(e|0))return;if(((e|0)!=0?(CD[5108]=(CD[5108]|0)+1,i=Aw((e<<4|3)+16|0)|0,(i|0)!=0):0)?(CD[(i+4+15&-16)+-4>>2]=i,o=i+4+15&-16):o=0,r=CD[t+88>>2]|0,(r|0)>0)for(i=0;;){if(n=o+(i<<4)|0,a=(CD[t+96>>2]|0)+(i<<4)|0,CD[n>>2]=CD[a>>2],CD[n+4>>2]=CD[a+4>>2],CD[n+8>>2]=CD[a+8>>2],CD[n+12>>2]=CD[a+12>>2],(i|0)==(r+-1|0))break;i=i+1|0}return i=CD[t+96>>2]|0,i&&(TD[t+100>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0)),CD[t+96>>2]=0),TD[t+100>>0]=1,CD[t+96>>2]=o,void(CD[t+92>>2]=e)}if(!((CD[t+112>>2]|0)>=(e|0))){if(((e|0)!=0?(CD[5108]=(CD[5108]|0)+1,r=Aw((e<<2|3)+16|0)|0,(r|0)!=0):0)?(CD[(r+4+15&-16)+-4>>2]=r,n=r+4+15&-16):n=0,o=CD[t+108>>2]|0,(o|0)>0)for(i=0;;){if(r=n+(i<<2)|0,r&&(RD[r>>2]=+RD[(CD[t+116>>2]|0)+(i<<2)>>2]),(i|0)==(o+-1|0))break;i=i+1|0}r=CD[t+116>>2]|0,r&&(TD[t+120>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[r+-4>>2]|0)),CD[t+116>>2]=0),TD[t+120>>0]=1,CD[t+116>>2]=n,CD[t+112>>2]=e}}function tf(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0;if(TD[t+164>>0]|0){if((CD[t+132>>2]|0)>=(e|0))return;if(((e|0)!=0?(CD[5108]=(CD[5108]|0)+1,i=Aw((e<<2|3)+16|0)|0,(i|0)!=0):0)?(CD[(i+4+15&-16)+-4>>2]=i,n=i+4+15&-16):n=0,r=CD[t+128>>2]|0,(r|0)>0)for(o=0;;){if(i=n+(o<<2)|0,i&&(CD[i>>2]=CD[(CD[t+136>>2]|0)+(o<<2)>>2]),(o|0)==(r+-1|0))break;o=o+1|0}return i=CD[t+136>>2]|0,i&&(TD[t+140>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0)),CD[t+136>>2]=0),TD[t+140>>0]=1,CD[t+136>>2]=n,void(CD[t+132>>2]=e)}if(!((CD[t+152>>2]|0)>=(e|0))){if(((e|0)!=0?(CD[5108]=(CD[5108]|0)+1,r=Aw((e<<1)+19|0)|0,(r|0)!=0):0)?(CD[(r+4+15&-16)+-4>>2]=r,n=r+4+15&-16):n=0,r=CD[t+148>>2]|0,(r|0)>0)for(o=0;;){if(i=n+(o<<1)|0,i&&(xD[i>>1]=xD[(CD[t+156>>2]|0)+(o<<1)>>1]|0),(o|0)==(r+-1|0))break;o=o+1|0}return r=CD[t+156>>2]|0,r&&(TD[t+160>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[r+-4>>2]|0)),CD[t+156>>2]=0),TD[t+160>>0]=1,CD[t+156>>2]=n,void(CD[t+152>>2]=e)}}function ef(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0;var a=0,s=0,l=0,c=0;if(CD[t>>2]=16240,xD[t+4>>1]=-2,xD[t+6>>1]=-1,CD[t+92>>2]=o,CD[t+96>>2]=0,TD[t+100>>0]=0,CD[t+104>>2]=0,CD[t+108>>2]=0,o||(CD[5108]=(CD[5108]|0)+1,o=Aw(95)|0,((o|0)!=0?(CD[(o+4+15&-16)+-4>>2]=o,(o+4+15&-16|0)!=0):0)?(rf(o+4+15&-16),o=o+4+15&-16):o=0,CD[t+92>>2]=o,TD[t+100>>0]=1),n||(CD[5108]=(CD[5108]|0)+1,o=Aw(43)|0,((o|0)!=0?(a=o+4+15&-16,CD[a+-4>>2]=o,(o+4+15&-16|0)!=0):0)?(CD[a>>2]=0,CD[a+4>>2]=0,CD[a+8>>2]=0,CD[a+12>>2]=0,CD[a+16>>2]=0,CD[a+20>>2]=0,CD[(o+4+15&-16)>>2]=16304,TD[a+20>>0]=1,CD[a+16>>2]=0,CD[a+8>>2]=0,CD[a+12>>2]=0,a=o+4+15&-16):a=0,CD[t+112>>2]=a,CD[5108]=(CD[5108]|0)+1,a=Aw(215)|0,((a|0)!=0?(CD[(a+4+15&-16)+-4>>2]=a,(a+4+15&-16|0)!=0):0)?(ff(a+4+15&-16,CD[t+112>>2]|0),a=a+4+15&-16):a=0,CD[t+108>>2]=a,TD[a+193>>0]=1),CD[t+8>>2]=CD[e>>2],CD[t+8+4>>2]=CD[e+4>>2],CD[t+8+8>>2]=CD[e+8>>2],CD[t+8+12>>2]=CD[e+12>>2],CD[t+24>>2]=CD[i>>2],CD[t+24+4>>2]=CD[i+4>>2],CD[t+24+8>>2]=CD[i+8>>2],CD[t+24+12>>2]=CD[i+12>>2],c=+(AD[t+6>>1]|0),l=c/(+RD[t+28>>2]-+RD[t+12>>2]),s=c/(+RD[t+32>>2]-+RD[t+16>>2]),RD[t+40>>2]=c/(+RD[t+24>>2]-+RD[t+8>>2]),RD[t+44>>2]=l,RD[t+48>>2]=s,RD[t+52>>2]=0,i=(r&65535)+1&65535,CD[5108]=(CD[5108]|0)+1,a=Aw(i<<6|19)|0,a?(CD[(a+4+15&-16)+-4>>2]=a,n=a+4+15&-16):n=0,i){o=n+(i<<6)|0,a=n;do CD[a>>2]=0,CD[a+8>>2]=0,a=a+64|0;while((a|0)!=(o|0))}if(CD[t+60>>2]=n,xD[t+58>>1]=(r&65535)+1,xD[t+56>>1]=0,xD[t+64>>1]=1,i>>>0>1){a=1,o=1;do xD[n+(a<<6)+48>>1]=a+1,o=o+1<<16>>16,a=o&65535;while(a>>>0<i>>>0)}return xD[n+(i+-1<<6)+48>>1]=0,CD[5108]=(CD[5108]|0)+1,a=Aw((i<<3|3)+16|0)|0,a?(CD[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,CD[t+80>>2]=a,CD[t+68>>2]=a,CD[5108]=(CD[5108]|0)+1,a=Aw((i<<3|3)+16|0)|0,a?(CD[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,CD[t+84>>2]=a,CD[t+72>>2]=a,CD[5108]=(CD[5108]|0)+1,(a=Aw((i<<3|3)+16|0)|0)?(CD[(a+4+15&-16)+-4>>2]=a,i=a+4+15&-16,r=t+88|0,CD[r>>2]=i,r=t+76|0,CD[r>>2]=i,i=CD[t+60>>2]|0,CD[i>>2]=0,e=i+48|0,xD[e>>1]=0,e=i+54|0,xD[e>>1]=1,e=CD[t+68>>2]|0,xD[e>>1]=0,n=e+2|0,xD[n>>1]=0,n=xD[t+6>>1]|0,o=e+4|0,xD[o>>1]=n,e=e+6|0,xD[e>>1]=0,e=i+50|0,xD[e>>1]=0,e=i+56|0,xD[e>>1]=1,e=CD[t+72>>2]|0,xD[e>>1]=0,o=e+2|0,xD[o>>1]=0,o=xD[t+6>>1]|0,n=e+4|0,xD[n>>1]=o,e=e+6|0,xD[e>>1]=0,e=i+52|0,xD[e>>1]=0,i=i+58|0,xD[i>>1]=1,r=CD[r>>2]|0,xD[r>>1]=0,i=r+2|0,xD[i>>1]=0,i=xD[t+6>>1]|0,e=r+4|0,xD[e>>1]=i,r=r+6|0,xD[r>>1]=0,void(CD[t>>2]=16064)):(i=0,r=t+88|0,CD[r>>2]=i,r=t+76|0,CD[r>>2]=i,i=CD[t+60>>2]|0,CD[i>>2]=0,e=i+48|0,xD[e>>1]=0,e=i+54|0,xD[e>>1]=1,e=CD[t+68>>2]|0,xD[e>>1]=0,n=e+2|0,xD[n>>1]=0,n=xD[t+6>>1]|0,o=e+4|0,xD[o>>1]=n,e=e+6|0,xD[e>>1]=0,e=i+50|0,xD[e>>1]=0,e=i+56|0,xD[e>>1]=1,e=CD[t+72>>2]|0,xD[e>>1]=0,o=e+2|0,xD[o>>1]=0,o=xD[t+6>>1]|0,n=e+4|0,xD[n>>1]=o,e=e+6|0,xD[e>>1]=0,e=i+52|0,xD[e>>1]=0,i=i+58|0,xD[i>>1]=1,r=CD[r>>2]|0,xD[r>>1]=0,i=r+2|0,xD[i>>1]=0,i=xD[t+6>>1]|0,e=r+4|0,xD[e>>1]=i,r=r+6|0,xD[r>>1]=0,void(CD[t>>2]=16064))}function rf(t){t|=0;var e=0,i=0,r=0,o=0;if(CD[t>>2]=16504,TD[t+20>>0]=1,CD[t+16>>2]=0,CD[t+8>>2]=0,CD[t+12>>2]=0,CD[t+24>>2]=0,TD[t+28>>0]=0,TD[t+48>>0]=1,CD[t+44>>2]=0,CD[t+36>>2]=0,CD[t+40>>2]=0,TD[t+68>>0]=1,CD[t+64>>2]=0,CD[t+56>>2]=0,CD[t+60>>2]=0,CD[t+72>>2]=0,CD[5108]=(CD[5108]|0)+1,e=Aw(51)|0,e?(CD[(e+4+15&-16)+-4>>2]=e,r=e+4+15&-16):r=0,e=CD[t+8>>2]|0,(e|0)>0)for(i=0;;){if(o=CD[t+16>>2]|0,CD[r+(i<<4)>>2]=CD[o+(i<<4)>>2],CD[r+(i<<4)+4>>2]=CD[o+(i<<4)+4>>2],CD[r+(i<<4)+8>>2]=CD[o+(i<<4)+8>>2],CD[r+(i<<4)+12>>2]=CD[o+(i<<4)+12>>2],(i|0)==(e+-1|0))break;i=i+1|0}return(e=CD[t+16>>2]|0)?(TD[t+20>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+16>>2]=0,TD[t+20>>0]=1,CD[t+16>>2]=r,CD[t+12>>2]=2,void of(t)):(TD[t+20>>0]=1,CD[t+16>>2]=r,CD[t+12>>2]=2,void of(t))}function of(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0,s=0;if(a=CD[t+12>>2]|0,s=CD[t+36>>2]|0,!((s|0)>=(a|0))){if((s|0)<=(a|0)){if((CD[t+40>>2]|0)<(a|0)){if(a?(CD[5108]=(CD[5108]|0)+1,e=Aw((a<<2|3)+16|0)|0,e?(CD[(e+4+15&-16)+-4>>2]=e,e=e+4+15&-16):e=0,i=CD[t+36>>2]|0):(e=0,i=s),(i|0)>0)for(o=i+-1|0,i=0;;){if(r=e+(i<<2)|0,r&&(CD[r>>2]=CD[(CD[t+44>>2]|0)+(i<<2)>>2]),(i|0)==(o|0))break;i=i+1|0}i=CD[t+44>>2]|0,i&&(TD[t+48>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0)),CD[t+44>>2]=0),TD[t+48>>0]=1,CD[t+44>>2]=e,CD[t+40>>2]=a}else e=CD[t+44>>2]|0;for(o=s;;){if(i=e+(o<<2)|0,i&&(CD[i>>2]=0),(o|0)==(a+-1|0))break;o=o+1|0}}if(CD[t+36>>2]=a,o=CD[t+56>>2]|0,(o|0)<(a|0)){if((CD[t+60>>2]|0)<(a|0)){if(a?(CD[5108]=(CD[5108]|0)+1,i=Aw((a<<2|3)+16|0)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,i=i+4+15&-16):i=0,e=CD[t+56>>2]|0):(i=0,e=o),(e|0)>0)for(r=e+-1|0,n=0;;){if(e=i+(n<<2)|0,e&&(CD[e>>2]=CD[(CD[t+64>>2]|0)+(n<<2)>>2]),(n|0)==(r|0))break;n=n+1|0}e=CD[t+64>>2]|0,e&&(TD[t+68>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+64>>2]=0),TD[t+68>>0]=1,CD[t+64>>2]=i,CD[t+60>>2]=a}else i=CD[t+64>>2]|0;for(;;){if(e=i+(o<<2)|0,e&&(CD[e>>2]=0),(o|0)==(a+-1|0))break;o=o+1|0}}if(CD[t+56>>2]=a,(a|0)>0&&(Bw(CD[t+44>>2]|0,-1,a<<2|0)|0,Bw(CD[t+64>>2]|0,-1,a<<2|0)|0),!((s|0)<=0))for(e=CD[t+16>>2]|0,r=CD[t+44>>2]|0,i=CD[t+64>>2]|0,o=0;;){if(a=CD[(CD[e+(o<<4)+4>>2]|0)+12>>2]<<16|CD[(CD[e+(o<<4)>>2]|0)+12>>2],a=(a+~(a<<15)>>10^a+~(a<<15))*9|0,a=r+((((a>>6^a)+~((a>>6^a)<<11)>>16^(a>>6^a)+~((a>>6^a)<<11))&(CD[t+12>>2]|0)+-1)<<2)|0,CD[i+(o<<2)>>2]=CD[a>>2],CD[a>>2]=o,(o|0)==(s+-1|0))break;o=o+1|0}}}function nf(t){t|=0;var e=0;return CD[t>>2]=16504,e=CD[t+64>>2]|0,e&&(TD[t+68>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+64>>2]=0),TD[t+68>>0]=1,CD[t+64>>2]=0,CD[t+56>>2]=0,CD[t+60>>2]=0,e=CD[t+44>>2]|0,e&&(TD[t+48>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+44>>2]=0),TD[t+48>>0]=1,CD[t+44>>2]=0,CD[t+36>>2]=0,CD[t+40>>2]=0,(e=CD[t+16>>2]|0)?(TD[t+20>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+16>>2]=0,TD[t+20>>0]=1,CD[t+16>>2]=0,CD[t+8>>2]=0,t=t+12|0,void(CD[t>>2]=0)):(TD[t+20>>0]=1,CD[t+16>>2]=0,CD[t+8>>2]=0,t=t+12|0,void(CD[t>>2]=0))}function af(t){t|=0,nf(t),ww(t)}function sf(t,e,i){t|=0,e|=0,i|=0,t=CD[e+8>>2]|0,(i|0)!=0&(t|0)!=0&&(gP[CD[CD[t>>2]>>2]&255](t),bP[CD[(CD[i>>2]|0)+60>>2]&127](i,CD[e+8>>2]|0),CD[e+8>>2]=0)}function lf(t,e,i){t|=0,e|=0,i|=0;var r=0;r=BD,BD=BD+16|0,CD[r>>2]=16808,CD[r+4>>2]=e,CD[r+8>>2]=t,CD[r+12>>2]=i,QP[CD[(CD[t>>2]|0)+48>>2]&127](t,r,i),BD=r}function cf(t,e,i){t|=0,e|=0,i|=0;var r=0;r=BD,BD=BD+16|0,CD[r>>2]=16632,CD[r+4>>2]=e,QP[CD[(CD[t>>2]|0)+48>>2]&127](t,r,i),BD=r}function hf(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0;if(CD[4122]=(CD[4122]|0)+1,r=(CD[e+12>>2]|0)>(CD[i+12>>2]|0),o=CD[(r?i:e)+12>>2]|0,r=CD[(r?e:i)+12>>2]|0,e=((r<<16|o)+~((r<<16|o)<<15)>>10^(r<<16|o)+~((r<<16|o)<<15))*9|0,e=((e>>6^e)+~((e>>6^e)<<11)>>16^(e>>6^e)+~((e>>6^e)<<11))&(CD[t+12>>2]|0)+-1,(e|0)>=(CD[t+36>>2]|0))return n=0,n|0;if(i=CD[(CD[t+44>>2]|0)+(e<<2)>>2]|0,(i|0)==-1)return n=0,n|0;for(e=CD[t+16>>2]|0;;){if((CD[(CD[e+(i<<4)>>2]|0)+12>>2]|0)==(o|0)?(CD[(CD[e+(i<<4)+4>>2]|0)+12>>2]|0)==(r|0):0)break;if(i=CD[(CD[t+64>>2]|0)+(i<<2)>>2]|0,(i|0)==-1){e=0,n=8;break}}return(n|0)==8?e|0:(n=e+(i<<4)|0,n|0)}function uf(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0;if(CD[4118]=(CD[4118]|0)+1,l=(CD[e+12>>2]|0)>(CD[i+12>>2]|0),h=l?i:e,l=l?e:i,n=CD[h+12>>2]|0,o=CD[l+12>>2]|0,s=((o<<16|n)+~((o<<16|n)<<15)>>10^(o<<16|n)+~((o<<16|n)<<15))*9|0,s=((s>>6^s)+~((s>>6^s)<<11)>>16^(s>>6^s)+~((s>>6^s)<<11))&(CD[t+12>>2]|0)+-1,i=CD[(CD[t+44>>2]|0)+(s<<2)>>2]|0,(i|0)==-1)return p=0,p|0;for(a=CD[t+16>>2]|0,e=i;;){if((CD[(CD[a+(e<<4)>>2]|0)+12>>2]|0)==(n|0)?(CD[(CD[a+(e<<4)+4>>2]|0)+12>>2]|0)==(o|0):0)break;if(i=CD[(CD[t+64>>2]|0)+(e<<2)>>2]|0,(i|0)==-1){e=0,p=24;break}e=i}if((p|0)==24)return e|0;if(i=a+(e<<4)|0,!i)return p=0,p|0;if(QP[CD[(CD[t>>2]|0)+32>>2]&127](t,i,r),d=CD[a+(e<<4)+12>>2]|0,u=i-(CD[t+16>>2]|0)>>4,s=(CD[t+44>>2]|0)+(s<<2)|0,i=CD[s>>2]|0,o=CD[t+64>>2]|0,(i|0)!=(u|0)){for(e=i;;){if(a=o+(e<<2)|0,n=CD[a>>2]|0,(n|0)==(u|0))break;e=n}i=CD[o+(u<<2)>>2]|0,(e|0)==-1?p=12:CD[a>>2]=i}else i=CD[o+(u<<2)>>2]|0,p=12;if((p|0)==12&&(CD[s>>2]=i),c=(CD[t+8>>2]|0)+-1|0,i=CD[t+72>>2]|0,i&&CP[CD[(CD[i>>2]|0)+12>>2]&31](i,h,l,r)|0,(c|0)==(u|0))return CD[t+8>>2]=(CD[t+8>>2]|0)+-1,p=d,p|0;if(l=CD[t+16>>2]|0,r=CD[(CD[l+(c<<4)+4>>2]|0)+12>>2]<<16|CD[(CD[l+(c<<4)>>2]|0)+12>>2],r=(r+~(r<<15)>>10^r+~(r<<15))*9|0,r=((r>>6^r)+~((r>>6^r)<<11)>>16^(r>>6^r)+~((r>>6^r)<<11))&(CD[t+12>>2]|0)+-1,s=(CD[t+44>>2]|0)+(r<<2)|0,i=CD[s>>2]|0,o=CD[t+64>>2]|0,(i|0)!=(c|0)){for(a=i;;){if(e=o+(a<<2)|0,n=CD[e>>2]|0,(n|0)==(c|0))break;a=n}i=CD[o+(c<<2)>>2]|0,(a|0)==-1?p=22:CD[e>>2]=i}else i=CD[o+(c<<2)>>2]|0,p=22;return(p|0)==22&&(CD[s>>2]=i),CD[l+(u<<4)>>2]=CD[l+(c<<4)>>2],CD[l+(u<<4)+4>>2]=CD[l+(c<<4)+4>>2],CD[l+(u<<4)+8>>2]=CD[l+(c<<4)+8>>2],CD[l+(u<<4)+12>>2]=CD[l+(c<<4)+12>>2],p=(CD[t+44>>2]|0)+(r<<2)|0,CD[(CD[t+64>>2]|0)+(u<<2)>>2]=CD[p>>2],CD[p>>2]=u,CD[t+8>>2]=(CD[t+8>>2]|0)+-1,p=d,p|0}function df(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0;if(!((CD[t+8>>2]|0)<=0)){n=0;t:for(;;){for(;;){if(r=CD[t+16>>2]|0,o=r+(n<<4)|0,!(NP[CD[(CD[e>>2]|0)+8>>2]&31](e,o)|0))break;if(CP[CD[(CD[t>>2]|0)+12>>2]&31](t,CD[o>>2]|0,CD[r+(n<<4)+4>>2]|0,i)|0,CD[4116]=(CD[4116]|0)+-1,(n|0)>=(CD[t+8>>2]|0)){r=7;break t}}if(n=n+1|0,(n|0)>=(CD[t+8>>2]|0)){r=7;break}}}}function pf(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0;if(_=BD,BD=BD+32|0,TD[_+16>>0]=1,CD[_+12>>2]=0,CD[_+4>>2]=0,CD[_+8>>2]=0,r=CD[t+8>>2]|0,(r|0)>0){c=0,a=0,o=0,i=0,h=0,l=r,n=0,s=0,p=0;do{if(d=CD[t+16>>2]|0,(n|0)==(s|0))if(u=(s|0)==0?1:s<<1,(s|0)<(u|0)){if(u?(CD[5108]=(CD[5108]|0)+1,r=Aw((u<<4|3)+16|0)|0,r?(CD[(r+4+15&-16)+-4>>2]=r,i=r+4+15&-16,r=n):(i=0,r=n)):(i=0,r=s),(r|0)>0)for(a=r+-1|0,o=0;;){if(h=CD[_+12>>2]|0,CD[i+(o<<4)>>2]=CD[h+(o<<4)>>2],CD[i+(o<<4)+4>>2]=CD[h+(o<<4)+4>>2],CD[i+(o<<4)+8>>2]=CD[h+(o<<4)+8>>2],CD[i+(o<<4)+12>>2]=CD[h+(o<<4)+12>>2],(o|0)==(a|0))break;o=o+1|0}a=CD[_+12>>2]|0,a&&(CD[5110]=(CD[5110]|0)+1,ww(CD[a+-4>>2]|0),CD[_+12>>2]=0,r=n),TD[_+16>>0]=1,CD[_+12>>2]=i,CD[_+8>>2]=u,a=i,o=i,c=i,s=u,h=i,l=CD[t+8>>2]|0}else r=s;else r=n;CD[h+(r<<4)>>2]=CD[d+(p<<4)>>2],CD[h+(r<<4)+4>>2]=CD[d+(p<<4)+4>>2],CD[h+(r<<4)+8>>2]=CD[d+(p<<4)+8>>2],CD[h+(r<<4)+12>>2]=CD[d+(p<<4)+12>>2],n=r+1|0,p=p+1|0}while((p|0)<(l|0));if(CD[_+4>>2]=n,(r|0)>-1){r=0;do CP[CD[(CD[t>>2]|0)+12>>2]&31](t,CD[i+(r<<4)>>2]|0,CD[i+(r<<4)+4>>2]|0,e)|0,r=r+1|0;while((r|0)<(n|0))}}else a=0,n=0,o=0;if((CD[t+56>>2]|0)>0){i=CD[t+64>>2]|0,r=0;do CD[i+(r<<2)>>2]=-1,r=r+1|0;while((r|0)<(CD[t+56>>2]|0))}if((n|0)<=1?(n|0)>0&&(f=24):(S_(_,0,n+-1|0),f=24),(f|0)==24){i=0;do DP[CD[(CD[t>>2]|0)+8>>2]&63](t,CD[o+(i<<4)>>2]|0,CD[o+(i<<4)+4>>2]|0)|0,i=i+1|0;while((i|0)<(n|0))}return a?(CD[5110]=(CD[5110]|0)+1,ww(CD[a+-4>>2]|0),CD[_+12>>2]=0,void(BD=_)):void(BD=_)}function ff(t,e){t|=0,e|=0;var i=0;return CD[t>>2]=16960,TD[t+40>>0]=1,CD[t+36>>2]=0,CD[t+28>>2]=0,CD[t+32>>2]=0,TD[t+60>>0]=1,CD[t+56>>2]=0,CD[t+48>>2]=0,CD[t+52>>2]=0,CD[t+4>>2]=0,CD[t+8>>2]=0,CD[t+12>>2]=-1,CD[t+16>>2]=0,CD[t+20>>2]=0,TD[t+100>>0]=1,CD[t+96>>2]=0,CD[t+88>>2]=0,CD[t+92>>2]=0,TD[t+120>>0]=1,CD[t+116>>2]=0,CD[t+108>>2]=0,CD[t+112>>2]=0,CD[t+64>>2]=0,CD[t+68>>2]=0,CD[t+72>>2]=-1,CD[t+76>>2]=0,CD[t+80>>2]=0,TD[t+193>>0]=0,TD[t+194>>0]=1,TD[t+192>>0]=(e|0)!=0^1,RD[t+140>>2]=0,CD[t+144>>2]=0,CD[t+164>>2]=0,CD[t+148>>2]=1,CD[t+152>>2]=0,CD[t+156>>2]=10,CD[t+160>>2]=1,CD[t+168>>2]=0,CD[t+172>>2]=0,RD[t+176>>2]=0,e?(i=e,e=t+136|0,CD[e>>2]=i,e=t+188|0,CD[e>>2]=0,e=t+180|0,CD[e>>2]=0,e=t+184|0,CD[e>>2]=0,t=t+124|0,CD[t>>2]=0,CD[t+4>>2]=0,void(CD[t+8>>2]=0)):(CD[5108]=(CD[5108]|0)+1,e=Aw(95)|0,((e|0)!=0?(CD[(e+4+15&-16)+-4>>2]=e,(e+4+15&-16|0)!=0):0)?(rf(e+4+15&-16),e=e+4+15&-16):e=0,i=t+136|0,CD[i>>2]=e,i=t+188|0,CD[i>>2]=0,i=t+180|0,CD[i>>2]=0,i=t+184|0,CD[i>>2]=0,i=t+124|0,CD[i>>2]=0,CD[i+4>>2]=0,void(CD[i+8>>2]=0))}function _f(t){t|=0;var e=0;CD[t>>2]=16960,((TD[t+192>>0]|0)!=0?(e=CD[t+136>>2]|0,gP[CD[CD[e>>2]>>2]&255](e),e=CD[t+136>>2]|0,(e|0)!=0):0)&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),Jf(t+64|0),Jf(t+4|0)}function mf(t){t|=0,_f(t),ww(t)}function gf(t,e,i,r,o,n,a,s,l){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0;var c=0,h=0;if(h=BD,BD=BD+48|0,CD[5108]=(CD[5108]|0)+1,s=Aw(83)|0,s?(CD[(s+4+15&-16)+-4>>2]=s,c=s+4+15&-16):c=0,CD[c>>2]=o,xD[c+4>>1]=n,xD[c+6>>1]=a,o=c+16|0,CD[o>>2]=CD[e>>2],CD[o+4>>2]=CD[e+4>>2],CD[o+8>>2]=CD[e+8>>2],CD[o+12>>2]=CD[e+12>>2],o=c+32|0,CD[o>>2]=CD[i>>2],CD[o+4>>2]=CD[i+4>>2],CD[o+8>>2]=CD[i+8>>2],CD[o+12>>2]=CD[i+12>>2],CD[c+8>>2]=0,o=c+56|0,CD[o>>2]=0,a=c+52|0,CD[a>>2]=0,CD[h+16>>2]=CD[e>>2],CD[h+16+4>>2]=CD[e+4>>2],CD[h+16+8>>2]=CD[e+8>>2],CD[h+16+12>>2]=CD[e+12>>2],CD[h+16+16>>2]=CD[i>>2],CD[h+16+16+4>>2]=CD[i+4>>2],CD[h+16+16+8>>2]=CD[i+8>>2],CD[h+16+16+12>>2]=CD[i+12>>2],CD[c+60>>2]=CD[t+144>>2],l=(CD[t+188>>2]|0)+1|0,CD[t+188>>2]=l,CD[c+12>>2]=l,l=CD[t+8>>2]|0)CD[t+8>>2]=0;else if(CD[5108]=(CD[5108]|0)+1,s=Aw(63)|0,(s|0)!=0?(CD[(s+4+15&-16)+-4>>2]=s,(s+4+15&-16|0)!=0):0){l=s+4+15&-16,r=l+44|0;do CD[l>>2]=0,l=l+4|0;while((l|0)<(r|0));l=s+4+15&-16}else l=0;return CD[l+32>>2]=0,CD[l+36>>2]=c,CD[l+40>>2]=0,CD[l>>2]=CD[h+16>>2],CD[l+4>>2]=CD[h+16+4>>2],CD[l+8>>2]=CD[h+16+8>>2],CD[l+12>>2]=CD[h+16+12>>2],CD[l+16>>2]=CD[h+16+16>>2],CD[l+20>>2]=CD[h+16+20>>2],CD[l+24>>2]=CD[h+16+24>>2],CD[l+28>>2]=CD[h+16+28>>2],A_(t+4|0,CD[t+4>>2]|0,l),CD[t+16>>2]=(CD[t+16>>2]|0)+1,CD[c+48>>2]=l,s=t+124+(CD[t+144>>2]<<2)|0,CD[a>>2]=0,CD[o>>2]=CD[s>>2],l=CD[s>>2]|0,l&&(CD[l+52>>2]=c),CD[s>>2]=c,TD[t+193>>0]|0?(BD=h,c|0):(CD[h>>2]=17224,CD[h+4>>2]=t,CD[h+8>>2]=c,__(CD[t+4>>2]|0,h+16|0,h),__(CD[t+64>>2]|0,h+16|0,h),BD=h,c|0)}function yf(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0;(CD[e+60>>2]|0)==2?(o=CD[e+48>>2]|0,E_(t+64|0,o)|0,r=CD[t+68>>2]|0,r&&(CD[5110]=(CD[5110]|0)+1,ww(CD[r+-4>>2]|0)),CD[t+68>>2]=o,CD[t+76>>2]=(CD[t+76>>2]|0)+-1):(r=CD[e+48>>2]|0,E_(t+4|0,r)|0,o=CD[t+8>>2]|0,o&&(CD[5110]=(CD[5110]|0)+1,ww(CD[o+-4>>2]|0)),CD[t+8>>2]=r,CD[t+16>>2]=(CD[t+16>>2]|0)+-1),o=CD[e+52>>2]|0,r=CD[e+56>>2]|0,o?CD[o+56>>2]=r:CD[t+124+(CD[e+60>>2]<<2)>>2]=r,r=CD[e+56>>2]|0,r&&(CD[r+52>>2]=CD[e+52>>2]),o=CD[t+136>>2]|0,QP[CD[(CD[o>>2]|0)+16>>2]&127](o,e,i),CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0),TD[t+194>>0]=1}function bf(t,e,i,r){t|=0,e|=0,i|=0,r|=0,CD[i>>2]=CD[e+16>>2],CD[i+4>>2]=CD[e+16+4>>2],CD[i+8>>2]=CD[e+16+8>>2],CD[i+12>>2]=CD[e+16+12>>2],CD[r>>2]=CD[e+32>>2],CD[r+4>>2]=CD[e+32+4>>2],CD[r+8>>2]=CD[e+32+8>>2],CD[r+12>>2]=CD[e+32+12>>2]}function vf(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,i=BD,BD=BD+16|0,CD[i>>2]=17144,CD[i+4>>2]=r,T_(t+4|0,CD[t+4>>2]|0,e,r+4|0,r+20|0,+RD[r+32>>2],o,n,i),T_(t+64|0,CD[t+64>>2]|0,e,r+4|0,r+20|0,+RD[r+32>>2],o,n,i),BD=i}function Mf(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;o=BD,BD=BD+48|0,CD[o+32>>2]=17064,CD[o+32+4>>2]=r,CD[o>>2]=CD[e>>2],CD[o+4>>2]=CD[e+4>>2],CD[o+8>>2]=CD[e+8>>2],CD[o+12>>2]=CD[e+12>>2],CD[o+16>>2]=CD[i>>2],CD[o+16+4>>2]=CD[i+4>>2],CD[o+16+8>>2]=CD[i+8>>2],CD[o+16+12>>2]=CD[i+12>>2],__(CD[t+4>>2]|0,o,o+32|0),__(CD[t+64>>2]|0,o,o+32|0),BD=o}function Sf(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0;w=BD,BD=BD+16|0,b=+RD[i>>2],S=+RD[i+4>>2],T=+RD[i+8>>2],A=+RD[i+12>>2],v=+RD[r>>2],M=+RD[r+4>>2],x=+RD[r+8>>2],E=+RD[r+12>>2];do if((CD[e+60>>2]|0)==2){if(a=CD[e+48>>2]|0,E_(t+64|0,a)|0,o=CD[t+68>>2]|0,o&&(CD[5110]=(CD[5110]|0)+1,ww(CD[o+-4>>2]|0)),CD[t+68>>2]=a,CD[t+76>>2]=(CD[t+76>>2]|0)+-1,a=CD[t+8>>2]|0)CD[t+8>>2]=0;else if(CD[5108]=(CD[5108]|0)+1,a=Aw(63)|0,(a|0)!=0?(CD[(a+4+15&-16)+-4>>2]=a,(a+4+15&-16|0)!=0):0){o=a+4+15&-16,n=o+44|0;do CD[o>>2]=0,o=o+4|0;while((o|0)<(n|0));a=a+4+15&-16}else a=0;CD[a+32>>2]=0,CD[a+36>>2]=e,CD[a+40>>2]=0,RD[a>>2]=b,RD[a+4>>2]=S,RD[a+8>>2]=T,RD[a+12>>2]=A,RD[a+16>>2]=v,RD[a+20>>2]=M,RD[a+24>>2]=x,RD[a+28>>2]=E,A_(t+4|0,CD[t+4>>2]|0,a),CD[t+16>>2]=(CD[t+16>>2]|0)+1,CD[e+48>>2]=a,a=1}else{if(CD[t+168>>2]=(CD[t+168>>2]|0)+1,C=CD[e+48>>2]|0,p=+RD[C>>2],((((p<=v?(f=+RD[C+16>>2],f>=b):0)?(_=+RD[C+4>>2],_<=M):0)?(m=+RD[C+20>>2],m>=S):0)?(g=+RD[C+8>>2],g<=x):0)?(y=+RD[C+24>>2],y>=T):0){if(R=+RD[e+16>>2],c=+RD[e+20>>2],l=+RD[e+24>>2],d=+RD[t+140>>2],h=(+RD[e+32>>2]-R)*.5*d,u=d*(+RD[e+36>>2]-c)*.5,d=d*(+RD[e+40>>2]-l)*.5,b-R<0&&(h=-h),c=S-c<0?-u:u,l=T-l<0?-d:d,!(!(p<=b)|!(_<=S)|!(g<=T)|!(f>=v)|!(m>=M)|!(y>=x))){a=0;break}h>0?(p=b+-.05000000074505806,d=h+(v+.05000000074505806)):(p=h+(b+-.05000000074505806),d=v+.05000000074505806),c>0?(u=c+(M+.05000000074505806),h=S+-.05000000074505806):(u=M+.05000000074505806,h=c+(S+-.05000000074505806)),l>0?(c=T+-.05000000074505806,l+=x+.05000000074505806):(c=l+(T+-.05000000074505806),l=x+.05000000074505806),a=E_(t+4|0,C)|0;t:do if(a){if(n=CD[t+12>>2]|0,(n|0)<=-1){a=CD[t+4>>2]|0;break}if((n|0)>0)for(s=0,o=a;;){if(a=CD[o+32>>2]|0,s=s+1|0,!a){a=o;break t}if((s|0)>=(n|0))break;o=a}}else a=0;while(0);RD[C>>2]=p,RD[C+4>>2]=h,RD[C+8>>2]=c,RD[C+12>>2]=A,RD[C+16>>2]=d,RD[C+20>>2]=u,RD[C+24>>2]=l,RD[C+28>>2]=E,A_(t+4|0,a,C),CD[t+172>>2]=(CD[t+172>>2]|0)+1,a=1;break}a=E_(t+4|0,C)|0;t:do if(a){if(n=CD[t+12>>2]|0,(n|0)<=-1){a=CD[t+4>>2]|0;break}if((n|0)>0)for(s=0,o=a;;){if(a=CD[o+32>>2]|0,s=s+1|0,!a){a=o;break t}if((s|0)>=(n|0))break;o=a}}else a=0;while(0);RD[C>>2]=b,RD[C+4>>2]=S,RD[C+8>>2]=T,RD[C+12>>2]=A,RD[C+16>>2]=v,RD[C+20>>2]=M,RD[C+24>>2]=x,RD[C+28>>2]=E,A_(t+4|0,a,C),CD[t+172>>2]=(CD[t+172>>2]|0)+1,a=1}while(0);return o=CD[e+52>>2]|0,n=CD[e+56>>2]|0,o?CD[o+56>>2]=n:CD[t+124+(CD[e+60>>2]<<2)>>2]=n,o=CD[e+56>>2]|0,o&&(CD[o+52>>2]=CD[e+52>>2]),CD[e+16>>2]=CD[i>>2],CD[e+16+4>>2]=CD[i+4>>2],CD[e+16+8>>2]=CD[i+8>>2],CD[e+16+12>>2]=CD[i+12>>2],CD[e+32>>2]=CD[r>>2],CD[e+32+4>>2]=CD[r+4>>2],CD[e+32+8>>2]=CD[r+8>>2],CD[e+32+12>>2]=CD[r+12>>2],n=CD[t+144>>2]|0,CD[e+60>>2]=n,CD[e+52>>2]=0,CD[e+56>>2]=CD[t+124+(n<<2)>>2],o=CD[t+124+(n<<2)>>2]|0,o&&(CD[o+52>>2]=e),CD[t+124+(n<<2)>>2]=e,a?(TD[t+194>>0]=1,TD[t+193>>0]|0?void(BD=w):(CD[w>>2]=17224,CD[w+4>>2]=t,x_(t+64|0,CD[t+64>>2]|0,CD[e+48>>2]|0,w),x_(t+4|0,CD[t+4>>2]|0,CD[e+48>>2]|0,w),void(BD=w))):void(BD=w)}function Tf(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0;if(p=BD,BD=BD+48|0,Nf(t+4|0,((XD(CD[t+152>>2]|0,CD[t+16>>2]|0)|0)/100|0)+1|0),CD[t+164>>2]|0&&(u=((XD(CD[t+148>>2]|0,CD[t+76>>2]|0)|0)/100|0)+1|0,Nf(t+64|0,u),u=(CD[t+164>>2]|0)-u|0,CD[t+164>>2]=(u|0)<0?0:u),r=((CD[t+144>>2]|0)+1|0)%2|0,CD[t+144>>2]=r,r=CD[t+124+(r<<2)>>2]|0){do{if(s=r+56|0,h=r,r=CD[s>>2]|0,a=CD[h+52>>2]|0,a?CD[a+56>>2]=r:CD[t+124+(CD[h+60>>2]<<2)>>2]=r,a=CD[s>>2]|0,a&&(CD[a+52>>2]=CD[h+52>>2]),CD[h+52>>2]=0,CD[s>>2]=CD[t+132>>2],i=CD[t+132>>2]|0,i&&(CD[i+52>>2]=h),CD[t+132>>2]=h,a=CD[h+48>>2]|0,E_(t+4|0,a)|0,s=CD[t+8>>2]|0,s&&(CD[5110]=(CD[5110]|0)+1,ww(CD[s+-4>>2]|0)),CD[t+8>>2]=a,CD[t+16>>2]=(CD[t+16>>2]|0)+-1,CD[p+16>>2]=CD[h+16>>2],CD[p+16+4>>2]=CD[h+16+4>>2],CD[p+16+8>>2]=CD[h+16+8>>2],CD[p+16+12>>2]=CD[h+16+12>>2],CD[p+16+16>>2]=CD[h+32>>2],CD[p+16+16+4>>2]=CD[h+32+4>>2],CD[p+16+16+8>>2]=CD[h+32+8>>2],CD[p+16+16+12>>2]=CD[h+32+12>>2],i=CD[t+68>>2]|0)CD[t+68>>2]=0;else if(CD[5108]=(CD[5108]|0)+1,a=Aw(63)|0,(a|0)!=0?(CD[(a+4+15&-16)+-4>>2]=a,(a+4+15&-16|0)!=0):0){s=a+4+15&-16,i=s+44|0;do CD[s>>2]=0,s=s+4|0;while((s|0)<(i|0));i=a+4+15&-16}else i=0;CD[i+32>>2]=0,CD[i+36>>2]=h,CD[i+40>>2]=0,CD[i>>2]=CD[p+16>>2],CD[i+4>>2]=CD[p+16+4>>2],CD[i+8>>2]=CD[p+16+8>>2],CD[i+12>>2]=CD[p+16+12>>2],CD[i+16>>2]=CD[p+16+16>>2],CD[i+20>>2]=CD[p+16+20>>2],CD[i+24>>2]=CD[p+16+24>>2],CD[i+28>>2]=CD[p+16+28>>2],A_(t+64|0,CD[t+64>>2]|0,i),a=(CD[t+76>>2]|0)+1|0,CD[t+76>>2]=a,CD[h+48>>2]=i,CD[h+60>>2]=2}while((r|0)!=0);CD[t+164>>2]=a,TD[t+194>>0]=1}CD[p>>2]=17224,CD[p+4>>2]=t,((TD[t+193>>0]|0)!=0?(x_(t+4|0,CD[t+4>>2]|0,CD[t+64>>2]|0,p),(TD[t+193>>0]|0)!=0):0)&&(u=CD[t+4>>2]|0,x_(t+4|0,u,u,p));do if((TD[t+194>>0]|0)!=0?(c=CD[t+136>>2]|0,c=MP[CD[(CD[c>>2]|0)+28>>2]&127](c)|0,n=CD[c+4>>2]|0,(n|0)>0):0){if(r=(XD(CD[t+156>>2]|0,n)|0)/100|0,u=CD[t+160>>2]|0,r=(u|0)>(r|0)?u:r,r=(n|0)<(r|0)?n:r,(r|0)>0){i=0;do s=((CD[t+184>>2]|0)+i|0)%(n|0)|0,h=CD[c+12>>2]|0,a=CD[h+(s<<4)>>2]|0,s=CD[h+(s<<4)+4>>2]|0,h=CD[a+48>>2]|0,u=CD[s+48>>2]|0,(((((+RD[h>>2]<=+RD[u+16>>2]?+RD[h+16>>2]>=+RD[u>>2]:0)?+RD[h+4>>2]<=+RD[u+20>>2]:0)?+RD[h+20>>2]>=+RD[u+4>>2]:0)?+RD[h+8>>2]<=+RD[u+24>>2]:0)?+RD[h+24>>2]>=+RD[u+8>>2]:0)||(n=CD[t+136>>2]|0,CP[CD[(CD[n>>2]|0)+12>>2]&31](n,a,s,e)|0,n=CD[c+4>>2]|0,i=i+-1|0,r=r+-1|0),i=i+1|0;
while((i|0)<(r|0));if((n|0)<=0){CD[t+184>>2]=0;break}}CD[t+184>>2]=((CD[t+184>>2]|0)+r|0)%(n|0)|0}while(0);if(CD[t+180>>2]=(CD[t+180>>2]|0)+1,CD[t+160>>2]=1,TD[t+194>>0]=0,i=CD[t+168>>2]|0,r=CD[t+172>>2]|0,o=i?+(r>>>0)/+(i>>>0):0,RD[t+176>>2]=o,CD[t+172>>2]=r>>>1,CD[t+168>>2]=i>>>1,u=CD[t+136>>2]|0,!(MP[CD[(CD[u>>2]|0)+56>>2]&127](u)|0))return void(BD=p);for(u=CD[t+136>>2]|0,u=MP[CD[(CD[u>>2]|0)+28>>2]&127](u)|0,r=CD[u+4>>2]|0,(r|0)>1?(S_(u,0,r+-1|0),n=0,a=0,s=0,i=0,d=44):(a=0,n=0,s=0,i=0);;){if((d|0)==44&&(r=CD[u+4>>2]|0),(s|0)>=(r|0))break;h=CD[u+12>>2]|0,c=h+(s<<4)|0,r=CD[c>>2]|0,h=h+(s<<4)+4|0,l=CD[h>>2]|0,(r|0)==(a|0)?d=(l|0)==(n|0)?54:48:(a=r,d=48),(d|0)==48&&(d=0,r=CD[r+48>>2]|0,n=CD[l+48>>2]|0,(((((+RD[r>>2]<=+RD[n+16>>2]?+RD[r+16>>2]>=+RD[n>>2]:0)?+RD[r+4>>2]<=+RD[n+20>>2]:0)?+RD[r+20>>2]>=+RD[n+4>>2]:0)?+RD[r+8>>2]<=+RD[n+24>>2]:0)?+RD[r+24>>2]>=+RD[n+8>>2]:0)?(n=l,r=i):(n=l,d=54)),(d|0)==54&&(r=CD[t+136>>2]|0,QP[CD[(CD[r>>2]|0)+32>>2]&127](r,c,e),CD[c>>2]=0,CD[h>>2]=0,r=i+1|0),s=s+1|0,i=r,d=44}if((r|0)>1?(S_(u,0,r+-1|0),a=CD[u+4>>2]|0):a=r,l=a-i|0,(i|0)<0){if((CD[u+8>>2]|0)<(l|0)){if((a|0)!=(i|0))if(CD[5108]=(CD[5108]|0)+1,i=Aw((l<<4|3)+16|0)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,i=i+4+15&-16):i=0,r=CD[u+4>>2]|0,(r|0)>0)for(n=0;;){if(d=CD[u+12>>2]|0,CD[i+(n<<4)>>2]=CD[d+(n<<4)>>2],CD[i+(n<<4)+4>>2]=CD[d+(n<<4)+4>>2],CD[i+(n<<4)+8>>2]=CD[d+(n<<4)+8>>2],CD[i+(n<<4)+12>>2]=CD[d+(n<<4)+12>>2],(n|0)==(r+-1|0)){r=u+12|0;break}n=n+1|0}else r=u+12|0;else i=0,r=u+12|0;n=CD[r>>2]|0,n&&(TD[u+16>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[n+-4>>2]|0)),CD[r>>2]=0),TD[u+16>>0]=1,CD[r>>2]=i,CD[u+8>>2]=l}else r=u+12|0;for(i=a;;){if(d=(CD[r>>2]|0)+(i<<4)|0,CD[d>>2]=0,CD[d+4>>2]=0,CD[d+8>>2]=0,CD[d+12>>2]=0,(i|0)==(l+-1|0))break;i=i+1|0}}CD[u+4>>2]=l,BD=p}function xf(t){return t|=0,CD[t+136>>2]|0}function Cf(t){return t|=0,CD[t+136>>2]|0}function Ef(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0;u=CD[t+4>>2]|0,t=CD[t+64>>2]|0;do{if(u){if(r=+RD[u>>2],o=+RD[u+4>>2],n=+RD[u+8>>2],l=+RD[u+16>>2],s=+RD[u+20>>2],a=+RD[u+24>>2],t){_=+RD[t>>2],f=+RD[t+16>>2],h=+RD[t+4>>2],p=+RD[t+20>>2],c=+RD[t+8>>2],d=+RD[t+24>>2],r=r<_?r:_,h=o<h?o:h,n=n<c?n:c,c=0,l=l>f?l:f,s=s>p?s:p,a=a>d?a:d,o=0;break}h=o,c=+RD[u+12>>2],o=+RD[u+28>>2];break}t?(r=+RD[t>>2],h=+RD[t+4>>2],n=+RD[t+8>>2],c=+RD[t+12>>2],l=+RD[t+16>>2],s=+RD[t+20>>2],a=+RD[t+24>>2],o=+RD[t+28>>2]):(r=0,h=0,n=0,c=0,l=0,s=0,a=0,o=0)}while(0);RD[e>>2]=r,RD[e+4>>2]=h,RD[e+8>>2]=n,RD[e+12>>2]=c,RD[i>>2]=l,RD[i+4>>2]=s,RD[i+8>>2]=a,RD[i+12>>2]=o}function Af(t,e){t|=0,e|=0,(CD[t+16>>2]|0)==(0-(CD[t+76>>2]|0)|0)&&(e=CD[t+4>>2]|0,e&&C_(t+4|0,e),e=CD[t+8>>2]|0,e&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+8>>2]=0,CD[t+12>>2]=-1,e=CD[t+36>>2]|0,e&&(TD[t+40>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+36>>2]=0),TD[t+40>>0]=1,CD[t+36>>2]=0,CD[t+28>>2]=0,CD[t+32>>2]=0,CD[t+20>>2]=0,e=CD[t+64>>2]|0,e&&C_(t+64|0,e),e=CD[t+68>>2]|0,e&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+68>>2]=0,CD[t+72>>2]=-1,e=CD[t+96>>2]|0,e&&(TD[t+100>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+96>>2]=0),TD[t+100>>0]=1,CD[t+96>>2]=0,CD[t+88>>2]=0,CD[t+92>>2]=0,CD[t+80>>2]=0,TD[t+193>>0]=0,TD[t+194>>0]=1,CD[t+144>>2]=0,CD[t+164>>2]=0,CD[t+148>>2]=1,CD[t+152>>2]=0,CD[t+156>>2]=10,CD[t+160>>2]=1,CD[t+124>>2]=0,CD[t+124+4>>2]=0,CD[t+124+8>>2]=0,CD[t+168>>2]=0,CD[t+168+4>>2]=0,CD[t+168+8>>2]=0,CD[t+168+12>>2]=0,CD[t+168+16>>2]=0,CD[t+168+20>>2]=0)}function wf(t){t|=0}function Rf(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0;if(D=BD,BD=BD+128|0,A=CD[t+56>>2]|0,(i-e|0)==1){if(TD[t+60>>0]|0)w=(CD[t+136>>2]|0)+(A<<4)|0,i=(CD[t+116>>2]|0)+(e<<4)|0,CD[w>>2]=CD[i>>2],CD[w+4>>2]=CD[i+4>>2],CD[w+8>>2]=CD[i+8>>2],CD[w+12>>2]=CD[i+12>>2];else{h=(CD[t+96>>2]|0)+(A<<6)|0,u=(CD[t+76>>2]|0)+(e<<6)|0,d=h+64|0;do CD[h>>2]=CD[u>>2],h=h+4|0,u=u+4|0;while((h|0)<(d|0))}return CD[t+56>>2]=(CD[t+56>>2]|0)+1,void(BD=D)}if((i|0)>(e|0)){for(y=(TD[t+60>>0]|0)==0,p=0,m=0,g=0,d=e;;){if(y?(v=CD[t+76>>2]|0,f=+RD[v+(d<<6)+16>>2],s=+RD[v+(d<<6)>>2],a=+RD[v+(d<<6)+20>>2],c=+RD[v+(d<<6)+4>>2],o=+RD[v+(d<<6)+24>>2],_=+RD[v+(d<<6)+8>>2]):(v=CD[t+116>>2]|0,a=+RD[t+36>>2],o=+RD[t+40>>2],x=+RD[t+44>>2],s=+RD[t+4>>2],c=+RD[t+8>>2],_=+RD[t+12>>2],f=+(AD[v+(d<<4)+6>>1]|0)/a+s,s=+(AD[v+(d<<4)>>1]|0)/a+s,a=+(AD[v+(d<<4)+8>>1]|0)/o+c,c=+(AD[v+(d<<4)+2>>1]|0)/o+c,o=+(AD[v+(d<<4)+10>>1]|0)/x+_,_=+(AD[v+(d<<4)+4>>1]|0)/x+_),p+=(f+s)*.5,m+=(a+c)*.5,g+=(o+_)*.5,(d|0)==(i+-1|0))break;d=d+1|0}if(S=1/+(i-e|0),x=p*S,T=m*S,S=g*S,y)for(d=CD[t+76>>2]|0,o=0,c=0,p=0,u=e;;){if(s=(+RD[d+(u<<6)+16>>2]+ +RD[d+(u<<6)>>2])*.5-x,f=(+RD[d+(u<<6)+20>>2]+ +RD[d+(u<<6)+4>>2])*.5-T,m=(+RD[d+(u<<6)+24>>2]+ +RD[d+(u<<6)+8>>2])*.5-S,o+=s*s,c+=f*f,p+=m*m,(u|0)==(i+-1|0)){a=+(i-e|0);break}u=u+1|0}else for(y=CD[t+116>>2]|0,m=+RD[t+36>>2],f=+RD[t+40>>2],s=+RD[t+44>>2],g=+RD[t+4>>2],a=+RD[t+8>>2],_=+RD[t+12>>2],o=0,c=0,p=0,d=e;;){if(V=(+(AD[y+(d<<4)+6>>1]|0)/m+g+(+(AD[y+(d<<4)>>1]|0)/m+g))*.5-x,B=(+(AD[y+(d<<4)+8>>1]|0)/f+a+(+(AD[y+(d<<4)+2>>1]|0)/f+a))*.5-T,P=(+(AD[y+(d<<4)+10>>1]|0)/s+_+(+(AD[y+(d<<4)+4>>1]|0)/s+_))*.5-S,o+=V*V,c+=B*B,p+=P*P,(d|0)==(i+-1|0)){a=+(i-e|0);break}d=d+1|0}}else p=0,c=0,o=0,a=+(i-e|0);if(B=1/(a+-1),s=o*B,a=c*B,o=p*B,u=s<a?a<o?2:1:s<o?2:0,CD[D+16>>2]=0,CD[D+16+4>>2]=0,CD[D+16+8>>2]=0,CD[D+16+12>>2]=0,(i|0)>(e|0)){for(d=(TD[t+60>>0]|0)==0,o=0,s=0,a=0,y=e;;){if(d?(v=CD[t+76>>2]|0,m=+RD[v+(y<<6)+16>>2],f=+RD[v+(y<<6)>>2],p=+RD[v+(y<<6)+20>>2],c=+RD[v+(y<<6)+4>>2],_=+RD[v+(y<<6)+24>>2],g=+RD[v+(y<<6)+8>>2]):(v=CD[t+116>>2]|0,p=+RD[t+36>>2],_=+RD[t+40>>2],B=+RD[t+44>>2],f=+RD[t+4>>2],c=+RD[t+8>>2],g=+RD[t+12>>2],m=+(AD[v+(y<<4)+6>>1]|0)/p+f,f=+(AD[v+(y<<4)>>1]|0)/p+f,p=+(AD[v+(y<<4)+8>>1]|0)/_+c,c=+(AD[v+(y<<4)+2>>1]|0)/_+c,_=+(AD[v+(y<<4)+10>>1]|0)/B+g,g=+(AD[v+(y<<4)+4>>1]|0)/B+g),o+=(m+f)*.5,s=(p+c)*.5+s,a=(_+g)*.5+a,(y|0)==(i+-1|0))break;y=y+1|0}RD[D+16>>2]=o,RD[D+16+4>>2]=s,RD[D+16+8>>2]=a}else o=0,s=0,a=0;if(RD[D+16>>2]=1/+(i-e|0)*o,RD[D+16+4>>2]=1/+(i-e|0)*s,RD[D+16+8>>2]=1/+(i-e|0)*a,m=+RD[D+16+(u<<2)>>2],(i|0)>(e|0))for(y=D+(u<<2)|0,b=e,r=e;;){if(d=(TD[t+60>>0]|0)==0,d?(v=CD[t+76>>2]|0,p=+RD[v+(b<<6)+16>>2],s=+RD[v+(b<<6)>>2],a=+RD[v+(b<<6)+20>>2],c=+RD[v+(b<<6)+4>>2],o=+RD[v+(b<<6)+24>>2],f=+RD[v+(b<<6)+8>>2]):(v=CD[t+116>>2]|0,a=+RD[t+36>>2],o=+RD[t+40>>2],B=+RD[t+44>>2],s=+RD[t+4>>2],c=+RD[t+8>>2],f=+RD[t+12>>2],p=+(AD[v+(b<<4)+6>>1]|0)/a+s,s=+(AD[v+(b<<4)>>1]|0)/a+s,a=+(AD[v+(b<<4)+8>>1]|0)/o+c,c=+(AD[v+(b<<4)+2>>1]|0)/o+c,o=+(AD[v+(b<<4)+10>>1]|0)/B+f,f=+(AD[v+(b<<4)+4>>1]|0)/B+f),RD[D>>2]=(p+s)*.5,RD[D+4>>2]=(a+c)*.5,RD[D+8>>2]=(o+f)*.5,RD[D+12>>2]=0,+RD[y>>2]>m){if(d){n=CD[t+76>>2]|0,l=n+(b<<6)|0,h=D+32|0,u=l,d=h+64|0;do CD[h>>2]=CD[u>>2],h=h+4|0,u=u+4|0;while((h|0)<(d|0));h=l,u=n+(r<<6)|0,d=h+64|0;do CD[h>>2]=CD[u>>2],h=h+4|0,u=u+4|0;while((h|0)<(d|0));h=(CD[t+76>>2]|0)+(r<<6)|0,u=D+32|0,d=h+64|0;do CD[h>>2]=CD[u>>2],h=h+4|0,u=u+4|0;while((h|0)<(d|0))}else d=CD[t+116>>2]|0,v=d+(b<<4)|0,CD[D+96>>2]=CD[v>>2],CD[D+96+4>>2]=CD[v+4>>2],CD[D+96+8>>2]=CD[v+8>>2],CD[D+96+12>>2]=CD[v+12>>2],d=d+(r<<4)|0,CD[v>>2]=CD[d>>2],CD[v+4>>2]=CD[d+4>>2],CD[v+8>>2]=CD[d+8>>2],CD[v+12>>2]=CD[d+12>>2],v=(CD[t+116>>2]|0)+(r<<4)|0,CD[v>>2]=CD[D+96>>2],CD[v+4>>2]=CD[D+96+4>>2],CD[v+8>>2]=CD[D+96+8>>2],CD[v+12>>2]=CD[D+96+12>>2];r=r+1|0}if((b|0)==(i+-1|0))break;b=b+1|0}else r=e;if(((r|0)>(((i-e|0)/3|0)+e|0)?(r|0)<(i+-1-((i-e|0)/3|0)|0):0)||(r=(i-e>>1)+e|0),E=CD[t+56>>2]|0,TD[t+60>>0]|0?(v=CD[t+136>>2]|0,P=(+RD[t+24>>2]-+RD[t+8>>2])*+RD[t+40>>2],B=(+RD[t+28>>2]-+RD[t+12>>2])*+RD[t+44>>2],xD[v+(E<<4)>>1]=~~((+RD[t+20>>2]-+RD[t+4>>2])*+RD[t+36>>2])&65534,xD[v+(E<<4)+2>>1]=~~P&65534,xD[v+(E<<4)+4>>1]=~~B&65534):(v=(CD[t+96>>2]|0)+(E<<6)|0,CD[v>>2]=CD[t+20>>2],CD[v+4>>2]=CD[t+20+4>>2],CD[v+8>>2]=CD[t+20+8>>2],CD[v+12>>2]=CD[t+20+12>>2]),n=CD[t+56>>2]|0,TD[t+60>>0]|0?(v=CD[t+136>>2]|0,x=+RD[t+4>>2],P=+RD[t+8>>2],B=+RD[t+12>>2],P=(P-P)*+RD[t+40>>2],B=(B-B)*+RD[t+44>>2],xD[v+(n<<4)+6>>1]=~~((x-x)*+RD[t+36>>2]+1)&65535|1,xD[v+(n<<4)+8>>1]=~~(P+1)&65535|1,xD[v+(n<<4)+10>>1]=~~(B+1)&65535|1):(v=(CD[t+96>>2]|0)+(n<<6)+16|0,CD[v>>2]=CD[t+4>>2],CD[v+4>>2]=CD[t+4+4>>2],CD[v+8>>2]=CD[t+4+8>>2],CD[v+12>>2]=CD[t+4+12>>2]),C=CD[t+56>>2]|0,(i|0)>(e|0))for(v=TD[t+60>>0]|0,M=e;;){do if(v<<24>>24)u=CD[t+116>>2]|0,a=+RD[t+36>>2],V=+RD[t+40>>2],T=+RD[t+44>>2],g=+RD[t+4>>2],f=+RD[t+8>>2],x=+RD[t+12>>2],s=+RD[t+4>>2],m=+RD[t+8>>2],P=+RD[t+12>>2],p=+RD[t+36>>2],S=+RD[t+40>>2],B=+RD[t+44>>2],h=~~((+(AD[u+(M<<4)>>1]|0)/a+g-s)*p)&65534,n=~~((+(AD[u+(M<<4)+2>>1]|0)/V+f-m)*S)&65534,d=~~((+(AD[u+(M<<4)+4>>1]|0)/T+x-P)*B)&65534,l=(~~((+(AD[u+(M<<4)+6>>1]|0)/a+g-s)*p+1)&65535|1)&65535,y=(~~((+(AD[u+(M<<4)+8>>1]|0)/V+f-m)*S+1)&65535|1)&65535,u=(~~((+(AD[u+(M<<4)+10>>1]|0)/T+x-P)*B+1)&65535|1)&65535,b=CD[t+136>>2]|0,(AD[b+(C<<4)>>1]|0)>(h&65535)&&(xD[b+(C<<4)>>1]=h),(AD[b+(C<<4)+6>>1]|0)<(l&65535)&&(xD[b+(C<<4)+6>>1]=l),(AD[b+(C<<4)+2>>1]|0)>(n&65535)&&(xD[b+(C<<4)+2>>1]=n),(AD[b+(C<<4)+8>>1]|0)<(y&65535)&&(xD[b+(C<<4)+8>>1]=y),(AD[b+(C<<4)+4>>1]|0)>(d&65535)&&(xD[b+(C<<4)+4>>1]=d),(AD[b+(C<<4)+10>>1]|0)<(u&65535)&&(xD[b+(C<<4)+10>>1]=u);else{if(y=CD[t+76>>2]|0,m=+RD[y+(M<<6)>>2],f=+RD[y+(M<<6)+4>>2],p=+RD[y+(M<<6)+8>>2],s=+RD[y+(M<<6)+12>>2],g=+RD[y+(M<<6)+16>>2],a=+RD[y+(M<<6)+20>>2],c=+RD[y+(M<<6)+24>>2],_=+RD[y+(M<<6)+28>>2],y=CD[t+96>>2]|0,m<+RD[y+(C<<6)>>2]&&(RD[y+(C<<6)>>2]=m),f<+RD[y+(C<<6)+4>>2]&&(RD[y+(C<<6)+4>>2]=f),p<+RD[y+(C<<6)+8>>2]&&(RD[y+(C<<6)+8>>2]=p),s<+RD[y+(C<<6)+12>>2]&&(RD[y+(C<<6)+12>>2]=s),+RD[y+(C<<6)+16>>2]<g&&(RD[y+(C<<6)+16>>2]=g),+RD[y+(C<<6)+20>>2]<a&&(RD[y+(C<<6)+20>>2]=a),+RD[y+(C<<6)+24>>2]<c&&(RD[y+(C<<6)+24>>2]=c),!(+RD[y+(C<<6)+28>>2]<_))break;RD[y+(C<<6)+28>>2]=_}while(0);if((M|0)==(i+-1|0))break;M=M+1|0}if(CD[t+56>>2]=C+1,Rf(t,e,r),b=CD[t+56>>2]|0,Rf(t,r,i),h=(CD[t+56>>2]|0)-A|0,r=TD[t+60>>0]|0,r<<24>>24!=0&(h<<4|0)>2048){if(v=CD[t+136>>2]|0,y=CD[v+(C+1<<4)+12>>2]|0,y=(y|0)>-1?1:0-y|0,M=CD[v+(b<<4)+12>>2]|0,M=(M|0)>-1?1:0-M|0,(y<<4|0)<2049){if(d=CD[t+152>>2]|0,(d|0)==(CD[t+156>>2]|0)?(w=(d|0)==0?1:d<<1,(d|0)<(w|0)):0){if(w?(CD[5108]=(CD[5108]|0)+1,n=Aw(w<<5|19)|0,n?(CD[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,l=CD[t+152>>2]|0):(n=0,l=d),(l|0)>0)for(l=l+-1|0,r=0;;){if(i=n+(r<<5)|0,e=(CD[t+160>>2]|0)+(r<<5)|0,CD[i>>2]=CD[e>>2],CD[i+4>>2]=CD[e+4>>2],CD[i+8>>2]=CD[e+8>>2],CD[i+12>>2]=CD[e+12>>2],CD[i+16>>2]=CD[e+16>>2],CD[i+20>>2]=CD[e+20>>2],CD[i+24>>2]=CD[e+24>>2],CD[i+28>>2]=CD[e+28>>2],(r|0)==(l|0))break;r=r+1|0}l=CD[t+160>>2]|0,l&&(TD[t+164>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[l+-4>>2]|0)),CD[t+160>>2]=0),TD[t+164>>0]=1,CD[t+160>>2]=n,CD[t+156>>2]=w,n=CD[t+152>>2]|0}else n=d;CD[t+152>>2]=n+1,w=(CD[t+160>>2]|0)+(d<<5)|0,CD[w>>2]=CD[D+96>>2],CD[w+4>>2]=CD[D+96+4>>2],CD[w+8>>2]=CD[D+96+8>>2],CD[w+12>>2]=CD[D+96+12>>2],CD[w+16>>2]=CD[D+96+16>>2],CD[w+20>>2]=CD[D+96+20>>2],CD[w+24>>2]=CD[D+96+24>>2],CD[w+28>>2]=CD[D+96+28>>2],w=CD[t+160>>2]|0,xD[w+(d<<5)>>1]=xD[v+(C+1<<4)>>1]|0,xD[w+(d<<5)+2>>1]=xD[v+(C+1<<4)+2>>1]|0,xD[w+(d<<5)+4>>1]=xD[v+(C+1<<4)+4>>1]|0,xD[w+(d<<5)+6>>1]=xD[v+(C+1<<4)+6>>1]|0,xD[w+(d<<5)+8>>1]=xD[v+(C+1<<4)+8>>1]|0,xD[w+(d<<5)+10>>1]=xD[v+(C+1<<4)+10>>1]|0,CD[w+(d<<5)+12>>2]=C+1,CD[w+(d<<5)+16>>2]=y,d=t+152|0}else d=t+152|0;if((M<<4|0)<2049){if(u=CD[d>>2]|0,(u|0)==(CD[t+156>>2]|0)?(R=(u|0)==0?1:u<<1,(u|0)<(R|0)):0){if(R?(CD[5108]=(CD[5108]|0)+1,n=Aw(R<<5|19)|0,n?(CD[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,r=CD[d>>2]|0):(n=0,r=u),(r|0)>0)for(r=r+-1|0,l=0;;){if(w=n+(l<<5)|0,i=(CD[t+160>>2]|0)+(l<<5)|0,CD[w>>2]=CD[i>>2],CD[w+4>>2]=CD[i+4>>2],CD[w+8>>2]=CD[i+8>>2],CD[w+12>>2]=CD[i+12>>2],CD[w+16>>2]=CD[i+16>>2],CD[w+20>>2]=CD[i+20>>2],CD[w+24>>2]=CD[i+24>>2],CD[w+28>>2]=CD[i+28>>2],(l|0)==(r|0))break;l=l+1|0}r=CD[t+160>>2]|0,r&&(TD[t+164>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[r+-4>>2]|0)),CD[t+160>>2]=0),TD[t+164>>0]=1,CD[t+160>>2]=n,CD[t+156>>2]=R,n=CD[d>>2]|0}else n=u;CD[d>>2]=n+1,w=(CD[t+160>>2]|0)+(u<<5)|0,CD[w>>2]=CD[D+32>>2],CD[w+4>>2]=CD[D+32+4>>2],CD[w+8>>2]=CD[D+32+8>>2],CD[w+12>>2]=CD[D+32+12>>2],CD[w+16>>2]=CD[D+32+16>>2],CD[w+20>>2]=CD[D+32+20>>2],CD[w+24>>2]=CD[D+32+24>>2],CD[w+28>>2]=CD[D+32+28>>2],w=CD[t+160>>2]|0,xD[w+(u<<5)>>1]=xD[v+(b<<4)>>1]|0,xD[w+(u<<5)+2>>1]=xD[v+(b<<4)+2>>1]|0,xD[w+(u<<5)+4>>1]=xD[v+(b<<4)+4>>1]|0,xD[w+(u<<5)+6>>1]=xD[v+(b<<4)+6>>1]|0,xD[w+(u<<5)+8>>1]=xD[v+(b<<4)+8>>1]|0,xD[w+(u<<5)+10>>1]=xD[v+(b<<4)+10>>1]|0,CD[w+(u<<5)+12>>2]=b,CD[w+(u<<5)+16>>2]=M}CD[t+168>>2]=CD[d>>2],r=TD[t+60>>0]|0}return r<<24>>24?(CD[(CD[t+136>>2]|0)+(E<<4)+12>>2]=0-h,void(BD=D)):(CD[(CD[t+96>>2]|0)+(E<<6)+32>>2]=h,void(BD=D))}function Df(t){t|=0;var e=0;return CD[t>>2]=17328,e=CD[t+160>>2]|0,e&&(TD[t+164>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+160>>2]=0),TD[t+164>>0]=1,CD[t+160>>2]=0,CD[t+152>>2]=0,CD[t+156>>2]=0,e=CD[t+136>>2]|0,e&&(TD[t+140>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+136>>2]=0),TD[t+140>>0]=1,CD[t+136>>2]=0,CD[t+128>>2]=0,CD[t+132>>2]=0,e=CD[t+116>>2]|0,e&&(TD[t+120>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+116>>2]=0),TD[t+120>>0]=1,CD[t+116>>2]=0,CD[t+108>>2]=0,CD[t+112>>2]=0,e=CD[t+96>>2]|0,e&&(TD[t+100>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+96>>2]=0),TD[t+100>>0]=1,CD[t+96>>2]=0,CD[t+88>>2]=0,CD[t+92>>2]=0,(e=CD[t+76>>2]|0)?(TD[t+80>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+76>>2]=0,TD[t+80>>0]=1,CD[t+76>>2]=0,CD[t+68>>2]=0,t=t+72|0,void(CD[t>>2]=0)):(TD[t+80>>0]=1,CD[t+76>>2]=0,CD[t+68>>2]=0,t=t+72|0,void(CD[t>>2]=0))}function Pf(t){t|=0,Df(t),t&&(CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0))}function Bf(t,e,i,r){t|=0,e|=0,i|=0,r|=0;for(var o=0,n=0;;){if(o=CD[t+12>>2]|0,!(((AD[r>>1]|0)>=(AD[t>>1]|0)?(AD[i>>1]|0)<=(AD[t+6>>1]|0):0)&(AD[i+4>>1]|0)<=(AD[t+10>>1]|0)&(AD[r+4>>1]|0)>=(AD[t+4>>1]|0)&(AD[i+2>>1]|0)<=(AD[t+8>>1]|0)&(AD[r+2>>1]|0)>=(AD[t+2>>1]|0))){n=8;break}if((o|0)>-1)break;Bf(t+16|0,e,i,r),o=CD[t+28>>2]|0,t=(o|0)>-1?t+32|0:t+(1-o<<4)|0}(n|0)!=8&&QP[CD[(CD[e>>2]|0)+8>>2]&127](e,o>>21,o&2097151)}function Vf(t,e,i,r,o,n,a,s){t|=0,e|=0,i|=0,r=+r,o=+o,n=+n,a|=0,s|=0;var l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0,N=0,F=0,G=0,z=0,j=0,U=0,W=0;W=BD,BD=BD+32|0,R=+RD[i>>2],H=+RD[i+4>>2],O=+RD[i+8>>2],b=+RD[a>>2],D=(R>r?r:R)+b,u=+RD[a+4>>2],P=(H>o?o:H)+u,p=+RD[a+8>>2],B=(O>n?n:O)+p,_=+RD[s>>2],V=(R<r?r:R)+_,m=+RD[s+4>>2],L=(H<o?o:H)+m,g=+RD[s+8>>2],k=(O<n?n:O)+g,I=1/+ND(+((r-R)*(r-R)+(o-H)*(o-H)+(n-O)*(n-O))),J=(r-R)*I==0?0xde0b6b000000000:1/((r-R)*I),N=(o-H)*I==0?0xde0b6b000000000:1/((o-H)*I),F=(n-O)*I==0?0xde0b6b000000000:1/((n-O)*I),G=J<0&1,z=N<0&1,j=F<0&1,c=CD[t+56>>2]|0;t:do if((c|0)>0)for(v=0,M=CD[t+96>>2]|0,l=0;;){if(l=l+1|0,CD[W>>2]=CD[M>>2],CD[W+4>>2]=CD[M+4>>2],CD[W+8>>2]=CD[M+8>>2],CD[W+12>>2]=CD[M+12>>2],y=M+16|0,CD[W+16>>2]=CD[y>>2],CD[W+16+4>>2]=CD[y+4>>2],CD[W+16+8>>2]=CD[y+8>>2],CD[W+16+12>>2]=CD[y+12>>2],RD[W>>2]=+RD[W>>2]-_,RD[W+4>>2]=+RD[W+4>>2]-m,RD[W+8>>2]=+RD[W+8>>2]-g,RD[W+16>>2]=+RD[W+16>>2]-b,RD[W+20>>2]=+RD[W+20>>2]-u,RD[W+24>>2]=+RD[W+24>>2]-p,h=(D>+RD[y>>2]?!0:V<+RD[M>>2])?0:1,(B>+RD[M+24>>2]?0:!(k<+RD[M+8>>2]))||(h=0),((((P>+RD[M+20>>2]?!0:L<+RD[M+4>>2]|h^1)?!0:(T=+RD[i>>2],S=J*(+RD[W+(G<<4)>>2]-T),T=J*(+RD[W+((G^1)<<4)>>2]-T),C=+RD[i+4>>2],x=N*(+RD[W+(z<<4)+4>>2]-C),C=N*(+RD[W+((z^1)<<4)+4>>2]-C),x>T|S>C))?!0:(E=x>S?x:S,U=C<T?C:T,w=+RD[i+8>>2],A=F*(+RD[W+(j<<4)+8>>2]-w),w=F*(+RD[W+((j^1)<<4)+8>>2]-w),A>U|E>w))?0:(A>E?A:E)<(n-O)*(n-O)*I+((r-R)*(r-R)*I+(o-H)*(o-H)*I))?(h=(w<U?w:U)>0,d=CD[M+32>>2]|0,h&(d|0)==-1?(QP[CD[(CD[e>>2]|0)+8>>2]&127](e,CD[M+36>>2]|0,CD[M+40>>2]|0),c=CD[t+56>>2]|0,y=24):(f=(d|0)==-1,y=23)):(d=CD[M+32>>2]|0,f=(d|0)==-1,h=0,y=23),(y|0)==23&&(y=0,f|h?y=24:(h=d+v|0,d=M+(d<<6)|0)),(y|0)==24&&(h=v+1|0,d=M+64|0),(h|0)>=(c|0))break t;u=+RD[a+4>>2],p=+RD[a+8>>2],_=+RD[s>>2],m=+RD[s+4>>2],g=+RD[s+8>>2],b=+RD[a>>2],v=h,M=d}else l=0;while(0);return(CD[4340]|0)>=(l|0)?void(BD=W):(CD[4340]=l,void(BD=W))}function Lf(t,e,i,r,o,n,a,s,l){t|=0,e|=0,i|=0,r=+r,o=+o,n=+n,a|=0,s|=0,l|=0;var c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0,N=0,F=0,G=0,z=0,j=0,U=0,W=0,X=0,q=0,K=0,Y=0,Q=0,Z=0,$=0,te=0,ee=0,ie=0,re=0,oe=0,ne=0;if(j=BD,BD=BD+32|0,A=+RD[i>>2],F=+RD[i+4>>2],G=+RD[i+8>>2],E=1/+ND(+((r-A)*(r-A)+(o-F)*(o-F)+(n-G)*(n-G))),k=(r-A)*E==0?0xde0b6b000000000:1/((r-A)*E),I=(o-F)*E==0?0xde0b6b000000000:1/((o-F)*E),J=(n-G)*E==0?0xde0b6b000000000:1/((n-G)*E),H=k<0&1,O=I<0&1,N=J<0&1,ne=(A>r?r:A)+ +RD[a>>2],oe=(F>o?o:F)+ +RD[a+4>>2],re=(G>n?n:G)+ +RD[a+8>>2],ee=(A<r?r:A)+ +RD[s>>2],Q=(F<o?o:F)+ +RD[s+4>>2],X=(G<n?n:G)+ +RD[s+8>>2],te=+RD[t+4>>2],ne=ne<te?te:ne,Y=+RD[t+8>>2],oe=oe<Y?Y:oe,W=+RD[t+12>>2],re=re<W?W:re,ie=+RD[t+20>>2],Z=+RD[t+24>>2],q=+RD[t+28>>2],$=+RD[t+36>>2],K=+RD[t+40>>2],U=+RD[t+44>>2],S=~~(((ie<ne?ie:ne)-te)*$)&65534,T=~~(((Z<oe?Z:oe)-Y)*K)&65534,M=~~(((q<re?q:re)-W)*U)&65534,ee=ee<te?te:ee,Q=Q<Y?Y:Q,X=X<W?W:X,x=(~~(((ie<ee?ie:ee)-te)*$+1)&65535|1)&65535,C=(~~(((Z<Q?Z:Q)-Y)*K+1)&65535|1)&65535,v=(~~(((q<X?q:X)-W)*U+1)&65535|1)&65535,(l|0)>0){h=0,u=CD[t+136>>2]|0,c=0;do c=c+1|0,p=u+6|0,d=xD[u>>1]|0,f=u+10|0,_=xD[u+4>>1]|0,m=u+8|0,g=xD[u+2>>1]|0,y=u+12|0,b=(CD[y>>2]|0)>-1,(((((x&65535)>=(d&65535)?(S&65535)<=(AD[p>>1]|0):0)&(M&65535)<=(AD[f>>1]|0)&(v&65535)>=(_&65535)&(T&65535)<=(AD[m>>1]|0)&(C&65535)>=(g&65535)?(ee=+RD[t+36>>2],re=+RD[t+40>>2],ne=+RD[t+44>>2],ie=+RD[t+4>>2],oe=+RD[t+8>>2],D=+RD[t+12>>2],RD[j+12>>2]=0,P=+(AD[p>>1]|0)/ee+ie,w=+(AD[m>>1]|0)/re+oe,R=+(AD[f>>1]|0)/ne+D,RD[j+28>>2]=0,RD[j>>2]=+(d&65535)/ee+ie-+RD[s>>2],RD[j+4>>2]=+(g&65535)/re+oe-+RD[s+4>>2],RD[j+8>>2]=+(_&65535)/ne+D-+RD[s+8>>2],RD[j+16>>2]=P-+RD[a>>2],RD[j+20>>2]=w-+RD[a+4>>2],RD[j+24>>2]=R-+RD[a+8>>2],R=+RD[i>>2],w=k*(+RD[j+(H<<4)>>2]-R),R=k*(+RD[j+((H^1)<<4)>>2]-R),P=+RD[i+4>>2],D=I*(+RD[j+(O<<4)+4>>2]-P),P=I*(+RD[j+((O^1)<<4)+4>>2]-P),D>R|w>P):!0)?!0:(B=D>w?D:w,z=P<R?P:R,L=+RD[i+8>>2],V=J*(+RD[j+(N<<4)+8>>2]-L),L=J*(+RD[j+((N^1)<<4)+8>>2]-L),V>z|B>L))?0:(V>B?V:B)<(n-G)*(n-G)*E+((r-A)*(r-A)*E+(o-F)*(o-F)*E))?(d=(L<z?L:z)>0,b&d?(p=CD[y>>2]|0,QP[CD[(CD[e>>2]|0)+8>>2]&127](e,p>>21,p&2097151),p=16):p=15):(d=0,p=15),(p|0)==15&&(p=0,b|d?p=16:(b=CD[y>>2]|0,h=h-b|0,u=u+(0-b<<4)|0)),(p|0)==16&&(h=h+1|0,u=u+16|0);while((h|0)<(l|0))}else c=0;return(CD[4340]|0)>=(c|0)?void(BD=j):(CD[4340]=c,void(BD=j))}function kf(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0;if(CD[t+168>>2]=CD[t+152>>2],CD[e>>2]=17328,CD[e+52>>2]=282,TD[e+60>>0]=0,TD[e+80>>0]=1,CD[e+76>>2]=0,CD[e+68>>2]=0,CD[e+72>>2]=0,TD[e+100>>0]=1,CD[e+96>>2]=0,CD[e+88>>2]=0,CD[e+92>>2]=0,TD[e+120>>0]=1,CD[e+116>>2]=0,CD[e+108>>2]=0,CD[e+112>>2]=0,TD[e+140>>0]=1,CD[e+136>>2]=0,CD[e+128>>2]=0,CD[e+132>>2]=0,CD[e+144>>2]=0,TD[e+164>>0]=1,CD[e+160>>2]=0,CD[e+152>>2]=0,CD[e+156>>2]=0,CD[e+168>>2]=0,RD[e+4>>2]=-3.4028234663852886e38,RD[e+8>>2]=-3.4028234663852886e38,RD[e+12>>2]=-3.4028234663852886e38,RD[e+16>>2]=0,RD[e+20>>2]=3.4028234663852886e38,RD[e+24>>2]=3.4028234663852886e38,RD[e+28>>2]=3.4028234663852886e38,RD[e+32>>2]=0,i=CD[t+56>>2]|0,r?(i=Iw(i|0)|0,CD[e+56>>2]=i,TD[e+4>>0]=TD[t+4+3>>0]|0,TD[e+5>>0]=TD[t+4+2>>0]|0,TD[e+6>>0]=TD[t+4+1>>0]|0,TD[e+7>>0]=TD[t+4>>0]|0,TD[e+8>>0]=TD[t+8+3>>0]|0,TD[e+9>>0]=TD[t+8+2>>0]|0,TD[e+10>>0]=TD[t+8+1>>0]|0,TD[e+11>>0]=TD[t+8>>0]|0,TD[e+12>>0]=TD[t+12+3>>0]|0,TD[e+13>>0]=TD[t+12+2>>0]|0,TD[e+14>>0]=TD[t+12+1>>0]|0,TD[e+15>>0]=TD[t+12>>0]|0,TD[e+16>>0]=TD[t+16+3>>0]|0,TD[e+17>>0]=TD[t+16+2>>0]|0,TD[e+18>>0]=TD[t+16+1>>0]|0,TD[e+19>>0]=TD[t+16>>0]|0,TD[e+20>>0]=TD[t+20+3>>0]|0,TD[e+21>>0]=TD[t+20+2>>0]|0,TD[e+22>>0]=TD[t+20+1>>0]|0,TD[e+23>>0]=TD[t+20>>0]|0,TD[e+24>>0]=TD[t+24+3>>0]|0,TD[e+25>>0]=TD[t+24+2>>0]|0,TD[e+26>>0]=TD[t+24+1>>0]|0,TD[e+27>>0]=TD[t+24>>0]|0,TD[e+28>>0]=TD[t+28+3>>0]|0,TD[e+29>>0]=TD[t+28+2>>0]|0,TD[e+30>>0]=TD[t+28+1>>0]|0,TD[e+31>>0]=TD[t+28>>0]|0,TD[e+32>>0]=TD[t+32+3>>0]|0,TD[e+33>>0]=TD[t+32+2>>0]|0,TD[e+34>>0]=TD[t+32+1>>0]|0,TD[e+35>>0]=TD[t+32>>0]|0,TD[e+36>>0]=TD[t+36+3>>0]|0,TD[e+37>>0]=TD[t+36+2>>0]|0,TD[e+38>>0]=TD[t+36+1>>0]|0,TD[e+39>>0]=TD[t+36>>0]|0,TD[e+40>>0]=TD[t+40+3>>0]|0,TD[e+41>>0]=TD[t+40+2>>0]|0,TD[e+42>>0]=TD[t+40+1>>0]|0,TD[e+43>>0]=TD[t+40>>0]|0,TD[e+44>>0]=TD[t+44+3>>0]|0,TD[e+45>>0]=TD[t+44+2>>0]|0,TD[e+46>>0]=TD[t+44+1>>0]|0,TD[e+47>>0]=TD[t+44>>0]|0,TD[e+48>>0]=TD[t+48+3>>0]|0,TD[e+49>>0]=TD[t+48+2>>0]|0,TD[e+50>>0]=TD[t+48+1>>0]|0,TD[e+51>>0]=TD[t+48>>0]|0,i=Iw(CD[t+144>>2]|0)|0,CD[e+144>>2]=i,i=Iw(CD[t+168>>2]|0)|0):(CD[e+56>>2]=i,CD[e+4>>2]=CD[t+4>>2],CD[e+4+4>>2]=CD[t+4+4>>2],CD[e+4+8>>2]=CD[t+4+8>>2],CD[e+4+12>>2]=CD[t+4+12>>2],CD[e+20>>2]=CD[t+20>>2],CD[e+20+4>>2]=CD[t+20+4>>2],CD[e+20+8>>2]=CD[t+20+8>>2],CD[e+20+12>>2]=CD[t+20+12>>2],CD[e+36>>2]=CD[t+36>>2],CD[e+36+4>>2]=CD[t+36+4>>2],CD[e+36+8>>2]=CD[t+36+8>>2],CD[e+36+12>>2]=CD[t+36+12>>2],CD[e+144>>2]=CD[t+144>>2],i=CD[t+168>>2]|0),CD[e+168>>2]=i,TD[e+60>>0]=TD[t+60>>0]|0,a=CD[t+56>>2]|0,TD[t+60>>0]|0){if(i=CD[e+136>>2]|0,i&&(TD[e+140>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0)),CD[e+136>>2]=0),CD[e+128>>2]=0,CD[e+128+4>>2]=0,CD[e+128+8>>2]=0,TD[e+128+12>>0]=0,CD[e+136>>2]=e+172,CD[e+128>>2]=a,CD[e+132>>2]=a,r){if((a|0)>0)for(o=CD[t+136>>2]|0,i=0;;){if(c=AD[o+(i<<4)>>1]|0,xD[e+172+(i<<4)>>1]=c>>>8|c<<8,c=AD[o+(i<<4)+2>>1]|0,xD[e+172+(i<<4)+2>>1]=c>>>8|c<<8,c=AD[o+(i<<4)+4>>1]|0,xD[e+172+(i<<4)+4>>1]=c>>>8|c<<8,c=AD[o+(i<<4)+6>>1]|0,xD[e+172+(i<<4)+6>>1]=c>>>8|c<<8,c=AD[o+(i<<4)+8>>1]|0,xD[e+172+(i<<4)+8>>1]=c>>>8|c<<8,c=AD[o+(i<<4)+10>>1]|0,xD[e+172+(i<<4)+10>>1]=c>>>8|c<<8,c=Iw(CD[o+(i<<4)+12>>2]|0)|0,CD[e+172+(i<<4)+12>>2]=c,(i|0)==(a+-1|0))break;i=i+1|0}}else if((a|0)>0)for(o=CD[t+136>>2]|0,i=0;;){if(xD[e+172+(i<<4)>>1]=xD[o+(i<<4)>>1]|0,xD[e+172+(i<<4)+2>>1]=xD[o+(i<<4)+2>>1]|0,xD[e+172+(i<<4)+4>>1]=xD[o+(i<<4)+4>>1]|0,xD[e+172+(i<<4)+6>>1]=xD[o+(i<<4)+6>>1]|0,xD[e+172+(i<<4)+8>>1]=xD[o+(i<<4)+8>>1]|0,xD[e+172+(i<<4)+10>>1]=xD[o+(i<<4)+10>>1]|0,CD[e+172+(i<<4)+12>>2]=CD[o+(i<<4)+12>>2],(i|0)==(a+-1|0))break;i=i+1|0}CD[e+128>>2]=0,CD[e+128+4>>2]=0,CD[e+128+8>>2]=0,TD[e+128+12>>0]=0,i=a<<4}else{if(i=CD[e+96>>2]|0,i&&(TD[e+100>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0)),CD[e+96>>2]=0),CD[e+88>>2]=0,CD[e+88+4>>2]=0,CD[e+88+8>>2]=0,TD[e+88+12>>0]=0,CD[e+96>>2]=e+172,CD[e+88>>2]=a,CD[e+92>>2]=a,r)if((a|0)>0)for(n=CD[t+96>>2]|0,i=e+172|0,o=0;;){if(s=n+(o<<6)|0,c=i+(o<<6)|0,TD[c>>0]=TD[s+3>>0]|0,TD[c+1>>0]=TD[s+2>>0]|0,TD[c+2>>0]=TD[s+1>>0]|0,TD[c+3>>0]=TD[s>>0]|0,c=n+(o<<6)+4|0,s=i+(o<<6)+4|0,TD[s>>0]=TD[c+3>>0]|0,TD[s+1>>0]=TD[c+2>>0]|0,TD[s+2>>0]=TD[c+1>>0]|0,TD[s+3>>0]=TD[c>>0]|0,s=n+(o<<6)+8|0,c=i+(o<<6)+8|0,TD[c>>0]=TD[s+3>>0]|0,TD[c+1>>0]=TD[s+2>>0]|0,TD[c+2>>0]=TD[s+1>>0]|0,TD[c+3>>0]=TD[s>>0]|0,c=n+(o<<6)+12|0,i=i+(o<<6)+12|0,TD[i>>0]=TD[c+3>>0]|0,TD[i+1>>0]=TD[c+2>>0]|0,TD[i+2>>0]=TD[c+1>>0]|0,TD[i+3>>0]=TD[c>>0]|0,i=CD[t+96>>2]|0,c=i+(o<<6)+16|0,s=CD[e+96>>2]|0,l=s+(o<<6)+16|0,TD[l>>0]=TD[c+3>>0]|0,TD[l+1>>0]=TD[c+2>>0]|0,TD[l+2>>0]=TD[c+1>>0]|0,TD[l+3>>0]=TD[c>>0]|0,l=i+(o<<6)+20|0,c=s+(o<<6)+20|0,TD[c>>0]=TD[l+3>>0]|0,TD[c+1>>0]=TD[l+2>>0]|0,TD[c+2>>0]=TD[l+1>>0]|0,TD[c+3>>0]=TD[l>>0]|0,c=i+(o<<6)+24|0,l=s+(o<<6)+24|0,TD[l>>0]=TD[c+3>>0]|0,TD[l+1>>0]=TD[c+2>>0]|0,TD[l+2>>0]=TD[c+1>>0]|0,TD[l+3>>0]=TD[c>>0]|0,i=i+(o<<6)+28|0,s=s+(o<<6)+28|0,TD[s>>0]=TD[i+3>>0]|0,TD[s+1>>0]=TD[i+2>>0]|0,TD[s+2>>0]=TD[i+1>>0]|0,TD[s+3>>0]=TD[i>>0]|0,n=CD[t+96>>2]|0,s=Iw(CD[n+(o<<6)+32>>2]|0)|0,i=CD[e+96>>2]|0,CD[i+(o<<6)+32>>2]=s,s=Iw(CD[n+(o<<6)+36>>2]|0)|0,CD[i+(o<<6)+36>>2]=s,s=Iw(CD[n+(o<<6)+40>>2]|0)|0,CD[i+(o<<6)+40>>2]=s,(o|0)==(a+-1|0))break;o=o+1|0}else i=e+172|0;else if((a|0)>0)for(i=e+172|0,n=CD[t+96>>2]|0,o=0;;){if(i=i+(o<<6)|0,c=n+(o<<6)|0,CD[i>>2]=CD[c>>2],CD[i+4>>2]=CD[c+4>>2],CD[i+8>>2]=CD[c+8>>2],CD[i+12>>2]=CD[c+12>>2],i=(CD[e+96>>2]|0)+(o<<6)+16|0,c=(CD[t+96>>2]|0)+(o<<6)+16|0,CD[i>>2]=CD[c>>2],CD[i+4>>2]=CD[c+4>>2],CD[i+8>>2]=CD[c+8>>2],CD[i+12>>2]=CD[c+12>>2],n=CD[t+96>>2]|0,i=CD[e+96>>2]|0,CD[i+(o<<6)+32>>2]=CD[n+(o<<6)+32>>2],CD[i+(o<<6)+36>>2]=CD[n+(o<<6)+36>>2],CD[i+(o<<6)+40>>2]=CD[n+(o<<6)+40>>2],(o|0)==(a+-1|0))break;o=o+1|0}else i=e+172|0;i&&(TD[e+100>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0)),CD[e+96>>2]=0),CD[e+88>>2]=0,CD[e+88+4>>2]=0,CD[e+88+8>>2]=0,TD[e+88+12>>0]=0,i=a<<6}if(a=e+(i+172)|0,o=CD[t+168>>2]|0,i=CD[e+160>>2]|0,i&&(TD[e+164>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0)),CD[e+160>>2]=0),CD[e+152>>2]=0,CD[e+152+4>>2]=0,CD[e+152+8>>2]=0,TD[e+152+12>>0]=0,CD[e+160>>2]=a,CD[e+152>>2]=o,CD[e+156>>2]=o,n=CD[t+168>>2]|0,r){if((n|0)<=0)return CD[e>>2]=0,CD[e+152>>2]=0,CD[e+152+4>>2]=0,CD[e+152+8>>2]=0,TD[e+152+12>>0]=0,1;for(i=CD[t+160>>2]|0,o=0;;){if(c=AD[i+(o<<5)>>1]|0,xD[a+(o<<5)>>1]=c>>>8|c<<8,c=AD[i+(o<<5)+2>>1]|0,xD[a+(o<<5)+2>>1]=c>>>8|c<<8,c=AD[i+(o<<5)+4>>1]|0,xD[a+(o<<5)+4>>1]=c>>>8|c<<8,c=AD[i+(o<<5)+6>>1]|0,xD[a+(o<<5)+6>>1]=c>>>8|c<<8,c=AD[i+(o<<5)+8>>1]|0,xD[a+(o<<5)+8>>1]=c>>>8|c<<8,c=AD[i+(o<<5)+10>>1]|0,xD[a+(o<<5)+10>>1]=c>>>8|c<<8,c=Iw(CD[i+(o<<5)+12>>2]|0)|0,CD[a+(o<<5)+12>>2]=c,c=Iw(CD[i+(o<<5)+16>>2]|0)|0,CD[a+(o<<5)+16>>2]=c,(o|0)==(n+-1|0))break;o=o+1|0}return CD[e>>2]=0,CD[e+152>>2]=0,CD[e+152+4>>2]=0,CD[e+152+8>>2]=0,TD[e+152+12>>0]=0,1}if((n|0)<=0)return CD[e>>2]=0,CD[e+152>>2]=0,CD[e+152+4>>2]=0,CD[e+152+8>>2]=0,TD[e+152+12>>0]=0,1;i=CD[t+160>>2]|0,o=0;do xD[a+(o<<5)>>1]=xD[i+(o<<5)>>1]|0,xD[a+(o<<5)+2>>1]=xD[i+(o<<5)+2>>1]|0,xD[a+(o<<5)+4>>1]=xD[i+(o<<5)+4>>1]|0,xD[a+(o<<5)+6>>1]=xD[i+(o<<5)+6>>1]|0,xD[a+(o<<5)+8>>1]=xD[i+(o<<5)+8>>1]|0,xD[a+(o<<5)+10>>1]=xD[i+(o<<5)+10>>1]|0,CD[a+(o<<5)+12>>2]=CD[i+(o<<5)+12>>2],CD[a+(o<<5)+16>>2]=CD[i+(o<<5)+16>>2],CD[a+(o<<5)+20>>2]=0,CD[a+(o<<5)+24>>2]=0,CD[a+(o<<5)+28>>2]=0,o=o+1|0;while((o|0)<(CD[t+168>>2]|0));return CD[e>>2]=0,CD[e+152>>2]=0,CD[e+152+4>>2]=0,CD[e+152+8>>2]=0,TD[e+152+12>>0]=0,1}function Hf(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0;h=BD,BD=BD+112|0,RD[t+20>>2]=+RD[e+16>>2],RD[t+24>>2]=+RD[e+20>>2],RD[t+28>>2]=+RD[e+24>>2],RD[t+32>>2]=+RD[e+28>>2],RD[t+4>>2]=+RD[e>>2],RD[t+8>>2]=+RD[e+4>>2],RD[t+12>>2]=+RD[e+8>>2],RD[t+16>>2]=+RD[e+12>>2],RD[t+36>>2]=+RD[e+32>>2],RD[t+40>>2]=+RD[e+36>>2],RD[t+44>>2]=+RD[e+40>>2],RD[t+48>>2]=+RD[e+44>>2],CD[t+56>>2]=CD[e+48>>2],TD[t+60>>0]=(CD[e+52>>2]|0)!=0&1,c=CD[e+56>>2]|0,a=h+48|0,l=a+64|0;do CD[a>>2]=0,a=a+4|0;while((a|0)<(l|0));if(n=CD[t+88>>2]|0,(n|0)<(c|0)){if((CD[t+92>>2]|0)<(c|0)){if(c?(CD[5108]=(CD[5108]|0)+1,r=Aw(c<<6|19)|0,r?(CD[(r+4+15&-16)+-4>>2]=r,o=r+4+15&-16):o=0,r=CD[t+88>>2]|0):(o=0,r=n),(r|0)>0)for(r=r+-1|0,i=0;;){a=o+(i<<6)|0,s=(CD[t+96>>2]|0)+(i<<6)|0,l=a+64|0;do CD[a>>2]=CD[s>>2],a=a+4|0,s=s+4|0;while((a|0)<(l|0));if((i|0)==(r|0))break;i=i+1|0}r=CD[t+96>>2]|0,r&&(TD[t+100>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[r+-4>>2]|0)),CD[t+96>>2]=0),TD[t+100>>0]=1,CD[t+96>>2]=o,CD[t+92>>2]=c,o=t+96|0}else o=t+96|0;for(;;){a=(CD[o>>2]|0)+(n<<6)|0,s=h+48|0,l=a+64|0;do CD[a>>2]=CD[s>>2],a=a+4|0,s=s+4|0;while((a|0)<(l|0));if((n|0)==(c+-1|0))break;n=n+1|0}}if(CD[t+88>>2]=c,(c|0)>0)for(o=CD[t+96>>2]|0,r=0,i=CD[e+64>>2]|0;;){if(RD[o+(r<<6)+16>>2]=+RD[i+16>>2],RD[o+(r<<6)+20>>2]=+RD[i+20>>2],RD[o+(r<<6)+24>>2]=+RD[i+24>>2],RD[o+(r<<6)+28>>2]=+RD[i+28>>2],RD[o+(r<<6)>>2]=+RD[i>>2],RD[o+(r<<6)+4>>2]=+RD[i+4>>2],RD[o+(r<<6)+8>>2]=+RD[i+8>>2],RD[o+(r<<6)+12>>2]=+RD[i+12>>2],CD[o+(r<<6)+32>>2]=CD[i+32>>2],CD[o+(r<<6)+36>>2]=CD[i+36>>2],CD[o+(r<<6)+40>>2]=CD[i+40>>2],(r|0)==(c+-1|0))break;r=r+1|0,i=i+48|0}if(l=CD[e+60>>2]|0,CD[h+32>>2]=0,CD[h+32+4>>2]=0,CD[h+32+8>>2]=0,CD[h+32+12>>2]=0,r=CD[t+128>>2]|0,(r|0)<(l|0)){if((CD[t+132>>2]|0)<(l|0)){if(l?(CD[5108]=(CD[5108]|0)+1,i=Aw((l<<4|3)+16|0)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,o=i+4+15&-16):o=0,i=CD[t+128>>2]|0):(o=0,i=r),(i|0)>0)for(i=i+-1|0,n=0;;){if(c=o+(n<<4)|0,s=(CD[t+136>>2]|0)+(n<<4)|0,CD[c>>2]=CD[s>>2],CD[c+4>>2]=CD[s+4>>2],CD[c+8>>2]=CD[s+8>>2],CD[c+12>>2]=CD[s+12>>2],(n|0)==(i|0))break;n=n+1|0}i=CD[t+136>>2]|0,i&&(TD[t+140>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0)),CD[t+136>>2]=0),TD[t+140>>0]=1,CD[t+136>>2]=o,CD[t+132>>2]=l,o=t+136|0}else o=t+136|0;for(;;){if(c=(CD[o>>2]|0)+(r<<4)|0,CD[c>>2]=CD[h+32>>2],CD[c+4>>2]=CD[h+32+4>>2],CD[c+8>>2]=CD[h+32+8>>2],CD[c+12>>2]=CD[h+32+12>>2],(r|0)==(l+-1|0))break;r=r+1|0}}if(CD[t+128>>2]=l,(l|0)>0)for(o=CD[t+136>>2]|0,r=0,i=CD[e+68>>2]|0;;){if(CD[o+(r<<4)+12>>2]=CD[i+12>>2],xD[o+(r<<4)+6>>1]=xD[i+6>>1]|0,xD[o+(r<<4)+8>>1]=xD[i+8>>1]|0,xD[o+(r<<4)+10>>1]=xD[i+10>>1]|0,xD[o+(r<<4)>>1]=xD[i>>1]|0,xD[o+(r<<4)+2>>1]=xD[i+2>>1]|0,xD[o+(r<<4)+4>>1]=xD[i+4>>1]|0,(r|0)==(l+-1|0))break;r=r+1|0,i=i+16|0}if(CD[t+144>>2]=CD[e+76>>2],l=CD[e+80>>2]|0,r=CD[t+152>>2]|0,(r|0)<(l|0)){if((CD[t+156>>2]|0)<(l|0)){if(l?(CD[5108]=(CD[5108]|0)+1,i=Aw(l<<5|19)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,o=i+4+15&-16):o=0,i=CD[t+152>>2]|0):(o=0,i=r),(i|0)>0)for(i=i+-1|0,n=0;;){if(c=o+(n<<5)|0,s=(CD[t+160>>2]|0)+(n<<5)|0,CD[c>>2]=CD[s>>2],CD[c+4>>2]=CD[s+4>>2],CD[c+8>>2]=CD[s+8>>2],CD[c+12>>2]=CD[s+12>>2],CD[c+16>>2]=CD[s+16>>2],CD[c+20>>2]=CD[s+20>>2],CD[c+24>>2]=CD[s+24>>2],CD[c+28>>2]=CD[s+28>>2],(n|0)==(i|0))break;n=n+1|0}i=CD[t+160>>2]|0,i&&(TD[t+164>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0)),CD[t+160>>2]=0),TD[t+164>>0]=1,CD[t+160>>2]=o,CD[t+156>>2]=l,o=t+160|0}else o=t+160|0;for(;;){if(c=(CD[o>>2]|0)+(r<<5)|0,CD[c>>2]=CD[h>>2],CD[c+4>>2]=CD[h+4>>2],CD[c+8>>2]=CD[h+8>>2],CD[c+12>>2]=CD[h+12>>2],CD[c+16>>2]=CD[h+16>>2],CD[c+20>>2]=CD[h+20>>2],CD[c+24>>2]=CD[h+24>>2],CD[c+28>>2]=CD[h+28>>2],(r|0)==(l+-1|0))break;r=r+1|0}}if(CD[t+152>>2]=l,(l|0)<=0)return void(BD=h);for(r=CD[t+160>>2]|0,o=0,i=CD[e+72>>2]|0;;){if(xD[r+(o<<5)+6>>1]=xD[i+14>>1]|0,xD[r+(o<<5)+8>>1]=xD[i+16>>1]|0,xD[r+(o<<5)+10>>1]=xD[i+18>>1]|0,xD[r+(o<<5)>>1]=xD[i+8>>1]|0,xD[r+(o<<5)+2>>1]=xD[i+10>>1]|0,xD[r+(o<<5)+4>>1]=xD[i+12>>1]|0,CD[r+(o<<5)+12>>2]=CD[i>>2],CD[r+(o<<5)+16>>2]=CD[i+4>>2],(o|0)==(l+-1|0))break;o=o+1|0,i=i+20|0}BD=h}function If(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0;h=BD,BD=BD+112|0,RD[t+20>>2]=+DD[e+32>>3],RD[t+24>>2]=+DD[e+40>>3],RD[t+28>>2]=+DD[e+48>>3],RD[t+32>>2]=+DD[e+56>>3],RD[t+4>>2]=+DD[e>>3],RD[t+8>>2]=+DD[e+8>>3],RD[t+12>>2]=+DD[e+16>>3],RD[t+16>>2]=+DD[e+24>>3],RD[t+36>>2]=+DD[e+64>>3],RD[t+40>>2]=+DD[e+72>>3],RD[t+44>>2]=+DD[e+80>>3],RD[t+48>>2]=+DD[e+88>>3],CD[t+56>>2]=CD[e+96>>2],TD[t+60>>0]=(CD[e+100>>2]|0)!=0&1,c=CD[e+104>>2]|0,a=h+48|0,l=a+64|0;do CD[a>>2]=0,a=a+4|0;while((a|0)<(l|0));if(n=CD[t+88>>2]|0,(n|0)<(c|0)){if((CD[t+92>>2]|0)<(c|0)){if(c?(CD[5108]=(CD[5108]|0)+1,r=Aw(c<<6|19)|0,r?(CD[(r+4+15&-16)+-4>>2]=r,o=r+4+15&-16):o=0,r=CD[t+88>>2]|0):(o=0,r=n),(r|0)>0)for(r=r+-1|0,i=0;;){a=o+(i<<6)|0,s=(CD[t+96>>2]|0)+(i<<6)|0,l=a+64|0;do CD[a>>2]=CD[s>>2],a=a+4|0,s=s+4|0;while((a|0)<(l|0));if((i|0)==(r|0))break;i=i+1|0}r=CD[t+96>>2]|0,r&&(TD[t+100>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[r+-4>>2]|0)),CD[t+96>>2]=0),TD[t+100>>0]=1,CD[t+96>>2]=o,CD[t+92>>2]=c,o=t+96|0}else o=t+96|0;for(;;){a=(CD[o>>2]|0)+(n<<6)|0,s=h+48|0,l=a+64|0;do CD[a>>2]=CD[s>>2],a=a+4|0,s=s+4|0;while((a|0)<(l|0));if((n|0)==(c+-1|0))break;n=n+1|0}}if(CD[t+88>>2]=c,(c|0)>0)for(o=CD[t+96>>2]|0,r=0,i=CD[e+112>>2]|0;;){if(RD[o+(r<<6)+16>>2]=+DD[i+32>>3],RD[o+(r<<6)+20>>2]=+DD[i+40>>3],RD[o+(r<<6)+24>>2]=+DD[i+48>>3],RD[o+(r<<6)+28>>2]=+DD[i+56>>3],RD[o+(r<<6)>>2]=+DD[i>>3],RD[o+(r<<6)+4>>2]=+DD[i+8>>3],RD[o+(r<<6)+8>>2]=+DD[i+16>>3],RD[o+(r<<6)+12>>2]=+DD[i+24>>3],CD[o+(r<<6)+32>>2]=CD[i+64>>2],CD[o+(r<<6)+36>>2]=CD[i+68>>2],CD[o+(r<<6)+40>>2]=CD[i+72>>2],(r|0)==(c+-1|0))break;r=r+1|0,i=i+80|0}if(l=CD[e+108>>2]|0,CD[h+32>>2]=0,CD[h+32+4>>2]=0,CD[h+32+8>>2]=0,CD[h+32+12>>2]=0,r=CD[t+128>>2]|0,(r|0)<(l|0)){if((CD[t+132>>2]|0)<(l|0)){if(l?(CD[5108]=(CD[5108]|0)+1,i=Aw((l<<4|3)+16|0)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,o=i+4+15&-16):o=0,i=CD[t+128>>2]|0):(o=0,i=r),(i|0)>0)for(i=i+-1|0,n=0;;){if(c=o+(n<<4)|0,s=(CD[t+136>>2]|0)+(n<<4)|0,CD[c>>2]=CD[s>>2],CD[c+4>>2]=CD[s+4>>2],CD[c+8>>2]=CD[s+8>>2],CD[c+12>>2]=CD[s+12>>2],(n|0)==(i|0))break;n=n+1|0}i=CD[t+136>>2]|0,i&&(TD[t+140>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0)),CD[t+136>>2]=0),TD[t+140>>0]=1,CD[t+136>>2]=o,CD[t+132>>2]=l,o=t+136|0}else o=t+136|0;for(;;){if(c=(CD[o>>2]|0)+(r<<4)|0,CD[c>>2]=CD[h+32>>2],CD[c+4>>2]=CD[h+32+4>>2],CD[c+8>>2]=CD[h+32+8>>2],CD[c+12>>2]=CD[h+32+12>>2],(r|0)==(l+-1|0))break;
r=r+1|0}}if(CD[t+128>>2]=l,(l|0)>0)for(o=CD[t+136>>2]|0,r=0,i=CD[e+116>>2]|0;;){if(CD[o+(r<<4)+12>>2]=CD[i+12>>2],xD[o+(r<<4)+6>>1]=xD[i+6>>1]|0,xD[o+(r<<4)+8>>1]=xD[i+8>>1]|0,xD[o+(r<<4)+10>>1]=xD[i+10>>1]|0,xD[o+(r<<4)>>1]=xD[i>>1]|0,xD[o+(r<<4)+2>>1]=xD[i+2>>1]|0,xD[o+(r<<4)+4>>1]=xD[i+4>>1]|0,(r|0)==(l+-1|0))break;r=r+1|0,i=i+16|0}if(CD[t+144>>2]=CD[e+120>>2],l=CD[e+124>>2]|0,r=CD[t+152>>2]|0,(r|0)<(l|0)){if((CD[t+156>>2]|0)<(l|0)){if(l?(CD[5108]=(CD[5108]|0)+1,i=Aw(l<<5|19)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,o=i+4+15&-16):o=0,i=CD[t+152>>2]|0):(o=0,i=r),(i|0)>0)for(i=i+-1|0,n=0;;){if(c=o+(n<<5)|0,s=(CD[t+160>>2]|0)+(n<<5)|0,CD[c>>2]=CD[s>>2],CD[c+4>>2]=CD[s+4>>2],CD[c+8>>2]=CD[s+8>>2],CD[c+12>>2]=CD[s+12>>2],CD[c+16>>2]=CD[s+16>>2],CD[c+20>>2]=CD[s+20>>2],CD[c+24>>2]=CD[s+24>>2],CD[c+28>>2]=CD[s+28>>2],(n|0)==(i|0))break;n=n+1|0}i=CD[t+160>>2]|0,i&&(TD[t+164>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0)),CD[t+160>>2]=0),TD[t+164>>0]=1,CD[t+160>>2]=o,CD[t+156>>2]=l,o=t+160|0}else o=t+160|0;for(;;){if(c=(CD[o>>2]|0)+(r<<5)|0,CD[c>>2]=CD[h>>2],CD[c+4>>2]=CD[h+4>>2],CD[c+8>>2]=CD[h+8>>2],CD[c+12>>2]=CD[h+12>>2],CD[c+16>>2]=CD[h+16>>2],CD[c+20>>2]=CD[h+20>>2],CD[c+24>>2]=CD[h+24>>2],CD[c+28>>2]=CD[h+28>>2],(r|0)==(l+-1|0))break;r=r+1|0}}if(CD[t+152>>2]=l,(l|0)<=0)return void(BD=h);for(r=CD[t+160>>2]|0,o=0,i=CD[e+128>>2]|0;;){if(xD[r+(o<<5)+6>>1]=xD[i+14>>1]|0,xD[r+(o<<5)+8>>1]=xD[i+16>>1]|0,xD[r+(o<<5)+10>>1]=xD[i+18>>1]|0,xD[r+(o<<5)>>1]=xD[i+8>>1]|0,xD[r+(o<<5)+2>>1]=xD[i+10>>1]|0,xD[r+(o<<5)+4>>1]=xD[i+12>>1]|0,CD[r+(o<<5)+12>>2]=CD[i>>2],CD[r+(o<<5)+16>>2]=CD[i+4>>2],(o|0)==(l+-1|0))break;o=o+1|0,i=i+20|0}BD=h}function Of(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0;if(RD[e+16>>2]=+RD[t+20>>2],RD[e+20>>2]=+RD[t+24>>2],RD[e+24>>2]=+RD[t+28>>2],RD[e+28>>2]=+RD[t+32>>2],RD[e>>2]=+RD[t+4>>2],RD[e+4>>2]=+RD[t+8>>2],RD[e+8>>2]=+RD[t+12>>2],RD[e+12>>2]=+RD[t+16>>2],RD[e+32>>2]=+RD[t+36>>2],RD[e+36>>2]=+RD[t+40>>2],RD[e+40>>2]=+RD[t+44>>2],RD[e+44>>2]=+RD[t+48>>2],CD[e+48>>2]=CD[t+56>>2],CD[e+52>>2]=ED[t+60>>0],s=CD[t+88>>2]|0,CD[e+56>>2]=s,s){if(s=NP[CD[(CD[i>>2]|0)+28>>2]&31](i,CD[t+96>>2]|0)|0,CD[e+64>>2]=s,s){if(s=CD[t+88>>2]|0,o=DP[CD[(CD[i>>2]|0)+16>>2]&63](i,48,s)|0,(s|0)>0)for(r=CD[t+96>>2]|0,a=0,n=CD[o+8>>2]|0;;){if(RD[n+16>>2]=+RD[r+(a<<6)+16>>2],RD[n+20>>2]=+RD[r+(a<<6)+20>>2],RD[n+24>>2]=+RD[r+(a<<6)+24>>2],RD[n+28>>2]=+RD[r+(a<<6)+28>>2],RD[n>>2]=+RD[r+(a<<6)>>2],RD[n+4>>2]=+RD[r+(a<<6)+4>>2],RD[n+8>>2]=+RD[r+(a<<6)+8>>2],RD[n+12>>2]=+RD[r+(a<<6)+12>>2],CD[n+32>>2]=CD[r+(a<<6)+32>>2],CD[n+36>>2]=CD[r+(a<<6)+36>>2],CD[n+40>>2]=CD[r+(a<<6)+40>>2],(a|0)==(s+-1|0))break;a=a+1|0,n=n+48|0}else r=CD[t+96>>2]|0;_P[CD[(CD[i>>2]|0)+20>>2]&31](i,o,17368,1497453121,r)}}else CD[e+64>>2]=0;if(s=CD[t+128>>2]|0,CD[e+60>>2]=s,s){if(s=NP[CD[(CD[i>>2]|0)+28>>2]&31](i,CD[t+136>>2]|0)|0,CD[e+68>>2]=s,s){if(a=CD[t+128>>2]|0,o=DP[CD[(CD[i>>2]|0)+16>>2]&63](i,16,a)|0,(a|0)>0)for(r=CD[t+136>>2]|0,s=0,n=CD[o+8>>2]|0;;){if(CD[n+12>>2]=CD[r+(s<<4)+12>>2],xD[n+6>>1]=xD[r+(s<<4)+6>>1]|0,xD[n+8>>1]=xD[r+(s<<4)+8>>1]|0,xD[n+10>>1]=xD[r+(s<<4)+10>>1]|0,xD[n>>1]=xD[r+(s<<4)>>1]|0,xD[n+2>>1]=xD[r+(s<<4)+2>>1]|0,xD[n+4>>1]=xD[r+(s<<4)+4>>1]|0,(s|0)==(a+-1|0))break;s=s+1|0,n=n+16|0}else r=CD[t+136>>2]|0;_P[CD[(CD[i>>2]|0)+20>>2]&31](i,o,17392,1497453121,r)}}else CD[e+68>>2]=0;if(CD[e+76>>2]=CD[t+144>>2],s=CD[t+152>>2]|0,CD[e+80>>2]=s,!s)return CD[e+72>>2]=0,17440;if(s=NP[CD[(CD[i>>2]|0)+28>>2]&31](i,CD[t+160>>2]|0)|0,CD[e+72>>2]=s,!s)return 17440;if(a=CD[t+152>>2]|0,s=DP[CD[(CD[i>>2]|0)+16>>2]&63](i,20,a)|0,(a|0)>0)for(r=CD[t+160>>2]|0,o=0,n=CD[s+8>>2]|0;;){if(xD[n+14>>1]=xD[r+(o<<5)+6>>1]|0,xD[n+16>>1]=xD[r+(o<<5)+8>>1]|0,xD[n+18>>1]=xD[r+(o<<5)+10>>1]|0,xD[n+8>>1]=xD[r+(o<<5)>>1]|0,xD[n+10>>1]=xD[r+(o<<5)+2>>1]|0,xD[n+12>>1]=xD[r+(o<<5)+4>>1]|0,CD[n>>2]=CD[r+(o<<5)+12>>2],CD[n+4>>2]=CD[r+(o<<5)+16>>2],(o|0)==(a+-1|0))break;o=o+1|0,n=n+20|0}else r=CD[t+160>>2]|0;return _P[CD[(CD[i>>2]|0)+20>>2]&31](i,s,17416,1497453121,r),17440}function Jf(t){t|=0;var e=0;return e=CD[t>>2]|0,e&&C_(t,e),e=CD[t+4>>2]|0,e&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+4>>2]=0,CD[t+8>>2]=-1,e=CD[t+32>>2]|0,e&&(TD[t+36>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+32>>2]=0),TD[t+36>>0]=1,CD[t+32>>2]=0,CD[t+24>>2]=0,CD[t+28>>2]=0,CD[t+16>>2]=0,(e=CD[t+52>>2]|0)&&TD[t+56>>0]|0?(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0),e=CD[t+32>>2]|0,TD[t+56>>0]=1,CD[t+52>>2]=0,CD[t+44>>2]=0,CD[t+48>>2]=0,e?(TD[t+36>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+32>>2]=0,TD[t+36>>0]=1,CD[t+32>>2]=0,CD[t+24>>2]=0,void(CD[t+28>>2]=0)):(TD[t+36>>0]=1,CD[t+32>>2]=0,CD[t+24>>2]=0,void(CD[t+28>>2]=0))):(TD[t+56>>0]=1,CD[t+52>>2]=0,CD[t+44>>2]=0,CD[t+48>>2]=0,TD[t+36>>0]=1,CD[t+32>>2]=0,CD[t+24>>2]=0,void(CD[t+28>>2]=0))}function Nf(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0;if(u=BD,BD=BD+32|0,(e|0)<0&&(e=CD[t+12>>2]|0),i=CD[t>>2]|0,!((e|0)>0&(i|0)!=0))return void(BD=u);for(;;){if(r=i+40|0,CD[r>>2]|0)for(h=0;;){if(c=(CD[t+16>>2]|0)>>>h&1,o=i+32|0,n=CD[o>>2]|0,n>>>0>i>>>0&&(a=(CD[n+40>>2]|0)==(i|0)&1,s=CD[n+36+((a^1)<<2)>>2]|0,l=CD[n+32>>2]|0,l?CD[l+36+(((CD[l+40>>2]|0)==(n|0)&1)<<2)>>2]=i:CD[t>>2]=i,CD[s+32>>2]=i,CD[n+32>>2]=i,CD[o>>2]=l,l=i+36|0,CD[n+36>>2]=CD[l>>2],CD[n+40>>2]=CD[r>>2],CD[(CD[l>>2]|0)+32>>2]=n,CD[(CD[r>>2]|0)+32>>2]=n,CD[i+36+(a<<2)>>2]=n,CD[i+36+((a^1)<<2)>>2]=s,CD[u>>2]=CD[n>>2],CD[u+4>>2]=CD[n+4>>2],CD[u+8>>2]=CD[n+8>>2],CD[u+12>>2]=CD[n+12>>2],CD[u+16>>2]=CD[n+16>>2],CD[u+20>>2]=CD[n+20>>2],CD[u+24>>2]=CD[n+24>>2],CD[u+28>>2]=CD[n+28>>2],CD[n>>2]=CD[i>>2],CD[n+4>>2]=CD[i+4>>2],CD[n+8>>2]=CD[i+8>>2],CD[n+12>>2]=CD[i+12>>2],CD[n+16>>2]=CD[i+16>>2],CD[n+20>>2]=CD[i+20>>2],CD[n+24>>2]=CD[i+24>>2],CD[n+28>>2]=CD[i+28>>2],CD[i>>2]=CD[u>>2],CD[i+4>>2]=CD[u+4>>2],CD[i+8>>2]=CD[u+8>>2],CD[i+12>>2]=CD[u+12>>2],CD[i+16>>2]=CD[u+16>>2],CD[i+20>>2]=CD[u+20>>2],CD[i+24>>2]=CD[u+24>>2],CD[i+28>>2]=CD[u+28>>2],i=n),i=CD[i+36+(c<<2)>>2]|0,r=i+40|0,!(CD[r>>2]|0))break;h=h+1&31}if(r=E_(t,i)|0?CD[t>>2]|0:0,A_(t,r,i),CD[t+16>>2]=(CD[t+16>>2]|0)+1,e=e+-1|0,!e)break;i=CD[t>>2]|0}BD=u}function Ff(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0;return D=BD,BD=BD+32|0,s=+RD[e+16>>2],a=+RD[e>>2],l=+RD[e+20>>2],n=+RD[e+4>>2],h=+RD[e+24>>2],o=+RD[e+8>>2],f=+RD[e+32>>2],y=+RD[e+36>>2],b=+RD[e+40>>2],x=(l-n)*(b-o)-(h-o)*(y-n),C=(h-o)*(f-a)-(s-a)*(b-o),E=(s-a)*(y-n)-(l-n)*(f-a),RD[D+16>>2]=x,RD[D+16+4>>2]=C,RD[D+16+8>>2]=E,RD[D+16+12>>2]=0,u=+RD[t+4>>2],_=+RD[t+8>>2],v=+RD[t+12>>2],A=x*u+C*_+E*v-(a*x+n*C+o*E),d=+RD[t+20>>2],m=+RD[t+24>>2],M=+RD[t+28>>2],A*(x*d+C*m+E*M-(a*x+n*C+o*E))>=0?void(BD=D):(w=CD[t+36>>2]|0,A<=0&(w&1|0)!=0?void(BD=D):(R=A/(A-(x*d+C*m+E*M-(a*x+n*C+o*E))),R<+RD[t+40>>2]?(T=(x*x+C*C+E*E)*-9999999747378752e-20,S=a-(d*R+u*(1-R)),g=n-(m*R+_*(1-R)),p=o-(M*R+v*(1-R)),c=s-(d*R+u*(1-R)),l-=m*R+_*(1-R),s=h-(M*R+v*(1-R)),E*(S*l-g*c)+(x*(g*s-p*l)+C*(p*c-S*s))>=T?(a=f-(d*R+u*(1-R)),n=y-(m*R+_*(1-R)),o=b-(M*R+v*(1-R)),E*(c*n-l*a)+(x*(l*o-s*n)+C*(s*a-c*o))>=T&&E*(g*a-S*n)+(x*(p*n-g*o)+C*(S*o-p*a))>=T?(o=1/+ND(+(x*x+C*C+E*E)),RD[D+16>>2]=x*o,RD[D+16+4>>2]=C*o,RD[D+16+8>>2]=E*o,e=CD[(CD[t>>2]|0)+12>>2]|0,A<=0&(w&2|0)==0?(RD[D>>2]=-(x*o),RD[D+4>>2]=-(C*o),RD[D+8>>2]=-(E*o),RD[D+12>>2]=0,R=+XP[e&3](t,D,R,i,r),RD[t+40>>2]=R,void(BD=D)):(R=+XP[e&3](t,D+16|0,R,i,r),RD[t+40>>2]=R,void(BD=D))):void(BD=D)):void(BD=D)):void(BD=D)))}function Gf(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0;return l=BD,BD=BD+672|0,CD[l+568+8>>2]=0,RD[l+568+12>>2]=1,RD[l+568+16>>2]=1,RD[l+568+20>>2]=1,RD[l+568+24>>2]=0,CD[l+568+52>>2]=0,CD[l+568>>2]=7584,CD[l+568+4>>2]=1,CD[l+568+56>>2]=CD[e>>2],CD[l+568+56+4>>2]=CD[e+4>>2],CD[l+568+56+8>>2]=CD[e+8>>2],CD[l+568+56+12>>2]=CD[e+12>>2],CD[l+568+72>>2]=CD[e+16>>2],CD[l+568+72+4>>2]=CD[e+16+4>>2],CD[l+568+72+8>>2]=CD[e+16+8>>2],CD[l+568+72+12>>2]=CD[e+16+12>>2],CD[l+568+88>>2]=CD[e+32>>2],CD[l+568+88+4>>2]=CD[e+32+4>>2],CD[l+568+88+8>>2]=CD[e+32+8>>2],CD[l+568+88+12>>2]=CD[e+32+12>>2],RD[l+568+44>>2]=+RD[t+204>>2],RD[l+208+308>>2]=9999999747378752e-20,TD[l+208+332>>0]=0,CD[l+200>>2]=19048,e=CD[t+4>>2]|0,CD[l+176>>2]=19312,CD[l+176+4>>2]=l+208,CD[l+176+8>>2]=l+200,CD[l+176+12>>2]=e,CD[l+176+16>>2]=l+568,CD[l+176+20>>2]=0,CD[l>>2]=7512,CD[l+168>>2]=0,RD[l+164>>2]=1,RD[l+172>>2]=+RD[t+208>>2],((Pv(l+176|0,t+8|0,t+72|0,t+136|0,t+136|0,l)|0?(o=+RD[l+132>>2],n=+RD[l+136>>2],a=+RD[l+140>>2],o*o+n*n+a*a>9999999747378752e-20):0)?(s=+RD[l+164>>2],s<+RD[t+200>>2]):0)&&(c=1/+ND(+(o*o+n*n+a*a)),RD[l+132>>2]=o*c,RD[l+136>>2]=n*c,RD[l+140>>2]=a*c,+kP[CD[(CD[t>>2]|0)+12>>2]&3](t,l+132|0,l+148|0,s,i,r)),CD[l+568>>2]=13336,(i=CD[l+568+52>>2]|0)?(gP[CD[CD[i>>2]>>2]&255](i),(i=CD[l+568+52>>2]|0)?(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0),void(BD=l)):void(BD=l)):void(BD=l)}function zf(t,e,i,r,o,n,a,s,l,c){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,c|=0;var h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0;x=BD,BD=BD+4256|0,b=((CD[i+4>>2]|0)+-17|0)>>>0<2?((CD[r+4>>2]|0)+-17|0)>>>0<2:0,t=0;do jf(),_=+RD[17616+(t<<4)>>2],m=+RD[17616+(t<<4)+4>>2],g=+RD[17616+(t<<4)+8>>2],M=+RD[o+4>>2]*-_+ +RD[o+20>>2]*-m+ +RD[o+36>>2]*-g,y=+RD[o+8>>2]*-_+ +RD[o+24>>2]*-m+ +RD[o+40>>2]*-g,RD[x+16+(t<<4)>>2]=+RD[o>>2]*-_+ +RD[o+16>>2]*-m+ +RD[o+32>>2]*-g,RD[x+16+(t<<4)+4>>2]=M,RD[x+16+(t<<4)+8>>2]=y,RD[x+16+(t<<4)+12>>2]=0,y=_*+RD[n+4>>2]+m*+RD[n+20>>2]+g*+RD[n+36>>2],M=_*+RD[n+8>>2]+m*+RD[n+24>>2]+g*+RD[n+40>>2],RD[x+1008+(t<<4)>>2]=_*+RD[n>>2]+m*+RD[n+16>>2]+g*+RD[n+32>>2],RD[x+1008+(t<<4)+4>>2]=y,RD[x+1008+(t<<4)+8>>2]=M,RD[x+1008+(t<<4)+12>>2]=0,t=t+1|0;while((t|0)!=42);if(t=MP[CD[(CD[i>>2]|0)+84>>2]&127](i)|0,(t|0)>0){for(u=0,d=42;;){if(QP[CD[(CD[i>>2]|0)+88>>2]&127](i,u,x+4240|0),y=+RD[x+4240>>2],M=+RD[x+4240+4>>2],g=+RD[x+4240+8>>2],m=y*+RD[o+16>>2]+M*+RD[o+20>>2]+g*+RD[o+24>>2],_=y*+RD[o+32>>2]+M*+RD[o+36>>2]+g*+RD[o+40>>2],RD[x+4240>>2]=+RD[o>>2]*y+ +RD[o+4>>2]*M+ +RD[o+8>>2]*g,RD[x+4240+4>>2]=m,RD[x+4240+8>>2]=_,RD[x+4240+12>>2]=0,jf(),p=17616+(d<<4)|0,CD[p>>2]=CD[x+4240>>2],CD[p+4>>2]=CD[x+4240+4>>2],CD[p+8>>2]=CD[x+4240+8>>2],CD[p+12>>2]=CD[x+4240+12>>2],_=+RD[x+4240>>2],m=+RD[x+4240+4>>2],g=+RD[x+4240+8>>2],M=+RD[o+4>>2]*-_+ +RD[o+20>>2]*-m+ +RD[o+36>>2]*-g,y=+RD[o+8>>2]*-_+ +RD[o+24>>2]*-m+ +RD[o+40>>2]*-g,RD[x+16+(d<<4)>>2]=+RD[o>>2]*-_+ +RD[o+16>>2]*-m+ +RD[o+32>>2]*-g,RD[x+16+(d<<4)+4>>2]=M,RD[x+16+(d<<4)+8>>2]=y,RD[x+16+(d<<4)+12>>2]=0,y=_*+RD[n+4>>2]+m*+RD[n+20>>2]+g*+RD[n+36>>2],M=_*+RD[n+8>>2]+m*+RD[n+24>>2]+g*+RD[n+40>>2],RD[x+1008+(d<<4)>>2]=+RD[n>>2]*_+ +RD[n+16>>2]*m+ +RD[n+32>>2]*g,RD[x+1008+(d<<4)+4>>2]=y,RD[x+1008+(d<<4)+8>>2]=M,RD[x+1008+(d<<4)+12>>2]=0,(u|0)==(t+-1|0))break;u=u+1|0,d=d+1|0}t=t+42|0}else t=42;if(d=MP[CD[(CD[r>>2]|0)+84>>2]&127](r)|0,(d|0)>0){for(u=0,p=t;;){if(QP[CD[(CD[r>>2]|0)+88>>2]&127](r,u,x),y=+RD[x>>2],M=+RD[x+4>>2],g=+RD[x+8>>2],m=y*+RD[n+16>>2]+M*+RD[n+20>>2]+g*+RD[n+24>>2],_=y*+RD[n+32>>2]+M*+RD[n+36>>2]+g*+RD[n+40>>2],RD[x>>2]=+RD[n>>2]*y+ +RD[n+4>>2]*M+ +RD[n+8>>2]*g,RD[x+4>>2]=m,RD[x+8>>2]=_,RD[x+12>>2]=0,jf(),C=17616+(p<<4)|0,CD[C>>2]=CD[x>>2],CD[C+4>>2]=CD[x+4>>2],CD[C+8>>2]=CD[x+8>>2],CD[C+12>>2]=CD[x+12>>2],_=+RD[x>>2],m=+RD[x+4>>2],g=+RD[x+8>>2],M=+RD[o+4>>2]*-_+ +RD[o+20>>2]*-m+ +RD[o+36>>2]*-g,y=+RD[o+8>>2]*-_+ +RD[o+24>>2]*-m+ +RD[o+40>>2]*-g,RD[x+16+(p<<4)>>2]=+RD[o>>2]*-_+ +RD[o+16>>2]*-m+ +RD[o+32>>2]*-g,RD[x+16+(p<<4)+4>>2]=M,RD[x+16+(p<<4)+8>>2]=y,RD[x+16+(p<<4)+12>>2]=0,y=_*+RD[n+4>>2]+m*+RD[n+20>>2]+g*+RD[n+36>>2],M=_*+RD[n+8>>2]+m*+RD[n+24>>2]+g*+RD[n+40>>2],RD[x+1008+(p<<4)>>2]=+RD[n>>2]*_+ +RD[n+16>>2]*m+ +RD[n+32>>2]*g,RD[x+1008+(p<<4)+4>>2]=y,RD[x+1008+(p<<4)+8>>2]=M,RD[x+1008+(p<<4)+12>>2]=0,(u|0)==(d+-1|0))break;u=u+1|0,p=p+1|0}t=d+t|0}if(eB[CD[(CD[i>>2]|0)+76>>2]&127](i,x+16|0,x+3248|0,t),eB[CD[(CD[r>>2]|0)+76>>2]&127](r,x+1008|0,x+2080|0,t),(t|0)>0)if(p=t+-1|0,b)for(v=0,y=0,m=0,b=0,_=0xde0b6b000000000;;){if(jf(),g=+RD[17616+(b<<4)>>2],h=+RD[17616+(b<<4)+4>>2],f=+RD[17616+(b<<4)+12>>2],(g*g+h*h+0>.01?(M=+RD[x+3248+(b<<4)>>2],T=+RD[x+3248+(b<<4)+4>>2],S=+RD[x+3248+(b<<4)+8>>2],w=+RD[x+2080+(b<<4)>>2],A=+RD[x+2080+(b<<4)+4>>2],E=+RD[x+2080+(b<<4)+8>>2],S=g*(w*+RD[n>>2]+A*+RD[n+4>>2]+E*+RD[n+8>>2]+ +RD[n+48>>2]-(M*+RD[o>>2]+T*+RD[o+4>>2]+S*+RD[o+8>>2]+ +RD[o+48>>2]))+h*(w*+RD[n+16>>2]+A*+RD[n+20>>2]+E*+RD[n+24>>2]+ +RD[n+52>>2]-(M*+RD[o+16>>2]+T*+RD[o+20>>2]+S*+RD[o+24>>2]+ +RD[o+52>>2]))+0,S<_):0)?(m=g,_=S):(f=m,h=y,m=v),(b|0)==(p|0)){g=f,y=0,v=h;break}v=m,y=h,m=f,b=b+1|0}else for(S=0,M=0,h=0,f=0,b=0,_=0xde0b6b000000000;;){if(jf(),m=+RD[17616+(b<<4)>>2],v=+RD[17616+(b<<4)+4>>2],y=+RD[17616+(b<<4)+8>>2],g=+RD[17616+(b<<4)+12>>2],(m*m+v*v+y*y>.01?(E=+RD[x+3248+(b<<4)>>2],A=+RD[x+3248+(b<<4)+4>>2],T=+RD[x+3248+(b<<4)+8>>2],D=+RD[x+2080+(b<<4)>>2],R=+RD[x+2080+(b<<4)+4>>2],w=+RD[x+2080+(b<<4)+8>>2],T=m*(D*+RD[n>>2]+R*+RD[n+4>>2]+w*+RD[n+8>>2]+ +RD[n+48>>2]-(E*+RD[o>>2]+A*+RD[o+4>>2]+T*+RD[o+8>>2]+ +RD[o+48>>2]))+v*(D*+RD[n+16>>2]+R*+RD[n+20>>2]+w*+RD[n+24>>2]+ +RD[n+52>>2]-(E*+RD[o+16>>2]+A*+RD[o+20>>2]+T*+RD[o+24>>2]+ +RD[o+52>>2]))+y*(D*+RD[n+32>>2]+R*+RD[n+36>>2]+w*+RD[n+40>>2]+ +RD[n+56>>2]-(E*+RD[o+32>>2]+A*+RD[o+36>>2]+T*+RD[o+40>>2]+ +RD[o+56>>2])),T<_):0)?(f=v,_=T):(g=f,y=h,f=M,m=S),(b|0)==(p|0)){v=f;break}S=m,M=f,h=y,f=g,b=b+1|0}else g=0,y=0,v=0,m=0,_=0xde0b6b000000000;switch(CD[i+4>>2]|0){case 4:case 5:case 10:case 11:case 13:case 1:case 0:case 8:break;default:+VP[CD[(CD[i>>2]|0)+48>>2]&15](i)}switch(CD[r+4>>2]|0){case 4:case 5:case 10:case 11:case 13:case 1:case 0:case 8:break;default:+VP[CD[(CD[r>>2]|0)+48>>2]&15](r)}if(_<0)return l=0,BD=x,l|0;switch(CD[i+4>>2]|0){case 13:h=+RD[i+44>>2];break;case 11:h=+RD[i+44>>2];break;case 10:h=+RD[i+44>>2];break;case 4:case 5:h=+RD[i+44>>2];break;case 8:h=+RD[i+28>>2]*+RD[i+12>>2];break;case 0:h=+RD[i+44>>2];break;case 1:h=+RD[i+44>>2];break;default:h=+VP[CD[(CD[i>>2]|0)+48>>2]&15](i)}switch(p=CD[r+4>>2]|0,p|0){case 8:f=+RD[r+28>>2]*+RD[r+12>>2],p=8;break;case 0:f=+RD[r+44>>2],p=0;break;case 1:f=+RD[r+44>>2],p=1;break;case 13:f=+RD[r+44>>2],p=13;break;case 11:f=+RD[r+44>>2],p=11;break;case 10:f=+RD[r+44>>2],p=10;break;case 4:case 5:f=+RD[r+44>>2];break;default:f=+VP[CD[(CD[r>>2]|0)+48>>2]&15](r),p=CD[r+4>>2]|0}return h=_+(h+f+.5),CD[x+2e3>>2]=19400,RD[x+2e3+4>>2]=0,RD[x+2e3+8>>2]=1,RD[x+2e3+12>>2]=0,RD[x+2e3+16>>2]=0,CD[x+2e3+20>>2]=0,CD[x+2e3+24>>2]=e,CD[x+2e3+28>>2]=i,CD[x+2e3+32>>2]=r,CD[x+2e3+36>>2]=CD[i+4>>2],CD[x+2e3+40>>2]=p,T=+VP[CD[(CD[i>>2]|0)+48>>2]&15](i),RD[x+2e3+44>>2]=T,T=+VP[CD[(CD[r>>2]|0)+48>>2]&15](r),RD[x+2e3+48>>2]=T,TD[x+2e3+52>>0]=0,CD[x+2e3+60>>2]=-1,CD[x+2e3+72>>2]=1,CD[x+2e3+76>>2]=1,T=+RD[o+48>>2]+m*h,E=v*h+ +RD[o+52>>2],A=y*h+ +RD[o+56>>2],CD[x+3116>>2]=CD[o>>2],CD[x+3116+4>>2]=CD[o+4>>2],CD[x+3116+8>>2]=CD[o+8>>2],CD[x+3116+12>>2]=CD[o+12>>2],CD[x+3116+16>>2]=CD[o+16>>2],CD[x+3116+16+4>>2]=CD[o+16+4>>2],CD[x+3116+16+8>>2]=CD[o+16+8>>2],CD[x+3116+16+12>>2]=CD[o+16+12>>2],CD[x+3116+32>>2]=CD[o+32>>2],CD[x+3116+32+4>>2]=CD[o+32+4>>2],CD[x+3116+32+8>>2]=CD[o+32+8>>2],CD[x+3116+32+12>>2]=CD[o+32+12>>2],RD[x+3116+48>>2]=T,RD[x+3116+52>>2]=E,RD[x+3116+56>>2]=A,RD[x+3116+60>>2]=0,CD[x+3116+64>>2]=CD[n>>2],CD[x+3116+64+4>>2]=CD[n+4>>2],CD[x+3116+64+8>>2]=CD[n+8>>2],CD[x+3116+64+12>>2]=CD[n+12>>2],CD[x+3116+80>>2]=CD[n+16>>2],CD[x+3116+80+4>>2]=CD[n+16+4>>2],CD[x+3116+80+8>>2]=CD[n+16+8>>2],CD[x+3116+80+12>>2]=CD[n+16+12>>2],CD[x+3116+96>>2]=CD[n+32>>2],CD[x+3116+96+4>>2]=CD[n+32+4>>2],CD[x+3116+96+8>>2]=CD[n+32+8>>2],CD[x+3116+96+12>>2]=CD[n+32+12>>2],CD[x+3116+112>>2]=CD[n+48>>2],CD[x+3116+112+4>>2]=CD[n+48+4>>2],CD[x+3116+112+8>>2]=CD[n+48+8>>2],CD[x+3116+112+12>>2]=CD[n+48+12>>2],RD[x+3116+128>>2]=0xde0b6b000000000,CD[x+3072>>2]=18752,TD[x+3072+40>>0]=0,RD[x+2e3+4>>2]=-m,RD[x+2e3+8>>2]=-v,RD[x+2e3+12>>2]=-y,RD[x+2e3+16>>2]=0,Bv(x+2e3|0,x+3116|0,x+3072|0,c,0),h-=+RD[x+3072+36>>2],t=TD[x+3072+40>>0]|0,t<<24>>24&&(n=x+3072+20|0,E=+RD[x+3072+24>>2]-v*h,A=+RD[x+3072+28>>2]-y*h,RD[s>>2]=+RD[n>>2]-m*h,RD[s+4>>2]=E,RD[s+8>>2]=A,RD[s+12>>2]=0,CD[l>>2]=CD[n>>2],CD[l+4>>2]=CD[n+4>>2],CD[l+8>>2]=CD[n+8>>2],CD[l+12>>2]=CD[n+12>>2],RD[a>>2]=m,RD[a+4>>2]=v,RD[a+8>>2]=y,RD[a+12>>2]=g),l=t<<24>>24!=0,BD=x,l|0}function jf(){TD[18608]|0||KD(18608)|0&&(RD[4404]=0,RD[4405]=-0,RD[4406]=-1,RD[4407]=0,RD[4408]=.7236080169677734,RD[4409]=-.5257250070571899,RD[4410]=-.44721901416778564,RD[4411]=0,RD[4412]=-.2763879895210266,RD[4413]=-.8506489992141724,RD[4414]=-.44721901416778564,RD[4415]=0,RD[4416]=-.8944259881973267,RD[4417]=-0,RD[4418]=-.4472160041332245,RD[4419]=0,RD[4420]=-.2763879895210266,RD[4421]=.8506489992141724,RD[4422]=-.44721999764442444,RD[4423]=0,RD[4424]=.7236080169677734,RD[4425]=.5257250070571899,RD[4426]=-.44721901416778564,RD[4427]=0,RD[4428]=.2763879895210266,RD[4429]=-.8506489992141724,RD[4430]=.44721999764442444,RD[4431]=0,RD[4432]=-.7236080169677734,RD[4433]=-.5257250070571899,RD[4434]=.44721901416778564,RD[4435]=0,RD[4436]=-.7236080169677734,RD[4437]=.5257250070571899,RD[4438]=.44721901416778564,RD[4439]=0,RD[4440]=.2763879895210266,RD[4441]=.8506489992141724,RD[4442]=.44721901416778564,RD[4443]=0,RD[4444]=.8944259881973267,RD[4445]=0,RD[4446]=.4472160041332245,RD[4447]=0,RD[4448]=-0,RD[4449]=0,RD[4450]=1,RD[4451]=0,RD[4452]=.4253230094909668,RD[4453]=-.3090110123157501,RD[4454]=-.8506540060043335,RD[4455]=0,RD[4456]=-.16245600581169128,RD[4457]=-.49999499320983887,RD[4458]=-.8506540060043335,RD[4459]=0,RD[4460]=.2628690004348755,RD[4461]=-.8090119957923889,RD[4462]=-.525738000869751,RD[4463]=0,RD[4464]=.4253230094909668,RD[4465]=.3090110123157501,RD[4466]=-.8506540060043335,RD[4467]=0,RD[4468]=.8506479859352112,RD[4469]=-0,RD[4470]=-.5257359743118286,RD[4471]=0,RD[4472]=-.5257300138473511,RD[4473]=-0,RD[4474]=-.8506519794464111,RD[4475]=0,RD[4476]=-.6881899833679199,RD[4477]=-.49999698996543884,RD[4478]=-.5257359743118286,RD[4479]=0,RD[4480]=-.16245600581169128,RD[4481]=.49999499320983887,RD[4482]=-.8506540060043335,RD[4483]=0,RD[4484]=-.6881899833679199,RD[4485]=.49999698996543884,RD[4486]=-.5257359743118286,RD[4487]=0,RD[4488]=.2628690004348755,RD[4489]=.8090119957923889,RD[4490]=-.525738000869751,RD[4491]=0,RD[4492]=.9510579705238342,RD[4493]=.3090130090713501,RD[4494]=0,RD[4495]=0,RD[4496]=.9510579705238342,RD[4497]=-.3090130090713501,RD[4498]=0,RD[4499]=0,RD[4500]=.5877860188484192,RD[4501]=-.80901700258255,RD[4502]=0,RD[4503]=0,RD[4504]=0,RD[4505]=-1,RD[4506]=0,RD[4507]=0,RD[4508]=-.5877860188484192,RD[4509]=-.80901700258255,RD[4510]=0,RD[4511]=0,RD[4512]=-.9510579705238342,RD[4513]=-.3090130090713501,RD[4514]=-0,RD[4515]=0,RD[4516]=-.9510579705238342,RD[4517]=.3090130090713501,RD[4518]=-0,RD[4519]=0,RD[4520]=-.5877860188484192,RD[4521]=.80901700258255,RD[4522]=-0,RD[4523]=0,RD[4524]=-0,RD[4525]=1,RD[4526]=-0,RD[4527]=0,RD[4528]=.5877860188484192,RD[4529]=.80901700258255,RD[4530]=-0,RD[4531]=0,RD[4532]=.6881899833679199,RD[4533]=-.49999698996543884,RD[4534]=.5257359743118286,RD[4535]=0,RD[4536]=-.2628690004348755,RD[4537]=-.8090119957923889,RD[4538]=.525738000869751,RD[4539]=0,RD[4540]=-.8506479859352112,RD[4541]=0,RD[4542]=.5257359743118286,RD[4543]=0,RD[4544]=-.2628690004348755,RD[4545]=.8090119957923889,RD[4546]=.525738000869751,RD[4547]=0,RD[4548]=.6881899833679199,RD[4549]=.49999698996543884,RD[4550]=.5257359743118286,RD[4551]=0,RD[4552]=.5257300138473511,RD[4553]=0,RD[4554]=.8506519794464111,RD[4555]=0,RD[4556]=.16245600581169128,RD[4557]=-.49999499320983887,RD[4558]=.8506540060043335,RD[4559]=0,RD[4560]=-.4253230094909668,RD[4561]=-.3090110123157501,RD[4562]=.8506540060043335,RD[4563]=0,RD[4564]=-.4253230094909668,RD[4565]=.3090110123157501,RD[4566]=.8506540060043335,RD[4567]=0,RD[4568]=.16245600581169128,RD[4569]=.49999499320983887,RD[4570]=.8506540060043335,RD[4571]=0,QD(18608))}function Uf(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0;var a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0,N=0,F=0,G=0,z=0,j=0,U=0,W=0,X=0,q=0,K=0,Y=0,Q=0,Z=0,$=0,te=0,ee=0;te=BD,BD=BD+128|0,B=CD[t+4>>2]|0,TD[B+312>>0]=0,CD[B>>2]=0,TD[B+356>>0]=1,RD[B+292>>2]=0xde0b6b000000000,RD[B+296>>2]=0xde0b6b000000000,RD[B+300>>2]=0xde0b6b000000000,RD[B+304>>2]=0,CD[B+336>>2]=0,CD[B+336+4>>2]=0,CD[B+336+8>>2]=0,CD[B+336+12>>2]=0,TD[B+336+16>>0]=0,TD[B+332>>0]=TD[B+332>>0]&-16,p=+RD[e+48>>2],h=+RD[e+52>>2],c=+RD[e+56>>2],l=+RD[r+48>>2],d=+RD[r+52>>2],s=+RD[r+56>>2],V=+RD[e>>2],L=+RD[e+4>>2],k=+RD[e+8>>2],H=+RD[e+16>>2],I=+RD[e+20>>2],O=+RD[e+24>>2],J=+RD[e+32>>2],N=+RD[e+36>>2],F=+RD[e+40>>2],G=+RD[r>>2],z=+RD[r+4>>2],j=+RD[r+8>>2],U=+RD[r+16>>2],W=+RD[r+20>>2],X=+RD[r+24>>2],q=+RD[r+32>>2],K=+RD[r+36>>2],Y=+RD[r+40>>2],Q=+RD[i+48>>2]-p-(+RD[o+48>>2]-l),Z=+RD[i+52>>2]-h-(+RD[o+52>>2]-d),$=+RD[i+56>>2]-c-(+RD[o+56>>2]-s),B=CD[t+8>>2]|0,a=CD[(CD[B>>2]|0)+64>>2]|0,RD[te+64>>2]=V*-Q+H*-Z+J*-$,RD[te+64+4>>2]=L*-Q+I*-Z+N*-$,RD[te+64+8>>2]=k*-Q+O*-Z+F*-$,RD[te+64+12>>2]=0,QP[a&127](te+16|0,B,te+64|0),w=+RD[te+16>>2],R=+RD[te+16+4>>2],A=+RD[te+16+8>>2],f=w*+RD[e>>2]+R*+RD[e+4>>2]+A*+RD[e+8>>2]+ +RD[e+48>>2],m=w*+RD[e+16>>2]+R*+RD[e+20>>2]+A*+RD[e+24>>2]+ +RD[e+52>>2],A=w*+RD[e+32>>2]+R*+RD[e+36>>2]+A*+RD[e+40>>2]+ +RD[e+56>>2],B=CD[t+12>>2]|0,a=CD[(CD[B>>2]|0)+64>>2]|0,R=Q*+RD[r+4>>2]+Z*+RD[r+20>>2]+$*+RD[r+36>>2],w=Q*+RD[r+8>>2]+Z*+RD[r+24>>2]+$*+RD[r+40>>2],RD[te+80>>2]=Q*+RD[r>>2]+Z*+RD[r+16>>2]+$*+RD[r+32>>2],RD[te+80+4>>2]=R,RD[te+80+8>>2]=w,RD[te+80+12>>2]=0,QP[a&127](te+32|0,B,te+80|0),w=+RD[te+32>>2],R=+RD[te+32+4>>2],_=+RD[te+32+8>>2],f-=w*+RD[r>>2]+R*+RD[r+4>>2]+_*+RD[r+8>>2]+ +RD[r+48>>2],m-=w*+RD[r+16>>2]+R*+RD[r+20>>2]+_*+RD[r+24>>2]+ +RD[r+52>>2],_=A-(w*+RD[r+32>>2]+R*+RD[r+36>>2]+_*+RD[r+40>>2]+ +RD[r+56>>2]);t:do if(f*f+m*m+_*_>9999999747378752e-20){for(x=p,C=h,T=c,S=d,M=s,s=0,d=0,p=0,v=0,c=0,B=32,h=0;;){if(!B){h=v;break t}if(B=B+-1|0,a=CD[t+8>>2]|0,b=CD[(CD[a>>2]|0)+64>>2]|0,w=-f,ee=-m,g=-_,RD[te>>2]=V*w+H*ee+J*g,RD[te+4>>2]=L*w+I*ee+N*g,RD[te+8>>2]=k*w+O*ee+F*g,RD[te+12>>2]=0,QP[b&127](te+112|0,a,te),g=+RD[te+112>>2],ee=+RD[te+112+4>>2],w=+RD[te+112+8>>2],E=x+(V*g+L*ee+k*w),A=C+(H*g+I*ee+O*w),w=T+(J*g+N*ee+F*w),a=CD[t+12>>2]|0,b=CD[(CD[a>>2]|0)+64>>2]|0,RD[te+96>>2]=G*f+U*m+q*_,RD[te+96+4>>2]=z*f+W*m+K*_,RD[te+96+8>>2]=j*f+X*m+Y*_,RD[te+96+12>>2]=0,QP[b&127](te+48|0,a,te+96|0),ee=+RD[te+48>>2],g=+RD[te+48+4>>2],P=+RD[te+48+8>>2],R=l+(G*ee+z*g+j*P),D=S+(U*ee+W*g+X*P),P=M+(q*ee+K*g+Y*P),g=f*(E-R)+m*(A-D)+_*(w-P),c>1){a=0,u=23;break}if(g>0){if(p=Q*f+Z*m+$*_,p>=-1.4210854715202004e-14){a=0,u=23;break}c-=g/p,T=(1-c)*+RD[e+56>>2]+c*+RD[i+56>>2],C=(1-c)*+RD[e+52>>2]+c*+RD[i+52>>2],x=+RD[e+48>>2]*(1-c)+c*+RD[i+48>>2],M=(1-c)*+RD[r+56>>2]+c*+RD[o+56>>2],S=(1-c)*+RD[r+52>>2]+c*+RD[o+52>>2],l=(1-c)*+RD[r+48>>2]+c*+RD[o+48>>2],p=_,d=m,s=f}else h=v;if(y=CD[t+4>>2]|0,b=CD[y>>2]|0,(b|0)>0)for(g=+RD[y+308>>2],a=0,u=0;;){if(ee=E-R-+RD[y+4+(u<<4)>>2],_=A-D-+RD[y+4+(u<<4)+4>>2],m=w-P-+RD[y+4+(u<<4)+8>>2],a|=ee*ee+_*_+m*m<=g,(u|0)==(b+-1|0))break;u=u+1|0}else a=0;if(u=((+RD[y+304>>2]==0?w-P==+RD[y+300>>2]:0)?A-D==+RD[y+296>>2]:0)?E-R==+RD[y+292>>2]:0,a|u||(RD[y+292>>2]=E-R,RD[y+296>>2]=A-D,RD[y+300>>2]=w-P,RD[y+304>>2]=0,TD[y+356>>0]=1,RD[y+4+(b<<4)>>2]=E-R,RD[y+4+(b<<4)+4>>2]=A-D,RD[y+4+(b<<4)+8>>2]=w-P,RD[y+4+(b<<4)+12>>2]=0,a=CD[y>>2]|0,RD[y+84+(a<<4)>>2]=E,RD[y+84+(a<<4)+4>>2]=A,RD[y+84+(a<<4)+8>>2]=w,RD[y+84+(a<<4)+12>>2]=0,a=CD[y>>2]|0,RD[y+164+(a<<4)>>2]=R,RD[y+164+(a<<4)+4>>2]=D,RD[y+164+(a<<4)+8>>2]=P,RD[y+164+(a<<4)+12>>2]=0,CD[y>>2]=(CD[y>>2]|0)+1,y=CD[t+4>>2]|0),a=Lv(y)|0,f=+RD[y+276>>2],m=+RD[y+280>>2],_=+RD[y+284>>2],!a)break t;if(!(f*f+m*m+_*_>9999999747378752e-20))break t;v=h,h=+RD[y+288>>2]}if((u|0)==23)return BD=te,a|0}else h=0,p=0,d=0,s=0,c=0;while(0);return RD[n+164>>2]=c,l=p*p+(d*d+s*s),l>=1.4210854715202004e-14?(Y=1/+ND(+l),c=p*Y,l=d*Y,s*=Y):(h=0,c=0,l=0,s=0),RD[n+132>>2]=s,RD[n+136>>2]=l,RD[n+140>>2]=c,RD[n+144>>2]=h,Q*s+Z*l+$*c>=-+RD[n+172>>2]?(t=0,BD=te,t|0):(t=CD[t+4>>2]|0,Lv(t)|0,Hw(n+148|0,t+260|0,16)|0,t=1,BD=te,t|0)}function Wf(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0,N=0,F=0,G=0,z=0,j=0,U=0,W=0,X=0,q=0,K=0,Y=0,Q=0,Z=0;if(J=CD[r>>2]|0,Z=CD[o>>2]|0,n=J?CD[J+12>>2]|0:e,a=CD[n+88>>2]|0,u=CD[n+92>>2]|0,s=CD[n+96>>2]|0,n=Z?CD[Z+12>>2]|0:i,w=CD[n+88>>2]|0,p=CD[n+92>>2]|0,f=CD[n+96>>2]|0,W=CD[e+88>>2]|0,Y=(CD[i+88>>2]|0)-W|0,E=CD[e+92>>2]|0,Q=(CD[i+92>>2]|0)-E|0,K=CD[e+96>>2]|0,z=(CD[i+96>>2]|0)-K|0,U=CD[((J|0)!=0?J:Z)+12>>2]|0,X=(CD[U+88>>2]|0)-W|0,O=(CD[U+92>>2]|0)-E|0,U=(CD[U+96>>2]|0)-K|0,j=(XD(O,z)|0)-(XD(U,Q)|0)|0,U=(XD(U,Y)|0)-(XD(X,z)|0)|0,O=(XD(X,Q)|0)-(XD(O,Y)|0)|0,W=Jw(j|0,((j|0)<0)<<31>>31|0,W|0,((W|0)<0)<<31>>31|0)|0,X=OD,E=Jw(U|0,((U|0)<0)<<31>>31|0,E|0,((E|0)<0)<<31>>31|0)|0,A=OD,i=Jw(O|0,((O|0)<0)<<31>>31|0,K|0,((K|0)<0)<<31>>31|0)|0,i=Lw(W|0,X|0,i|0,OD|0)|0,A=Lw(i|0,OD|0,E|0,A|0)|0,E=OD,i=Jw(O|0,((O|0)<0)<<31>>31|0,Q|0,((Q|0)<0)<<31>>31|0)|0,X=OD,W=Jw(U|0,((U|0)<0)<<31>>31|0,z|0,((z|0)<0)<<31>>31|0)|0,W=Pw(i|0,X|0,W|0,OD|0)|0,X=OD,i=Jw(j|0,((j|0)<0)<<31>>31|0,z|0,((z|0)<0)<<31>>31|0)|0,K=OD,q=Jw(O|0,((O|0)<0)<<31>>31|0,Y|0,((Y|0)<0)<<31>>31|0)|0,q=Pw(i|0,K|0,q|0,OD|0)|0,K=OD,i=Jw(U|0,((U|0)<0)<<31>>31|0,Y|0,((Y|0)<0)<<31>>31|0)|0,G=OD,F=Jw(j|0,((j|0)<0)<<31>>31|0,Q|0,((Q|0)<0)<<31>>31|0)|0,F=Pw(i|0,G|0,F|0,OD|0)|0,G=OD,i=Jw(W|0,X|0,a|0,((a|0)<0)<<31>>31|0)|0,I=OD,e=Jw(q|0,K|0,u|0,((u|0)<0)<<31>>31|0)|0,I=Lw(e|0,OD|0,i|0,I|0)|0,i=OD,e=Jw(F|0,G|0,s|0,((s|0)<0)<<31>>31|0)|0,e=Lw(I|0,i|0,e|0,OD|0)|0,i=OD,(J|0)!=0?(CD[J+12>>2]|0)!=0:0){for(_=J,g=i,h=a;;){if(_=CD[(CD[_+8>>2]|0)+4>>2]|0,c=_+12|0,a=CD[c>>2]|0,i=CD[a+88>>2]|0,H=Jw(i|0,((i|0)<0)<<31>>31|0,j|0,((j|0)<0)<<31>>31|0)|0,k=OD,n=CD[a+92>>2]|0,I=Jw(n|0,((n|0)<0)<<31>>31|0,U|0,((U|0)<0)<<31>>31|0)|0,k=Lw(I|0,OD|0,H|0,k|0)|0,H=OD,a=CD[a+96>>2]|0,I=Jw(a|0,((a|0)<0)<<31>>31|0,O|0,((O|0)<0)<<31>>31|0)|0,I=Lw(k|0,H|0,I|0,OD|0)|0,H=OD,(H|0)<(E|0)|(H|0)==(E|0)&I>>>0<A>>>0){n=u,a=h,i=g;break}if((CD[_+20>>2]|0)==(CD[t+100>>2]|0)){n=u,a=h,i=g;break}if(i=Jw(i|0,((i|0)<0)<<31>>31|0,W|0,X|0)|0,I=OD,d=Jw(n|0,((n|0)<0)<<31>>31|0,q|0,K|0)|0,I=Lw(d|0,OD|0,i|0,I|0)|0,i=OD,d=Jw(a|0,((a|0)<0)<<31>>31|0,F|0,G|0)|0,d=Lw(I|0,i|0,d|0,OD|0)|0,i=OD,!((i|0)>(g|0)|(i|0)==(g|0)&d>>>0>e>>>0)){n=u,a=h,i=g;break}if(CD[r>>2]=_,I=CD[c>>2]|0,a=CD[I+88>>2]|0,n=CD[I+92>>2]|0,s=CD[I+96>>2]|0,!I){e=d;break}g=i,e=d,h=a,u=n}_=CD[o>>2]|0}else _=Z,n=u;c=Jw(W|0,X|0,w|0,((w|0)<0)<<31>>31|0)|0,I=OD,l=Jw(q|0,K|0,p|0,((p|0)<0)<<31>>31|0)|0,I=Lw(l|0,OD|0,c|0,I|0)|0,c=OD,l=Jw(F|0,G|0,f|0,((f|0)<0)<<31>>31|0)|0,l=Lw(I|0,c|0,l|0,OD|0)|0,c=OD;t:do if(_)if(CD[_+12>>2]|0)for(m=_,g=w;;){if(_=CD[CD[m+8>>2]>>2]|0,d=CD[_+12>>2]|0,h=CD[d+88>>2]|0,H=Jw(h|0,((h|0)<0)<<31>>31|0,j|0,((j|0)<0)<<31>>31|0)|0,k=OD,u=CD[d+92>>2]|0,I=Jw(u|0,((u|0)<0)<<31>>31|0,U|0,((U|0)<0)<<31>>31|0)|0,k=Lw(I|0,OD|0,H|0,k|0)|0,H=OD,d=CD[d+96>>2]|0,I=Jw(d|0,((d|0)<0)<<31>>31|0,O|0,((O|0)<0)<<31>>31|0)|0,I=Lw(k|0,H|0,I|0,OD|0)|0,H=OD,(H|0)<(E|0)|(H|0)==(E|0)&I>>>0<A>>>0){_=m,I=g;break t}if((CD[_+20>>2]|0)==(CD[t+100>>2]|0)){_=m,I=g;break t}if(H=Jw(h|0,((h|0)<0)<<31>>31|0,W|0,X|0)|0,I=OD,u=Jw(u|0,((u|0)<0)<<31>>31|0,q|0,K|0)|0,I=Lw(u|0,OD|0,H|0,I|0)|0,u=OD,d=Jw(d|0,((d|0)<0)<<31>>31|0,F|0,G|0)|0,d=Lw(I|0,u|0,d|0,OD|0)|0,u=OD,!((u|0)>(c|0)|(u|0)==(c|0)&d>>>0>l>>>0)){_=m,I=g;break t}if(CD[o>>2]=_,I=CD[_+12>>2]|0,h=CD[I+88>>2]|0,p=CD[I+92>>2]|0,f=CD[I+96>>2]|0,!I){l=d,c=u,I=h;break}m=_,c=u,l=d,g=h}else I=w;else _=0,I=w;while(0);if(H=Pw(l|0,c|0,e|0,i|0)|0,c=OD,(c|0)>0|(c|0)==0&H>>>0>0){L=Pw(0,0,O|0,((O|0)<0)<<31>>31|0)|0,k=OD,P=s,B=n,V=a,h=f,u=p,d=I,i=H,l=c;t:for(;;){D=l;e:for(;;){R=(XD(u-B|0,Q)|0)+(XD(h-P|0,z)|0)+(XD(d-V|0,Y)|0)|0,l=CD[r>>2]|0;do if(((l|0)!=0?(CD[l+12>>2]|0)!=0:0)?(N=CD[(CD[l>>2]|0)+8>>2]|0,(CD[N+20>>2]|0)>(CD[t+100>>2]|0)):0){if(A=CD[N+12>>2]|0,e=CD[A+88>>2]|0,w=e-V|0,E=CD[A+92>>2]|0,C=E-B|0,A=CD[A+96>>2]|0,g=A-P|0,m=Jw(w|0,((w|0)<0)<<31>>31|0,W|0,X|0)|0,x=OD,b=Jw(C|0,((C|0)<0)<<31>>31|0,q|0,K|0)|0,x=Lw(b|0,OD|0,m|0,x|0)|0,m=OD,b=Jw(g|0,((g|0)<0)<<31>>31|0,F|0,G|0)|0,b=Lw(x|0,m|0,b|0,OD|0)|0,m=OD,g=(XD(C,Q)|0)+(XD(w,Y)|0)+(XD(g,z)|0)|0,(b|0)==0&(m|0)==0){if((g|0)<0)break e;break}if((m|0)<0&&((g|0)>0?(y=1,w=g,C=((g|0)<0)<<31>>31):(w=Pw(0,0,g|0,((g|0)<0)<<31>>31|0)|0,y=(g|0)<0?-1:0,w=(g|0)<0?w:0,C=(g|0)<0?OD:0),x=0-y|0,T=Pw(0,0,b|0,m|0)|0,S=OD,(R|0)>0?(v=1,b=1,y=R,g=((R|0)<0)<<31>>31):(y=Pw(0,0,R|0,((R|0)<0)<<31>>31|0)|0,v=(R|0)<0?-1:0,b=(R|0)<0?-1:0,y=(R|0)<0?y:0,g=(R|0)<0?OD:0),(D|0)>0|(D|0)==0&i>>>0>0?(M=i,b=D):(D|0)<0?(M=Pw(0,0,i|0,D|0)|0,v=0-b|0,b=OD):(M=0,b=0),(hM(w,C,T,S,x,y,g,M,b,v)|0)>-1))break e}while(0);if(l=CD[o>>2]|0,!l){i=89;break t}if(!(CD[l+12>>2]|0)){i=89;break t}if(w=CD[CD[l+8>>2]>>2]|0,(CD[w+20>>2]|0)<=(CD[t+100>>2]|0)){i=89;break t}if(m=CD[w+12>>2]|0,y=CD[m+88>>2]|0,g=y-d|0,l=CD[m+92>>2]|0,u=l-u|0,m=CD[m+96>>2]|0,d=m-h|0,A=Jw(g|0,((g|0)<0)<<31>>31|0,j|0,((j|0)<0)<<31>>31|0)|0,C=OD,E=Jw(u|0,((u|0)<0)<<31>>31|0,U|0,((U|0)<0)<<31>>31|0)|0,C=Lw(E|0,OD|0,A|0,C|0)|0,A=OD,E=Jw(d|0,((d|0)<0)<<31>>31|0,L|0,k|0)|0,!((C|0)==(E|0)&(A|0)==(OD|0))){i=89;break t}if(b=Jw(g|0,((g|0)<0)<<31>>31|0,W|0,X|0)|0,x=OD,v=Jw(u|0,((u|0)<0)<<31>>31|0,q|0,K|0)|0,x=Lw(v|0,OD|0,b|0,x|0)|0,b=OD,v=Jw(d|0,((d|0)<0)<<31>>31|0,F|0,G|0)|0,v=Lw(x|0,b|0,v|0,OD|0)|0,b=OD,g=(XD(u,Q)|0)+(XD(g,Y)|0)+(XD(d,z)|0)|0,x=y-V|0,E=l-B|0,C=m-P|0,x=Jw(x|0,((x|0)<0)<<31>>31|0,W|0,X|0)|0,A=OD,E=Jw(E|0,((E|0)<0)<<31>>31|0,q|0,K|0)|0,A=Lw(E|0,OD|0,x|0,A|0)|0,x=OD,C=Jw(C|0,((C|0)<0)<<31>>31|0,F|0,G|0)|0,C=Lw(A|0,x|0,C|0,OD|0)|0,x=OD,!((x|0)>0|(x|0)==0&C>>>0>0)){i=89;break t}if((v|0)==0&(b|0)==0){if((g|0)>=0){i=89;break t}}else{if((b|0)>=0){i=89;break t}(g|0)>0?(d=1,T=g,S=((g|0)<0)<<31>>31):(T=Pw(0,0,g|0,((g|0)<0)<<31>>31|0)|0,d=(g|0)<0?-1:0,T=(g|0)<0?T:0,S=(g|0)<0?OD:0),M=0-d|0,v=Pw(0,0,v|0,b|0)|0,y=OD,(R|0)>0?(g=1,m=1,u=R,b=((R|0)<0)<<31>>31):(u=Pw(0,0,R|0,((R|0)<0)<<31>>31|0)|0,g=(R|0)<0?-1:0,m=(R|0)<0?-1:0,u=(R|0)<0?u:0,b=(R|0)<0?OD:0);do if((D|0)>0|(D|0)==0&i>>>0>0)d=D;else{if((D|0)>=0){i=0,d=0;break}i=Pw(0,0,i|0,D|0)|0,g=0-m|0,d=OD}while(0);if((hM(T,S,v,y,M,u,b,i,d,g)|0)<=0){i=89;break t}}CD[o>>2]=w,h=CD[w+12>>2]|0,d=CD[h+88>>2]|0,u=CD[h+92>>2]|0,h=CD[h+96>>2]|0,D=x,i=C}P=d-e|0,V=u-E|0,i=h-A|0,P=Jw(P|0,((P|0)<0)<<31>>31|0,W|0,X|0)|0,B=OD,V=Jw(V|0,((V|0)<0)<<31>>31|0,q|0,K|0)|0,B=Lw(V|0,OD|0,P|0,B|0)|0,P=OD,i=Jw(i|0,((i|0)<0)<<31>>31|0,F|0,G|0)|0,i=Lw(B|0,P|0,i|0,OD|0)|0,CD[r>>2]=(l|0)==(J|0)?0:N,P=A,B=E,V=e,l=OD}if((i|0)==89)return}if(!((c|0)>=0))for(k=Pw(0,0,O|0,((O|0)<0)<<31>>31|0)|0,L=OD,h=f,d=p,l=I,i=_,_=H;;){u=(XD(d-n|0,Q)|0)+(XD(h-s|0,z)|0)+(XD(l-a|0,Y)|0)|0;t:do if(i)for(w=u,E=u,A=((u|0)<0)<<31>>31,C=_;;){if(!(CD[i+12>>2]|0)){S=h,T=d,x=l,g=w,w=E,y=A,_=C;break t}if(M=CD[(CD[i+4>>2]|0)+8>>2]|0,(CD[M+20>>2]|0)<=(CD[t+100>>2]|0)){S=h,T=d,x=l,g=w,w=E,y=A,_=C;break t}if(S=CD[M+12>>2]|0,x=CD[S+88>>2]|0,N=x-l|0,T=CD[S+92>>2]|0,J=T-d|0,S=CD[S+96>>2]|0,u=S-h|0,e=Jw(N|0,((N|0)<0)<<31>>31|0,W|0,X|0)|0,O=OD,p=Jw(J|0,((J|0)<0)<<31>>31|0,q|0,K|0)|0,O=Lw(p|0,OD|0,e|0,O|0)|0,e=OD,p=Jw(u|0,((u|0)<0)<<31>>31|0,F|0,G|0)|0,p=Lw(O|0,e|0,p|0,OD|0)|0,e=OD,u=(XD(J,Q)|0)+(XD(N,Y)|0)+(XD(u,z)|0)|0,(p|0)==0&(e|0)==0){if((u|0)<=0){S=h,T=d,x=l,g=w,w=E,y=A,_=C;break t}}else{if((e|0)>=0){S=h,T=d,x=l,g=w,w=E,y=A,_=C;break t}if((u|0)>0?(f=1,v=u,b=((u|0)<0)<<31>>31):(v=Pw(0,0,u|0,((u|0)<0)<<31>>31|0)|0,f=(u|0)<0?-1:0,v=(u|0)<0?v:0,b=(u|0)<0?OD:0),y=0-f|0,u=Pw(0,0,p|0,e|0)|0,e=OD,(w|0)>0?(f=1,_=1,m=E,g=A):(g=(w|0)<0,m=Pw(0,0,E|0,A|0)|0,f=g?-1:0,_=g?-1:0,m=g?m:0,g=g?OD:0),(c|0)>0|(c|0)==0&C>>>0>0?(_=C,p=c):(c|0)<0?(p=Pw(0,0,C|0,c|0)|0,f=0-_|0,_=p,p=OD):(_=0,p=0),(hM(v,b,u,e,y,m,g,_,p,f)|0)>=1){S=h,T=d,x=l,g=w,w=E,y=A,_=C;break t}}if(u=x-a|0,J=T-n|0,N=S-s|0,c=Jw(u|0,((u|0)<0)<<31>>31|0,W|0,X|0)|0,O=OD,_=Jw(J|0,((J|0)<0)<<31>>31|0,q|0,K|0)|0,O=Lw(_|0,OD|0,c|0,O|0)|0,c=OD,_=Jw(N|0,((N|0)<0)<<31>>31|0,F|0,G|0)|0,_=Lw(O|0,c|0,_|0,OD|0)|0,c=OD,i=(i|0)==(Z|0)?0:M,CD[o>>2]=i,u=(XD(J,Q)|0)+(XD(N,z)|0)+(XD(u,Y)|0)|0,!i){g=u,w=u,y=((u|0)<0)<<31>>31;break}l=x,d=T,h=S,w=u,E=u,A=((u|0)<0)<<31>>31,C=_}else S=h,T=d,x=l,g=u,w=u,y=((u|0)<0)<<31>>31;while(0);if(i=CD[r>>2]|0,!i){i=89;break}if(!(CD[i+12>>2]|0)){i=89;break}if(b=CD[(CD[i+8>>2]|0)+4>>2]|0,(CD[b+20>>2]|0)<=(CD[t+100>>2]|0)){i=89;
break}if(h=CD[b+12>>2]|0,i=CD[h+88>>2]|0,u=i-a|0,a=CD[h+92>>2]|0,d=a-n|0,h=CD[h+96>>2]|0,l=h-s|0,N=Jw(u|0,((u|0)<0)<<31>>31|0,j|0,((j|0)<0)<<31>>31|0)|0,O=OD,J=Jw(d|0,((d|0)<0)<<31>>31|0,U|0,((U|0)<0)<<31>>31|0)|0,O=Lw(J|0,OD|0,N|0,O|0)|0,N=OD,J=Jw(l|0,((l|0)<0)<<31>>31|0,k|0,L|0)|0,!((O|0)==(J|0)&(N|0)==(OD|0))){i=89;break}if(p=Jw(u|0,((u|0)<0)<<31>>31|0,W|0,X|0)|0,v=OD,f=Jw(d|0,((d|0)<0)<<31>>31|0,q|0,K|0)|0,v=Lw(f|0,OD|0,p|0,v|0)|0,p=OD,f=Jw(l|0,((l|0)<0)<<31>>31|0,F|0,G|0)|0,f=Lw(v|0,p|0,f|0,OD|0)|0,p=OD,d=(XD(d,Q)|0)+(XD(u,Y)|0)+(XD(l,z)|0)|0,v=x-i|0,J=T-a|0,M=S-h|0,v=Jw(v|0,((v|0)<0)<<31>>31|0,W|0,X|0)|0,N=OD,J=Jw(J|0,((J|0)<0)<<31>>31|0,q|0,K|0)|0,N=Lw(J|0,OD|0,v|0,N|0)|0,v=OD,M=Jw(M|0,((M|0)<0)<<31>>31|0,F|0,G|0)|0,M=Lw(N|0,v|0,M|0,OD|0)|0,v=OD,(v|0)>=0){i=89;break}if((f|0)==0&(p|0)==0){if((d|0)<=0){i=89;break}}else{if((p|0)>=0){i=89;break}(d|0)>0?(l=1,e=d,i=((d|0)<0)<<31>>31):(e=Pw(0,0,d|0,((d|0)<0)<<31>>31|0)|0,l=(d|0)<0?-1:0,e=(d|0)<0?e:0,i=(d|0)<0?OD:0),a=0-l|0,f=Pw(0,0,f|0,p|0)|0,p=OD,(g|0)>0?(s=1,d=1,h=w,u=y):(u=(g|0)<0,h=Pw(0,0,w|0,y|0)|0,s=u?-1:0,d=u?-1:0,h=u?h:0,u=u?OD:0);do if((c|0)>0|(c|0)==0&_>>>0>0)l=_;else{if((c|0)>=0){l=0,c=0;break}l=Pw(0,0,_|0,c|0)|0,s=0-d|0,c=OD}while(0);if((hM(e,i,f,p,a,h,u,l,c,s)|0)>=0){i=89;break}}CD[r>>2]=b,a=CD[b+12>>2]|0,s=CD[a+96>>2]|0,n=CD[a+92>>2]|0,a=CD[a+88>>2]|0,h=S,d=T,l=x,i=CD[o>>2]|0,_=M,c=v}}function Xf(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0;if(R=BD,BD=BD+256|0,(i|0)<1)return r=CD[t+12>>2]|0,r&&(TD[t+16>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[r+-4>>2]|0)),CD[t+12>>2]=0),TD[t+16>>0]=1,CD[t+12>>2]=0,CD[t+4>>2]=0,CD[t+8>>2]=0,r=CD[t+32>>2]|0,r&&(TD[t+36>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[r+-4>>2]|0)),CD[t+32>>2]=0),TD[t+36>>0]=1,CD[t+32>>2]=0,CD[t+24>>2]=0,CD[t+28>>2]=0,r=CD[t+52>>2]|0,r&&(TD[t+56>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[r+-4>>2]|0)),CD[t+52>>2]=0),TD[t+56>>0]=1,CD[t+52>>2]=0,CD[t+44>>2]=0,CD[t+48>>2]=0,void(BD=R);for(CD[R+128+32>>2]=0,CD[R+128+36>>2]=0,E=R+128+40|0,CD[E>>2]=0,CD[R+128+44>>2]=256,CD[R+128+48>>2]=0,CD[R+128+52>>2]=0,CD[R+128+56>>2]=0,CD[R+128+60>>2]=256,CD[R+128+64>>2]=0,CD[R+128+68>>2]=0,CD[R+128+72>>2]=0,CD[R+128+76>>2]=256,TD[R+128+96>>0]=1,C=R+128+92|0,CD[C>>2]=0,CD[R+128+84>>2]=0,CD[R+128+88>>2]=0,g=1.0000000150474662e30,m=1.0000000150474662e30,b=1.0000000150474662e30,v=-1.0000000150474662e30,M=-1.0000000150474662e30,S=-1.0000000150474662e30,s=0,n=e;;){if(d=+RD[n>>2],a=+RD[n+4>>2],y=+RD[n+8>>2],g=d<g?d:g,m=a<m?a:m,b=y<b?y:b,v=v<d?d:v,M=M<a?a:M,S=S<y?y:S,(s|0)==(i+-1|0))break;s=s+1|0,n=n+16|0}if(d=v-g,u=M-m,y=S-b,d<u?(CD[R+128+112>>2]=u<y?2:1,h=d<y?0:2,o=R+128+112|0):(CD[R+128+112>>2]=d<y?2:0,h=u<y?1:2,o=R+128+112|0),CD[R+128+104>>2]=h,c=CD[o>>2]|0,(h|0)==(c|0)&&(h=((h+1|0)>>>0)%3|0,CD[R+128+104>>2]=h,c=CD[o>>2]|0),x=3-c-h|0,CD[R+128+108>>2]=x,((x+1|0)%3|0|0)==(CD[o>>2]|0)?(a=d*9788566967472434e-20,u*=9788566967472434e-20,d=y*9788566967472434e-20):(a=-(d*9788566967472434e-20),u=-(u*9788566967472434e-20),d=-(y*9788566967472434e-20)),RD[R+128>>2]=a,RD[R+128+4>>2]=u,RD[R+128+8>>2]=d,RD[R+128+12>>2]=0,a!=0&&(a=1/a),u!=0&&(u=1/u),d!=0&&(d=1/d),RD[R+128+16>>2]=(g+v)*.5,RD[R+128+20>>2]=(m+M)*.5,RD[R+128+24>>2]=(b+S)*.5,RD[R+128+28>>2]=0,T=R+104+16|0,TD[T>>0]=1,f=R+104+12|0,CD[f>>2]=0,x=R+104+4|0,CD[x>>2]=0,CD[R+104+8>>2]=0,(i|0)>0){if(CD[5108]=(CD[5108]|0)+1,s=Aw((i<<4|3)+16|0)|0,s?(CD[(s+4+15&-16)+-4>>2]=s,p=s+4+15&-16):p=0,h=CD[x>>2]|0,(h|0)>0)for(c=CD[f>>2]|0,n=0;;){if(s=p+(n<<4)|0,s&&(_=c+(n<<4)|0,CD[s>>2]=CD[_>>2],CD[s+4>>2]=CD[_+4>>2],CD[s+8>>2]=CD[_+8>>2],CD[s+12>>2]=CD[_+12>>2]),(n|0)==(h+-1|0))break;n=n+1|0}else c=CD[f>>2]|0;for(c&&(TD[T>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[c+-4>>2]|0)),CD[f>>2]=0),TD[T>>0]=1,CD[f>>2]=p,CD[R+104+8>>2]=i,c=p,h=0;;){if(c=c+(h<<4)|0,c&&(CD[c>>2]=CD[R+64>>2],CD[c+4>>2]=CD[R+64+4>>2],CD[c+8>>2]=CD[R+64+8>>2],CD[c+12>>2]=CD[R+64+12>>2]),(h|0)==(i+-1|0))break;c=CD[f>>2]|0,h=h+1|0}for(CD[x>>2]=i,n=CD[f>>2]|0,m=+RD[R+128+16>>2],g=+RD[R+128+20>>2],y=+RD[R+128+24>>2],_=R+16+(CD[R+128+108>>2]<<2)|0,h=R+16+(CD[o>>2]<<2)|0,c=R+16+(CD[R+128+104>>2]<<2)|0,s=0,p=e;;){if(S=+RD[p>>2],RD[R+16>>2]=S,b=+RD[p+4>>2],RD[R+16+4>>2]=b,v=d*(+RD[p+8>>2]-y),RD[R+16>>2]=a*(S-m),RD[R+16+4>>2]=u*(b-g),RD[R+16+8>>2]=v,RD[R+16+12>>2]=0,CD[n+(s<<4)>>2]=~~+RD[_>>2],CD[n+(s<<4)+4>>2]=~~+RD[h>>2],CD[n+(s<<4)+8>>2]=~~+RD[c>>2],CD[n+(s<<4)+12>>2]=s,(s|0)==(i+-1|0))break;s=s+1|0,p=p+16|0}(i|0)>1&&R_(R+104|0,0,i+-1|0)}else CD[x>>2]=i;if(CD[R+128+36>>2]=CD[R+128+32>>2],CD[E>>2]=0,CD[R+128+44>>2]=i,o=CD[R+128+84>>2]|0,(o|0)<(i|0)){if((CD[R+128+88>>2]|0)<(i|0)){if(i?(CD[5108]=(CD[5108]|0)+1,n=Aw((i<<2|3)+16|0)|0,n?(CD[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,r=CD[R+128+84>>2]|0):(n=0,r=o),(r|0)>0)for(s=r+-1|0,r=0;;){if(l=n+(r<<2)|0,l&&(CD[l>>2]=CD[(CD[C>>2]|0)+(r<<2)>>2]),(r|0)==(s|0))break;r=r+1|0}r=CD[C>>2]|0,r&&(TD[R+128+96>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[r+-4>>2]|0)),CD[C>>2]=0),TD[R+128+96>>0]=1,CD[C>>2]=n,CD[R+128+88>>2]=i}for(;;){if(n=(CD[C>>2]|0)+(o<<2)|0,n&&(CD[n>>2]=0),(o|0)==(i+-1|0))break;o=o+1|0}}if(CD[R+128+84>>2]=i,(i|0)>0)for(p=0;;){if(n=CD[E>>2]|0)CD[E>>2]=CD[n>>2],w=88;else{if(n=CD[R+128+36>>2]|0,n?CD[R+128+36>>2]=CD[n+8>>2]:(CD[5108]=(CD[5108]|0)+1,o=Aw(31)|0,((o|0)!=0?(A=o+4+15&-16,CD[A+-4>>2]=o,(o+4+15&-16|0)!=0):0)?(n=CD[R+128+44>>2]|0,CD[A+4>>2]=n,CD[A+8>>2]=0,CD[5108]=(CD[5108]|0)+1,n=Aw((n*112|3)+16|0)|0,n?(CD[(n+4+15&-16)+-4>>2]=n,s=n+4+15&-16):s=0,CD[(o+4+15&-16)>>2]=s,n=o+4+15&-16):n=0,CD[n+8>>2]=CD[R+128+32>>2],CD[R+128+32>>2]=n),l=CD[n+4>>2]|0,n=CD[n>>2]|0,(l|0)>0){s=0,o=n;do h=s,s=s+1|0,c=o,o=o+112|0,CD[c>>2]=(s|0)<(l|0)?o:0;while((h|0)!=(l+-1|0))}CD[E>>2]=CD[n>>2],n?w=88:n=0}if((w|0)==88&&(w=0,CD[n>>2]=0,CD[n+4>>2]=0,CD[n+8>>2]=0,CD[n+12>>2]=0,CD[n+16>>2]=0,CD[n+104>>2]=-1),CD[n+8>>2]=0,h=n+88|0,c=(CD[f>>2]|0)+(p<<4)|0,CD[h>>2]=CD[c>>2],CD[h+4>>2]=CD[c+4>>2],CD[h+8>>2]=CD[c+8>>2],CD[h+12>>2]=CD[c+12>>2],CD[n+104>>2]=-1,CD[(CD[C>>2]|0)+(p<<2)>>2]=n,(p|0)==(i+-1|0))break;p=p+1|0}if(n=CD[f>>2]|0,n&&(TD[T>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[n+-4>>2]|0)),CD[f>>2]=0),TD[T>>0]=1,CD[f>>2]=0,CD[x>>2]=0,CD[R+104+8>>2]=0,CD[R+128+52>>2]=CD[R+128+48>>2],CD[R+128+56>>2]=0,CD[R+128+60>>2]=i*6,CD[R+128+116>>2]=0,CD[R+128+120>>2]=0,CD[R+128+100>>2]=-3,CD[R+32>>2]=0,CD[R+32+4>>2]=0,CD[R+32+8>>2]=0,CD[R+32+12>>2]=0,dM(R+128|0,0,i,R+32|0),CD[R+128+124>>2]=CD[R+32>>2],o=CD[f>>2]|0,o&&(TD[T>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[o+-4>>2]|0)),CD[f>>2]=0),r=CD[t+4>>2]|0,(r|0)<0)for((CD[t+8>>2]|0)<0&&(o=CD[t+12>>2]|0,o&&(TD[t+16>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[o+-4>>2]|0)),CD[t+12>>2]=0),TD[t+16>>0]=1,CD[t+12>>2]=0,CD[t+8>>2]=0);;){if(w=(CD[t+12>>2]|0)+(r<<4)|0,CD[w>>2]=CD[R>>2],CD[w+4>>2]=CD[R+4>>2],CD[w+8>>2]=CD[R+8>>2],CD[w+12>>2]=CD[R+12>>2],(r|0)==-1)break;r=r+1|0}if(CD[t+4>>2]=0,CD[R+48>>2]=0,CD[R+48+4>>2]=0,CD[R+48+8>>2]=0,o=CD[t+24>>2]|0,(o|0)<0)for((CD[t+28>>2]|0)<0&&(r=CD[t+32>>2]|0,r&&(TD[t+36>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[r+-4>>2]|0)),CD[t+32>>2]=0),TD[t+36>>0]=1,CD[t+32>>2]=0,CD[t+28>>2]=0);;){if(r=(CD[t+32>>2]|0)+(o*12|0)|0,r&&(CD[r>>2]=CD[R+48>>2],CD[r+4>>2]=CD[R+48+4>>2],CD[r+8>>2]=CD[R+48+8>>2]),(o|0)==-1)break;o=o+1|0}if(CD[t+24>>2]=0,r=CD[t+44>>2]|0,(r|0)<0)for(o=CD[t+52>>2]|0,(CD[t+48>>2]|0)<0&&(o&&(TD[t+56>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[o+-4>>2]|0)),CD[t+52>>2]=0),TD[t+56>>0]=1,CD[t+52>>2]=0,CD[t+48>>2]=0,o=0);;){if(n=o+(r<<2)|0,n&&(CD[n>>2]=0),(r|0)==-1)break;r=r+1|0}if(CD[t+44>>2]=0,n=CD[R+128+124>>2]|0,(CD[n+104>>2]|0)<0){for(CD[n+104>>2]=0,CD[5108]=(CD[5108]|0)+1,o=Aw(23)|0,o?(CD[(o+4+15&-16)+-4>>2]=o,r=o+4+15&-16,o+4+15&-16&&(CD[r>>2]=n)):r=0,l=1,n=1,w=0;;){p=CD[r+(w<<2)>>2]|0,(CD[p+100>>2]|0)>-1?(RD[R+104+(CD[R+128+108>>2]<<2)>>2]=+(CD[p+88>>2]|0),RD[R+104+(CD[R+128+112>>2]<<2)>>2]=+(CD[p+92>>2]|0),a=+(CD[p+96>>2]|0)):(v=+D_(CD[p+24>>2]|0,CD[p+24+4>>2]|0,CD[p+32>>2]|0,CD[p+32+4>>2]|0),a=+D_(CD[p+72>>2]|0,CD[p+72+4>>2]|0,CD[p+80>>2]|0,CD[p+80+4>>2]|0),RD[R+104+(CD[R+128+108>>2]<<2)>>2]=v/a,v=+D_(CD[p+40>>2]|0,CD[p+40+4>>2]|0,CD[p+48>>2]|0,CD[p+48+4>>2]|0)/a,RD[R+104+(CD[R+128+112>>2]<<2)>>2]=v,a=+D_(CD[p+56>>2]|0,CD[p+56+4>>2]|0,CD[p+64>>2]|0,CD[p+64+4>>2]|0)/a),RD[R+104+(CD[R+128+104>>2]<<2)>>2]=a,d=+RD[R+104>>2]*+RD[R+128>>2]+ +RD[R+128+16>>2],u=+RD[R+104+4>>2]*+RD[R+128+4>>2]+ +RD[R+128+20>>2],a=+RD[R+104+8>>2]*+RD[R+128+8>>2]+ +RD[R+128+24>>2],o=CD[t+4>>2]|0;do if((o|0)==(CD[t+8>>2]|0)){if(h=(o|0)==0?1:o<<1,(o|0)>=(h|0))break;if(h?(CD[5108]=(CD[5108]|0)+1,o=Aw((h<<4|3)+16|0)|0,o?(CD[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,c=o,o=CD[t+4>>2]|0):c=0,(o|0)>0)for(s=o+-1|0,o=0;;){if(x=c+(o<<4)|0,T=(CD[t+12>>2]|0)+(o<<4)|0,CD[x>>2]=CD[T>>2],CD[x+4>>2]=CD[T+4>>2],CD[x+8>>2]=CD[T+8>>2],CD[x+12>>2]=CD[T+12>>2],(o|0)==(s|0))break;o=o+1|0}o=CD[t+12>>2]|0,o&&(TD[t+16>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[o+-4>>2]|0)),CD[t+12>>2]=0),TD[t+16>>0]=1,CD[t+12>>2]=c,CD[t+8>>2]=h,o=CD[t+4>>2]|0}while(0);if(A=CD[t+12>>2]|0,RD[A+(o<<4)>>2]=d,RD[A+(o<<4)+4>>2]=u,RD[A+(o<<4)+8>>2]=a,RD[A+(o<<4)+12>>2]=0,CD[t+4>>2]=(CD[t+4>>2]|0)+1,A=CD[p+8>>2]|0){for(f=n,e=r,E=A,s=-1,C=-1;;){if(x=E+20|0,n=CD[x>>2]|0,(n|0)<0){T=CD[t+24>>2]|0,CD[R+92>>2]=0,CD[R+92+4>>2]=0,CD[R+92+8>>2]=0,n=CD[t+28>>2]|0;do if((T|0)==(n|0)){if(n=(T|0)==0?1:T<<1,(T|0)>=(n|0)){c=T,n=T;break}if(n?(CD[5108]=(CD[5108]|0)+1,o=Aw((n*12|3)+16|0)|0,o?(CD[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,r=CD[t+24>>2]|0):(o=0,r=T),(r|0)>0)for(c=r+-1|0,h=0;;){if(r=o+(h*12|0)|0,r&&(p=(CD[t+32>>2]|0)+(h*12|0)|0,CD[r>>2]=CD[p>>2],CD[r+4>>2]=CD[p+4>>2],CD[r+8>>2]=CD[p+8>>2]),(h|0)==(c|0))break;h=h+1|0}r=CD[t+32>>2]|0,r&&(TD[t+36>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[r+-4>>2]|0)),CD[t+32>>2]=0),TD[t+36>>0]=1,CD[t+32>>2]=o,CD[t+28>>2]=n,c=CD[t+24>>2]|0}else c=T;while(0);o=(CD[t+32>>2]|0)+(c*12|0)|0,o?(CD[o>>2]=CD[R+92>>2],CD[o+4>>2]=CD[R+92+4>>2],CD[o+8>>2]=CD[R+92+8>>2],o=CD[t+24>>2]|0,n=CD[t+28>>2]|0):o=c,o=o+1|0,CD[t+24>>2]=o,CD[R+80>>2]=0,CD[R+80+4>>2]=0,CD[R+80+8>>2]=0;do if((o|0)==(n|0)){if(p=(n|0)==0?1:n<<1,(n|0)>=(p|0))break;if(p?(CD[5108]=(CD[5108]|0)+1,n=Aw((p*12|3)+16|0)|0,n?(CD[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,o=n,n=CD[t+24>>2]|0):o=0,(n|0)>0)for(c=n+-1|0,h=0;;){if(n=o+(h*12|0)|0,n&&(i=(CD[t+32>>2]|0)+(h*12|0)|0,CD[n>>2]=CD[i>>2],CD[n+4>>2]=CD[i+4>>2],CD[n+8>>2]=CD[i+8>>2]),(h|0)==(c|0))break;h=h+1|0}n=CD[t+32>>2]|0,n&&(TD[t+36>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[n+-4>>2]|0)),CD[t+32>>2]=0),TD[t+36>>0]=1,CD[t+32>>2]=o,CD[t+28>>2]=p,n=CD[t+24>>2]|0}else n=o;while(0);if(r=CD[t+32>>2]|0,o=r+(n*12|0)|0,o?(CD[o>>2]=CD[R+80>>2],CD[o+4>>2]=CD[R+80+4>>2],CD[o+8>>2]=CD[R+80+8>>2],n=CD[t+24>>2]|0,_=CD[t+32>>2]|0):_=r,CD[t+24>>2]=n+1,CD[x>>2]=T,CD[(CD[E+8>>2]|0)+20>>2]=T+1,CD[_+(T*12|0)+4>>2]=1,CD[_+((T+1|0)*12|0)+4>>2]=-1,p=CD[E+12>>2]|0,h=CD[p+104>>2]|0,(h|0)<0){CD[p+104>>2]=l;do if((l|0)==(f|0)){if(n=(f|0)==0?1:f<<1,(f|0)>=(n|0)){r=e,n=f;break}do if(n){if(CD[5108]=(CD[5108]|0)+1,o=Aw((n<<2|3)+16|0)|0,!o){r=0;break}CD[(o+4+15&-16)+-4>>2]=o,r=o+4+15&-16}else r=0;while(0);if((f|0)>0)for(h=f+-1|0,o=0;;){if(c=r+(o<<2)|0,c&&(CD[c>>2]=CD[e+(o<<2)>>2]),(o|0)==(h|0))break;o=o+1|0}if(!e)break;CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)}else r=e,n=f;while(0);o=r+(l<<2)|0,o&&(CD[o>>2]=p),o=l+1|0}else r=e,n=f,o=l,l=h;CD[_+(T*12|0)+8>>2]=l,CD[_+((T+1|0)*12|0)+8>>2]=w,h=CD[x>>2]|0}else h=n,r=e,n=f,o=l;if((C|0)>-1?CD[(CD[t+32>>2]|0)+(h*12|0)>>2]=C-h:s=h,E=CD[E>>2]|0,(E|0)==(A|0))break;l=o,f=n,e=r,C=h}CD[(CD[t+32>>2]|0)+(s*12|0)>>2]=h-s}else o=l;if(e=w+1|0,!((e|0)<(o|0)))break;l=o,w=e}if((w|0)>-1){_=0;do{if(p=CD[(CD[r+(_<<2)>>2]|0)+8>>2]|0){f=p;do{if(c=f+20|0,(CD[c>>2]|0)>-1){n=CD[t+44>>2]|0;do if((n|0)==(CD[t+48>>2]|0)){if(h=(n|0)==0?1:n<<1,(n|0)>=(h|0))break;if(h?(CD[5108]=(CD[5108]|0)+1,n=Aw((h<<2|3)+16|0)|0,n?(CD[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,l=n,n=CD[t+44>>2]|0):l=0,(n|0)>0)for(n=n+-1|0,s=0;;){if(o=l+(s<<2)|0,o&&(CD[o>>2]=CD[(CD[t+52>>2]|0)+(s<<2)>>2]),(s|0)==(n|0))break;s=s+1|0}n=CD[t+52>>2]|0,n&&(TD[t+56>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[n+-4>>2]|0)),CD[t+52>>2]=0),TD[t+56>>0]=1,CD[t+52>>2]=l,CD[t+48>>2]=h,n=CD[t+44>>2]|0}while(0);o=(CD[t+52>>2]|0)+(n<<2)|0,o&&(CD[o>>2]=CD[c>>2],n=CD[t+44>>2]|0),CD[t+44>>2]=n+1,n=f;do CD[n+20>>2]=-1,n=CD[(CD[n+8>>2]|0)+4>>2]|0;while((n|0)!=(f|0))}f=CD[f>>2]|0}while((f|0)!=(p|0))}_=_+1|0}while((_|0)<(e|0))}r&&(CD[5110]=(CD[5110]|0)+1,ww(CD[r+-4>>2]|0))}P_(R+128|0),BD=R}function qf(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0;return a=BD,BD=BD+16|0,r=+RD[t>>2],o=+RD[t+20>>2],n=+RD[t+40>>2],r+o+n>0?(n=+ND(+(r+o+n+1)),RD[a+12>>2]=n*.5,s=(+RD[t+36>>2]-+RD[t+24>>2])*(.5/n),RD[a>>2]=s,r=(+RD[t+8>>2]-+RD[t+32>>2])*(.5/n),RD[a+4>>2]=r,o=(+RD[t+16>>2]-+RD[t+4>>2])*(.5/n),RD[a+8>>2]=o,n*=.5,RD[e>>2]=s,t=e+4|0,RD[t>>2]=r,t=e+8|0,RD[t>>2]=o,e=e+12|0,RD[e>>2]=n,void(BD=a)):(i=r<o?o<n?2:1:r<n?2:0,c=((i+1|0)>>>0)%3|0,l=((i+2|0)>>>0)%3|0,r=+ND(+(+RD[t+(i<<4)+(i<<2)>>2]-+RD[t+(c<<4)+(c<<2)>>2]-+RD[t+(l<<4)+(l<<2)>>2]+1)),RD[a+(i<<2)>>2]=r*.5,RD[a+12>>2]=(+RD[t+(l<<4)+(c<<2)>>2]-+RD[t+(c<<4)+(l<<2)>>2])*(.5/r),RD[a+(c<<2)>>2]=(+RD[t+(c<<4)+(i<<2)>>2]+ +RD[t+(i<<4)+(c<<2)>>2])*(.5/r),RD[a+(l<<2)>>2]=(+RD[t+(l<<4)+(i<<2)>>2]+ +RD[t+(i<<4)+(l<<2)>>2])*(.5/r),r=+RD[a>>2],o=+RD[a+4>>2],s=+RD[a+8>>2],n=+RD[a+12>>2],RD[e>>2]=r,t=e+4|0,RD[t>>2]=o,t=e+8|0,RD[t>>2]=s,e=e+12|0,RD[e>>2]=n,void(BD=a))}function Kf(){TD[808]|0||KD(808)|0&&(((TD[864]|0)==0?(KD(864)|0)!=0:0)&&(RD[204]=1,CD[205]=0,CD[206]=0,CD[207]=0,CD[208]=0,RD[209]=1,CD[210]=0,CD[211]=0,CD[212]=0,CD[213]=0,RD[214]=1,RD[215]=0,QD(864)),CD[186]=CD[204],CD[187]=CD[205],CD[188]=CD[206],CD[189]=CD[207],CD[190]=CD[208],CD[191]=CD[209],CD[192]=CD[210],CD[193]=CD[211],CD[194]=CD[212],CD[195]=CD[213],CD[196]=CD[214],CD[197]=CD[215],CD[198]=0,CD[199]=0,CD[200]=0,CD[201]=0,QD(808))}function Yf(t,e,i){t|=0,e|=0,i|=0,CD[t>>2]=664,CD[t+4>>2]=CD[e>>2],CD[t+4+4>>2]=CD[e+4>>2],CD[t+4+8>>2]=CD[e+8>>2],CD[t+4+12>>2]=CD[e+12>>2],CD[t+20>>2]=CD[e+16>>2],CD[t+20+4>>2]=CD[e+16+4>>2],CD[t+20+8>>2]=CD[e+16+8>>2],CD[t+20+12>>2]=CD[e+16+12>>2],CD[t+36>>2]=CD[e+32>>2],CD[t+36+4>>2]=CD[e+32+4>>2],CD[t+36+8>>2]=CD[e+32+8>>2],CD[t+36+12>>2]=CD[e+32+12>>2],CD[t+52>>2]=CD[e+48>>2],CD[t+52+4>>2]=CD[e+48+4>>2],CD[t+52+8>>2]=CD[e+48+8>>2],CD[t+52+12>>2]=CD[e+48+12>>2],CD[t+68>>2]=CD[i>>2],CD[t+68+4>>2]=CD[i+4>>2],CD[t+68+8>>2]=CD[i+8>>2],CD[t+68+12>>2]=CD[i+12>>2],CD[t+84>>2]=CD[i+16>>2],CD[t+84+4>>2]=CD[i+16+4>>2],CD[t+84+8>>2]=CD[i+16+8>>2],CD[t+84+12>>2]=CD[i+16+12>>2],CD[t+100>>2]=CD[i+32>>2],CD[t+100+4>>2]=CD[i+32+4>>2],CD[t+100+8>>2]=CD[i+32+8>>2],CD[t+100+12>>2]=CD[i+32+12>>2],CD[t+116>>2]=CD[i+48>>2],CD[t+116+4>>2]=CD[i+48+4>>2],CD[t+116+8>>2]=CD[i+48+8>>2],CD[t+116+12>>2]=CD[i+48+12>>2],CD[t+132>>2]=CD[e>>2],CD[t+132+4>>2]=CD[e+4>>2],CD[t+132+8>>2]=CD[e+8>>2],CD[t+132+12>>2]=CD[e+12>>2],CD[t+148>>2]=CD[e+16>>2],CD[t+148+4>>2]=CD[e+16+4>>2],CD[t+148+8>>2]=CD[e+16+8>>2],CD[t+148+12>>2]=CD[e+16+12>>2],CD[t+164>>2]=CD[e+32>>2],CD[t+164+4>>2]=CD[e+32+4>>2],CD[t+164+8>>2]=CD[e+32+8>>2],CD[t+164+12>>2]=CD[e+32+12>>2],CD[t+180>>2]=CD[e+48>>2],CD[t+180+4>>2]=CD[e+48+4>>2],CD[t+180+8>>2]=CD[e+48+8>>2],CD[t+180+12>>2]=CD[e+48+12>>2],CD[t+196>>2]=0}function Qf(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0;+RD[t+344>>2]!=0&&(Zf(t,e),n=+RD[e>>2]*+RD[t+348>>2],s=+RD[e+4>>2]*+RD[t+352>>2],c=+RD[e+8>>2]*+RD[t+356>>2],a=+RD[i+4>>2],h=+RD[i+8>>2],l=+RD[i>>2],o=(+RD[t+280>>2]*(a*c-h*s)+ +RD[t+284>>2]*(h*n-l*c)+ +RD[t+288>>2]*(l*s-a*n))*+RD[t+548>>2],r=(+RD[t+296>>2]*(a*c-h*s)+ +RD[t+300>>2]*(h*n-l*c)+ +RD[t+304>>2]*(l*s-a*n))*+RD[t+552>>2],RD[t+328>>2]=+RD[t+328>>2]+(+RD[t+264>>2]*(a*c-h*s)+ +RD[t+268>>2]*(h*n-l*c)+ +RD[t+272>>2]*(l*s-a*n))*+RD[t+544>>2],RD[t+332>>2]=+RD[t+332>>2]+o,RD[t+336>>2]=+RD[t+336>>2]+r)}function Zf(t,e){t|=0,e|=0;var i=0,r=0,o=0;o=+RD[t+344>>2],r=+RD[e+4>>2]*+RD[t+352>>2]*o,i=+RD[e+8>>2]*+RD[t+356>>2]*o,RD[t+312>>2]=+RD[t+312>>2]+ +RD[e>>2]*+RD[t+348>>2]*o,RD[t+316>>2]=+RD[t+316>>2]+r,RD[t+320>>2]=+RD[t+320>>2]+i}function $f(t){t|=0,RD[t>>2]=1,CD[t+4>>2]=0,CD[t+4+4>>2]=0,CD[t+4+8>>2]=0,CD[t+4+12>>2]=0,RD[t+20>>2]=1,CD[t+24>>2]=0,CD[t+24+4>>2]=0,CD[t+24+8>>2]=0,CD[t+24+12>>2]=0,RD[t+40>>2]=1,RD[t+44>>2]=0,CD[t+48>>2]=0,CD[t+48+4>>2]=0,CD[t+48+8>>2]=0,CD[t+48+12>>2]=0}function t_(t,e,i,r,o,n,a){t|=0,e=+e,i=+i,r=+r,o|=0,n=+n,a|=0;var s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0;c=BD,BD=BD+16|0,l=i*n+ +RD[t+52>>2],s=r*n+ +RD[t+56>>2],RD[a+48>>2]=e*n+ +RD[t+48>>2],RD[a+52>>2]=l,RD[a+56>>2]=s,RD[a+60>>2]=0,s=+RD[o>>2],l=+RD[o+4>>2],i=+RD[o+8>>2],e=+ND(+(s*s+l*l+i*i)),e*n>.7853981852531433&&(e=.7853981852531433/n),r=e<.0010000000474974513?n*.5-e*n*n*n*.02083333395421505*e:+zD(+(e*.5*n))/e,d=r*s,l=r*l,r*=i,f=+GD(+(e*n*.5)),qf(t,c),u=+RD[c>>2],p=+RD[c+12>>2],e=+RD[c+8>>2],n=+RD[c+4>>2],_=1/+ND(+((f*p-d*u-l*n-r*e)*(f*p-d*u-l*n-r*e)+((r*p+f*e+d*n-l*u)*(r*p+f*e+d*n-l*u)+((f*u+d*p+l*e-r*n)*(f*u+d*p+l*e-r*n)+(r*u+(l*p+f*n)-d*e)*(r*u+(l*p+f*n)-d*e))))),i=(f*u+d*p+l*e-r*n)*_,s=_*(r*u+(l*p+f*n)-d*e),h=_*(r*p+f*e+d*n-l*u),e=_*(f*p-d*u-l*n-r*e),r=i*(2/(e*e+(h*h+(i*i+s*s)))),n=2/(e*e+(h*h+(i*i+s*s)))*s,l=2/(e*e+(h*h+(i*i+s*s)))*h,RD[a>>2]=1-(h*l+s*n),RD[a+4>>2]=i*n-e*l,RD[a+8>>2]=i*l+e*n,RD[a+12>>2]=0,RD[a+16>>2]=e*l+i*n,RD[a+20>>2]=1-(i*r+h*l),RD[a+24>>2]=s*l-e*r,RD[a+28>>2]=0,RD[a+32>>2]=i*l-e*n,RD[a+36>>2]=e*r+s*l,RD[a+40>>2]=1-(i*r+s*n),RD[a+44>>2]=0,BD=c}function e_(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0;return l=BD,BD=BD+64|0,s=+RD[t+20>>2],g=+RD[t+40>>2],d=+RD[t+24>>2],_=+RD[t+36>>2],m=+RD[t+32>>2],a=+RD[t+16>>2],c=+RD[t>>2],n=+RD[t+4>>2],p=+RD[t+8>>2],h=1/((s*g-d*_)*c+n*(d*m-g*a)+(_*a-s*m)*p),T=+RD[e>>2],S=+RD[e+4>>2],M=+RD[e+8>>2],v=+RD[e+16>>2],b=+RD[e+20>>2],y=+RD[e+24>>2],f=+RD[e+32>>2],u=+RD[e+36>>2],o=+RD[e+40>>2],RD[l+16>>2]=(s*g-d*_)*h*T+(d*m-g*a)*h*S+(_*a-s*m)*h*M,RD[l+16+4>>2]=T*h*(_*p-g*n)+S*h*(g*c-m*p)+h*(m*n-_*c)*M,RD[l+16+8>>2]=T*h*(d*n-s*p)+S*h*(a*p-d*c)+h*(s*c-a*n)*M,RD[l+16+12>>2]=0,RD[l+16+16>>2]=(s*g-d*_)*h*v+(d*m-g*a)*h*b+(_*a-s*m)*h*y,RD[l+16+20>>2]=h*(_*p-g*n)*v+h*(g*c-m*p)*b+h*(m*n-_*c)*y,RD[l+16+24>>2]=h*(d*n-s*p)*v+h*(a*p-d*c)*b+h*(s*c-a*n)*y,RD[l+16+28>>2]=0,RD[l+16+32>>2]=(s*g-d*_)*h*f+(d*m-g*a)*h*u+(_*a-s*m)*h*o,RD[l+16+36>>2]=h*(_*p-g*n)*f+h*(g*c-m*p)*u+h*(m*n-_*c)*o,RD[l+16+40>>2]=h*(d*n-s*p)*f+h*(a*p-d*c)*u+h*(s*c-a*n)*o,RD[l+16+44>>2]=0,qf(l+16|0,l),o=+RD[l>>2],n=+RD[l+4>>2],a=+RD[l+8>>2],c=+RD[l+12>>2],s=1/+ND(+(o*o+n*n+a*a+c*c)),RD[l>>2]=o*s,RD[l+4>>2]=n*s,RD[l+8>>2]=a*s,RD[l+12>>2]=c*s,c=c*s<-1?-1:c*s,c=+jD(+(c>1?1:c))*2,RD[r>>2]=c,RD[i>>2]=o*s,RD[i+4>>2]=n*s,RD[i+8>>2]=a*s,RD[i+12>>2]=0,o*s*o*s+n*s*n*s+a*s*a*s<1.4210854715202004e-14?(RD[i>>2]=1,RD[i+4>>2]=0,RD[i+8>>2]=0,RD[i+12>>2]=0,void(BD=l)):(T=1/+ND(+(o*s*o*s+n*s*n*s+a*s*a*s)),RD[i>>2]=o*s*T,RD[i+4>>2]=T*n*s,RD[i+8>>2]=T*a*s,void(BD=l))}function i_(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0;r=BD,BD=BD+48|0,M=+RD[i>>2],_=+RD[e>>2],v=+RD[i+16>>2],f=+RD[e+4>>2],b=+RD[i+32>>2],a=+RD[e+8>>2],y=+RD[i+4>>2],g=+RD[i+20>>2],m=+RD[i+36>>2],s=+RD[i+8>>2],c=+RD[i+24>>2],u=+RD[i+40>>2],p=+RD[e+16>>2],d=+RD[e+20>>2],n=+RD[e+24>>2],h=+RD[e+32>>2],l=+RD[e+36>>2],o=+RD[e+40>>2],RD[r>>2]=M*_+v*f+b*a,RD[r+4>>2]=y*_+g*f+m*a,RD[r+8>>2]=s*_+c*f+u*a,RD[r+12>>2]=0,RD[r+16>>2]=M*p+v*d+b*n,RD[r+20>>2]=y*p+g*d+m*n,RD[r+24>>2]=s*p+c*d+u*n,RD[r+28>>2]=0,RD[r+32>>2]=M*h+v*l+b*o,RD[r+36>>2]=y*h+g*l+m*o,RD[r+40>>2]=s*h+c*l+u*o,RD[r+44>>2]=0,u=+RD[i+48>>2],c=+RD[i+52>>2],s=+RD[i+56>>2],a=u*_+c*f+s*a+ +RD[e+48>>2],n=u*p+c*d+s*n+ +RD[e+52>>2],o=u*h+c*l+s*o+ +RD[e+56>>2],CD[t>>2]=CD[r>>2],CD[t+4>>2]=CD[r+4>>2],CD[t+8>>2]=CD[r+8>>2],CD[t+12>>2]=CD[r+12>>2],CD[t+16>>2]=CD[r+16>>2],CD[t+16+4>>2]=CD[r+16+4>>2],CD[t+16+8>>2]=CD[r+16+8>>2],CD[t+16+12>>2]=CD[r+16+12>>2],CD[t+32>>2]=CD[r+32>>2],CD[t+32+4>>2]=CD[r+32+4>>2],CD[t+32+8>>2]=CD[r+32+8>>2],CD[t+32+12>>2]=CD[r+32+12>>2],RD[t+48>>2]=a,RD[t+52>>2]=n,RD[t+56>>2]=o,RD[t+60>>2]=0,BD=r}function r_(t,e,i){t|=0,e|=0,i|=0;for(var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0;;){for(c=CD[t+12>>2]|0,h=CD[c+(((e+i|0)/2|0)<<2)>>2]|0,r=e,o=i;;){if(l=CD[(CD[h+28>>2]|0)+208>>2]|0,(l|0)>-1)for(;;){if(a=CD[c+(r<<2)>>2]|0,n=CD[(CD[a+28>>2]|0)+208>>2]|0,(n|0)<=-1&&(n=CD[(CD[a+32>>2]|0)+208>>2]|0),!((n|0)<(l|0)))break;r=r+1|0}else for(s=CD[(CD[h+32>>2]|0)+208>>2]|0;;){if(a=CD[c+(r<<2)>>2]|0,n=CD[(CD[a+28>>2]|0)+208>>2]|0,(n|0)<=-1&&(n=CD[(CD[a+32>>2]|0)+208>>2]|0),!((n|0)<(s|0)))break;r=r+1|0}if((l|0)>-1)for(;;){if(s=CD[c+(o<<2)>>2]|0,n=CD[(CD[s+28>>2]|0)+208>>2]|0,(n|0)<=-1&&(n=CD[(CD[s+32>>2]|0)+208>>2]|0),!((l|0)<(n|0))){n=s;break}o=o+-1|0}else for(l=CD[(CD[h+32>>2]|0)+208>>2]|0;;){if(s=CD[c+(o<<2)>>2]|0,n=CD[(CD[s+28>>2]|0)+208>>2]|0,(n|0)<=-1&&(n=CD[(CD[s+32>>2]|0)+208>>2]|0),!((l|0)<(n|0))){n=s;break}o=o+-1|0}if((r|0)<=(o|0)&&(CD[c+(r<<2)>>2]=n,CD[(CD[t+12>>2]|0)+(o<<2)>>2]=a,r=r+1|0,o=o+-1|0),(r|0)>(o|0))break;c=CD[t+12>>2]|0}if((o|0)>(e|0)&&r_(t,e,o),!((r|0)<(i|0)))break;e=r}}function o_(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0,s=0;if(i=CD[t+32>>2]|0,r=i?CD[t+40>>2]|0:0,a=CD[t+52>>2]|0,o=a?CD[t+60>>2]|0:0,e=CD[t+72>>2]|0,n=e?CD[t+80>>2]|0:0,s=CD[t+8>>2]|0,+GP[CD[(CD[s>>2]|0)+12>>2]&3](s,r,i,o,a,n,e,CD[t+4>>2]|0,CD[t+20>>2]|0,CD[t+24>>2]|0),e=CD[t+32>>2]|0,(e|0)<0)for((CD[t+36>>2]|0)<0&&(i=CD[t+40>>2]|0,i&&(TD[t+44>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0)),CD[t+40>>2]=0),TD[t+44>>0]=1,CD[t+40>>2]=0,CD[t+36>>2]=0);;){if(i=(CD[t+40>>2]|0)+(e<<2)|0,i&&(CD[i>>2]=0),(e|0)==-1)break;e=e+1|0}if(CD[t+32>>2]=0,i=CD[t+52>>2]|0,(i|0)<0)for((CD[t+56>>2]|0)<0&&(e=CD[t+60>>2]|0,e&&(TD[t+64>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+60>>2]=0),TD[t+64>>0]=1,CD[t+60>>2]=0,CD[t+56>>2]=0);;){if(e=(CD[t+60>>2]|0)+(i<<2)|0,e&&(CD[e>>2]=0),(i|0)==-1)break;i=i+1|0}if(CD[t+52>>2]=0,i=CD[t+72>>2]|0,(i|0)>=0)return void(CD[t+72>>2]=0);for((CD[t+76>>2]|0)<0&&(e=CD[t+80>>2]|0,e&&(TD[t+84>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+80>>2]=0),TD[t+84>>0]=1,CD[t+80>>2]=0,CD[t+76>>2]=0);;){if(e=(CD[t+80>>2]|0)+(i<<2)|0,e&&(CD[e>>2]=0),(i|0)==-1)break;i=i+1|0}CD[t+72>>2]=0}function n_(t,e,i,r,o,n,a,s,l,c){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s=+s,l|=0,c=+c;var h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0;CD[t>>2]=CD[n>>2],CD[t+4>>2]=CD[n+4>>2],CD[t+8>>2]=CD[n+8>>2],CD[t+12>>2]=CD[n+12>>2],m=+RD[r+4>>2],b=+RD[t+8>>2],v=+RD[r+8>>2],p=+RD[t+4>>2],h=+RD[t>>2],_=+RD[r>>2],y=(m*b-v*p)*+RD[e>>2]+ +RD[e+4>>2]*(v*h-b*_)+(p*_-m*h)*+RD[e+8>>2],g=(m*b-v*p)*+RD[e+16>>2]+(v*h-b*_)*+RD[e+20>>2]+(p*_-m*h)*+RD[e+24>>2],m=(m*b-v*p)*+RD[e+32>>2]+(v*h-b*_)*+RD[e+36>>2]+(p*_-m*h)*+RD[e+40>>2],RD[t+16>>2]=y,RD[t+20>>2]=g,RD[t+24>>2]=m,RD[t+28>>2]=0,_=+RD[o+4>>2],v=+RD[o+8>>2],u=+RD[o>>2],f=+RD[i>>2]*(_*-b-v*-p)+ +RD[i+4>>2]*(v*-h-u*-b)+(u*-p-_*-h)*+RD[i+8>>2],d=(_*-b-v*-p)*+RD[i+16>>2]+(v*-h-u*-b)*+RD[i+20>>2]+(u*-p-_*-h)*+RD[i+24>>2],h=(_*-b-v*-p)*+RD[i+32>>2]+(v*-h-u*-b)*+RD[i+36>>2]+(u*-p-_*-h)*+RD[i+40>>2],RD[t+32>>2]=f,RD[t+36>>2]=d,RD[t+40>>2]=h,RD[t+44>>2]=0,y=+RD[a>>2]*y,g=+RD[a+4>>2]*g,m=+RD[a+8>>2]*m,RD[t+48>>2]=y,RD[t+52>>2]=g,RD[t+56>>2]=m,RD[t+60>>2]=0,_=+RD[l>>2]*f,p=+RD[l+4>>2]*d,u=+RD[l+8>>2]*h,RD[t+64>>2]=_,RD[t+68>>2]=p,RD[t+72>>2]=u,RD[t+76>>2]=0,RD[t+80>>2]=y*+RD[t+16>>2]+g*+RD[t+20>>2]+m*+RD[t+24>>2]+s+c+(_*f+p*d+u*h)}function a_(t,e,i){t=+t,e=+e,i=+i;var r=0,o=0;return e>=i?+t:t<e?(r=+Rw(e-t,6.2831854820251465),r<-3.1415927410125732?r+=6.2831854820251465:r>3.1415927410125732&&(r+=-6.2831854820251465),o=+JD(+r),r=+Rw(i-t,6.2831854820251465),r<-3.1415927410125732?r+=6.2831854820251465:r>3.1415927410125732&&(r+=-6.2831854820251465),o<+JD(+r)?+t:(t+=6.2831854820251465,+t)):t>i?(r=+Rw(t-i,6.2831854820251465),r<-3.1415927410125732?r+=6.2831854820251465:r>3.1415927410125732&&(r+=-6.2831854820251465),o=+JD(+r),r=+Rw(t-e,6.2831854820251465),r<-3.1415927410125732?r+=6.2831854820251465:r>3.1415927410125732&&(r+=-6.2831854820251465),+JD(+r)<o?(t+=-6.2831854820251465,+t):+t):+t}function s_(t){t|=0;var e=0;CD[t>>2]=1464,e=CD[t+496>>2]|0,e&&(TD[t+500>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+496>>2]=0),TD[t+500>>0]=1,CD[t+496>>2]=0,CD[t+488>>2]=0,CD[t+492>>2]=0}function l_(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0;if(a=CD[t+4>>2]|0,(a|0)==(CD[t+8>>2]|0)?(n=(a|0)==0?1:a<<1,(a|0)<(n|0)):0){if(n?(CD[5108]=(CD[5108]|0)+1,i=Aw((n*244|3)+16|0)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,i=i+4+15&-16):i=0,r=CD[t+4>>2]|0):(i=0,r=a),(r|0)>0)for(r=r+-1|0,o=0;;){if(l=i+(o*244|0)|0,s=CD[t+12>>2]|0,c=s+(o*244|0)|0,CD[l>>2]=CD[c>>2],CD[l+4>>2]=CD[c+4>>2],CD[l+8>>2]=CD[c+8>>2],CD[l+12>>2]=CD[c+12>>2],l=i+(o*244|0)+16|0,c=s+(o*244|0)+16|0,CD[l>>2]=CD[c>>2],CD[l+4>>2]=CD[c+4>>2],CD[l+8>>2]=CD[c+8>>2],CD[l+12>>2]=CD[c+12>>2],l=i+(o*244|0)+32|0,c=s+(o*244|0)+32|0,CD[l>>2]=CD[c>>2],CD[l+4>>2]=CD[c+4>>2],CD[l+8>>2]=CD[c+8>>2],CD[l+12>>2]=CD[c+12>>2],l=i+(o*244|0)+48|0,c=s+(o*244|0)+48|0,CD[l>>2]=CD[c>>2],CD[l+4>>2]=CD[c+4>>2],CD[l+8>>2]=CD[c+8>>2],CD[l+12>>2]=CD[c+12>>2],kw(i+(o*244|0)+64|0,s+(o*244|0)+64|0,180)|0,(o|0)==(r|0))break;o=o+1|0}r=CD[t+12>>2]|0,r&&(TD[t+16>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[r+-4>>2]|0)),CD[t+12>>2]=0),TD[t+16>>0]=1,CD[t+12>>2]=i,CD[t+8>>2]=n,i=CD[t+4>>2]|0}else i=a;return CD[t+4>>2]=i+1,c=CD[t+12>>2]|0,CD[c+(a*244|0)>>2]=CD[e>>2],CD[c+(a*244|0)+4>>2]=CD[e+4>>2],CD[c+(a*244|0)+8>>2]=CD[e+8>>2],CD[c+(a*244|0)+12>>2]=CD[e+12>>2],CD[c+(a*244|0)+16>>2]=CD[e+16>>2],CD[c+(a*244|0)+16+4>>2]=CD[e+16+4>>2],CD[c+(a*244|0)+16+8>>2]=CD[e+16+8>>2],CD[c+(a*244|0)+16+12>>2]=CD[e+16+12>>2],CD[c+(a*244|0)+32>>2]=CD[e+32>>2],CD[c+(a*244|0)+32+4>>2]=CD[e+32+4>>2],CD[c+(a*244|0)+32+8>>2]=CD[e+32+8>>2],CD[c+(a*244|0)+32+12>>2]=CD[e+32+12>>2],CD[c+(a*244|0)+48>>2]=CD[e+48>>2],CD[c+(a*244|0)+48+4>>2]=CD[e+48+4>>2],CD[c+(a*244|0)+48+8>>2]=CD[e+48+8>>2],CD[c+(a*244|0)+48+12>>2]=CD[e+48+12>>2],kw(c+(a*244|0)+64|0,e+64|0,180)|0,(CD[t+12>>2]|0)+(a*244|0)|0}function c_(t,e,i){t|=0,e|=0,i|=0;for(var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0;;){for(c=CD[t+12>>2]|0,h=CD[c+(((e+i|0)/2|0)<<2)>>2]|0,r=e,o=i;;){if(l=CD[(CD[h+740>>2]|0)+208>>2]|0,(l|0)>-1)for(;;){if(a=CD[c+(r<<2)>>2]|0,n=CD[(CD[a+740>>2]|0)+208>>2]|0,(n|0)<=-1&&(n=CD[(CD[a+744>>2]|0)+208>>2]|0),!((n|0)<(l|0)))break;r=r+1|0}else for(s=CD[(CD[h+744>>2]|0)+208>>2]|0;;){if(a=CD[c+(r<<2)>>2]|0,n=CD[(CD[a+740>>2]|0)+208>>2]|0,(n|0)<=-1&&(n=CD[(CD[a+744>>2]|0)+208>>2]|0),!((n|0)<(s|0)))break;r=r+1|0}if((l|0)>-1)for(;;){if(s=CD[c+(o<<2)>>2]|0,n=CD[(CD[s+740>>2]|0)+208>>2]|0,(n|0)<=-1&&(n=CD[(CD[s+744>>2]|0)+208>>2]|0),!((l|0)<(n|0))){n=s;break}o=o+-1|0}else for(l=CD[(CD[h+744>>2]|0)+208>>2]|0;;){if(s=CD[c+(o<<2)>>2]|0,n=CD[(CD[s+740>>2]|0)+208>>2]|0,(n|0)<=-1&&(n=CD[(CD[s+744>>2]|0)+208>>2]|0),!((l|0)<(n|0))){n=s;break}o=o+-1|0}if((r|0)<=(o|0)&&(CD[c+(r<<2)>>2]=n,CD[(CD[t+12>>2]|0)+(o<<2)>>2]=a,r=r+1|0,o=o+-1|0),(r|0)>(o|0))break;c=CD[t+12>>2]|0}if((o|0)>(e|0)&&c_(t,e,o),!((r|0)<(i|0)))break;e=r}}function h_(t,e){t|=0,e=+e,RD[t+44>>2]=e}function u_(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0;l=+RD[i+48>>2]-+RD[e+48>>2],a=+RD[i+52>>2]-+RD[e+52>>2],o=+RD[i+56>>2]-+RD[e+56>>2],f=+RD[e>>2],T=+RD[i>>2],p=+RD[e+16>>2],S=+RD[i+16>>2],d=+RD[e+32>>2],M=+RD[i+32>>2],v=+RD[i+4>>2],b=+RD[i+20>>2],y=+RD[i+36>>2],g=+RD[i+8>>2],m=+RD[i+24>>2],_=+RD[i+40>>2],u=+RD[e+4>>2],h=+RD[e+20>>2],c=+RD[e+36>>2],s=+RD[e+8>>2],n=+RD[e+24>>2],r=+RD[e+40>>2],RD[t>>2]=f*T+p*S+d*M,RD[t+4>>2]=f*v+p*b+d*y,RD[t+8>>2]=f*g+p*m+d*_,RD[t+12>>2]=0,RD[t+16>>2]=T*u+S*h+M*c,RD[t+20>>2]=v*u+b*h+y*c,RD[t+24>>2]=g*u+m*h+_*c,RD[t+28>>2]=0,RD[t+32>>2]=T*s+S*n+M*r,RD[t+36>>2]=v*s+b*n+y*r,RD[t+40>>2]=g*s+m*n+_*r,RD[t+44>>2]=0,RD[t+48>>2]=l*f+a*p+o*d,RD[t+52>>2]=l*u+a*h+o*c,RD[t+56>>2]=l*s+a*n+o*r,RD[t+60>>2]=0}function d_(t){t|=0}function p_(t){t|=0;var e=0;return e=CD[t+72>>2]|0,e&&(TD[t+76>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+72>>2]=0),TD[t+76>>0]=1,CD[t+72>>2]=0,CD[t+64>>2]=0,CD[t+68>>2]=0,e=CD[t+52>>2]|0,e&&(TD[t+56>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+52>>2]=0),TD[t+56>>0]=1,CD[t+52>>2]=0,CD[t+44>>2]=0,CD[t+48>>2]=0,e=CD[t+32>>2]|0,e&&(TD[t+36>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+32>>2]=0),TD[t+36>>0]=1,CD[t+32>>2]=0,CD[t+24>>2]=0,CD[t+28>>2]=0,(e=CD[t+12>>2]|0)?(TD[t+16>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+12>>2]=0,TD[t+16>>0]=1,CD[t+12>>2]=0,CD[t+4>>2]=0,t=t+8|0,void(CD[t>>2]=0)):(TD[t+16>>0]=1,CD[t+12>>2]=0,CD[t+4>>2]=0,t=t+8|0,void(CD[t>>2]=0))}function f_(t,e,i){t|=0,e|=0,i|=0;for(var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0;;){for(l=CD[t+12>>2]|0,c=CD[l+(((e+i|0)/2|0)<<3)>>2]|0,r=e,o=i;;){for(s=r;;){if(r=s+1|0,!((CD[l+(s<<3)>>2]|0)<(c|0)))break;s=r}for(;;){if(n=l+(o<<3)|0,a=o+-1|0,!((c|0)<(CD[n>>2]|0)))break;o=a}if((s|0)>(o|0)?r=s:(h=l+(s<<3)|0,s=CD[h>>2]|0,l=CD[h+4>>2]|0,u=CD[n+4>>2]|0,CD[h>>2]=CD[n>>2],CD[h+4>>2]=u,o=(CD[t+12>>2]|0)+(o<<3)|0,CD[o>>2]=s,CD[o+4>>2]=l,o=a),(r|0)>(o|0))break;l=CD[t+12>>2]|0}if((o|0)>(e|0)&&f_(t,e,o),!((r|0)<(i|0)))break;e=r}}function __(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0;if(t){d=+RD[e>>2],p=+RD[e+4>>2],f=+RD[e+8>>2],m=+RD[e+16>>2],g=+RD[e+20>>2],h=+RD[e+24>>2],CD[5108]=(CD[5108]|0)+1,r=Aw(275)|0,r?(CD[(r+4+15&-16)+-4>>2]=r,e=r+4+15&-16,r+4+15&-16&&(CD[e>>2]=t)):e=0,r=1,t=64;do{c=r+-1|0,s=CD[e+(c<<2)>>2]|0;do if(((((+RD[s>>2]<=m?+RD[s+16>>2]>=d:0)?+RD[s+4>>2]<=g:0)?+RD[s+20>>2]>=p:0)?+RD[s+8>>2]<=h:0)?+RD[s+24>>2]>=f:0){if(!(CD[s+40>>2]|0)){bP[CD[(CD[i>>2]|0)+12>>2]&127](i,s),r=c;break}if(l=CD[s+36>>2]|0,(c|0)==(t|0)?(u=(t|0)==0?1:t<<1,(r|0)<=(u|0)):0){if(((u|0)!=0?(CD[5108]=(CD[5108]|0)+1,_=Aw((u<<2|3)+16|0)|0,(_|0)!=0):0)?(CD[(_+4+15&-16)+-4>>2]=_,a=_+4+15&-16):a=0,(r|0)>1)for(n=r+-2|0,t=0;;){if(o=a+(t<<2)|0,o&&(CD[o>>2]=CD[e+(t<<2)>>2]),(t|0)==(n|0))break;t=t+1|0}e?(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0),e=a,t=u):(e=a,t=u)}if(o=e+(c<<2)|0,o&&(CD[o>>2]=l),s=CD[s+40>>2]|0,(r|0)==(t|0))if(o=(r|0)==0?1:r<<1,(r|0)<(o|0)){if(((o|0)!=0?(CD[5108]=(CD[5108]|0)+1,y=Aw((o<<2|3)+16|0)|0,(y|0)!=0):0)?(CD[(y+4+15&-16)+-4>>2]=y,t=y+4+15&-16):t=0,(r|0)>0)for(a=0;;){if(n=t+(a<<2)|0,n&&(CD[n>>2]=CD[e+(a<<2)>>2]),(a|0)==(c|0))break;a=a+1|0}e?(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0),e=t):e=t}else o=r;else o=t;t=e+(r<<2)|0,t&&(CD[t>>2]=s),r=r+1|0,t=o}else r=c;while(0)}while((r|0)>0);e&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0))}}function m_(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0;return n=BD,BD=BD+160|0,r=CD[t+4>>2]|0,o=CD[r+12>>2]|0,E=+RD[o>>2],C=+RD[o+4>>2],x=+RD[o+8>>2],T=+RD[o+16>>2],S=+RD[o+20>>2],M=+RD[o+24>>2],f=+RD[o+32>>2],d=+RD[o+36>>2],h=+RD[o+40>>2],r=CD[(CD[r+4>>2]|0)+24>>2]|0,v=+RD[r+(i*80|0)>>2],b=+RD[r+(i*80|0)+16>>2],y=+RD[r+(i*80|0)+32>>2],g=+RD[r+(i*80|0)+4>>2],m=+RD[r+(i*80|0)+20>>2],_=+RD[r+(i*80|0)+36>>2],p=+RD[r+(i*80|0)+8>>2],u=+RD[r+(i*80|0)+24>>2],c=+RD[r+(i*80|0)+40>>2],w=+RD[r+(i*80|0)+48>>2],A=+RD[r+(i*80|0)+52>>2],a=+RD[r+(i*80|0)+56>>2],l=+RD[o+48>>2]+(E*w+C*A+x*a),s=+RD[o+52>>2]+(T*w+S*A+M*a),a=+RD[o+56>>2]+(f*w+d*A+h*a),RD[n+88>>2]=E*v+C*b+x*y,RD[n+88+4>>2]=E*g+C*m+x*_,RD[n+88+8>>2]=E*p+C*u+x*c,RD[n+88+12>>2]=0,RD[n+88+16>>2]=T*v+S*b+M*y,RD[n+88+20>>2]=T*g+S*m+M*_,RD[n+88+24>>2]=T*p+S*u+M*c,RD[n+88+28>>2]=0,RD[n+88+32>>2]=f*v+d*b+h*y,RD[n+88+36>>2]=f*g+d*m+h*_,RD[n+88+40>>2]=f*p+d*u+h*c,RD[n+88+44>>2]=0,RD[n+88+48>>2]=l,RD[n+88+52>>2]=s,RD[n+88+56>>2]=a,RD[n+88+60>>2]=0,eB[CD[(CD[e>>2]|0)+8>>2]&127](e,n+88|0,n+72|0,n+56|0),o=CD[t+8>>2]|0,r=CD[o+4>>2]|0,eB[CD[(CD[r>>2]|0)+8>>2]&127](r,CD[o+12>>2]|0,n+40|0,n+24|0),r=(+RD[n+72>>2]>+RD[n+24>>2]?!0:+RD[n+56>>2]<+RD[n+40>>2])?0:1,(+RD[n+72+8>>2]>+RD[n+24+8>>2]?0:!(+RD[n+56+8>>2]<+RD[n+40+8>>2]))||(r=0),+RD[n+72+4>>2]>+RD[n+24+4>>2]?void(BD=n):+RD[n+56+4>>2]<+RD[n+40+4>>2]|r^1?void(BD=n):(r=CD[t+4>>2]|0,o=CD[r+8>>2]|0,CD[n>>2]=r,CD[n+4>>2]=e,CD[n+8>>2]=o,CD[n+12>>2]=n+88,CD[n+16>>2]=-1,CD[n+20>>2]=i,CD[(CD[t+24>>2]|0)+(i<<2)>>2]|0||(r=CD[t+12>>2]|0,r=CP[CD[(CD[r>>2]|0)+8>>2]&31](r,n,CD[t+8>>2]|0,CD[t+28>>2]|0)|0,CD[(CD[t+24>>2]|0)+(i<<2)>>2]=r,r=CD[t+4>>2]|0),e=CD[t+20>>2]|0,o=CD[e+8>>2]|0,(CD[o+8>>2]|0)==(CD[r+8>>2]|0)?(CD[e+8>>2]=n,QP[CD[(CD[e>>2]|0)+8>>2]&127](e,-1,i)):(o=CD[e+12>>2]|0,CD[e+12>>2]=n,QP[CD[(CD[e>>2]|0)+12>>2]&127](e,-1,i)),r=CD[(CD[t+24>>2]|0)+(i<<2)>>2]|0,_P[CD[(CD[r>>2]|0)+8>>2]&31](r,n,CD[t+8>>2]|0,CD[t+16>>2]|0,CD[t+20>>2]|0),r=CD[t+20>>2]|0,(CD[(CD[r+8>>2]|0)+8>>2]|0)==(CD[(CD[t+4>>2]|0)+8>>2]|0)?(CD[r+8>>2]=o,void(BD=n)):(CD[r+12>>2]=o,void(BD=n)))
}function g_(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0;if(!((CD[t+8>>2]|0)>=(e|0))){if(((e|0)!=0?(CD[5108]=(CD[5108]|0)+1,i=Aw((e*36|3)+16|0)|0,(i|0)!=0):0)?(CD[(i+4+15&-16)+-4>>2]=i,c=i+4+15&-16):c=0,r=CD[t+4>>2]|0,(r|0)>0){for(o=0;;){if(i=c+(o*36|0)|0,i&&y_(i,(CD[t+12>>2]|0)+(o*36|0)|0),(o|0)==(r+-1|0))break;o=o+1|0}if(o=CD[t+4>>2]|0,(o|0)>0)for(l=0;;){if(i=CD[t+12>>2]|0,n=i+(l*36|0)+4|0,a=i+(l*36|0)+12|0,s=CD[a>>2]|0,r=i+(l*36|0)+16|0,s&&(TD[r>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[s+-4>>2]|0)),CD[a>>2]=0),TD[r>>0]=1,CD[a>>2]=0,CD[n>>2]=0,CD[i+(l*36|0)+8>>2]=0,(l|0)==(o+-1|0)){i=t+12|0;break}l=l+1|0}else i=t+12|0}else i=t+12|0;r=CD[i>>2]|0,r&&(TD[t+16>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[r+-4>>2]|0)),CD[i>>2]=0),TD[t+16>>0]=1,CD[i>>2]=c,CD[t+8>>2]=e}}function y_(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0;if(TD[t+16>>0]=1,CD[t+12>>2]=0,CD[t+4>>2]=0,CD[t+8>>2]=0,a=CD[e+4>>2]|0,(a|0)<=0)return CD[t+4>>2]=a,t=t+20|0,a=e+20|0,CD[t>>2]=CD[a>>2],CD[t+4>>2]=CD[a+4>>2],CD[t+8>>2]=CD[a+8>>2],void(CD[t+12>>2]=CD[a+12>>2]);if(CD[5108]=(CD[5108]|0)+1,i=Aw((a<<2|3)+16|0)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,n=i+4+15&-16):n=0,r=CD[t+4>>2]|0,(r|0)>0)for(o=0;;){if(i=n+(o<<2)|0,i&&(CD[i>>2]=CD[(CD[t+12>>2]|0)+(o<<2)>>2]),(o|0)==(r+-1|0))break;o=o+1|0}for(i=CD[t+12>>2]|0,i&&(TD[t+16>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0)),CD[t+12>>2]=0),TD[t+16>>0]=1,CD[t+12>>2]=n,CD[t+8>>2]=a,r=0;;){if(i=n+(r<<2)|0,i&&(CD[i>>2]=0),(r|0)==(a+-1|0))break;r=r+1|0}for(CD[t+4>>2]=a,r=CD[e+12>>2]|0,o=0;;){if(i=n+(o<<2)|0,i&&(CD[i>>2]=CD[r+(o<<2)>>2]),(o|0)==(a+-1|0))break;o=o+1|0}t=t+20|0,a=e+20|0,CD[t>>2]=CD[a>>2],CD[t+4>>2]=CD[a+4>>2],CD[t+8>>2]=CD[a+8>>2],CD[t+12>>2]=CD[a+12>>2]}function b_(t){return t|=0,+ +RD[t+44>>2]}function v_(t,e){t|=0,e=+e;var i=0,r=0,o=0,n=0,a=0;n=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),r=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),a=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),n+=+RD[t+28>>2],r+=+RD[t+32>>2],a+=+RD[t+36>>2],RD[t+44>>2]=e,o=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),i=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),e=a-+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),RD[t+28>>2]=n-o,RD[t+32>>2]=r-i,RD[t+36>>2]=e,RD[t+40>>2]=0}function M_(t,e){t|=0,e=+e;var i=0,r=0,o=0,n=0,a=0;n=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),r=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),a=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),n+=+RD[t+28>>2],r+=+RD[t+32>>2],a+=+RD[t+36>>2],RD[t+44>>2]=e,o=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),i=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),e=a-+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),RD[t+28>>2]=n-o,RD[t+32>>2]=r-i,RD[t+36>>2]=e,RD[t+40>>2]=0}function S_(t,e,i){t|=0,e|=0,i|=0;for(var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0;;){for(m=(e+i|0)/2|0,p=CD[t+12>>2]|0,f=CD[p+(m<<4)>>2]|0,_=CD[p+(m<<4)+4>>2]|0,m=CD[p+(m<<4)+8>>2]|0,r=e,o=i;;){t:do if(f)for(u=CD[f+12>>2]|0;;){h=CD[p+(r<<4)>>2]|0,l=h?CD[h+12>>2]|0:-1,c=CD[p+(r<<4)+4>>2]|0,s=c?CD[c+12>>2]|0:-1,a=_?CD[_+12>>2]|0:-1;do if((l|0)<=(u|0)){if(n=(s|0)>(a|0),n|(h|0)==(f|0)^1){if((h|0)==(f|0)&n)break;break t}if((c|0)!=(_|0))break t;if((CD[p+(r<<4)+8>>2]|0)>>>0<=m>>>0)break t}while(0);r=r+1|0}else for(;;){l=CD[p+(r<<4)>>2]|0,n=l?CD[l+12>>2]|0:-1,c=CD[p+(r<<4)+4>>2]|0,a=c?CD[c+12>>2]|0:-1,s=_?CD[_+12>>2]|0:-1;do if((n|0)<=-1){if(n=(a|0)>(s|0),n|(l|0)==0^1){if((l|0)==0&n)break;break t}if((c|0)!=(_|0))break t;if((CD[p+(r<<4)+8>>2]|0)>>>0<=m>>>0)break t}while(0);r=r+1|0}while(0);t:for(;;){h=f?CD[f+12>>2]|0:-1,u=CD[p+(o<<4)>>2]|0,l=u?CD[u+12>>2]|0:-1,s=_?CD[_+12>>2]|0:-1,d=CD[p+(o<<4)+4>>2]|0,a=d?CD[d+12>>2]|0:-1;do if((h|0)<=(l|0)){if(n=(s|0)>(a|0),n|(f|0)==(u|0)^1){if((f|0)==(u|0)&n)break;break t}if((_|0)!=(d|0))break t;if(m>>>0<=(CD[p+(o<<4)+8>>2]|0)>>>0)break t}while(0);o=o+-1|0}if((r|0)<=(o|0)&&(l=p+(r<<4)|0,h=CD[l>>2]|0,u=CD[p+(r<<4)+8>>2]|0,d=CD[p+(r<<4)+12>>2]|0,p=p+(o<<4)|0,CD[l>>2]=CD[p>>2],CD[l+4>>2]=CD[p+4>>2],CD[l+8>>2]=CD[p+8>>2],CD[l+12>>2]=CD[p+12>>2],p=CD[t+12>>2]|0,CD[p+(o<<4)>>2]=h,CD[p+(o<<4)+4>>2]=c,CD[p+(o<<4)+8>>2]=u,CD[p+(o<<4)+12>>2]=d,r=r+1|0,o=o+-1|0),(r|0)>(o|0))break;p=CD[t+12>>2]|0}if((o|0)>(e|0)&&S_(t,e,o),!((r|0)<(i|0)))break;e=r}}function T_(t,e,i,r,o,n,a,s,l){t|=0,e|=0,i|=0,r|=0,o|=0,n=+n,a|=0,s|=0,l|=0;var c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0;if(C=BD,BD=BD+32|0,!e)return void(BD=C);if(h=CD[t+44>>2]|0,(h|0)<128){if((CD[t+48>>2]|0)<128){if(CD[5108]=(CD[5108]|0)+1,c=Aw(531)|0,c?(CD[(c+4+15&-16)+-4>>2]=c,p=c+4+15&-16):p=0,u=CD[t+44>>2]|0,(u|0)>0)for(d=0;;){if(c=p+(d<<2)|0,c&&(CD[c>>2]=CD[(CD[t+52>>2]|0)+(d<<2)>>2]),(d|0)==(u+-1|0))break;d=d+1|0}c=CD[t+52>>2]|0,c&&(TD[t+56>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[c+-4>>2]|0)),CD[t+52>>2]=0),TD[t+56>>0]=1,CD[t+52>>2]=p,CD[t+48>>2]=128,u=t+52|0}else u=t+52|0;for(;;){if(c=(CD[u>>2]|0)+(h<<2)|0,c&&(CD[c>>2]=0),(h|0)==127){v=t+48|0;break}h=h+1|0}}else v=t+48|0;CD[t+44>>2]=128,CD[CD[t+52>>2]>>2]=e,u=1,h=126;do{y=u+-1|0,p=CD[t+52>>2]|0,b=CD[p+(y<<2)>>2]|0,g=+RD[b+4>>2]-+RD[s+4>>2],_=+RD[b+8>>2]-+RD[s+8>>2],RD[C>>2]=+RD[b>>2]-+RD[s>>2],RD[C+4>>2]=g,RD[C+8>>2]=_,RD[C+12>>2]=0,_=+RD[b+20>>2]-+RD[a+4>>2],g=+RD[b+24>>2]-+RD[a+8>>2],RD[C+16>>2]=+RD[b+16>>2]-+RD[a>>2],RD[C+20>>2]=_,RD[C+24>>2]=g,RD[C+28>>2]=0,e=CD[o>>2]|0,g=+RD[i>>2],_=+RD[r>>2],m=(+RD[C+(e<<4)>>2]-g)*_,g=_*(+RD[C+(1-e<<4)>>2]-g),e=CD[o+4>>2]|0,_=+RD[i+4>>2],E=+RD[r+4>>2],f=(+RD[C+(e<<4)+4>>2]-_)*E,_=E*(+RD[C+(1-e<<4)+4>>2]-_);do if(((f>g|m>_?!0:(M=f>m?f:m,x=_<g?_:g,e=CD[o+8>>2]|0,T=+RD[i+8>>2],E=+RD[r+8>>2],S=(+RD[C+(e<<4)+8>>2]-T)*E,T=E*(+RD[C+(1-e<<4)+8>>2]-T),S>x|M>T))?0:(S>M?S:M)<n)?(T<x?T:x)>0:0){if(!(CD[b+40>>2]|0)){bP[CD[(CD[l>>2]|0)+12>>2]&127](l,b),u=y;break}if((y|0)>(h|0)){if(e=CD[t+44>>2]|0,(e|0)<(e<<1|0)){if((CD[v>>2]|0)<(e<<1|0)){if(e){if(CD[5108]=(CD[5108]|0)+1,h=Aw((e<<3|3)+16|0)|0,h?(CD[(h+4+15&-16)+-4>>2]=h,h=h+4+15&-16):h=0,p=CD[t+44>>2]|0,(p|0)>0)for(c=0;;){if(d=h+(c<<2)|0,d&&(CD[d>>2]=CD[(CD[t+52>>2]|0)+(c<<2)>>2]),(c|0)==(p+-1|0))break;c=c+1|0}}else h=0;d=CD[t+52>>2]|0,d&&(TD[t+56>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[d+-4>>2]|0)),CD[t+52>>2]=0),TD[t+56>>0]=1,CD[t+52>>2]=h,CD[v>>2]=e<<1}else h=p;for(p=e;;){if(d=h+(p<<2)|0,d&&(CD[d>>2]=0),(p|0)==((e<<1)+-1|0))break;h=CD[t+52>>2]|0,p=p+1|0}h=CD[t+52>>2]|0}else h=p;CD[t+44>>2]=e<<1,p=h,h=(e<<1)+-2|0}CD[p+(y<<2)>>2]=CD[b+36>>2],CD[(CD[t+52>>2]|0)+(u<<2)>>2]=CD[b+40>>2],u=u+1|0}else u=y;while(0)}while((u|0)!=0);BD=C}function x_(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0;if((e|0)!=0&(i|0)!=0){if((CD[t+24>>2]|0)<128?(CD[t+28>>2]|0)<128:0){if(CD[5108]=(CD[5108]|0)+1,o=Aw(1043)|0,o?(CD[(o+4+15&-16)+-4>>2]=o,s=o+4+15&-16):s=0,o=CD[t+24>>2]|0,(o|0)>0)for(a=0;;){if(n=s+(a<<3)|0,n&&(h=(CD[t+32>>2]|0)+(a<<3)|0,u=CD[h+4>>2]|0,CD[n>>2]=CD[h>>2],CD[n+4>>2]=u),(a|0)==(o+-1|0))break;a=a+1|0}o=CD[t+32>>2]|0,o&&(TD[t+36>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[o+-4>>2]|0)),CD[t+32>>2]=0),TD[t+36>>0]=1,CD[t+32>>2]=s,CD[t+28>>2]=128,u=t+28|0}else u=t+28|0;for(CD[t+24>>2]=128,o=CD[t+32>>2]|0,CD[o>>2]=e,CD[o+4>>2]=i,o=1,s=124;;){if(l=o+-1|0,a=CD[t+32>>2]|0,c=CD[a+(l<<3)>>2]|0,h=CD[a+(l<<3)+4>>2]|0,(l|0)>(s|0)){if(n=CD[t+24>>2]|0,(n|0)<(n<<1|0)?(CD[u>>2]|0)<(n<<1|0):0){if(n){if(CD[5108]=(CD[5108]|0)+1,a=Aw((n<<4|3)+16|0)|0,a?(CD[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,i=CD[t+24>>2]|0,(i|0)>0)for(s=0;;){if(e=a+(s<<3)|0,e&&(p=(CD[t+32>>2]|0)+(s<<3)|0,d=CD[p+4>>2]|0,CD[e>>2]=CD[p>>2],CD[e+4>>2]=d),(s|0)==(i+-1|0))break;s=s+1|0}}else a=0;s=CD[t+32>>2]|0,s&&(TD[t+36>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[s+-4>>2]|0)),CD[t+32>>2]=0),TD[t+36>>0]=1,CD[t+32>>2]=a,CD[u>>2]=n<<1}CD[t+24>>2]=n<<1,e=(n<<1)+-4|0}else e=s;do if((c|0)==(h|0))CD[c+40>>2]|0?(d=CD[c+36>>2]|0,p=a+(l<<3)|0,CD[p>>2]=d,CD[p+4>>2]=d,p=CD[c+40>>2]|0,d=(CD[t+32>>2]|0)+(o<<3)|0,CD[d>>2]=p,CD[d+4>>2]=p,d=CD[c+40>>2]|0,p=(CD[t+32>>2]|0)+(o+1<<3)|0,CD[p>>2]=CD[c+36>>2],CD[p+4>>2]=d,o=o+2|0):o=l;else{if(((((+RD[c>>2]<=+RD[h+16>>2]?+RD[c+16>>2]>=+RD[h>>2]:0)?+RD[c+4>>2]<=+RD[h+20>>2]:0)?+RD[c+20>>2]>=+RD[h+4>>2]:0)?+RD[c+8>>2]<=+RD[h+24>>2]:0)?+RD[c+24>>2]>=+RD[h+8>>2]:0){if(i=(CD[h+40>>2]|0)!=0,CD[c+40>>2]|0){if(s=a+(l<<3)|0,a=CD[c+36>>2]|0,i){d=CD[h+36>>2]|0,CD[s>>2]=a,CD[s+4>>2]=d,d=CD[h+36>>2]|0,p=(CD[t+32>>2]|0)+(o<<3)|0,CD[p>>2]=CD[c+40>>2],CD[p+4>>2]=d,p=CD[h+40>>2]|0,d=(CD[t+32>>2]|0)+(o+1<<3)|0,CD[d>>2]=CD[c+36>>2],CD[d+4>>2]=p,d=CD[h+40>>2]|0,p=(CD[t+32>>2]|0)+(o+2<<3)|0,CD[p>>2]=CD[c+40>>2],CD[p+4>>2]=d,o=o+3|0;break}CD[s>>2]=a,CD[s+4>>2]=h,p=(CD[t+32>>2]|0)+(o<<3)|0,CD[p>>2]=CD[c+40>>2],CD[p+4>>2]=h,o=o+1|0;break}if(i){p=CD[h+36>>2]|0,d=a+(l<<3)|0,CD[d>>2]=c,CD[d+4>>2]=p,d=CD[h+40>>2]|0,p=(CD[t+32>>2]|0)+(o<<3)|0,CD[p>>2]=c,CD[p+4>>2]=d,o=o+1|0;break}QP[CD[(CD[r>>2]|0)+8>>2]&127](r,c,h),o=l;break}o=l}while(0);if(!o)break;s=e}}}function C_(t,e){t|=0,e|=0;var i=0;return CD[e+40>>2]|0&&(C_(t,CD[e+36>>2]|0),C_(t,CD[e+40>>2]|0)),(CD[t>>2]|0)==(e|0)&&(CD[t>>2]=0),(i=CD[t+4>>2]|0)?(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0),void(CD[t+4>>2]=e)):void(CD[t+4>>2]=e)}function E_(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0;if((CD[t>>2]|0)==(e|0))return CD[t>>2]=0,t=0,t|0;if(r=CD[e+32>>2]|0,i=CD[r+32>>2]|0,e=CD[r+36+(((CD[r+40>>2]|0)!=(e|0)&1)<<2)>>2]|0,!i)return CD[t>>2]=e,CD[e+32>>2]=0,i=CD[t+4>>2]|0,i?(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0),i=CD[t>>2]|0):i=e,CD[t+4>>2]=r,t=i,t|0;CD[i+36+(((CD[i+40>>2]|0)==(r|0)&1)<<2)>>2]=e,CD[e+32>>2]=i,e=CD[t+4>>2]|0,e&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+4>>2]=r;do{if(m=+RD[i>>2],M=i+4|0,f=+RD[M>>2],b=i+8|0,d=+RD[b>>2],S=i+16|0,h=+RD[S>>2],v=i+20|0,a=+RD[v>>2],r=i+24|0,l=+RD[r>>2],y=CD[i+36>>2]|0,e=CD[i+40>>2]|0,g=+RD[y>>2],_=+RD[e>>2],_=g<_?g:_,RD[i>>2]=_,g=+RD[y+16>>2],c=+RD[e+16>>2],c=g>c?g:c,RD[S>>2]=c,g=+RD[y+4>>2],p=+RD[e+4>>2],p=g<p?g:p,RD[M>>2]=p,g=+RD[y+20>>2],n=+RD[e+20>>2],n=g>n?g:n,RD[v>>2]=n,g=+RD[y+8>>2],u=+RD[e+8>>2],u=g<u?g:u,RD[b>>2]=u,g=+RD[y+24>>2],s=+RD[e+24>>2],s=g>s?g:s,RD[r>>2]=s,m!=_|f!=p|d!=u|h!=c?0:!(l!=s|a!=n)){o=14;break}i=CD[i+32>>2]|0}while((i|0)!=0);return(o|0)==14?i|0:(M=CD[t>>2]|0,M|0)}function A_(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0;if(!(CD[t>>2]|0))return CD[t>>2]=i,void(CD[i+32>>2]=0);if(r=CD[e+40>>2]|0){s=+RD[i>>2]+ +RD[i+16>>2],n=+RD[i+4>>2]+ +RD[i+20>>2],a=+RD[i+8>>2]+ +RD[i+24>>2];do u=CD[e+36>>2]|0,h=+JD(+(s-(+RD[u>>2]+ +RD[u+16>>2])))+ +JD(+(n-(+RD[u+4>>2]+ +RD[u+20>>2])))+ +JD(+(a-(+RD[u+8>>2]+ +RD[u+24>>2]))),e=e+36+((!(h<+JD(+(s-(+RD[r>>2]+ +RD[r+16>>2])))+ +JD(+(n-(+RD[r+4>>2]+ +RD[r+20>>2])))+ +JD(+(a-(+RD[r+8>>2]+ +RD[r+24>>2]))))&1)<<2)|0,e=CD[e>>2]|0,r=CD[e+40>>2]|0;while((r|0)!=0);u=e}else u=e;if(d=u+32|0,p=CD[d>>2]|0,e=CD[t+4>>2]|0)CD[t+4>>2]=0;else if(CD[5108]=(CD[5108]|0)+1,r=Aw(63)|0,(r|0)!=0?(CD[(r+4+15&-16)+-4>>2]=r,(r+4+15&-16|0)!=0):0){e=r+4+15&-16,o=e+44|0;do CD[e>>2]=0,e=e+4|0;while((e|0)<(o|0));e=r+4+15&-16}else e=0;if(CD[e+32>>2]=p,CD[e+36>>2]=0,o=e+40|0,CD[o>>2]=0,f=+RD[i>>2],c=+RD[u>>2],c=f<c?f:c,RD[e>>2]=c,f=+RD[i+16>>2],s=+RD[u+16>>2],s=f>s?f:s,RD[e+16>>2]=s,f=+RD[i+4>>2],h=+RD[u+4>>2],h=f<h?f:h,RD[e+4>>2]=h,f=+RD[i+20>>2],a=+RD[u+20>>2],a=f>a?f:a,RD[e+20>>2]=a,f=+RD[i+8>>2],l=+RD[u+8>>2],l=f<l?f:l,RD[e+8>>2]=l,f=+RD[i+24>>2],n=+RD[u+24>>2],n=f>n?f:n,RD[e+24>>2]=n,!p)return CD[e+36>>2]=u,CD[d>>2]=e,CD[o>>2]=i,CD[i+32>>2]=e,void(CD[t>>2]=e);for(CD[p+36+(((CD[(CD[d>>2]|0)+40>>2]|0)==(u|0)&1)<<2)>>2]=e,CD[e+36>>2]=u,CD[d>>2]=e,CD[o>>2]=i,CD[i+32>>2]=e,r=p;;){if(e=r+4|0,((((+RD[r>>2]<=c?+RD[e>>2]<=h:0)?+RD[r+8>>2]<=l:0)?+RD[r+16>>2]>=s:0)?+RD[r+20>>2]>=a:0)?+RD[r+24>>2]>=n:0){e=21;break}if(t=CD[r+36>>2]|0,u=CD[r+40>>2]|0,f=+RD[t>>2],c=+RD[u>>2],c=f<c?f:c,RD[r>>2]=c,f=+RD[t+16>>2],s=+RD[u+16>>2],s=f>s?f:s,RD[r+16>>2]=s,f=+RD[t+4>>2],h=+RD[u+4>>2],h=f<h?f:h,RD[e>>2]=h,f=+RD[t+20>>2],a=+RD[u+20>>2],a=f>a?f:a,RD[r+20>>2]=a,f=+RD[t+8>>2],l=+RD[u+8>>2],l=f<l?f:l,RD[r+8>>2]=l,f=+RD[t+24>>2],n=+RD[u+24>>2],n=f>n?f:n,RD[r+24>>2]=n,r=CD[r+32>>2]|0,!r){e=21;break}}}function w_(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0;S=BD,BD=BD+176|0,CD[t+348>>2]=t+220,CD[t+352>>2]=t+252,CD[t+356>>2]=t+284,CD[t+360>>2]=t+316,CD[t+364>>2]=4,CD[t+368>>2]=0,CD[t+376>>2]=0,b=CD[e+4>>2]|0,CD[t>>2]=CD[e>>2],CD[t+4>>2]=b,CD[t+8>>2]=CD[e+8>>2],CD[t+8+4>>2]=CD[e+8+4>>2],CD[t+8+8>>2]=CD[e+8+8>>2],CD[t+8+12>>2]=CD[e+8+12>>2],CD[t+24>>2]=CD[e+24>>2],CD[t+24+4>>2]=CD[e+24+4>>2],CD[t+24+8>>2]=CD[e+24+8>>2],CD[t+24+12>>2]=CD[e+24+12>>2],CD[t+40>>2]=CD[e+40>>2],CD[t+40+4>>2]=CD[e+40+4>>2],CD[t+40+8>>2]=CD[e+40+8>>2],CD[t+40+12>>2]=CD[e+40+12>>2],CD[t+56>>2]=CD[e+56>>2],CD[t+56+4>>2]=CD[e+56+4>>2],CD[t+56+8>>2]=CD[e+56+8>>2],CD[t+56+12>>2]=CD[e+56+12>>2],CD[t+72>>2]=CD[e+72>>2],CD[t+72+4>>2]=CD[e+72+4>>2],CD[t+72+8>>2]=CD[e+72+8>>2],CD[t+72+12>>2]=CD[e+72+12>>2],CD[t+88>>2]=CD[e+88>>2],CD[t+88+4>>2]=CD[e+88+4>>2],CD[t+88+8>>2]=CD[e+88+8>>2],CD[t+88+12>>2]=CD[e+88+12>>2],CD[t+104>>2]=CD[e+104>>2],CD[t+104+4>>2]=CD[e+104+4>>2],CD[t+104+8>>2]=CD[e+104+8>>2],CD[t+104+12>>2]=CD[e+104+12>>2],b=CD[e+120+4>>2]|0,CD[t+120>>2]=CD[e+120>>2],CD[t+120+4>>2]=b,RD[t+144>>2]=0,CD[t+180>>2]=0,CD[t+128>>2]=CD[i>>2],CD[t+128+4>>2]=CD[i+4>>2],CD[t+128+8>>2]=CD[i+8>>2],CD[t+128+12>>2]=CD[i+12>>2],a=+RD[t+128>>2],s=+RD[t+132>>2],l=+RD[t+136>>2],a*a+s*s+l*l>0?(r=-l,o=-s,n=-a):(r=0,o=0,n=1),RD[t+164>>2]=0,CD[t+364>>2]=3,CD[t+148>>2]=t+316,CD[t+180>>2]=1,bA(t,n,o,r,t+316|0),RD[t+164>>2]=1,y=(CD[t+148>>2]|0)+16|0,CD[t+128>>2]=CD[y>>2],CD[t+128+4>>2]=CD[y+4>>2],CD[t+128+8>>2]=CD[y+8>>2],CD[t+128+12>>2]=CD[y+12>>2],CD[S+16+48>>2]=CD[y>>2],CD[S+16+48+4>>2]=CD[y+4>>2],CD[S+16+48+8>>2]=CD[y+8>>2],CD[S+16+48+12>>2]=CD[y+12>>2],CD[S+16+32>>2]=CD[y>>2],CD[S+16+32+4>>2]=CD[y+4>>2],CD[S+16+32+8>>2]=CD[y+8>>2],CD[S+16+32+12>>2]=CD[y+12>>2],CD[S+16+16>>2]=CD[y>>2],CD[S+16+16+4>>2]=CD[y+4>>2],CD[S+16+16+8>>2]=CD[y+8>>2],CD[S+16+16+12>>2]=CD[y+12>>2],CD[S+16>>2]=CD[y>>2],CD[S+16+4>>2]=CD[y+4>>2],CD[S+16+8>>2]=CD[y+8>>2],CD[S+16+12>>2]=CD[y+12>>2],g=0,y=0,b=0,r=a*a+s*s+l*l;do{if(m=CD[t+368>>2]|0,l=+RD[t+128>>2],s=+RD[t+132>>2],n=+RD[t+136>>2],o=+ND(+(l*l+s*s+n*n)),o<9999999747378752e-20){M=5;break}if(RD[t+148+(m*36|0)+16+(CD[t+148+(m*36|0)+32>>2]<<2)>>2]=0,h=(CD[t+364>>2]|0)+-1|0,CD[t+364>>2]=h,CD[t+148+(m*36|0)+(CD[t+148+(m*36|0)+32>>2]<<2)>>2]=CD[t+348+(h<<2)>>2],h=CD[t+148+(m*36|0)+32>>2]|0,CD[t+148+(m*36|0)+32>>2]=h+1,bA(t,-l,-s,-n,CD[t+148+(m*36|0)+(h<<2)>>2]|0),h=CD[t+148+(m*36|0)+32>>2]|0,c=CD[t+148+(m*36|0)+(h+-1<<2)>>2]|0,l=+RD[c+16>>2],s=+RD[c+20>>2],a=+RD[c+24>>2],n=l-+RD[S+16>>2],d=s-+RD[S+16+4>>2],p=a-+RD[S+16+8>>2],n*n+d*d+p*p<9999999747378752e-20){M=8;break}if(n=l-+RD[S+16+16>>2],d=s-+RD[S+16+20>>2],p=a-+RD[S+16+24>>2],n*n+d*d+p*p<9999999747378752e-20){M=8;break}if(n=l-+RD[S+16+32>>2],d=s-+RD[S+16+36>>2],p=a-+RD[S+16+40>>2],n*n+d*d+p*p<9999999747378752e-20){M=8;break}if(n=l-+RD[S+16+48>>2],d=s-+RD[S+16+52>>2],p=a-+RD[S+16+56>>2],n*n+d*d+p*p<9999999747378752e-20){M=8;break}if(y=y+1&3,f=S+16+(y<<4)|0,CD[f>>2]=CD[c+16>>2],CD[f+4>>2]=CD[c+16+4>>2],CD[f+8>>2]=CD[c+16+8>>2],CD[f+12>>2]=CD[c+16+12>>2],p=(+RD[t+128>>2]*l+ +RD[t+132>>2]*s+ +RD[t+136>>2]*a)/o,g=p>g?p:g,o-g-o*9999999747378752e-20<=0){M=9;break}if(CD[S+96>>2]=0,(h|0)==3)r=+TA((CD[t+148+(m*36|0)>>2]|0)+16|0,(CD[t+148+(m*36|0)+4>>2]|0)+16|0,(CD[t+148+(m*36|0)+8>>2]|0)+16|0,S,S+96|0);else if((h|0)==2)r=+xA((CD[t+148+(m*36|0)>>2]|0)+16|0,(CD[t+148+(m*36|0)+4>>2]|0)+16|0,S,S+96|0);else if((h|0)==4)if(e=CD[t+148+(m*36|0)>>2]|0,u=CD[t+148+(m*36|0)+4>>2]|0,i=CD[t+148+(m*36|0)+8>>2]|0,f=CD[t+148+(m*36|0)+12>>2]|0,CD[S+80>>2]=e+16,CD[S+80+4>>2]=u+16,CD[S+80+8>>2]=i+16,CD[S+80+12>>2]=f+16,a=+RD[e+16>>2],n=+RD[f+16>>2],l=+RD[e+20>>2],o=+RD[f+20>>2],s=+RD[e+24>>2],r=+RD[f+24>>2],RD[S+104>>2]=a-n,RD[S+104+4>>2]=l-o,RD[S+104+8>>2]=s-r,RD[S+104+12>>2]=0,T=+RD[u+16>>2],C=+RD[u+20>>2],p=+RD[u+24>>2],RD[S+104+16>>2]=T-n,RD[S+104+20>>2]=C-o,RD[S+104+24>>2]=p-r,RD[S+104+28>>2]=0,d=+RD[i+16>>2],E=+RD[i+20>>2],x=+RD[i+24>>2],RD[S+104+32>>2]=d-n,RD[S+104+36>>2]=E-o,RD[S+104+40>>2]=x-r,RD[S+104+44>>2]=0,_=(l-o)*(p-r)*(d-n)+(s-r)*(T-n)*(E-o)-(E-o)*(p-r)*(a-n)-(l-o)*(T-n)*(x-r)+(x-r)*(a-n)*(C-o)-(d-n)*(s-r)*(C-o),_!=_|!1|_==0|!(_*(s*((T-d)*(l-C)-(C-E)*(a-T))+(a*((C-E)*(s-p)-(p-x)*(l-C))+l*((p-x)*(a-T)-(T-d)*(s-p))))<=0))r=-1;else{for(CD[S+152>>2]=0,CD[S+152+4>>2]=0,CD[S+152+8>>2]=0,CD[S+164>>2]=0,p=l-o,d=s-r,s=a-n,l=r,h=0,r=-1;;){if(c=CD[19520+(h<<2)>>2]|0,a=+RD[S+104+(c<<4)+8>>2],T=+RD[S+104+(c<<4)+4>>2],x=+RD[S+104+(c<<4)>>2],(_*((p*a-d*T)*n+o*(d*x-a*s)+(T*s-p*x)*l)>0?(v=+TA(CD[S+80+(h<<2)>>2]|0,CD[S+80+(c<<2)>>2]|0,f+16|0,S+152|0,S+164|0),r<0|v<r):0)&&(A=CD[S+164>>2]|0,CD[S+96>>2]=((A&2|0)==0?0:1<<c)+(A<<1&8)+((A&1|0)==0?0:1<<h),RD[S+(h<<2)>>2]=+RD[S+152>>2],RD[S+(c<<2)>>2]=+RD[S+152+4>>2],RD[S+(CD[19520+(c<<2)>>2]<<2)>>2]=0,RD[S+12>>2]=+RD[S+152+8>>2],r=v),h=h+1|0,(h|0)==3)break;p=+RD[S+104+(h<<4)+4>>2],d=+RD[S+104+(h<<4)+8>>2],s=+RD[S+104+(h<<4)>>2],n=+RD[f+16>>2],o=+RD[f+20>>2],l=+RD[f+24>>2]}r<0&&(CD[S+96>>2]=15,r=+RD[i+20>>2],C=+RD[u+24>>2],T=+RD[f+16>>2],a=+RD[i+24>>2],o=+RD[u+16>>2],n=+RD[f+20>>2],l=+RD[i+16>>2],d=+RD[f+24>>2],E=+RD[u+20>>2],RD[S>>2]=(r*C*T+a*o*n-n*C*l-r*o*d+d*l*E-T*a*E)/_,s=+RD[e+20>>2],x=+RD[e+24>>2],p=+RD[e+16>>2],RD[S+4>>2]=(s*a*T+x*l*n-n*a*p-s*l*d+d*p*r-T*x*r)/_,RD[S+8>>2]=(E*x*T+C*p*n-n*x*o-E*p*d+d*o*s-T*C*s)/_,RD[S+12>>2]=1-((E*x*T+C*p*n-n*x*o-E*p*d+d*o*s-T*C*s)/_+((r*C*T+a*o*n-n*C*l-r*o*d+d*l*E-T*a*E)/_+(s*a*T+x*l*n-n*a*p-s*l*d+d*p*r-T*x*r)/_)),r=0)}if(!(r>=0)){M=31;break}if(CD[t+148+((1-m|0)*36|0)+32>>2]=0,CD[t+128>>2]=0,CD[t+128+4>>2]=0,CD[t+128+8>>2]=0,CD[t+128+12>>2]=0,CD[t+368>>2]=1-m,e=CD[t+148+(m*36|0)+32>>2]|0,i=CD[S+96>>2]|0,e){u=0;do c=t+148+(m*36|0)+(u<<2)|0,h=CD[c>>2]|0,i&1<<u?(CD[t+148+((1-m|0)*36|0)+(CD[t+148+((1-m|0)*36|0)+32>>2]<<2)>>2]=h,p=+RD[S+(u<<2)>>2],A=CD[t+148+((1-m|0)*36|0)+32>>2]|0,CD[t+148+((1-m|0)*36|0)+32>>2]=A+1,RD[t+148+((1-m|0)*36|0)+16+(A<<2)>>2]=p,A=CD[c>>2]|0,T=p*+RD[A+20>>2],x=p*+RD[A+24>>2],RD[t+128>>2]=+RD[A+16>>2]*p+ +RD[t+128>>2],RD[t+132>>2]=T+ +RD[t+132>>2],RD[t+136>>2]=x+ +RD[t+136>>2]):(A=CD[t+364>>2]|0,CD[t+364>>2]=A+1,CD[t+348+(A<<2)>>2]=h),u=u+1|0;while((u|0)!=(e|0))}if((i|0)==15&&(CD[t+376>>2]=1),b=b+1|0,b>>>0>=128){M=33;break}}while((CD[t+376>>2]|0)==0);return(M|0)==5?CD[t+376>>2]=1:(M|0)==8?(A=CD[t+368>>2]|0,b=(CD[t+148+(A*36|0)+32>>2]|0)+-1|0,CD[t+148+(A*36|0)+32>>2]=b,b=CD[t+148+(A*36|0)+(b<<2)>>2]|0,A=CD[t+364>>2]|0,CD[t+364>>2]=A+1,CD[t+348+(A<<2)>>2]=b):(M|0)==9?(A=CD[t+368>>2]|0,b=(CD[t+148+(A*36|0)+32>>2]|0)+-1|0,CD[t+148+(A*36|0)+32>>2]=b,b=CD[t+148+(A*36|0)+(b<<2)>>2]|0,A=CD[t+364>>2]|0,CD[t+364>>2]=A+1,CD[t+348+(A<<2)>>2]=b):(M|0)==31?(A=CD[t+368>>2]|0,b=(CD[t+148+(A*36|0)+32>>2]|0)+-1|0,CD[t+148+(A*36|0)+32>>2]=b,b=CD[t+148+(A*36|0)+(b<<2)>>2]|0,A=CD[t+364>>2]|0,CD[t+364>>2]=A+1,CD[t+348+(A<<2)>>2]=b):(M|0)==33&&(CD[t+376>>2]=2),CD[t+372>>2]=t+148+((CD[t+368>>2]|0)*36|0),i=CD[t+376>>2]|0,i?(i|0)==1?(RD[t+144>>2]=0,BD=S,i|0):(BD=S,i|0):(v=+RD[t+128>>2],T=+RD[t+132>>2],x=+RD[t+136>>2],x=+ND(+(v*v+T*T+x*x)),RD[t+144>>2]=x,BD=S,i|0)}function R_(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0;for(h=BD,BD=BD+16|0,a=CD[t+12>>2]|0,s=CD[a+(((i+e|0)/2|0)<<4)>>2]|0,l=CD[a+(((i+e|0)/2|0)<<4)+4>>2]|0,c=CD[a+(((i+e|0)/2|0)<<4)+8>>2]|0,r=e,o=i;;){for(n=r;;){if(r=CD[a+(n<<4)+4>>2]|0,(r|0)>=(l|0)){if((r|0)!=(l|0))break;if(r=CD[a+(n<<4)>>2]|0,(r|0)>=(s|0)){if((r|0)!=(s|0))break;if((CD[a+(n<<4)+8>>2]|0)>=(c|0))break}}n=n+1|0}for(;;){if(r=CD[a+(o<<4)+4>>2]|0,(l|0)>=(r|0)){if((l|0)!=(r|0))break;if(r=CD[a+(o<<4)>>2]|0,(s|0)>=(r|0)){if((s|0)!=(r|0))break;if((c|0)>=(CD[a+(o<<4)+8>>2]|0))break}}o=o+-1|0}if((n|0)>(o|0)?r=n:(r=a+(n<<4)|0,CD[h>>2]=CD[r>>2],CD[h+4>>2]=CD[r+4>>2],CD[h+8>>2]=CD[r+8>>2],CD[h+12>>2]=CD[r+12>>2],a=a+(o<<4)|0,CD[r>>2]=CD[a>>2],CD[r+4>>2]=CD[a+4>>2],CD[r+8>>2]=CD[a+8>>2],CD[r+12>>2]=CD[a+12>>2],r=(CD[t+12>>2]|0)+(o<<4)|0,CD[r>>2]=CD[h>>2],CD[r+4>>2]=CD[h+4>>2],CD[r+8>>2]=CD[h+8>>2],CD[r+12>>2]=CD[h+12>>2],r=n+1|0,o=o+-1|0),(r|0)>(o|0))break;a=CD[t+12>>2]|0}return(o|0)>(e|0)&&R_(t,e,o),(r|0)>=(i|0)?void(BD=h):(R_(t,r,i),void(BD=h))}function D_(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0;return(r|0)>-1|(r|0)==-1&i>>>0>4294967295?(o=(+(i>>>0)+4294967296*+(r>>>0))*0x10000000000000000+(+(t>>>0)+4294967296*+(e>>>0)),+o):(a=Pw(0,0,t|0,e|0)|0,n=OD,r=Lw((t|0)==0&(e|0)==0&1|0,0,~i|0,~r|0)|0,o=-+D_(a,n,r,OD),+o)}function P_(t){t|=0;var e=0,i=0;if(e=CD[t+92>>2]|0,e&&(TD[t+96>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+92>>2]=0),TD[t+96>>0]=1,CD[t+92>>2]=0,CD[t+84>>2]=0,CD[t+88>>2]=0,e=CD[t+64>>2]|0)do CD[t+64>>2]=CD[e+8>>2],i=CD[e>>2]|0,i&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0)),CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0),e=CD[t+64>>2]|0;while((e|0)!=0);if(e=CD[t+48>>2]|0)do CD[t+48>>2]=CD[e+8>>2],i=CD[e>>2]|0,i&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0)),CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0),e=CD[t+48>>2]|0;while((e|0)!=0);if(e=CD[t+32>>2]|0)do CD[t+32>>2]=CD[e+8>>2],i=CD[e>>2]|0,i&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0)),CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0),e=CD[t+32>>2]|0;while((e|0)!=0)}function B_(t,e){t|=0,e|=0,CD[t+260>>2]=(CD[t+260>>2]|0)+1,CD[t+192>>2]=e,CD[t+200>>2]=e}function V_(t){t|=0;var e=0;CD[t>>2]=1464,e=CD[t+496>>2]|0,e&&(TD[t+500>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+496>>2]=0),TD[t+500>>0]=1,CD[t+496>>2]=0,CD[t+488>>2]=0,CD[t+492>>2]=0,CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0)}function L_(t,e){t|=0,e=+e;var i=0,r=0,o=0;if(r=BD,BD=BD+16|0,cM(1840),(CD[t+280>>2]|0)>0){i=0;do o=CD[(CD[t+288>>2]|0)+(i<<2)>>2]|0,$P[CD[(CD[o>>2]|0)+8>>2]&7](o,t,e),i=i+1|0;while((i|0)<(CD[t+280>>2]|0))}if(i=CD[5104]|0,o=(CD[i+16>>2]|0)+-1|0,CD[i+16>>2]=o,o)return void(BD=r);do if(CD[i+4>>2]|0){if(uP(r|0,0)|0,o=CD[5090]|0,RD[i+8>>2]=+(((CD[r+4>>2]|0)-(CD[o+4>>2]|0)+(((CD[r>>2]|0)-(CD[o>>2]|0)|0)*1e6|0)-(CD[i+12>>2]|0)|0)>>>0)/1e3+ +RD[i+8>>2],CD[i+16>>2]|0)return void(BD=r);i=CD[5104]|0;break}while(0);CD[5104]=CD[i+20>>2],BD=r}function k_(t,e){t|=0,e|=0}function H_(t){return t|=0,2}function I_(t){return t|=0,CD[t+72>>2]|0}function O_(t,e){t|=0,e|=0,CD[t+72>>2]=e}function J_(t){t|=0}function N_(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0;return r=CD[e>>2]|0,(r|0)==(CD[t+80>>2]|0)?(o=1,+o):CD[r+204>>2]&4?(o=1,+o):(+RD[t+28>>2]-+RD[t+12>>2])*+RD[e+8>>2]+(+RD[t+32>>2]-+RD[t+16>>2])*+RD[e+12>>2]+(+RD[t+36>>2]-+RD[t+20>>2])*+RD[e+16>>2]>=-+RD[t+84>>2]?(o=1,+o):(RD[t+4>>2]=+RD[e+40>>2],CD[t+76>>2]=r,i?(CD[t+44>>2]=CD[e+8>>2],CD[t+44+4>>2]=CD[e+8+4>>2],CD[t+44+8>>2]=CD[e+8+8>>2],CD[t+44+12>>2]=CD[e+8+12>>2]):(l=+RD[e+8>>2],s=+RD[e+12>>2],a=+RD[e+16>>2],n=l*+RD[r+20>>2]+s*+RD[r+24>>2]+a*+RD[r+28>>2],o=l*+RD[r+36>>2]+s*+RD[r+40>>2]+a*+RD[r+44>>2],RD[t+44>>2]=+RD[r+4>>2]*l+ +RD[r+8>>2]*s+ +RD[r+12>>2]*a,RD[t+48>>2]=n,RD[t+52>>2]=o,RD[t+56>>2]=0),CD[t+60>>2]=CD[e+24>>2],CD[t+60+4>>2]=CD[e+24+4>>2],CD[t+60+8>>2]=CD[e+24+8>>2],CD[t+60+12>>2]=CD[e+24+12>>2],l=+RD[e+40>>2],+l)}function F_(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0;return RD[t+4>>2]=+RD[e+40>>2],r=CD[e>>2]|0,CD[t+76>>2]=r,i?(CD[t+44>>2]=CD[e+8>>2],CD[t+44+4>>2]=CD[e+8+4>>2],CD[t+44+8>>2]=CD[e+8+8>>2],CD[t+44+12>>2]=CD[e+8+12>>2],t=t+60|0,i=e+24|0,CD[t>>2]=CD[i>>2],CD[t+4>>2]=CD[i+4>>2],CD[t+8>>2]=CD[i+8>>2],CD[t+12>>2]=CD[i+12>>2],o=+RD[e+40>>2],+o):(l=+RD[e+8>>2],s=+RD[e+12>>2],a=+RD[e+16>>2],n=+RD[r+20>>2]*l+ +RD[r+24>>2]*s+ +RD[r+28>>2]*a,o=+RD[r+36>>2]*l+ +RD[r+40>>2]*s+ +RD[r+44>>2]*a,RD[t+44>>2]=+RD[r+4>>2]*l+ +RD[r+8>>2]*s+ +RD[r+12>>2]*a,RD[t+48>>2]=n,RD[t+52>>2]=o,RD[t+56>>2]=0,t=t+60|0,i=e+24|0,CD[t>>2]=CD[i>>2],CD[t+4>>2]=CD[i+4>>2],CD[t+8>>2]=CD[i+8>>2],CD[t+12>>2]=CD[i+12>>2],o=+RD[e+40>>2],+o)}function G_(t,e){t|=0,e|=0;var i=0,r=0;return i=CD[e>>2]|0,r=CD[t+80>>2]|0,(i|0)==(r|0)?(t=0,t|0):(xD[t+10>>1]&xD[e+4>>1])<<16>>16&&(xD[e+6>>1]&xD[t+8>>1])<<16>>16?(t=CD[t+92>>2]|0,t=DP[CD[(CD[t>>2]|0)+28>>2]&63](t,r,i)|0,t|0):(t=0,t|0)}function z_(t,e){return t|=0,e|=0,(xD[e+4>>1]&xD[t+10>>1])<<16>>16?(t=(xD[t+8>>1]&xD[e+6>>1])<<16>>16!=0,t|0):(t=0,t|0)}function j_(t){t|=0,ww(t)}function U_(t){t|=0,ww(t)}function W_(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0;var a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0;if((n|0)<0)return f=CD[t+8>>2]|0,void+GP[CD[(CD[f>>2]|0)+12>>2]&3](f,e,i,r,o,CD[t+12>>2]|0,CD[t+16>>2]|0,CD[t+4>>2]|0,CD[t+20>>2]|0,CD[t+24>>2]|0);d=CD[t+16>>2]|0;t:do if((d|0)>0)for(a=CD[t+12>>2]|0,s=0;;){if(h=a+(s<<2)|0,c=CD[h>>2]|0,l=CD[(CD[c+28>>2]|0)+208>>2]|0,(l|0)<=-1&&(l=CD[(CD[c+32>>2]|0)+208>>2]|0),(l|0)==(n|0)){f=h;break t}if(s=s+1|0,(s|0)>=(d|0)){f=0;break}}else s=0,f=0;while(0);if((s|0)<(d|0))for(h=CD[t+12>>2]|0,l=0;;){if(a=CD[h+(s<<2)>>2]|0,c=CD[(CD[a+28>>2]|0)+208>>2]|0,(c|0)<=-1&&(c=CD[(CD[a+32>>2]|0)+208>>2]|0),l=((c|0)==(n|0)&1)+l|0,(s|0)==(d+-1|0)){p=l;break}s=s+1|0}else p=0;if(s=CD[t+4>>2]|0,(CD[s+72>>2]|0)<2)return d=CD[t+8>>2]|0,void+GP[CD[(CD[d>>2]|0)+12>>2]&3](d,e,i,r,o,f,p,s,CD[t+20>>2]|0,CD[t+24>>2]|0);if((i|0)>0)for(c=CD[t+32>>2]|0,l=CD[t+36>>2]|0,n=0;;){if(d=e+(n<<2)|0,(c|0)==(l|0))if(u=(l|0)==0?1:l<<1,(l|0)<(u|0)){if(u?(CD[5108]=(CD[5108]|0)+1,l=Aw((u<<2|3)+16|0)|0,l?(CD[(l+4+15&-16)+-4>>2]=l,c=l+4+15&-16):c=0,l=CD[t+32>>2]|0):c=0,(l|0)>0)for(h=l+-1|0,a=0;;){if(s=c+(a<<2)|0,s&&(CD[s>>2]=CD[(CD[t+40>>2]|0)+(a<<2)>>2]),(a|0)==(h|0))break;a=a+1|0}s=CD[t+40>>2]|0,s&&(TD[t+44>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[s+-4>>2]|0),l=CD[t+32>>2]|0),CD[t+40>>2]=0),TD[t+44>>0]=1,CD[t+40>>2]=c,CD[t+36>>2]=u,h=l,l=u}else h=l;else h=c;if(c=(CD[t+40>>2]|0)+(h<<2)|0,c&&(CD[c>>2]=CD[d>>2]),c=h+1|0,CD[t+32>>2]=c,(n|0)==(i+-1|0))break;n=n+1|0}if((o|0)>0)for(s=CD[t+52>>2]|0,a=CD[t+56>>2]|0,n=0;;){if(d=r+(n<<2)|0,(s|0)==(a|0))if(e=(a|0)==0?1:a<<1,(a|0)<(e|0)){if(e?(CD[5108]=(CD[5108]|0)+1,s=Aw((e<<2|3)+16|0)|0,s?(CD[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,a=CD[t+52>>2]|0):s=0,(a|0)>0)for(c=a+-1|0,h=0;;){if(l=s+(h<<2)|0,l&&(CD[l>>2]=CD[(CD[t+60>>2]|0)+(h<<2)>>2]),(h|0)==(c|0))break;h=h+1|0}l=CD[t+60>>2]|0,l&&(TD[t+64>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[l+-4>>2]|0),a=CD[t+52>>2]|0),CD[t+60>>2]=0),TD[t+64>>0]=1,CD[t+60>>2]=s,CD[t+56>>2]=e,s=a,a=e}else s=a;if(l=(CD[t+60>>2]|0)+(s<<2)|0,l&&(CD[l>>2]=CD[d>>2]),s=s+1|0,CD[t+52>>2]=s,(n|0)==(o+-1|0))break;n=n+1|0}if((p|0)>0)for(n=p+-1|0,a=CD[t+72>>2]|0,l=CD[t+76>>2]|0,d=0;;){if(u=f+(d<<2)|0,(a|0)==(l|0))if(e=(l|0)==0?1:l<<1,(l|0)<(e|0)){if(e?(CD[5108]=(CD[5108]|0)+1,a=Aw((e<<2|3)+16|0)|0,a?(CD[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,h=a,a=CD[t+72>>2]|0):(h=0,a=l),(a|0)>0)for(l=a+-1|0,c=0;;){if(s=h+(c<<2)|0,s&&(CD[s>>2]=CD[(CD[t+80>>2]|0)+(c<<2)>>2]),(c|0)==(l|0))break;c=c+1|0}s=CD[t+80>>2]|0,s&&(TD[t+84>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[s+-4>>2]|0),a=CD[t+72>>2]|0),CD[t+80>>2]=0),TD[t+84>>0]=1,CD[t+80>>2]=h,CD[t+76>>2]=e,l=e}else a=l;if(s=(CD[t+80>>2]|0)+(a<<2)|0,s&&(CD[s>>2]=CD[u>>2]),a=a+1|0,CD[t+72>>2]=a,(d|0)==(n|0))break;d=d+1|0}else a=CD[t+72>>2]|0;((CD[t+52>>2]|0)+a|0)<=(CD[(CD[t+4>>2]|0)+72>>2]|0)||o_(t)}function X_(t){t|=0,q_(t),ww(t)}function q_(t){t|=0;var e=0;return CD[t>>2]=2376,e=CD[t+80>>2]|0,e&&(TD[t+84>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+80>>2]=0),TD[t+84>>0]=1,CD[t+80>>2]=0,CD[t+72>>2]=0,CD[t+76>>2]=0,e=CD[t+60>>2]|0,e&&(TD[t+64>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+60>>2]=0),TD[t+64>>0]=1,CD[t+60>>2]=0,CD[t+52>>2]=0,CD[t+56>>2]=0,(e=CD[t+40>>2]|0)?(TD[t+44>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+40>>2]=0,TD[t+44>>0]=1,CD[t+40>>2]=0,CD[t+32>>2]=0,t=t+36|0,void(CD[t>>2]=0)):(TD[t+44>>0]=1,CD[t+40>>2]=0,CD[t+32>>2]=0,t=t+36|0,void(CD[t>>2]=0))}function K_(t,e,i){return t|=0,e|=0,i|=0,sv(t,e,i)|0,RD[e+52>>2]=+RD[t+48>>2],RD[e+56>>2]=+RD[t+52>>2],RD[e+60>>2]=+RD[t+56>>2],RD[e+64>>2]=+RD[t+60>>2],RD[e+68>>2]=+RD[t+64>>2],RD[e+72>>2]=+RD[t+68>>2],RD[e+76>>2]=+RD[t+72>>2],RD[e+80>>2]=+RD[t+76>>2],RD[e+84>>2]=+RD[t+80>>2],RD[e+88>>2]=+RD[t+84>>2],RD[e+92>>2]=+RD[t+88>>2],RD[e+96>>2]=+RD[t+92>>2],RD[e+100>>2]=+RD[t+96>>2],RD[e+104>>2]=+RD[t+100>>2],RD[e+108>>2]=+RD[t+104>>2],RD[e+112>>2]=+RD[t+108>>2],RD[e+116>>2]=+RD[t+112>>2],RD[e+120>>2]=+RD[t+116>>2],RD[e+124>>2]=+RD[t+120>>2],RD[e+128>>2]=+RD[t+124>>2],RD[e+132>>2]=+RD[t+128>>2],RD[e+136>>2]=+RD[t+132>>2],RD[e+140>>2]=+RD[t+136>>2],RD[e+144>>2]=+RD[t+140>>2],RD[e+148>>2]=+RD[t+144>>2],RD[e+152>>2]=+RD[t+148>>2],RD[e+156>>2]=+RD[t+152>>2],RD[e+160>>2]=+RD[t+156>>2],RD[e+164>>2]=+RD[t+160>>2],RD[e+168>>2]=+RD[t+164>>2],RD[e+172>>2]=+RD[t+168>>2],RD[e+176>>2]=+RD[t+172>>2],RD[e+228>>2]=+RD[t+868>>2],RD[e+212>>2]=+RD[t+872>>2],RD[e+196>>2]=+RD[t+680>>2],RD[e+180>>2]=+RD[t+696>>2],RD[e+232>>2]=+RD[t+932>>2],RD[e+216>>2]=+RD[t+936>>2],RD[e+200>>2]=+RD[t+684>>2],RD[e+184>>2]=+RD[t+700>>2],RD[e+236>>2]=+RD[t+996>>2],RD[e+220>>2]=+RD[t+1e3>>2],RD[e+204>>2]=+RD[t+688>>2],RD[e+188>>2]=+RD[t+704>>2],CD[e+244>>2]=ED[t+1300>>0],CD[e+248>>2]=ED[t+1301>>0],2600}function Y_(t){return t|=0,252}function Q_(t){t|=0,t&&(CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0))}function Z_(t,e,i,r){t|=0,e|=0,i|=0,r=+r}function $_(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o=+o}function tm(t){t|=0}function em(t,e,i){return t|=0,e|=0,i|=0,K_(t,e,i)|0,RD[e+276>>2]=+RD[t+1316>>2],RD[e+324>>2]=+RD[t+1364>>2],CD[e+252>>2]=ED[t+1309>>0],RD[e+300>>2]=+RD[t+1340>>2],RD[e+280>>2]=+RD[t+1320>>2],RD[e+328>>2]=+RD[t+1368>>2],CD[e+256>>2]=ED[t+1310>>0],RD[e+304>>2]=+RD[t+1344>>2],RD[e+284>>2]=+RD[t+1324>>2],RD[e+332>>2]=+RD[t+1372>>2],CD[e+260>>2]=ED[t+1311>>0],RD[e+308>>2]=+RD[t+1348>>2],RD[e+288>>2]=+RD[t+1328>>2],RD[e+336>>2]=+RD[t+1376>>2],CD[e+264>>2]=ED[t+1312>>0],RD[e+312>>2]=+RD[t+1352>>2],RD[e+292>>2]=+RD[t+1332>>2],RD[e+340>>2]=+RD[t+1380>>2],CD[e+268>>2]=ED[t+1313>>0],RD[e+316>>2]=+RD[t+1356>>2],RD[e+296>>2]=+RD[t+1336>>2],RD[e+344>>2]=+RD[t+1384>>2],CD[e+272>>2]=ED[t+1314>>0],RD[e+320>>2]=+RD[t+1360>>2],2744}function im(t){return t|=0,348}function rm(t){t|=0,t&&(CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0))}function om(t,e,i){return t|=0,e|=0,i|=0,sv(t,e,i)|0,RD[e+52>>2]=+RD[t+300>>2],RD[e+56>>2]=+RD[t+304>>2],RD[e+60>>2]=+RD[t+308>>2],RD[e+64>>2]=+RD[t+312>>2],RD[e+68>>2]=+RD[t+316>>2],RD[e+72>>2]=+RD[t+320>>2],RD[e+76>>2]=+RD[t+324>>2],RD[e+80>>2]=+RD[t+328>>2],2888}function nm(t){return t|=0,84}function am(t){t|=0,t&&(CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0))}function sm(t){return t|=0,52}function lm(t){t|=0}function cm(t){t|=0,t&&(CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0))}function hm(t,e,i){return t|=0,e|=0,i|=0,sv(t,e,i)|0,RD[e+52>>2]=+RD[t+52>>2],RD[e+56>>2]=+RD[t+56>>2],RD[e+60>>2]=+RD[t+60>>2],RD[e+64>>2]=+RD[t+64>>2],RD[e+68>>2]=+RD[t+68>>2],RD[e+72>>2]=+RD[t+72>>2],RD[e+76>>2]=+RD[t+76>>2],RD[e+80>>2]=+RD[t+80>>2],RD[e+84>>2]=+RD[t+84>>2],RD[e+88>>2]=+RD[t+88>>2],RD[e+92>>2]=+RD[t+92>>2],RD[e+96>>2]=+RD[t+96>>2],RD[e+100>>2]=+RD[t+100>>2],RD[e+104>>2]=+RD[t+104>>2],RD[e+108>>2]=+RD[t+108>>2],RD[e+112>>2]=+RD[t+112>>2],RD[e+116>>2]=+RD[t+116>>2],RD[e+120>>2]=+RD[t+120>>2],RD[e+124>>2]=+RD[t+124>>2],RD[e+128>>2]=+RD[t+128>>2],RD[e+132>>2]=+RD[t+132>>2],RD[e+136>>2]=+RD[t+136>>2],RD[e+140>>2]=+RD[t+140>>2],RD[e+144>>2]=+RD[t+144>>2],RD[e+148>>2]=+RD[t+148>>2],RD[e+152>>2]=+RD[t+152>>2],RD[e+156>>2]=+RD[t+156>>2],RD[e+160>>2]=+RD[t+160>>2],RD[e+164>>2]=+RD[t+164>>2],RD[e+168>>2]=+RD[t+168>>2],RD[e+172>>2]=+RD[t+172>>2],RD[e+176>>2]=+RD[t+176>>2],RD[e+180>>2]=+RD[t+188>>2],RD[e+184>>2]=+RD[t+184>>2],RD[e+188>>2]=+RD[t+196>>2],RD[e+192>>2]=+RD[t+192>>2],CD[e+196>>2]=ED[t+180>>0],CD[e+200>>2]=ED[t+49>>0],3680}function um(t){return t|=0,204}function dm(t){t|=0,t&&(CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0))}function pm(t,e,i){return t|=0,e|=0,i|=0,sv(t,e,i)|0,RD[e+52>>2]=+RD[t+300>>2],RD[e+56>>2]=+RD[t+304>>2],RD[e+60>>2]=+RD[t+308>>2],RD[e+64>>2]=+RD[t+312>>2],RD[e+68>>2]=+RD[t+316>>2],RD[e+72>>2]=+RD[t+320>>2],RD[e+76>>2]=+RD[t+324>>2],RD[e+80>>2]=+RD[t+328>>2],RD[e+84>>2]=+RD[t+332>>2],RD[e+88>>2]=+RD[t+336>>2],RD[e+92>>2]=+RD[t+340>>2],RD[e+96>>2]=+RD[t+344>>2],RD[e+100>>2]=+RD[t+348>>2],RD[e+104>>2]=+RD[t+352>>2],RD[e+108>>2]=+RD[t+356>>2],RD[e+112>>2]=+RD[t+360>>2],RD[e+116>>2]=+RD[t+364>>2],RD[e+120>>2]=+RD[t+368>>2],RD[e+124>>2]=+RD[t+372>>2],RD[e+128>>2]=+RD[t+376>>2],RD[e+132>>2]=+RD[t+380>>2],RD[e+136>>2]=+RD[t+384>>2],RD[e+140>>2]=+RD[t+388>>2],RD[e+144>>2]=+RD[t+392>>2],RD[e+148>>2]=+RD[t+396>>2],RD[e+152>>2]=+RD[t+400>>2],RD[e+156>>2]=+RD[t+404>>2],RD[e+160>>2]=+RD[t+408>>2],RD[e+164>>2]=+RD[t+412>>2],RD[e+168>>2]=+RD[t+416>>2],RD[e+172>>2]=+RD[t+420>>2],RD[e+176>>2]=+RD[t+424>>2],RD[e+180>>2]=+RD[t+444>>2],RD[e+184>>2]=+RD[t+448>>2],RD[e+188>>2]=+RD[t+452>>2],RD[e+192>>2]=+RD[t+428>>2],RD[e+196>>2]=+RD[t+432>>2],RD[e+200>>2]=+RD[t+436>>2],RD[e+204>>2]=+RD[t+440>>2],3800
}function fm(t){return t|=0,212}function _m(t){t|=0,t&&(CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0))}function mm(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0;return sv(t,e,i)|0,RD[e+52>>2]=+RD[t+552>>2],RD[e+56>>2]=+RD[t+556>>2],RD[e+60>>2]=+RD[t+560>>2],RD[e+64>>2]=+RD[t+564>>2],RD[e+68>>2]=+RD[t+568>>2],RD[e+72>>2]=+RD[t+572>>2],RD[e+76>>2]=+RD[t+576>>2],RD[e+80>>2]=+RD[t+580>>2],RD[e+84>>2]=+RD[t+584>>2],RD[e+88>>2]=+RD[t+588>>2],RD[e+92>>2]=+RD[t+592>>2],RD[e+96>>2]=+RD[t+596>>2],RD[e+100>>2]=+RD[t+600>>2],RD[e+104>>2]=+RD[t+604>>2],RD[e+108>>2]=+RD[t+608>>2],RD[e+112>>2]=+RD[t+612>>2],RD[e+116>>2]=+RD[t+616>>2],RD[e+120>>2]=+RD[t+620>>2],RD[e+124>>2]=+RD[t+624>>2],RD[e+128>>2]=+RD[t+628>>2],RD[e+132>>2]=+RD[t+632>>2],RD[e+136>>2]=+RD[t+636>>2],RD[e+140>>2]=+RD[t+640>>2],RD[e+144>>2]=+RD[t+644>>2],RD[e+148>>2]=+RD[t+648>>2],RD[e+152>>2]=+RD[t+652>>2],RD[e+156>>2]=+RD[t+656>>2],RD[e+160>>2]=+RD[t+660>>2],RD[e+164>>2]=+RD[t+664>>2],RD[e+168>>2]=+RD[t+668>>2],RD[e+172>>2]=+RD[t+672>>2],RD[e+176>>2]=+RD[t+676>>2],CD[e+184>>2]=ED[t+736>>0],CD[e+188>>2]=ED[t+737>>0],RD[e+196>>2]=+RD[t+684>>2],RD[e+192>>2]=+RD[t+680>>2],CD[e+180>>2]=ED[t+740>>0],o=+RD[t+688>>2],n=+RD[t+692>>2],r=+Rw(o-n,6.2831854820251465),r<-3.1415927410125732?r+=6.2831854820251465:r>3.1415927410125732&&(r+=-6.2831854820251465),RD[e+200>>2]=r,r=+Rw(o+n,6.2831854820251465),r<-3.1415927410125732?(n=r+6.2831854820251465,i=e+204|0,RD[i>>2]=n,i=t+696|0,n=+RD[i>>2],i=e+208|0,RD[i>>2]=n,i=t+700|0,n=+RD[i>>2],i=e+212|0,RD[i>>2]=n,t=t+704|0,n=+RD[t>>2],t=e+216|0,RD[t>>2]=n,3928):r>3.1415927410125732?(n=r+-6.2831854820251465,i=e+204|0,RD[i>>2]=n,i=t+696|0,n=+RD[i>>2],i=e+208|0,RD[i>>2]=n,i=t+700|0,n=+RD[i>>2],i=e+212|0,RD[i>>2]=n,t=t+704|0,n=+RD[t>>2],t=e+216|0,RD[t>>2]=n,3928):(n=r,i=e+204|0,RD[i>>2]=n,i=t+696|0,n=+RD[i>>2],i=e+208|0,RD[i>>2]=n,i=t+700|0,n=+RD[i>>2],i=e+212|0,RD[i>>2]=n,t=t+704|0,n=+RD[t>>2],t=e+216|0,RD[t>>2]=n,3928)}function gm(t){return t|=0,220}function ym(t){t|=0,t&&(CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0))}function bm(t){return t|=0,1}function vm(t,e,i){t|=0,e|=0,i|=0}function Mm(t,e,i){t|=0,e|=0,i|=0}function Sm(t){t|=0,ww(t)}function Tm(t){t|=0}function xm(t,e,i,r){t|=0,e|=0,i|=0,r|=0,CD[t+120>>2]=e,CD[t+124>>2]=i,CD[t+128>>2]=r}function Cm(t,e,i){t|=0,e|=0,i=+i,mP[CD[(CD[t>>2]|0)+16>>2]&31](t,i)}function Em(t){t|=0}function Am(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0;return RD[t+4>>2]=+RD[e+24>>2],r=CD[e>>2]|0,CD[t+8>>2]=r,i?(CD[t+52>>2]=CD[e+8>>2],CD[t+52+4>>2]=CD[e+8+4>>2],CD[t+52+8>>2]=CD[e+8+8>>2],CD[t+52+12>>2]=CD[e+8+12>>2]):(l=+RD[e+8>>2],s=+RD[e+12>>2],a=+RD[e+16>>2],n=+RD[r+20>>2]*l+ +RD[r+24>>2]*s+ +RD[r+28>>2]*a,o=+RD[r+36>>2]*l+ +RD[r+40>>2]*s+ +RD[r+44>>2]*a,RD[t+52>>2]=+RD[r+4>>2]*l+ +RD[r+8>>2]*s+ +RD[r+12>>2]*a,RD[t+56>>2]=n,RD[t+60>>2]=o,RD[t+64>>2]=0),l=+RD[e+24>>2],RD[t+68>>2]=(1-l)*+RD[t+20>>2]+ +RD[t+36>>2]*l,RD[t+72>>2]=(1-l)*+RD[t+24>>2]+l*+RD[t+40>>2],RD[t+76>>2]=(1-l)*+RD[t+28>>2]+l*+RD[t+44>>2],+ +RD[e+24>>2]}function wm(t,e){return t|=0,e|=0,(xD[e+4>>1]&xD[t+14>>1])<<16>>16?(t=(xD[t+12>>1]&xD[e+6>>1])<<16>>16!=0,t|0):(t=0,t|0)}function Rm(t){t|=0,ww(t)}function Dm(t,e,i){t|=0,e|=0,i=+i,bP[CD[(CD[t>>2]|0)+32>>2]&127](t,e),$P[CD[(CD[t>>2]|0)+36>>2]&7](t,e,i)}function Pm(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0;return a=CD[e>>2]|0,(a|0)==(CD[t+80>>2]|0)?(s=1,+s):CD[a+204>>2]&4?(s=1,+s):(n=+RD[e+8>>2],o=+RD[e+12>>2],r=+RD[e+16>>2],i?(s=n,l=o):(s=+RD[a+4>>2]*n+ +RD[a+8>>2]*o+ +RD[a+12>>2]*r,l=n*+RD[a+20>>2]+o*+RD[a+24>>2]+r*+RD[a+28>>2],r=n*+RD[a+36>>2]+o*+RD[a+40>>2]+r*+RD[a+44>>2]),s*+RD[t+84>>2]+l*+RD[t+88>>2]+r*+RD[t+92>>2]<+RD[t+100>>2]?(s=1,+s):(RD[t+4>>2]=+RD[e+40>>2],CD[t+76>>2]=a,i?(CD[t+44>>2]=CD[e+8>>2],CD[t+44+4>>2]=CD[e+8+4>>2],CD[t+44+8>>2]=CD[e+8+8>>2],CD[t+44+12>>2]=CD[e+8+12>>2]):(r=+RD[e+8>>2],l=+RD[e+12>>2],o=+RD[e+16>>2],n=r*+RD[a+20>>2]+l*+RD[a+24>>2]+o*+RD[a+28>>2],s=r*+RD[a+36>>2]+l*+RD[a+40>>2]+o*+RD[a+44>>2],RD[t+44>>2]=+RD[a+4>>2]*r+ +RD[a+8>>2]*l+ +RD[a+12>>2]*o,RD[t+48>>2]=n,RD[t+52>>2]=s,RD[t+56>>2]=0),CD[t+60>>2]=CD[e+24>>2],CD[t+60+4>>2]=CD[e+24+4>>2],CD[t+60+8>>2]=CD[e+24+8>>2],CD[t+60+12>>2]=CD[e+24+12>>2],s=+RD[e+40>>2],+s))}function Bm(t){t|=0,ww(t)}function Vm(t){return t|=0,256}function Lm(t,e){return t|=0,e|=0,1}function km(t){return t|=0,CD[t+68>>2]|0}function Hm(t){return t|=0,CD[t+68>>2]|0}function Im(t){return t|=0,CD[t+12>>2]|0?(t=CD[t+20>>2]|0,t|0):(t=0,t|0)}function Om(t,e){return t|=0,e|=0,CD[(CD[t+20>>2]|0)+(e<<2)>>2]|0}function Jm(t){return t|=0,CD[t+12>>2]|0}function Nm(t){t|=0}function Fm(t,e){t|=0,e|=0;var i=0;return i=CD[t+8>>2]|0,QP[CD[i+60>>2]&127](e,i,CD[t+4>>2]|0),0}function Gm(t){t|=0,ww(t)}function zm(t){return t|=0,CD[t+24>>2]|0}function jm(t){return t|=0,CD[t+16>>2]|0}function Um(t){return t|=0,CD[t+8>>2]|0}function Wm(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0;return o=CD[e>>2]|0,o=NP[CD[(CD[o>>2]|0)+56>>2]&31](o,28)|0,TD[t+4>>0]|0?o?(s=CD[t+8>>2]|0,n=CD[t+12>>2]|0,a=CD[e>>2]|0,CD[o+4>>2]=a,CD[o>>2]=7032,TD[o+8>>0]=0,CD[o+12>>2]=0,TD[o+16>>0]=1,CD[o+20>>2]=s,CD[o+24>>2]=n,DP[CD[(CD[a>>2]|0)+24>>2]&63](a,CD[r+8>>2]|0,CD[i+8>>2]|0)|0?(s=CD[o+4>>2]|0,s=DP[CD[(CD[s>>2]|0)+12>>2]&63](s,CD[r+8>>2]|0,CD[i+8>>2]|0)|0,CD[o+12>>2]=s,TD[o+8>>0]=1,s=o,s|0):(s=o,s|0)):(a=0,a|0):o?(a=CD[t+8>>2]|0,n=CD[t+12>>2]|0,t=CD[e>>2]|0,CD[o+4>>2]=t,CD[o>>2]=7032,TD[o+8>>0]=0,CD[o+12>>2]=0,TD[o+16>>0]=0,CD[o+20>>2]=a,CD[o+24>>2]=n,DP[CD[(CD[t>>2]|0)+24>>2]&63](t,CD[i+8>>2]|0,CD[r+8>>2]|0)|0?(a=CD[o+4>>2]|0,a=DP[CD[(CD[a>>2]|0)+12>>2]&63](a,CD[i+8>>2]|0,CD[r+8>>2]|0)|0,CD[o+12>>2]=a,TD[o+8>>0]=1,a=o,a|0):(a=o,a|0)):(t=0,t|0)}function Xm(t){t|=0,ww(t)}function qm(t){t|=0}function Km(t,e,i,r){return t|=0,e|=0,i|=0,r|=0,t=CD[e>>2]|0,(t=NP[CD[(CD[t>>2]|0)+56>>2]&31](t,16)|0)?(e=CD[e>>2]|0,CD[t+4>>2]=e,CD[t>>2]=7808,TD[t+8>>0]=0,CD[t+12>>2]=0,DP[CD[(CD[e>>2]|0)+24>>2]&63](e,CD[i+8>>2]|0,CD[r+8>>2]|0)|0?(e=CD[t+4>>2]|0,e=DP[CD[(CD[e>>2]|0)+12>>2]&63](e,CD[i+8>>2]|0,CD[r+8>>2]|0)|0,CD[t+12>>2]=e,TD[t+8>>0]=1,e=t,e|0):(e=t,e|0)):(e=0,e|0)}function Ym(t){t|=0,ww(t)}function Qm(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0;return o=CD[e>>2]|0,(o=NP[CD[(CD[o>>2]|0)+56>>2]&31](o,20)|0)?(n=CD[e+4>>2]|0,t=TD[t+4>>0]|0,e=CD[e>>2]|0,CD[o+4>>2]=e,CD[o>>2]=10312,TD[o+8>>0]=0,CD[o+12>>2]=n,TD[o+16>>0]=t,n?(n=o,n|0):(n=DP[CD[(CD[e>>2]|0)+12>>2]&63](e,CD[i+8>>2]|0,CD[r+8>>2]|0)|0,CD[o+12>>2]=n,TD[o+8>>0]=1,n=o,n|0)):(r=0,r|0)}function Zm(t){t|=0,ww(t)}function $m(t,e,i,r){return t|=0,e|=0,i|=0,r|=0,t=CD[e>>2]|0,(t=NP[CD[(CD[t>>2]|0)+56>>2]&31](t,16)|0)?(e=CD[e>>2]|0,CD[t+4>>2]=e,CD[t>>2]=19672,TD[t+8>>0]=0,CD[t+12>>2]=0,r=DP[CD[(CD[e>>2]|0)+12>>2]&63](e,CD[i+8>>2]|0,CD[r+8>>2]|0)|0,CD[t+12>>2]=r,TD[t+8>>0]=1,r=t,r|0):(r=0,r|0)}function tg(t){t|=0,ww(t)}function eg(t,e,i,r){return t|=0,e|=0,i|=0,r|=0,i=CD[e>>2]|0,(i=NP[CD[(CD[i>>2]|0)+56>>2]&31](i,8)|0)?(CD[i+4>>2]=CD[e>>2],CD[i>>2]=19600,e=i,e|0):(e=0,e|0)}function ig(t){t|=0,ww(t)}function rg(t,e,i,r){return t|=0,e|=0,i|=0,r|=0,t=CD[e>>2]|0,(t=NP[CD[(CD[t>>2]|0)+56>>2]&31](t,44)|0)?(RT(t,CD[e>>2]|0,CD[e+4>>2]|0,i,r,1),e=t,e|0):(e=0,e|0)}function og(t){t|=0,ww(t)}function ng(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0;if(l=CD[e>>2]|0,l=NP[CD[(CD[l>>2]|0)+56>>2]&31](l,48)|0,!l)return r=0,r|0;if(CD[l+4>>2]=CD[e>>2],CD[l>>2]=11184,TD[l+28>>0]=1,CD[l+24>>2]=0,CD[l+16>>2]=0,CD[l+20>>2]=0,CD[l+32>>2]=CD[e+4>>2],TD[l+36>>0]=0,CD[5108]=(CD[5108]|0)+1,a=Aw(87)|0,(a|0)!=0?(s=a+4+15&-16,CD[s+-4>>2]=a,(a+4+15&-16|0)!=0):0){if(CD[(a+4+15&-16)>>2]=19920,TD[s+20>>0]=1,CD[s+16>>2]=0,CD[s+8>>2]=0,CD[s+12>>2]=0,TD[s+24>>0]=0,TD[s+44>>0]=1,CD[s+40>>2]=0,CD[s+32>>2]=0,CD[s+36>>2]=0,TD[s+64>>0]=1,CD[s+60>>2]=0,CD[s+52>>2]=0,CD[s+56>>2]=0,CD[5108]=(CD[5108]|0)+1,t=Aw(43)|0,t?(CD[(t+4+15&-16)+-4>>2]=t,n=t+4+15&-16):n=0,e=CD[s+8>>2]|0,(e|0)>0)for(o=0;;){if(t=n+(o*12|0)|0,t&&(c=(CD[s+16>>2]|0)+(o*12|0)|0,CD[t>>2]=CD[c>>2],CD[t+4>>2]=CD[c+4>>2],CD[t+8>>2]=CD[c+8>>2]),(o|0)==(e+-1|0))break;o=o+1|0}e=CD[s+16>>2]|0,e&&(TD[s+20>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[s+16>>2]=0),TD[s+20>>0]=1,CD[s+16>>2]=n,CD[s+12>>2]=2,jv(a+4+15&-16),t=a+4+15&-16}else t=0;return CD[l+8>>2]=t,CD[l+40>>2]=CD[(CD[i+4>>2]|0)+68>>2],CD[l+44>>2]=CD[(CD[r+4>>2]|0)+68>>2],c=l,c|0}function ag(t){t|=0,ww(t)}function sg(t,e,i,r){return t|=0,e|=0,i|=0,r|=0,t=CD[e>>2]|0,(t=NP[CD[(CD[t>>2]|0)+56>>2]&31](t,44)|0)?(RT(t,CD[e>>2]|0,CD[e+4>>2]|0,i,r,0),e=t,e|0):(e=0,e|0)}function lg(t){t|=0,ww(t)}function cg(t,e,i,r){return t|=0,e|=0,i|=0,r|=0,t=CD[e>>2]|0,(t=NP[CD[(CD[t>>2]|0)+56>>2]&31](t,80)|0)?(e=CD[e>>2]|0,CD[t+4>>2]=e,CD[t>>2]=7152,TD[t+8>>0]=1,CD[t+12>>2]=7184,CD[t+60>>2]=e,CD[t+64>>2]=0,CD[t+16>>2]=r,CD[t+20>>2]=i,e=DP[CD[(CD[e>>2]|0)+12>>2]&63](e,CD[r+8>>2]|0,CD[i+8>>2]|0)|0,CD[t+76>>2]=e,r=CD[t+60>>2]|0,bP[CD[(CD[r>>2]|0)+20>>2]&127](r,e),e=t,e|0):(e=0,e|0)}function hg(t){t|=0,ww(t)}function ug(t,e,i,r){return t|=0,e|=0,i|=0,r|=0,t=CD[e>>2]|0,(t=NP[CD[(CD[t>>2]|0)+56>>2]&31](t,80)|0)?(e=CD[e>>2]|0,CD[t+4>>2]=e,CD[t>>2]=7152,TD[t+8>>0]=0,CD[t+12>>2]=7184,CD[t+60>>2]=e,CD[t+64>>2]=0,CD[t+16>>2]=i,CD[t+20>>2]=r,e=DP[CD[(CD[e>>2]|0)+12>>2]&63](e,CD[i+8>>2]|0,CD[r+8>>2]|0)|0,CD[t+76>>2]=e,r=CD[t+60>>2]|0,bP[CD[(CD[r>>2]|0)+20>>2]&127](r,e),e=t,e|0):(e=0,e|0)}function dg(t){t|=0,ww(t)}function pg(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0;if(CD[t+12>>2]|0&&TD[t+8>>0]|0){if(r=CD[e+4>>2]|0,(r|0)==(CD[e+8>>2]|0)?(s=(r|0)==0?1:r<<1,(r|0)<(s|0)):0){if(s?(CD[5108]=(CD[5108]|0)+1,i=Aw((s<<2|3)+16|0)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,r=i+4+15&-16):r=0,a=r,r=CD[e+4>>2]|0):a=0,(r|0)>0)for(i=r+-1|0,n=0;;){if(o=a+(n<<2)|0,o&&(CD[o>>2]=CD[(CD[e+12>>2]|0)+(n<<2)>>2]),(n|0)==(i|0))break;n=n+1|0}i=CD[e+12>>2]|0,i&&(TD[e+16>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0),r=CD[e+4>>2]|0),CD[e+12>>2]=0),TD[e+16>>0]=1,CD[e+12>>2]=a,CD[e+8>>2]=s}i=(CD[e+12>>2]|0)+(r<<2)|0,i&&(CD[i>>2]=CD[t+12>>2]),CD[e+4>>2]=r+1}}function fg(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0;return r=BD,BD=BD+784|0,RD[r+712>>2]=1,CD[r+712+4>>2]=0,CD[r+712+4+4>>2]=0,CD[r+712+4+8>>2]=0,CD[r+712+4+12>>2]=0,RD[r+712+20>>2]=1,CD[r+712+24>>2]=0,CD[r+712+24+4>>2]=0,CD[r+712+24+8>>2]=0,CD[r+712+24+12>>2]=0,RD[r+712+40>>2]=1,i=r+712+44|0,CD[i>>2]=0,CD[i+4>>2]=0,CD[i+8>>2]=0,CD[i+12>>2]=0,CD[i+16>>2]=0,CD[r+536>>2]=7512,CD[r+536+168>>2]=0,RD[r+536+172>>2]=0,RD[r+536+164>>2]=+RD[t+200>>2],n=+RD[t+196>>2],CD[r+480+8>>2]=0,RD[r+480+12>>2]=1,RD[r+480+16>>2]=1,RD[r+480+20>>2]=1,RD[r+480+24>>2]=0,CD[r+480>>2]=12008,CD[r+480+4>>2]=8,RD[r+480+28>>2]=n,RD[r+480+44>>2]=n,CD[r+376+8>>2]=0,RD[r+376+12>>2]=1,RD[r+376+16>>2]=1,RD[r+376+20>>2]=1,RD[r+376+24>>2]=0,RD[r+376+44>>2]=.03999999910593033,CD[r+376+52>>2]=0,CD[r+376>>2]=7584,CD[r+376+4>>2]=1,CD[r+376+56>>2]=CD[e>>2],CD[r+376+56+4>>2]=CD[e+4>>2],CD[r+376+56+8>>2]=CD[e+8>>2],CD[r+376+56+12>>2]=CD[e+12>>2],CD[r+376+72>>2]=CD[e+16>>2],CD[r+376+72+4>>2]=CD[e+16+4>>2],CD[r+376+72+8>>2]=CD[e+16+8>>2],CD[r+376+72+12>>2]=CD[e+16+12>>2],CD[r+376+88>>2]=CD[e+32>>2],CD[r+376+88+4>>2]=CD[e+32+4>>2],CD[r+376+88+8>>2]=CD[e+32+8>>2],CD[r+376+88+12>>2]=CD[e+32+12>>2],RD[r+16+308>>2]=9999999747378752e-20,TD[r+16+332>>0]=0,CD[r>>2]=18976,CD[r+4>>2]=r+16,CD[r+8>>2]=r+480,CD[r+12>>2]=r+376,(Uf(r,t+4|0,t+68|0,r+712|0,r+712|0,r+536|0)|0?(o=+RD[r+536+164>>2],+RD[t+200>>2]>o):0)&&(RD[t+200>>2]=o),CD[r+376>>2]=13336,(i=CD[r+376+52>>2]|0)?(gP[CD[CD[i>>2]>>2]&255](i),(i=CD[r+376+52>>2]|0)?(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0),void(BD=r)):void(BD=r)):void(BD=r)}function _g(t){t|=0}function mg(t){t|=0,ww(t)}function gg(t,e,i){t|=0,e|=0,i|=0}function yg(t,e){t|=0,e|=0}function bg(t,e){t|=0,e=+e}function vg(t){t|=0,ww(t)}function Mg(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0;n=+RD[t+56>>2],l=+RD[t+72>>2]-n,s=+RD[t+60>>2],a=+RD[t+76>>2]-s,c=+RD[t+64>>2],h=+RD[t+80>>2]-c,n=+RD[t+88>>2]-n,s=+RD[t+92>>2]-s,c=+RD[t+96>>2]-c,RD[i+12>>2]=0,o=1/+ND(+((l*s-a*n)*(l*s-a*n)+((a*c-h*s)*(a*c-h*s)+(h*n-l*c)*(h*n-l*c)))),RD[i>>2]=o*(a*c-h*s),RD[i+4>>2]=o*(h*n-l*c),RD[i+8>>2]=(l*s-a*n)*o,CD[r>>2]=CD[t+56>>2],CD[r+4>>2]=CD[t+56+4>>2],CD[r+8>>2]=CD[t+56+8>>2],CD[r+12>>2]=CD[t+56+12>>2]}function Sg(t,e,i){t|=0,e|=0,i=+i;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0;if(s=BD,BD=BD+32|0,h=+RD[t+56>>2],f=+RD[t+72>>2]-h,c=+RD[t+60>>2],d=+RD[t+76>>2]-c,l=+RD[t+64>>2],_=+RD[t+80>>2]-l,u=+RD[t+88>>2]-h,p=+RD[t+92>>2]-c,n=+RD[t+96>>2]-l,a=1/+ND(+((f*p-d*u)*(f*p-d*u)+((d*n-_*p)*(d*n-_*p)+(_*u-f*n)*(_*u-f*n)))),o=a*(d*n-_*p),n=a*(_*u-f*n),a=(f*p-d*u)*a,l=+RD[e>>2]*o+ +RD[e+4>>2]*n+a*+RD[e+8>>2]-(o*h+n*c+a*l),!(l>=-i)|!(l<=i))return r=0,BD=s,r|0;for(r=0;;){if(eB[CD[(CD[t>>2]|0)+104>>2]&127](t,r,s+16|0,s),l=+RD[s+16>>2],_=+RD[s>>2]-l,h=+RD[s+16+4>>2],c=+RD[s+4>>2]-h,f=+RD[s+16+8>>2],d=+RD[s+8>>2]-f,u=1/+ND(+((n*_-o*c)*(n*_-o*c)+((a*c-n*d)*(a*c-n*d)+(o*d-a*_)*(o*d-a*_)))),r=r+1|0,+RD[e>>2]*u*(a*c-n*d)+ +RD[e+4>>2]*u*(o*d-a*_)+(n*_-o*c)*u*+RD[e+8>>2]-(f*(n*_-o*c)*u+(l*u*(a*c-n*d)+h*u*(o*d-a*_)))<-i){e=0,r=5;break}if((r|0)>=3){e=1,r=5;break}}return(r|0)==5?(BD=s,e|0):0}function Tg(t,e,i,r){t|=0,e|=0,i|=0,r|=0,eB[CD[(CD[t>>2]|0)+124>>2]&127](t,r,e,i)}function xg(t){return t|=0,1}function Cg(t,e,i){t|=0,e|=0,i|=0,CD[i>>2]=CD[t+56+(e<<4)>>2],CD[i+4>>2]=CD[t+56+(e<<4)+4>>2],CD[i+8>>2]=CD[t+56+(e<<4)+8>>2],CD[i+12>>2]=CD[t+56+(e<<4)+12>>2]}function Eg(t,e,i,r){t|=0,e|=0,i|=0,r|=0,QP[CD[(CD[t>>2]|0)+108>>2]&127](t,e,i),QP[CD[(CD[t>>2]|0)+108>>2]&127](t,(e+1|0)%3|0,r)}function Ag(t){return t|=0,3}function wg(t){return t|=0,3}function Rg(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0;a=+RD[t+56>>2],l=+RD[t+72>>2]-a,s=+RD[t+60>>2],c=+RD[t+76>>2]-s,r=+RD[t+64>>2],n=+RD[t+80>>2]-r,a=+RD[t+88>>2]-a,s=+RD[t+92>>2]-s,r=+RD[t+96>>2]-r,RD[i+12>>2]=0,o=1/+ND(+((l*s-c*a)*(l*s-c*a)+((c*r-n*s)*(c*r-n*s)+(n*a-l*r)*(n*a-l*r)))),RD[i>>2]=o*(c*r-n*s),RD[i+4>>2]=o*(n*a-l*r),RD[i+8>>2]=(l*s-c*a)*o,e&&(RD[i>>2]=-(o*(c*r-n*s)),RD[i+4>>2]=-(o*(n*a-l*r)),RD[i+8>>2]=-((l*s-c*a)*o))}function Dg(t){return t|=0,2}function Pg(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0;if(!((r|0)<=0))for(c=0;;){if(u=+RD[e+(c<<4)>>2],h=+RD[e+(c<<4)+4>>2],s=+RD[e+(c<<4)+8>>2],n=u*+RD[t+56>>2]+h*+RD[t+60>>2]+s*+RD[t+64>>2],a=u*+RD[t+72>>2]+h*+RD[t+76>>2]+s*+RD[t+80>>2],s=u*+RD[t+88>>2]+h*+RD[t+92>>2]+s*+RD[t+96>>2],l=i+(c<<4)|0,o=n<a?a<s?2:1:n<s?2:0,o=t+56+(o<<4)|0,CD[l>>2]=CD[o>>2],CD[l+4>>2]=CD[o+4>>2],CD[l+8>>2]=CD[o+8>>2],CD[l+12>>2]=CD[o+12>>2],(c|0)==(r+-1|0))break;c=c+1|0}}function Bg(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0;s=+RD[i>>2],a=+RD[i+4>>2],n=+RD[i+8>>2],r=s*+RD[e+56>>2]+a*+RD[e+60>>2]+n*+RD[e+64>>2],o=s*+RD[e+72>>2]+a*+RD[e+76>>2]+n*+RD[e+80>>2],n=s*+RD[e+88>>2]+a*+RD[e+92>>2]+n*+RD[e+96>>2],i=r<o?o<n?2:1:r<n?2:0,e=e+56+(i<<4)|0,CD[t>>2]=CD[e>>2],CD[t+4>>2]=CD[e+4>>2],CD[t+8>>2]=CD[e+8>>2],CD[t+12>>2]=CD[e+12>>2]}function Vg(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0;return r=NP[CD[(CD[i>>2]|0)+40>>2]&31](i,t)|0,o=NP[CD[(CD[i>>2]|0)+28>>2]&31](i,r)|0,CD[e>>2]=o,o&&bP[CD[(CD[i>>2]|0)+48>>2]&127](i,r),CD[e+4>>2]=CD[t+4>>2],RD[e+28>>2]=+RD[t+28>>2],RD[e+32>>2]=+RD[t+32>>2],RD[e+36>>2]=+RD[t+36>>2],RD[e+40>>2]=+RD[t+40>>2],RD[e+12>>2]=+RD[t+12>>2],RD[e+16>>2]=+RD[t+16>>2],RD[e+20>>2]=+RD[t+20>>2],RD[e+24>>2]=+RD[t+24>>2],RD[e+44>>2]=+RD[t+44>>2],7752}function Lg(t){return t|=0,52}function kg(t,e){t|=0,e|=0,RD[t>>2]=1,RD[t+4>>2]=1,RD[t+8>>2]=1,RD[t+12>>2]=0}function Hg(t){return t|=0,7784}function Ig(t,e,i){t|=0,e=+e,i|=0,CD[i>>2]=0,CD[i+4>>2]=0,CD[i+8>>2]=0,CD[i+12>>2]=0}function Og(t){return t|=0,t+12|0}function Jg(t,e,i,r){t|=0,e|=0,i|=0,r|=0,eB[CD[(CD[t>>2]|0)+80>>2]&127](t,e,i,r)}function Ng(t){t|=0;var e=0,i=0;CD[t>>2]=13336,e=CD[t+52>>2]|0,((e|0)!=0?(gP[CD[CD[e>>2]>>2]&255](e),i=CD[t+52>>2]|0,(i|0)!=0):0)&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0)),CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0)}function Fg(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0;if(CD[t+12>>2]|0&&TD[t+8>>0]|0){if(r=CD[e+4>>2]|0,(r|0)==(CD[e+8>>2]|0)?(s=(r|0)==0?1:r<<1,(r|0)<(s|0)):0){if(s?(CD[5108]=(CD[5108]|0)+1,i=Aw((s<<2|3)+16|0)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,r=i+4+15&-16):r=0,a=r,r=CD[e+4>>2]|0):a=0,(r|0)>0)for(i=r+-1|0,n=0;;){if(o=a+(n<<2)|0,o&&(CD[o>>2]=CD[(CD[e+12>>2]|0)+(n<<2)>>2]),(n|0)==(i|0))break;n=n+1|0}i=CD[e+12>>2]|0,i&&(TD[e+16>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0),r=CD[e+4>>2]|0),CD[e+12>>2]=0),TD[e+16>>0]=1,CD[e+12>>2]=a,CD[e+8>>2]=s}i=(CD[e+12>>2]|0)+(r<<2)|0,i&&(CD[i>>2]=CD[t+12>>2]),CD[e+4>>2]=r+1}}function Gg(t,e,i){t|=0,e|=0,i|=0,CD[t+20>>2]=e,CD[t+28>>2]=i}function zg(t,e,i){t|=0,e|=0,i|=0,CD[t+16>>2]=e,CD[t+24>>2]=i}function jg(t){t|=0,ww(t)}function Ug(t){t|=0}function Wg(t){t|=0}function Xg(t){t|=0,ww(t+-4|0)}function qg(t,e,i,r){t|=0,e|=0,i|=0,r|=0,eB[CD[(CD[t+-4>>2]|0)+8>>2]&127](t+-4|0,e,i,r)}function Kg(t,e,i,r){t|=0,e|=0,i|=0,r|=0,eB[CD[(CD[t>>2]|0)+8>>2]&127](t,e,i,r)}function Yg(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0;return r=BD,BD=BD+96|0,l=+RD[e>>2],_=+RD[t+28>>2],x=+RD[e+4>>2],E=+RD[t+32>>2],c=+RD[e+8>>2],h=+RD[t+36>>2],u=+RD[t+44>>2],d=+RD[t+48>>2],p=+RD[t+52>>2],f=+RD[t+60>>2],m=+RD[t+64>>2],g=+RD[t+68>>2],y=+RD[t+76>>2],b=+RD[t+80>>2],v=+RD[t+84>>2],RD[r+80>>2]=l*_+x*E+c*h+y,RD[r+80+4>>2]=l*u+x*d+c*p+b,RD[r+80+8>>2]=l*f+x*m+c*g+v,RD[r+80+12>>2]=0,M=+RD[e+16>>2],S=+RD[e+20>>2],T=+RD[e+24>>2],RD[r+64>>2]=M*_+S*E+T*h+y,RD[r+64+4>>2]=M*u+S*d+T*p+b,RD[r+64+8>>2]=M*f+S*m+T*g+v,RD[r+64+12>>2]=0,C=+RD[e+32>>2],A=+RD[e+36>>2],s=+RD[e+40>>2],RD[r+48>>2]=C*_+A*E+s*h+y,RD[r+48+4>>2]=C*u+A*d+s*p+b,RD[r+48+8>>2]=C*f+A*m+s*g+v,RD[r+48+12>>2]=0,o=(l*_+x*E+c*h+y+(M*_+S*E+T*h+y)+(C*_+A*E+s*h+y))*.3333333432674408,n=(l*u+x*d+c*p+b+(M*u+S*d+T*p+b)+(C*u+A*d+s*p+b))*.3333333432674408,a=(l*f+x*m+c*g+v+(M*f+S*m+T*g+v)+(C*f+A*m+s*g+v))*.3333333432674408,RD[r+32>>2]=o,RD[r+32+4>>2]=n,RD[r+32+8>>2]=a,RD[r+32+12>>2]=0,e=CD[t+8>>2]|0,(MP[CD[(CD[e>>2]|0)+48>>2]&127](e)|0)&16384?(D=M*_+S*E+T*h+y-(l*_+x*E+c*h+y),R=M*u+S*d+T*p+b-(l*u+x*d+c*p+b),S=M*f+S*m+T*g+v-(l*f+x*m+c*g+v),E=C*_+A*E+s*h+y-(l*_+x*E+c*h+y),T=C*u+A*d+s*p+b-(l*u+x*d+c*p+b),C=C*f+A*m+s*g+v-(l*f+x*m+c*g+v),A=1/+ND(+((D*T-R*E)*(D*T-R*E)+((R*C-S*T)*(R*C-S*T)+(S*E-D*C)*(S*E-D*C)))),RD[r+16>>2]=1,RD[r+16+4>>2]=1,RD[r+16+8>>2]=0,RD[r+16+12>>2]=0,e=CD[t+8>>2]|0,i=CD[(CD[e>>2]|0)+8>>2]|0,RD[r>>2]=A*(R*C-S*T)+o,RD[r+4>>2]=A*(S*E-D*C)+n,RD[r+8>>2]=A*(D*T-R*E)+a,RD[r+12>>2]=0,eB[i&127](e,r+32|0,r,r+16|0),e=CD[t+8>>2]|0,i=CD[e>>2]|0,i=i+8|0,i=CD[i>>2]|0,w=t+12|0,eB[i&127](e,r+80|0,r+64|0,w),e=CD[t+8>>2]|0,i=CD[e>>2]|0,i=i+8|0,i=CD[i>>2]|0,eB[i&127](e,r+64|0,r+48|0,w),t=CD[t+8>>2]|0,e=CD[t>>2]|0,e=e+8|0,e=CD[e>>2]|0,eB[e&127](t,r+48|0,r+80|0,w),void(BD=r)):(i=CD[t+8>>2]|0,w=CD[i>>2]|0,w=w+8|0,w=CD[w>>2]|0,e=t+12|0,eB[w&127](i,r+80|0,r+64|0,e),i=CD[t+8>>2]|0,w=CD[i>>2]|0,w=w+8|0,w=CD[w>>2]|0,eB[w&127](i,r+64|0,r+48|0,e),t=CD[t+8>>2]|0,i=CD[t>>2]|0,i=i+8|0,i=CD[i>>2]|0,eB[i&127](t,r+48|0,r+80|0,e),void(BD=r))}function Qg(t){t|=0,ww(t)}function Zg(t,e,i,r){t|=0,e|=0,i|=0,r=+r;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0;y=BD,BD=BD+192|0,m=CD[(CD[t+4>>2]|0)+740>>2]|0,g=CD[(CD[t+8>>2]|0)+8>>2]|0,h=+RD[i>>2],p=+RD[e>>2]*r+h,o=+RD[i+4>>2],f=+RD[e+4>>2]*r+o,n=+RD[i+8>>2],_=+RD[e+8>>2]*r+n,u=CD[(CD[t+12>>2]|0)+8>>2]|0,d=+RD[u+52>>2],(m|0)!=(g|0)?(l=f-+RD[u+56>>2],s=_-+RD[u+60>>2],b=h-+RD[g+52>>2],h=o-+RD[g+56>>2],n-=+RD[g+60>>2],o=(p-d)*+RD[u+4>>2]+l*+RD[u+20>>2]+s*+RD[u+36>>2],a=(p-d)*+RD[u+8>>2]+l*+RD[u+24>>2]+s*+RD[u+40>>2],s=(p-d)*+RD[u+12>>2]+l*+RD[u+28>>2]+s*+RD[u+44>>2],l=b*+RD[g+4>>2]+h*+RD[g+20>>2]+n*+RD[g+36>>2],c=b*+RD[g+8>>2]+h*+RD[g+24>>2]+n*+RD[g+40>>2],n=b*+RD[g+12>>2]+h*+RD[g+28>>2]+n*+RD[g+44>>2]):(c=p-+RD[m+52>>2],l=f-+RD[m+56>>2],s=_-+RD[m+60>>2],b=o-+RD[u+56>>2],n-=+RD[u+60>>2],o=c*+RD[m+4>>2]+l*+RD[m+20>>2]+s*+RD[m+36>>2],a=c*+RD[m+8>>2]+l*+RD[m+24>>2]+s*+RD[m+40>>2],s=c*+RD[m+12>>2]+l*+RD[m+28>>2]+s*+RD[m+44>>2],l=(h-d)*+RD[u+4>>2]+b*+RD[u+20>>2]+n*+RD[u+36>>2],c=(h-d)*+RD[u+8>>2]+b*+RD[u+24>>2]+n*+RD[u+40>>2],n=(h-d)*+RD[u+12>>2]+b*+RD[u+28>>2]+n*+RD[u+44>>2]),RD[y>>2]=o,RD[y+4>>2]=a,RD[y+8>>2]=s,RD[y+12>>2]=0,RD[y+16>>2]=l,RD[y+20>>2]=c,RD[y+24>>2]=n,RD[y+28>>2]=0,CD[y+64>>2]=CD[e>>2],CD[y+64+4>>2]=CD[e+4>>2],CD[y+64+8>>2]=CD[e+8>>2],CD[y+64+12>>2]=CD[e+12>>2],RD[y+80>>2]=r,RD[y+84>>2]=0,RD[y+88>>2]=0,RD[y+92>>2]=0,CD[y+112>>2]=0,TD[y+116>>0]=0,CD[y+120>>2]=0,CD[y+120+4>>2]=0,CD[y+120+8>>2]=0,CD[y+120+12>>2]=0,CD[y+120+16>>2]=0,CD[y+120+20>>2]=0,CD[y+120+24>>2]=0,CD[y+120+28>>2]=0,RD[y+48>>2]=p,RD[y+52>>2]=f,RD[y+56>>2]=_,RD[y+60>>2]=0,CD[y+32>>2]=CD[i>>2],CD[y+32+4>>2]=CD[i+4>>2],CD[y+32+8>>2]=CD[i+8>>2],CD[y+32+12>>2]=CD[i+12>>2],e=CD[t+20>>2]|0,u=CD[t+16>>2]|0,i=CD[t+28>>2]|0,M=CD[t+24>>2]|0,v=(m|0)!=(g|0)?e:u,e=(m|0)!=(g|0)?u:e,u=(m|0)!=(g|0)?i:M,i=(m|0)!=(g|0)?M:i,CD[y+96>>2]=v,CD[y+100>>2]=e,CD[y+104>>2]=u,CD[y+108>>2]=i,M=CD[t+32>>2]|0,+AP[CD[(CD[M>>2]|0)+12>>2]&1](M,y,CD[((m|0)!=(g|0)?t+12|0:t+8|0)>>2]|0,v,u,CD[((m|0)!=(g|0)?t+8|0:t+12|0)>>2]|0,e,i),BD=y}function $g(t){t|=0,ww(t)}function ty(t){t|=0}function ey(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0;return r=BD,BD=BD+32|0,i=CD[t+184>>2]|0,+RD[i+4>>2]==0?(t=0,BD=r,t|0):(e=CD[e>>2]|0,NP[CD[(CD[i>>2]|0)+8>>2]&31](i,CD[e+188>>2]|0)|0?(n=CD[t+192>>2]|0,a=CD[e+192>>2]|0,i=CD[t+184>>2]|0,o=+RD[t+188>>2],CD[r>>2]=0,CD[r+4>>2]=a,CD[r+8>>2]=e,CD[r+12>>2]=e+4,CD[r+16>>2]=-1,CD[r+20>>2]=-1,xS(n,t+36|0,t+100|0,r,i,o),t=1,BD=r,t|0):(t=1,BD=r,t|0))}function iy(t){t|=0,ww(t)}function ry(t,e){t|=0,e|=0;var i=0,r=0,o=0;return r=BD,BD=BD+32|0,i=CD[t+216>>2]|0,+RD[i+4>>2]==0?(t=0,BD=r,t|0):(e=CD[e>>2]|0,NP[CD[(CD[i>>2]|0)+8>>2]&31](i,CD[e+188>>2]|0)|0?(o=CD[e+192>>2]|0,i=CD[t+216>>2]|0,CD[r>>2]=0,CD[r+4>>2]=o,CD[r+8>>2]=e,CD[r+12>>2]=e+4,CD[r+16>>2]=-1,CD[r+20>>2]=-1,TS(t+68|0,t+132|0,r,i),t=1,BD=r,t|0):(t=1,BD=r,t|0))}function oy(t){t|=0,ww(t)}function ny(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0;return r=BD,BD=BD+16|0,CD[r>>2]=-1,CD[r+4>>2]=CD[t+16>>2],CD[e+4>>2]|0||(CD[e+4>>2]=r),n=CD[t+12>>2]|0,o=+FP[CD[(CD[n>>2]|0)+12>>2]&15](n,e,i),RD[t+4>>2]=+RD[(CD[t+12>>2]|0)+4>>2],BD=r,+o}function ay(t,e){return t|=0,e|=0,t=CD[t+12>>2]|0,NP[CD[(CD[t>>2]|0)+8>>2]&31](t,e)|0}function sy(t){t|=0,ww(t)}function ly(t,e,i,r,o,n){t|=0,e|=0,i|=0,r=+r,o|=0,n|=0;var a=0;return a=BD,BD=BD+64|0,CD[a+48>>2]=o,CD[a+48+4>>2]=n,o=CD[t+212>>2]|0,+RD[o+4>>2]>=r?(CD[a>>2]=CD[t+216>>2],CD[a+4>>2]=a+48,CD[a+8>>2]=CD[e>>2],CD[a+8+4>>2]=CD[e+4>>2],CD[a+8+8>>2]=CD[e+8>>2],CD[a+8+12>>2]=CD[e+12>>2],CD[a+24>>2]=CD[i>>2],CD[a+24+4>>2]=CD[i+4>>2],CD[a+24+8>>2]=CD[i+8>>2],CD[a+24+12>>2]=CD[i+12>>2],RD[a+40>>2]=r,r=+FP[CD[(CD[o>>2]|0)+12>>2]&15](o,a,0),BD=a,+r):(BD=a,+r)}function cy(t){t|=0,ww(t)}function hy(t,e,i,r,o,n){t|=0,e|=0,i|=0,r=+r,o|=0,n|=0;var a=0;return a=BD,BD=BD+64|0,CD[a+48>>2]=o,CD[a+48+4>>2]=n,o=CD[t+212>>2]|0,+RD[o+4>>2]>=r?(CD[a>>2]=CD[t+216>>2],CD[a+4>>2]=a+48,CD[a+8>>2]=CD[e>>2],CD[a+8+4>>2]=CD[e+4>>2],CD[a+8+8>>2]=CD[e+8>>2],CD[a+8+12>>2]=CD[e+12>>2],CD[a+24>>2]=CD[i>>2],CD[a+24+4>>2]=CD[i+4>>2],CD[a+24+8>>2]=CD[i+8>>2],CD[a+24+12>>2]=CD[i+12>>2],RD[a+40>>2]=r,r=+FP[CD[(CD[o>>2]|0)+12>>2]&15](o,a,1),BD=a,+r):(BD=a,+r)}function uy(t){t|=0,ww(t)}function dy(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0;return r=BD,BD=BD+16|0,CD[r>>2]=-1,CD[r+4>>2]=CD[t+24>>2],CD[e+4>>2]|0||(CD[e+4>>2]=r),n=CD[t+20>>2]|0,o=+FP[CD[(CD[n>>2]|0)+12>>2]&15](n,e,i),RD[t+4>>2]=+RD[(CD[t+20>>2]|0)+4>>2],BD=r,+o}function py(t,e){return t|=0,e|=0,t=CD[t+20>>2]|0,NP[CD[(CD[t>>2]|0)+8>>2]&31](t,e)|0}function fy(t){t|=0,ww(t)}function _y(t,e){return t|=0,e|=0,1}function my(t,e){return t|=0,e|=0,1}function gy(t,e,i){t|=0,e|=0,i=+i,bP[CD[(CD[t>>2]|0)+12>>2]&127](t,e)}function yy(t,e){t|=0,e|=0;var i=0,r=0,o=0;i=BD,BD=BD+128|0,r=CD[e+36>>2]|0,e=CD[(CD[t+8>>2]|0)+24>>2]|0,o=CD[e+(r*80|0)+64>>2]|0,i_(i+56|0,CD[t+12>>2]|0,e+(r*80|0)|0),e=CD[t+4>>2]|0,CD[i+32>>2]=0,CD[i+32+4>>2]=o,CD[i+32+8>>2]=e,CD[i+32+12>>2]=i+56,CD[i+32+16>>2]=-1,CD[i+32+20>>2]=r,e=CD[t+24>>2]|0,RD[i+4>>2]=1,CD[i+8>>2]=0,xD[i+12>>1]=1,xD[i+14>>1]=-1,CD[i+16>>2]=0,CD[i>>2]=9536,CD[i+20>>2]=e,CD[i+24>>2]=r,RD[i+4>>2]=+RD[e+4>>2],CD[i+16>>2]=CD[e+16>>2],TS(CD[t+16>>2]|0,CD[t+20>>2]|0,i+32|0,i),BD=i}function by(t,e,i){t|=0,e|=0,i|=0}function vy(t){t|=0,ww(t)}function My(t){t|=0}function Sy(t,e,i,r,o){t|=0,e|=0,i=+i,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0;return n=BD,BD=BD+48|0,CD[n+32>>2]=r,CD[n+32+4>>2]=o,h=+RD[e>>2],c=+RD[e+4>>2],a=+RD[e+8>>2],l=+RD[t+56>>2]*h+ +RD[t+60>>2]*c+ +RD[t+64>>2]*a,s=h*+RD[t+72>>2]+c*+RD[t+76>>2]+a*+RD[t+80>>2],a=h*+RD[t+88>>2]+c*+RD[t+92>>2]+a*+RD[t+96>>2],CD[n>>2]=CD[t+48>>2],CD[n+4>>2]=n+32,RD[n+8>>2]=l,RD[n+12>>2]=s,RD[n+16>>2]=a,RD[n+20>>2]=0,RD[n+24>>2]=i,o=CD[t+44>>2]|0,i=+FP[CD[(CD[o>>2]|0)+12>>2]&15](o,n,1),BD=n,+i}function Ty(t){t|=0,ww(t)}function xy(t,e,i,r,o){t|=0,e|=0,i=+i,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0;return n=BD,BD=BD+48|0,CD[n+32>>2]=r,CD[n+32+4>>2]=o,h=+RD[e>>2],c=+RD[e+4>>2],a=+RD[e+8>>2],l=+RD[t+56>>2]*h+ +RD[t+60>>2]*c+ +RD[t+64>>2]*a,s=h*+RD[t+72>>2]+c*+RD[t+76>>2]+a*+RD[t+80>>2],a=h*+RD[t+88>>2]+c*+RD[t+92>>2]+a*+RD[t+96>>2],CD[n>>2]=CD[t+48>>2],CD[n+4>>2]=n+32,RD[n+8>>2]=l,RD[n+12>>2]=s,RD[n+16>>2]=a,RD[n+20>>2]=0,RD[n+24>>2]=i,o=CD[t+44>>2]|0,i=+FP[CD[(CD[o>>2]|0)+12>>2]&15](o,n,1),BD=n,+i}function Cy(t){t|=0,ww(t)}function Ey(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0;if(CD[t+12>>2]|0&&TD[t+8>>0]|0){if(r=CD[e+4>>2]|0,(r|0)==(CD[e+8>>2]|0)?(s=(r|0)==0?1:r<<1,(r|0)<(s|0)):0){if(s?(CD[5108]=(CD[5108]|0)+1,i=Aw((s<<2|3)+16|0)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,r=i+4+15&-16):r=0,a=r,r=CD[e+4>>2]|0):a=0,(r|0)>0)for(i=r+-1|0,n=0;;){if(o=a+(n<<2)|0,o&&(CD[o>>2]=CD[(CD[e+12>>2]|0)+(n<<2)>>2]),(n|0)==(i|0))break;n=n+1|0}i=CD[e+12>>2]|0,i&&(TD[e+16>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0),r=CD[e+4>>2]|0),CD[e+12>>2]=0),TD[e+16>>0]=1,CD[e+12>>2]=a,CD[e+8>>2]=s}i=(CD[e+12>>2]|0)+(r<<2)|0,i&&(CD[i>>2]=CD[t+12>>2]),CD[e+4>>2]=r+1}}function Ay(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0;if(CD[t+20>>2]|0&&TD[t+16>>0]|0){if(r=CD[e+4>>2]|0,(r|0)==(CD[e+8>>2]|0)?(s=(r|0)==0?1:r<<1,(r|0)<(s|0)):0){if(s?(CD[5108]=(CD[5108]|0)+1,i=Aw((s<<2|3)+16|0)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,r=i+4+15&-16):r=0,a=r,r=CD[e+4>>2]|0):a=0,(r|0)>0)for(i=r+-1|0,n=0;;){if(o=a+(n<<2)|0,o&&(CD[o>>2]=CD[(CD[e+12>>2]|0)+(n<<2)>>2]),(n|0)==(i|0))break;n=n+1|0}i=CD[e+12>>2]|0,i&&(TD[e+16>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0),r=CD[e+4>>2]|0),CD[e+12>>2]=0),TD[e+16>>0]=1,CD[e+12>>2]=a,CD[e+8>>2]=s}i=(CD[e+12>>2]|0)+(r<<2)|0,i&&(CD[i>>2]=CD[t+20>>2]),CD[e+4>>2]=r+1}}function wy(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0;return i=CD[e>>2]|0,(i=NP[CD[(CD[i>>2]|0)+56>>2]&31](i,36)|0)?(o=CD[e+4>>2]|0,a=CD[t+12>>2]|0,n=CD[t+8>>2]|0,r=CD[t+16>>2]|0,t=CD[t+20>>2]|0,CD[i+4>>2]=CD[e>>2],CD[i>>2]=10424,CD[i+8>>2]=a,CD[i+12>>2]=n,TD[i+16>>0]=0,CD[i+20>>2]=o,TD[i+24>>0]=0,CD[i+28>>2]=r,CD[i+32>>2]=t,t=i,t|0):(t=0,t|0)}function Ry(t,e,i,r){t|=0,e|=0,i|=0,r=+r;var o=0,n=0,a=0,s=0;return o=BD,BD=BD+16|0,RD[t+32>>2]=r,CD[t+8>>2]=CD[e>>2],CD[t+8+4>>2]=CD[e+4>>2],CD[t+8+8>>2]=CD[e+8>>2],CD[t+8+12>>2]=CD[e+12>>2],n=+RD[t+28>>2],s=+RD[i+4>>2]-n*+RD[e+4>>2],a=+RD[i+8>>2]-n*+RD[e+8>>2],RD[o>>2]=+RD[i>>2]-+RD[e>>2]*n,RD[o+4>>2]=s,RD[o+8>>2]=a,RD[o+12>>2]=0,r=+RD[t+24>>2]+n+r,RD[t+32>>2]=r,r<0?(TD[t+36>>0]=1,t=t+4|0,t=CD[t>>2]|0,i=CD[t>>2]|0,i=i+16|0,i=CD[i>>2]|0,YP[i&15](t,e,o,r),void(BD=o)):(t=t+4|0,t=CD[t>>2]|0,i=CD[t>>2]|0,i=i+16|0,i=CD[i>>2]|0,YP[i&15](t,e,o,r),void(BD=o))}function Dy(t,e,i){t|=0,e|=0,i|=0}function Py(t,e,i){t|=0,e|=0,i|=0}function By(t){t|=0,ww(t)}function Vy(t,e,i,r){t|=0,e|=0,i|=0,r=+r;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0,P=0;return h=BD,BD=BD+16|0,s=+RD[e>>2],l=+RD[e+4>>2],c=+RD[e+8>>2],n=+RD[i>>2],a=+RD[i+4>>2],o=+RD[i+8>>2],TD[t+228>>0]|0?(y=+RD[t+36>>2],M=+RD[t+52>>2],_=+RD[t+68>>2],b=+RD[t+40>>2],x=+RD[t+56>>2],m=+RD[t+72>>2],v=+RD[t+44>>2],w=+RD[t+60>>2],g=+RD[t+76>>2],E=-+RD[t+84>>2],f=-+RD[t+88>>2],d=-+RD[t+92>>2],T=+RD[t+164>>2],u=+RD[t+168>>2],R=+RD[t+172>>2],C=+RD[t+180>>2],p=+RD[t+184>>2],D=+RD[t+188>>2],S=+RD[t+196>>2],A=+RD[t+200>>2],P=+RD[t+204>>2],R=(c*r+o)*(_*T+m*u+g*R)+((s*r+n)*(y*T+b*u+v*R)+(l*r+a)*(M*T+x*u+w*R))+(T*(y*E+M*f+_*d)+(b*E+x*f+m*d)*u+(v*E+w*f+g*d)*R+ +RD[t+212>>2]),D=(c*r+o)*(_*C+m*p+g*D)+((s*r+n)*(y*C+b*p+v*D)+(l*r+a)*(M*C+x*p+w*D))+((y*E+M*f+_*d)*C+(b*E+x*f+m*d)*p+(v*E+w*f+g*d)*D+ +RD[t+216>>2]),P=(y*E+M*f+_*d)*S+(b*E+x*f+m*d)*A+(v*E+w*f+g*d)*P+ +RD[t+220>>2]+((c*r+o)*(_*S+m*A+g*P)+((s*r+n)*(y*S+b*A+v*P)+(l*r+a)*(M*S+x*A+w*P))),RD[h>>2]=R+s*(s*(R-n)+l*(D-a)+c*(P-o)),RD[h+4>>2]=D+l*(s*(R-n)+l*(D-a)+c*(P-o)),RD[h+8>>2]=P+c*(s*(R-n)+l*(D-a)+c*(P-o)),RD[h+12>>2]=0,P=s*(R-n)+l*(D-a)+c*(P-o),t=t+32|0,t=CD[t>>2]|0,i=CD[t>>2]|0,i=i+16|0,i=CD[i>>2]|0,YP[i&15](t,e,h,P),void(BD=h)):(M=+RD[t+100>>2],y=+RD[t+116>>2],x=+RD[t+132>>2],v=+RD[t+104>>2],m=+RD[t+120>>2],T=+RD[t+136>>2],b=+RD[t+108>>2],f=+RD[t+124>>2],S=+RD[t+140>>2],A=-+RD[t+148>>2],E=-+RD[t+152>>2],C=-+RD[t+156>>2],P=+RD[t+164>>2],D=+RD[t+168>>2],p=+RD[t+172>>2],R=+RD[t+180>>2],w=+RD[t+184>>2],d=+RD[t+188>>2],g=+RD[t+196>>2],_=+RD[t+200>>2],u=+RD[t+204>>2],p=o*(x*P+T*D+S*p)+(n*(M*P+v*D+b*p)+a*(y*P+m*D+f*p))+(P*(M*A+y*E+x*C)+(v*A+m*E+T*C)*D+(b*A+f*E+S*C)*p+ +RD[t+212>>2]),d=o*(x*R+T*w+S*d)+(n*(M*R+v*w+b*d)+a*(y*R+m*w+f*d))+((M*A+y*E+x*C)*R+(v*A+m*E+T*C)*w+(b*A+f*E+S*C)*d+ +RD[t+216>>2]),u=(M*A+y*E+x*C)*g+(v*A+m*E+T*C)*_+(b*A+f*E+S*C)*u+ +RD[t+220>>2]+(o*(x*g+T*_+S*u)+(n*(M*g+v*_+b*u)+a*(y*g+m*_+f*u))),RD[h>>2]=p,RD[h+4>>2]=d,RD[h+8>>2]=u,RD[h+12>>2]=0,r=(s*r+n-p)*+RD[e>>2]+(l*r+a-d)*+RD[e+4>>2]+(c*r+o-u)*+RD[e+8>>2],t=t+32|0,t=CD[t>>2]|0,i=CD[t>>2]|0,i=i+16|0,i=CD[i>>2]|0,YP[i&15](t,e,h,r),void(BD=h))}function Ly(t){t|=0,ww(t)}function ky(t,e,i,r){t|=0,e|=0,i|=0,r=+r}function Hy(t,e,i){t|=0,e|=0,i|=0}function Iy(t,e,i){t|=0,e|=0,i|=0}function Oy(t){t|=0,ww(t)}function Jy(t,e){t|=0,e|=0;var i=0,r=0,o=0;if(i=CD[t+12>>2]|0,!((i|0)<=0)){o=0;do r=CD[(CD[t+20>>2]|0)+(o<<2)>>2]|0,r&&(bP[CD[(CD[r>>2]|0)+16>>2]&127](r,e),i=CD[t+12>>2]|0),o=o+1|0;while((o|0)<(i|0))}}function Ny(t,e){t|=0,e|=0,e=CD[e+36>>2]|0,m_(t,CD[(CD[(CD[(CD[t+4>>2]|0)+4>>2]|0)+24>>2]|0)+(e*80|0)+64>>2]|0,e)}function Fy(t){t|=0,ww(t)}function Gy(t,e){t|=0,e|=0}function zy(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0;if(l=BD,BD=BD+240|0,CD[t+4>>2]=(CD[t+4>>2]|0)+1,a=CD[e+36>>2]|0,n=CD[i+36>>2]|0,i=CD[t+8>>2]|0,V=CD[(CD[i+4>>2]|0)+24>>2]|0,e=CD[V+(a*80|0)+64>>2]|0,B=(CD[(CD[t+12>>2]|0)+4>>2]|0)+24|0,r=CD[(CD[B>>2]|0)+(n*80|0)+64>>2]|0,i=CD[i+12>>2]|0,c=+RD[i>>2],D=+RD[i+4>>2],P=+RD[i+8>>2],d=+RD[i+16>>2],f=+RD[i+20>>2],m=+RD[i+24>>2],p=+RD[i+32>>2],g=+RD[i+36>>2],C=+RD[i+40>>2],y=+RD[V+(a*80|0)>>2],b=+RD[V+(a*80|0)+16>>2],v=+RD[V+(a*80|0)+32>>2],M=+RD[V+(a*80|0)+4>>2],S=+RD[V+(a*80|0)+20>>2],T=+RD[V+(a*80|0)+36>>2],_=+RD[V+(a*80|0)+8>>2],x=+RD[V+(a*80|0)+24>>2],E=+RD[V+(a*80|0)+40>>2],h=+RD[V+(a*80|0)+48>>2],u=+RD[V+(a*80|0)+52>>2],R=+RD[V+(a*80|0)+56>>2],A=+RD[i+48>>2]+(c*h+D*u+P*R),w=+RD[i+52>>2]+(d*h+f*u+m*R),R=+RD[i+56>>2]+(p*h+g*u+C*R),RD[l+16>>2]=c*y+D*b+P*v,RD[l+16+4>>2]=c*M+D*S+P*T,RD[l+16+8>>2]=c*_+D*x+P*E,RD[l+16+12>>2]=0,RD[l+16+16>>2]=d*y+f*b+m*v,RD[l+16+20>>2]=d*M+f*S+m*T,RD[l+16+24>>2]=d*_+f*x+m*E,RD[l+16+28>>2]=0,RD[l+16+32>>2]=p*y+g*b+C*v,RD[l+16+36>>2]=p*M+g*S+C*T,RD[l+16+40>>2]=p*_+g*x+C*E,RD[l+16+44>>2]=0,RD[l+16+48>>2]=A,RD[l+16+52>>2]=w,RD[l+16+56>>2]=R,RD[l+16+60>>2]=0,i=CD[(CD[t+12>>2]|0)+12>>2]|0,R=+RD[i>>2],w=+RD[i+4>>2],A=+RD[i+8>>2],E=+RD[i+16>>2],C=+RD[i+20>>2],x=+RD[i+24>>2],g=+RD[i+32>>2],_=+RD[i+36>>2],p=+RD[i+40>>2],B=CD[B>>2]|0,T=+RD[B+(n*80|0)>>2],S=+RD[B+(n*80|0)+16>>2],M=+RD[B+(n*80|0)+32>>2],v=+RD[B+(n*80|0)+4>>2],b=+RD[B+(n*80|0)+20>>2],y=+RD[B+(n*80|0)+36>>2],m=+RD[B+(n*80|0)+8>>2],f=+RD[B+(n*80|0)+24>>2],d=+RD[B+(n*80|0)+40>>2],P=+RD[B+(n*80|0)+48>>2],D=+RD[B+(n*80|0)+52>>2],c=+RD[B+(n*80|0)+56>>2],u=+RD[i+48>>2]+(R*P+w*D+A*c),h=+RD[i+52>>2]+(E*P+C*D+x*c),c=+RD[i+56>>2]+(g*P+_*D+p*c),RD[l+120>>2]=R*T+w*S+A*M,RD[l+120+4>>2]=R*v+w*b+A*y,RD[l+120+8>>2]=R*m+w*f+A*d,RD[l+120+12>>2]=0,RD[l+120+16>>2]=E*T+C*S+x*M,RD[l+120+20>>2]=E*v+C*b+x*y,RD[l+120+24>>2]=E*m+C*f+x*d,RD[l+120+28>>2]=0,RD[l+120+32>>2]=g*T+_*S+p*M,RD[l+120+36>>2]=g*v+_*b+p*y,RD[l+120+40>>2]=g*m+_*f+p*d,RD[l+120+44>>2]=0,RD[l+120+48>>2]=u,RD[l+120+52>>2]=h,RD[l+120+56>>2]=c,RD[l+120+60>>2]=0,eB[CD[(CD[e>>2]|0)+8>>2]&127](e,l+16|0,l+80|0,l+184|0),eB[CD[(CD[r>>2]|0)+8>>2]&127](r,l+120|0,l+224|0,l),i=(+RD[l+80>>2]>+RD[l>>2]?!0:+RD[l+184>>2]<+RD[l+224>>2])?0:1,(+RD[l+80+8>>2]>+RD[l+8>>2]?0:!(+RD[l+184+8>>2]<+RD[l+224+8>>2]))||(i=0),+RD[l+80+4>>2]>+RD[l+4>>2])return void(BD=l);
if(+RD[l+184+4>>2]<+RD[l+224+4>>2]|i^1)return void(BD=l);B=CD[t+8>>2]|0,i=CD[B+8>>2]|0,CD[l+96>>2]=B,CD[l+96+4>>2]=e,CD[l+96+8>>2]=i,CD[l+96+12>>2]=l+16,CD[l+96+16>>2]=-1,CD[l+96+20>>2]=a,i=CD[t+12>>2]|0,e=CD[i+8>>2]|0,CD[l+200>>2]=i,CD[l+200+4>>2]=r,CD[l+200+8>>2]=e,CD[l+200+12>>2]=l+120,CD[l+200+16>>2]=-1,CD[l+200+20>>2]=n,e=CD[t+28>>2]|0,CD[4976]=(CD[4976]|0)+1,i=((n<<16|a)+~((n<<16|a)<<15)>>10^(n<<16|a)+~((n<<16|a)<<15))*9|0,i=(CD[e+12>>2]|0)+-1&((i>>6^i)+~((i>>6^i)<<11)>>16^(i>>6^i)+~((i>>6^i)<<11));t:do if((i|0)<(CD[e+32>>2]|0)?(o=CD[(CD[e+40>>2]|0)+(i<<2)>>2]|0,(o|0)!=-1):0){for(r=CD[e+16>>2]|0,i=o;;){if((CD[r+(i*12|0)>>2]|0)==(a|0)?(CD[r+(i*12|0)+4>>2]|0)==(n|0):0)break;if(i=CD[(CD[e+60>>2]|0)+(i<<2)>>2]|0,(i|0)==-1){s=17;break t}}r+(i*12|0)|0?e=CD[r+(i*12|0)+8>>2]|0:s=17}else s=17;while(0);(s|0)==17&&(e=CD[t+16>>2]|0,e=CP[CD[(CD[e>>2]|0)+8>>2]&31](e,l+96|0,l+200|0,CD[t+32>>2]|0)|0,B=CD[t+28>>2]|0,B=(DP[CD[(CD[B>>2]|0)+12>>2]&63](B,a,n)|0)+8|0,CD[B>>2]=e),B=CD[t+24>>2]|0,o=CD[B+8>>2]|0,s=CD[B+12>>2]|0,CD[B+8>>2]=l+96,CD[B+12>>2]=l+200,QP[CD[(CD[B>>2]|0)+8>>2]&127](B,-1,a),B=CD[t+24>>2]|0,QP[CD[(CD[B>>2]|0)+12>>2]&127](B,-1,n),_P[CD[(CD[e>>2]|0)+8>>2]&31](e,l+96|0,l+200|0,CD[t+20>>2]|0,CD[t+24>>2]|0),B=CD[t+24>>2]|0,CD[B+8>>2]=o,CD[B+12>>2]=s,BD=l}function jy(t){t|=0,ww(t)}function Uy(t){return t|=0,24}function Wy(t){return t|=0,+ +RD[t+72>>2]}function Xy(t,e){t|=0,e=+e,RD[t+72>>2]=e}function qy(t){return t|=0,11536}function Ky(t){return t|=0,t+76|0}function Yy(t,e){t|=0,e|=0,RD[t>>2]=1,RD[t+4>>2]=0,RD[t+8>>2]=0,RD[t+12>>2]=0}function Qy(t){return t|=0,11960}function Zy(t){t|=0,t&&(CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0))}function $y(t,e){t|=0,e|=0,RD[t>>2]=0,RD[t+4>>2]=0,RD[t+8>>2]=1,RD[t+12>>2]=0}function tb(t){return t|=0,11968}function eb(t){t|=0,t&&(CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0))}function ib(t,e,i){t|=0,e|=0,i|=0}function rb(t){return t|=0,0}function ob(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0;return r=NP[CD[(CD[i>>2]|0)+40>>2]&31](i,t)|0,o=NP[CD[(CD[i>>2]|0)+28>>2]&31](i,r)|0,CD[e>>2]=o,o&&bP[CD[(CD[i>>2]|0)+48>>2]&127](i,r),CD[e+4>>2]=CD[t+4>>2],RD[e+28>>2]=+RD[t+28>>2],RD[e+32>>2]=+RD[t+32>>2],RD[e+36>>2]=+RD[t+36>>2],RD[e+40>>2]=+RD[t+40>>2],RD[e+12>>2]=+RD[t+12>>2],RD[e+16>>2]=+RD[t+16>>2],RD[e+20>>2]=+RD[t+20>>2],RD[e+24>>2]=+RD[t+24>>2],RD[e+44>>2]=+RD[t+44>>2],CD[e+52>>2]=CD[t+68>>2],11976}function nb(t){return t|=0,60}function ab(t,e){t|=0,e|=0,RD[t>>2]=0,RD[t+4>>2]=1,RD[t+8>>2]=0,RD[t+12>>2]=0}function sb(t){return t|=0,11992}function lb(t,e,i){t|=0,e=+e,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0;r=BD,BD=BD+96|0,RD[r+32>>2]=1,CD[r+32+4>>2]=0,CD[r+32+4+4>>2]=0,CD[r+32+4+8>>2]=0,CD[r+32+4+12>>2]=0,RD[r+32+20>>2]=1,CD[r+32+24>>2]=0,CD[r+32+24+4>>2]=0,CD[r+32+24+8>>2]=0,CD[r+32+24+12>>2]=0,RD[r+32+40>>2]=1,l=r+32+44|0,CD[l>>2]=0,CD[l+4>>2]=0,CD[l+8>>2]=0,CD[l+12>>2]=0,CD[l+16>>2]=0,eB[CD[(CD[t>>2]|0)+8>>2]&127](t,r+32|0,r+16|0,r),a=(+RD[r>>2]-+RD[r+16>>2])*.5,n=(+RD[r+4>>2]-+RD[r+16+4>>2])*.5,s=(+RD[r+8>>2]-+RD[r+16+8>>2])*.5,o=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),RD[i>>2]=e*.0833333283662796*((n+o)*2*(n+o)*2+(s+o)*2*(s+o)*2),RD[i+4>>2]=e*.0833333283662796*((a+o)*2*(a+o)*2+(s+o)*2*(s+o)*2),RD[i+8>>2]=e*.0833333283662796*((a+o)*2*(a+o)*2+(n+o)*2*(n+o)*2),RD[i+12>>2]=0,BD=r}function cb(t,e,i,r){t|=0,e|=0,i|=0,r|=0,eB[CD[(CD[t>>2]|0)+80>>2]&127](t,e,i,r)}function hb(t){t|=0,t&&(CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0))}function ub(t){return t|=0,+(+RD[t+28>>2]*+RD[t+12>>2])}function db(t,e){t|=0,e=+e,RD[t+44>>2]=e}function pb(t){return t|=0,12136}function fb(t){t|=0,t&&(CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0))}function _b(t,e,i){t|=0,e|=0,i|=0,QP[CD[(CD[e>>2]|0)+68>>2]&127](t,e,i)}function mb(t){return t|=0,60}function gb(t){return t|=0,+ +RD[t+12>>2]}function yb(t,e){t|=0,e=+e,RD[t+12>>2]=e}function bb(t){return t|=0,12312}function vb(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0;for(p=BD,BD=BD+32|0,c=CD[t+4>>2]|0,JP[CD[(CD[c>>2]|0)+16>>2]&3](c,p+4|0,p+16|0,p+8|0,p+20|0,p+28|0,p,p+12|0,p+24|0,e),c=CD[p+28>>2]|0,h=XD(CD[p>>2]|0,i)|0,u=CD[t+4>>2]|0,l=CD[p+24>>2]|0,d=2;;){if(r=(l|0)==2?CD[c+h+(d<<2)>>2]|0:(l|0)==3?AD[c+h+(d<<1)>>1]|0:ED[c+(d+h)>>0]|0,s=CD[p+4>>2]|0,r=XD(CD[p+20>>2]|0,r)|0,CD[p+8>>2]|0?(n=+DD[s+(r+16)>>3]*+RD[u+12>>2],a=+DD[s+(r+8)>>3]*+RD[u+8>>2],o=+DD[s+r>>3]*+RD[u+4>>2]):(n=+RD[s+(r+8)>>2]*+RD[u+12>>2],a=+RD[s+(r+4)>>2]*+RD[u+8>>2],o=+RD[s+r>>2]*+RD[u+4>>2]),RD[t+12+(d<<4)>>2]=o,RD[t+12+(d<<4)+4>>2]=a,RD[t+12+(d<<4)+8>>2]=n,RD[t+12+(d<<4)+12>>2]=0,!((d|0)>0))break;d=d+-1|0}d=CD[t+8>>2]|0,eB[CD[(CD[d>>2]|0)+8>>2]&127](d,t+12|0,e,i),t=CD[t+4>>2]|0,bP[CD[(CD[t>>2]|0)+24>>2]&127](t,e),BD=p}function Mb(t){t|=0,ww(t)}function Sb(t){t|=0}function Tb(t,e){t|=0,e=+e;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0;if(l=BD,BD=BD+16|0,cM(1856),i=CD[t+232>>2]|0,(i|0)>0){s=(TD[1448]|0)==0,a=0;do{n=CD[(CD[t+240>>2]|0)+(a<<2)>>2]|0;t:do if(n){r=CD[n+216>>2]|0;do if((r|0)==4|(r|0)==2){if((r|0)==4)break t;o=r}else{if(d=+RD[n+312>>2],u=+RD[n+316>>2],h=+RD[n+320>>2],c=+RD[n+472>>2],d*d+u*u+h*h<c*c?(d=+RD[n+328>>2],c=+RD[n+332>>2],h=+RD[n+336>>2],u=+RD[n+476>>2],d*d+c*c+h*h<u*u):0){RD[n+220>>2]=+RD[n+220>>2]+e,o=r;break}RD[n+220>>2]=0,(r&-2|0)==4?o=r:(CD[n+216>>2]=0,o=0)}while(0);r=o&-2;do if(s){if((r|0)!=2?!(+RD[n+220>>2]>2):0)break;if(CD[n+204>>2]&3){if((r|0)==4)break t;CD[n+216>>2]=2;break t}if((o|0)==1){if((r|0)==4)break t;CD[n+216>>2]=3;break t}if((o|0)!=2)break t;i=(CD[n+260>>2]|0)+2|0,CD[n+328>>2]=0,CD[n+328+4>>2]=0,CD[n+328+8>>2]=0,CD[n+328+12>>2]=0,CD[n+260>>2]=i,CD[n+312>>2]=0,CD[n+312+4>>2]=0,CD[n+312+8>>2]=0,CD[n+312+12>>2]=0,i=CD[t+232>>2]|0;break t}while(0);(r|0)!=4&&(CD[n+216>>2]=1)}while(0);a=a+1|0}while((a|0)<(i|0))}if(i=CD[5104]|0,t=(CD[i+16>>2]|0)+-1|0,CD[i+16>>2]=t,t)return void(BD=l);do if(CD[i+4>>2]|0){if(uP(l|0,0)|0,t=CD[5090]|0,RD[i+8>>2]=+(((CD[l+4>>2]|0)-(CD[t+4>>2]|0)+(((CD[l>>2]|0)-(CD[t>>2]|0)|0)*1e6|0)-(CD[i+12>>2]|0)|0)>>>0)/1e3+ +RD[i+8>>2],CD[i+16>>2]|0)return void(BD=l);i=CD[5104]|0;break}while(0);CD[5104]=CD[i+20>>2],BD=l}function xb(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0;if(o=CD[t+212>>2]|0,(o|0)==(CD[t+216>>2]|0)?(l=(o|0)==0?1:o<<1,(o|0)<(l|0)):0){if(l?(CD[5108]=(CD[5108]|0)+1,r=Aw((l<<2|3)+16|0)|0,r?(CD[(r+4+15&-16)+-4>>2]=r,o=r+4+15&-16):o=0,s=o,o=CD[t+212>>2]|0):s=0,(o|0)>0)for(r=o+-1|0,a=0;;){if(n=s+(a<<2)|0,n&&(CD[n>>2]=CD[(CD[t+220>>2]|0)+(a<<2)>>2]),(a|0)==(r|0))break;a=a+1|0}r=CD[t+220>>2]|0,r&&(TD[t+224>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[r+-4>>2]|0),o=CD[t+212>>2]|0),CD[t+220>>2]=0),TD[t+224>>0]=1,CD[t+220>>2]=s,CD[t+216>>2]=l}r=(CD[t+220>>2]|0)+(o<<2)|0,r&&(CD[r>>2]=e),CD[t+212>>2]=o+1,i&&(Md(CD[e+28>>2]|0,e),Md(CD[e+32>>2]|0,e))}function Cb(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0;i=CD[t+212>>2]|0;t:do if((i|0)>0){for(n=CD[t+220>>2]|0,r=0;;){if(o=n+(r<<2)|0,(CD[o>>2]|0)==(e|0))break;if(r=r+1|0,(r|0)>=(i|0))break t}(r|0)<(i|0)&&(CD[o>>2]=CD[n+(i+-1<<2)>>2],CD[(CD[t+220>>2]|0)+(i+-1<<2)>>2]=e,CD[t+212>>2]=i+-1)}while(0);t=CD[e+28>>2]|0,i=CD[t+488>>2]|0;t:do if((i|0)>0){for(n=CD[t+496>>2]|0,r=0;;){if(o=n+(r<<2)|0,(CD[o>>2]|0)==(e|0))break;if(r=r+1|0,(r|0)>=(i|0))break t}(r|0)<(i|0)&&(CD[o>>2]=CD[n+(i+-1<<2)>>2],CD[(CD[t+496>>2]|0)+(i+-1<<2)>>2]=e,CD[t+488>>2]=i+-1,i=i+-1|0)}while(0);if(CD[t+256>>2]=(i|0)>0&1,t=CD[e+32>>2]|0,i=CD[t+488>>2]|0,(i|0)<=0)return e=i,e=(e|0)>0,e&=1,a=t+256|0,void(CD[a>>2]=e);for(n=CD[t+496>>2]|0,r=0;;){if(o=n+(r<<2)|0,(CD[o>>2]|0)==(e|0))break;if(r=r+1|0,(r|0)>=(i|0)){a=19;break}}return(a|0)==19?(e=(i|0)>0,e&=1,a=t+256|0,void(CD[a>>2]=e)):(r|0)>=(i|0)?(e=i,e=(e|0)>0,e&=1,a=t+256|0,void(CD[a>>2]=e)):(CD[o>>2]=CD[n+(i+-1<<2)>>2],CD[(CD[t+496>>2]|0)+(i+-1<<2)>>2]=e,CD[t+488>>2]=i+-1,e=i+-1|0,e=(e|0)>0,e&=1,a=t+256|0,void(CD[a>>2]=e))}function Eb(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0;if(r=CD[t+280>>2]|0,(r|0)==(CD[t+284>>2]|0)?(s=(r|0)==0?1:r<<1,(r|0)<(s|0)):0){if(s?(CD[5108]=(CD[5108]|0)+1,i=Aw((s<<2|3)+16|0)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,r=i+4+15&-16):r=0,a=r,r=CD[t+280>>2]|0):a=0,(r|0)>0)for(i=r+-1|0,n=0;;){if(o=a+(n<<2)|0,o&&(CD[o>>2]=CD[(CD[t+288>>2]|0)+(n<<2)>>2]),(n|0)==(i|0))break;n=n+1|0}i=CD[t+288>>2]|0,i&&(TD[t+292>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0),r=CD[t+280>>2]|0),CD[t+288>>2]=0),TD[t+292>>0]=1,CD[t+288>>2]=a,CD[t+284>>2]=s}return(i=(CD[t+288>>2]|0)+(r<<2)|0)?(CD[i>>2]=e,e=r+1|0,void(CD[t+280>>2]=e)):(e=r+1|0,void(CD[t+280>>2]=e))}function Ab(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0;if(o=CD[t+280>>2]|0,!((o|0)<=0)){for(n=CD[t+288>>2]|0,i=0;;){if(r=n+(i<<2)|0,(CD[r>>2]|0)==(e|0))break;if(i=i+1|0,(i|0)>=(o|0)){a=7;break}}(a|0)!=7&&((i|0)>=(o|0)||(CD[r>>2]=CD[n+(o+-1<<2)>>2],CD[(CD[t+288>>2]|0)+(o+-1<<2)>>2]=e,CD[t+280>>2]=o+-1))}}function wb(t,e){t|=0,e|=0,bP[CD[(CD[t>>2]|0)+64>>2]&127](t,e)}function Rb(t,e){t|=0,e|=0,bP[CD[(CD[t>>2]|0)+68>>2]&127](t,e)}function Db(t,e){t|=0,e|=0,bP[CD[(CD[t>>2]|0)+64>>2]&127](t,e)}function Pb(t,e){t|=0,e|=0,bP[CD[(CD[t>>2]|0)+68>>2]&127](t,e)}function Bb(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0;if(b=BD,BD=BD+16|0,cM(1880),l=CD[t+212>>2]|0,a=CD[t+180>>2]|0,(a|0)<(l|0)){if((CD[t+184>>2]|0)<(l|0)){if(l?(CD[5108]=(CD[5108]|0)+1,r=Aw((l<<2|3)+16|0)|0,r?(CD[(r+4+15&-16)+-4>>2]=r,r=r+4+15&-16):r=0,i=CD[t+180>>2]|0):(r=0,i=a),(i|0)>0)for(o=i+-1|0,n=0;;){if(i=r+(n<<2)|0,i&&(CD[i>>2]=CD[(CD[t+188>>2]|0)+(n<<2)>>2]),(n|0)==(o|0))break;n=n+1|0}i=CD[t+188>>2]|0,i&&(TD[t+192>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0)),CD[t+188>>2]=0),TD[t+192>>0]=1,CD[t+188>>2]=r,CD[t+184>>2]=l,o=t+188|0}else o=t+188|0;for(i=a;;){if(r=(CD[o>>2]|0)+(i<<2)|0,r&&(CD[r>>2]=0),(i|0)==(l+-1|0))break;i=i+1|0}}for(CD[t+180>>2]=l,i=0;;){if((i|0)>=(MP[CD[(CD[t>>2]|0)+104>>2]&127](t)|0))break;CD[(CD[t+188>>2]|0)+(i<<2)>>2]=CD[(CD[t+220>>2]|0)+(i<<2)>>2],i=i+1|0}if(i=CD[t+180>>2]|0,(i|0)>1&&r_(t+176|0,0,i+-1|0),i=MP[CD[(CD[t>>2]|0)+104>>2]&127](t)|0?CD[t+188>>2]|0:0,l=CD[t+196>>2]|0,y=CD[t+180>>2]|0,r=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,CD[l+4>>2]=e,CD[l+12>>2]=i,CD[l+16>>2]=y,CD[l+20>>2]=r,r=CD[l+32>>2]|0,(r|0)<0)for((CD[l+36>>2]|0)<0&&(i=CD[l+40>>2]|0,i&&(TD[l+44>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0)),CD[l+40>>2]=0),TD[l+44>>0]=1,CD[l+40>>2]=0,CD[l+36>>2]=0);;){if(i=(CD[l+40>>2]|0)+(r<<2)|0,i&&(CD[i>>2]=0),(r|0)==-1)break;r=r+1|0}if(CD[l+32>>2]=0,i=CD[l+52>>2]|0,(i|0)<0)for((CD[l+56>>2]|0)<0&&(r=CD[l+60>>2]|0,r&&(TD[l+64>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[r+-4>>2]|0)),CD[l+60>>2]=0),TD[l+64>>0]=1,CD[l+60>>2]=0,CD[l+56>>2]=0);;){if(r=(CD[l+60>>2]|0)+(i<<2)|0,r&&(CD[r>>2]=0),(i|0)==-1)break;i=i+1|0}if(CD[l+52>>2]=0,r=CD[l+72>>2]|0,(r|0)<0)for((CD[l+76>>2]|0)<0&&(i=CD[l+80>>2]|0,i&&(TD[l+84>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0)),CD[l+80>>2]=0),TD[l+84>>0]=1,CD[l+80>>2]=0,CD[l+76>>2]=0);;){if(i=(CD[l+80>>2]|0)+(r<<2)|0,i&&(CD[i>>2]=0),(r|0)==-1)break;r=r+1|0}if(CD[l+72>>2]=0,y=CD[t+200>>2]|0,o=CD[(CD[y>>2]|0)+8>>2]|0,_=CD[t+8>>2]|0,g=CD[t+24>>2]|0,g=MP[CD[(CD[g>>2]|0)+36>>2]&127](g)|0,QP[o&127](y,_,g),g=CD[t+204>>2]|0,_=CD[t+24>>2]|0,y=CD[t+196>>2]|0,cM(6936),o=CD[g+28>>2]|0,(o|0)<0)for((CD[g+32>>2]|0)<0&&(r=CD[g+36>>2]|0,r&&(TD[g+40>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[r+-4>>2]|0)),CD[g+36>>2]=0),TD[g+40>>0]=1,CD[g+36>>2]=0,CD[g+32>>2]=0);;){if(r=(CD[g+36>>2]|0)+(o<<2)|0,r&&(CD[r>>2]=0),(o|0)==-1)break;o=o+1|0}if(CD[g+28>>2]=0,a=CD[g+8>>2]|0,(a|0)>0){for(i=CD[g+16>>2]|0,l=0;;){if(s=i+(l<<3)|0,n=CD[s>>2]|0,(n|0)==(l|0))n=l;else{o=n,r=s;do n=i+(o<<3)|0,CD[r>>2]=CD[n>>2],n=CD[n>>2]|0,r=i+(n<<3)|0,o=CD[r>>2]|0;while((n|0)!=(o|0))}if(CD[s>>2]=n,(l|0)==(a+-1|0))break;l=l+1|0}if((a|0)>1&&(f_(g+4|0,0,a+-1|0),a=CD[g+8>>2]|0),(a|0)>0)for(d=CD[g+16>>2]|0,n=d,l=0;;){for(c=CD[d+(l<<3)>>2]|0,r=l;;){if(p=r+1|0,(p|0)>=(a|0)){u=0;break}if((CD[d+(p<<3)>>2]|0)!=(c|0)){u=1;break}r=p}if((l|0)<(p|0)){for(h=CD[t+16>>2]|0,s=1,i=l;;){if(o=CD[h+(CD[d+(i<<3)+4>>2]<<2)>>2]|0,(CD[o+208>>2]|0)==(c|0)&&(f=CD[o+216>>2]|0,s=(f|0)!=4&(s&(f|0)!=1)),(i|0)==(r|0))break;i=i+1|0}if(s)for(s=d;;){if(s=CD[h+(CD[s+(l<<3)+4>>2]<<2)>>2]|0,((CD[s+208>>2]|0)==(c|0)?(CD[s+216>>2]&-2|0)!=4:0)&&(CD[s+216>>2]=2),l=l+1|0,(l|0)>=(p|0))break;s=n}else for(;;){if(s=CD[h+(CD[d+(l<<3)+4>>2]<<2)>>2]|0,((CD[s+208>>2]|0)==(c|0)?(CD[s+216>>2]|0)==2:0)&&(CD[s+216>>2]=3,RD[s+220>>2]=0),l=l+1|0,(l|0)>=(p|0))break;n=d}}if(!u)break;l=p}}if(d=MP[CD[(CD[_>>2]|0)+36>>2]&127](_)|0,(d|0)>0){p=0;do{if(u=NP[CD[(CD[_>>2]|0)+40>>2]&31](_,p)|0,o=CD[u+740>>2]|0,r=CD[u+744>>2]|0,n=((o|0)!=0?(CD[o+216>>2]|0)!=2:0)?102:100,(((n|0)==100?(n=0,(r|0)!=0):0)?(CD[r+216>>2]|0)!=2:0)&&(n=102),(n|0)==102&&(n=CD[o+204>>2]|0,(((n&2|0)!=0&&(n&4|0)==0?(CD[o+216>>2]|0)!=2:0)?(CD[r+204>>2]&3|0)==0:0)&&((CD[r+216>>2]&-2|0)!=4&&(CD[r+216>>2]=1),RD[r+220>>2]=0),f=CD[r+204>>2]|0,((f&2|0)!=0?((f&4|0)==0?(CD[r+216>>2]|0)!=2:0)&(n&3|0)==0:0)&&((CD[o+216>>2]&-2|0)!=4&&(CD[o+216>>2]=1),RD[o+220>>2]=0),(TD[g+64>>0]|0)!=0?DP[CD[(CD[_>>2]|0)+28>>2]&63](_,o,r)|0:0)){if(o=CD[g+28>>2]|0,(o|0)==(CD[g+32>>2]|0)?(m=(o|0)==0?1:o<<1,(o|0)<(m|0)):0){if(m?(CD[5108]=(CD[5108]|0)+1,n=Aw((m<<2|3)+16|0)|0,n?(CD[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,o=CD[g+28>>2]|0):n=0,(o|0)>0)for(r=o+-1|0,a=0;;){if(i=n+(a<<2)|0,i&&(CD[i>>2]=CD[(CD[g+36>>2]|0)+(a<<2)>>2]),(a|0)==(r|0))break;a=a+1|0}r=CD[g+36>>2]|0,r&&(TD[g+40>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[r+-4>>2]|0),o=CD[g+28>>2]|0),CD[g+36>>2]=0),TD[g+40>>0]=1,CD[g+36>>2]=n,CD[g+32>>2]=m}n=(CD[g+36>>2]|0)+(o<<2)|0,n&&(CD[n>>2]=u),CD[g+28>>2]=o+1}p=p+1|0}while((p|0)<(d|0))}r=CD[5104]|0,m=(CD[r+16>>2]|0)+-1|0,CD[r+16>>2]=m;do if(!m){if(CD[r+4>>2]|0){if(uP(b|0,0)|0,m=CD[5090]|0,RD[r+8>>2]=+(((CD[b+4>>2]|0)-(CD[m+4>>2]|0)+(((CD[b>>2]|0)-(CD[m>>2]|0)|0)*1e6|0)-(CD[r+12>>2]|0)|0)>>>0)/1e3+ +RD[r+8>>2],CD[r+16>>2]|0)break;r=CD[5104]|0}CD[5104]=CD[r+20>>2]}while(0);if(m=CD[g+8>>2]|0,cM(6968),TD[g+64>>0]|0){if(f=CD[g+28>>2]|0,(f|0)>1&&c_(g+24|0,0,f+-1|0),(m|0)>0)for(h=1,o=0,_=0;;){n=CD[g+16>>2]|0,c=CD[n+(o<<3)>>2]|0;t:do if((o|0)<(m|0))for(l=c,u=1;;){if((l|0)!=(c|0)){p=o,r=u;break t}d=CD[(CD[t+16>>2]|0)+(CD[n+(o<<3)+4>>2]<<2)>>2]|0,n=CD[g+48>>2]|0;do if((n|0)==(CD[g+52>>2]|0)){if(i=(n|0)==0?1:n<<1,(n|0)>=(i|0))break;if(i?(CD[5108]=(CD[5108]|0)+1,a=Aw((i<<2|3)+16|0)|0,a?(CD[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,n=CD[g+48>>2]|0):a=0,(n|0)>0)for(l=n+-1|0,r=0;;){if(s=a+(r<<2)|0,s&&(CD[s>>2]=CD[(CD[g+56>>2]|0)+(r<<2)>>2]),(r|0)==(l|0))break;r=r+1|0}l=CD[g+56>>2]|0,l&&(TD[g+60>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[l+-4>>2]|0),n=CD[g+48>>2]|0),CD[g+56>>2]=0),TD[g+60>>0]=1,CD[g+56>>2]=a,CD[g+52>>2]=i}while(0);if(a=(CD[g+56>>2]|0)+(n<<2)|0,a&&(CD[a>>2]=d),CD[g+48>>2]=n+1,a=CD[d+216>>2]|0,a=u&((a|0)==2|(a|0)==5),o=o+1|0,(o|0)>=(m|0)){p=o,r=a;break t}n=CD[g+16>>2]|0,l=CD[n+(o<<3)>>2]|0,u=a}else p=o,r=1;while(0);if((_|0)<(f|0))if(o=CD[g+36>>2]|0,n=o+(_<<2)|0,s=CD[n>>2]|0,a=CD[(CD[s+740>>2]|0)+208>>2]|0,(a|0)<=-1&&(a=CD[(CD[s+744>>2]|0)+208>>2]|0),(a|0)==(c|0)){l=_;do{if(l=l+1|0,(l|0)>=(f|0))break;s=CD[o+(l<<2)>>2]|0,a=CD[(CD[s+740>>2]|0)+208>>2]|0,(a|0)<=-1&&(a=CD[(CD[s+744>>2]|0)+208>>2]|0)}while((c|0)==(a|0));s=l,a=l-_|0}else s=h,a=0,n=0;else s=h,a=0,n=0;if(r||PP[CD[(CD[y>>2]|0)+8>>2]&7](y,CD[g+56>>2]|0,CD[g+48>>2]|0,n,a,c),_=(a|0)==0?_:s,n=CD[g+48>>2]|0,(n|0)<0)for((CD[g+52>>2]|0)<0&&(o=CD[g+56>>2]|0,o&&(TD[g+60>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[o+-4>>2]|0)),CD[g+56>>2]=0),TD[g+60>>0]=1,CD[g+56>>2]=0,CD[g+52>>2]=0);;){if(o=(CD[g+56>>2]|0)+(n<<2)|0,o&&(CD[o>>2]=0),(n|0)==-1)break;n=n+1|0}if(CD[g+48>>2]=0,(p|0)>=(m|0))break;h=s,o=p}}else m=MP[CD[(CD[_>>2]|0)+44>>2]&127](_)|0,g=MP[CD[(CD[_>>2]|0)+36>>2]&127](_)|0,PP[CD[(CD[y>>2]|0)+8>>2]&7](y,CD[t+16>>2]|0,CD[t+8>>2]|0,m,g,-1);i=CD[5104]|0,y=(CD[i+16>>2]|0)+-1|0,CD[i+16>>2]=y;do if(!y){if(CD[i+4>>2]|0){if(uP(b|0,0)|0,y=CD[5090]|0,RD[i+8>>2]=+(((CD[b+4>>2]|0)-(CD[y+4>>2]|0)+(((CD[b>>2]|0)-(CD[y>>2]|0)|0)*1e6|0)-(CD[i+12>>2]|0)|0)>>>0)/1e3+ +RD[i+8>>2],CD[i+16>>2]|0)break;i=CD[5104]|0}CD[5104]=CD[i+20>>2]}while(0);if(o_(CD[t+196>>2]|0),i=CD[t+200>>2]|0,QP[CD[(CD[i>>2]|0)+16>>2]&127](i,e,CD[t+72>>2]|0),i=CD[5104]|0,t=(CD[i+16>>2]|0)+-1|0,CD[i+16>>2]=t,t)return void(BD=b);do if(CD[i+4>>2]|0){if(uP(b|0,0)|0,t=CD[5090]|0,RD[i+8>>2]=+(((CD[b+4>>2]|0)-(CD[t+4>>2]|0)+(((CD[b>>2]|0)-(CD[t>>2]|0)|0)*1e6|0)-(CD[i+12>>2]|0)|0)>>>0)/1e3+ +RD[i+8>>2],CD[i+16>>2]|0)return void(BD=b);i=CD[5104]|0;break}while(0);CD[5104]=CD[i+20>>2],BD=b}function Vb(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0;if(u=BD,BD=BD+16|0,cM(1904),s=CD[t+204>>2]|0,QP[CD[(CD[s>>2]|0)+8>>2]&127](s,t,CD[t+24>>2]|0),s=CD[t+308>>2]|0,(s|0)>0)for(l=CD[t+316>>2]|0,a=0;;){if(i=CD[l+(a<<2)>>2]|0,e=CD[i+740>>2]|0,i=CD[i+744>>2]|0,((e|0)!=0&&(i|0)!=0?(CD[e+204>>2]&3|0)==0:0)?(CD[i+204>>2]&3|0)==0:0){if(o=CD[e+208>>2]|0,e=CD[i+208>>2]|0,n=CD[(CD[t+204>>2]|0)+16>>2]|0,i=CD[n+(o<<3)>>2]|0,(i|0)!=(o|0)){r=n+(o<<3)|0;do o=n+(i<<3)|0,CD[r>>2]=CD[o>>2],o=CD[o>>2]|0,r=n+(o<<3)|0,i=CD[r>>2]|0;while((o|0)!=(i|0))}if(i=CD[n+(e<<3)>>2]|0,(i|0)!=(e|0)){r=n+(e<<3)|0;do e=n+(i<<3)|0,CD[r>>2]=CD[e>>2],e=CD[e>>2]|0,r=n+(e<<3)|0,i=CD[r>>2]|0;while((e|0)!=(i|0))}(o|0)!=(e|0)&&(CD[n+(o<<3)>>2]=e,r=n+(e<<3)+4|0,CD[r>>2]=(CD[r>>2]|0)+(CD[n+(o<<3)+4>>2]|0))}if((a|0)==(s+-1|0))break;a=a+1|0}if(s=CD[t+212>>2]|0,(s|0)>0)for(a=CD[t+220>>2]|0,l=0;;){if(e=CD[a+(l<<2)>>2]|0,((TD[e+20>>0]|0)!=0?(c=CD[e+28>>2]|0,(CD[c+204>>2]&3|0)==0):0)?(h=CD[e+32>>2]|0,(CD[h+204>>2]&3|0)==0):0){if(i=CD[c+208>>2]|0,e=CD[h+208>>2]|0,n=CD[(CD[t+204>>2]|0)+16>>2]|0,o=CD[n+(i<<3)>>2]|0,(o|0)==(i|0))o=i;else{r=n+(i<<3)|0;do i=n+(o<<3)|0,CD[r>>2]=CD[i>>2],i=CD[i>>2]|0,r=n+(i<<3)|0,o=CD[r>>2]|0;while((i|0)!=(o|0));o=i}if(i=CD[n+(e<<3)>>2]|0,(i|0)!=(e|0)){r=n+(e<<3)|0;do e=n+(i<<3)|0,CD[r>>2]=CD[e>>2],e=CD[e>>2]|0,r=n+(e<<3)|0,i=CD[r>>2]|0;while((e|0)!=(i|0))}(o|0)!=(e|0)&&(CD[n+(o<<3)>>2]=e,r=n+(e<<3)+4|0,CD[r>>2]=(CD[r>>2]|0)+(CD[n+(o<<3)+4>>2]|0))}if((l|0)==(s+-1|0))break;l=l+1|0}if(e=CD[t+204>>2]|0,bP[CD[(CD[e>>2]|0)+12>>2]&127](e,t),e=CD[5104]|0,t=(CD[e+16>>2]|0)+-1|0,CD[e+16>>2]=t,t)return void(BD=u);do if(CD[e+4>>2]|0){if(uP(u|0,0)|0,t=CD[5090]|0,RD[e+8>>2]=+(((CD[u+4>>2]|0)-(CD[t+4>>2]|0)+(((CD[u>>2]|0)-(CD[t>>2]|0)|0)*1e6|0)-(CD[e+12>>2]|0)|0)>>>0)/1e3+ +RD[e+8>>2],CD[e+16>>2]|0)return void(BD=u);e=CD[5104]|0;break}while(0);CD[5104]=CD[e+20>>2],BD=u}function Lb(t,e){t|=0,e=+e;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0;if(p=BD,BD=BD+352|0,cM(2048),(CD[t+232>>2]|0)>0){l=p+184+48|0,c=0;do{s=CD[(CD[t+240>>2]|0)+(c<<2)>>2]|0,RD[s+244>>2]=1,r=CD[s+216>>2]|0;do if((r|0)==2|(r|0)==5?0:(CD[s+204>>2]&3|0)==0){if(t_(s+4|0,+RD[s+312>>2],+RD[s+316>>2],+RD[s+320>>2],s+328|0,e,p+184|0),o=+RD[l>>2]-+RD[s+52>>2],n=+RD[p+184+52>>2]-+RD[s+56>>2],a=+RD[p+184+56>>2]-+RD[s+60>>2],(TD[t+44>>0]|0)!=0?(f=+RD[s+252>>2],f*f!=0?f*f<o*o+n*n+a*a:0):0){cM(2072),(CD[(CD[s+192>>2]|0)+4>>2]|0)<20?(CD[484]=(CD[484]|0)+1,i=CD[t+68>>2]|0,i=MP[CD[(CD[i>>2]|0)+36>>2]&127](i)|0,r=CD[t+24>>2]|0,RD[p+16+4>>2]=1,xD[p+16+8>>1]=1,xD[p+16+10>>1]=-1,CD[p+16>>2]=880,CD[p+16+12>>2]=CD[s+52>>2],CD[p+16+12+4>>2]=CD[s+52+4>>2],CD[p+16+12+8>>2]=CD[s+52+8>>2],CD[p+16+12+12>>2]=CD[s+52+12>>2],CD[p+16+28>>2]=CD[l>>2],CD[p+16+28+4>>2]=CD[l+4>>2],CD[p+16+28+8>>2]=CD[l+8>>2],CD[p+16+28+12>>2]=CD[l+12>>2],CD[p+16+76>>2]=0,CD[p+16>>2]=2296,CD[p+16+80>>2]=s,CD[p+16+88>>2]=i,CD[p+16+92>>2]=r,o=+RD[s+248>>2],CD[p+112+8>>2]=0,RD[p+112+12>>2]=1,RD[p+112+16>>2]=1,RD[p+112+20>>2]=1,RD[p+112+24>>2]=0,CD[p+112>>2]=12008,CD[p+112+4>>2]=8,RD[p+112+28>>2]=o,RD[p+112+44>>2]=o,RD[p+16+84>>2]=+RD[t+56>>2],r=CD[s+188>>2]|0,xD[p+16+8>>1]=xD[r+4>>1]|0,xD[p+16+10>>1]=xD[r+6>>1]|0,CD[p+248+48>>2]=CD[l>>2],CD[p+248+48+4>>2]=CD[l+4>>2],CD[p+248+48+8>>2]=CD[l+8>>2],CD[p+248+48+12>>2]=CD[l+12>>2],CD[p+248>>2]=CD[s+4>>2],CD[p+248+4>>2]=CD[s+4+4>>2],CD[p+248+8>>2]=CD[s+4+8>>2],CD[p+248+12>>2]=CD[s+4+12>>2],CD[p+248+16>>2]=CD[s+20>>2],CD[p+248+16+4>>2]=CD[s+20+4>>2],CD[p+248+16+8>>2]=CD[s+20+8>>2],CD[p+248+16+12>>2]=CD[s+20+12>>2],CD[p+248+32>>2]=CD[s+36>>2],CD[p+248+32+4>>2]=CD[s+36+4>>2],CD[p+248+32+8>>2]=CD[s+36+8>>2],CD[p+248+32+12>>2]=CD[s+36+12>>2],ES(t,p+112|0,s+4|0,p+248|0,p+16|0,0),o=+RD[p+16+4>>2],o<1?(RD[s+244>>2]=o,t_(s+4|0,+RD[s+312>>2],+RD[s+316>>2],+RD[s+320>>2],s+328|0,o*e,p+184|0),RD[s+244>>2]=0,bd(s,p+184|0),i=4):i=0,i||(h=11)):h=11,(h|0)==11&&(h=0,i=0),r=CD[5104]|0,_=(CD[r+16>>2]|0)+-1|0,CD[r+16>>2]=_;do if(!_){if(CD[r+4>>2]|0){if(uP(p+16|0,0)|0,_=CD[5090]|0,RD[r+8>>2]=+(((CD[p+16+4>>2]|0)-(CD[_+4>>2]|0)+(((CD[p+16>>2]|0)-(CD[_>>2]|0)|0)*1e6|0)-(CD[r+12>>2]|0)|0)>>>0)/1e3+ +RD[r+8>>2],CD[r+16>>2]|0)break;r=CD[5104]|0}CD[5104]=CD[r+20>>2]}while(0);if((i|0)==4)break}bd(s,p+184|0)}while(0);c=c+1|0}while((c|0)<(CD[t+232>>2]|0))}do if(TD[t+275>>0]|0){if(cM(2096),i=CD[t+308>>2]|0,(i|0)>0){s=0;do{if(l=CD[(CD[t+316>>2]|0)+(s<<2)>>2]|0,c=CD[l+740>>2]|0,c=(CD[c+236>>2]&2|0)==0?0:c,h=CD[l+744>>2]|0,h=(CD[h+236>>2]&2|0)==0?0:h,r=CD[l+748>>2]|0,(r|0)>0){if(c){i=0;do o=+RD[c+228>>2]*+RD[h+228>>2],(o>0?(d=+RD[l+4+(i*184|0)+120>>2],d!=0):0)&&(f=o*d*+RD[l+4+(i*184|0)+64>>2],e=o*d*+RD[l+4+(i*184|0)+68>>2],a=o*d*+RD[l+4+(i*184|0)+72>>2],RD[p+328>>2]=-f,RD[p+328+4>>2]=-e,RD[p+328+8>>2]=-a,RD[p+328+12>>2]=0,n=+RD[l+4+(i*184|0)+52>>2]-+RD[c+56>>2],o=+RD[l+4+(i*184|0)+56>>2]-+RD[c+60>>2],RD[p>>2]=+RD[l+4+(i*184|0)+48>>2]-+RD[c+52>>2],RD[p+4>>2]=n,RD[p+8>>2]=o,RD[p+12>>2]=0,o=+RD[l+4+(i*184|0)+36>>2]-+RD[h+56>>2],n=+RD[l+4+(i*184|0)+40>>2]-+RD[h+60>>2],RD[p+168>>2]=+RD[l+4+(i*184|0)+32>>2]-+RD[h+52>>2],RD[p+168+4>>2]=o,RD[p+168+8>>2]=n,RD[p+168+12>>2]=0,Qf(c,p+328|0,p),RD[p+312>>2]=f,RD[p+312+4>>2]=e,RD[p+312+8>>2]=a,RD[p+312+12>>2]=0,Qf(h,p+312|0,p+168|0),r=CD[l+748>>2]|0),i=i+1|0;while((i|0)<(r|0))}else{i=0;do o=+RD[57]*+RD[h+228>>2],(o>0?(u=+RD[l+4+(i*184|0)+120>>2],u!=0):0)&&(f=o*u*+RD[l+4+(i*184|0)+64>>2],e=o*u*+RD[l+4+(i*184|0)+68>>2],a=o*u*+RD[l+4+(i*184|0)+72>>2],RD[p+328>>2]=-f,RD[p+328+4>>2]=-e,RD[p+328+8>>2]=-a,RD[p+328+12>>2]=0,n=+RD[l+4+(i*184|0)+52>>2]-+RD[c+56>>2],o=+RD[l+4+(i*184|0)+56>>2]-+RD[c+60>>2],RD[p>>2]=+RD[l+4+(i*184|0)+48>>2]-+RD[c+52>>2],RD[p+4>>2]=n,RD[p+8>>2]=o,RD[p+12>>2]=0,o=+RD[l+4+(i*184|0)+36>>2]-+RD[h+56>>2],n=+RD[l+4+(i*184|0)+40>>2]-+RD[h+60>>2],RD[p+168>>2]=+RD[l+4+(i*184|0)+32>>2]-+RD[h+52>>2],RD[p+168+4>>2]=o,RD[p+168+8>>2]=n,RD[p+168+12>>2]=0,RD[p+312>>2]=f,RD[p+312+4>>2]=e,RD[p+312+8>>2]=a,RD[p+312+12>>2]=0,Qf(h,p+312|0,p+168|0),r=CD[l+748>>2]|0),i=i+1|0;while((i|0)<(r|0))}i=CD[t+308>>2]|0}s=s+1|0}while((s|0)<(i|0))}if(i=CD[5104]|0,_=(CD[i+16>>2]|0)+-1|0,CD[i+16>>2]=_,!_){if(CD[i+4>>2]|0){if(uP(p+16|0,0)|0,_=CD[5090]|0,RD[i+8>>2]=+(((CD[p+16+4>>2]|0)-(CD[_+4>>2]|0)+(((CD[p+16>>2]|0)-(CD[_>>2]|0)|0)*1e6|0)-(CD[i+12>>2]|0)|0)>>>0)/1e3+ +RD[i+8>>2],CD[i+16>>2]|0)break;i=CD[5104]|0}CD[5104]=CD[i+20>>2]}}while(0);if(i=CD[5104]|0,_=(CD[i+16>>2]|0)+-1|0,CD[i+16>>2]=_,_)return void(BD=p);do if(CD[i+4>>2]|0){if(uP(p+16|0,0)|0,_=CD[5090]|0,RD[i+8>>2]=+(((CD[p+16+4>>2]|0)-(CD[_+4>>2]|0)+(((CD[p+16>>2]|0)-(CD[_>>2]|0)|0)*1e6|0)-(CD[i+12>>2]|0)|0)>>>0)/1e3+ +RD[i+8>>2],CD[i+16>>2]|0)return void(BD=p);i=CD[5104]|0;break}while(0);CD[5104]=CD[i+20>>2],BD=p}function kb(t,e){t|=0,e=+e;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0;if(f=BD,BD=BD+16|0,cM(2136),i=CD[t+232>>2]|0,(i|0)>0){p=0;do{if(d=CD[(CD[t+240>>2]|0)+(p<<2)>>2]|0,!(CD[d+204>>2]&3)){c=+RD[d+444>>2],r=+FD(+(1-c),+e),n=r*+RD[d+312>>2],RD[d+312>>2]=n,o=r*+RD[d+316>>2],RD[d+316>>2]=o,r*=+RD[d+320>>2],RD[d+320>>2]=r,u=+RD[d+448>>2],l=+FD(+(1-u),+e),a=l*+RD[d+328>>2],RD[d+328>>2]=a,s=l*+RD[d+332>>2],RD[d+332>>2]=s,l*=+RD[d+336>>2],RD[d+336>>2]=l;do if(TD[d+452>>0]|0){(l*l+(a*a+s*s)<+RD[d+464>>2]?n*n+o*o+r*r<+RD[d+460>>2]:0)?(_=+RD[d+456>>2],RD[d+328>>2]=a*_,RD[d+332>>2]=_*s,RD[d+336>>2]=_*l,RD[d+312>>2]=_*n,RD[d+316>>2]=_*o,RD[d+320>>2]=_*r,n=_*n,o=_*o,r=_*r,h=a*_,s=_*s,l=_*l):h=a,a=+ND(+(n*n+o*o+r*r));do if(a<c){if(a>.004999999888241291){n-=n*(1/a)*.004999999888241291,RD[d+312>>2]=n,o-=o*(1/a)*.004999999888241291,RD[d+316>>2]=o,r-=r*(1/a)*.004999999888241291,RD[d+320>>2]=r;break}CD[d+312>>2]=0,CD[d+312+4>>2]=0,CD[d+312+8>>2]=0,CD[d+312+12>>2]=0,n=0,o=0,r=0;break}while(0);if(a=+ND(+(h*h+s*s+l*l)),a<u){if(a>.004999999888241291){RD[d+328>>2]=h-h*(1/a)*.004999999888241291,RD[d+332>>2]=s-s*(1/a)*.004999999888241291,RD[d+336>>2]=l-l*(1/a)*.004999999888241291;break}CD[d+328>>2]=0,CD[d+328+4>>2]=0,CD[d+328+8>>2]=0,CD[d+328+12>>2]=0;break}}while(0);t_(d+4|0,n,o,r,d+328|0,e,d+68|0),i=CD[t+232>>2]|0}p=p+1|0}while((p|0)<(i|0))}if(i=CD[5104]|0,t=(CD[i+16>>2]|0)+-1|0,CD[i+16>>2]=t,t)return void(BD=f);do if(CD[i+4>>2]|0){if(uP(f|0,0)|0,t=CD[5090]|0,RD[i+8>>2]=+(((CD[f+4>>2]|0)-(CD[t+4>>2]|0)+(((CD[f>>2]|0)-(CD[t>>2]|0)|0)*1e6|0)-(CD[i+12>>2]|0)|0)>>>0)/1e3+ +RD[i+8>>2],CD[i+16>>2]|0)return void(BD=f);i=CD[5104]|0;break}while(0);CD[5104]=CD[i+20>>2],BD=f}function Hb(t,e){t|=0,e|=0;var i=0;((TD[t+273>>0]|0)!=0?(i=CD[t+200>>2]|0,(i|0)!=0):0)&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0)),TD[t+273>>0]=0,CD[t+200>>2]=e,CD[(CD[t+196>>2]|0)+8>>2]=e}function Ib(t){return t|=0,CD[t+200>>2]|0}function Ob(t){return t|=0,CD[t+212>>2]|0}function Jb(t,e){return t|=0,e|=0,CD[(CD[t+220>>2]|0)+(e<<2)>>2]|0}function Nb(t,e){return t|=0,e|=0,CD[(CD[t+220>>2]|0)+(e<<2)>>2]|0}function Fb(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0;gP[CD[(CD[e>>2]|0)+32>>2]&255](e),r=DP[CD[(CD[e>>2]|0)+16>>2]&63](e,104,1)|0,i=CD[r+8>>2]|0,o=i,n=o+104|0;do CD[o>>2]=0,o=o+4|0;while((o|0)<(n|0));if(RD[i+88>>2]=+RD[t+248>>2],RD[i+92>>2]=+RD[t+252>>2],RD[i+96>>2]=+RD[t+256>>2],RD[i+100>>2]=+RD[t+260>>2],RD[i>>2]=+RD[t+92>>2],RD[i+4>>2]=+RD[t+96>>2],RD[i+8>>2]=+RD[t+100>>2],RD[i+12>>2]=+RD[t+104>>2],RD[i+16>>2]=+RD[t+108>>2],RD[i+20>>2]=+RD[t+116>>2],RD[i+24>>2]=+RD[t+120>>2],RD[i+28>>2]=+RD[t+124>>2],RD[i+32>>2]=+RD[t+128>>2],RD[i+36>>2]=+RD[t+132>>2],RD[i+40>>2]=+RD[t+140>>2],RD[i+44>>2]=+RD[t+144>>2],RD[i+48>>2]=+RD[t+148>>2],RD[i+52>>2]=+RD[t+152>>2],RD[i+56>>2]=+RD[t+168>>2],RD[i+60>>2]=+RD[t+172>>2],CD[i+64>>2]=CD[t+112>>2],CD[i+68>>2]=CD[t+156>>2],CD[i+72>>2]=CD[t+160>>2],CD[i+76>>2]=CD[t+164>>2],CD[i+80>>2]=CD[t+136>>2],_P[CD[(CD[e>>2]|0)+20>>2]&31](e,r,2168,1145853764,i),i=CD[t+8>>2]|0,(i|0)>0){o=0;do r=CD[(CD[t+16>>2]|0)+(o<<2)>>2]|0,CD[r+236>>2]&2&&(n=MP[CD[(CD[r>>2]|0)+16>>2]&127](r)|0,n=DP[CD[(CD[e>>2]|0)+16>>2]&63](e,n,1)|0,i=DP[CD[(CD[r>>2]|0)+20>>2]&63](r,CD[n+8>>2]|0,e)|0,_P[CD[(CD[e>>2]|0)+20>>2]&31](e,n,i,1497645650,r),i=CD[t+8>>2]|0),o=o+1|0;while((o|0)<(i|0))}if((CD[t+212>>2]|0)<=0)return DS(t,e),t=CD[e>>2]|0,t=t+36|0,t=CD[t>>2]|0,void gP[t&255](e);i=0;do n=CD[(CD[t+220>>2]|0)+(i<<2)>>2]|0,r=MP[CD[(CD[n>>2]|0)+36>>2]&127](n)|0,r=DP[CD[(CD[e>>2]|0)+16>>2]&63](e,r,1)|0,o=DP[CD[(CD[n>>2]|0)+40>>2]&63](n,CD[r+8>>2]|0,e)|0,_P[CD[(CD[e>>2]|0)+20>>2]&31](e,r,o,1397641027,n),i=i+1|0;while((i|0)<(CD[t+212>>2]|0));DS(t,e),t=CD[e>>2]|0,t=t+36|0,t=CD[t>>2]|0,gP[t&255](e)}function Gb(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,CD[t+4>>2]=6,CD[t+8>>2]=-1,CD[t+12>>2]=-1,RD[t+16>>2]=3.4028234663852886e38,TD[t+20>>0]=1,TD[t+21>>0]=0,CD[t+24>>2]=-1,CD[t+28>>2]=e,CD[t+32>>2]=i,RD[t+36>>2]=0,RD[t+40>>2]=.30000001192092896,CD[t+44>>2]=0,CD[t>>2]=2504,CD[t+48>>2]=CD[r>>2],CD[t+48+4>>2]=CD[r+4>>2],CD[t+48+8>>2]=CD[r+8>>2],CD[t+48+12>>2]=CD[r+12>>2],CD[t+64>>2]=CD[r+16>>2],CD[t+64+4>>2]=CD[r+16+4>>2],CD[t+64+8>>2]=CD[r+16+8>>2],CD[t+64+12>>2]=CD[r+16+12>>2],CD[t+80>>2]=CD[r+32>>2],CD[t+80+4>>2]=CD[r+32+4>>2],CD[t+80+8>>2]=CD[r+32+8>>2],CD[t+80+12>>2]=CD[r+32+12>>2],CD[t+96>>2]=CD[r+48>>2],CD[t+96+4>>2]=CD[r+48+4>>2],CD[t+96+8>>2]=CD[r+48+8>>2],CD[t+96+12>>2]=CD[r+48+12>>2],CD[t+112>>2]=CD[o>>2],CD[t+112+4>>2]=CD[o+4>>2],CD[t+112+8>>2]=CD[o+8>>2],CD[t+112+12>>2]=CD[o+12>>2],CD[t+128>>2]=CD[o+16>>2],CD[t+128+4>>2]=CD[o+16+4>>2],CD[t+128+8>>2]=CD[o+16+8>>2],CD[t+128+12>>2]=CD[o+16+12>>2],CD[t+144>>2]=CD[o+32>>2],CD[t+144+4>>2]=CD[o+32+4>>2],CD[t+144+8>>2]=CD[o+32+8>>2],CD[t+144+12>>2]=CD[o+32+12>>2],CD[t+160>>2]=CD[o+48>>2],CD[t+160+4>>2]=CD[o+48+4>>2],CD[t+160+8>>2]=CD[o+48+8>>2],CD[t+160+12>>2]=CD[o+48+12>>2],o=t+680|0,r=o+48|0;do CD[o>>2]=0,o=o+4|0;while((o|0)<(r|0));CD[t+740>>2]=0,CD[t+740+4>>2]=0,CD[t+740+8>>2]=0,CD[t+740+12>>2]=0,RD[t+756>>2]=.20000000298023224,RD[t+760>>2]=.20000000298023224,RD[t+764>>2]=.20000000298023224,CD[t+768>>2]=0,CD[t+768+4>>2]=0,CD[t+768+8>>2]=0,CD[t+768+12>>2]=0,CD[t+768+16>>2]=0,RD[t+728>>2]=.699999988079071,RD[t+732>>2]=1,RD[t+736>>2]=.5,TD[t+788>>0]=0,RD[t+792>>2]=0,RD[t+808>>2]=0,TD[t+789>>0]=0,RD[t+796>>2]=0,RD[t+812>>2]=0,TD[t+790>>0]=0,RD[t+800>>2]=0,RD[t+816>>2]=0,RD[t+928>>2]=0,RD[t+876>>2]=0,RD[t+880>>2]=.10000000149011612,RD[t+884>>2]=300,RD[t+868>>2]=1,RD[t+872>>2]=-1,RD[t+896>>2]=0,RD[t+900>>2]=.20000000298023224,RD[t+904>>2]=0,RD[t+908>>2]=0,RD[t+888>>2]=1,RD[t+892>>2]=.5,CD[t+924>>2]=0,RD[t+916>>2]=0,TD[t+912>>0]=0,RD[t+992>>2]=0,RD[t+940>>2]=0,RD[t+944>>2]=.10000000149011612,RD[t+948>>2]=300,RD[t+932>>2]=1,RD[t+936>>2]=-1,RD[t+960>>2]=0,RD[t+964>>2]=.20000000298023224,RD[t+968>>2]=0,RD[t+972>>2]=0,RD[t+952>>2]=1,RD[t+956>>2]=.5,CD[t+988>>2]=0,RD[t+980>>2]=0,TD[t+976>>0]=0,RD[t+1056>>2]=0,RD[t+1004>>2]=0,RD[t+1008>>2]=.10000000149011612,RD[t+1012>>2]=300,RD[t+996>>2]=1,RD[t+1e3>>2]=-1,RD[t+1024>>2]=0,RD[t+1028>>2]=.20000000298023224,RD[t+1032>>2]=0,RD[t+1036>>2]=0,RD[t+1016>>2]=1,RD[t+1020>>2]=.5,CD[t+1052>>2]=0,RD[t+1044>>2]=0,TD[t+1040>>0]=0,TD[t+1300>>0]=n&1,TD[t+1301>>0]=1,CD[t+1304>>2]=0,TD[t+1308>>0]=0,jb(t,(CD[t+28>>2]|0)+4|0,(CD[t+32>>2]|0)+4|0)}function zb(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0;n=BD,BD=BD+64|0,av(),CD[t+4>>2]=6,CD[t+8>>2]=-1,CD[t+12>>2]=-1,RD[t+16>>2]=3.4028234663852886e38,TD[t+20>>0]=1,TD[t+21>>0]=0,CD[t+24>>2]=-1,CD[t+28>>2]=2960,CD[t+32>>2]=e,RD[t+36>>2]=0,RD[t+40>>2]=.30000001192092896,CD[t+44>>2]=0,CD[t>>2]=2504,CD[t+112>>2]=CD[i>>2],CD[t+112+4>>2]=CD[i+4>>2],CD[t+112+8>>2]=CD[i+8>>2],CD[t+112+12>>2]=CD[i+12>>2],CD[t+128>>2]=CD[i+16>>2],CD[t+128+4>>2]=CD[i+16+4>>2],CD[t+128+8>>2]=CD[i+16+8>>2],CD[t+128+12>>2]=CD[i+16+12>>2],CD[t+144>>2]=CD[i+32>>2],CD[t+144+4>>2]=CD[i+32+4>>2],CD[t+144+8>>2]=CD[i+32+8>>2],CD[t+144+12>>2]=CD[i+32+12>>2],CD[t+160>>2]=CD[i+48>>2],CD[t+160+4>>2]=CD[i+48+4>>2],CD[t+160+8>>2]=CD[i+48+8>>2],CD[t+160+12>>2]=CD[i+48+12>>2],i=t+680|0,o=i+48|0;do CD[i>>2]=0,i=i+4|0;while((i|0)<(o|0));CD[t+740>>2]=0,CD[t+740+4>>2]=0,CD[t+740+8>>2]=0,CD[t+740+12>>2]=0,RD[t+756>>2]=.20000000298023224,RD[t+760>>2]=.20000000298023224,RD[t+764>>2]=.20000000298023224,CD[t+768>>2]=0,CD[t+768+4>>2]=0,CD[t+768+8>>2]=0,CD[t+768+12>>2]=0,CD[t+768+16>>2]=0,RD[t+728>>2]=.699999988079071,RD[t+732>>2]=1,RD[t+736>>2]=.5,TD[t+788>>0]=0,RD[t+792>>2]=0,RD[t+808>>2]=0,TD[t+789>>0]=0,RD[t+796>>2]=0,RD[t+812>>2]=0,TD[t+790>>0]=0,RD[t+800>>2]=0,RD[t+816>>2]=0,RD[t+928>>2]=0,RD[t+876>>2]=0,RD[t+880>>2]=.10000000149011612,RD[t+884>>2]=300,RD[t+868>>2]=1,RD[t+872>>2]=-1,RD[t+896>>2]=0,RD[t+900>>2]=.20000000298023224,RD[t+904>>2]=0,RD[t+908>>2]=0,RD[t+888>>2]=1,RD[t+892>>2]=.5,CD[t+924>>2]=0,RD[t+916>>2]=0,TD[t+912>>0]=0,RD[t+992>>2]=0,RD[t+940>>2]=0,RD[t+944>>2]=.10000000149011612,RD[t+948>>2]=300,RD[t+932>>2]=1,RD[t+936>>2]=-1,RD[t+960>>2]=0,RD[t+964>>2]=.20000000298023224,RD[t+968>>2]=0,RD[t+972>>2]=0,RD[t+952>>2]=1,RD[t+956>>2]=.5,CD[t+988>>2]=0,RD[t+980>>2]=0,TD[t+976>>0]=0,RD[t+1056>>2]=0,RD[t+1004>>2]=0,RD[t+1008>>2]=.10000000149011612,RD[t+1012>>2]=300,RD[t+996>>2]=1,RD[t+1e3>>2]=-1,RD[t+1024>>2]=0,RD[t+1028>>2]=.20000000298023224,RD[t+1032>>2]=0,RD[t+1036>>2]=0,RD[t+1016>>2]=1,RD[t+1020>>2]=.5,CD[t+1052>>2]=0,RD[t+1044>>2]=0,TD[t+1040>>0]=0,TD[t+1300>>0]=r&1,TD[t+1301>>0]=1,CD[t+1304>>2]=0,TD[t+1308>>0]=0,i_(n,e+4|0,t+112|0),CD[t+48>>2]=CD[n>>2],CD[t+48+4>>2]=CD[n+4>>2],CD[t+48+8>>2]=CD[n+8>>2],CD[t+48+12>>2]=CD[n+12>>2],CD[t+64>>2]=CD[n+16>>2],CD[t+64+4>>2]=CD[n+16+4>>2],CD[t+64+8>>2]=CD[n+16+8>>2],CD[t+64+12>>2]=CD[n+16+12>>2],CD[t+80>>2]=CD[n+32>>2],CD[t+80+4>>2]=CD[n+32+4>>2],CD[t+80+8>>2]=CD[n+32+8>>2],CD[t+80+12>>2]=CD[n+32+12>>2],CD[t+96>>2]=CD[n+48>>2],CD[t+96+4>>2]=CD[n+48+4>>2],CD[t+96+8>>2]=CD[n+48+8>>2],CD[t+96+12>>2]=CD[n+48+12>>2],jb(t,(CD[t+28>>2]|0)+4|0,(CD[t+32>>2]|0)+4|0),BD=n}function jb(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0;x=BD,BD=BD+128|0,i_(x+64|0,e,t+48|0),CD[t+1064>>2]=CD[x+64>>2],CD[t+1064+4>>2]=CD[x+64+4>>2],CD[t+1064+8>>2]=CD[x+64+8>>2],CD[t+1064+12>>2]=CD[x+64+12>>2],CD[t+1080>>2]=CD[x+64+16>>2],CD[t+1080+4>>2]=CD[x+64+16+4>>2],CD[t+1080+8>>2]=CD[x+64+16+8>>2],CD[t+1080+12>>2]=CD[x+64+16+12>>2],CD[t+1096>>2]=CD[x+64+32>>2],CD[t+1096+4>>2]=CD[x+64+32+4>>2],CD[t+1096+8>>2]=CD[x+64+32+8>>2],CD[t+1096+12>>2]=CD[x+64+32+12>>2],CD[t+1112>>2]=CD[x+64+48>>2],CD[t+1112+4>>2]=CD[x+64+48+4>>2],CD[t+1112+8>>2]=CD[x+64+48+8>>2],CD[t+1112+12>>2]=CD[x+64+48+12>>2],i_(x,i,t+112|0),CD[t+1128>>2]=CD[x>>2],CD[t+1128+4>>2]=CD[x+4>>2],CD[t+1128+8>>2]=CD[x+8>>2],CD[t+1128+12>>2]=CD[x+12>>2],CD[t+1144>>2]=CD[x+16>>2],CD[t+1144+4>>2]=CD[x+16+4>>2],CD[t+1144+8>>2]=CD[x+16+8>>2],CD[t+1144+12>>2]=CD[x+16+12>>2],CD[t+1160>>2]=CD[x+32>>2],CD[t+1160+4>>2]=CD[x+32+4>>2],CD[t+1160+8>>2]=CD[x+32+8>>2],CD[t+1160+12>>2]=CD[x+32+12>>2],CD[t+1176>>2]=CD[x+48>>2],CD[t+1176+4>>2]=CD[x+48+4>>2],CD[t+1176+8>>2]=CD[x+48+8>>2],CD[t+1176+12>>2]=CD[x+48+12>>2],n=+RD[t+1176>>2]-+RD[t+1112>>2],r=+RD[t+1180>>2]-+RD[t+1116>>2],s=+RD[t+1184>>2]-+RD[t+1120>>2],p=+RD[t+1084>>2],f=+RD[t+1104>>2],_=+RD[t+1088>>2],m=+RD[t+1100>>2],g=+RD[t+1096>>2],y=+RD[t+1080>>2],b=+RD[t+1064>>2],v=+RD[t+1068>>2],M=+RD[t+1072>>2],S=1/((p*f-_*m)*b+v*(_*g-f*y)+(m*y-p*g)*M),T=(m*y-p*g)*S,o=(p*f-_*m)*S*n+S*(m*M-f*v)*r+S*(_*v-p*M)*s,a=n*(_*g-f*y)*S+r*S*(f*b-g*M)+S*(y*M-_*b)*s,s=n*T+S*(g*v-m*b)*r+S*(p*b-y*v)*s,RD[t+1256>>2]=o,RD[t+1260>>2]=a,RD[t+1264>>2]=s,RD[t+1268>>2]=0,RD[t+840>>2]=o,r=+RD[t+680>>2],n=+RD[t+696>>2];
do{if(!(r>n)){if(r>o){CD[t+856>>2]=2,RD[t+824>>2]=o-r;break}if(n<o){CD[t+856>>2]=1,RD[t+824>>2]=o-n;break}CD[t+856>>2]=0,RD[t+824>>2]=0;break}CD[t+856>>2]=0,RD[t+824>>2]=0}while(0);RD[t+844>>2]=a,o=+RD[t+684>>2],r=+RD[t+700>>2];do{if(!(o>r)){if(o>a){CD[t+860>>2]=2,RD[t+828>>2]=a-o;break}if(r<a){CD[t+860>>2]=1,RD[t+828>>2]=a-r;break}CD[t+860>>2]=0,RD[t+828>>2]=0;break}CD[t+860>>2]=0,RD[t+828>>2]=0}while(0);RD[t+848>>2]=s,o=+RD[t+688>>2],r=+RD[t+704>>2];do{if(!(o>r)){if(o>s){CD[t+864>>2]=2,RD[t+832>>2]=s-o;break}if(r<s){CD[t+864>>2]=1,RD[t+832>>2]=s-r;break}CD[t+864>>2]=0,RD[t+832>>2]=0;break}CD[t+864>>2]=0,RD[t+832>>2]=0}while(0);s=+RD[t+1128>>2],n=+RD[t+1144>>2],o=+RD[t+1160>>2],a=+RD[t+1132>>2],r=+RD[t+1148>>2],l=+RD[t+1164>>2],c=(p*f-_*m)*S*a+S*(m*M-f*v)*r+S*(_*v-p*M)*l,h=(_*g-f*y)*S*a+S*(f*b-g*M)*r+S*(y*M-_*b)*l,u=s*T+S*(g*v-m*b)*n+S*(p*b-y*v)*o,d=T*+RD[t+1136>>2]+S*(g*v-m*b)*+RD[t+1152>>2]+S*(p*b-y*v)*+RD[t+1168>>2];do{if(u<1){if(u>-1){T=+WD(+-(T*a+S*(g*v-m*b)*r+S*(p*b-y*v)*l),+d),RD[t+1192>>2]=T,T=u<-1?-1:u,T=+UD(+(T>1?1:T)),RD[t+1196>>2]=T,T=+WD(+-(s*(_*g-f*y)*S+n*S*(f*b-g*M)+S*(y*M-_*b)*o),+(s*(p*f-_*m)*S+n*S*(m*M-f*v)+S*(_*v-p*M)*o)),RD[t+1200>>2]=T;break}T=-+WD(+c,+h),RD[t+1192>>2]=T,RD[t+1196>>2]=-1.5707963705062866,RD[t+1200>>2]=0;break}T=+WD(+c,+h),RD[t+1192>>2]=T,RD[t+1196>>2]=1.5707963705062866,RD[t+1200>>2]=0}while(0);return RD[t+1236>>2]=0,m=f*(s*f-o*M)-_*(n*M-s*_),g=M*(n*M-s*_)-f*(o*_-n*f),y=_*(o*_-n*f)-M*(s*f-o*M),RD[t+1220>>2]=0,b=n*(n*M-s*_)-o*(s*f-o*M),v=o*(o*_-n*f)-s*(n*M-s*_),S=s*(s*f-o*M)-n*(o*_-n*f),RD[t+1252>>2]=0,T=1/+ND(+(m*m+g*g+y*y)),RD[t+1208>>2]=m*T,RD[t+1212>>2]=g*T,RD[t+1216>>2]=y*T,T=1/+ND(+((o*_-n*f)*(o*_-n*f)+(s*f-o*M)*(s*f-o*M)+(n*M-s*_)*(n*M-s*_))),RD[t+1224>>2]=(o*_-n*f)*T,RD[t+1228>>2]=(s*f-o*M)*T,RD[t+1232>>2]=(n*M-s*_)*T,T=1/+ND(+(b*b+v*v+S*S)),RD[t+1240>>2]=b*T,RD[t+1244>>2]=v*T,RD[t+1248>>2]=S*T,TD[t+1301>>0]|0?(r=+RD[(CD[t+28>>2]|0)+344>>2],o=+RD[(CD[t+32>>2]|0)+344>>2],i=r<1.1920928955078125e-7?1:o<1.1920928955078125e-7&1,TD[t+1280>>0]=i,r=r+o>0?o/(r+o):.5,RD[t+1272>>2]=r,RD[t+1276>>2]=1-r,void(BD=x)):void(BD=x)}function Ub(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0,P=0,B=0;if(l=BD,BD=BD+144|0,!(TD[t+1308>>0]|0))return void(BD=l);RD[t+928>>2]=0,RD[t+992>>2]=0,RD[t+1056>>2]=0,CD[t+712>>2]=0,CD[t+712+4>>2]=0,CD[t+712+8>>2]=0,CD[t+712+12>>2]=0,jb(t,(CD[t+28>>2]|0)+4|0,(CD[t+32>>2]|0)+4|0),gP[CD[(CD[t>>2]|0)+44>>2]&255](t),o=+RD[t+1284>>2],r=+RD[t+1288>>2],i=+RD[t+1292>>2],e=0;do+RD[t+696+(e<<2)>>2]>=+RD[t+680+(e<<2)>>2]&&(TD[t+1300>>0]|0?(n=t+1096+(e<<2)|0,a=t+1080+(e<<2)|0,s=t+1064+(e<<2)|0):(n=t+1160+(e<<2)|0,a=t+1144+(e<<2)|0,s=t+1128+(e<<2)|0),c=+RD[n>>2],h=+RD[a>>2],RD[l>>2]=+RD[s>>2],RD[l+4>>2]=h,RD[l+8>>2]=c,RD[l+12>>2]=0,n=CD[t+28>>2]|0,RD[l+96>>2]=+RD[n+4>>2],RD[l+96+4>>2]=+RD[n+20>>2],RD[l+96+8>>2]=+RD[n+36>>2],RD[l+96+12>>2]=0,RD[l+96+16>>2]=+RD[n+8>>2],RD[l+96+20>>2]=+RD[n+24>>2],RD[l+96+24>>2]=+RD[n+40>>2],RD[l+96+28>>2]=0,RD[l+96+32>>2]=+RD[n+12>>2],RD[l+96+36>>2]=+RD[n+28>>2],RD[l+96+40>>2]=+RD[n+44>>2],RD[l+96+44>>2]=0,s=CD[t+32>>2]|0,RD[l+48>>2]=+RD[s+4>>2],RD[l+48+4>>2]=+RD[s+20>>2],RD[l+48+8>>2]=+RD[s+36>>2],RD[l+48+12>>2]=0,RD[l+48+16>>2]=+RD[s+8>>2],RD[l+48+20>>2]=+RD[s+24>>2],RD[l+48+24>>2]=+RD[s+40>>2],RD[l+48+28>>2]=0,RD[l+48+32>>2]=+RD[s+12>>2],RD[l+48+36>>2]=+RD[s+28>>2],RD[l+48+40>>2]=+RD[s+44>>2],RD[l+48+44>>2]=0,c=r-+RD[n+56>>2],h=i-+RD[n+60>>2],RD[l+32>>2]=o-+RD[n+52>>2],RD[l+32+4>>2]=c,RD[l+32+8>>2]=h,RD[l+32+12>>2]=0,h=r-+RD[s+56>>2],c=i-+RD[s+60>>2],RD[l+16>>2]=o-+RD[s+52>>2],RD[l+16+4>>2]=h,RD[l+16+8>>2]=c,RD[l+16+12>>2]=0,n_(t+176+(e*84|0)|0,l+96|0,l+48|0,l+32|0,l+16|0,l,n+396|0,+RD[n+344>>2],s+396|0,+RD[s+344>>2])),e=e+1|0;while((e|0)!=3);s=0;do{i=+RD[t+868+(s<<6)>>2],r=+RD[t+868+(s<<6)+4>>2],o=+a_(+RD[t+1192+(s<<2)>>2],i,r),RD[t+868+(s<<6)+52>>2]=o;do if(i>r)CD[t+868+(s<<6)+56>>2]=0,e=23;else{if(i>o){if(CD[t+868+(s<<6)+56>>2]=1,e=t+868+(s<<6)+48|0,RD[e>>2]=o-i,o-i>3.1415927410125732){RD[e>>2]=o-i+-6.2831854820251465,e=24;break}if(!(o-i<-3.1415927410125732)){e=24;break}RD[e>>2]=o-i+6.2831854820251465,e=24;break}if(e=t+868+(s<<6)+56|0,!(r<o)){CD[e>>2]=0,e=23;break}if(CD[e>>2]=2,e=t+868+(s<<6)+48|0,RD[e>>2]=o-r,o-r>3.1415927410125732){RD[e>>2]=o-r+-6.2831854820251465,e=24;break}o-r<-3.1415927410125732?(RD[e>>2]=o-r+6.2831854820251465,e=24):e=24}while(0);((e|0)==23?(e=0,(TD[t+868+(s<<6)+44>>0]|0)!=0):0)&&(e=24),(e|0)==24&&(e=t+1208+(s<<4)|0,CD[l>>2]=CD[e>>2],CD[l+4>>2]=CD[e+4>>2],CD[l+8>>2]=CD[e+8>>2],CD[l+12>>2]=CD[e+12>>2],e=t+428+(s*84|0)|0,a=CD[t+28>>2]|0,B=+RD[a+4>>2],P=+RD[a+20>>2],D=+RD[a+36>>2],w=+RD[a+8>>2],A=+RD[a+24>>2],E=+RD[a+40>>2],x=+RD[a+12>>2],T=+RD[a+28>>2],S=+RD[a+44>>2],n=CD[t+32>>2]|0,v=+RD[n+4>>2],b=+RD[n+20>>2],y=+RD[n+36>>2],m=+RD[n+8>>2],_=+RD[n+24>>2],f=+RD[n+40>>2],d=+RD[n+12>>2],i=+RD[n+28>>2],o=+RD[n+44>>2],CD[e>>2]=0,CD[e+4>>2]=0,CD[e+8>>2]=0,CD[e+12>>2]=0,u=+RD[l>>2],r=+RD[l+4>>2],c=+RD[l+8>>2],RD[t+428+(s*84|0)+16>>2]=B*u+P*r+D*c,RD[t+428+(s*84|0)+20>>2]=w*u+A*r+E*c,RD[t+428+(s*84|0)+24>>2]=x*u+T*r+S*c,RD[t+428+(s*84|0)+28>>2]=0,RD[t+428+(s*84|0)+32>>2]=v*-u+b*-r+y*-c,RD[t+428+(s*84|0)+36>>2]=m*-u+_*-r+f*-c,RD[t+428+(s*84|0)+40>>2]=d*-u+i*-r+o*-c,RD[t+428+(s*84|0)+44>>2]=0,R=(B*u+P*r+D*c)*+RD[a+396>>2],C=(w*u+A*r+E*c)*+RD[a+400>>2],M=(x*u+T*r+S*c)*+RD[a+404>>2],RD[t+428+(s*84|0)+48>>2]=R,RD[t+428+(s*84|0)+52>>2]=C,RD[t+428+(s*84|0)+56>>2]=M,RD[t+428+(s*84|0)+60>>2]=0,g=(v*-u+b*-r+y*-c)*+RD[n+396>>2],p=(m*-u+_*-r+f*-c)*+RD[n+400>>2],h=(d*-u+i*-r+o*-c)*+RD[n+404>>2],RD[t+428+(s*84|0)+64>>2]=g,RD[t+428+(s*84|0)+68>>2]=p,RD[t+428+(s*84|0)+72>>2]=h,RD[t+428+(s*84|0)+76>>2]=0,RD[t+428+(s*84|0)+80>>2]=(B*u+P*r+D*c)*R+(w*u+A*r+E*c)*C+(x*u+T*r+S*c)*M+((v*-u+b*-r+y*-c)*g+(m*-u+_*-r+f*-c)*p+(d*-u+i*-r+o*-c)*h)),s=s+1|0}while((s|0)!=3);BD=l}function Wb(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0;if(TD[t+1308>>0]|0)return CD[e>>2]=0,void(CD[e+4>>2]=0);jb(t,(CD[t+28>>2]|0)+4|0,(CD[t+32>>2]|0)+4|0),CD[e>>2]=0,CD[e+4>>2]=6,((CD[t+856>>2]|0)==0?(TD[t+788>>0]|0)==0:0)?(i=0,r=6):(CD[e>>2]=1,CD[e+4>>2]=5,i=1,r=5),((CD[t+860>>2]|0)==0?(TD[t+789>>0]|0)==0:0)||(i=i+1|0,CD[e>>2]=i,r=r+-1|0,CD[e+4>>2]=r),((CD[t+864>>2]|0)==0?(TD[t+790>>0]|0)==0:0)?l=0:(i=i+1|0,CD[e>>2]=i,r=r+-1|0,CD[e+4>>2]=r,l=0);do{n=+RD[t+868+(l<<6)>>2],a=+RD[t+868+(l<<6)+4>>2],s=+a_(+RD[t+1192+(l<<2)>>2],n,a),RD[t+868+(l<<6)+52>>2]=s;do if(n>a)CD[t+868+(l<<6)+56>>2]=0,o=20;else{if(n>s){if(CD[t+868+(l<<6)+56>>2]=1,o=t+868+(l<<6)+48|0,RD[o>>2]=s-n,s-n>3.1415927410125732){RD[o>>2]=s-n+-6.2831854820251465,o=21;break}if(!(s-n<-3.1415927410125732)){o=21;break}RD[o>>2]=s-n+6.2831854820251465,o=21;break}if(o=t+868+(l<<6)+56|0,!(a<s)){CD[o>>2]=0,o=20;break}if(CD[o>>2]=2,o=t+868+(l<<6)+48|0,RD[o>>2]=s-a,s-a>3.1415927410125732){RD[o>>2]=s-a+-6.2831854820251465,o=21;break}s-a<-3.1415927410125732?(RD[o>>2]=s-a+6.2831854820251465,o=21):o=21}while(0);(o|0)==20&&(o=0,TD[t+868+(l<<6)+44>>0]|0&&(o=21)),(o|0)==21&&(i=i+1|0,CD[e>>2]=i,r=r+-1|0,CD[e+4>>2]=r),l=l+1|0}while((l|0)!=3)}function Xb(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0;if(l=BD,BD=BD+16|0,a=CD[t+28>>2]|0,s=CD[t+32>>2]|0,TD[t+1301>>0]|0){n=0,i=0;do r=t+868+(n<<6)|0,((CD[t+868+(n<<6)+56>>2]|0)==0?(TD[t+868+(n<<6)+44>>0]|0)==0:0)||(o=t+1208+(n<<4)|0,CD[l>>2]=CD[o>>2],CD[l+4>>2]=CD[o+4>>2],CD[l+8>>2]=CD[o+8>>2],CD[l+12>>2]=CD[o+12>>2],o=CD[t+1304>>2]>>(n*3|0)+9,o&1||(RD[t+868+(n<<6)+28>>2]=+RD[CD[e+32>>2]>>2]),o&2||(RD[t+868+(n<<6)+36>>2]=+RD[CD[e+32>>2]>>2]),o&4||(RD[t+868+(n<<6)+32>>2]=+RD[e+4>>2]),i=(Kb(t,r,a+4|0,s+4|0,a+312|0,s+312|0,a+328|0,s+328|0,e,i,l,1,0)|0)+i|0),n=n+1|0;while((n|0)!=3);return qb(t,e,i,a+4|0,s+4|0,a+312|0,s+312|0,a+328|0,s+328|0)|0,void(BD=l)}n=0,i=qb(t,e,0,a+4|0,s+4|0,a+312|0,s+312|0,a+328|0,s+328|0)|0;do o=t+868+(n<<6)|0,((CD[t+868+(n<<6)+56>>2]|0)==0?(TD[t+868+(n<<6)+44>>0]|0)==0:0)||(r=t+1208+(n<<4)|0,CD[l>>2]=CD[r>>2],CD[l+4>>2]=CD[r+4>>2],CD[l+8>>2]=CD[r+8>>2],CD[l+12>>2]=CD[r+12>>2],r=CD[t+1304>>2]>>(n*3|0)+9,r&1||(RD[t+868+(n<<6)+28>>2]=+RD[CD[e+32>>2]>>2]),r&2||(RD[t+868+(n<<6)+36>>2]=+RD[CD[e+32>>2]>>2]),r&4||(RD[t+868+(n<<6)+32>>2]=+RD[e+4>>2]),i=(Kb(t,o,a+4|0,s+4|0,a+312|0,s+312|0,a+328|0,s+328|0,e,i,l,1,0)|0)+i|0),n=n+1|0;while((n|0)!=3);return void(BD=l)}function qb(t,e,i,r,o,n,a,s,l){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0;var c=0,h=0,u=0,d=0;d=BD,BD=BD+80|0,RD[d+16+60>>2]=0,RD[d+16+8>>2]=0,RD[d+16+12>>2]=.10000000149011612,RD[d+16+16>>2]=300,RD[d+16>>2]=1,RD[d+16+4>>2]=-1,RD[d+16+28>>2]=0,RD[d+16+32>>2]=.20000000298023224,RD[d+16+36>>2]=0,RD[d+16+40>>2]=0,RD[d+16+20>>2]=1,RD[d+16+24>>2]=.5,CD[d+16+56>>2]=0,RD[d+16+48>>2]=0,TD[d+16+44>>0]=0,u=0;do{c=CD[t+856+(u<<2)>>2]|0,h=TD[t+788+u>>0]|0;do if(!((c|0)==0&h<<24>>24==0)){if(RD[d+16+40>>2]=0,CD[d+16+56>>2]=c,RD[d+16+52>>2]=+RD[t+840+(u<<2)>>2],RD[d+16+48>>2]=+RD[t+824+(u<<2)>>2],RD[d+16+20>>2]=+RD[t+732>>2],TD[d+16+44>>0]=h,RD[d+16+4>>2]=+RD[t+696+(u<<2)>>2],RD[d+16+24>>2]=+RD[t+728>>2],RD[d+16>>2]=+RD[t+680+(u<<2)>>2],RD[d+16+16>>2]=0,RD[d+16+12>>2]=+RD[t+808+(u<<2)>>2],RD[d+16+8>>2]=+RD[t+792+(u<<2)>>2],RD[d>>2]=+RD[t+1064+(u<<2)>>2],RD[d+4>>2]=+RD[t+1080+(u<<2)>>2],RD[d+8>>2]=+RD[t+1096+(u<<2)>>2],RD[d+12>>2]=0,h=CD[t+1304>>2]>>u*3,c=h&1?t+740+(u<<2)|0:CD[e+32>>2]|0,RD[d+16+28>>2]=+RD[c>>2],c=h&2?t+772+(u<<2)|0:CD[e+32>>2]|0,RD[d+16+36>>2]=+RD[c>>2],c=h&4?t+756+(u<<2)|0:e+4|0,RD[d+16+32>>2]=+RD[c>>2],!(TD[t+1301>>0]|0)){i=(Kb(t,d+16|0,r,o,n,a,s,l,e,i,d,0,0)|0)+i|0;break}h=u+1|0,c=CD[t+868+(((h|0)==3?0:h)<<6)+56>>2]|0?(CD[t+868+(((u+2|0)%3|0)<<6)+56>>2]|0)==0&1:1,i=(Kb(t,d+16|0,r,o,n,a,s,l,e,i,d,0,c)|0)+i|0}while(0);u=u+1|0}while((u|0)!=3);return BD=d,i|0}function Kb(t,e,i,r,o,n,a,s,l,c,h,u,d){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,c|=0,h|=0,u|=0,d|=0;var p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0;if(x=XD(CD[l+24>>2]|0,c)|0,M=TD[e+44>>0]|0,T=CD[e+56>>2]|0,!(M<<24>>24!=0|(T|0)!=0))return x=0,x|0;C=CD[((u|0)!=0?l+12|0:l+8|0)>>2]|0,c=CD[((u|0)!=0?l+20|0:l+16|0)>>2]|0,RD[C+(x<<2)>>2]=+RD[h>>2],RD[C+(x+1<<2)>>2]=+RD[h+4>>2],RD[C+(x+2<<2)>>2]=+RD[h+8>>2],RD[c+(x<<2)>>2]=-+RD[h>>2],RD[c+(x+1<<2)>>2]=-+RD[h+4>>2],RD[c+(x+2<<2)>>2]=-+RD[h+8>>2];do if(!u){if(f=+RD[t+1176>>2],!(TD[t+1301>>0]|0)){_=f-+RD[i+48>>2],y=+RD[t+1180>>2]-+RD[i+52>>2],b=+RD[t+1184>>2]-+RD[i+56>>2],g=+RD[h+8>>2],f=+RD[h+4>>2],m=+RD[h>>2],C=CD[l+12>>2]|0,RD[C+(x<<2)>>2]=y*g-b*f,RD[C+(x+1<<2)>>2]=b*m-_*g,RD[C+(x+2<<2)>>2]=_*f-y*m,m=+RD[t+1176>>2]-+RD[r+48>>2],y=+RD[t+1180>>2]-+RD[r+52>>2],f=+RD[t+1184>>2]-+RD[r+56>>2],_=+RD[h+8>>2],g=+RD[h+4>>2],b=+RD[h>>2],C=CD[l+20>>2]|0,RD[C+(x<<2)>>2]=-(y*_-f*g),RD[C+(x+1<<2)>>2]=-(f*b-m*_),RD[C+(x+2<<2)>>2]=-(m*g-y*b);break}P=f-+RD[r+48>>2],R=+RD[t+1180>>2]-+RD[r+52>>2],A=+RD[t+1184>>2]-+RD[r+56>>2],D=+RD[h>>2],w=+RD[h+4>>2],E=+RD[h+8>>2],V=+RD[t+1112>>2]-+RD[i+48>>2],_=+RD[t+1116>>2]-+RD[i+52>>2],g=+RD[t+1120>>2]-+RD[i+56>>2],p=+RD[e+52>>2]-+RD[e+48>>2],B=D*(D*V+w*_+E*g)+D*p-D*(P*D+R*w+A*E),f=w*(D*V+w*_+E*g)+w*p-w*(P*D+R*w+A*E),p=E*(D*V+w*_+E*g)+E*p-E*(P*D+R*w+A*E),v=+RD[t+1272>>2],b=+RD[t+1276>>2],m=E*(_-w*(D*V+w*_+E*g)+v*f)-w*(g-E*(D*V+w*_+E*g)+v*p),y=D*(g-E*(D*V+w*_+E*g)+v*p)-E*(V-D*(D*V+w*_+E*g)+v*B),g=w*(V-D*(D*V+w*_+E*g)+v*B)-D*(_-w*(D*V+w*_+E*g)+v*f),_=E*(R-w*(P*D+R*w+A*E)-b*f)-w*(A-E*(P*D+R*w+A*E)-b*p),p=D*(A-E*(P*D+R*w+A*E)-b*p)-E*(P-D*(P*D+R*w+A*E)-b*B),f=w*(P-D*(P*D+R*w+A*E)-b*B)-D*(R-w*(P*D+R*w+A*E)-b*f),(d|0)!=0|(TD[t+1280>>0]|0)==0||(_=b*_,p=b*p,f=b*f,m=v*m,y=v*y,g=v*g),C=CD[l+12>>2]|0,RD[C+(x<<2)>>2]=m,RD[C+(x+1<<2)>>2]=y,RD[C+(x+2<<2)>>2]=g,C=CD[l+20>>2]|0,RD[C+(x<<2)>>2]=-_,RD[C+(x+1<<2)>>2]=-p,RD[C+(x+2<<2)>>2]=-f}while(0);((T|0)!=0?+RD[e>>2]==+RD[e+4>>2]:0)?(c=CD[l+28>>2]|0,RD[c+(x<<2)>>2]=0,r=l+28|0):S=11;do if((S|0)==11){if(c=CD[l+28>>2]|0,RD[c+(x<<2)>>2]=0,M<<24>>24){if(RD[(CD[l+32>>2]|0)+(x<<2)>>2]=+RD[e+28>>2],T){r=l+28|0;break}y=+RD[e+8>>2],p=u?y:-y,_=+RD[e+52>>2],m=+RD[e>>2],g=+RD[e+4>>2],f=+RD[l>>2]*+RD[e+32>>2];do if(m>g)f=1;else if(m!=g){if(f=p/f,f<0){if(_>=m&m-f>_){f=(m-_)/f;break}f=_<m?0:1;break}if(f>0){if(_<=g&g-f<_){f=(g-_)/f;break}f=_>g?0:1;break}f=0}else f=0;while(0);RD[c+(x<<2)>>2]=f*y+ +RD[c+(x<<2)>>2],RD[(CD[l+36>>2]|0)+(x<<2)>>2]=-+RD[e+12>>2],RD[(CD[l+40>>2]|0)+(x<<2)>>2]=+RD[e+12>>2]}if(!T)return C=1,C|0;r=l+28|0}while(0);return p=+RD[l>>2]*+RD[e+32>>2]*+RD[e+48>>2],c=c+(x<<2)|0,f=+RD[c>>2],u?f-=p:f=p+f,RD[c>>2]=f,RD[(CD[l+32>>2]|0)+(x<<2)>>2]=+RD[e+36>>2],+RD[e>>2]==+RD[e+4>>2]?(RD[(CD[l+36>>2]|0)+(x<<2)>>2]=-3.4028234663852886e38,RD[(CD[l+40>>2]|0)+(x<<2)>>2]=3.4028234663852886e38,C=1,C|0):(C=CD[l+40>>2]|0,RD[(CD[l+36>>2]|0)+(x<<2)>>2]=(T|0)==1?0:-3.4028234663852886e38,RD[C+(x<<2)>>2]=(T|0)==1?3.4028234663852886e38:0,f=+RD[e+40>>2],f>0?(u?(D=+RD[h>>2],V=+RD[h+4>>2],p=+RD[h+8>>2],p=+RD[a>>2]*D+ +RD[a+4>>2]*V+ +RD[a+8>>2]*p-(D*+RD[s>>2]+V*+RD[s+4>>2]+p*+RD[s+8>>2])):(D=+RD[h>>2],V=+RD[h+4>>2],p=+RD[h+8>>2],p=+RD[o>>2]*D+ +RD[o+4>>2]*V+ +RD[o+8>>2]*p-(D*+RD[n>>2]+V*+RD[n+4>>2]+p*+RD[n+8>>2])),(T|0)==1?p<0?(p=-(p*f),c=(CD[r>>2]|0)+(x<<2)|0,+RD[c>>2]<p?(RD[c>>2]=p,C=1,C|0):(C=1,C|0)):(C=1,C|0):p>0?(p=-(p*f),c=(CD[r>>2]|0)+(x<<2)|0,+RD[c>>2]>p?(RD[c>>2]=p,C=1,C|0):(C=1,C|0)):(C=1,C|0)):(C=1,C|0))}function Yb(t){t|=0;var e=0,i=0,r=0,o=0;e=+RD[(CD[t+28>>2]|0)+344>>2],i=+RD[(CD[t+32>>2]|0)+344>>2],i==0?e=1:e/=e+i,o=1-e,r=e*+RD[t+1116>>2]+o*+RD[t+1180>>2],i=e*+RD[t+1120>>2]+o*+RD[t+1184>>2],RD[t+1284>>2]=e*+RD[t+1112>>2]+o*+RD[t+1176>>2],RD[t+1288>>2]=r,RD[t+1292>>2]=i,RD[t+1296>>2]=0}function Qb(t,e,i,r){return t|=0,e|=0,i=+i,r|=0,r>>>0<3?(e|0)==3?(RD[t+740+(r<<2)>>2]=i,void(CD[t+1304>>2]=CD[t+1304>>2]|1<<r*3)):(e|0)==2?(RD[t+756+(r<<2)>>2]=i,void(CD[t+1304>>2]=CD[t+1304>>2]|4<<r*3)):(e|0)==4?(RD[t+772+(r<<2)>>2]=i,void(CD[t+1304>>2]=CD[t+1304>>2]|2<<r*3)):void 0:(r+-3|0)>>>0>=3?void 0:(e|0)==2?(RD[t+868+(r+-3<<6)+32>>2]=i,void(CD[t+1304>>2]=CD[t+1304>>2]|4<<r*3)):(e|0)==4?(RD[t+868+(r+-3<<6)+36>>2]=i,void(CD[t+1304>>2]=CD[t+1304>>2]|2<<r*3)):(e|0)==3?(RD[t+868+(r+-3<<6)+28>>2]=i,void(CD[t+1304>>2]=CD[t+1304>>2]|1<<r*3)):void 0}function Zb(t,e,i){t|=0,e|=0,i|=0;var r=0;do{if(i>>>0<3){if((e|0)==3){r=+RD[t+740+(i<<2)>>2];break}if((e|0)==2){r=+RD[t+756+(i<<2)>>2];break}if((e|0)==4){r=+RD[t+772+(i<<2)>>2];break}r=0;break}if((i+-3|0)>>>0<3){if((e|0)==3){r=+RD[t+868+(i+-3<<6)+28>>2];break}if((e|0)==2){r=+RD[t+868+(i+-3<<6)+32>>2];break}if((e|0)==4){r=+RD[t+868+(i+-3<<6)+36>>2];break}r=0;break}r=0}while(0);return+r}function $b(t,e){t|=0,e|=0;var i=0,r=0;return TD[t+1309>>0]|0&&(i=(+RD[t+1256>>2]-+RD[t+1316>>2])*+RD[t+1340>>2],RD[t+792>>2]=i*(+RD[e>>2]*+RD[t+1364>>2]/+(CD[e+48>>2]|0)),i=+JD(+i),RD[t+808>>2]=i/+RD[e>>2]),TD[t+1310>>0]|0&&(i=(+RD[t+1260>>2]-+RD[t+1320>>2])*+RD[t+1344>>2],RD[t+796>>2]=i*(+RD[e>>2]*+RD[t+1368>>2]/+(CD[e+48>>2]|0)),i=+JD(+i),RD[t+812>>2]=i/+RD[e>>2]),TD[t+1311>>0]|0&&(i=(+RD[t+1264>>2]-+RD[t+1324>>2])*+RD[t+1348>>2],RD[t+800>>2]=i*(+RD[e>>2]*+RD[t+1372>>2]/+(CD[e+48>>2]|0)),i=+JD(+i),RD[t+816>>2]=i/+RD[e>>2]),TD[t+1312>>0]|0&&(r=-((+RD[t+1192>>2]-+RD[t+1328>>2])*+RD[t+1352>>2]),i=+RD[e>>2],RD[t+876>>2]=i*+RD[t+1376>>2]/+(CD[e+48>>2]|0)*r,i=+JD(+r)/i,RD[t+880>>2]=i),TD[t+1313>>0]|0&&(i=-((+RD[t+1196>>2]-+RD[t+1332>>2])*+RD[t+1356>>2]),r=+RD[e>>2],RD[t+940>>2]=r*+RD[t+1380>>2]/+(CD[e+48>>2]|0)*i,r=+JD(+i)/r,RD[t+944>>2]=r),TD[t+1314>>0]|0?(i=-((+RD[t+1200>>2]-+RD[t+1336>>2])*+RD[t+1360>>2]),r=+RD[e>>2],RD[t+1004>>2]=r*+RD[t+1384>>2]/+(CD[e+48>>2]|0)*i,r=+JD(+i)/r,RD[t+1008>>2]=r,void Xb(t,e)):void Xb(t,e)}function tv(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0;y=+RD[e>>2],g=+RD[e+4>>2],m=+RD[e+8>>2],_=1/+ND(+(y*y+g*g+m*m)),S=+RD[i>>2],M=+RD[i+4>>2],v=+RD[i+8>>2],b=1/+ND(+(S*S+M*M+v*v)),C=m*_*M*b-g*_*v*b,x=y*_*v*b-m*_*S*b,T=g*_*S*b-y*_*M*b,i=CD[t+28>>2]|0,r=+RD[i+4>>2],n=+RD[i+20>>2],s=+RD[i+36>>2],o=+RD[i+8>>2],a=+RD[i+24>>2],l=+RD[i+40>>2],c=+RD[i+12>>2],u=+RD[i+28>>2],p=+RD[i+44>>2],h=-+RD[i+52>>2],d=-+RD[i+56>>2],f=-+RD[i+60>>2],RD[t+48>>2]=r*C+x*n+T*s,RD[t+52>>2]=S*b*r+M*b*n+v*b*s,RD[t+56>>2]=y*_*r+g*_*n+m*_*s,RD[t+60>>2]=0,RD[t+64>>2]=C*o+x*a+T*l,RD[t+68>>2]=S*b*o+M*b*a+v*b*l,RD[t+72>>2]=y*_*o+g*_*a+m*_*l,RD[t+76>>2]=0,RD[t+80>>2]=C*c+x*u+T*p,RD[t+84>>2]=S*b*c+M*b*u+v*b*p,RD[t+88>>2]=y*_*c+g*_*u+m*_*p,RD[t+92>>2]=0,RD[t+96>>2]=r*0+n*0+s*0+(r*h+n*d+s*f),RD[t+100>>2]=o*0+a*0+l*0+(o*h+a*d+l*f),RD[t+104>>2]=c*0+u*0+p*0+(c*h+u*d+p*f),RD[t+108>>2]=0,i=CD[t+32>>2]|0,f=+RD[i+4>>2],p=+RD[i+20>>2],d=+RD[i+36>>2],u=+RD[i+8>>2],h=+RD[i+24>>2],c=+RD[i+40>>2],l=+RD[i+12>>2],a=+RD[i+28>>2],o=+RD[i+44>>2],s=-+RD[i+52>>2],n=-+RD[i+56>>2],r=-+RD[i+60>>2],RD[t+112>>2]=C*f+x*p+T*d,RD[t+116>>2]=S*b*f+M*b*p+v*b*d,RD[t+120>>2]=y*_*f+g*_*p+m*_*d,RD[t+124>>2]=0,RD[t+128>>2]=C*u+x*h+T*c,RD[t+132>>2]=S*b*u+M*b*h+v*b*c,RD[t+136>>2]=y*_*u+g*_*h+m*_*c,RD[t+140>>2]=0,RD[t+144>>2]=C*l+x*a+T*o,RD[t+148>>2]=S*b*l+M*b*a+v*b*o,RD[t+152>>2]=y*_*l+g*_*a+m*_*o,RD[t+156>>2]=0,RD[t+160>>2]=f*0+p*0+d*0+(f*s+p*n+d*r),RD[t+164>>2]=u*0+h*0+c*0+(u*s+h*n+c*r),RD[t+168>>2]=l*0+a*0+o*0+(l*s+a*n+o*r),RD[t+172>>2]=0,jb(t,(CD[t+28>>2]|0)+4|0,(CD[t+32>>2]|0)+4|0)}function ev(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0;i=BD,BD=BD+144|0,RD[t+36>>2]=0,CD[i+128>>2]=0,CD[i+128+4>>2]=0,CD[i+128+8>>2]=0,CD[i+128+12>>2]=0,e=0;do r=i+128+(e<<2)|0,RD[r>>2]=1,o=CD[t+28>>2]|0,R=+RD[o+4>>2],RD[i+80>>2]=R,C=+RD[o+20>>2],RD[i+80+4>>2]=C,a=+RD[o+36>>2],RD[i+80+8>>2]=a,RD[i+80+12>>2]=0,w=+RD[o+8>>2],RD[i+80+16>>2]=w,x=+RD[o+24>>2],RD[i+80+20>>2]=x,g=+RD[o+40>>2],RD[i+80+24>>2]=g,RD[i+80+28>>2]=0,A=+RD[o+12>>2],RD[i+80+32>>2]=A,T=+RD[o+28>>2],RD[i+80+36>>2]=T,h=+RD[o+44>>2],RD[i+80+40>>2]=h,RD[i+80+44>>2]=0,n=CD[t+32>>2]|0,v=+RD[n+4>>2],RD[i+32>>2]=v,m=+RD[n+20>>2],RD[i+32+4>>2]=m,u=+RD[n+36>>2],RD[i+32+8>>2]=u,RD[i+32+12>>2]=0,b=+RD[n+8>>2],RD[i+32+16>>2]=b,_=+RD[n+24>>2],RD[i+32+20>>2]=_,c=+RD[n+40>>2],RD[i+32+24>>2]=c,RD[i+32+28>>2]=0,y=+RD[n+12>>2],RD[i+32+32>>2]=y,f=+RD[n+28>>2],RD[i+32+36>>2]=f,s=+RD[n+44>>2],RD[i+32+40>>2]=s,RD[i+32+44>>2]=0,M=+RD[t+300>>2],p=+RD[t+304>>2],l=+RD[t+308>>2],E=+RD[o+52>>2],S=+RD[o+56>>2],d=+RD[o+60>>2],RD[i+16>>2]=M*R+p*w+l*A+E-E,RD[i+16+4>>2]=M*C+p*x+l*T+S-S,RD[i+16+8>>2]=M*a+p*g+l*h+d-d,RD[i+16+12>>2]=0,d=+RD[t+316>>2],h=+RD[t+320>>2],l=+RD[t+324>>2],g=+RD[n+52>>2],p=+RD[n+56>>2],a=+RD[n+60>>2],RD[i>>2]=d*v+h*b+l*y+g-g,RD[i+4>>2]=d*m+h*_+l*f+p-p,RD[i+8>>2]=d*u+h*c+l*s+a-a,RD[i+12>>2]=0,n=CD[t+28>>2]|0,o=CD[t+32>>2]|0,n_(t+48+(e*84|0)|0,i+80|0,i+32|0,i+16|0,i,i+128|0,n+396|0,+RD[n+344>>2],o+396|0,+RD[o+344>>2]),RD[r>>2]=0,e=e+1|0;while((e|0)!=3);BD=i}function iv(t,e){t|=0,e|=0,t=(TD[t+344>>0]|0)==0?3:0,CD[e>>2]=t,CD[e+4>>2]=t}function rv(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0;return s=CD[t+28>>2]|0,l=CD[t+32>>2]|0,r=CD[e+8>>2]|0,RD[r>>2]=1,n=CD[e+24>>2]|0,RD[r+(n+1<<2)>>2]=1,RD[r+((n<<1)+2<<2)>>2]=1,c=+RD[t+300>>2],f=+RD[t+304>>2],o=+RD[t+308>>2],d=+RD[s+4>>2]*c+ +RD[s+8>>2]*f+ +RD[s+12>>2]*o,h=c*+RD[s+20>>2]+f*+RD[s+24>>2]+o*+RD[s+28>>2],o=c*+RD[s+36>>2]+f*+RD[s+40>>2]+o*+RD[s+44>>2],r=CD[e+12>>2]|0,RD[r>>2]=0,RD[r+4>>2]=o,RD[r+8>>2]=-h,RD[r+12>>2]=0,RD[r+(n<<2)>>2]=-o,RD[r+(n+1<<2)>>2]=0,RD[r+(n+2<<2)>>2]=d,RD[r+(n+3<<2)>>2]=0,RD[r+(n<<1<<2)>>2]=h,RD[r+((n<<1|1)<<2)>>2]=-d,RD[r+((n<<1)+2<<2)>>2]=0,RD[r+((n<<1)+3<<2)>>2]=0,r=CD[e+16>>2]|0,RD[r>>2]=-1,RD[r+(n+1<<2)>>2]=-1,RD[r+((n<<1)+2<<2)>>2]=-1,f=+RD[t+316>>2],c=+RD[t+320>>2],i=+RD[t+324>>2],p=+RD[l+4>>2]*f+ +RD[l+8>>2]*c+ +RD[l+12>>2]*i,u=f*+RD[l+20>>2]+c*+RD[l+24>>2]+i*+RD[l+28>>2],i=f*+RD[l+36>>2]+c*+RD[l+40>>2]+i*+RD[l+44>>2],n=CD[e+20>>2]|0,r=CD[e+24>>2]|0,RD[n>>2]=0,RD[n+4>>2]=-i,RD[n+8>>2]=u,RD[n+12>>2]=0,RD[n+(r<<2)>>2]=i,RD[n+(r+1<<2)>>2]=0,RD[n+(r+2<<2)>>2]=-p,RD[n+(r+3<<2)>>2]=0,RD[n+(r<<1<<2)>>2]=-u,RD[n+((r<<1|1)<<2)>>2]=p,RD[n+((r<<1)+2<<2)>>2]=0,RD[n+((r<<1)+3<<2)>>2]=0,n=CD[t+332>>2]|0,c=+RD[((n&1|0)==0?e+4|0:t+336|0)>>2]*+RD[e>>2],a=CD[e+28>>2]|0,RD[a>>2]=c*(p+ +RD[l+52>>2]-d-+RD[s+52>>2]),RD[a+(r<<2)>>2]=c*(u+ +RD[l+56>>2]-h-+RD[s+56>>2]),RD[a+(r<<1<<2)>>2]=c*(i+ +RD[l+60>>2]-o-+RD[s+60>>2]),n&2&&(l=CD[e+32>>2]|0,RD[l>>2]=+RD[t+340>>2],RD[l+(r<<2)>>2]=+RD[t+340>>2],RD[l+(r<<1<<2)>>2]=+RD[t+340>>2]),o=+RD[t+356>>2],o>0?(RD[CD[e+36>>2]>>2]=-o,RD[CD[e+40>>2]>>2]=o,i=+RD[t+356>>2]):i=o,i>0&&(RD[(CD[e+36>>2]|0)+(r<<2)>>2]=-o,RD[(CD[e+40>>2]|0)+(r<<2)>>2]=o,i=+RD[t+356>>2]),i>0?(RD[(CD[e+36>>2]|0)+(r<<1<<2)>>2]=-o,RD[(CD[e+40>>2]|0)+(r<<1<<2)>>2]=o,l=t+352|0,f=+RD[l>>2],l=e+52|0,void(RD[l>>2]=f)):(l=t+352|0,f=+RD[l>>2],l=e+52|0,void(RD[l>>2]=f))}function ov(t,e,i,r){return t|=0,e|=0,i=+i,r|=0,(r|0)==-1?(e|0)==2|(e|0)==1?(RD[t+336>>2]=i,void(CD[t+332>>2]=CD[t+332>>2]|1)):(e|0)==4|(e|0)==3?(RD[t+340>>2]=i,void(CD[t+332>>2]=CD[t+332>>2]|2)):void 0:void 0}function nv(t,e,i){t|=0,e|=0,i|=0;var r=0;do{if((i|0)==-1){if((e|0)==4|(e|0)==3){r=+RD[t+340>>2];break}if((e|0)==2|(e|0)==1){r=+RD[t+336>>2];break}r=3.4028234663852886e38;break}r=3.4028234663852886e38}while(0);return+r}function av(){var t=0,e=0,i=0;t=BD,BD=BD+16|0,((TD[3576]|0)==0?(KD(3576)|0)!=0:0)&&(CD[t>>2]=0,CD[t+4>>2]=0,CD[t+8>>2]=0,CD[t+12>>2]=0,yd(2960,0,0,0,t),QD(3576)),CD[791]=CD[791]|1,RD[826]=0,e=+RD[836]*0,i=+RD[837]*0,RD[831]=+RD[835]*0,RD[832]=e,RD[833]=i,RD[834]=0,CD[839]=0,CD[840]=0,CD[841]=0,CD[842]=0,i=+RD[828]*0,e=+RD[829]*0,RD[880]=+RD[827]*0,RD[881]=i,RD[882]=e,RD[883]=0,BD=t}function sv(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0;if(r=NP[CD[(CD[i>>2]|0)+28>>2]&31](i,CD[t+28>>2]|0)|0,CD[e>>2]=r,r=NP[CD[(CD[i>>2]|0)+28>>2]&31](i,CD[t+32>>2]|0)|0,CD[e+4>>2]=r,r=NP[CD[(CD[i>>2]|0)+40>>2]&31](i,t)|0,o=NP[CD[(CD[i>>2]|0)+28>>2]&31](i,r)|0,CD[e+8>>2]=o,o&&bP[CD[(CD[i>>2]|0)+48>>2]&127](i,r),CD[e+12>>2]=CD[t+4>>2],CD[e+24>>2]=ED[t+21>>0],CD[e+40>>2]=CD[t+24>>2],RD[e+44>>2]=+RD[t+16>>2],CD[e+48>>2]=ED[t+20>>0],CD[e+20>>2]=CD[t+12>>2],CD[e+16>>2]=CD[t+8>>2],RD[e+28>>2]=+RD[t+36>>2],RD[e+32>>2]=+RD[t+40>>2],CD[e+36>>2]=0,r=CD[t+28>>2]|0,(CD[r+488>>2]|0)>0){i=0;do(CD[(CD[r+496>>2]|0)+(i<<2)>>2]|0)==(t|0)&&(CD[e+36>>2]=1,r=CD[t+28>>2]|0),i=i+1|0;while((i|0)<(CD[r+488>>2]|0))}if(r=CD[t+32>>2]|0,!((CD[r+488>>2]|0)>0))return 2928;i=0;do(CD[(CD[r+496>>2]|0)+(i<<2)>>2]|0)==(t|0)&&(CD[e+36>>2]=1,r=CD[t+32>>2]|0),i=i+1|0;while((i|0)<(CD[r+488>>2]|0));return 2928}function lv(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0;return a=BD,BD=BD+256|0,((TD[t+180>>0]|0)==0?(TD[t+48>>0]|0)!=0:0)?(i_(a+64|0,i,t+116|0),CD[t+824>>2]=CD[a+64>>2],CD[t+824+4>>2]=CD[a+64+4>>2],CD[t+824+8>>2]=CD[a+64+8>>2],CD[t+824+12>>2]=CD[a+64+12>>2],CD[t+840>>2]=CD[a+64+16>>2],CD[t+840+4>>2]=CD[a+64+16+4>>2],CD[t+840+8>>2]=CD[a+64+16+8>>2],CD[t+840+12>>2]=CD[a+64+16+12>>2],CD[t+856>>2]=CD[a+64+32>>2],CD[t+856+4>>2]=CD[a+64+32+4>>2],CD[t+856+8>>2]=CD[a+64+32+8>>2],CD[t+856+12>>2]=CD[a+64+32+12>>2],CD[t+872>>2]=CD[a+64+48>>2],CD[t+872+4>>2]=CD[a+64+48+4>>2],CD[t+872+8>>2]=CD[a+64+48+8>>2],CD[t+872+12>>2]=CD[a+64+48+12>>2],i_(a,e,t+52|0),CD[t+888>>2]=CD[a>>2],CD[t+888+4>>2]=CD[a+4>>2],CD[t+888+8>>2]=CD[a+8>>2],CD[t+888+12>>2]=CD[a+12>>2],CD[t+904>>2]=CD[a+16>>2],CD[t+904+4>>2]=CD[a+16+4>>2],CD[t+904+8>>2]=CD[a+16+8>>2],CD[t+904+12>>2]=CD[a+16+12>>2],CD[t+920>>2]=CD[a+32>>2],CD[t+920+4>>2]=CD[a+32+4>>2],CD[t+920+8>>2]=CD[a+32+8>>2],CD[t+920+12>>2]=CD[a+32+12>>2],CD[t+936>>2]=CD[a+48>>2],CD[t+936+4>>2]=CD[a+48+4>>2],CD[t+936+8>>2]=CD[a+48+8>>2],CD[t+936+12>>2]=CD[a+48+12>>2]):(i_(a+192|0,e,t+52|0),CD[t+824>>2]=CD[a+192>>2],CD[t+824+4>>2]=CD[a+192+4>>2],CD[t+824+8>>2]=CD[a+192+8>>2],CD[t+824+12>>2]=CD[a+192+12>>2],CD[t+840>>2]=CD[a+192+16>>2],CD[t+840+4>>2]=CD[a+192+16+4>>2],CD[t+840+8>>2]=CD[a+192+16+8>>2],CD[t+840+12>>2]=CD[a+192+16+12>>2],CD[t+856>>2]=CD[a+192+32>>2],CD[t+856+4>>2]=CD[a+192+32+4>>2],CD[t+856+8>>2]=CD[a+192+32+8>>2],CD[t+856+12>>2]=CD[a+192+32+12>>2],CD[t+872>>2]=CD[a+192+48>>2],CD[t+872+4>>2]=CD[a+192+48+4>>2],CD[t+872+8>>2]=CD[a+192+48+8>>2],CD[t+872+12>>2]=CD[a+192+48+12>>2],i_(a+128|0,i,t+116|0),CD[t+888>>2]=CD[a+128>>2],CD[t+888+4>>2]=CD[a+128+4>>2],CD[t+888+8>>2]=CD[a+128+8>>2],CD[t+888+12>>2]=CD[a+128+12>>2],CD[t+904>>2]=CD[a+128+16>>2],CD[t+904+4>>2]=CD[a+128+16+4>>2],CD[t+904+8>>2]=CD[a+128+16+8>>2],CD[t+904+12>>2]=CD[a+128+16+12>>2],CD[t+920>>2]=CD[a+128+32>>2],CD[t+920+4>>2]=CD[a+128+32+4>>2],CD[t+920+8>>2]=CD[a+128+32+8>>2],CD[t+920+12>>2]=CD[a+128+32+12>>2],CD[t+936>>2]=CD[a+128+48>>2],CD[t+936+4>>2]=CD[a+128+48+4>>2],CD[t+936+8>>2]=CD[a+128+48+8>>2],CD[t+936+12>>2]=CD[a+128+48+12>>2]),CD[t+968>>2]=CD[t+872>>2],CD[t+968+4>>2]=CD[t+872+4>>2],CD[t+968+8>>2]=CD[t+872+8>>2],CD[t+968+12>>2]=CD[t+872+12>>2],CD[t+984>>2]=CD[t+936>>2],CD[t+984+4>>2]=CD[t+936+4>>2],CD[t+984+8>>2]=CD[t+936+8>>2],CD[t+984+12>>2]=CD[t+936+12>>2],r=+RD[t+824>>2],o=+RD[t+840>>2],n=+RD[t+856>>2],RD[t+952>>2]=r,RD[t+956>>2]=o,RD[t+960>>2]=n,RD[t+964>>2]=0,((TD[t+180>>0]|0)==0?(TD[t+48>>0]|0)==0:0)?(f=+RD[t+968>>2],c=f-+RD[t+984>>2],p=+RD[t+972>>2],l=p-+RD[t+988>>2],d=+RD[t+976>>2],s=d-+RD[t+992>>2],RD[t+1016>>2]=c,RD[t+1020>>2]=l,RD[t+1024>>2]=s,RD[t+1028>>2]=0,u=r*c,_=o*l,_=u+_,u=n*s,u=_+u,r*=u,o*=u,n*=u,r=f+r,o=p+o,n=d+n,i=t+1e3|0,RD[i>>2]=r,i=t+1004|0,RD[i>>2]=o,i=t+1008|0,RD[i>>2]=n,i=t+1012|0,RD[i>>2]=0,i=t+1032|0,RD[i>>2]=u,i=t+828|0,e=t+844|0,h=t+860|0,n=+RD[i>>2],o=+RD[e>>2],r=+RD[h>>2],n*=c,o*=l,o=n+o,r*=s,r=o+r,h=t+1036|0,RD[h>>2]=r,h=t+832|0,e=t+848|0,i=t+864|0,r=+RD[h>>2],o=+RD[e>>2],n=+RD[i>>2],r*=c,o*=l,o=r+o,n*=s,n=o+n,i=t+1040|0,RD[i>>2]=n,void(BD=a)):(m=+RD[t+968>>2],_=+RD[t+984>>2]-m,p=+RD[t+972>>2],u=+RD[t+988>>2]-p,s=+RD[t+976>>2],d=+RD[t+992>>2]-s,RD[t+1016>>2]=_,RD[t+1020>>2]=u,RD[t+1024>>2]=d,RD[t+1028>>2]=0,c=r*_,f=o*u,f=c+f,c=n*d,c=f+c,f=r*c,l=o*c,n*=c,f=m+f,l=p+l,n=s+n,i=t+1e3|0,RD[i>>2]=f,i=t+1004|0,RD[i>>2]=l,i=t+1008|0,RD[i>>2]=n,i=t+1012|0,RD[i>>2]=0,i=t+1032|0,RD[i>>2]=c,i=t+828|0,h=t+844|0,e=t+860|0,c=+RD[i>>2],n=+RD[h>>2],l=+RD[e>>2],c*=_,n*=u,n=c+n,l*=d,l=n+l,e=t+1036|0,RD[e>>2]=l,e=t+832|0,h=t+848|0,i=t+864|0,l=+RD[e>>2],n=+RD[h>>2],c=+RD[i>>2],_=l*_,u=n*u,u=_+u,d=c*d,d=u+d,i=t+1040|0,RD[i>>2]=d,void(BD=a))}function cv(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0;if(TD[t+48>>0]|0)return CD[e>>2]=0,void(CD[e+4>>2]=0);CD[e>>2]=4,CD[e+4>>2]=2,lv(t,(CD[t+28>>2]|0)+4|0,(CD[t+32>>2]|0)+4|0),RD[t+1088>>2]=0,TD[t+297>>0]=0,r=+RD[t+192>>2],o=+RD[t+196>>2];do if(r<=o){if(l=+RD[t+892>>2],s=+RD[t+908>>2],n=+RD[t+924>>2],n=+a_(+WD(+(+RD[t+832>>2]*l+ +RD[t+848>>2]*s+ +RD[t+864>>2]*n),+(+RD[t+828>>2]*l+ +RD[t+844>>2]*s+ +RD[t+860>>2]*n)),r,o),RD[t+1084>>2]=n,n<r){RD[t+1088>>2]=n-r,TD[t+297>>0]=1,a=1;break}n>o?(RD[t+1088>>2]=n-o,TD[t+297>>0]=1,a=1):a=0}else a=0;while(0);TD[t+296>>0]=0,n=+RD[t+1032>>2],RD[t+1080>>2]=n,o=+RD[t+184>>2],r=+RD[t+188>>2];do if(o<=r){if(n>r){RD[t+1032>>2]=n-r,TD[t+296>>0]=1,i=14;break}n<o?(RD[t+1032>>2]=n-o,TD[t+296>>0]=1,i=14):i=13}else i=13;while(0);((i|0)==13?(RD[t+1032>>2]=0,(TD[t+1096>>0]|0)!=0):0)&&(i=14),(i|0)==14&&(CD[e>>2]=(CD[e>>2]|0)+1,CD[e+4>>2]=(CD[e+4>>2]|0)+-1),(a<<24>>24==0?(TD[t+1112>>0]|0)==0:0)||(CD[e>>2]=(CD[e>>2]|0)+1,CD[e+4>>2]=(CD[e+4>>2]|0)+-1)}function hv(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0,N=0,F=0,G=0,z=0,j=0,U=0,W=0;F=CD[t+28>>2]|0,z=CD[t+32>>2]|0,o=+RD[F+344>>2],i=+RD[z+344>>2],_=CD[e+24>>2]|0,G=(TD[t+180>>0]|0)!=0?1:-1,H=+RD[t+936>>2]-+RD[t+872>>2],I=+RD[t+940>>2]-+RD[t+876>>2],O=+RD[t+944>>2]-+RD[t+880>>2],n=o<1.1920928955078125e-7?1:i<1.1920928955078125e-7,N=o+i>0?i/(o+i):.5,J=1-N,o=+RD[t+824>>2],s=+RD[t+840>>2],i=+RD[t+856>>2],y=+RD[t+888>>2],b=+RD[t+904>>2],v=+RD[t+920>>2],r=(TD[t+49>>0]|0)==0;do{if(!r){if(u=N*o+J*y,h=N*s+J*b,c=N*i+J*v,l=1/+ND(+(u*u+h*h+c*c)),+JD(+(c*l))>.7071067690849304){p=1/+ND(+(c*l*c*l+h*l*h*l)),j=u*l,U=h*l,W=c*l,a=0,B=h*l*p,P=-(c*l*p),R=(c*l*c*l+h*l*h*l)*p,x=u*l*-(c*l*p),p=-(u*l*h*l*p);break}p=1/+ND(+(u*l*u*l+h*l*h*l)),j=u*l,U=h*l,W=c*l,a=-(h*l*p),B=0,P=u*l*p,R=-(c*l*u*l*p),x=(u*l*u*l+h*l*h*l)*p,p=c*l*-(h*l*p);break}j=o,U=s,W=i,a=+RD[t+828>>2],B=+RD[t+860>>2],P=+RD[t+844>>2],R=+RD[t+832>>2],x=+RD[t+864>>2],p=+RD[t+848>>2]}while(0);if(d=CD[e+12>>2]|0,RD[d>>2]=a,RD[d+4>>2]=P,RD[d+8>>2]=B,RD[d+(_<<2)>>2]=R,RD[d+(_+1<<2)>>2]=p,RD[d+(_+2<<2)>>2]=x,h=-a,g=CD[e+20>>2]|0,RD[g>>2]=h,c=-P,RD[g+4>>2]=c,l=-B,RD[g+8>>2]=l,M=-R,RD[g+(_<<2)>>2]=M,S=-p,RD[g+(_+1<<2)>>2]=S,T=-x,RD[g+(_+2<<2)>>2]=T,f=CD[t+300>>2]|0,u=+RD[t+280>>2],f&128||(u*=+RD[e+4>>2]),V=u*+RD[e>>2],k=CD[e+28>>2]|0,RD[k>>2]=V*((s*v-i*b)*a+(i*y-o*v)*P+(o*b-s*y)*B),RD[k+(_<<2)>>2]=V*((s*v-i*b)*R+(i*y-o*v)*p+(o*b-s*y)*x),f&64&&(k=CD[e+32>>2]|0,RD[k>>2]=+RD[t+292>>2],RD[k+(_<<2)>>2]=+RD[t+292>>2]),i=+RD[F+52>>2],y=+RD[F+56>>2],s=+RD[F+60>>2],b=+RD[z+52>>2],u=+RD[z+56>>2],o=+RD[z+60>>2],r?(v=(u-y)*B-(o-s)*P,V=(o-s)*a-(b-i)*B,E=(b-i)*P-(u-y)*a,RD[d+(_<<1<<2)>>2]=N*v,RD[d+((_<<1|1)<<2)>>2]=N*V,RD[d+((_<<1)+2<<2)>>2]=N*E,RD[g+(_<<1<<2)>>2]=J*v,RD[g+((_<<1|1)<<2)>>2]=J*V,RD[g+((_<<1)+2<<2)>>2]=J*E,E=(u-y)*x-(o-s)*p,V=(o-s)*R-(b-i)*x,v=(b-i)*p-(u-y)*R,RD[d+(_*3<<2)>>2]=N*E,RD[d+((_*3|0)+1<<2)>>2]=N*V,RD[d+((_*3|0)+2<<2)>>2]=N*v,RD[g+(_*3<<2)>>2]=J*E,RD[g+((_*3|0)+1<<2)>>2]=J*V,RD[g+((_*3|0)+2<<2)>>2]=J*v,r=CD[e+8>>2]|0,RD[r+(_<<1<<2)>>2]=a,RD[r+((_<<1|1)<<2)>>2]=P,RD[r+((_<<1)+2<<2)>>2]=B,r=CD[e+8>>2]|0,RD[r+(_*3<<2)>>2]=R,RD[r+((_*3|0)+1<<2)>>2]=p,RD[r+((_*3|0)+2<<2)>>2]=x,r=CD[e+16>>2]|0,RD[r+(_<<1<<2)>>2]=h,RD[r+((_<<1|1)<<2)>>2]=c,RD[r+((_<<1)+2<<2)>>2]=l,RD[r+(_*3<<2)>>2]=M,RD[r+((_*3|0)+1<<2)>>2]=S,RD[r+((_*3|0)+2<<2)>>2]=T,v=x,V=0,S=0,x=0,E=0,w=0,C=0,y=u-y,M=o-s,T=b-i,l=B,c=P,h=R):(B=+RD[t+936>>2]-b,E=+RD[t+940>>2]-u,A=+RD[t+944>>2]-o,w=j*B+U*E+W*A,R=j*w,C=U*w,w=W*w,P=+RD[t+872>>2]-i,v=+RD[t+876>>2]-y,V=+RD[t+880>>2]-s,h=j*P+U*v+W*V,u=j*h,c=U*h,h=W*h,b=+RD[t+1080>>2]-+RD[t+1032>>2],y=u+j*b-R,M=c+U*b-C,b=h+W*b-w,x=P-u+N*y,T=v-c+N*M,S=V-h+N*b,u=N*(B-R)+J*(P-u),c=N*(E-C)+J*(v-c),h=N*(A-w)+J*(V-h),u*u+c*c+h*h>1.1920928955078125e-7?(P=1/+ND(+(u*u+c*c+h*h)),i=u*P,D=P*h,P*=c):(i=+RD[t+828>>2],D=+RD[t+860>>2],P=+RD[t+844>>2]),h=U*D-W*P,p=W*i-j*D,v=j*P-U*i,RD[d+(_<<1<<2)>>2]=T*D-S*P,RD[d+((_<<1|1)<<2)>>2]=S*i-x*D,RD[d+((_<<1)+2<<2)>>2]=x*P-T*i,d=CD[e+20>>2]|0,RD[d+(_<<1<<2)>>2]=-((E-C-J*M)*D-(A-w-J*b)*P),RD[d+((_<<1|1)<<2)>>2]=-((A-w-J*b)*i-(B-R-J*y)*D),RD[d+((_<<1)+2<<2)>>2]=-((B-R-J*y)*P-(E-C-J*M)*i),u=(E-C-J*M)*v-(A-w-J*b)*p,c=(A-w-J*b)*h-(B-R-J*y)*v,l=(B-R-J*y)*p-(E-C-J*M)*h,(n?(TD[t+297>>0]|0)!=0:0)?(u=J*u,c=J*c,l=J*l,a=N*(T*v-S*p),o=N*(x*p-T*h),s=N*(S*h-x*v)):(a=T*v-S*p,o=x*p-T*h,s=S*h-x*v),r=CD[e+12>>2]|0,RD[r+(_*3<<2)>>2]=a,RD[r+((_*3|0)+1<<2)>>2]=s,RD[r+((_*3|0)+2<<2)>>2]=o,r=CD[e+20>>2]|0,RD[r+(_*3<<2)>>2]=-u,RD[r+((_*3|0)+1<<2)>>2]=-c,RD[r+((_*3|0)+2<<2)>>2]=-l,r=CD[e+8>>2]|0,RD[r+(_<<1<<2)>>2]=i,RD[r+((_<<1|1)<<2)>>2]=P,RD[r+((_<<1)+2<<2)>>2]=D,r=CD[e+8>>2]|0,RD[r+(_*3<<2)>>2]=h,RD[r+((_*3|0)+1<<2)>>2]=p,RD[r+((_*3|0)+2<<2)>>2]=v,r=CD[e+16>>2]|0,RD[r+(_<<1<<2)>>2]=-i,RD[r+((_<<1|1)<<2)>>2]=-P,RD[r+((_<<1)+2<<2)>>2]=-D,RD[r+(_*3<<2)>>2]=-h,RD[r+((_*3|0)+1<<2)>>2]=-p,RD[r+((_*3|0)+2<<2)>>2]=-v,V=T,E=E-C-J*M,w=A-w-J*b,C=B-R-J*y,y=0,M=0,T=0,a=i,l=D,c=P),L=CD[t+300>>2]|0,u=+RD[t+264>>2],L&32||(u*=+RD[e+4>>2]),B=u*+RD[e>>2],k=CD[e+28>>2]|0,RD[k+(_<<1<<2)>>2]=B*(H*a+I*c+O*l),RD[k+(_*3<<2)>>2]=B*(H*h+I*p+O*v),L&16&&(d=CD[e+32>>2]|0,RD[d+(_<<1<<2)>>2]=+RD[t+276>>2],RD[d+(_*3<<2)>>2]=+RD[t+276>>2]),TD[t+296>>0]|0?(p=G*+RD[t+1032>>2],g=p>0?2:1):(g=0,p=0),f=TD[t+1096>>0]|0,_=(g|0)!=0,f&255|g){if(m=CD[e+24>>2]<<2,d=CD[e+8>>2]|0,RD[d+(m<<2)>>2]=j,RD[d+((m|1)<<2)>>2]=U,RD[d+((m|2)<<2)>>2]=W,RD[r+(m<<2)>>2]=-j,RD[r+((m|1)<<2)>>2]=-U,RD[r+((m|2)<<2)>>2]=-W,TD[t+49>>0]|0?n||(d=CD[e+12>>2]|0,RD[d+(m<<2)>>2]=W*V-U*S,RD[d+((m|1)<<2)>>2]=j*S-W*x,RD[d+((m|2)<<2)>>2]=U*x-j*V,d=CD[e+20>>2]|0,RD[d+(m<<2)>>2]=-(W*E-U*w),RD[d+((m|1)<<2)>>2]=-(j*w-W*C),RD[d+((m|2)<<2)>>2]=-(U*C-j*E)):(H=W*y-U*M,I=j*M-W*T,O=U*T-j*y,d=CD[e+12>>2]|0,RD[d+(m<<2)>>2]=N*H,RD[d+((m|1)<<2)>>2]=N*I,RD[d+((m|2)<<2)>>2]=N*O,d=CD[e+20>>2]|0,RD[d+(m<<2)>>2]=J*H,RD[d+((m|1)<<2)>>2]=J*I,RD[d+((m|2)<<2)>>2]=J*O),d=+RD[t+184>>2]==+RD[t+188>>2],RD[k+(m<<2)>>2]=0,n=(CD[e+36>>2]|0)+(m<<2)|0,RD[n>>2]=0,r=(CD[e+40>>2]|0)+(m<<2)|0,RD[r>>2]=0,s=+RD[((L&512|0)==0?e+4|0:t+232|0)>>2],!(f<<24>>24==0|_&d)){L&1&&(RD[(CD[e+32>>2]|0)+(m<<2)>>2]=+RD[t+212>>2]),o=+RD[t+1100>>2],u=+RD[t+1080>>2],h=+RD[t+184>>2],c=+RD[t+188>>2],l=s*+RD[e>>2];
do if(h>c)a=1;else if(h!=c){if(o/l<0){if(u>=h?h-o/l>u:0){a=(h-u)/(o/l);break}a=u<h?0:1;break}if(o/l>0){if(u<=c?c-o/l<u:0){a=(c-u)/(o/l);break}a=u>c?0:1;break}a=0}else a=0;while(0);RD[k+(m<<2)>>2]=+RD[k+(m<<2)>>2]-G*a*o,RD[n>>2]=+RD[n>>2]-+RD[t+1104>>2]*+RD[e>>2],RD[r>>2]=+RD[t+1104>>2]*+RD[e>>2]+ +RD[r>>2]}if(_){RD[k+(m<<2)>>2]=+RD[k+(m<<2)>>2]+p*s*+RD[e>>2],L&256&&(RD[(CD[e+32>>2]|0)+(m<<2)>>2]=+RD[t+244>>2]);do{if(!d){if((g|0)==1){RD[n>>2]=-3.4028234663852886e38,RD[r>>2]=0;break}RD[n>>2]=0,RD[r>>2]=3.4028234663852886e38;break}RD[n>>2]=-3.4028234663852886e38,RD[r>>2]=3.4028234663852886e38}while(0);N=1-+RD[t+240>>2],i=+JD(+N);do if(!(N!=N|!1|N==0)){if(o=G*(j*+RD[F+312>>2]+U*+RD[F+316>>2]+W*+RD[F+320>>2]-(j*+RD[z+312>>2]+U*+RD[z+316>>2]+W*+RD[z+320>>2])),(g|0)==1){if(!(o<0))break;if(!(+RD[k+(m<<2)>>2]<-(i*o)))break;RD[k+(m<<2)>>2]=-(i*o);break}if(!(o>0))break;if(!(+RD[k+(m<<2)>>2]>-(i*o)))break;RD[k+(m<<2)>>2]=-(i*o);break}while(0);RD[k+(m<<2)>>2]=+RD[t+232>>2]*+RD[k+(m<<2)>>2],n=5}else n=5}else n=4;if(TD[t+297>>0]|0?(p=+RD[t+1088>>2],_=p>0?1:2):(_=0,p=0),r=TD[t+1112>>0]|0,d=(_|0)!=0,r&255|_){if(f=XD(CD[e+24>>2]|0,n)|0,z=CD[e+12>>2]|0,RD[z+(f<<2)>>2]=j,RD[z+(f+1<<2)>>2]=U,RD[z+(f+2<<2)>>2]=W,z=CD[e+20>>2]|0,RD[z+(f<<2)>>2]=-j,RD[z+(f+1<<2)>>2]=-U,RD[z+(f+2<<2)>>2]=-W,c=+RD[t+192>>2],h=+RD[t+196>>2],u=+RD[((L&2048|0)==0?e+4|0:t+248|0)>>2],!(r<<24>>24==0|d&c==h)){L&4?(RD[(CD[e+32>>2]|0)+(f<<2)>>2]=+RD[t+228>>2],a=+RD[t+192>>2],s=+RD[t+196>>2]):(a=c,s=h),o=+RD[t+1084>>2],l=+RD[t+1116>>2],i=u*+RD[e>>2];do if(a>s)o=1;else if(a!=s){if(l/i<0){if(o>=a?a-l/i>o:0){o=(a-o)/(l/i);break}o=o<a?0:1;break}if(l/i>0){if(o<=s?s-l/i<o:0){o=(s-o)/(l/i);break}o=o>s?0:1;break}o=0}else o=0;while(0);RD[k+(f<<2)>>2]=o*l,RD[(CD[e+36>>2]|0)+(f<<2)>>2]=-(+RD[t+1120>>2]*+RD[e>>2]),RD[(CD[e+40>>2]|0)+(f<<2)>>2]=+RD[t+1120>>2]*+RD[e>>2]}if(d){RD[k+(f<<2)>>2]=+RD[k+(f<<2)>>2]+p*u*+RD[e>>2],L&1024&&(RD[(CD[e+32>>2]|0)+(f<<2)>>2]=+RD[t+260>>2]);do{if(c!=h){if(n=(CD[e+36>>2]|0)+(f<<2)|0,r=CD[e+40>>2]|0,(_|0)==1){RD[n>>2]=0,RD[r+(f<<2)>>2]=3.4028234663852886e38;break}RD[n>>2]=-3.4028234663852886e38,RD[r+(f<<2)>>2]=0;break}RD[(CD[e+36>>2]|0)+(f<<2)>>2]=-3.4028234663852886e38,RD[(CD[e+40>>2]|0)+(f<<2)>>2]=3.4028234663852886e38}while(0);G=1-+RD[t+256>>2],o=+JD(+G);do if(!(G!=G|!1|G==0)){if(z=CD[t+28>>2]|0,e=CD[t+32>>2]|0,i=j*+RD[z+328>>2]+U*+RD[z+332>>2]+W*+RD[z+336>>2]-(j*+RD[e+328>>2]+U*+RD[e+332>>2]+W*+RD[e+336>>2]),(_|0)==1){if(!(i<0))break;if(!(+RD[k+(f<<2)>>2]<-(o*i)))break;RD[k+(f<<2)>>2]=-(o*i);break}if(!(i>0))break;if(!(+RD[k+(f<<2)>>2]>-(o*i)))break;RD[k+(f<<2)>>2]=-(o*i);break}while(0);RD[k+(f<<2)>>2]=+RD[t+248>>2]*+RD[k+(f<<2)>>2]}}}function uv(t,e,i,r){if(t|=0,e|=0,i=+i,r|=0,(e|0)==4){if((r|0)<1)return RD[t+244>>2]=i,void(CD[t+300>>2]=CD[t+300>>2]|256);if((r|0)<3)return RD[t+276>>2]=i,void(CD[t+300>>2]=CD[t+300>>2]|16);if((r|0)==3)return RD[t+260>>2]=i,void(CD[t+300>>2]=CD[t+300>>2]|1024);if((r|0)>=6)return;return RD[t+292>>2]=i,void(CD[t+300>>2]=CD[t+300>>2]|64)}if((e|0)==3){if((r|0)<1)return RD[t+212>>2]=i,void(CD[t+300>>2]=CD[t+300>>2]|1);if((r|0)!=3)return;return RD[t+228>>2]=i,void(CD[t+300>>2]=CD[t+300>>2]|4)}if((e|0)==2){if((r|0)<1)return RD[t+232>>2]=i,void(CD[t+300>>2]=CD[t+300>>2]|512);if((r|0)<3)return RD[t+264>>2]=i,void(CD[t+300>>2]=CD[t+300>>2]|32);if((r|0)==3)return RD[t+248>>2]=i,void(CD[t+300>>2]=CD[t+300>>2]|2048);if((r|0)>=6)return;return RD[t+280>>2]=i,void(CD[t+300>>2]=CD[t+300>>2]|128)}}function dv(t,e,i){t|=0,e|=0,i|=0;var r=0;do if((e|0)==2){if((i|0)<1){r=+RD[t+232>>2];break}if((i|0)<3){r=+RD[t+264>>2];break}if((i|0)==3){r=+RD[t+248>>2];break}r=(i|0)<6?+RD[t+280>>2]:3.4028234663852886e38}else if((e|0)==3){if((i|0)<1){r=+RD[t+212>>2];break}r=(i|0)==3?+RD[t+228>>2]:3.4028234663852886e38}else if((e|0)==4){if((i|0)<1){r=+RD[t+244>>2];break}if((i|0)<3){r=+RD[t+276>>2];break}if((i|0)==3){r=+RD[t+260>>2];break}r=(i|0)<6?+RD[t+292>>2]:3.4028234663852886e38}else r=3.4028234663852886e38;while(0);return+r}function pv(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0;return TD[t+527>>0]|0?(CD[e>>2]=0,void(CD[e+4>>2]=0)):(CD[e>>2]=3,CD[e+4>>2]=3,a=CD[t+28>>2]|0,n=CD[t+32>>2]|0,fv(t,a+4|0,n+4|0,a+264|0,n+264|0),(((TD[t+526>>0]|0)!=0?(i=CD[e>>2]|0,CD[e>>2]=i+1,r=CD[e+4>>2]|0,CD[e+4>>2]=r+-1,o=+RD[t+456>>2],+RD[t+444>>2]<o):0)?+RD[t+448>>2]<o:0)&&(CD[e>>2]=i+2,CD[e+4>>2]=r+-2),void(TD[t+525>>0]|0&&(CD[e>>2]=(CD[e>>2]|0)+1,CD[e+4>>2]=(CD[e+4>>2]|0)+-1)))}function fv(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0,N=0,F=0,G=0,z=0,j=0,U=0,W=0,X=0,q=0,K=0,Y=0,Q=0,Z=0,$=0,te=0,ee=0;if(ee=BD,BD=BD+272|0,RD[t+504>>2]=0,RD[t+500>>2]=0,TD[t+525>>0]=0,TD[t+526>>0]=0,(TD[t+552>>0]|0)!=0?(TD[t+527>>0]|0)==0:0)return X=+RD[t+556>>2],N=+RD[t+560>>2],q=+RD[t+564>>2],F=+RD[t+568>>2],z=X*(2/(X*X+N*N+q*q+F*F)),$=N*(2/(X*X+N*N+q*q+F*F)),j=q*(2/(X*X+N*N+q*q+F*F)),i_(ee+16|0,e,t+300|0),i_(ee+160|0,i,t+364|0),T=+RD[ee+160>>2],x=+RD[ee+160+4>>2],s=+RD[ee+160+8>>2],V=(1-(N*$+q*j))*T+(X*$+F*j)*x+(X*j-F*$)*s,k=(X*$-F*j)*T+(1-(X*z+q*j))*x+(N*j+F*z)*s,H=(X*j+F*$)*T+(N*j-F*z)*x+(1-(X*z+N*$))*s,C=+RD[ee+160+16>>2],E=+RD[ee+160+20>>2],a=+RD[ee+160+24>>2],I=(1-(N*$+q*j))*C+(X*$+F*j)*E+(X*j-F*$)*a,O=(X*$-F*j)*C+(1-(X*z+q*j))*E+(N*j+F*z)*a,J=(X*j+F*$)*C+(N*j-F*z)*E+(1-(X*z+N*$))*a,w=+RD[ee+160+32>>2],R=+RD[ee+160+36>>2],D=+RD[ee+160+40>>2],W=(1-(N*$+q*j))*w+(X*$+F*j)*R+(X*j-F*$)*D,q=(X*$-F*j)*w+(1-(X*z+q*j))*R+(N*j+F*z)*D,$=(X*j+F*$)*w+(N*j-F*z)*R+(1-(X*z+N*$))*D,N=+RD[ee+16>>2],z=+RD[ee+16+16>>2],X=+RD[ee+16+32>>2],F=+RD[ee+16+4>>2],j=+RD[ee+16+20>>2],K=+RD[ee+16+36>>2],G=+RD[ee+16+8>>2],U=+RD[ee+16+24>>2],te=+RD[ee+16+40>>2],P=-+RD[ee+16+48>>2],B=-+RD[ee+16+52>>2],n=-+RD[ee+16+56>>2],s=T*0+x*0+s*0+ +RD[ee+160+48>>2]+(H*(G*P+U*B+te*n)+(V*(N*P+z*B+X*n)+k*(F*P+j*B+K*n))),a=C*0+E*0+a*0+ +RD[ee+160+52>>2]+(J*(G*P+U*B+te*n)+(I*(N*P+z*B+X*n)+O*(F*P+j*B+K*n))),n=w*0+R*0+D*0+ +RD[ee+160+56>>2]+($*(G*P+U*B+te*n)+(W*(N*P+z*B+X*n)+q*(F*P+j*B+K*n))),RD[ee+80>>2]=V*N+k*F+H*G,RD[ee+80+4>>2]=V*z+k*j+H*U,RD[ee+80+8>>2]=V*X+k*K+H*te,RD[ee+80+12>>2]=0,RD[ee+80+16>>2]=I*N+O*F+J*G,RD[ee+80+20>>2]=I*z+O*j+J*U,RD[ee+80+24>>2]=I*X+O*K+J*te,RD[ee+80+28>>2]=0,RD[ee+80+32>>2]=W*N+q*F+$*G,RD[ee+80+36>>2]=W*z+q*j+$*U,RD[ee+80+40>>2]=W*X+q*K+$*te,RD[ee+80+44>>2]=0,RD[ee+80+48>>2]=s,RD[ee+80+52>>2]=a,RD[ee+80+56>>2]=n,RD[ee+80+60>>2]=0,qf(ee+80|0,ee+224|0),n=+RD[ee+224>>2],a=+RD[ee+224+4>>2],s=+RD[ee+224+8>>2],(+JD(+(n*n+a*a+s*s))<1.1920928955078125e-7?!0:(RD[t+472>>2]=0,te=1/+ND(+(n*n+a*a+s*s)),RD[t+460>>2]=n*te,RD[t+464>>2]=a*te,RD[t+468>>2]=s*te,te=+RD[ee+224+12>>2],te=te<-1?-1:te,te=+jD(+(te>1?1:te))*2,RD[t+504>>2]=te,+JD(+te)<1.1920928955078125e-7))||(TD[t+526>>0]=1),void(BD=ee);qf(e,ee+256|0),qf(t+300|0,ee),H=+RD[ee+256+12>>2],I=+RD[ee>>2],O=+RD[ee+256>>2],J=+RD[ee+12>>2],N=+RD[ee+256+4>>2],F=+RD[ee+8>>2],G=+RD[ee+256+8>>2],z=+RD[ee+4>>2],qf(i,ee+144|0),qf(t+364|0,ee+240|0),j=+RD[ee+144+12>>2],U=+RD[ee+240>>2],W=+RD[ee+144>>2],X=+RD[ee+240+12>>2],q=+RD[ee+144+4>>2],K=+RD[ee+240+8>>2],Y=+RD[ee+144+8>>2],Q=+RD[ee+240+4>>2],Z=-(j*U+W*X+q*K-Y*Q),$=-(U*Y+(X*q+j*Q)-W*K),te=-(j*K+X*Y+W*Q-U*q),f=(H*J-I*O-N*z-F*G)*Z+(H*I+O*J+N*F-G*z)*(j*X-U*W-q*Q-K*Y)+(H*F+J*G+O*z-I*N)*$-(I*G+(J*N+H*z)-O*F)*te,p=(H*I+O*J+N*F-G*z)*te+((I*G+(J*N+H*z)-O*F)*(j*X-U*W-q*Q-K*Y)+(H*J-I*O-N*z-F*G)*$)-(H*F+J*G+O*z-I*N)*Z,_=(I*G+(J*N+H*z)-O*F)*Z+((H*F+J*G+O*z-I*N)*(j*X-U*W-q*Q-K*Y)+(H*J-I*O-N*z-F*G)*te)-(H*I+O*J+N*F-G*z)*$,m=(H*J-I*O-N*z-F*G)*(j*X-U*W-q*Q-K*Y)-(H*I+O*J+N*F-G*z)*Z-(I*G+(J*N+H*z)-O*F)*$-(H*F+J*G+O*z-I*N)*te,u=-f-p*0-_*0,h=(_+m*0-f*0)*-_+(m*(m+p*0-_*0)+u*-f)-(m*0+f*0-p)*-p,c=(m*0+f*0-p)*-f+(m*(_+m*0-f*0)+u*-p)-(m+p*0-_*0)*-_,u=(m+p*0-_*0)*-p+(m*(m*0+f*0-p)+u*-_)-(_+m*0-f*0)*-f,l=1/+ND(+(u*u+(h*h+c*c))),l*u*0+(l*c*0+l*h)<-.9999998807907104?+JD(0)>.7071067690849304?(d=0,s=ID,u=ID,h=0):(d=-0,s=1,u=0,h=0):(k=+ND(+((l*u*0+(l*c*0+l*h)+1)*2)),d=(l*u*0-l*c*0)*(1/k),s=(l*h*0-l*u)*(1/k),u=(l*c-l*h*0)*(1/k),h=k*.5),k=1/+ND(+(h*h+(u*u+(s*s+d*d)))),y=d*k,c=s*k,g=u*k,d=h*k,k=1/+ND(+((m*d-f*-y-p*-c-_*-g)*(m*d-f*-y-p*-c-_*-g)+((p*-y+(_*d+m*-g)-f*-c)*(p*-y+(_*d+m*-g)-f*-c)+((_*-c+(f*d+m*-y)-p*-g)*(_*-c+(f*d+m*-y)-p*-g)+(f*-g+(m*-c+p*d)-_*-y)*(f*-g+(m*-c+p*d)-_*-y))))),a=k*(_*-c+(f*d+m*-y)-p*-g),n=k*(f*-g+(m*-c+p*d)-_*-y),l=k*(p*-y+(_*d+m*-g)-f*-c),k*=m*d-f*-y-p*-c-_*-g,m=+RD[t+444>>2],u=+RD[t+456>>2],(m>=u?(b=+RD[t+448>>2],b>=u):0)?(f=d<-1?-1:d,f=+jD(+(f>1?1:f))*2,f>1.1920928955078125e-7?(u=1/+ND(+(g*g+(y*y+c*c))),+JD(+(c*u))>1.1920928955078125e-7?(p=+ND(+((g*u*g*u/(c*u*c*u)+1)/(1/(b*b)+g*u*g*u/(c*u*c*u)/(m*m)))),s=c*u,h=g*u,u=y*u):(p=m,s=c*u,h=g*u,u=y*u)):(p=0,s=0,h=0,u=0),c=+RD[t+428>>2],d=p*c,f>d&&(TD[t+526>>0]=1,c=f<p&c<.9999998807907104?(f-d)/(p-d):1,RD[t+528>>2]=c,RD[t+504>>2]=f-d,+JD(+s)>1.1920928955078125e-7&&(c=+JD(+(s*(-h/s)*(b/m))),h<-0||(c=-c),h=1/+ND(+(s*s+u*u+c*c)),u*=h,s*=h,h=-(c*h)),B=-u,P=-s,D=-h,w=(U*Y+(X*q+j*Q)-W*K)*D+(j*X-U*W-q*Q-K*Y)*B-(j*K+X*Y+W*Q-U*q)*P,V=(j*X-U*W-q*Q-K*Y)*P+(j*K+X*Y+W*Q-U*q)*B-(j*U+W*X+q*K-Y*Q)*D,R=(j*X-U*W-q*Q-K*Y)*D+(j*U+W*X+q*K-Y*Q)*P-(U*Y+(X*q+j*Q)-W*K)*B,D=-((j*U+W*X+q*K-Y*Q)*B)-(U*Y+(X*q+j*Q)-W*K)*P-(j*K+X*Y+W*Q-U*q)*D,P=V*te+((j*X-U*W-q*Q-K*Y)*w+D*Z)-R*$,B=R*Z+((j*X-U*W-q*Q-K*Y)*V+D*$)-w*te,V=w*$+((j*X-U*W-q*Q-K*Y)*R+D*te)-V*Z,RD[t+460>>2]=P,RD[t+464>>2]=B,RD[t+468>>2]=V,RD[t+472>>2]=0,CD[t+536>>2]=0,CD[t+536+4>>2]=0,CD[t+536+8>>2]=0,CD[t+536+12>>2]=0,RD[t+492>>2]=1/(P*(+RD[r>>2]*P+ +RD[r+16>>2]*B+ +RD[r+32>>2]*V)+B*(P*+RD[r+4>>2]+B*+RD[r+20>>2]+V*+RD[r+36>>2])+V*(P*+RD[r+8>>2]+B*+RD[r+24>>2]+V*+RD[r+40>>2])+(P*(P*+RD[o>>2]+B*+RD[o+16>>2]+V*+RD[o+32>>2])+B*(P*+RD[o+4>>2]+B*+RD[o+20>>2]+V*+RD[o+36>>2])+V*(P*+RD[o+8>>2]+B*+RD[o+24>>2]+V*+RD[o+40>>2]))))):L=24;t:do if((L|0)==24){T=+RD[t+300>>2],x=+RD[t+316>>2],C=+RD[t+332>>2],E=+RD[e>>2],A=+RD[e+4>>2],w=+RD[e+8>>2],R=+RD[e+16>>2],D=+RD[e+20>>2],P=+RD[e+24>>2],B=+RD[e+32>>2],V=+RD[e+36>>2],p=+RD[e+40>>2],d=+RD[t+304>>2],u=+RD[t+320>>2],h=+RD[t+336>>2],c=+RD[t+308>>2],s=+RD[t+324>>2],v=+RD[t+340>>2],g=+RD[t+364>>2],f=+RD[t+380>>2],b=+RD[t+396>>2],M=g*+RD[i>>2]+f*+RD[i+4>>2]+b*+RD[i+8>>2],S=g*+RD[i+16>>2]+f*+RD[i+20>>2]+b*+RD[i+24>>2],b=g*+RD[i+32>>2]+f*+RD[i+36>>2]+b*+RD[i+40>>2],f=(T*E+x*A+C*w)*M+(T*R+x*D+C*P)*S+(T*B+x*V+C*p)*b,g=(E*d+A*u+w*h)*M+(R*d+D*u+P*h)*S+(B*d+V*u+p*h)*b,y=(E*c+A*s+w*v)*M+(R*c+D*s+P*v)*S+(B*c+V*s+p*v)*b,_=+RD[t+444>>2],m=+RD[t+456>>2];do if(_<m){if(_=+RD[t+448>>2],_<m){if(+JD(+g)<1.1920928955078125e-7?+JD(+y)<1.1920928955078125e-7:0)break t;TD[t+526>>0]=1,RD[t+460>>2]=-((T*B+x*V+C*p)*S-(T*R+x*D+C*P)*b),RD[t+464>>2]=-((T*E+x*A+C*w)*b-(T*B+x*V+C*p)*M),RD[t+468>>2]=-((T*R+x*D+C*P)*M-(T*E+x*A+C*w)*S),RD[t+472>>2]=0;break t}if(+JD(+f)<1.1920928955078125e-7?+JD(+y)<1.1920928955078125e-7:0){m=f;break}if(TD[t+526>>0]=1,_>=m){if(g=+WD(+y,+f),g>_){m=+GD(+_),g=0,y=+zD(+_);break}g<-_?(m=+GD(+_),g=0,y=-+zD(+_)):(m=f,g=0)}else m=f}else{if(+JD(+f)<1.1920928955078125e-7?+JD(+g)<1.1920928955078125e-7:0){m=f;break}if(TD[t+526>>0]=1,_>=m){if(y=+WD(+g,+f),y>_){m=+GD(+_),g=+zD(+_),y=0;break}y<-_?(m=+GD(+_),g=-+zD(+_),y=0):(m=f,y=0)}else m=f}while(0);w=(E*c+A*s+w*v)*y+((E*d+A*u+w*h)*g+(T*E+x*A+C*w)*m),P=(R*c+D*s+P*v)*y+((R*d+D*u+P*h)*g+(T*R+x*D+C*P)*m),D=(B*c+V*s+p*v)*y+((B*d+V*u+p*h)*g+(T*B+x*V+C*p)*m),B=1/+ND(+(D*D+(w*w+P*P))),RD[t+472>>2]=0,V=+ND(+((S*B*D-b*B*P)*(S*B*D-b*B*P)+(b*B*w-M*B*D)*(b*B*w-M*B*D)+(M*B*P-S*B*w)*(M*B*P-S*B*w))),RD[t+504>>2]=V,RD[t+460>>2]=-((S*B*D-b*B*P)*(1/V)),RD[t+464>>2]=-((b*B*w-M*B*D)*(1/V)),RD[t+468>>2]=-((M*B*P-S*B*w)*(1/V))}while(0);return d=+RD[t+452>>2],d>=0?(s=k<-1?-1:k,s=+jD(+(s>1?1:s))*2,s>3.1415927410125732&&(s=k>1?-1:-k,s=+jD(+(s>1?1:s))*2,a=-a,n=-n,l=-l),RD[t+512>>2]=s,s>1.1920928955078125e-7&&(k=1/+ND(+(l*l+(n*n+a*a))),a*=k,n*=k,l*=k),c=+RD[t+428>>2],s>d*c&&(TD[t+525>>0]=1,h=s-d*c,s=s<d&c<.9999998807907104?h/(d-d*c):1,RD[t+532>>2]=s,RD[t+508>>2]=h,k=-a,V=-n,P=-l,R=(U*Y+(X*q+j*Q)-W*K)*P+(j*X-U*W-q*Q-K*Y)*k-(j*K+X*Y+W*Q-U*q)*V,B=(j*X-U*W-q*Q-K*Y)*V+(j*K+X*Y+W*Q-U*q)*k-(j*U+W*X+q*K-Y*Q)*P,D=(j*X-U*W-q*Q-K*Y)*P+(j*U+W*X+q*K-Y*Q)*V-(U*Y+(X*q+j*Q)-W*K)*k,P=-((j*U+W*X+q*K-Y*Q)*k)-(U*Y+(X*q+j*Q)-W*K)*V-(j*K+X*Y+W*Q-U*q)*P,V=B*te+((j*X-U*W-q*Q-K*Y)*R+P*Z)-D*$,k=D*Z+((j*X-U*W-q*Q-K*Y)*B+P*$)-R*te,te=R*$+((j*X-U*W-q*Q-K*Y)*D+P*te)-B*Z,RD[t+476>>2]=V,RD[t+480>>2]=k,RD[t+484>>2]=te,RD[t+488>>2]=0,RD[t+496>>2]=1/(V*(+RD[r>>2]*V+ +RD[r+16>>2]*k+ +RD[r+32>>2]*te)+k*(V*+RD[r+4>>2]+k*+RD[r+20>>2]+te*+RD[r+36>>2])+te*(V*+RD[r+8>>2]+k*+RD[r+24>>2]+te*+RD[r+40>>2])+(V*(V*+RD[o>>2]+k*+RD[o+16>>2]+te*+RD[o+32>>2])+k*(V*+RD[o+4>>2]+k*+RD[o+20>>2]+te*+RD[o+36>>2])+te*(V*+RD[o+8>>2]+k*+RD[o+24>>2]+te*+RD[o+40>>2])))),TD[t+526>>0]|0?(W=-a,te=-n,q=-l,U=(I*G+(J*N+H*z)-O*F)*q+(H*J-I*O-N*z-F*G)*W-(H*F+J*G+O*z-I*N)*te,$=(H*J-I*O-N*z-F*G)*te+(H*F+J*G+O*z-I*N)*W-(H*I+O*J+N*F-G*z)*q,X=(H*J-I*O-N*z-F*G)*q+(H*I+O*J+N*F-G*z)*te-(I*G+(J*N+H*z)-O*F)*W,q=-((H*I+O*J+N*F-G*z)*W)-(I*G+(J*N+H*z)-O*F)*te-(H*F+J*G+O*z-I*N)*q,te=-(H*I+O*J+N*F-G*z),W=-(I*G+(J*N+H*z)-O*F),K=-(H*F+J*G+O*z-I*N),RD[t+536>>2]=$*K+((H*J-I*O-N*z-F*G)*U+q*te)-X*W,RD[t+540>>2]=X*te+((H*J-I*O-N*z-F*G)*$+q*W)-U*K,RD[t+544>>2]=U*W+((H*J-I*O-N*z-F*G)*X+q*K)-$*te,RD[t+548>>2]=0,void(BD=ee)):void(BD=ee)):(RD[t+512>>2]=0,void(BD=ee))}function _v(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0;_=BD,BD=BD+64|0,u=CD[t+28>>2]|0,o=CD[t+32>>2]|0,fv(t,u+4|0,o+4|0,u+264|0,o+264|0),f=CD[e+8>>2]|0,RD[f>>2]=1,d=CD[e+24>>2]|0,RD[f+(d+1<<2)>>2]=1,RD[f+((d<<1)+2<<2)>>2]=1,l=+RD[t+348>>2],y=+RD[t+352>>2],h=+RD[t+356>>2],m=+RD[u+4>>2]*l+ +RD[u+8>>2]*y+ +RD[u+12>>2]*h,c=l*+RD[u+20>>2]+y*+RD[u+24>>2]+h*+RD[u+28>>2],h=l*+RD[u+36>>2]+y*+RD[u+40>>2]+h*+RD[u+44>>2],f=CD[e+12>>2]|0,RD[f>>2]=0,RD[f+4>>2]=h,RD[f+8>>2]=-c,RD[f+12>>2]=0,RD[f+(d<<2)>>2]=-h,RD[f+(d+1<<2)>>2]=0,RD[f+(d+2<<2)>>2]=m,RD[f+(d+3<<2)>>2]=0,RD[f+(d<<1<<2)>>2]=c,RD[f+((d<<1|1)<<2)>>2]=-m,RD[f+((d<<1)+2<<2)>>2]=0,RD[f+((d<<1)+3<<2)>>2]=0,f=CD[e+16>>2]|0,RD[f>>2]=-1,RD[f+(d+1<<2)>>2]=-1,RD[f+((d<<1)+2<<2)>>2]=-1,y=+RD[t+412>>2],l=+RD[t+416>>2],s=+RD[t+420>>2],g=+RD[o+4>>2]*y+ +RD[o+8>>2]*l+ +RD[o+12>>2]*s,a=y*+RD[o+20>>2]+l*+RD[o+24>>2]+s*+RD[o+28>>2],s=y*+RD[o+36>>2]+l*+RD[o+40>>2]+s*+RD[o+44>>2],d=CD[e+20>>2]|0,f=CD[e+24>>2]|0,RD[d>>2]=0,RD[d+4>>2]=-s,RD[d+8>>2]=a,RD[d+12>>2]=0,RD[d+(f<<2)>>2]=s,RD[d+(f+1<<2)>>2]=0,RD[d+(f+2<<2)>>2]=-g,RD[d+(f+3<<2)>>2]=0,RD[d+(f<<1<<2)>>2]=-a,RD[d+((f<<1|1)<<2)>>2]=g,RD[d+((f<<1)+2<<2)>>2]=0,RD[d+((f<<1)+3<<2)>>2]=0,p=CD[t+592>>2]|0,l=+RD[((p&2|0)==0?e+4|0:t+600|0)>>2]*+RD[e>>2],n=CD[e+28>>2]|0,i=CD[e+36>>2]|0,r=CD[e+40>>2]|0,RD[n>>2]=l*(g+ +RD[o+52>>2]-m-+RD[u+52>>2]),RD[i>>2]=-3.4028234663852886e38,RD[r>>2]=3.4028234663852886e38,p&1?(b=CD[e+32>>2]|0,RD[b>>2]=+RD[t+596>>2],RD[n+(f<<2)>>2]=l*(a+ +RD[o+56>>2]-c-+RD[u+56>>2]),RD[i+(f<<2)>>2]=-3.4028234663852886e38,RD[r+(f<<2)>>2]=3.4028234663852886e38,RD[b+(f<<2)>>2]=+RD[t+596>>2],RD[n+(f<<1<<2)>>2]=l*(s+ +RD[o+60>>2]-h-+RD[u+60>>2]),RD[i+(f<<1<<2)>>2]=-3.4028234663852886e38,RD[r+(f<<1<<2)>>2]=3.4028234663852886e38,RD[b+(f<<1<<2)>>2]=+RD[t+596>>2]):(RD[n+(f<<2)>>2]=l*(a+ +RD[o+56>>2]-c-+RD[u+56>>2]),RD[i+(f<<2)>>2]=-3.4028234663852886e38,RD[r+(f<<2)>>2]=3.4028234663852886e38,RD[n+(f<<1<<2)>>2]=l*(s+ +RD[o+60>>2]-h-+RD[u+60>>2]),RD[i+(f<<1<<2)>>2]=-3.4028234663852886e38,RD[r+(f<<1<<2)>>2]=3.4028234663852886e38);do if(TD[t+526>>0]|0){if(o=CD[e+12>>2]|0,h=+RD[t+456>>2],+RD[t+444>>2]<h?+RD[t+448>>2]<h:0){i_(_,u+4|0,t+300|0),s=+RD[_+4>>2],m=+RD[_+20>>2],l=+RD[_+36>>2],c=+RD[_+8>>2],y=+RD[_+24>>2],h=+RD[_+40>>2],u=CD[e+24>>2]|0,b=u+(f*3|0)|0,RD[o+(f*3<<2)>>2]=s,RD[o+((f*3|0)+1<<2)>>2]=m,RD[o+((f*3|0)+2<<2)>>2]=l,RD[o+(b<<2)>>2]=c,RD[o+(b+1<<2)>>2]=y,RD[o+(b+2<<2)>>2]=h,RD[d+(f*3<<2)>>2]=-s,RD[d+((f*3|0)+1<<2)>>2]=-m,RD[d+((f*3|0)+2<<2)>>2]=-l,RD[d+(b<<2)>>2]=-c,RD[d+(b+1<<2)>>2]=-y,RD[d+(b+2<<2)>>2]=-h,g=+RD[e>>2]*+RD[t+436>>2],n=CD[e+28>>2]|0,RD[n+(f*3<<2)>>2]=g*(s*+RD[t+460>>2]+m*+RD[t+464>>2]+l*+RD[t+468>>2]),RD[n+(b<<2)>>2]=g*(c*+RD[t+460>>2]+y*+RD[t+464>>2]+h*+RD[t+468>>2]),i=CD[e+36>>2]|0,RD[i+(f*3<<2)>>2]=-3.4028234663852886e38,r=CD[e+40>>2]|0,RD[r+(f*3<<2)>>2]=3.4028234663852886e38,RD[i+(b<<2)>>2]=-3.4028234663852886e38,RD[r+(b<<2)>>2]=3.4028234663852886e38,o=u+b|0;break}h=+RD[t+436>>2],c=h*+RD[t+460>>2]*h,y=h*h*+RD[t+464>>2],h=h*h*+RD[t+468>>2],RD[o+(f*3<<2)>>2]=c,RD[o+((f*3|0)+1<<2)>>2]=y,RD[o+((f*3|0)+2<<2)>>2]=h,RD[d+(f*3<<2)>>2]=-c,RD[d+((f*3|0)+1<<2)>>2]=-y,RD[d+((f*3|0)+2<<2)>>2]=-h,RD[n+(f*3<<2)>>2]=+RD[e>>2]*+RD[t+432>>2]*+RD[t+504>>2],p&4&&(RD[(CD[e+32>>2]|0)+(f*3<<2)>>2]=+RD[t+604>>2]),RD[i+(f*3<<2)>>2]=0,RD[r+(f*3<<2)>>2]=3.4028234663852886e38,o=f<<2}else o=f*3|0;while(0);return TD[t+525>>0]|0?(h=+RD[t+436>>2],c=h*+RD[t+476>>2]*h,y=h*h*+RD[t+480>>2],h=h*h*+RD[t+484>>2],f=CD[e+12>>2]|0,d=CD[e+20>>2]|0,RD[f+(o<<2)>>2]=c,u=o+1|0,RD[f+(u<<2)>>2]=y,b=o+2|0,RD[f+(b<<2)>>2]=h,RD[d+(o<<2)>>2]=-c,RD[d+(u<<2)>>2]=-y,RD[d+(b<<2)>>2]=-h,RD[n+(o<<2)>>2]=+RD[e>>2]*+RD[t+432>>2]*+RD[t+508>>2],CD[t+592>>2]&4&&(RD[(CD[e+32>>2]|0)+(o<<2)>>2]=+RD[t+604>>2]),+RD[t+452>>2]>0?(r=i+(o<<2)|0,i=CD[e+40>>2]|0,+RD[t+508>>2]>0?(RD[r>>2]=0,RD[i+(o<<2)>>2]=3.4028234663852886e38,void(BD=_)):(RD[r>>2]=-3.4028234663852886e38,RD[i+(o<<2)>>2]=0,void(BD=_))):(RD[i+(o<<2)>>2]=-3.4028234663852886e38,RD[r+(o<<2)>>2]=3.4028234663852886e38,void(BD=_))):void(BD=_)}function mv(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0;if(V=BD,BD=BD+176|0,!(TD[t+527>>0]|0))return void(BD=V);if(RD[t+36>>2]=0,RD[t+520>>2]=0,RD[t+516>>2]=0,CD[t+576>>2]=0,CD[t+576+4>>2]=0,CD[t+576+8>>2]=0,CD[t+576+12>>2]=0,TD[t+524>>0]|0)e=t+32|0;else{for(e=CD[t+28>>2]|0,o=+RD[t+348>>2],i=+RD[t+352>>2],g=+RD[t+356>>2],y=o*+RD[e+20>>2]+i*+RD[e+24>>2]+g*+RD[e+28>>2]+ +RD[e+56>>2],l=CD[t+32>>2]|0,b=+RD[t+412>>2],v=+RD[l+4>>2],M=+RD[t+416>>2],S=+RD[l+8>>2],T=+RD[t+420>>2],x=+RD[l+12>>2],C=+RD[l+20>>2],E=+RD[l+24>>2],A=+RD[l+28>>2],w=+RD[l+36>>2],R=+RD[l+40>>2],D=+RD[l+44>>2],P=+RD[l+52>>2],B=+RD[l+56>>2],_=+RD[l+60>>2],r=b*C+M*E+T*A+B-y,m=o*+RD[e+4>>2]+i*+RD[e+8>>2]+g*+RD[e+12>>2]+ +RD[e+52>>2],g=o*+RD[e+36>>2]+i*+RD[e+40>>2]+g*+RD[e+44>>2]+ +RD[e+60>>2],i=b*v+M*S+T*x+P-m,o=b*w+M*R+T*D+_-g,i*i+r*r+o*o>1.1920928955078125e-7?(f=1/+ND(+(i*i+r*r+o*o)),n=i*f,r*=f,o*=f):(n=1,r=0,o=0),RD[V+128>>2]=n,RD[V+128+4>>2]=r,RD[V+128+8>>2]=o,RD[V+128+12>>2]=0,+JD(+o)>.7071067690849304?(d=o*o+r*r,f=1/+ND(+d),i=-(f*o),r=f*r,s=-(n*r),a=n*i,o=d*f,n=0):(d=n*n+r*r,a=1/+ND(+d),f=-(r*a),i=a*n,s=o*f,a=d*a,o=-(o*i),r=0,n=f),RD[V+128+16>>2]=n,RD[V+128+20>>2]=i,RD[V+128+24>>2]=r,RD[V+128+32>>2]=o,RD[V+128+36>>2]=s,RD[V+128+40>>2]=a,s=v,a=C,n=w,o=S,r=E,i=R,c=x,h=A,u=D,d=P,p=B,f=_,e=0;;){if(L=CD[t+28>>2]|0,RD[V+80>>2]=+RD[L+4>>2],RD[V+80+4>>2]=+RD[L+20>>2],RD[V+80+8>>2]=+RD[L+36>>2],RD[V+80+12>>2]=0,RD[V+80+16>>2]=+RD[L+8>>2],RD[V+80+20>>2]=+RD[L+24>>2],RD[V+80+24>>2]=+RD[L+40>>2],RD[V+80+28>>2]=0,RD[V+80+32>>2]=+RD[L+12>>2],RD[V+80+36>>2]=+RD[L+28>>2],RD[V+80+40>>2]=+RD[L+44>>2],RD[V+80+44>>2]=0,RD[V+32>>2]=s,RD[V+32+4>>2]=a,RD[V+32+8>>2]=n,RD[V+32+12>>2]=0,RD[V+32+16>>2]=o,RD[V+32+20>>2]=r,RD[V+32+24>>2]=i,RD[V+32+28>>2]=0,RD[V+32+32>>2]=c,RD[V+32+36>>2]=h,RD[V+32+40>>2]=u,RD[V+32+44>>2]=0,h=y-+RD[L+56>>2],u=g-+RD[L+60>>2],RD[V+16>>2]=m-+RD[L+52>>2],RD[V+16+4>>2]=h,RD[V+16+8>>2]=u,RD[V+16+12>>2]=0,RD[V>>2]=b*v+M*S+T*x+P-d,RD[V+4>>2]=b*C+M*E+T*A+B-p,RD[V+8>>2]=b*w+M*R+T*D+_-f,RD[V+12>>2]=0,n_(t+48+(e*84|0)|0,V+80|0,V+32|0,V+16|0,V,V+128+(e<<4)|0,L+396|0,+RD[L+344>>2],l+396|0,+RD[l+344>>2]),e=e+1|0,(e|0)==3)break;l=CD[t+32>>2]|0,s=+RD[l+4>>2],a=+RD[l+20>>2],n=+RD[l+36>>2],o=+RD[l+8>>2],r=+RD[l+24>>2],i=+RD[l+40>>2],c=+RD[l+12>>2],h=+RD[l+28>>2],u=+RD[l+44>>2],d=+RD[l+52>>2],p=+RD[l+56>>2],f=+RD[l+60>>2]}e=t+32|0}l=CD[t+28>>2]|0,L=CD[e>>2]|0,fv(t,l+4|0,L+4|0,l+264|0,L+264|0),BD=V}function gv(t,e,i,r){t|=0,e|=0,i|=0,r=+r;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0,N=0,F=0,G=0,z=0,j=0,U=0,W=0,X=0,q=0,K=0;if(H=BD,BD=BD+448|0,!(TD[t+527>>0]|0))return void(BD=H);if(k=CD[t+28>>2]|0,x=+RD[t+348>>2],M=+RD[t+352>>2],C=+RD[t+356>>2],s=+RD[k+52>>2],a=x*+RD[k+4>>2]+M*+RD[k+8>>2]+C*+RD[k+12>>2]+s,h=+RD[k+56>>2],m=x*+RD[k+20>>2]+M*+RD[k+24>>2]+C*+RD[k+28>>2]+h,n=+RD[k+60>>2],C=x*+RD[k+36>>2]+M*+RD[k+40>>2]+C*+RD[k+44>>2]+n,k=CD[t+32>>2]|0,M=+RD[t+412>>2],x=+RD[t+416>>2],S=+RD[t+420>>2],E=+RD[k+52>>2],A=M*+RD[k+4>>2]+x*+RD[k+8>>2]+S*+RD[k+12>>2]+E,w=+RD[k+56>>2],R=M*+RD[k+20>>2]+x*+RD[k+24>>2]+S*+RD[k+28>>2]+w,T=+RD[k+60>>2],S=M*+RD[k+36>>2]+x*+RD[k+40>>2]+S*+RD[k+44>>2]+T,!(TD[t+524>>0]|0)){b=+RD[e+192>>2]+ +RD[e+80>>2],u=+RD[e+196>>2]+ +RD[e+84>>2],l=+RD[e+200>>2]+ +RD[e+88>>2],x=+RD[i+192>>2]+ +RD[i+80>>2],d=+RD[i+196>>2]+ +RD[i+84>>2],v=+RD[i+200>>2]+ +RD[i+88>>2],M=+RD[e+176>>2]+ +RD[e+64>>2]+((C-n)*u-(m-h)*l)-(+RD[i+176>>2]+ +RD[i+64>>2]+((S-T)*d-(R-w)*v)),v=+RD[e+180>>2]+ +RD[e+68>>2]+((a-s)*l-(C-n)*b)-(+RD[i+180>>2]+ +RD[i+68>>2]+((A-E)*v-(S-T)*x)),d=+RD[e+184>>2]+ +RD[e+72>>2]+((m-h)*b-(a-s)*u)-(+RD[i+184>>2]+ +RD[i+72>>2]+((R-w)*x-(A-E)*d)),o=(CD[e+240>>2]|0)==0,c=0;do y=1/+RD[t+48+(c*84|0)+80>>2],_=t+48+(c*84|0)|0,l=+RD[_>>2],p=t+48+(c*84|0)+4|0,b=+RD[p>>2],f=t+48+(c*84|0)+8|0,u=+RD[f>>2],u=y*(((a-A)*l+(m-R)*b+(C-S)*u)*-.30000001192092896/r)-y*(M*l+v*b+d*u),RD[t+36>>2]=+RD[t+36>>2]+u,b=+RD[f>>2],l=+RD[p>>2],y=+RD[_>>2],g=CD[t+28>>2]|0,x=+RD[g+344>>2],o||(J=((m-h)*b-(C-n)*l)*+RD[g+296>>2]+((C-n)*y-(a-s)*b)*+RD[g+300>>2]+((a-s)*l-(m-h)*y)*+RD[g+304>>2],I=((m-h)*b-(C-n)*l)*+RD[g+280>>2]+((C-n)*y-(a-s)*b)*+RD[g+284>>2]+((a-s)*l-(m-h)*y)*+RD[g+288>>2],O=((m-h)*b-(C-n)*l)*+RD[g+264>>2]+((C-n)*y-(a-s)*b)*+RD[g+268>>2]+((a-s)*l-(m-h)*y)*+RD[g+272>>2],F=u*l*x*+RD[e+116>>2],N=u*b*x*+RD[e+120>>2],RD[e+64>>2]=u*y*x*+RD[e+112>>2]+ +RD[e+64>>2],RD[e+68>>2]=F+ +RD[e+68>>2],RD[e+72>>2]=N+ +RD[e+72>>2],I=I*u*+RD[e+100>>2],x=J*u*+RD[e+104>>2],RD[e+80>>2]=O*u*+RD[e+96>>2]+ +RD[e+80>>2],RD[e+84>>2]=I+ +RD[e+84>>2],RD[e+88>>2]=x+ +RD[e+88>>2]),g=CD[t+32>>2]|0,x=+RD[g+344>>2],CD[i+240>>2]|0&&(F=((R-w)*b-(S-T)*l)*+RD[g+296>>2]+((S-T)*y-(A-E)*b)*+RD[g+300>>2]+((A-E)*l-(R-w)*y)*+RD[g+304>>2],N=((R-w)*b-(S-T)*l)*+RD[g+280>>2]+((S-T)*y-(A-E)*b)*+RD[g+284>>2]+((A-E)*l-(R-w)*y)*+RD[g+288>>2],J=((R-w)*b-(S-T)*l)*+RD[g+264>>2]+((S-T)*y-(A-E)*b)*+RD[g+268>>2]+((A-E)*l-(R-w)*y)*+RD[g+272>>2],b=x*+RD[p>>2]*-u*+RD[i+116>>2],O=x*+RD[f>>2]*-u*+RD[i+120>>2],RD[i+64>>2]=+RD[i+112>>2]*x*+RD[_>>2]*-u+ +RD[i+64>>2],RD[i+68>>2]=b+ +RD[i+68>>2],RD[i+72>>2]=O+ +RD[i+72>>2],N=N*+RD[i+100>>2]*-u,F=F*+RD[i+104>>2]*-u,RD[i+80>>2]=J*+RD[i+96>>2]*-u+ +RD[i+80>>2],RD[i+84>>2]=N+ +RD[i+84>>2],RD[i+88>>2]=F+ +RD[i+88>>2]),c=c+1|0;while((c|0)!=3)}do if(TD[t+552>>0]|0)L=CD[t+28>>2]|0,CD[H+344>>2]=CD[L+4>>2],CD[H+344+4>>2]=CD[L+4+4>>2],CD[H+344+8>>2]=CD[L+4+8>>2],CD[H+344+12>>2]=CD[L+4+12>>2],CD[H+344+16>>2]=CD[L+20>>2],CD[H+344+16+4>>2]=CD[L+20+4>>2],CD[H+344+16+8>>2]=CD[L+20+8>>2],CD[H+344+16+12>>2]=CD[L+20+12>>2],CD[H+344+32>>2]=CD[L+36>>2],CD[H+344+32+4>>2]=CD[L+36+4>>2],CD[H+344+32+8>>2]=CD[L+36+8>>2],CD[H+344+32+12>>2]=CD[L+36+12>>2],CD[H+344+48>>2]=CD[L+52>>2],CD[H+344+48+4>>2]=CD[L+52+4>>2],CD[H+344+48+8>>2]=CD[L+52+8>>2],CD[H+344+48+12>>2]=CD[L+52+12>>2],L=CD[t+32>>2]|0,CD[H+16>>2]=CD[L+4>>2],CD[H+16+4>>2]=CD[L+4+4>>2],CD[H+16+8>>2]=CD[L+4+8>>2],CD[H+16+12>>2]=CD[L+4+12>>2],CD[H+16+16>>2]=CD[L+20>>2],CD[H+16+16+4>>2]=CD[L+20+4>>2],CD[H+16+16+8>>2]=CD[L+20+8>>2],CD[H+16+16+12>>2]=CD[L+20+12>>2],CD[H+16+32>>2]=CD[L+36>>2],CD[H+16+32+4>>2]=CD[L+36+4>>2],CD[H+16+32+8>>2]=CD[L+36+8>>2],CD[H+16+32+12>>2]=CD[L+36+12>>2],CD[H+16+48>>2]=CD[L+52>>2],CD[H+16+48+4>>2]=CD[L+52+4>>2],CD[H+16+48+8>>2]=CD[L+52+8>>2],CD[H+16+48+12>>2]=CD[L+52+12>>2],J=+RD[e+196>>2]+ +RD[e+84>>2],y=+RD[e+200>>2]+ +RD[e+88>>2],RD[H+408>>2]=+RD[e+192>>2]+ +RD[e+80>>2],RD[H+408+4>>2]=J,RD[H+408+8>>2]=y,RD[H+408+12>>2]=0,y=+RD[i+196>>2]+ +RD[i+84>>2],J=+RD[i+200>>2]+ +RD[i+88>>2],RD[H+424>>2]=+RD[i+192>>2]+ +RD[i+80>>2],RD[H+424+4>>2]=y,RD[H+424+8>>2]=J,RD[H+424+12>>2]=0,RD[H+144>>2]=1,L=H+144+4|0,CD[L>>2]=0,CD[L+4>>2]=0,CD[L+8>>2]=0,CD[L+12>>2]=0,RD[H+144+20>>2]=1,k=H+144+24|0,CD[k>>2]=0,CD[k+4>>2]=0,CD[k+8>>2]=0,CD[k+12>>2]=0,RD[H+144+40>>2]=1,c=H+144+44|0,CD[c>>2]=0,CD[c+4>>2]=0,CD[c+8>>2]=0,CD[c+12>>2]=0,CD[c+16>>2]=0,t_(H+344|0,0,0,0,H+408|0,r,H+144|0),RD[H+280>>2]=1,c=H+280+4|0,CD[c>>2]=0,CD[c+4>>2]=0,CD[c+8>>2]=0,CD[c+12>>2]=0,RD[H+280+20>>2]=1,V=H+280+24|0,CD[V>>2]=0,CD[V+4>>2]=0,CD[V+8>>2]=0,CD[V+12>>2]=0,RD[H+280+40>>2]=1,B=H+280+44|0,CD[B>>2]=0,CD[B+4>>2]=0,CD[B+8>>2]=0,CD[B+12>>2]=0,CD[B+16>>2]=0,t_(H+16|0,0,0,0,H+424|0,r,H+280|0),J=+RD[t+556>>2],y=+RD[t+560>>2],N=+RD[t+564>>2],I=+RD[t+568>>2],u=J*(2/(J*J+y*y+N*N+I*I)),M=y*(2/(J*J+y*y+N*N+I*I)),d=N*(2/(J*J+y*y+N*N+I*I)),z=+RD[t+364>>2],G=+RD[t+368>>2],W=+RD[t+372>>2],w=(J*d-I*M)*W+(G*(J*M+I*d)+z*(1-(y*M+N*d))),m=W*(y*d+I*u)+(z*(J*M-I*d)+G*(1-(J*u+N*d))),h=z*(J*d+I*M)+G*(y*d-I*u)+W*(1-(J*u+y*M)),n=+RD[t+380>>2],O=+RD[t+384>>2],v=+RD[t+388>>2],a=(1-(y*M+N*d))*n+(J*M+I*d)*O+(J*d-I*M)*v,R=(J*M-I*d)*n+(1-(J*u+N*d))*O+(y*d+I*u)*v,s=(J*d+I*M)*n+(y*d-I*u)*O+(1-(J*u+y*M))*v,E=+RD[t+396>>2],b=+RD[t+400>>2],S=+RD[t+404>>2],A=(1-(y*M+N*d))*E+(J*M+I*d)*b+(J*d-I*M)*S,N=(J*M-I*d)*E+(1-(J*u+N*d))*b+(y*d+I*u)*S,M=(J*d+I*M)*E+(y*d-I*u)*b+(1-(J*u+y*M))*S,y=+RD[t+300>>2],u=+RD[t+316>>2],J=+RD[t+332>>2],I=+RD[t+304>>2],d=+RD[t+320>>2],F=+RD[t+336>>2],l=+RD[t+308>>2],C=+RD[t+324>>2],T=+RD[t+340>>2],x=-+RD[t+348>>2],K=-+RD[t+352>>2],U=-+RD[t+356>>2],W=z*0+G*0+W*0+ +RD[t+412>>2]+(h*(l*x+C*K+T*U)+(w*(y*x+u*K+J*U)+m*(I*x+d*K+F*U))),v=n*0+O*0+v*0+ +RD[t+416>>2]+(s*(l*x+C*K+T*U)+(a*(y*x+u*K+J*U)+R*(I*x+d*K+F*U))),U=E*0+b*0+S*0+ +RD[t+420>>2]+(M*(l*x+C*K+T*U)+(A*(y*x+u*K+J*U)+N*(I*x+d*K+F*U))),K=+RD[H+280>>2],x=+RD[c>>2],S=+RD[H+280+8>>2],b=+RD[H+280+16>>2],E=+RD[H+280+20>>2],O=+RD[V>>2],n=+RD[H+280+32>>2],G=+RD[H+280+36>>2],z=+RD[H+280+40>>2],j=S*U+(K*W+x*v)+ +RD[H+280+48>>2],X=b*W+v*E+U*O+ +RD[H+280+52>>2],q=W*n+v*G+U*z+ +RD[H+280+56>>2],RD[H+216>>2]=(w*y+m*I+h*l)*K+(a*y+R*I+s*l)*x+(A*y+N*I+M*l)*S,RD[H+216+4>>2]=(w*u+m*d+h*C)*K+(a*u+R*d+s*C)*x+(A*u+N*d+M*C)*S,RD[H+216+8>>2]=(w*J+m*F+h*T)*K+(a*J+R*F+s*T)*x+(A*J+N*F+M*T)*S,RD[H+216+12>>2]=0,RD[H+216+16>>2]=(w*y+m*I+h*l)*b+(a*y+R*I+s*l)*E+(A*y+N*I+M*l)*O,RD[H+216+20>>2]=(w*u+m*d+h*C)*b+(a*u+R*d+s*C)*E+(A*u+N*d+M*C)*O,RD[H+216+24>>2]=(w*J+m*F+h*T)*b+(a*J+R*F+s*T)*E+(A*J+N*F+M*T)*O,RD[H+216+28>>2]=0,RD[H+216+32>>2]=(w*y+m*I+h*l)*n+(a*y+R*I+s*l)*G+(A*y+N*I+M*l)*z,RD[H+216+36>>2]=(w*u+m*d+h*C)*n+(a*u+R*d+s*C)*G+(A*u+N*d+M*C)*z,RD[H+216+40>>2]=(w*J+m*F+h*T)*n+(a*J+R*F+s*T)*G+(A*J+N*F+M*T)*z,RD[H+216+44>>2]=0,RD[H+216+48>>2]=j,RD[H+216+52>>2]=X,RD[H+216+56>>2]=q,RD[H+216+60>>2]=0,q=(A*y+N*I+M*l)*-U+((w*y+m*I+h*l)*-W+(a*y+R*I+s*l)*-v),X=(A*u+N*d+M*C)*-U+((w*u+m*d+h*C)*-W+(a*u+R*d+s*C)*-v),v=(A*J+N*F+M*T)*-U+((w*J+m*F+h*T)*-W+(a*J+R*F+s*T)*-v),W=+RD[H+144>>2],U=+RD[L>>2],j=+RD[H+144+8>>2],z=+RD[H+144+16>>2],G=+RD[H+144+20>>2],n=+RD[k>>2],O=+RD[H+144+32>>2],E=+RD[H+144+36>>2],b=+RD[H+144+40>>2],S=q*W+X*U+v*j+ +RD[H+144+48>>2],x=q*z+X*G+v*n+ +RD[H+144+52>>2],v=q*O+X*E+v*b+ +RD[H+144+56>>2],RD[H+80>>2]=(w*y+m*I+h*l)*W+(w*u+m*d+h*C)*U+(w*J+m*F+h*T)*j,RD[H+80+4>>2]=(a*y+R*I+s*l)*W+(a*u+R*d+s*C)*U+(a*J+R*F+s*T)*j,RD[H+80+8>>2]=(A*y+N*I+M*l)*W+(A*u+N*d+M*C)*U+(A*J+N*F+M*T)*j,RD[H+80+12>>2]=0,RD[H+80+16>>2]=(w*y+m*I+h*l)*z+(w*u+m*d+h*C)*G+(w*J+m*F+h*T)*n,RD[H+80+20>>2]=(a*y+R*I+s*l)*z+(a*u+R*d+s*C)*G+(a*J+R*F+s*T)*n,RD[H+80+24>>2]=(A*y+N*I+M*l)*z+(A*u+N*d+M*C)*G+(A*J+N*F+M*T)*n,RD[H+80+28>>2]=0,RD[H+80+32>>2]=(w*y+m*I+h*l)*O+(w*u+m*d+h*C)*E+(w*J+m*F+h*T)*b,RD[H+80+36>>2]=(a*y+R*I+s*l)*O+(a*u+R*d+s*C)*E+(a*J+R*F+s*T)*b,RD[H+80+40>>2]=(A*y+N*I+M*l)*O+(A*u+N*d+M*C)*E+(A*J+N*F+M*T)*b,RD[H+80+44>>2]=0,RD[H+80+48>>2]=S,RD[H+80+52>>2]=x,RD[H+80+56>>2]=v,RD[H+80+60>>2]=0,e_(H+344|0,H+216|0,H,H+208|0),v=+RD[H+208>>2],x=1/r*+RD[H>>2]*v,S=1/r*v*+RD[H+4>>2],v=1/r*v*+RD[H+8>>2],e_(H+16|0,H+80|0,H,H+208|0),b=+RD[H+208>>2],x-=+RD[H+408>>2],S-=+RD[H+408+4>>2],v-=+RD[H+408+8>>2],T=1/r*+RD[H>>2]*b-+RD[H+424>>2],M=1/r*b*+RD[H+4>>2]-+RD[H+424+4>>2],b=1/r*b*+RD[H+8>>2]-+RD[H+424+8>>2],x*x+S*S+v*v>1.1920928955078125e-7?(h=1/+ND(+(x*x+S*S+v*v)),k=CD[t+28>>2]|0,d=x*h,a=x*h*(x*h*+RD[k+264>>2]+S*h*+RD[k+280>>2]+v*h*+RD[k+296>>2])+S*h*(x*h*+RD[k+268>>2]+S*h*+RD[k+284>>2]+v*h*+RD[k+300>>2])+v*h*(x*h*+RD[k+272>>2]+S*h*+RD[k+288>>2]+v*h*+RD[k+304>>2]),l=S*h,h=v*h):(d=0,a=0,l=0,h=0),T*T+M*M+b*b>1.1920928955078125e-7?(m=1/+ND(+(T*T+M*M+b*b)),k=CD[t+32>>2]|0,u=T*m,n=T*m*(T*m*+RD[k+264>>2]+M*m*+RD[k+280>>2]+b*m*+RD[k+296>>2])+M*m*(T*m*+RD[k+268>>2]+M*m*+RD[k+284>>2]+b*m*+RD[k+300>>2])+b*m*(T*m*+RD[k+272>>2]+M*m*+RD[k+288>>2]+b*m*+RD[k+304>>2]),s=M*m,m=b*m):(u=0,n=0,s=0,m=0),y=d*a+u*n,d=l*a+s*n,l=h*a+m*n,l*l+(y*y+d*d)>1.1920928955078125e-7&&(m=1/+ND(+(l*l+(y*y+d*d))),g=CD[t+28>>2]|0,u=y*m*(y*m*+RD[g+264>>2]+d*m*+RD[g+280>>2]+l*m*+RD[g+296>>2])+d*m*(y*m*+RD[g+268>>2]+d*m*+RD[g+284>>2]+l*m*+RD[g+300>>2])+l*m*(y*m*+RD[g+272>>2]+d*m*+RD[g+288>>2]+l*m*+RD[g+304>>2]),o=CD[t+32>>2]|0,m=y*m*(y*m*+RD[o+264>>2]+d*m*+RD[o+280>>2]+l*m*+RD[o+296>>2])+d*m*(y*m*+RD[o+268>>2]+d*m*+RD[o+284>>2]+l*m*+RD[o+300>>2])+l*m*(y*m*+RD[o+272>>2]+d*m*+RD[o+288>>2]+l*m*+RD[o+304>>2]),s=1/((u+m)*(u+m))*(x*u-T*m),a=1/((u+m)*(u+m))*(S*u-M*m),m=1/((u+m)*(u+m))*(v*u-b*m),n=+RD[t+572>>2],n>=0?(TD[t+553>>0]|0&&(n/=u),h=+RD[t+576>>2],u=+RD[t+580>>2],d=+RD[t+584>>2],l=+ND(+((s+h)*(s+h)+(a+u)*(a+u)+(m+d)*(m+d))),l>n?(s=n*(s+h)*(1/l)-h,a=n*(a+u)*(1/l)-u,n=n*(m+d)*(1/l)-d):n=m,RD[t+576>>2]=s+h,RD[t+580>>2]=a+u,RD[t+584>>2]=n+d):n=m,l=+ND(+(n*n+(a*a+s*s))),s*=1/l,a*=1/l,n*=1/l,CD[e+240>>2]|0&&(X=s*+RD[g+296>>2]+a*+RD[g+300>>2]+n*+RD[g+304>>2],W=s*+RD[g+280>>2]+a*+RD[g+284>>2]+n*+RD[g+288>>2],U=s*+RD[g+264>>2]+a*+RD[g+268>>2]+n*+RD[g+272>>2],z=l*0*+RD[e+116>>2],j=l*0*+RD[e+120>>2],RD[e+64>>2]=l*0*+RD[e+112>>2]+ +RD[e+64>>2],RD[e+68>>2]=z+ +RD[e+68>>2],RD[e+72>>2]=j+ +RD[e+72>>2],W=W*l*+RD[e+100>>2],X=X*l*+RD[e+104>>2],RD[e+80>>2]=U*l*+RD[e+96>>2]+ +RD[e+80>>2],RD[e+84>>2]=W+ +RD[e+84>>2],RD[e+88>>2]=X+ +RD[e+88>>2],o=CD[t+32>>2]|0),CD[i+240>>2]|0&&(X=s*+RD[o+296>>2]+a*+RD[o+300>>2]+n*+RD[o+304>>2],W=s*+RD[o+280>>2]+a*+RD[o+284>>2]+n*+RD[o+288>>2],U=s*+RD[o+264>>2]+a*+RD[o+268>>2]+n*+RD[o+272>>2],z=l*-0*+RD[i+116>>2],j=l*-0*+RD[i+120>>2],RD[i+64>>2]=l*-0*+RD[i+112>>2]+ +RD[i+64>>2],RD[i+68>>2]=z+ +RD[i+68>>2],RD[i+72>>2]=j+ +RD[i+72>>2],W=W*+RD[i+100>>2]*-l,X=X*+RD[i+104>>2]*-l,RD[i+80>>2]=U*+RD[i+96>>2]*-l+ +RD[i+80>>2],RD[i+84>>2]=W+ +RD[i+84>>2],RD[i+88>>2]=X+ +RD[i+88>>2])),D=e+80|0,c=e+196|0,P=e+84|0,p=e+200|0,B=e+88|0,f=i+192|0,V=i+80|0,_=i+196|0,L=i+84|0,g=i+200|0,k=i+88|0,o=e+192|0;else{if(d=+RD[t+440>>2],!(d>1.1920928955078125e-7)){D=e+80|0,c=e+196|0,P=e+84|0,p=e+200|0,B=e+88|0,f=i+192|0,V=i+80|0,_=i+196|0,L=i+84|0,g=i+200|0,k=i+88|0,o=e+192|0;break}u=+RD[i+192>>2]+ +RD[i+80>>2]-(+RD[e+192>>2]+ +RD[e+80>>2]),l=+RD[i+196>>2]+ +RD[i+84>>2]-(+RD[e+196>>2]+ +RD[e+84>>2]),s=+RD[i+200>>2]+ +RD[i+88>>2]-(+RD[e+200>>2]+ +RD[e+88>>2]),u*u+l*l+s*s>1.1920928955078125e-7?(x=1/+ND(+(u*u+l*l+s*s)),o=CD[t+28>>2]|0,y=+RD[o+264>>2],h=+RD[o+280>>2],m=+RD[o+296>>2],n=+RD[o+268>>2],b=+RD[o+284>>2],v=+RD[o+300>>2],M=+RD[o+272>>2],S=+RD[o+288>>2],T=+RD[o+304>>2],o=CD[t+32>>2]|0,d*=1/(u*x*(u*x*y+l*x*h+s*x*m)+l*x*(u*x*n+l*x*b+s*x*v)+s*x*(u*x*M+l*x*S+s*x*T)+(u*x*(u*x*+RD[o+264>>2]+l*x*+RD[o+280>>2]+s*x*+RD[o+296>>2])+l*x*(u*x*+RD[o+268>>2]+l*x*+RD[o+284>>2]+s*x*+RD[o+300>>2])+s*x*(u*x*+RD[o+272>>2]+l*x*+RD[o+288>>2]+s*x*+RD[o+304>>2]))),x=+ND(+(s*d*s*d+(u*d*u*d+l*d*l*d))),a=1/x*u*d,u=1/x*l*d,d=1/x*s*d,CD[e+240>>2]|0&&(F=x*0*+RD[e+116>>2],N=x*0*+RD[e+120>>2],RD[e+64>>2]=x*0*+RD[e+112>>2]+ +RD[e+64>>2],RD[e+68>>2]=F+ +RD[e+68>>2],RD[e+72>>2]=N+ +RD[e+72>>2],N=(a*h+u*b+d*S)*x*+RD[e+100>>2],F=(a*m+u*v+d*T)*x*+RD[e+104>>2],RD[e+80>>2]=(a*y+u*n+d*M)*x*+RD[e+96>>2]+ +RD[e+80>>2],RD[e+84>>2]=N+ +RD[e+84>>2],RD[e+88>>2]=F+ +RD[e+88>>2],o=CD[t+32>>2]|0),CD[i+240>>2]|0?(F=a*+RD[o+296>>2]+u*+RD[o+300>>2]+d*+RD[o+304>>2],N=a*+RD[o+280>>2]+u*+RD[o+284>>2]+d*+RD[o+288>>2],J=a*+RD[o+264>>2]+u*+RD[o+268>>2]+d*+RD[o+272>>2],E=x*-0*+RD[i+116>>2],A=x*-0*+RD[i+120>>2],RD[i+64>>2]=x*-0*+RD[i+112>>2]+ +RD[i+64>>2],RD[i+68>>2]=E+ +RD[i+68>>2],RD[i+72>>2]=A+ +RD[i+72>>2],N=N*+RD[i+100>>2]*-x,F=F*+RD[i+104>>2]*-x,RD[i+80>>2]=J*+RD[i+96>>2]*-x+ +RD[i+80>>2],RD[i+84>>2]=N+ +RD[i+84>>2],RD[i+88>>2]=F+ +RD[i+88>>2],D=e+80|0,c=e+196|0,P=e+84|0,p=e+200|0,B=e+88|0,f=i+192|0,V=i+80|0,_=i+196|0,L=i+84|0,g=i+200|0,k=i+88|0,o=e+192|0):(D=e+80|0,c=e+196|0,P=e+84|0,p=e+200|0,B=e+88|0,f=i+192|0,V=i+80|0,_=i+196|0,L=i+84|0,g=i+200|0,k=i+88|0,o=e+192|0)):(D=e+80|0,c=e+196|0,P=e+84|0,p=e+200|0,B=e+88|0,f=i+192|0,V=i+80|0,_=i+196|0,L=i+84|0,g=i+200|0,k=i+88|0,o=e+192|0)
}while(0);return R=+RD[o>>2]+ +RD[D>>2],y=+RD[c>>2]+ +RD[P>>2],b=+RD[p>>2]+ +RD[B>>2],C=+RD[f>>2]+ +RD[V>>2],E=+RD[_>>2]+ +RD[L>>2],A=+RD[g>>2]+ +RD[k>>2],TD[t+526>>0]|0&&(u=+RD[t+528>>2],d=u*+RD[t+504>>2]*+RD[t+432>>2]/r,x=+RD[t+460>>2],T=+RD[t+464>>2],M=+RD[t+468>>2],(C-R)*x+(E-y)*T+(A-b)*M>0&&(d+=u*((C-R)*x+(E-y)*T+(A-b)*M)*+RD[t+436>>2]),U=+RD[t+516>>2],j=U+d*+RD[t+492>>2],j=j>0?j:0,RD[t+516>>2]=j,S=+RD[t+536>>2],z=+RD[t+540>>2],W=+RD[t+544>>2],X=S*x*(j-U)+T*(j-U)*z+M*(j-U)*W,v=+ND(+((M*(j-U)-W*X)*(M*(j-U)-W*X)+((x*(j-U)-S*X)*(x*(j-U)-S*X)+(T*(j-U)-z*X)*(T*(j-U)-z*X)))),S=1/v*(x*(j-U)-S*X),T=1/v*(T*(j-U)-z*X),x=1/v*(M*(j-U)-W*X),g=CD[t+28>>2]|0,CD[e+240>>2]|0&&(X=S*+RD[g+296>>2]+T*+RD[g+300>>2]+x*+RD[g+304>>2],W=S*+RD[g+280>>2]+T*+RD[g+284>>2]+x*+RD[g+288>>2],U=S*+RD[g+264>>2]+T*+RD[g+268>>2]+x*+RD[g+272>>2],z=v*0*+RD[e+116>>2],j=v*0*+RD[e+120>>2],RD[e+64>>2]=v*0*+RD[e+112>>2]+ +RD[e+64>>2],RD[e+68>>2]=z+ +RD[e+68>>2],RD[e+72>>2]=j+ +RD[e+72>>2],W=W*v*+RD[e+100>>2],X=X*v*+RD[e+104>>2],RD[D>>2]=U*v*+RD[e+96>>2]+ +RD[D>>2],RD[P>>2]=W+ +RD[P>>2],RD[B>>2]=X+ +RD[B>>2]),g=CD[t+32>>2]|0,CD[i+240>>2]|0&&(X=S*+RD[g+296>>2]+T*+RD[g+300>>2]+x*+RD[g+304>>2],W=S*+RD[g+280>>2]+T*+RD[g+284>>2]+x*+RD[g+288>>2],U=S*+RD[g+264>>2]+T*+RD[g+268>>2]+x*+RD[g+272>>2],z=v*-0*+RD[i+116>>2],j=v*-0*+RD[i+120>>2],RD[i+64>>2]=v*-0*+RD[i+112>>2]+ +RD[i+64>>2],RD[i+68>>2]=z+ +RD[i+68>>2],RD[i+72>>2]=j+ +RD[i+72>>2],W=W*+RD[i+100>>2]*-v,X=X*+RD[i+104>>2]*-v,RD[V>>2]=U*+RD[i+96>>2]*-v+ +RD[V>>2],RD[L>>2]=W+ +RD[L>>2],RD[k>>2]=X+ +RD[k>>2])),TD[t+525>>0]|0?(d=+RD[t+532>>2],l=d*+RD[t+508>>2]*+RD[t+432>>2]/r,s=+RD[t+476>>2],a=+RD[t+480>>2],n=+RD[t+484>>2],(C-R)*s+(E-y)*a+(A-b)*n>0&&(l+=d*((C-R)*s+(E-y)*a+(A-b)*n)*+RD[t+436>>2]),u=+RD[t+520>>2],d=u+l*+RD[t+496>>2],d=d>0?d:0,RD[t+520>>2]=d,o=CD[t+28>>2]|0,CD[e+240>>2]|0&&(X=s*+RD[o+296>>2]+a*+RD[o+300>>2]+n*+RD[o+304>>2],W=s*+RD[o+280>>2]+a*+RD[o+284>>2]+n*+RD[o+288>>2],n=s*+RD[o+264>>2]+a*+RD[o+268>>2]+n*+RD[o+272>>2],s=(d-u)*0*+RD[e+116>>2],a=(d-u)*0*+RD[e+120>>2],RD[e+64>>2]=(d-u)*0*+RD[e+112>>2]+ +RD[e+64>>2],RD[e+68>>2]=s+ +RD[e+68>>2],RD[e+72>>2]=a+ +RD[e+72>>2],a=W*(d-u)*+RD[e+100>>2],s=X*(d-u)*+RD[e+104>>2],RD[D>>2]=n*(d-u)*+RD[e+96>>2]+ +RD[D>>2],RD[P>>2]=a+ +RD[P>>2],RD[B>>2]=s+ +RD[B>>2],s=+RD[t+476>>2],a=+RD[t+480>>2],n=+RD[t+484>>2]),o=CD[t+32>>2]|0,CD[i+240>>2]|0?(X=s*+RD[o+296>>2]+a*+RD[o+300>>2]+n*+RD[o+304>>2],W=s*+RD[o+280>>2]+a*+RD[o+284>>2]+n*+RD[o+288>>2],U=s*+RD[o+264>>2]+a*+RD[o+268>>2]+n*+RD[o+272>>2],z=(d-u)*-0*+RD[i+116>>2],j=(d-u)*-0*+RD[i+120>>2],RD[i+64>>2]=(d-u)*-0*+RD[i+112>>2]+ +RD[i+64>>2],RD[i+68>>2]=z+ +RD[i+68>>2],RD[i+72>>2]=j+ +RD[i+72>>2],W=W*+RD[i+100>>2]*-(d-u),X=X*+RD[i+104>>2]*-(d-u),RD[V>>2]=U*+RD[i+96>>2]*-(d-u)+ +RD[V>>2],RD[L>>2]=W+ +RD[L>>2],RD[k>>2]=X+ +RD[k>>2],void(BD=H)):void(BD=H)):void(BD=H)}function yv(t,e,i,r){t|=0,e|=0,i=+i,r=+r;var o=0,n=0,a=0,s=0,l=0,c=0;s=+GD(+i),a=+zD(+i),i=+RD[e+444>>2],+JD(+s)>1.1920928955078125e-7?(l=+RD[e+448>>2],o=a*a,n=s*s,i=+ND(+((a*a/(s*s)+1)/(1/(l*l)+a*a/(s*s)/(i*i))))):(o=a*a,n=s*s),i*=.5,l=+zD(+i)/+ND(+(n+0+o)),i=+GD(+i),c=i*r+s*l*0-a*l*-0,n=i*0-a*l*r-l*0*0,o=i*0+l*0*0-s*l*r,r=-(l*0*r)-s*l*0-a*l*-0,RD[t>>2]=a*l*n+(i*c+r*-(l*0))-o*-(s*l),RD[t+4>>2]=o*-(l*0)+(i*n+r*-(s*l))-a*l*c,RD[t+8>>2]=c*-(s*l)+(a*l*r+i*o)-n*-(l*0),RD[t+12>>2]=0}function bv(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0;CD[t+556>>2]=CD[e>>2],CD[t+556+4>>2]=CD[e+4>>2],CD[t+556+8>>2]=CD[e+8>>2],CD[t+556+12>>2]=CD[e+12>>2],a=+RD[t+568>>2],l=+RD[t+560>>2],c=+RD[t+564>>2],s=+RD[t+556>>2],r=-s-l*0-c*0,i=(c+a*0-s*0)*-c+(a*(a+l*0-c*0)+r*-s)-(a*0+s*0-l)*-l,o=(a*0+s*0-l)*-s+(a*(c+a*0-s*0)+r*-l)-(a+l*0-c*0)*-c,r=(a+l*0-c*0)*-l+(r*-c+a*(a*0+s*0-l))-(c+a*0-s*0)*-s,r*0+(o*0+i)<-.9999998807907104?+JD(0)>.7071067690849304?(n=0,r=ID,o=ID,i=0):(n=-0,r=1,o=0,i=0):(g=+ND(+((r*0+(o*0+i)+1)*2)),n=(r*0-o*0)*(1/g),r=(i*0-r)*(1/g),o=(o-i*0)*(1/g),i=g*.5),f=1/+ND(+(i*i+(o*o+(r*r+n*n)))),u=n*f,d=r*f,p=o*f,r=i*f,f=1/+ND(+((r*a-s*-u-l*-d-c*-p)*(r*a-s*-u-l*-d-c*-p)+((a*-p+r*c+l*-u-s*-d)*(a*-p+r*c+l*-u-s*-d)+((r*s+a*-u+c*-d-l*-p)*(r*s+a*-u+c*-d-l*-p)+(s*-p+(a*-d+r*l)-c*-u)*(s*-p+(a*-d+r*l)-c*-u))))),_=(r*s+a*-u+c*-d-l*-p)*f,g=f*(s*-p+(a*-d+r*l)-c*-u),m=f*(a*-p+r*c+l*-u-s*-d),f*=r*a-s*-u-l*-d-c*-p,o=+RD[t+444>>2],(o>=.05000000074505806?(h=+RD[t+448>>2],h>=.05000000074505806):0)?(i=r<-1?-1:r,i=+jD(+(i>1?1:i))*2,i>1.1920928955078125e-7?(n=1/+ND(+(p*p+(u*u+d*d))),+JD(+(d*n))>1.1920928955078125e-7?(o=+ND(+((p*n*p*n/(d*n*d*n)+1)/(1/(h*h)+p*n*p*n/(d*n*d*n)/(o*o)))),a=u*n,s=d*n,n=p*n):(a=u*n,s=d*n,n=p*n)):(o=0,a=0,s=0,n=0),+JD(+i)>1.1920928955078125e-7?(i>o?i=o:(r=-o,i<r&&(i=r)),l=i*.5,c=+zD(+l)/+ND(+(n*n+(s*s+a*a))),l=+GD(+l),u=a*c,h=s*c,c=n*c):(l=r,h=d,c=p)):(l=r,h=d,c=p),a=+RD[t+452>>2],a>=.05000000074505806?(i=f<-1?-1:f,i=+jD(+(i>1?1:i))*2,i>3.1415927410125732?(i=f>1?-1:-f,i=+jD(+(i>1?1:i))*2,n=-_,o=-g,r=-m):(n=_,o=g,r=m),i>1.1920928955078125e-7?(p=1/+ND(+(r*r+(o*o+n*n))),n*=p,s=o*p,r*=p):s=o,+JD(+i)>1.1920928955078125e-7?(i>a?i=a:i<-a&&(i=-a),o=i*.5,i=+zD(+o)/+ND(+(r*r+(s*s+n*n))),n*=i,o=+GD(+o),r*=i,i=s*i):(n=_,o=f,r=m,i=g)):(n=_,o=f,r=m,i=g),RD[t+556>>2]=h*r+(u*o+l*n)-c*i,RD[t+560>>2]=c*n+(h*o+l*i)-u*r,RD[t+564>>2]=c*o+l*r+u*i-h*n,RD[t+568>>2]=l*o-u*n-h*i-c*r}function vv(t,e,i,r){return t|=0,e|=0,i=+i,r|=0,(e|0)==4|(e|0)==3?r>>>0<3?(RD[t+596>>2]=i,void(CD[t+592>>2]=CD[t+592>>2]|1)):(RD[t+604>>2]=i,void(CD[t+592>>2]=CD[t+592>>2]|4)):(e|0)==2|(e|0)==1?r>>>0<3?(RD[t+600>>2]=i,void(CD[t+592>>2]=CD[t+592>>2]|2)):void(RD[t+432>>2]=i):void 0}function Mv(t,e,i){t|=0,e|=0,i|=0;var r=0;do if((e|0)==4|(e|0)==3){if(i>>>0<3){r=+RD[t+596>>2];break}r=(i+-3|0)>>>0<3?+RD[t+604>>2]:0}else if((e|0)==2|(e|0)==1){if(i>>>0<3){r=+RD[t+600>>2];break}r=(i+-3|0)>>>0<3?+RD[t+432>>2]:0}else r=0;while(0);return+r}function Sv(t,e,i){t|=0,e|=0,i|=0,CD[t+300>>2]=CD[e>>2],CD[t+300+4>>2]=CD[e+4>>2],CD[t+300+8>>2]=CD[e+8>>2],CD[t+300+12>>2]=CD[e+12>>2],CD[t+316>>2]=CD[e+16>>2],CD[t+316+4>>2]=CD[e+16+4>>2],CD[t+316+8>>2]=CD[e+16+8>>2],CD[t+316+12>>2]=CD[e+16+12>>2],CD[t+332>>2]=CD[e+32>>2],CD[t+332+4>>2]=CD[e+32+4>>2],CD[t+332+8>>2]=CD[e+32+8>>2],CD[t+332+12>>2]=CD[e+32+12>>2],CD[t+348>>2]=CD[e+48>>2],CD[t+348+4>>2]=CD[e+48+4>>2],CD[t+348+8>>2]=CD[e+48+8>>2],CD[t+348+12>>2]=CD[e+48+12>>2],CD[t+364>>2]=CD[i>>2],CD[t+364+4>>2]=CD[i+4>>2],CD[t+364+8>>2]=CD[i+8>>2],CD[t+364+12>>2]=CD[i+12>>2],CD[t+380>>2]=CD[i+16>>2],CD[t+380+4>>2]=CD[i+16+4>>2],CD[t+380+8>>2]=CD[i+16+8>>2],CD[t+380+12>>2]=CD[i+16+12>>2],CD[t+396>>2]=CD[i+32>>2],CD[t+396+4>>2]=CD[i+32+4>>2],CD[t+396+8>>2]=CD[i+32+8>>2],CD[t+396+12>>2]=CD[i+32+12>>2],CD[t+412>>2]=CD[i+48>>2],CD[t+412+4>>2]=CD[i+48+4>>2],CD[t+412+8>>2]=CD[i+48+8>>2],CD[t+412+12>>2]=CD[i+48+12>>2],gP[CD[(CD[t>>2]|0)+8>>2]&255](t)}function Tv(t,e,i,r,o,n,a,s){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0;var l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0;CD[t+4>>2]=4,CD[t+8>>2]=-1,CD[t+12>>2]=-1,RD[t+16>>2]=3.4028234663852886e38,TD[t+20>>0]=1,TD[t+21>>0]=0,CD[t+24>>2]=-1,CD[t+28>>2]=e,CD[t+32>>2]=i,RD[t+36>>2]=0,RD[t+40>>2]=.30000001192092896,CD[t+44>>2]=0,CD[t>>2]=3840,RD[t+688>>2]=0,RD[t+692>>2]=-1,RD[t+696>>2]=.8999999761581421,RD[t+700>>2]=.30000001192092896,RD[t+704>>2]=1,RD[t+708>>2]=0,RD[t+712>>2]=0,TD[t+716>>0]=0,TD[t+736>>0]=0,TD[t+737>>0]=0,TD[t+738>>0]=0,TD[t+739>>0]=1,TD[t+740>>0]=s&1,CD[t+748>>2]=0,CD[t+600>>2]=CD[r>>2],CD[t+600+4>>2]=CD[r+4>>2],CD[t+600+8>>2]=CD[r+8>>2],CD[t+600+12>>2]=CD[r+12>>2],p=+RD[e+4>>2],d=+RD[e+20>>2],u=+RD[e+36>>2],h=+RD[n>>2],c=+RD[n+4>>2],l=+RD[n+8>>2];do{if(!(p*h+d*c+u*l>=.9999998807907104)){if(p*h+d*c+u*l<=-.9999998807907104){f=+RD[e+24>>2],y=+RD[e+44>>2],_=+RD[e+40>>2],b=+RD[e+12>>2],m=+RD[e+8>>2],g=+RD[e+28>>2];break}f=p*l-u*h,y=c*(u*c-d*l)-h*(p*l-u*h),_=d*h-p*c,b=l*(p*l-u*h)-c*(d*h-p*c),m=u*c-d*l,g=h*(d*h-p*c)-l*(u*c-d*l);break}f=+RD[e+24>>2],y=-+RD[e+44>>2],_=+RD[e+40>>2],b=-+RD[e+12>>2],m=+RD[e+8>>2],g=-+RD[e+28>>2]}while(0);RD[t+552>>2]=b,RD[t+556>>2]=m,RD[t+560>>2]=+RD[n>>2],RD[t+564>>2]=0,RD[t+568>>2]=g,RD[t+572>>2]=f,RD[t+576>>2]=+RD[n+4>>2],RD[t+580>>2]=0,RD[t+584>>2]=y,RD[t+588>>2]=_,RD[t+592>>2]=+RD[n+8>>2],RD[t+596>>2]=0,h=+RD[n+4>>2],_=+RD[a+8>>2],u=+RD[n+8>>2],f=+RD[a+4>>2],m=+RD[a>>2],l=+RD[n>>2];do{if(_*u+(h*f+m*l)<-.9999998807907104){if(+JD(+u)>.7071067690849304){c=1/+ND(+(h*h+u*u)),d=0,p=-(u*c),c=h*c,l=0;break}u=1/+ND(+(h*h+l*l)),d=0,p=l*u,c=0,l=-(h*u);break}v=+ND(+((_*u+(h*f+m*l)+1)*2)),d=v*.5,p=(u*m-_*l)*(1/v),c=(f*l-h*m)*(1/v),l=(h*_-u*f)*(1/v)}while(0);M=b*d+y*p-g*c,u=g*d+b*c-y*l,h=y*d+g*l-b*p,y=-(b*l)-g*p-y*c,g=-l,l=-p,p=-c,v=u*p+(d*M+y*g)-h*l,b=h*g+(d*u+y*l)-M*p,g=M*l+(y*p+d*h)-u*g,CD[t+664>>2]=CD[o>>2],CD[t+664+4>>2]=CD[o+4>>2],CD[t+664+8>>2]=CD[o+8>>2],CD[t+664+12>>2]=CD[o+12>>2],RD[t+616>>2]=v,RD[t+620>>2]=f*g-_*b,RD[t+624>>2]=+RD[a>>2],RD[t+628>>2]=0,RD[t+632>>2]=b,RD[t+636>>2]=_*v-m*g,RD[t+640>>2]=+RD[a+4>>2],RD[t+644>>2]=0,RD[t+648>>2]=g,RD[t+652>>2]=m*b-f*v,RD[t+656>>2]=+RD[a+8>>2],RD[t+660>>2]=0,RD[t+732>>2]=s?-1:1}function xv(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0;CD[t+4>>2]=4,CD[t>>2]=256,CD[t+8>>2]=-1,CD[t+12>>2]=-1,RD[t+16>>2]=3.4028234663852886e38,TD[t+20>>0]=1,TD[t+21>>0]=0,CD[t+24>>2]=-1,CD[t+28>>2]=e,av(),CD[t+32>>2]=2960,RD[t+36>>2]=0,RD[t+40>>2]=.30000001192092896,CD[t+44>>2]=0,CD[t>>2]=3840,CD[t+552>>2]=CD[i>>2],CD[t+552+4>>2]=CD[i+4>>2],CD[t+552+8>>2]=CD[i+8>>2],CD[t+552+12>>2]=CD[i+12>>2],CD[t+568>>2]=CD[i+16>>2],CD[t+568+4>>2]=CD[i+16+4>>2],CD[t+568+8>>2]=CD[i+16+8>>2],CD[t+568+12>>2]=CD[i+16+12>>2],CD[t+584>>2]=CD[i+32>>2],CD[t+584+4>>2]=CD[i+32+4>>2],CD[t+584+8>>2]=CD[i+32+8>>2],CD[t+584+12>>2]=CD[i+32+12>>2],CD[t+600>>2]=CD[i+48>>2],CD[t+600+4>>2]=CD[i+48+4>>2],CD[t+600+8>>2]=CD[i+48+8>>2],CD[t+600+12>>2]=CD[i+48+12>>2],CD[t+616>>2]=CD[i>>2],CD[t+616+4>>2]=CD[i+4>>2],CD[t+616+8>>2]=CD[i+8>>2],CD[t+616+12>>2]=CD[i+12>>2],CD[t+632>>2]=CD[i+16>>2],CD[t+632+4>>2]=CD[i+16+4>>2],CD[t+632+8>>2]=CD[i+16+8>>2],CD[t+632+12>>2]=CD[i+16+12>>2],CD[t+648>>2]=CD[i+32>>2],CD[t+648+4>>2]=CD[i+32+4>>2],CD[t+648+8>>2]=CD[i+32+8>>2],CD[t+648+12>>2]=CD[i+32+12>>2],CD[t+664>>2]=CD[i+48>>2],CD[t+664+4>>2]=CD[i+48+4>>2],CD[t+664+8>>2]=CD[i+48+8>>2],CD[t+664+12>>2]=CD[i+48+12>>2],RD[t+688>>2]=0,RD[t+692>>2]=-1,RD[t+696>>2]=.8999999761581421,RD[t+700>>2]=.30000001192092896,RD[t+704>>2]=1,RD[t+708>>2]=0,RD[t+712>>2]=0,TD[t+716>>0]=0,TD[t+736>>0]=0,TD[t+737>>0]=0,TD[t+738>>0]=0,TD[t+739>>0]=1,TD[t+740>>0]=r&1,CD[t+748>>2]=0,i=CD[t+28>>2]|0,l=+RD[t+600>>2],s=+RD[t+604>>2],a=+RD[t+608>>2],n=l*+RD[i+20>>2]+s*+RD[i+24>>2]+a*+RD[i+28>>2]+ +RD[i+56>>2],o=l*+RD[i+36>>2]+s*+RD[i+40>>2]+a*+RD[i+44>>2]+ +RD[i+60>>2],RD[t+664>>2]=l*+RD[i+4>>2]+s*+RD[i+8>>2]+a*+RD[i+12>>2]+ +RD[i+52>>2],RD[t+668>>2]=n,RD[t+672>>2]=o,RD[t+676>>2]=0,RD[t+732>>2]=r?-1:1}function Cv(t,e,i,r,o,n,a,s,l,c){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,c|=0;var h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0,N=0,F=0,G=0,z=0;P=BD,BD=BD+10240|0,J=+RD[n+52>>2]-+RD[o+52>>2],f=+RD[n+56>>2]-+RD[o+56>>2],RD[P+9328>>2]=+RD[n+48>>2]-+RD[o+48>>2],RD[P+9328+4>>2]=J,RD[P+9328+8>>2]=f,RD[P+9328+12>>2]=0,CD[P+9344>>2]=i,CD[P+9344+4>>2]=r,f=+RD[n>>2],J=+RD[o>>2],d=+RD[n+16>>2],p=+RD[o+16>>2],u=+RD[n+32>>2],N=+RD[o+32>>2],h=+RD[o+4>>2],F=+RD[o+20>>2],B=+RD[o+36>>2],v=+RD[o+8>>2],g=+RD[o+24>>2],_=+RD[o+40>>2],O=+RD[n+4>>2],I=+RD[n+20>>2],H=+RD[n+36>>2],k=+RD[n+8>>2],L=+RD[n+24>>2],V=+RD[n+40>>2],RD[P+9344+8>>2]=f*J+d*p+u*N,RD[P+9344+12>>2]=f*h+d*F+u*B,RD[P+9344+16>>2]=f*v+d*g+u*_,RD[P+9344+20>>2]=0,RD[P+9344+24>>2]=J*O+p*I+N*H,RD[P+9344+28>>2]=h*O+F*I+B*H,RD[P+9344+32>>2]=v*O+g*I+_*H,RD[P+9344+36>>2]=0,RD[P+9344+40>>2]=J*k+p*L+N*V,RD[P+9344+44>>2]=h*k+F*L+B*V,RD[P+9344+48>>2]=v*k+g*L+_*V,RD[P+9344+52>>2]=0,_=+RD[n+48>>2]-+RD[o+48>>2],g=+RD[n+52>>2]-+RD[o+52>>2],v=+RD[n+56>>2]-+RD[o+56>>2],B=+RD[o>>2],F=+RD[n>>2],h=+RD[o+16>>2],N=+RD[n+16>>2],p=+RD[o+32>>2],J=+RD[n+32>>2],u=+RD[o+4>>2],d=+RD[o+20>>2],f=+RD[o+36>>2],m=+RD[o+8>>2],M=+RD[o+24>>2],y=+RD[o+40>>2],RD[P+9344+56>>2]=B*F+h*N+p*J,RD[P+9344+60>>2]=B*O+h*I+p*H,RD[P+9344+64>>2]=B*k+h*L+p*V,RD[P+9344+68>>2]=0,RD[P+9344+72>>2]=F*u+N*d+J*f,RD[P+9344+76>>2]=O*u+I*d+H*f,RD[P+9344+80>>2]=k*u+L*d+V*f,RD[P+9344+84>>2]=0,RD[P+9344+88>>2]=F*m+N*M+J*y,RD[P+9344+92>>2]=O*m+I*M+H*y,RD[P+9344+96>>2]=k*m+L*M+V*y,RD[P+9344+100>>2]=0,RD[P+9344+104>>2]=_*B+g*h+v*p,RD[P+9344+108>>2]=_*u+g*d+v*f,RD[P+9344+112>>2]=_*m+g*M+v*y,RD[P+9344+116>>2]=0,CD[P+9344+120>>2]=71,CD[P+9344+124>>2]=0,CD[P+9472+364>>2]=0,CD[P+9472+128>>2]=0,CD[P+9472+128+4>>2]=0,CD[P+9472+128+8>>2]=0,CD[P+9472+128+12>>2]=0,CD[P+9472+376>>2]=2,CD[P+9472+368>>2]=0,RD[P+9472+144>>2]=0,y=+RD[P+9328>>2],v=+RD[P+9328+4>>2],M=+RD[P+9328+8>>2],RD[P+9852>>2]=-y,RD[P+9852+4>>2]=-v,RD[P+9852+8>>2]=-M,RD[P+9852+12>>2]=0;t:do if((w_(P+9472|0,P+9344|0,P+9852|0)|0)==1){E=P+16+9280|0,A=P+16+9288|0,w=P+16+9292|0,CD[E>>2]=0,CD[E+4>>2]=0,CD[E+8>>2]=0,CD[E+12>>2]=0,CD[P+16>>2]=9,D=P+16+40|0,CD[P+16+9276>>2]=0,CD[D>>2]=0,CD[D+4>>2]=0,CD[D+8>>2]=0,CD[D+12>>2]=0,CD[D+16>>2]=0,c=0;do t=128-c+-1|0,CD[P+16+2108+(t*56|0)+44>>2]=0,e=CD[A>>2]|0,CD[P+16+2108+(t*56|0)+48>>2]=e,e&&(CD[e+44>>2]=P+16+2108+(t*56|0)),CD[A>>2]=P+16+2108+(t*56|0),CD[w>>2]=(CD[w>>2]|0)+1,c=c+1|0;while((c|0)!=128);C=CD[P+9472+372>>2]|0;do if((CD[C+32>>2]|0)>>>0>1?SA(P+9472|0)|0:0){if(t=CD[E>>2]|0){S=CD[P+16+9284>>2]|0,T=CD[w>>2]|0;do c=t+48|0,b=CD[c>>2]|0,e=t+44|0,b&&(CD[b+44>>2]=CD[e>>2]),b=CD[e>>2]|0,b&&(CD[b+48>>2]=CD[c>>2]),(CD[E>>2]|0)==(t|0)&&(CD[E>>2]=CD[c>>2]),S=S+-1|0,CD[e>>2]=0,CD[c>>2]=CD[A>>2],e=CD[A>>2]|0,e&&(CD[e+44>>2]=t),CD[A>>2]=t,T=T+1|0,t=CD[E>>2]|0;while((t|0)!=0);CD[P+16+9284>>2]=S,CD[w>>2]=T}if(CD[P+16>>2]=0,CD[P+16+9276>>2]=0,t=CD[C>>2]|0,e=CD[C+12>>2]|0,F=+RD[e+16>>2],V=+RD[t+16>>2]-F,H=+RD[e+20>>2],I=+RD[t+20>>2]-H,O=+RD[e+24>>2],J=+RD[t+24>>2]-O,e=CD[C+4>>2]|0,k=+RD[e+16>>2]-F,N=+RD[e+20>>2]-H,L=+RD[e+24>>2]-O,b=CD[C+8>>2]|0,F=+RD[b+16>>2]-F,H=+RD[b+20>>2]-H,O=+RD[b+24>>2]-O,V*N*O+(I*L*F+J*k*H-V*L*H-I*k*O)-J*N*F<0?(CD[C>>2]=e,CD[C+4>>2]=t,F=+RD[C+16>>2],RD[C+16>>2]=+RD[C+20>>2],RD[C+20>>2]=F,c=e):(c=t,t=e),T=vA(P+16|0,c,t,b,1)|0,S=vA(P+16|0,CD[C+4>>2]|0,CD[C>>2]|0,CD[C+12>>2]|0,1)|0,c=vA(P+16|0,CD[C+8>>2]|0,CD[C+4>>2]|0,CD[C+12>>2]|0,1)|0,x=vA(P+16|0,CD[C>>2]|0,CD[C+8>>2]|0,CD[C+12>>2]|0,1)|0,(CD[P+16+9284>>2]|0)==4){if(b=CD[E>>2]|0,_=+RD[b+16>>2],t=CD[b+48>>2]|0){for(v=_*_,e=b;;){if(M=+RD[t+16>>2],b=M*M<v,e=b?t:e,t=CD[t+48>>2]|0,!t)break;v=b?M*M:v}_=+RD[e+16>>2]}else e=b;for(M=+RD[e>>2],y=+RD[e+4>>2],g=+RD[e+8>>2],v=+RD[e+12>>2],b=CD[e+20>>2]|0,C=CD[e+24>>2]|0,t=CD[e+28>>2]|0,TD[T+52>>0]=0,CD[T+32>>2]=S,TD[S+52>>0]=0,CD[S+32>>2]=T,TD[T+53>>0]=0,CD[T+36>>2]=c,TD[c+52>>0]=1,CD[c+32>>2]=T,TD[T+54>>0]=0,CD[T+40>>2]=x,TD[x+52>>0]=2,CD[x+32>>2]=T,TD[S+53>>0]=2,CD[S+36>>2]=x,TD[x+54>>0]=1,CD[x+40>>2]=S,TD[S+54>>0]=1,CD[S+40>>2]=c,TD[c+53>>0]=2,CD[c+36>>2]=S,TD[c+54>>0]=1,CD[c+40>>2]=x,TD[x+53>>0]=2,CD[x+36>>2]=c,CD[P+16>>2]=0,c=C,x=e,C=0;;){if(T=CD[P+16+9276>>2]|0,T>>>0>=64){R=47;break}if(CD[P+9312>>2]=0,CD[P+9312+4>>2]=0,CD[P+9312+8>>2]=0,CD[P+16+9276>>2]=T+1,C=C+1|0,TD[x+55>>0]=C,S=x+4|0,e=x+8|0,bA(P+9472|0,+RD[x>>2],+RD[S>>2],+RD[e>>2],P+16+60+(T<<5)|0),!(+RD[x>>2]*+RD[P+16+60+(T<<5)+16>>2]+ +RD[S>>2]*+RD[P+16+60+(T<<5)+20>>2]+ +RD[e>>2]*+RD[P+16+60+(T<<5)+24>>2]-+RD[x+16>>2]>9999999747378752e-20)){R=46;break}e=0,S=1;do S&=yA(P+16|0,C,P+16+60+(T<<5)|0,CD[x+32+(e<<2)>>2]|0,ED[x+52+e>>0]|0,P+9312|0)|0,e=e+1|0;while(!(e>>>0>2|S^1));if(!(S&(CD[P+9312+8>>2]|0)>>>0>2)){R=45;break}if(t=CD[P+9312>>2]|0,c=CD[P+9312+4>>2]|0,TD[t+53>>0]=2,CD[t+36>>2]=c,TD[c+54>>0]=1,CD[c+40>>2]=t,c=x+48|0,t=CD[c>>2]|0,e=x+44|0,t&&(CD[t+44>>2]=CD[e>>2]),t=CD[e>>2]|0,t&&(CD[t+48>>2]=CD[c>>2]),(CD[E>>2]|0)==(x|0)&&(CD[E>>2]=CD[c>>2]),CD[P+16+9284>>2]=(CD[P+16+9284>>2]|0)+-1,CD[e>>2]=0,CD[c>>2]=CD[A>>2],t=CD[A>>2]|0,t&&(CD[t+44>>2]=x),CD[A>>2]=x,CD[w>>2]=(CD[w>>2]|0)+1,e=CD[E>>2]|0,_=+RD[e+16>>2],t=CD[e+48>>2]|0){for(y=_*_,c=e;;){if(_=+RD[t+16>>2],e=_*_<y,c=e?t:c,t=CD[t+48>>2]|0,!t)break;y=e?_*_:y}_=+RD[c+16>>2],e=c}if(M=+RD[e>>2],y=+RD[e+4>>2],g=+RD[e+8>>2],v=+RD[e+12>>2],b=CD[e+20>>2]|0,c=CD[e+24>>2]|0,t=CD[e+28>>2]|0,C>>>0>=255){e=c;break}x=e}if((R|0)==45?(CD[P+16>>2]=4,e=c):(R|0)==46?(CD[P+16>>2]=7,e=c):(R|0)==47&&(CD[P+16>>2]=6,e=c),k=_*M,L=_*y,J=_*g,RD[D>>2]=M,RD[P+16+44>>2]=y,RD[P+16+48>>2]=g,RD[P+16+52>>2]=v,RD[P+16+56>>2]=_,CD[P+16+36>>2]=3,CD[P+16+4>>2]=b,CD[P+16+8>>2]=e,CD[P+16+12>>2]=t,E=e+16|0,O=+RD[E>>2]-k,A=e+20|0,M=+RD[A>>2]-L,w=e+24|0,I=+RD[w>>2]-J,C=t+16|0,v=+RD[C>>2]-k,x=t+20|0,H=+RD[x>>2]-L,T=t+24|0,N=+RD[T>>2]-J,N=+ND(+((O*H-M*v)*(O*H-M*v)+((M*N-I*H)*(M*N-I*H)+(I*v-O*N)*(I*v-O*N)))),RD[P+16+20>>2]=N,O=+RD[C>>2]-k,v=+RD[x>>2]-L,I=+RD[T>>2]-J,T=b+16|0,H=+RD[T>>2]-k,x=b+20|0,M=+RD[x>>2]-L,C=b+24|0,F=+RD[C>>2]-J,F=+ND(+((O*M-v*H)*(O*M-v*H)+((v*F-I*M)*(v*F-I*M)+(I*H-O*F)*(I*H-O*F)))),RD[P+16+24>>2]=F,O=+RD[T>>2]-k,H=+RD[x>>2]-L,I=+RD[C>>2]-J,k=+RD[E>>2]-k,M=+RD[A>>2]-L,J=+RD[w>>2]-J,J=+ND(+((O*M-H*k)*(O*M-H*k)+((H*J-I*M)*(H*J-I*M)+(I*k-O*J)*(I*k-O*J)))),RD[P+16+20>>2]=N/(J+(N+F)),RD[P+16+24>>2]=F/(J+(N+F)),RD[P+16+28>>2]=J/(J+(N+F)),(CD[P+16>>2]|0)!=9){if(CD[P+16+36>>2]|0){b=P+16+36|0,R=53;break}_=0,f=0,d=0;break}t=0,y=0,g=0,m=0,u=0,p=0,h=0,v=0,M=0,_=0;break t}R=48}else R=48;while(0);if((R|0)==48&&(CD[P+16>>2]=8,RD[D>>2]=y,RD[P+16+44>>2]=v,RD[P+16+48>>2]=M,RD[P+16+52>>2]=0,_=+ND(+(y*y+v*v+M*M)),_>0?(u=1/_*M,f=1/_*v,d=1/_*y):(u=0,f=0,d=1),RD[D>>2]=d,RD[P+16+44>>2]=f,RD[P+16+48>>2]=u,RD[P+16+52>>2]=0,RD[P+16+56>>2]=0,CD[P+16+36>>2]=1,CD[P+16+4>>2]=CD[C>>2],RD[P+16+20>>2]=1,b=P+16+36|0,R=53),(R|0)==53){d=0,f=0,_=0,c=0;do t=CD[P+9344+120>>2]|0,R=CD[P+9344+124>>2]|0,e=(CD[P+9344>>2]|0)+(R>>1)|0,R&1&&(t=CD[(CD[e>>2]|0)+t>>2]|0),QP[t&127](P,e,CD[P+16+4+(c<<2)>>2]|0),F=+RD[P+16+20+(c<<2)>>2],d+=+RD[P>>2]*F,f+=F*+RD[P+4>>2],_+=F*+RD[P+8>>2],c=c+1|0;while(c>>>0<(CD[b>>2]|0)>>>0)}B=+RD[o>>2],V=+RD[o+4>>2],L=+RD[o+8>>2],O=+RD[o+16>>2],J=+RD[o+20>>2],N=+RD[o+24>>2],H=+RD[o+32>>2],I=+RD[o+36>>2],k=+RD[o+40>>2],v=+RD[o+48>>2],F=+RD[o+52>>2],M=+RD[o+56>>2],u=+RD[D>>2],m=+RD[P+16+56>>2],p=+RD[P+16+44>>2],h=+RD[P+16+48>>2],z=d-u*m,G=f-m*p,m=_-m*h,t=1,y=z*B+G*V+m*L+v,g=z*O+G*J+m*N+F,m=z*H+G*I+m*k+M,u=-u,p=-p,h=-h,v=d*B+f*V+_*L+v,M=d*H+f*I+_*k+M,_=d*O+f*J+_*N+F}else t=0,y=0,g=0,m=0,u=0,p=0,h=0,v=0,M=0,_=0;while(0);if(t)return RD[s>>2]=v,RD[s+4>>2]=_,RD[s+8>>2]=M,RD[s+12>>2]=0,RD[l>>2]=y,RD[l+4>>2]=g,RD[l+8>>2]=m,RD[l+12>>2]=0,RD[a>>2]=u,RD[a+4>>2]=p,RD[a+8>>2]=h,RD[a+12>>2]=0,l=1,BD=P,l|0;if(CD[P+9472>>2]=i,CD[P+9472+4>>2]=r,u=+RD[n>>2],L=+RD[o>>2],d=+RD[n+16>>2],v=+RD[o+16>>2],f=+RD[n+32>>2],H=+RD[o+32>>2],M=+RD[o+4>>2],I=+RD[o+20>>2],k=+RD[o+36>>2],J=+RD[o+8>>2],F=+RD[o+24>>2],z=+RD[o+40>>2],_=+RD[n+4>>2],m=+RD[n+20>>2],B=+RD[n+36>>2],g=+RD[n+8>>2],V=+RD[n+24>>2],y=+RD[n+40>>2],RD[P+9472+8>>2]=u*L+d*v+f*H,RD[P+9472+12>>2]=u*M+d*I+f*k,RD[P+9472+16>>2]=u*J+d*F+f*z,RD[P+9472+20>>2]=0,RD[P+9472+24>>2]=L*_+v*m+H*B,RD[P+9472+28>>2]=M*_+I*m+k*B,RD[P+9472+32>>2]=J*_+F*m+z*B,RD[P+9472+36>>2]=0,RD[P+9472+40>>2]=L*g+v*V+H*y,RD[P+9472+44>>2]=M*g+I*V+k*y,RD[P+9472+48>>2]=J*g+F*V+z*y,RD[P+9472+52>>2]=0,O=+RD[n+48>>2]-+RD[o+48>>2],N=+RD[n+52>>2]-+RD[o+52>>2],G=+RD[n+56>>2]-+RD[o+56>>2],RD[P+9472+56>>2]=u*L+d*v+f*H,RD[P+9472+60>>2]=L*_+v*m+H*B,RD[P+9472+64>>2]=L*g+v*V+H*y,RD[P+9472+68>>2]=0,RD[P+9472+72>>2]=u*M+d*I+f*k,RD[P+9472+76>>2]=M*_+I*m+k*B,RD[P+9472+80>>2]=M*g+I*V+k*y,RD[P+9472+84>>2]=0,RD[P+9472+88>>2]=u*J+d*F+f*z,RD[P+9472+92>>2]=J*_+F*m+z*B,RD[P+9472+96>>2]=J*g+F*V+z*y,RD[P+9472+100>>2]=0,RD[P+9472+104>>2]=O*L+N*v+G*H,RD[P+9472+108>>2]=O*M+N*I+G*k,RD[P+9472+112>>2]=O*J+N*F+G*z,RD[P+9472+116>>2]=0,CD[P+9472+120>>2]=72,CD[P+9472+124>>2]=0,CD[P+9852+364>>2]=0,CD[P+9852+128>>2]=0,CD[P+9852+128+4>>2]=0,CD[P+9852+128+8>>2]=0,CD[P+9852+128+12>>2]=0,CD[P+9852+376>>2]=2,CD[P+9852+368>>2]=0,RD[P+9852+144>>2]=0,w_(P+9852|0,P+9472|0,P+9328|0)|0)return l=0,BD=P,l|0;if(c=CD[P+9852+372>>2]|0,CD[c+32>>2]|0){p=0,f=0,_=0,h=0,u=0,d=0,T=0;do M=+RD[c+16+(T<<2)>>2],t=CD[P+9472+120>>2]|0,i=CD[P+9472+124>>2]|0,e=(CD[P+9472>>2]|0)+(i>>1)|0,i&1&&(t=CD[(CD[e>>2]|0)+t>>2]|0),QP[t&127](P+16|0,e,CD[c+(T<<2)>>2]|0),p+=M*+RD[P+16>>2],f+=M*+RD[P+16+4>>2],_+=M*+RD[P+16+8>>2],t=CD[(CD[P+9852+372>>2]|0)+(T<<2)>>2]|0,m=-+RD[t>>2],g=-+RD[t+4>>2],y=-+RD[t+8>>2],t=CD[P+9472+120>>2]|0,i=CD[P+9472+124>>2]|0,e=(CD[P+9472+4>>2]|0)+(i>>1)|0,i&1&&(t=CD[(CD[e>>2]|0)+t>>2]|0),G=+RD[P+9472+24>>2]*m+ +RD[P+9472+28>>2]*g+ +RD[P+9472+32>>2]*y,F=+RD[P+9472+40>>2]*m+ +RD[P+9472+44>>2]*g+ +RD[P+9472+48>>2]*y,RD[P+9344>>2]=+RD[P+9472+8>>2]*m+ +RD[P+9472+12>>2]*g+ +RD[P+9472+16>>2]*y,RD[P+9344+4>>2]=G,RD[P+9344+8>>2]=F,RD[P+9344+12>>2]=0,QP[t&127](P+9312|0,e,P+9344|0),F=+RD[P+9312>>2],G=+RD[P+9312+4>>2],z=+RD[P+9312+8>>2],h+=M*(F*+RD[P+9472+56>>2]+G*+RD[P+9472+60>>2]+z*+RD[P+9472+64>>2]+ +RD[P+9472+104>>2]),u+=M*(F*+RD[P+9472+72>>2]+G*+RD[P+9472+76>>2]+z*+RD[P+9472+80>>2]+ +RD[P+9472+108>>2]),d+=M*(F*+RD[P+9472+88>>2]+G*+RD[P+9472+92>>2]+z*+RD[P+9472+96>>2]+ +RD[P+9472+112>>2]),T=T+1|0,c=CD[P+9852+372>>2]|0;while(T>>>0<(CD[c+32>>2]|0)>>>0)}else _=0,f=0,p=0,d=0,u=0,h=0;return B=+RD[o>>2],g=+RD[o+4>>2],V=+RD[o+8>>2],L=+RD[o+16>>2],v=+RD[o+20>>2],H=+RD[o+24>>2],I=+RD[o+32>>2],k=+RD[o+36>>2],O=+RD[o+40>>2],y=+RD[o+48>>2],M=+RD[o+52>>2],J=+RD[o+56>>2],N=p-h,F=f-u,z=_-d,G=+ND(+(N*N+F*F+z*z)),G=G>9999999747378752e-20?1/G:1,RD[s>>2]=p*B+f*g+_*V+y,RD[s+4>>2]=p*L+f*v+_*H+M,RD[s+8>>2]=p*I+f*k+_*O+J,RD[s+12>>2]=0,RD[l>>2]=h*B+u*g+d*V+y,RD[l+4>>2]=h*L+u*v+d*H+M,RD[l+8>>2]=h*I+u*k+d*O+J,RD[l+12>>2]=0,RD[a>>2]=G*N,RD[a+4>>2]=G*F,RD[a+8>>2]=G*z,RD[a+12>>2]=0,l=0,BD=P,l|0}function Ev(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0;var a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0;if(_=BD,BD=BD+288|0,m=CD[t+4>>2]|0,TD[m+312>>0]=0,CD[m>>2]=0,TD[m+356>>0]=1,RD[m+292>>2]=0xde0b6b000000000,RD[m+296>>2]=0xde0b6b000000000,RD[m+300>>2]=0xde0b6b000000000,RD[m+304>>2]=0,CD[m+336>>2]=0,CD[m+336+4>>2]=0,CD[m+336+8>>2]=0,CD[m+336+12>>2]=0,TD[m+336+16>>0]=0,TD[m+332>>0]=TD[m+332>>0]&-16,d=+RD[i+48>>2]-+RD[e+48>>2]-(+RD[o+48>>2]-+RD[r+48>>2]),p=+RD[i+52>>2]-+RD[e+52>>2]-(+RD[o+52>>2]-+RD[r+52>>2]),f=+RD[i+56>>2]-+RD[e+56>>2]-(+RD[o+56>>2]-+RD[r+56>>2]),CD[_+216>>2]=19192,RD[_+216+36>>2]=0xde0b6b000000000,TD[_+216+40>>0]=0,m=CD[t+8>>2]|0,u=CD[t+12>>2]|0,t=CD[t+4>>2]|0,CD[_+136>>2]=19400,RD[_+136+4>>2]=0,RD[_+136+8>>2]=1,RD[_+136+12>>2]=0,RD[_+136+16>>2]=0,CD[_+136+20>>2]=0,CD[_+136+24>>2]=t,CD[_+136+28>>2]=m,CD[_+136+32>>2]=u,CD[_+136+36>>2]=CD[m+4>>2],CD[_+136+40>>2]=CD[u+4>>2],h=+VP[CD[(CD[m>>2]|0)+48>>2]&15](m),RD[_+136+44>>2]=h,h=+VP[CD[(CD[u>>2]|0)+48>>2]&15](u),RD[_+136+48>>2]=h,TD[_+136+52>>0]=0,CD[_+136+60>>2]=-1,CD[_+136+72>>2]=1,CD[_+136+76>>2]=1,RD[_+128>>2]=0xde0b6b000000000,CD[_>>2]=CD[e>>2],CD[_+4>>2]=CD[e+4>>2],CD[_+8>>2]=CD[e+8>>2],CD[_+12>>2]=CD[e+12>>2],CD[_+16>>2]=CD[e+16>>2],CD[_+16+4>>2]=CD[e+16+4>>2],CD[_+16+8>>2]=CD[e+16+8>>2],CD[_+16+12>>2]=CD[e+16+12>>2],CD[_+32>>2]=CD[e+32>>2],CD[_+32+4>>2]=CD[e+32+4>>2],CD[_+32+8>>2]=CD[e+32+8>>2],CD[_+32+12>>2]=CD[e+32+12>>2],CD[_+48>>2]=CD[e+48>>2],CD[_+48+4>>2]=CD[e+48+4>>2],CD[_+48+8>>2]=CD[e+48+8>>2],CD[_+48+12>>2]=CD[e+48+12>>2],CD[_+64>>2]=CD[r>>2],CD[_+64+4>>2]=CD[r+4>>2],CD[_+64+8>>2]=CD[r+8>>2],CD[_+64+12>>2]=CD[r+12>>2],CD[_+80>>2]=CD[r+16>>2],CD[_+80+4>>2]=CD[r+16+4>>2],CD[_+80+8>>2]=CD[r+16+8>>2],CD[_+80+12>>2]=CD[r+16+12>>2],CD[_+96>>2]=CD[r+32>>2],CD[_+96+4>>2]=CD[r+32+4>>2],CD[_+96+8>>2]=CD[r+32+8>>2],CD[_+96+12>>2]=CD[r+32+12>>2],CD[_+112>>2]=CD[r+48>>2],CD[_+112+4>>2]=CD[r+48+4>>2],CD[_+112+8>>2]=CD[r+48+8>>2],CD[_+112+12>>2]=CD[r+48+12>>2],Bv(_+136|0,_,_+216|0,0,0),t=(TD[_+216+40>>0]|0)==0,u=_+216+20|0,CD[_+264>>2]=CD[u>>2],CD[_+264+4>>2]=CD[u+4>>2],CD[_+264+8>>2]=CD[u+8>>2],CD[_+264+12>>2]=CD[u+12>>2],t)return m=0,BD=_,m|0;h=+RD[_+216+36>>2],s=+RD[_+216+4>>2],l=+RD[_+216+8>>2],c=+RD[_+216+12>>2],a=+RD[_+216+16>>2];do if(h>.0010000000474974513){for(a=0,t=0;;){if((t|0)>31){t=0,e=13;break}if(g=a,a-=h/(f*c+(p*l+d*s)),!(!(a<=g)&(!(a<0)&!(a>1)))){t=0,e=13;break}if(mP[CD[CD[n>>2]>>2]&31](n,a),g=1-a,RD[_+48>>2]=g*+RD[e+48>>2]+a*+RD[i+48>>2],RD[_+52>>2]=g*+RD[e+52>>2]+a*+RD[i+52>>2],RD[_+56>>2]=g*+RD[e+56>>2]+a*+RD[i+56>>2],RD[_+112>>2]=g*+RD[r+48>>2]+a*+RD[o+48>>2],RD[_+116>>2]=g*+RD[r+52>>2]+a*+RD[o+52>>2],RD[_+120>>2]=g*+RD[r+56>>2]+a*+RD[o+56>>2],Bv(_+136|0,_,_+216|0,0,0),!(TD[_+216+40>>0]|0)){t=0,e=13;break}if(h=+RD[_+216+36>>2],h<0){e=8;break}if(CD[_+264>>2]=CD[u>>2],CD[_+264+4>>2]=CD[u+4>>2],CD[_+264+8>>2]=CD[u+8>>2],CD[_+264+12>>2]=CD[u+12>>2],s=+RD[_+216+4>>2],l=+RD[_+216+8>>2],c=+RD[_+216+12>>2],!(h>.0010000000474974513)){e=10;break}t=t+1|0}if((e|0)==8)return RD[n+164>>2]=a,h=+RD[_+216+8>>2],d=+RD[_+216+12>>2],g=+RD[_+216+16>>2],RD[n+132>>2]=+RD[_+216+4>>2],RD[n+136>>2]=h,RD[n+140>>2]=d,RD[n+144>>2]=g,CD[n+148>>2]=CD[u>>2],CD[n+148+4>>2]=CD[u+4>>2],CD[n+148+8>>2]=CD[u+8>>2],CD[n+148+12>>2]=CD[u+12>>2],m=1,BD=_,m|0;if((e|0)==10){h=+RD[_+216+16>>2];break}if((e|0)==13)return BD=_,t|0}else h=a,a=0;while(0);return f*c+(p*l+d*s)>=-+RD[n+172>>2]?(m=0,BD=_,m|0):(RD[n+164>>2]=a,RD[n+132>>2]=s,RD[n+136>>2]=l,RD[n+140>>2]=c,RD[n+144>>2]=h,CD[n+148>>2]=CD[_+264>>2],CD[n+148+4>>2]=CD[_+264+4>>2],CD[n+148+8>>2]=CD[_+264+8>>2],CD[n+148+12>>2]=CD[_+264+12>>2],m=1,BD=_,m|0)}function Av(t){t|=0}function wv(t,e,i,r,o,n,a,s,l,c,h){t|=0,e|=0,i=+i,r=+r,o=+o,n=+n,a=+a,s=+s,l|=0,c|=0,h=+h;var u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0;return M=+RD[t>>2]*n+ +RD[t+16>>2]*a+ +RD[t+32>>2]*s,S=+RD[t+4>>2]*n+ +RD[t+20>>2]*a+ +RD[t+36>>2]*s,y=+RD[t+8>>2]*n+ +RD[t+24>>2]*a+ +RD[t+40>>2]*s,b=+RD[e>>2]*n+ +RD[e+16>>2]*a+ +RD[e+32>>2]*s,v=+RD[e+4>>2]*n+ +RD[e+20>>2]*a+ +RD[e+36>>2]*s,g=+RD[e+8>>2]*n+ +RD[e+24>>2]*a+ +RD[e+40>>2]*s,u=+RD[l+80>>2],M<0&&(u=-u),d=+RD[l+84>>2],S<0&&(d=-d),p=+RD[l+88>>2],y<0&&(p=-p),f=+RD[c+80>>2],b<0&&(f=-f),_=+RD[c+84>>2],v<0&&(_=-_),m=+RD[c+88>>2],g<0?(m=-m,M*=u,S*=d,S=M+S,y*=p,y=S+y,b*=f,S=v*_,S=b+S,b=g*m,b=S+b,l=l+96|0,S=+RD[l>>2],l=y>S,S=l?y:S,c=c+96|0,v=+RD[c>>2],c=b>v,v=c?b:v,v=S+v,S=i*n+r*a+o*s+v,o=v-(i*n+r*a+o*s),c=S<o,o=c?S:o,c=!(o>h),c|0):(M*=u,S*=d,S=M+S,y*=p,y=S+y,b*=f,S=v*_,S=b+S,b=g*m,b=S+b,l=l+96|0,S=+RD[l>>2],l=y>S,S=l?y:S,c=c+96|0,v=+RD[c>>2],c=b>v,v=c?b:v,v=S+v,S=i*n+r*a+o*s+v,o=v-(i*n+r*a+o*s),c=S<o,o=c?S:o,c=!(o>h),c|0)}function Rv(t,e,i,r,o,n,a){t|=0,e|=0,i|=0,r|=0,o=+o,n=+n,a|=0;var s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0,N=0,F=0,G=0,z=0,j=0,U=0,W=0,X=0,q=0,K=0,Y=0,Q=0,Z=0,$=0,te=0;if($=BD,BD=BD+64|0,TD[$+32+16>>0]=1,CD[$+32+12>>2]=0,CD[$+32+4>>2]=0,CD[$+32+8>>2]=0,l=CD[r+4>>2]|0,(l|0)>0?(CD[5108]=(CD[5108]|0)+1,s=Aw((l<<4|3)+16|0)|0,s?(CD[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,TD[$+32+16>>0]=1,CD[$+32+12>>2]=s,CD[$+32+8>>2]=l):s=0,h=CD[e+28>>2]|0,(h|0)>0){for(Q=CD[e+36>>2]|0,S=+RD[i>>2],T=+RD[i+4>>2],E=+RD[i+8>>2],A=+RD[i+16>>2],w=+RD[i+20>>2],f=+RD[i+24>>2],c=+RD[i+32>>2],p=+RD[i+36>>2],u=+RD[i+40>>2],_=+RD[t>>2],m=+RD[t+4>>2],g=+RD[t+8>>2],Z=-1,M=3.4028234663852886e38,l=0;;){if(y=+RD[Q+(l*36|0)+20>>2],b=+RD[Q+(l*36|0)+24>>2],v=+RD[Q+(l*36|0)+28>>2],d=(y*S+b*T+v*E)*_+(y*A+b*w+v*f)*m+(y*c+b*p+v*u)*g<M,Z=d?l:Z,(l|0)==(h+-1|0))break;M=d?(y*S+b*T+v*E)*_+(y*A+b*w+v*f)*m+(y*c+b*p+v*u)*g:M,l=l+1|0}if((Z|0)>=0){if(F=CD[Q+(Z*36|0)+4>>2]|0,(F|0)>0)for(G=Q+(Z*36|0)+12|0,U=Q+(Z*36|0)+20|0,z=Q+(Z*36|0)+24|0,j=Q+(Z*36|0)+28|0,M=S,m=T,y=E,v=A,g=w,N=0,J=r,W=$+32|0;;){if(V=CD[G>>2]|0,l=CD[V+(N<<2)>>2]|0,r=CD[e+16>>2]|0,N=N+1|0,V=CD[V+(((N|0)==(F|0)?0:N)<<2)>>2]|0,E=+RD[r+(l<<4)>>2],T=E-+RD[r+(V<<4)>>2],A=+RD[r+(l<<4)+4>>2],S=A-+RD[r+(V<<4)+4>>2],w=+RD[r+(l<<4)+8>>2],k=w-+RD[r+(V<<4)+8>>2],b=T*M+S*m+k*y,L=T*v+S*g+k*f,k=T*c+S*p+k*u,S=+RD[U>>2],T=+RD[z>>2],O=+RD[j>>2],H=M*S+m*T+y*O,I=v*S+g*T+f*O,O=c*S+p*T+u*O,y=(E*M+A*m+w*y+ +RD[i+48>>2])*-(L*O-k*I)+(E*v+A*g+w*f+ +RD[i+52>>2])*-(k*H-b*O)+(E*c+A*p+w*u+ +RD[i+56>>2])*-(b*I-L*H),V=J+4|0,r=CD[V>>2]|0,(r|0)>=2){for(s=J+12|0,h=CD[s>>2]|0,A=+RD[h+(r+-1<<4)>>2],w=+RD[h+(r+-1<<4)+4>>2],M=+RD[h+(r+-1<<4)+8>>2],R=W+4|0,D=W+8|0,P=W+12|0,x=W+16|0,S=A,T=w,E=M,M=A*-(L*O-k*I)+w*-(k*H-b*O)+M*-(b*I-L*H)-y,B=0;;){g=+RD[h+(B<<4)>>2],m=+RD[h+(B<<4)+4>>2],_=+RD[h+(B<<4)+8>>2],v=+RD[h+(B<<4)+12>>2],f=g*-(L*O-k*I)+m*-(k*H-b*O)+_*-(b*I-L*H)-y;do{if(M<0){if(f<0){if(h=CD[R>>2]|0,(h|0)==(CD[D>>2]|0)?(Y=(h|0)==0?1:h<<1,(h|0)<(Y|0)):0){if(Y?(CD[5108]=(CD[5108]|0)+1,h=Aw((Y<<4|3)+16|0)|0,h?(CD[(h+4+15&-16)+-4>>2]=h,h=h+4+15&-16):h=0,l=h,h=CD[R>>2]|0):l=0,(h|0)>0)for(h=h+-1|0,d=0;;){if(C=l+(d<<4)|0,te=(CD[P>>2]|0)+(d<<4)|0,CD[C>>2]=CD[te>>2],CD[C+4>>2]=CD[te+4>>2],CD[C+8>>2]=CD[te+8>>2],CD[C+12>>2]=CD[te+12>>2],(d|0)==(h|0))break;d=d+1|0}h=CD[P>>2]|0,h&&(TD[x>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[h+-4>>2]|0)),CD[P>>2]=0),TD[x>>0]=1,CD[P>>2]=l,CD[D>>2]=Y,h=CD[R>>2]|0}te=CD[P>>2]|0,RD[te+(h<<4)>>2]=g,RD[te+(h<<4)+4>>2]=m,RD[te+(h<<4)+8>>2]=_,RD[te+(h<<4)+12>>2]=v,CD[R>>2]=(CD[R>>2]|0)+1;break}if(A=M/(M-f),w=S+(g-S)*A,T+=(m-T)*A,A=E+(_-E)*A,h=CD[R>>2]|0,(h|0)==(CD[D>>2]|0)?(K=(h|0)==0?1:h<<1,(h|0)<(K|0)):0){if(K?(CD[5108]=(CD[5108]|0)+1,h=Aw((K<<4|3)+16|0)|0,h?(CD[(h+4+15&-16)+-4>>2]=h,h=h+4+15&-16):h=0,C=h,h=CD[R>>2]|0):C=0,(h|0)>0)for(h=h+-1|0,d=0;;){if(te=C+(d<<4)|0,l=(CD[P>>2]|0)+(d<<4)|0,CD[te>>2]=CD[l>>2],CD[te+4>>2]=CD[l+4>>2],CD[te+8>>2]=CD[l+8>>2],CD[te+12>>2]=CD[l+12>>2],(d|0)==(h|0))break;d=d+1|0}h=CD[P>>2]|0,h&&(TD[x>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[h+-4>>2]|0)),CD[P>>2]=0),TD[x>>0]=1,CD[P>>2]=C,CD[D>>2]=K,h=CD[R>>2]|0}te=CD[P>>2]|0,RD[te+(h<<4)>>2]=w,RD[te+(h<<4)+4>>2]=T,RD[te+(h<<4)+8>>2]=A,RD[te+(h<<4)+12>>2]=0,CD[R>>2]=(CD[R>>2]|0)+1;break}if(f<0){if(w=M/(M-f),S+=(g-S)*w,A=T+(m-T)*w,w=E+(_-E)*w,h=CD[R>>2]|0,(h|0)==(CD[D>>2]|0)?(q=(h|0)==0?1:h<<1,(h|0)<(q|0)):0){if(q?(CD[5108]=(CD[5108]|0)+1,h=Aw((q<<4|3)+16|0)|0,h?(CD[(h+4+15&-16)+-4>>2]=h,h=h+4+15&-16):h=0,C=h,h=CD[R>>2]|0):C=0,(h|0)>0)for(h=h+-1|0,d=0;;){if(te=C+(d<<4)|0,l=(CD[P>>2]|0)+(d<<4)|0,CD[te>>2]=CD[l>>2],CD[te+4>>2]=CD[l+4>>2],CD[te+8>>2]=CD[l+8>>2],CD[te+12>>2]=CD[l+12>>2],(d|0)==(h|0))break;d=d+1|0}h=CD[P>>2]|0,h&&(TD[x>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[h+-4>>2]|0)),CD[P>>2]=0),TD[x>>0]=1,CD[P>>2]=C,CD[D>>2]=q,h=CD[R>>2]|0}if(te=CD[P>>2]|0,RD[te+(h<<4)>>2]=S,RD[te+(h<<4)+4>>2]=A,RD[te+(h<<4)+8>>2]=w,RD[te+(h<<4)+12>>2]=0,h=(CD[R>>2]|0)+1|0,CD[R>>2]=h,(h|0)==(CD[D>>2]|0)?(X=(h|0)==0?1:h<<1,(h|0)<(X|0)):0){if(X?(CD[5108]=(CD[5108]|0)+1,h=Aw((X<<4|3)+16|0)|0,h?(CD[(h+4+15&-16)+-4>>2]=h,h=h+4+15&-16):h=0,l=h,h=CD[R>>2]|0):l=0,(h|0)>0)for(h=h+-1|0,d=0;;){if(te=l+(d<<4)|0,C=(CD[P>>2]|0)+(d<<4)|0,CD[te>>2]=CD[C>>2],CD[te+4>>2]=CD[C+4>>2],CD[te+8>>2]=CD[C+8>>2],CD[te+12>>2]=CD[C+12>>2],(d|0)==(h|0))break;d=d+1|0}h=CD[P>>2]|0,h&&(TD[x>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[h+-4>>2]|0)),CD[P>>2]=0),TD[x>>0]=1,CD[P>>2]=l,CD[D>>2]=X,h=CD[R>>2]|0}te=CD[P>>2]|0,RD[te+(h<<4)>>2]=g,RD[te+(h<<4)+4>>2]=m,RD[te+(h<<4)+8>>2]=_,RD[te+(h<<4)+12>>2]=v,CD[R>>2]=(CD[R>>2]|0)+1}}while(0);if((B|0)==(r+-1|0))break;h=CD[s>>2]|0,S=g,T=m,E=_,M=f,B=B+1|0}r=CD[V>>2]|0}if((r|0)<0)for(d=J+8|0,s=J+12|0,(CD[d>>2]|0)<0&&(l=CD[s>>2]|0,h=J+16|0,l&&(TD[h>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[l+-4>>2]|0)),CD[s>>2]=0),TD[h>>0]=1,CD[s>>2]=0,CD[d>>2]=0);;){if(te=(CD[s>>2]|0)+(r<<4)|0,CD[te>>2]=CD[$+16>>2],CD[te+4>>2]=CD[$+16+4>>2],CD[te+8>>2]=CD[$+16+8>>2],CD[te+12>>2]=CD[$+16+12>>2],(r|0)==-1)break;r=r+1|0}if(CD[V>>2]=0,M=+RD[i>>2],m=+RD[i+4>>2],y=+RD[i+8>>2],v=+RD[i+16>>2],g=+RD[i+20>>2],f=+RD[i+24>>2],c=+RD[i+32>>2],p=+RD[i+36>>2],u=+RD[i+40>>2],(N|0)>=(F|0)){l=z,d=j,x=i+48|0,C=i+52|0,s=i+56|0,h=U,r=W;break}te=W,W=J,J=te}else l=Q+(Z*36|0)+24|0,d=Q+(Z*36|0)+28|0,x=i+48|0,C=i+52|0,s=i+56|0,h=Q+(Z*36|0)+20|0,M=S,m=T,y=E,v=A,g=w;if(A=+RD[h>>2],w=+RD[l>>2],k=+RD[d>>2],_=A*M+w*m+k*y,f=A*v+w*g+k*f,p=A*c+w*p+k*u,u=+RD[Q+(Z*36|0)+32>>2]-(_*+RD[x>>2]+f*+RD[C>>2]+p*+RD[s>>2]),d=r+4|0,s=CD[d>>2]|0,(s|0)>0){r=r+12|0,h=0;do te=CD[r>>2]|0,l=te+(h<<4)|0,c=u+(_*+RD[l>>2]+f*+RD[te+(h<<4)+4>>2]+p*+RD[te+(h<<4)+8>>2]),c=c<=o?o:c,c<=n&&(CD[$>>2]=CD[l>>2],CD[$+4>>2]=CD[l+4>>2],CD[$+8>>2]=CD[l+8>>2],CD[$+12>>2]=CD[l+12>>2],YP[CD[(CD[a>>2]|0)+16>>2]&15](a,t,$,c),s=CD[d>>2]|0),h=h+1|0;while((h|0)<(s|0))}s=CD[$+32+12>>2]|0}}return s?(TD[$+32+16>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[s+-4>>2]|0)),CD[$+32+12>>2]=0,void(BD=$)):void(BD=$)}function Dv(t,e,i,r){t|=0,e|=0,i|=0,r|=0;
var o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0;return o=BD,BD=BD+288|0,CD[t+16>>2]|0?(k=CD[t+4>>2]|0,TD[k+312>>0]=0,CD[k>>2]=0,TD[k+356>>0]=1,RD[k+292>>2]=0xde0b6b000000000,RD[k+296>>2]=0xde0b6b000000000,RD[k+300>>2]=0xde0b6b000000000,RD[k+304>>2]=0,CD[k+336>>2]=0,CD[k+336+4>>2]=0,CD[k+336+8>>2]=0,CD[k+336+12>>2]=0,TD[k+336+16>>0]=0,TD[k+332>>0]=TD[k+332>>0]&-16,k=CD[t+12>>2]|0,L=CD[t+16>>2]|0,V=CD[k+4>>2]|0,B=CD[L+4>>2]|0,D=+VP[CD[(CD[k>>2]|0)+48>>2]&15](k),H=CD[t+16>>2]|0,P=+VP[CD[(CD[H>>2]|0)+48>>2]&15](H),H=CD[t+4>>2]|0,t=CD[t+8>>2]|0,CD[o+200>>2]=19400,RD[o+200+4>>2]=0,RD[o+200+8>>2]=1,RD[o+200+12>>2]=0,RD[o+200+16>>2]=0,CD[o+200+20>>2]=t,CD[o+200+24>>2]=H,CD[o+200+28>>2]=k,CD[o+200+32>>2]=L,CD[o+200+36>>2]=V,CD[o+200+40>>2]=B,RD[o+200+44>>2]=D,RD[o+200+48>>2]=P,TD[o+200+52>>0]=0,CD[o+200+60>>2]=-1,CD[o+200+72>>2]=1,CD[o+200+76>>2]=1,RD[o+64+128>>2]=0xde0b6b000000000,CD[o+64>>2]=CD[e>>2],CD[o+64+4>>2]=CD[e+4>>2],CD[o+64+8>>2]=CD[e+8>>2],CD[o+64+12>>2]=CD[e+12>>2],CD[o+64+16>>2]=CD[e+16>>2],CD[o+64+16+4>>2]=CD[e+16+4>>2],CD[o+64+16+8>>2]=CD[e+16+8>>2],CD[o+64+16+12>>2]=CD[e+16+12>>2],CD[o+64+32>>2]=CD[e+32>>2],CD[o+64+32+4>>2]=CD[e+32+4>>2],CD[o+64+32+8>>2]=CD[e+32+8>>2],CD[o+64+32+12>>2]=CD[e+32+12>>2],CD[o+64+48>>2]=CD[e+48>>2],CD[o+64+48+4>>2]=CD[e+48+4>>2],CD[o+64+48+8>>2]=CD[e+48+8>>2],CD[o+64+48+12>>2]=CD[e+48+12>>2],CD[o+64+64>>2]=CD[i>>2],CD[o+64+64+4>>2]=CD[i+4>>2],CD[o+64+64+8>>2]=CD[i+8>>2],CD[o+64+64+12>>2]=CD[i+12>>2],CD[o+64+80>>2]=CD[i+16>>2],CD[o+64+80+4>>2]=CD[i+16+4>>2],CD[o+64+80+8>>2]=CD[i+16+8>>2],CD[o+64+80+12>>2]=CD[i+16+12>>2],CD[o+64+96>>2]=CD[i+32>>2],CD[o+64+96+4>>2]=CD[i+32+4>>2],CD[o+64+96+8>>2]=CD[i+32+8>>2],CD[o+64+96+12>>2]=CD[i+32+12>>2],CD[o+64+112>>2]=CD[i+48>>2],CD[o+64+112+4>>2]=CD[i+48+4>>2],CD[o+64+112+8>>2]=CD[i+48+8>>2],CD[o+64+112+12>>2]=CD[i+48+12>>2],Bv(o+200|0,o+64|0,r,0,0),void(BD=o)):(B=CD[t+12>>2]|0,t=CD[t+20>>2]|0,c=+RD[e>>2],d=+RD[e+4>>2],m=+RD[e+8>>2],a=+RD[e+16>>2],p=+RD[e+20>>2],n=+RD[e+24>>2],l=+RD[e+32>>2],f=+RD[e+36>>2],s=+RD[e+40>>2],A=+RD[e+48>>2],E=+RD[e+52>>2],C=+RD[e+56>>2],P=+RD[i>>2],D=+RD[i+16>>2],v=+RD[i+32>>2],R=+RD[i+4>>2],w=+RD[i+20>>2],y=+RD[i+36>>2],g=+RD[i+8>>2],M=+RD[i+24>>2],b=+RD[i+40>>2],x=-+RD[i+48>>2],T=-+RD[i+52>>2],u=-+RD[i+56>>2],e=CD[(CD[B>>2]|0)+64>>2]|0,S=-+RD[t+48>>2],_=-+RD[t+52>>2],h=-+RD[t+56>>2],RD[o+32>>2]=(c*P+a*D+l*v)*S+(c*R+a*w+l*y)*_+(c*g+a*M+l*b)*h,RD[o+32+4>>2]=(d*P+p*D+f*v)*S+(d*R+p*w+f*y)*_+(d*g+p*M+f*b)*h,RD[o+32+8>>2]=(m*P+n*D+s*v)*S+(m*R+n*w+s*y)*_+(m*g+n*M+s*b)*h,RD[o+32+12>>2]=0,QP[e&127](o+48|0,B,o+32|0),h=+RD[o+48>>2],_=+RD[o+48+4>>2],S=+RD[o+48+8>>2],v=A*P+E*D+C*v+(P*x+D*T+v*u)+((c*P+a*D+l*v)*h+(d*P+p*D+f*v)*_+(m*P+n*D+s*v)*S),y=A*R+E*w+C*y+(R*x+w*T+y*u)+((c*R+a*w+l*y)*h+(d*R+p*w+f*y)*_+(m*R+n*w+s*y)*S),S=A*g+E*M+C*b+(g*x+M*T+b*u)+((c*g+a*M+l*b)*h+(d*g+p*M+f*b)*_+(m*g+n*M+s*b)*S),b=+RD[t+48>>2],s=+RD[t+52>>2],M=+RD[t+56>>2],n=M*S+(b*v+s*y)-+RD[t+64>>2],g=+RD[i>>2],m=+RD[i+4>>2],_=+RD[i+8>>2],f=+RD[i+16>>2],p=+RD[i+20>>2],d=+RD[i+24>>2],h=+RD[i+32>>2],l=+RD[i+36>>2],a=+RD[i+40>>2],c=f*(v-b*n)+(y-s*n)*p+(S-M*n)*d+ +RD[i+52>>2],u=(v-b*n)*h+(y-s*n)*l+(S-M*n)*a+ +RD[i+56>>2],RD[o+16>>2]=_*(S-M*n)+(g*(v-b*n)+m*(y-s*n))+ +RD[i+48>>2],RD[o+16+4>>2]=c,RD[o+16+8>>2]=u,RD[o+16+12>>2]=0,u=+RD[t+48>>2],c=+RD[t+52>>2],s=+RD[t+56>>2],RD[o>>2]=g*u+m*c+_*s,RD[o+4>>2]=u*f+c*p+s*d,RD[o+8>>2]=u*h+c*l+s*a,RD[o+12>>2]=0,YP[CD[(CD[r>>2]|0)+16>>2]&15](r,o,o+16|0,n),void(BD=o))}function Pv(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0;var a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0;if(C=BD,BD=BD+304|0,x=+RD[i+48>>2]-+RD[e+48>>2],S=+RD[i+52>>2]-+RD[e+52>>2],T=+RD[i+56>>2]-+RD[e+56>>2],e_(e,i,C+240|0,C+112|0),p=+RD[C+112>>2],u=+RD[C+240>>2]*p,d=p*+RD[C+240+4>>2],p*=+RD[C+240+8>>2],RD[C+16>>2]=u,RD[C+16+4>>2]=d,RD[C+16+8>>2]=p,RD[C+16+12>>2]=0,b=+RD[o+48>>2]-+RD[r+48>>2],v=+RD[o+52>>2]-+RD[r+52>>2],M=+RD[o+56>>2]-+RD[r+56>>2],e_(r,o,C+240|0,C+112|0),c=+RD[C+112>>2],a=+RD[C+240>>2]*c,l=c*+RD[C+240+4>>2],c*=+RD[C+240+8>>2],RD[C+32>>2]=a,RD[C+32+4>>2]=l,RD[C+32+8>>2]=c,RD[C+32+12>>2]=0,o=CD[t+12>>2]|0,h=+VP[CD[(CD[o>>2]|0)+16>>2]&15](o),o=CD[t+16>>2]|0,s=o?+VP[CD[(CD[o>>2]|0)+16>>2]&15](o):0,y=h*+ND(+(u*u+d*d+p*p))+s*+ND(+(a*a+l*l+c*c)),y+ +ND(+((b-x)*(b-x)+(v-S)*(v-S)+(M-T)*(M-T)))==0)return e=0,BD=C,e|0;CD[C+240>>2]=19192,RD[C+240+36>>2]=0xde0b6b000000000,TD[C+240+40>>0]=0,Dv(t,e,r,C+240|0),i=(TD[C+240+40>>0]|0)==0,CD[C+288>>2]=CD[C+240+20>>2],CD[C+288+4>>2]=CD[C+240+20+4>>2],CD[C+288+8>>2]=CD[C+240+20+8>>2],CD[C+288+12>>2]=CD[C+240+20+12>>2];t:do if(i?!0:(f=+RD[C+240+4>>2],_=+RD[C+240+8>>2],g=+RD[C+240+12>>2],y+((b-x)*f+(v-S)*_+(M-T)*g)<=1.1920928955078125e-7))i=0;else{for(u=_,d=g,h=+RD[C+240+16>>2],c=+RD[C+240+36>>2]+ +RD[n+172>>2],p=0,m=0;;){if(!(c>.0010000000474974513)){i=20;break}if(i=CD[n+168>>2]|0,i&&(o=CD[(CD[i>>2]|0)+20>>2]|0,RD[C>>2]=1,RD[C+4>>2]=1,RD[C+8>>2]=1,RD[C+12>>2]=0,SP[o&7](i,C+288|0,.20000000298023224,C)),a=y+((M-T)*d+((v-S)*u+(b-x)*f)),a<=1.1920928955078125e-7){i=0;break t}if(l=p+c/a,!(!(l<=p)&(!(l<0)&!(l>1)))){i=0;break t}if(t_(e,x,S,T,C+16|0,l,C+112|0),t_(r,b,v,M,C+32|0,l,C+48|0),i=CD[n+168>>2]|0,i&&(o=CD[(CD[i>>2]|0)+20>>2]|0,RD[C+224>>2]=1,RD[C+224+4>>2]=0,RD[C+224+8>>2]=0,RD[C+224+12>>2]=0,SP[o&7](i,C+112+48|0,.20000000298023224,C+224|0)),mP[CD[CD[n>>2]>>2]&31](n,l),CD[C+176>>2]=19192,RD[C+176+36>>2]=0xde0b6b000000000,TD[C+176+40>>0]=0,Dv(t,C+112|0,C+48|0,C+176|0),!(TD[C+176+40>>0]|0)){i=16;break}if(a=+RD[C+176+36>>2],s=+RD[n+172>>2],CD[C+288>>2]=CD[C+176+20>>2],CD[C+288+4>>2]=CD[C+176+20+4>>2],CD[C+288+8>>2]=CD[C+176+20+8>>2],CD[C+288+12>>2]=CD[C+176+20+12>>2],o=m+1|0,(m|0)>63){i=17;break}f=+RD[C+176+4>>2],u=+RD[C+176+8>>2],d=+RD[C+176+12>>2],h=+RD[C+176+16>>2],c=a+s,p=l,m=o}if((i|0)==16)QP[CD[(CD[n>>2]|0)+8>>2]&127](n,-1,m);else if((i|0)==17)QP[CD[(CD[n>>2]|0)+8>>2]&127](n,-2,o);else if((i|0)==20){RD[n+164>>2]=p,RD[n+132>>2]=f,RD[n+136>>2]=u,RD[n+140>>2]=d,RD[n+144>>2]=h,CD[n+148>>2]=CD[C+288>>2],CD[n+148+4>>2]=CD[C+288+4>>2],CD[n+148+8>>2]=CD[C+288+8>>2],CD[n+148+12>>2]=CD[C+288+12>>2],i=1;break}i=0}while(0);return e=i,BD=C,e|0}function Bv(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0;P=BD,BD=BD+288|0,RD[t+56>>2]=0,CD[P>>2]=0,CD[P+4>>2]=0,CD[P+8>>2]=0,CD[P+12>>2]=0,CD[P+32>>2]=CD[e>>2],CD[P+32+4>>2]=CD[e+4>>2],CD[P+32+8>>2]=CD[e+8>>2],CD[P+32+12>>2]=CD[e+12>>2],CD[P+32+16>>2]=CD[e+16>>2],CD[P+32+16+4>>2]=CD[e+16+4>>2],CD[P+32+16+8>>2]=CD[e+16+8>>2],CD[P+32+16+12>>2]=CD[e+16+12>>2],CD[P+32+32>>2]=CD[e+32>>2],CD[P+32+32+4>>2]=CD[e+32+4>>2],CD[P+32+32+8>>2]=CD[e+32+8>>2],CD[P+32+32+12>>2]=CD[e+32+12>>2],m=P+32+48|0,CD[m>>2]=CD[e+48>>2],CD[m+4>>2]=CD[e+48+4>>2],CD[m+8>>2]=CD[e+48+8>>2],CD[m+12>>2]=CD[e+48+12>>2],CD[P+192>>2]=CD[e+64>>2],CD[P+192+4>>2]=CD[e+64+4>>2],CD[P+192+8>>2]=CD[e+64+8>>2],CD[P+192+12>>2]=CD[e+64+12>>2],CD[P+192+16>>2]=CD[e+80>>2],CD[P+192+16+4>>2]=CD[e+80+4>>2],CD[P+192+16+8>>2]=CD[e+80+8>>2],CD[P+192+16+12>>2]=CD[e+80+12>>2],CD[P+192+32>>2]=CD[e+96>>2],CD[P+192+32+4>>2]=CD[e+96+4>>2],CD[P+192+32+8>>2]=CD[e+96+8>>2],CD[P+192+32+12>>2]=CD[e+96+12>>2],g=P+192+48|0,CD[g>>2]=CD[e+112>>2],CD[g+4>>2]=CD[e+112+4>>2],CD[g+8>>2]=CD[e+112+8>>2],CD[g+12>>2]=CD[e+112+12>>2],C=+RD[m>>2],E=+RD[g>>2],A=+RD[P+32+52>>2],w=+RD[P+192+52>>2],R=+RD[P+32+56>>2],D=+RD[P+192+56>>2],RD[m>>2]=C-(C+E)*.5,RD[P+32+52>>2]=A-(A+w)*.5,RD[P+32+56>>2]=R-(R+D)*.5,RD[g>>2]=E-(C+E)*.5,RD[P+192+52>>2]=w-(A+w)*.5,RD[P+192+56>>2]=D-(R+D)*.5,o=((CD[(CD[t+28>>2]|0)+4>>2]|0)+-17|0)>>>0<2?((CD[(CD[t+32>>2]|0)+4>>2]|0)+-17|0)>>>0<2:0,y=+RD[t+44>>2],x=+RD[t+48>>2],CD[4846]=(CD[4846]|0)+1,g=(TD[t+52>>0]|0)==0,x=g?x:0,CD[t+64>>2]=0,RD[t+4>>2]=0,RD[t+8>>2]=1,RD[t+12>>2]=0,RD[t+16>>2]=0,CD[t+68>>2]=0,CD[t+60>>2]=-1,y=(g?y:0)+x,g=CD[t+24>>2]|0,TD[g+312>>0]=0,CD[g>>2]=0,TD[g+356>>0]=1,RD[g+292>>2]=0xde0b6b000000000,RD[g+296>>2]=0xde0b6b000000000,RD[g+300>>2]=0xde0b6b000000000,RD[g+304>>2]=0,CD[g+336>>2]=0,CD[g+336+4>>2]=0,CD[g+336+8>>2]=0,CD[g+336+12>>2]=0,TD[g+336+16>>0]=0,TD[g+332>>0]=TD[g+332>>0]&-16,a=+RD[t+4>>2],n=+RD[t+8>>2],s=+RD[t+12>>2];t:do if(o)for(l=n,n=0xde0b6b000000000;;){if(c=-a,_=-l,f=-s,p=+RD[e+4>>2]*c+ +RD[e+20>>2]*_+ +RD[e+36>>2]*f,S=+RD[e+8>>2]*c+ +RD[e+24>>2]*_+ +RD[e+40>>2]*f,RD[P+112>>2]=+RD[e>>2]*c+ +RD[e+16>>2]*_+ +RD[e+32>>2]*f,RD[P+112+4>>2]=p,RD[P+112+8>>2]=S,RD[P+112+12>>2]=0,S=a*+RD[e+68>>2]+l*+RD[e+84>>2]+s*+RD[e+100>>2],p=a*+RD[e+72>>2]+l*+RD[e+88>>2]+s*+RD[e+104>>2],RD[P+176>>2]=+RD[e+64>>2]*a+ +RD[e+80>>2]*l+ +RD[e+96>>2]*s,RD[P+176+4>>2]=S,RD[P+176+8>>2]=p,RD[P+176+12>>2]=0,tp(P+256|0,CD[t+28>>2]|0,P+112|0),tp(P+272|0,CD[t+32>>2]|0,P+176|0),p=+RD[P+256>>2],S=+RD[P+256+4>>2],f=+RD[P+256+8>>2],_=p*+RD[P+32>>2]+S*+RD[P+32+4>>2]+f*+RD[P+32+8>>2]+ +RD[P+32+48>>2],f=p*+RD[P+32+16>>2]+S*+RD[P+32+20>>2]+f*+RD[P+32+24>>2]+ +RD[P+32+52>>2],S=+RD[P+272>>2],p=+RD[P+272+4>>2],c=+RD[P+272+8>>2],u=S*+RD[P+192>>2]+p*+RD[P+192+4>>2]+c*+RD[P+192+8>>2]+ +RD[P+192+48>>2],c=S*+RD[P+192+16>>2]+p*+RD[P+192+20>>2]+c*+RD[P+192+24>>2]+ +RD[P+192+52>>2],p=+RD[t+4>>2]*(_-u)+ +RD[t+8>>2]*(f-c)+ +RD[t+12>>2]*0,p>0?p*p>n*+RD[e+128>>2]:0){k=22;break t}if(m=CD[t+24>>2]|0,g=CD[m>>2]|0,(g|0)>0)for(d=+RD[m+308>>2],h=0,o=0;;){if(v=_-u-+RD[m+4+(o<<4)>>2],M=f-c-+RD[m+4+(o<<4)+4>>2],S=0-+RD[m+4+(o<<4)+8>>2],h|=v*v+M*M+S*S<=d,(o|0)==(g+-1|0))break;o=o+1|0}else h=0;if(o=((+RD[m+304>>2]==0?+RD[m+300>>2]==0:0)?f-c==+RD[m+296>>2]:0)?_-u==+RD[m+292>>2]:0,h|o){k=31;break t}if(a=n-p,a<=n*9.999999974752427e-7){k=33;break t}if(RD[m+292>>2]=_-u,RD[m+296>>2]=f-c,RD[m+300>>2]=0,RD[m+304>>2]=0,TD[m+356>>0]=1,RD[m+4+(g<<4)>>2]=_-u,RD[m+4+(g<<4)+4>>2]=f-c,RD[m+4+(g<<4)+8>>2]=0,RD[m+4+(g<<4)+12>>2]=0,g=CD[m>>2]|0,RD[m+84+(g<<4)>>2]=_,RD[m+84+(g<<4)+4>>2]=f,RD[m+84+(g<<4)+8>>2]=0,RD[m+84+(g<<4)+12>>2]=0,g=CD[m>>2]|0,RD[m+164+(g<<4)>>2]=u,RD[m+164+(g<<4)+4>>2]=c,RD[m+164+(g<<4)+8>>2]=0,RD[m+164+(g<<4)+12>>2]=0,CD[m>>2]=(CD[m>>2]|0)+1,m=CD[t+24>>2]|0,g=Lv(m)|0,a=+RD[m+276>>2],l=+RD[m+280>>2],s=+RD[m+284>>2],c=+RD[m+288>>2],!g){k=35;break t}if(u=n,n=a*a+l*l+s*s,n<9.999999974752427e-7){n=u,k=37;break t}if(u-n<=u*1.1920928955078125e-7){k=39;break t}if(RD[t+4>>2]=a,RD[t+8>>2]=l,RD[t+12>>2]=s,RD[t+16>>2]=c,g=CD[t+64>>2]|0,CD[t+64>>2]=g+1,(g|0)>1e3){S=0,m=0,c=0,s=0,u=0;break t}if((CD[CD[t+24>>2]>>2]|0)==4){k=42;break}}else for(l=n,n=0xde0b6b000000000;;){if(b=-a,M=-l,_=-s,v=+RD[e+4>>2]*b+ +RD[e+20>>2]*M+ +RD[e+36>>2]*_,S=+RD[e+8>>2]*b+ +RD[e+24>>2]*M+ +RD[e+40>>2]*_,RD[P+112>>2]=+RD[e>>2]*b+ +RD[e+16>>2]*M+ +RD[e+32>>2]*_,RD[P+112+4>>2]=v,RD[P+112+8>>2]=S,RD[P+112+12>>2]=0,S=a*+RD[e+68>>2]+l*+RD[e+84>>2]+s*+RD[e+100>>2],v=a*+RD[e+72>>2]+l*+RD[e+88>>2]+s*+RD[e+104>>2],RD[P+176>>2]=+RD[e+64>>2]*a+ +RD[e+80>>2]*l+ +RD[e+96>>2]*s,RD[P+176+4>>2]=S,RD[P+176+8>>2]=v,RD[P+176+12>>2]=0,tp(P+256|0,CD[t+28>>2]|0,P+112|0),tp(P+272|0,CD[t+32>>2]|0,P+176|0),v=+RD[P+256>>2],S=+RD[P+256+4>>2],_=+RD[P+256+8>>2],M=v*+RD[P+32>>2]+S*+RD[P+32+4>>2]+_*+RD[P+32+8>>2]+ +RD[P+32+48>>2],b=v*+RD[P+32+16>>2]+S*+RD[P+32+20>>2]+_*+RD[P+32+24>>2]+ +RD[P+32+52>>2],_=v*+RD[P+32+32>>2]+S*+RD[P+32+36>>2]+_*+RD[P+32+40>>2]+ +RD[P+32+56>>2],S=+RD[P+272>>2],v=+RD[P+272+4>>2],u=+RD[P+272+8>>2],f=S*+RD[P+192>>2]+v*+RD[P+192+4>>2]+u*+RD[P+192+8>>2]+ +RD[P+192+48>>2],d=S*+RD[P+192+16>>2]+v*+RD[P+192+20>>2]+u*+RD[P+192+24>>2]+ +RD[P+192+52>>2],u=S*+RD[P+192+32>>2]+v*+RD[P+192+36>>2]+u*+RD[P+192+40>>2]+ +RD[P+192+56>>2],v=+RD[t+4>>2]*(M-f)+ +RD[t+8>>2]*(b-d)+ +RD[t+12>>2]*(_-u),v>0?v*v>n*+RD[e+128>>2]:0){k=22;break t}if(g=CD[t+24>>2]|0,m=CD[g>>2]|0,(m|0)>0)for(p=+RD[g+308>>2],o=0,h=0;;){if(l=M-f-+RD[g+4+(h<<4)>>2],c=b-d-+RD[g+4+(h<<4)+4>>2],S=_-u-+RD[g+4+(h<<4)+8>>2],o|=l*l+c*c+S*S<=p,(h|0)==(m+-1|0))break;h=h+1|0}else o=0;if(h=((+RD[g+304>>2]==0?_-u==+RD[g+300>>2]:0)?b-d==+RD[g+296>>2]:0)?M-f==+RD[g+292>>2]:0,o|h){k=31;break t}if(a=n-v,a<=n*9.999999974752427e-7){k=33;break t}if(RD[g+292>>2]=M-f,RD[g+296>>2]=b-d,RD[g+300>>2]=_-u,RD[g+304>>2]=0,TD[g+356>>0]=1,RD[g+4+(m<<4)>>2]=M-f,RD[g+4+(m<<4)+4>>2]=b-d,RD[g+4+(m<<4)+8>>2]=_-u,RD[g+4+(m<<4)+12>>2]=0,m=CD[g>>2]|0,RD[g+84+(m<<4)>>2]=M,RD[g+84+(m<<4)+4>>2]=b,RD[g+84+(m<<4)+8>>2]=_,RD[g+84+(m<<4)+12>>2]=0,m=CD[g>>2]|0,RD[g+164+(m<<4)>>2]=f,RD[g+164+(m<<4)+4>>2]=d,RD[g+164+(m<<4)+8>>2]=u,RD[g+164+(m<<4)+12>>2]=0,CD[g>>2]=(CD[g>>2]|0)+1,m=CD[t+24>>2]|0,g=Lv(m)|0,a=+RD[m+276>>2],l=+RD[m+280>>2],s=+RD[m+284>>2],c=+RD[m+288>>2],!g){k=35;break t}if(u=n,n=a*a+l*l+s*s,n<9.999999974752427e-7){n=u,k=37;break t}if(u-n<=u*1.1920928955078125e-7){k=39;break t}if(RD[t+4>>2]=a,RD[t+8>>2]=l,RD[t+12>>2]=s,RD[t+16>>2]=c,g=CD[t+64>>2]|0,CD[t+64>>2]=g+1,(g|0)>1e3){S=0,m=0,c=0,s=0,u=0;break t}if((CD[CD[t+24>>2]>>2]|0)==4){k=42;break}}while(0);(k|0)==22?(CD[t+68>>2]=10,k=43):(k|0)==31?(CD[t+68>>2]=1,k=43):(k|0)==33?(CD[t+68>>2]=a<=0?2:11,k=43):(k|0)==35?(CD[t+68>>2]=3,k=43):(k|0)==37?(RD[t+4>>2]=a,RD[t+8>>2]=l,RD[t+12>>2]=s,RD[t+16>>2]=c,CD[t+68>>2]=6,k=43):(k|0)==39?(CD[t+68>>2]=12,k=43):(k|0)==42&&(CD[t+68>>2]=13,S=0,m=0,c=0,s=0,u=0);do if((k|0)==43){if(g=CD[t+24>>2]|0,Lv(g)|0,c=+RD[g+260>>2],s=+RD[g+264>>2],u=+RD[g+268>>2],CD[P>>2]=CD[t+4>>2],CD[P+4>>2]=CD[t+4+4>>2],CD[P+8>>2]=CD[t+4+8>>2],CD[P+12>>2]=CD[t+4+12>>2],l=+RD[t+4>>2],a=+RD[t+8>>2],d=+RD[t+12>>2],l*l+a*a+d*d<1e-4&&(CD[t+68>>2]=5),l*l+a*a+d*d>1.4210854715202004e-14){S=1/+ND(+(l*l+a*a+d*d)),RD[P>>2]=S*+RD[P>>2],RD[P+4>>2]=S*+RD[P+4>>2],RD[P+8>>2]=S*+RD[P+8>>2],M=x/+ND(+n),CD[t+60>>2]=1,S=1/S-y,m=1,c=M*l+c,s=M*a+s,u=M*d+u;break}CD[t+60>>2]=2,S=0,m=0;break}while(0);o=(((CD[t+72>>2]|0)!=0?(CD[t+20>>2]|0)!=0:0)?(CD[t+68>>2]|0)!=0:0)?y+S<.01:0,g=m^1;do if(o|g?(T=CD[t+20>>2]|0,(T|0)!=0):0){if(CD[4844]=(CD[4844]|0)+1,CD[t+4>>2]=0,CD[t+4+4>>2]=0,CD[t+4+8>>2]=0,CD[t+4+12>>2]=0,!(vP[CD[(CD[T>>2]|0)+8>>2]&3](T,CD[t+24>>2]|0,CD[t+28>>2]|0,CD[t+32>>2]|0,P+32|0,P+192|0,t+4|0,P+144|0,P+128|0,r)|0)){if(d=+RD[t+4>>2],n=+RD[t+8>>2],f=+RD[t+12>>2],!(d*d+n*n+f*f>0)){k=66;break}if(a=+RD[P+128>>2],v=+RD[P+144>>2]-a,p=+RD[P+128+4>>2],M=+RD[P+144+4>>2]-p,_=+RD[P+128+8>>2],l=+RD[P+144+8>>2]-_,l=+ND(+(v*v+M*M+l*l))-y,l<S|g){CD[P>>2]=CD[t+4>>2],CD[P+4>>2]=CD[t+4+4>>2],CD[P+8>>2]=CD[t+4+8>>2],CD[P+12>>2]=CD[t+4+12>>2],v=+RD[P>>2],M=+RD[P+4>>2],S=+RD[P+8>>2],c=1/+ND(+(v*v+M*M+S*S)),RD[P>>2]=v*c,RD[P+4>>2]=M*c,RD[P+8>>2]=S*c,CD[t+60>>2]=6,c=x*d+a,a=x*n+p,n=x*f+_;break}if(CD[t+60>>2]=5,m){l=S,a=s,n=u;break}return void(BD=P)}if(M=+RD[P+128>>2],d=+RD[P+144>>2],a=+RD[P+128+4>>2],l=+RD[P+144+4>>2],n=+RD[P+128+8>>2],f=+RD[P+144+8>>2],(M-d)*(M-d)+(a-l)*(a-l)+(n-f)*(n-f)<=1.4210854715202004e-14?(H=+RD[t+4>>2],x=+RD[t+8>>2],p=+RD[t+12>>2],_=p,y=x,b=H,v=+RD[t+16>>2],p=H*H+x*x+p*p):(_=n-f,y=a-l,b=M-d,v=0,p=(M-d)*(M-d)+(a-l)*(a-l)+(n-f)*(n-f)),!(p>1.4210854715202004e-14)){if(CD[t+60>>2]=9,m){l=S,a=s,n=u;break}return void(BD=P)}if(p=1/+ND(+p),l=-+ND(+((d-M)*(d-M)+(l-a)*(l-a)+(f-n)*(f-n))),S>l|g){RD[P>>2]=b*p,RD[P+4>>2]=y*p,RD[P+8>>2]=_*p,RD[P+12>>2]=v,CD[t+60>>2]=3,c=M;break}if(CD[t+60>>2]=8,!m)return void(BD=P);l=S,a=s,n=u}else k=66;while(0);if((k|0)==66){if(!m)return void(BD=P);l=S,a=s,n=u}return(l<0?!0:l*l<+RD[e+128>>2])?(((CD[t+76>>2]|0)!=0?(e=CD[t+28>>2]|0,eB[CD[(CD[e>>2]|0)+8>>2]&127](e,P+32|0,P+96|0,P+16|0),S=(+RD[P+16>>2]+ +RD[P+96>>2])*.5,x=(+RD[P+16+4>>2]+ +RD[P+96+4>>2])*.5,H=(+RD[P+16+8>>2]+ +RD[P+96+8>>2])*.5,e=CD[t+32>>2]|0,eB[CD[(CD[e>>2]|0)+8>>2]&127](e,P+192|0,P+96|0,P+16|0),B=+RD[P>>2],V=+RD[P+4>>2],L=+RD[P+8>>2],(S-(+RD[P+96>>2]+ +RD[P+16>>2])*.5)*B+(x-(+RD[P+96+4>>2]+ +RD[P+16+4>>2])*.5)*V+(H-(+RD[P+96+8>>2]+ +RD[P+16+8>>2])*.5)*L<0):0)&&(RD[P>>2]=-B,RD[P+4>>2]=-V,RD[P+8>>2]=-L),CD[t+4>>2]=CD[P>>2],CD[t+4+4>>2]=CD[P+4>>2],CD[t+4+8>>2]=CD[P+8>>2],CD[t+4+12>>2]=CD[P+12>>2],RD[t+56>>2]=l,e=CD[(CD[i>>2]|0)+16>>2]|0,RD[P+160>>2]=(C+E)*.5+c,RD[P+160+4>>2]=(A+w)*.5+a,RD[P+160+8>>2]=(R+D)*.5+n,RD[P+160+12>>2]=0,YP[e&15](i,P,P+160|0,l),void(BD=P)):void(BD=P)}function Vv(t,e){t|=0,e|=0;var i=0,r=0;i=CD[t>>2]|0;do{if(!((i|0)>3)){if((i|0)>2){i=3,r=6;break}if((i|0)>1){i=2,r=10;break}if((i|0)>0){i=1;break}return}TD[e>>0]&8?r=6:(CD[t>>2]=i+-1,r=t+4+(i+-1<<4)|0,CD[t+52>>2]=CD[r>>2],CD[t+52+4>>2]=CD[r+4>>2],CD[t+52+8>>2]=CD[r+8>>2],CD[t+52+12>>2]=CD[r+12>>2],r=t+84+(i+-1<<4)|0,CD[t+132>>2]=CD[r>>2],CD[t+132+4>>2]=CD[r+4>>2],CD[t+132+8>>2]=CD[r+8>>2],CD[t+132+12>>2]=CD[r+12>>2],r=t+164+(i+-1<<4)|0,CD[t+212>>2]=CD[r>>2],CD[t+212+4>>2]=CD[r+4>>2],CD[t+212+8>>2]=CD[r+8>>2],CD[t+212+12>>2]=CD[r+12>>2],i=i+-1|0,r=6)}while(0);(r|0)==6&&(TD[e>>0]&4?r=10:(i=i+-1|0,CD[t>>2]=i,CD[t+36>>2]=CD[t+4+(i<<4)>>2],CD[t+36+4>>2]=CD[t+4+(i<<4)+4>>2],CD[t+36+8>>2]=CD[t+4+(i<<4)+8>>2],CD[t+36+12>>2]=CD[t+4+(i<<4)+12>>2],CD[t+116>>2]=CD[t+84+(i<<4)>>2],CD[t+116+4>>2]=CD[t+84+(i<<4)+4>>2],CD[t+116+8>>2]=CD[t+84+(i<<4)+8>>2],CD[t+116+12>>2]=CD[t+84+(i<<4)+12>>2],CD[t+196>>2]=CD[t+164+(i<<4)>>2],CD[t+196+4>>2]=CD[t+164+(i<<4)+4>>2],CD[t+196+8>>2]=CD[t+164+(i<<4)+8>>2],CD[t+196+12>>2]=CD[t+164+(i<<4)+12>>2],r=10)),(r|0)==10&&(TD[e>>0]&2||(i=i+-1|0,CD[t>>2]=i,CD[t+20>>2]=CD[t+4+(i<<4)>>2],CD[t+20+4>>2]=CD[t+4+(i<<4)+4>>2],CD[t+20+8>>2]=CD[t+4+(i<<4)+8>>2],CD[t+20+12>>2]=CD[t+4+(i<<4)+12>>2],CD[t+100>>2]=CD[t+84+(i<<4)>>2],CD[t+100+4>>2]=CD[t+84+(i<<4)+4>>2],CD[t+100+8>>2]=CD[t+84+(i<<4)+8>>2],CD[t+100+12>>2]=CD[t+84+(i<<4)+12>>2],CD[t+180>>2]=CD[t+164+(i<<4)>>2],CD[t+180+4>>2]=CD[t+164+(i<<4)+4>>2],CD[t+180+8>>2]=CD[t+164+(i<<4)+8>>2],CD[t+180+12>>2]=CD[t+164+(i<<4)+12>>2])),TD[e>>0]&1||(r=i+-1|0,CD[t>>2]=r,CD[t+4>>2]=CD[t+4+(r<<4)>>2],CD[t+4+4>>2]=CD[t+4+(r<<4)+4>>2],CD[t+4+8>>2]=CD[t+4+(r<<4)+8>>2],CD[t+4+12>>2]=CD[t+4+(r<<4)+12>>2],CD[t+84>>2]=CD[t+84+(r<<4)>>2],CD[t+84+4>>2]=CD[t+84+(r<<4)+4>>2],CD[t+84+8>>2]=CD[t+84+(r<<4)+8>>2],CD[t+84+12>>2]=CD[t+84+(r<<4)+12>>2],CD[t+164>>2]=CD[t+164+(r<<4)>>2],CD[t+164+4>>2]=CD[t+164+(r<<4)+4>>2],CD[t+164+8>>2]=CD[t+164+(r<<4)+8>>2],CD[t+164+12>>2]=CD[t+164+(r<<4)+12>>2])}function Lv(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0,N=0,F=0,G=0;if(G=BD,BD=BD+80|0,!(TD[t+356>>0]|0))return O=TD[t+312>>0]|0,O=O<<24>>24!=0,BD=G,O|0;switch(CD[t+336>>2]=0,CD[t+336+4>>2]=0,CD[t+336+8>>2]=0,CD[t+336+12>>2]=0,TD[t+336+16>>0]=0,e=TD[t+332>>0]|0,TD[t+332>>0]=e&-16,TD[t+356>>0]=0,CD[t>>2]|0){case 2:i=+RD[t+4>>2],r=+RD[t+8>>2],o=+RD[t+12>>2],n=+RD[t+20>>2]-i,a=+RD[t+24>>2]-r,s=+RD[t+28>>2]-o;do{if((0-i)*n+(0-r)*a+(0-o)*s>0){if((0-i)*n+(0-r)*a+(0-o)*s<n*n+a*a+s*s){TD[t+332>>0]=e&-16|3,i=((0-i)*n+(0-r)*a+(0-o)*s)/(n*n+a*a+s*s);break}TD[t+332>>0]=e&-16|2,i=1;break}TD[t+332>>0]=e&-16|1,i=0}while(0);return RD[t+336>>2]=1-i,RD[t+340>>2]=i,RD[t+344>>2]=0,RD[t+348>>2]=0,k=+RD[t+84>>2],I=+RD[t+88>>2],N=+RD[t+92>>2],k+=i*(+RD[t+100>>2]-k),I+=i*(+RD[t+104>>2]-I),N+=i*(+RD[t+108>>2]-N),RD[t+244>>2]=k,RD[t+248>>2]=I,RD[t+252>>2]=N,RD[t+256>>2]=0,H=+RD[t+164>>2],J=+RD[t+168>>2],F=+RD[t+172>>2],H+=i*(+RD[t+180>>2]-H),J+=i*(+RD[t+184>>2]-J),F+=i*(+RD[t+188>>2]-F),RD[t+260>>2]=H,RD[t+264>>2]=J,RD[t+268>>2]=F,RD[t+272>>2]=0,RD[t+276>>2]=k-H,RD[t+280>>2]=I-J,RD[t+284>>2]=N-F,RD[t+288>>2]=0,Vv(t,t+332|0),e=((+RD[t+336>>2]>=0?+RD[t+340>>2]>=0:0)?+RD[t+344>>2]>=0:0)?+RD[t+348>>2]>=0&1:0,TD[t+312>>0]=e,O=e,O=O<<24>>24!=0,BD=G,O|0;case 3:return CD[G+16>>2]=0,CD[G+16+4>>2]=0,CD[G+16+8>>2]=0,CD[G+16+12>>2]=0,kv(G+16|0,t+4|0,t+20|0,t+36|0,t+316|0),V=+RD[t+336>>2],L=+RD[t+340>>2],F=+RD[t+344>>2],k=+RD[t+84>>2]*V+ +RD[t+100>>2]*L+ +RD[t+116>>2]*F,I=V*+RD[t+88>>2]+L*+RD[t+104>>2]+F*+RD[t+120>>2],N=V*+RD[t+92>>2]+L*+RD[t+108>>2]+F*+RD[t+124>>2],RD[t+244>>2]=k,RD[t+248>>2]=I,RD[t+252>>2]=N,RD[t+256>>2]=0,H=+RD[t+164>>2]*V+ +RD[t+180>>2]*L+ +RD[t+196>>2]*F,J=V*+RD[t+168>>2]+L*+RD[t+184>>2]+F*+RD[t+200>>2],F=V*+RD[t+172>>2]+L*+RD[t+188>>2]+F*+RD[t+204>>2],RD[t+260>>2]=H,RD[t+264>>2]=J,RD[t+268>>2]=F,RD[t+272>>2]=0,RD[t+276>>2]=k-H,RD[t+280>>2]=I-J,RD[t+284>>2]=N-F,RD[t+288>>2]=0,Vv(t,t+332|0),e=((+RD[t+336>>2]>=0?+RD[t+340>>2]>=0:0)?+RD[t+344>>2]>=0:0)?+RD[t+348>>2]>=0&1:0,TD[t+312>>0]=e,O=e,O=O<<24>>24!=0,BD=G,O|0;case 4:return CD[G>>2]=0,CD[G+4>>2]=0,CD[G+8>>2]=0,CD[G+12>>2]=0,O=G+32+16|0,TD[O>>0]=0,CD[t+316>>2]=CD[G>>2],CD[t+316+4>>2]=CD[G+4>>2],CD[t+316+8>>2]=CD[G+8>>2],CD[t+316+12>>2]=CD[G+12>>2],TD[t+332>>0]=e|15,r=+RD[t+20>>2],a=+RD[t+4>>2],i=+RD[t+24>>2],n=+RD[t+8>>2],d=+RD[t+28>>2],o=+RD[t+12>>2],p=+RD[t+36>>2],f=+RD[t+40>>2],_=+RD[t+44>>2],m=+RD[t+52>>2],g=+RD[t+56>>2],y=+RD[t+60>>2],s=(m-a)*((i-n)*(_-o)-(d-o)*(f-n))+(g-n)*((d-o)*(p-a)-(r-a)*(_-o))+((r-a)*(f-n)-(i-n)*(p-a))*(y-o),b=s*s<9.99999905104687e-9?-1:s*(((i-n)*(_-o)-(d-o)*(f-n))*(0-a)+((d-o)*(p-a)-(r-a)*(_-o))*(0-n)+((r-a)*(f-n)-(i-n)*(p-a))*(0-o))<0&1,s=(r-a)*((f-n)*(y-o)-(_-o)*(g-n))+(i-n)*((_-o)*(m-a)-(p-a)*(y-o))+((p-a)*(g-n)-(f-n)*(m-a))*(d-o),h=s*s<9.99999905104687e-9?-1:s*(((f-n)*(y-o)-(_-o)*(g-n))*(0-a)+((_-o)*(m-a)-(p-a)*(y-o))*(0-n)+((p-a)*(g-n)-(f-n)*(m-a))*(0-o))<0&1,s=(p-a)*((g-n)*(d-o)-(y-o)*(i-n))+(f-n)*((y-o)*(r-a)-(m-a)*(d-o))+((m-a)*(i-n)-(g-n)*(r-a))*(_-o),u=s*s<9.99999905104687e-9?-1:s*(((g-n)*(d-o)-(y-o)*(i-n))*(0-a)+((y-o)*(r-a)-(m-a)*(d-o))*(0-n)+((m-a)*(i-n)-(g-n)*(r-a))*(0-o))<0&1,s=(a-r)*((g-i)*(_-d)-(y-d)*(f-i))+(n-i)*((y-d)*(p-r)-(m-r)*(_-d))+((m-r)*(f-i)-(g-i)*(p-r))*(o-d),e=s*s<9.99999905104687e-9?-1:s*(((g-i)*(_-d)-(y-d)*(f-i))*(0-r)+((y-d)*(p-r)-(m-r)*(_-d))*(0-i)+((m-r)*(f-i)-(g-i)*(p-r))*(0-d))<0&1,l=h|b|u|e,(l|0)<0?(TD[t+352>>0]=1,TD[t+312>>0]=0,O=0,O=O<<24>>24!=0,BD=G,O|0):(c=(h|0)==0,h=(u|0)==0,e=(e|0)==0,l?(((b|0)!=0?(kv(G,t+4|0,t+20|0,t+36|0,G+32|0),v=+RD[G+32>>2],M=+RD[G+32+4>>2],S=+RD[G+32+8>>2],T=v-+RD[G>>2],x=M-+RD[G+4>>2],C=S-+RD[G+8>>2],T*T+x*x+C*C<3.4028234663852886e38):0)?(i=+RD[G+32+12>>2],RD[t+316>>2]=v,RD[t+320>>2]=M,RD[t+324>>2]=S,RD[t+328>>2]=i,b=TD[O>>0]|0,TD[t+332>>0]=b&1|TD[t+332>>0]&-16|b&2|b&4,S=+RD[G+32+24>>2],i=+RD[G+32+28>>2],RD[t+336>>2]=+RD[G+32+20>>2],RD[t+340>>2]=S,RD[t+344>>2]=i,RD[t+348>>2]=0,i=T*T+x*x+C*C):i=3.4028234663852886e38,(c?0:(kv(G,t+4|0,t+36|0,t+52|0,G+32|0),E=+RD[G+32>>2],A=+RD[G+32+4>>2],w=+RD[G+32+8>>2],R=E-+RD[G>>2],D=A-+RD[G+4>>2],P=w-+RD[G+8>>2],R*R+D*D+P*P<i))&&(x=+RD[G+32+12>>2],RD[t+316>>2]=E,RD[t+320>>2]=A,RD[t+324>>2]=w,RD[t+328>>2]=x,c=TD[O>>0]|0,TD[t+332>>0]=c<<1&4|(c&1|TD[t+332>>0]&-16)|c<<1&8,x=+RD[G+32+24>>2],i=+RD[G+32+28>>2],RD[t+336>>2]=+RD[G+32+20>>2],RD[t+340>>2]=0,RD[t+344>>2]=x,RD[t+348>>2]=i,i=R*R+D*D+P*P),(h?0:(kv(G,t+4|0,t+52|0,t+20|0,G+32|0),B=+RD[G+32>>2],V=+RD[G+32+4>>2],L=+RD[G+32+8>>2],k=B-+RD[G>>2],H=V-+RD[G+4>>2],I=L-+RD[G+8>>2],k*k+H*H+I*I<i))&&(i=+RD[G+32+12>>2],RD[t+316>>2]=B,RD[t+320>>2]=V,RD[t+324>>2]=L,RD[t+328>>2]=i,h=TD[O>>0]|0,TD[t+332>>0]=(h&255)>>>1&2|(h&1|TD[t+332>>0]&-16)|h<<2&8,L=+RD[G+32+28>>2],i=+RD[G+32+24>>2],RD[t+336>>2]=+RD[G+32+20>>2],RD[t+340>>2]=L,RD[t+344>>2]=0,RD[t+348>>2]=i,i=k*k+H*H+I*I),(e?0:(kv(G,t+20|0,t+52|0,t+36|0,G+32|0),J=+RD[G+32>>2],N=+RD[G+32+4>>2],F=+RD[G+32+8>>2],k=J-+RD[G>>2],H=N-+RD[G+4>>2],I=F-+RD[G+8>>2],k*k+H*H+I*I<i))&&(I=+RD[G+32+12>>2],RD[t+316>>2]=J,RD[t+320>>2]=N,RD[t+324>>2]=F,RD[t+328>>2]=I,O=TD[O>>0]|0,TD[t+332>>0]=O<<1&2|TD[t+332>>0]&-16|O&4|O<<2&8,J=+RD[G+32+20>>2],N=+RD[G+32+28>>2],F=+RD[G+32+24>>2],RD[t+336>>2]=0,RD[t+340>>2]=J,RD[t+344>>2]=N,RD[t+348>>2]=F),B=+RD[t+336>>2],V=+RD[t+340>>2],L=+RD[t+344>>2],F=+RD[t+348>>2],k=+RD[t+84>>2]*B+ +RD[t+100>>2]*V+ +RD[t+116>>2]*L+ +RD[t+132>>2]*F,I=B*+RD[t+88>>2]+V*+RD[t+104>>2]+L*+RD[t+120>>2]+F*+RD[t+136>>2],N=B*+RD[t+92>>2]+V*+RD[t+108>>2]+L*+RD[t+124>>2]+F*+RD[t+140>>2],RD[t+244>>2]=k,RD[t+248>>2]=I,RD[t+252>>2]=N,RD[t+256>>2]=0,H=+RD[t+164>>2]*B+ +RD[t+180>>2]*V+ +RD[t+196>>2]*L+ +RD[t+212>>2]*F,J=B*+RD[t+168>>2]+V*+RD[t+184>>2]+L*+RD[t+200>>2]+F*+RD[t+216>>2],F=B*+RD[t+172>>2]+V*+RD[t+188>>2]+L*+RD[t+204>>2]+F*+RD[t+220>>2],RD[t+260>>2]=H,RD[t+264>>2]=J,RD[t+268>>2]=F,RD[t+272>>2]=0,RD[t+276>>2]=k-H,RD[t+280>>2]=I-J,RD[t+284>>2]=N-F,RD[t+288>>2]=0,Vv(t,t+332|0),e=((+RD[t+336>>2]>=0?+RD[t+340>>2]>=0:0)?+RD[t+344>>2]>=0:0)?+RD[t+348>>2]>=0&1:0,TD[t+312>>0]=e,O=e,O=O<<24>>24!=0,BD=G,O|0):(TD[t+312>>0]=1,CD[t+276>>2]=0,CD[t+276+4>>2]=0,CD[t+276+8>>2]=0,CD[t+276+12>>2]=0,O=1,O=O<<24>>24!=0,BD=G,O|0));case 0:return TD[t+312>>0]=0,O=0,O=O<<24>>24!=0,BD=G,O|0;case 1:return CD[t+244>>2]=CD[t+84>>2],CD[t+244+4>>2]=CD[t+84+4>>2],CD[t+244+8>>2]=CD[t+84+8>>2],CD[t+244+12>>2]=CD[t+84+12>>2],CD[t+260>>2]=CD[t+164>>2],CD[t+260+4>>2]=CD[t+164+4>>2],CD[t+260+8>>2]=CD[t+164+8>>2],CD[t+260+12>>2]=CD[t+164+12>>2],N=+RD[t+248>>2]-+RD[t+264>>2],F=+RD[t+252>>2]-+RD[t+268>>2],RD[t+276>>2]=+RD[t+244>>2]-+RD[t+260>>2],RD[t+280>>2]=N,RD[t+284>>2]=F,RD[t+288>>2]=0,CD[t+336>>2]=0,CD[t+336+4>>2]=0,CD[t+336+8>>2]=0,CD[t+336+12>>2]=0,TD[t+336+16>>0]=0,TD[t+332>>0]=e&-16,RD[t+336>>2]=1,RD[t+340>>2]=0,RD[t+344>>2]=0,RD[t+348>>2]=0,TD[t+312>>0]=1,O=1,O=O<<24>>24!=0,BD=G,O|0;default:return TD[t+312>>0]=0,O=0,O=O<<24>>24!=0,BD=G,O|0}return 0}function kv(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0;return g=TD[o+16>>0]&-16,TD[o+16>>0]=g,b=+RD[i>>2],v=+RD[e>>2],M=+RD[i+4>>2],S=+RD[e+4>>2],p=+RD[i+8>>2],f=+RD[e+8>>2],_=+RD[r>>2],m=+RD[r+4>>2],y=+RD[r+8>>2],c=+RD[t>>2],h=+RD[t+4>>2],n=+RD[t+8>>2],u=(b-v)*(c-v)+(M-S)*(h-S)+(p-f)*(n-f),d=(_-v)*(c-v)+(m-S)*(h-S)+(y-f)*(n-f),u<=0&d<=0?(CD[o>>2]=CD[e>>2],CD[o+4>>2]=CD[e+4>>2],CD[o+8>>2]=CD[e+8>>2],CD[o+12>>2]=CD[e+12>>2],TD[o+16>>0]=g|1,RD[o+20>>2]=1,RD[o+24>>2]=0,RD[o+28>>2]=0,void(RD[o+32>>2]=0)):(s=(b-v)*(c-b)+(M-S)*(h-M)+(p-f)*(n-p),l=(_-v)*(c-b)+(m-S)*(h-M)+(y-f)*(n-p),!(s>=0)|!(l<=s)?s<=0&(u>=0?u*l-s*d<=0:0)?(RD[o>>2]=v+(b-v)*(u/(u-s)),RD[o+4>>2]=S+(M-S)*(u/(u-s)),RD[o+8>>2]=f+(p-f)*(u/(u-s)),RD[o+12>>2]=0,TD[o+16>>0]=g|3,RD[o+20>>2]=1-u/(u-s),RD[o+24>>2]=u/(u-s),RD[o+28>>2]=0,void(RD[o+32>>2]=0)):(a=(b-v)*(c-_)+(M-S)*(h-m)+(p-f)*(n-y),n=(_-v)*(c-_)+(m-S)*(h-m)+(y-f)*(n-y),!(n>=0)|!(a<=n)?n<=0&(d>=0?a*d-u*n<=0:0)?(RD[o>>2]=v+(_-v)*(d/(d-n)),RD[o+4>>2]=S+(m-S)*(d/(d-n)),RD[o+8>>2]=f+(y-f)*(d/(d-n)),RD[o+12>>2]=0,TD[o+16>>0]=g|5,RD[o+20>>2]=1-d/(d-n),RD[o+24>>2]=0,RD[o+28>>2]=d/(d-n),void(RD[o+32>>2]=0)):((s*n-a*l<=0?l-s>=0:0)?a-n>=0:0)?(S=(l-s)/(l-s+(a-n)),RD[o>>2]=b+(_-b)*S,RD[o+4>>2]=M+(m-M)*S,RD[o+8>>2]=p+(y-p)*S,RD[o+12>>2]=0,TD[o+16>>0]=g|6,RD[o+20>>2]=0,RD[o+24>>2]=1-S,RD[o+28>>2]=S,void(RD[o+32>>2]=0)):(c=1/(u*l-s*d+(s*n-a*l+(a*d-u*n))),h=(a*d-u*n)*c,d=(u*l-s*d)*c,RD[o>>2]=(_-v)*d+(v+(b-v)*h),RD[o+4>>2]=(m-S)*d+(S+(M-S)*h),RD[o+8>>2]=(y-f)*d+((p-f)*h+f),RD[o+12>>2]=0,TD[o+16>>0]=g|7,RD[o+20>>2]=1-h-d,RD[o+24>>2]=h,RD[o+28>>2]=d,void(RD[o+32>>2]=0)):(CD[o>>2]=CD[r>>2],CD[o+4>>2]=CD[r+4>>2],CD[o+8>>2]=CD[r+8>>2],CD[o+12>>2]=CD[r+12>>2],TD[o+16>>0]=g|4,RD[o+20>>2]=0,RD[o+24>>2]=0,RD[o+28>>2]=1,void(RD[o+32>>2]=0))):(CD[o>>2]=CD[i>>2],CD[o+4>>2]=CD[i+4>>2],CD[o+8>>2]=CD[i+8>>2],CD[o+12>>2]=CD[i+12>>2],TD[o+16>>0]=g|2,RD[o+20>>2]=0,RD[o+24>>2]=1,RD[o+28>>2]=0,void(RD[o+32>>2]=0)))}function Hv(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0}function Iv(t,e,i,r,o){return t|=0,e|=0,i|=0,r|=0,o|=0,1}function Ov(t){t|=0;var e=0;CD[t>>2]=19672,TD[t+8>>0]|0&&(e=CD[t+12>>2]|0,e&&(t=CD[t+4>>2]|0,bP[CD[(CD[t>>2]|0)+16>>2]&127](t,e)))}function Jv(t){t|=0;var e=0,i=0;return CD[t>>2]=19672,TD[t+8>>0]|0&&(e=CD[t+12>>2]|0)?(i=CD[t+4>>2]|0,bP[CD[(CD[i>>2]|0)+16>>2]&127](i,e),void ww(t)):void ww(t)}function Nv(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0;return p=BD,BD=BD+32|0,(d=CD[t+12>>2]|0)?(CD[o+4>>2]=d,r=CD[e+4>>2]|0,f=CD[i+4>>2]|0,e=CD[e+12>>2]|0,t=CD[i+12>>2]|0,n=+RD[e+48>>2]-+RD[t+48>>2],a=+RD[e+52>>2]-+RD[t+52>>2],l=+RD[e+56>>2]-+RD[t+56>>2],c=+ND(+(n*n+a*a+l*l)),h=+RD[f+28>>2]*+RD[f+12>>2],u=+RD[r+28>>2]*+RD[r+12>>2]+h,c>u?CD[d+748>>2]|0?(i=CD[d+740>>2]|0,e=CD[(CD[o+8>>2]|0)+8>>2]|0,r=CD[(CD[o+12>>2]|0)+8>>2]|0,(i|0)==(e|0)?(MM(d,i+4|0,r+4|0),void(BD=p)):(MM(d,r+4|0,e+4|0),void(BD=p))):void(BD=p):(RD[p+16>>2]=1,RD[p+16+4>>2]=0,RD[p+16+8>>2]=0,RD[p+16+12>>2]=0,c>1.1920928955078125e-7?(RD[p+16>>2]=n*(1/c),RD[p+16+4>>2]=a*(1/c),RD[p+16+8>>2]=l*(1/c),RD[p+16+12>>2]=0,s=n*(1/c),a*=1/c,n=l*(1/c)):(s=1,a=0,n=0),a=h*a+ +RD[t+52>>2],l=h*n+ +RD[t+56>>2],RD[p>>2]=h*s+ +RD[t+48>>2],RD[p+4>>2]=a,RD[p+8>>2]=l,RD[p+12>>2]=0,YP[CD[(CD[o>>2]|0)+16>>2]&15](o,p+16|0,p,c-u),e=CD[o+4>>2]|0,CD[e+748>>2]|0?(i=CD[e+740>>2]|0,t=CD[(CD[o+8>>2]|0)+8>>2]|0,r=CD[(CD[o+12>>2]|0)+8>>2]|0,(i|0)==(t|0)?(MM(e,i+4|0,r+4|0),void(BD=p)):(MM(e,r+4|0,t+4|0),void(BD=p))):void(BD=p))):void(BD=p)}function Fv(t,e,i,r,o){return t|=0,e|=0,i|=0,r|=0,o|=0,1}function Gv(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0,N=0,F=0,G=0,z=0,j=0,U=0,W=0,X=0,q=0,K=0,Y=0,Q=0,Z=0,$=0,te=0,ee=0,ie=0,re=0,oe=0,ne=0,ae=0,se=0,le=0,ce=0,he=0,ue=0,de=0,pe=0,fe=0,_e=0,me=0,ge=0,ye=0,be=0,ve=0,Me=0,Se=0,Te=0,xe=0,Ce=0,Ee=0,Ae=0;if(Ae=BD,BD=BD+672|0,RD[Ae+344>>2]=+RD[e>>2],RD[Ae+96>>2]=+RD[e+64>>2],L=Ae+344+4|0,RD[L>>2]=+RD[e+4>>2],RD[Ae+96+4>>2]=+RD[e+68>>2],RD[Ae+344+8>>2]=+RD[e+8>>2],RD[Ae+96+8>>2]=+RD[e+72>>2],V=Ae+344+16|0,RD[V>>2]=+RD[e+16>>2],RD[Ae+96+16>>2]=+RD[e+80>>2],H=Ae+344+20|0,RD[H>>2]=+RD[e+20>>2],RD[Ae+96+20>>2]=+RD[e+84>>2],RD[Ae+344+24>>2]=+RD[e+24>>2],RD[Ae+96+24>>2]=+RD[e+88>>2],A=Ae+344+32|0,RD[A>>2]=+RD[e+32>>2],RD[Ae+96+32>>2]=+RD[e+96>>2],k=Ae+344+36|0,RD[k>>2]=+RD[e+36>>2],RD[Ae+96+36>>2]=+RD[e+100>>2],RD[Ae+344+40>>2]=+RD[e+40>>2],RD[Ae+96+40>>2]=+RD[e+104>>2],xe=CD[t+4>>2]|0,le=+RD[xe+28>>2],ce=+RD[xe+32>>2],de=+RD[xe+36>>2],he=+VP[CD[(CD[xe>>2]|0)+48>>2]&15](xe),ue=+VP[CD[(CD[xe>>2]|0)+48>>2]&15](xe),de=(de+ +VP[CD[(CD[xe>>2]|0)+48>>2]&15](xe))*2,xe=CD[t+8>>2]|0,fe=+RD[xe+28>>2],_e=+RD[xe+32>>2],ye=+RD[xe+36>>2],me=+VP[CD[(CD[xe>>2]|0)+48>>2]&15](xe),pe=+VP[CD[(CD[xe>>2]|0)+48>>2]&15](xe),ye=(ye+ +VP[CD[(CD[xe>>2]|0)+48>>2]&15](xe))*2,F=+RD[e+112>>2]-+RD[e+48>>2],N=+RD[e+116>>2]-+RD[e+52>>2],J=+RD[e+120>>2]-+RD[e+56>>2],ne=+RD[Ae+344>>2],re=+RD[V>>2],oe=+RD[A>>2],ie=+RD[L>>2],te=+RD[H>>2],ee=+RD[k>>2],d=+RD[Ae+344+8>>2],v=+RD[Ae+344+24>>2],ge=+RD[Ae+344+40>>2],RD[Ae>>2]=(le+he)*2*.5,RD[Ae+4>>2]=(ce+ue)*2*.5,RD[Ae+8>>2]=de*.5,RD[Ae+144>>2]=(fe+me)*2*.5,RD[Ae+144+4>>2]=(_e+pe)*2*.5,RD[Ae+144+8>>2]=ye*.5,f=+RD[Ae+96>>2],y=+RD[Ae+96+16>>2],p=+RD[Ae+96+32>>2],Me=+RD[Ae+96+4>>2],be=+RD[Ae+96+20>>2],u=+RD[Ae+96+36>>2],ve=+RD[Ae+96+8>>2],Te=+RD[Ae+96+24>>2],Ce=+RD[Ae+96+40>>2],K=+JD(+(ne*f+re*y+oe*p)),z=+JD(+(ne*Me+re*be+oe*u)),Y=+JD(+(ne*ve+re*Te+oe*Ce)),q=+JD(+(f*ie+y*te+p*ee)),O=+JD(+(Me*ie+be*te+u*ee)),Q=+JD(+(ve*ie+Te*te+Ce*ee)),Z=+JD(+(f*d+y*v+p*ge)),$=+JD(+(Me*d+be*v+u*ge)),G=+JD(+(ve*d+Te*v+Ce*ge)),S=+JD(+(F*ne+N*re+J*oe))-(ye*.5*Y+((le+he)*2*.5+K*(fe+me)*2*.5+z*(_e+pe)*2*.5)),S>0)return void(BD=Ae);if(S>-3.4028234663852886e38?(_=1,m=F*ne+N*re+J*oe<0&1,h=Ae+344|0):(_=0,m=0,h=0,S=-3.4028234663852886e38),T=+JD(+(F*ie+N*te+J*ee))-((ce+ue)*2*.5+q*(fe+me)*2*.5+O*(_e+pe)*2*.5+Q*ye*.5),T>0)return void(BD=Ae);if(T>S&&(_=2,m=F*ie+N*te+J*ee<0&1,h=L,S=T),T=+JD(+(F*d+N*v+J*ge))-(de*.5+Z*(fe+me)*2*.5+$*(_e+pe)*2*.5+G*ye*.5),T>0)return void(BD=Ae);if(T>S&&(_=3,m=F*d+N*v+J*ge<0&1,h=Ae+344+8|0,S=T),T=+JD(+(F*f+N*y+J*p))-((fe+me)*2*.5+(K*(le+he)*2*.5+q*(ce+ue)*2*.5+Z*de*.5)),T>0)return void(BD=Ae);if(T>S&&(_=4,m=F*f+N*y+J*p<0&1,h=Ae+96|0,S=T),T=+JD(+(F*Me+N*be+J*u))-((_e+pe)*2*.5+(z*(le+he)*2*.5+O*(ce+ue)*2*.5+$*de*.5)),T>0)return void(BD=Ae);if(T>S&&(_=5,m=F*Me+N*be+J*u<0&1,h=Ae+96+4|0,S=T),M=+JD(+(F*ve+N*Te+J*Ce))-(ye*.5+(Y*(le+he)*2*.5+Q*(ce+ue)*2*.5+G*de*.5)),M>0)return void(BD=Ae);if(M>S?(_=6,m=F*ve+N*Te+J*Ce<0&1,h=Ae+96+8|0):M=S,T=(F*d+N*v+J*ge)*(f*ie+y*te+p*ee)-(F*ie+N*te+J*ee)*(f*d+y*v+p*ge),b=+JD(+T)-((Z+9999999747378752e-21)*(ce+ue)*2*.5+(q+9999999747378752e-21)*de*.5+(Y+9999999747378752e-21)*(_e+pe)*2*.5+(z+9999999747378752e-21)*ye*.5),b>1.1920928955078125e-7)return void(BD=Ae);if(c=(f*d+y*v+p*ge)*(f*d+y*v+p*ge)+0,W=(f*ie+y*te+p*ee)*(f*ie+y*te+p*ee),g=+ND(+(W+c)),(g>1.1920928955078125e-7?b/g*1.0499999523162842>M:0)?(S=(f*ie+y*te+p*ee)/g,s=-(f*d+y*v+p*ge)/g,a=0/g,_=7,m=T<0&1,h=0,M=b/g):(S=0,s=0,a=0),T=(F*d+N*v+J*ge)*(Me*ie+be*te+u*ee)-(F*ie+N*te+J*ee)*(Me*d+be*v+u*ge),b=+JD(+T)-(($+9999999747378752e-21)*(ce+ue)*2*.5+(O+9999999747378752e-21)*de*.5+(Y+9999999747378752e-21)*(fe+me)*2*.5+(K+9999999747378752e-21)*ye*.5),b>1.1920928955078125e-7)return void(BD=Ae);
if(n=(Me*d+be*v+u*ge)*(Me*d+be*v+u*ge)+0,U=(Me*ie+be*te+u*ee)*(Me*ie+be*te+u*ee),g=+ND(+(U+n)),(g>1.1920928955078125e-7?b/g*1.0499999523162842>M:0)&&(S=(Me*ie+be*te+u*ee)/g,s=-(Me*d+be*v+u*ge)/g,a=0/g,_=8,m=T<0&1,h=0,M=b/g),T=(F*d+N*v+J*ge)*(ve*ie+Te*te+Ce*ee)-(F*ie+N*te+J*ee)*(ve*d+Te*v+Ce*ge),b=+JD(+T)-((G+9999999747378752e-21)*(ce+ue)*2*.5+(Q+9999999747378752e-21)*de*.5+(z+9999999747378752e-21)*(fe+me)*2*.5+(K+9999999747378752e-21)*(_e+pe)*2*.5),b>1.1920928955078125e-7)return void(BD=Ae);if(D=(ve*d+Te*v+Ce*ge)*(ve*d+Te*v+Ce*ge)+0,j=(ve*ie+Te*te+Ce*ee)*(ve*ie+Te*te+Ce*ee),g=+ND(+(j+D)),(g>1.1920928955078125e-7?b/g*1.0499999523162842>M:0)&&(S=(ve*ie+Te*te+Ce*ee)/g,s=-(ve*d+Te*v+Ce*ge)/g,a=0/g,_=9,m=T<0&1,h=0,M=b/g),T=(F*ne+N*re+J*oe)*(f*d+y*v+p*ge)-(F*d+N*v+J*ge)*(ne*f+re*y+oe*p),g=+JD(+T)-((Z+9999999747378752e-21)*(le+he)*2*.5+(K+9999999747378752e-21)*de*.5+(Q+9999999747378752e-21)*(_e+pe)*2*.5+(O+9999999747378752e-21)*ye*.5),g>1.1920928955078125e-7)return void(BD=Ae);P=(ne*f+re*y+oe*p)*(ne*f+re*y+oe*p),b=+ND(+(P+c));do if(b>1.1920928955078125e-7){if(!(g/b*1.0499999523162842>M))break;S=-(ne*f+re*y+oe*p)/b,s=0/b,a=(f*d+y*v+p*ge)/b,_=10,m=T<0&1,h=0,M=g/b}while(0);if(T=(F*ne+N*re+J*oe)*(Me*d+be*v+u*ge)-(F*d+N*v+J*ge)*(ne*Me+re*be+oe*u),g=+JD(+T)-(($+9999999747378752e-21)*(le+he)*2*.5+(z+9999999747378752e-21)*de*.5+(Q+9999999747378752e-21)*(fe+me)*2*.5+(q+9999999747378752e-21)*ye*.5),g>1.1920928955078125e-7)return void(BD=Ae);w=(ne*Me+re*be+oe*u)*(ne*Me+re*be+oe*u),b=+ND(+(w+n));do if(b>1.1920928955078125e-7){if(!(g/b*1.0499999523162842>M))break;S=-(ne*Me+re*be+oe*u)/b,s=0/b,a=(Me*d+be*v+u*ge)/b,_=11,m=T<0&1,h=0,M=g/b}while(0);if(T=(F*ne+N*re+J*oe)*(ve*d+Te*v+Ce*ge)-(F*d+N*v+J*ge)*(ne*ve+re*Te+oe*Ce),g=+JD(+T)-((G+9999999747378752e-21)*(le+he)*2*.5+(Y+9999999747378752e-21)*de*.5+(O+9999999747378752e-21)*(fe+me)*2*.5+(q+9999999747378752e-21)*(_e+pe)*2*.5),g>1.1920928955078125e-7)return void(BD=Ae);c=(ne*ve+re*Te+oe*Ce)*(ne*ve+re*Te+oe*Ce),b=+ND(+(c+D));do if(b>1.1920928955078125e-7){if(!(g/b*1.0499999523162842>M))break;S=-(ne*ve+re*Te+oe*Ce)/b,s=0/b,a=(ve*d+Te*v+Ce*ge)/b,_=12,m=T<0&1,h=0,M=g/b}while(0);if(b=(F*ie+N*te+J*ee)*(ne*f+re*y+oe*p)-(F*ne+N*re+J*oe)*(f*ie+y*te+p*ee),g=+JD(+b)-((q+9999999747378752e-21)*(le+he)*2*.5+(K+9999999747378752e-21)*(ce+ue)*2*.5+(G+9999999747378752e-21)*(_e+pe)*2*.5+($+9999999747378752e-21)*ye*.5),g>1.1920928955078125e-7)return void(BD=Ae);T=+ND(+(P+W+0));do if(T>1.1920928955078125e-7){if(!(g/T*1.0499999523162842>M))break;S=0/T,s=(ne*f+re*y+oe*p)/T,a=-(f*ie+y*te+p*ee)/T,_=13,m=b<0&1,h=0,M=g/T}while(0);if(g=(F*ie+N*te+J*ee)*(ne*Me+re*be+oe*u)-(F*ne+N*re+J*oe)*(Me*ie+be*te+u*ee),b=+JD(+g)-((O+9999999747378752e-21)*(le+he)*2*.5+(z+9999999747378752e-21)*(ce+ue)*2*.5+(G+9999999747378752e-21)*(fe+me)*2*.5+(Z+9999999747378752e-21)*ye*.5),b>1.1920928955078125e-7)return void(BD=Ae);T=+ND(+(w+U+0));do if(T>1.1920928955078125e-7){if(!(b/T*1.0499999523162842>M))break;S=0/T,s=(ne*Me+re*be+oe*u)/T,a=-(Me*ie+be*te+u*ee)/T,_=14,m=g<0&1,h=0,M=b/T}while(0);if(T=(F*ie+N*te+J*ee)*(ne*ve+re*Te+oe*Ce)-(F*ne+N*re+J*oe)*(ve*ie+Te*te+Ce*ee),g=+JD(+T)-((Q+9999999747378752e-21)*(le+he)*2*.5+(Y+9999999747378752e-21)*(ce+ue)*2*.5+($+9999999747378752e-21)*(fe+me)*2*.5+(Z+9999999747378752e-21)*(_e+pe)*2*.5),g>1.1920928955078125e-7)return void(BD=Ae);b=+ND(+(c+j+0));do if(b>1.1920928955078125e-7){if(!(g/b*1.0499999523162842>M)){Ee=55;break}a=-(ve*ie+Te*te+Ce*ee)/b,s=(ne*ve+re*Te+oe*Ce)/b,S=0/b,_=15,m=T<0&1,M=g/b,Ee=58}else Ee=55;while(0);do if((Ee|0)==55){if(!_)return void(BD=Ae);if(!h){Ee=58;break}b=+RD[h>>2],g=+RD[h+16>>2],S=+RD[h+32>>2],T=M}while(0);if((Ee|0)==58&&(b=a*+RD[Ae+344>>2]+s*+RD[L>>2]+S*d,g=a*+RD[V>>2]+s*+RD[H>>2]+S*v,S=a*+RD[A>>2]+s*+RD[k>>2]+S*ge,T=M),m?(ie=-b,te=-g,$=-S):(ie=b,te=g,$=S),(_|0)>6)return K=+RD[Ae+344>>2],c=+RD[V>>2],g=+RD[A>>2],n=(ie*K+te*c+$*g>0?1:-1)*(le+he)*2*.5,S=+RD[L>>2],M=+RD[H>>2],s=+RD[k>>2],b=(ie*S+te*M+$*s>0?1:-1)*(ce+ue)*2*.5,a=(ie*d+te*v+$*ge>0?1:-1)*de*.5,S=+RD[e+48>>2]+n*K+b*S+a*d,M=+RD[e+52>>2]+n*c+b*M+a*v,v=+RD[e+56>>2]+n*g+b*s+a*ge,CD[Ae+456>>2]=CD[e+112>>2],CD[Ae+456+4>>2]=CD[e+112+4>>2],CD[Ae+456+8>>2]=CD[e+112+8>>2],a=(ie*f+te*y+$*p>0?-1:1)*(fe+me)*2*.5,s=(ie*Me+te*be+$*u>0?-1:1)*(_e+pe)*2*.5,b=+RD[Ae+456+4>>2]+a*y+s*be,y=+RD[Ae+456+8>>2]+a*p+s*u,g=(ie*ve+te*Te+$*Ce>0?-1:1)*ye*.5,f=+RD[Ae+456>>2]+a*f+s*Me+g*ve,RD[Ae+456>>2]=f,RD[Ae+456+4>>2]=b+g*Te,RD[Ae+456+8>>2]=y+g*Ce,xe=_+-7|0,s=+RD[Ae+344+(((xe|0)/3|0)<<2)>>2],a=+RD[Ae+344+(((xe|0)/3|0)+4<<2)>>2],n=+RD[Ae+344+(((xe|0)/3|0)+8<<2)>>2],u=+RD[Ae+96+(((xe|0)%3|0)<<2)>>2],d=+RD[Ae+96+(((xe|0)%3|0)+4<<2)>>2],p=+RD[Ae+96+(((xe|0)%3|0)+8<<2)>>2],c=1-(s*u+a*d+n*p)*(s*u+a*d+n*p),s=c<=9999999747378752e-20?0:(((f-S)*s+(b+g*Te-M)*a+(y+g*Ce-v)*n)*(s*u+a*d+n*p)-((f-S)*u+(b+g*Te-M)*d+(y+g*Ce-v)*p))*(1/c),RD[Ae+456>>2]=f+s*u,RD[Ae+456+4>>2]=b+g*Te+s*d,RD[Ae+456+8>>2]=y+g*Ce+s*p,xe=CD[(CD[i>>2]|0)+16>>2]|0,RD[Ae+32>>2]=-ie,RD[Ae+32+4>>2]=-te,RD[Ae+32+8>>2]=-$,RD[Ae+32+12>>2]=0,YP[xe&15](i,Ae+32|0,Ae+456|0,T),void(BD=Ae);xe=(_|0)<4,xe?(v=Te,S=Ce,M=be,d=ve,b=Me,q=ie,K=te,Y=$,r=Ae+144|0,l=e+112|0,Se=e+48|0,x=Ae+96|0,o=Ae+344|0,X=Ae):(S=ge,M=+RD[H>>2],u=+RD[k>>2],b=+RD[L>>2],q=-ie,K=-te,Y=-$,r=Ae,l=e+48|0,Se=e+112|0,x=Ae+344|0,o=Ae+96|0,X=Ae+144|0,y=+RD[V>>2],p=+RD[A>>2],f=+RD[Ae+344>>2]),s=q*f+K*y+Y*p,RD[Ae+48>>2]=s,a=q*b+K*M+Y*u,RD[Ae+48+4>>2]=a,c=q*d+K*v+Y*S,RD[Ae+48+8>>2]=c,s=+JD(+s),a=+JD(+a),c=+JD(+c),a>s?(h=a>c,t=0,m=a>c?1:2):(h=s>c,t=s>c&1,m=s>c?0:2),h=h?2:1,g=+RD[r+(m<<2)>>2],y=+RD[l>>2]-+RD[Se>>2],f=g*+RD[x+(m<<2)>>2],b=+RD[l+4>>2],se=Se+4|0,p=+RD[se>>2],d=+RD[l+8>>2],ae=Se+8|0,u=+RD[ae>>2],+RD[Ae+48+(m<<2)>>2]<0?(W=y+f,U=b-p+g*+RD[x+((m|4)<<2)>>2],j=d-u+g*+RD[x+((m|8)<<2)>>2]):(W=y-f,U=b-p-g*+RD[x+((m|4)<<2)>>2],j=d-u-g*+RD[x+((m|8)<<2)>>2]),R=(xe?-1:-4)+_|0,(R|0)==1?(m=0,_=2):R?(m=0,_=1):(m=1,_=2),G=+RD[o+(m<<2)>>2],J=+RD[o+((m|4)<<2)>>2],N=+RD[o+((m|8)<<2)>>2],z=W*G+U*J+j*N,F=+RD[o+(_<<2)>>2],O=+RD[o+((_|4)<<2)>>2],a=+RD[o+((_|8)<<2)>>2],n=W*F+U*O+j*a,B=x+(t<<2)|0,c=+RD[B>>2],L=x+((t|4)<<2)|0,w=+RD[L>>2],I=x+((t|8)<<2)|0,s=+RD[I>>2],V=x+(h<<2)|0,P=+RD[V>>2],k=x+((h|4)<<2)|0,T=+RD[k>>2],H=x+((h|8)<<2)|0,D=+RD[H>>2],Te=+RD[r+(t<<2)>>2],Ce=+RD[r+(h<<2)>>2],Me=(G*P+J*T+N*D)*Ce,Ce=(F*P+O*T+a*D)*Ce,RD[Ae+208>>2]=z-(G*c+J*w+N*s)*Te-Me,RD[Ae+208+4>>2]=n-(F*c+O*w+a*s)*Te-Ce,RD[Ae+208+8>>2]=z-(G*c+J*w+N*s)*Te+Me,RD[Ae+208+12>>2]=n-(F*c+O*w+a*s)*Te+Ce,RD[Ae+208+16>>2]=z+(G*c+J*w+N*s)*Te+Me,RD[Ae+208+20>>2]=n+(F*c+O*w+a*s)*Te+Ce,RD[Ae+208+24>>2]=z+(G*c+J*w+N*s)*Te-Me,RD[Ae+208+28>>2]=n+(F*c+O*w+a*s)*Te-Ce,RD[Ae+336>>2]=+RD[X+(m<<2)>>2],RD[Ae+336+4>>2]=+RD[X+(_<<2)>>2],A=0,_=4,r=Ae+208|0,e=Ae+392|0;t:for(;;){C=Ae+336+(A<<2)|0,E=1-A|0;do if((_|0)>0){for(t=_,_=0,x=r,m=e;;){if(h=x+(A<<2)|0,S=+RD[h>>2],M=+RD[C>>2],M>-S){if(RD[m>>2]=+RD[x>>2],RD[m+4>>2]=+RD[x+4>>2],_=_+1|0,_&8){m=e;break t}S=+RD[h>>2],M=+RD[C>>2],m=m+8|0}if(o=(t|0)>1,l=x,x=x+8|0,h=o?x:r,v=+RD[h+(A<<2)>>2],M>-S^M>-v){if(Ce=+RD[l+(E<<2)>>2],RD[m+(E<<2)>>2]=Ce+(-M-S)*((+RD[h+(E<<2)>>2]-Ce)/(v-S)),RD[m+(A<<2)>>2]=-+RD[C>>2],_=_+1|0,_&8){m=e;break t}m=m+8|0}if(!o)break;t=t+-1|0}if(m=(e|0)==(Ae+392|0)?Ae+568|0:Ae+392|0,!((_|0)>0)){_=0;break}for(r=_,_=0,x=e,h=m;;){if(l=x+(A<<2)|0,S=+RD[l>>2],M=+RD[C>>2],S<M){if(RD[h>>2]=+RD[x>>2],RD[h+4>>2]=+RD[x+4>>2],_=_+1|0,_&8)break t;S=+RD[l>>2],M=+RD[C>>2],h=h+8|0}if(t=(r|0)>1,o=x,x=x+8|0,l=t?x:e,v=+RD[l+(A<<2)>>2],S<M^v<M){if(Ce=+RD[o+(E<<2)>>2],RD[h+(E<<2)>>2]=Ce+(M-S)*((+RD[l+(E<<2)>>2]-Ce)/(v-S)),RD[h+(A<<2)>>2]=+RD[C>>2],_=_+1|0,_&8)break t;h=h+8|0}if(!t)break;r=r+-1|0}}else m=(e|0)==(Ae+392|0)?Ae+568|0:Ae+392|0,_=0;while(0);if(A=A+1|0,(A|0)>=2)break;r=m,e=(m|0)==(Ae+392|0)?Ae+568|0:Ae+392|0}if((m|0)!=(Ae+392|0)&&kw(Ae+392|0,m|0,_<<3|0)|0,(_|0)>=1){for(g=1/((G*c+J*w+N*s)*(F*P+O*T+a*D)-(F*c+O*w+a*s)*(G*P+J*T+N*D)),u=+RD[X+(R<<2)>>2],_=_+-1|0,d=+RD[B>>2],p=+RD[V>>2],f=+RD[L>>2],y=+RD[k>>2],b=+RD[I>>2],v=+RD[H>>2],t=0,m=0;;){if(H=m<<1,S=+RD[Ae+392+(H<<2)>>2],M=+RD[Ae+392+((H|1)<<2)>>2],ve=(F*P+O*T+a*D)*g*(S-z)-(G*P+J*T+N*D)*g*(M-n),Ce=(G*c+J*w+N*s)*g*(M-n)-(F*c+O*w+a*s)*g*(S-z),H=t*3|0,Me=W+ve*d+Ce*p,RD[Ae+472+(H<<2)>>2]=Me,Te=U+ve*f+Ce*y,RD[Ae+472+(H+1<<2)>>2]=Te,Ce=j+ve*b+Ce*v,RD[Ae+472+(H+2<<2)>>2]=Ce,Ce=u-(q*Me+K*Te+Y*Ce),RD[Ae+632+(t<<2)>>2]=Ce,Ce>=0&&(H=t<<1,RD[Ae+392+(H<<2)>>2]=S,RD[Ae+392+((H|1)<<2)>>2]=M,t=t+1|0),(m|0)==(_|0))break;m=m+1|0}t:do if((t|0)>=1){if(x=(t|0)<4?t:4,x=(x|0)<1?1:x,(t|0)<=(x|0))if(xe)for(r=t+-1|0,s=-ie,a=-te,n=-$,o=0;;){if(xe=o*3|0,RD[Ae+160>>2]=+RD[Ae+472+(xe<<2)>>2]+ +RD[Se>>2],RD[Ae+160+4>>2]=+RD[Ae+472+(xe+1<<2)>>2]+ +RD[se>>2],RD[Ae+160+8>>2]=+RD[Ae+472+(xe+2<<2)>>2]+ +RD[ae>>2],xe=CD[(CD[i>>2]|0)+16>>2]|0,RD[Ae+176>>2]=s,RD[Ae+176+4>>2]=a,RD[Ae+176+8>>2]=n,RD[Ae+176+12>>2]=0,YP[xe&15](i,Ae+176|0,Ae+160|0,-+RD[Ae+632+(o<<2)>>2]),(o|0)==(r|0))break t;o=o+1|0}else for(o=t+-1|0,s=-ie,a=-te,n=-$,r=0;;){if(xe=r*3|0,Ce=+RD[Ae+632+(r<<2)>>2],RD[Ae+192>>2]=+RD[Ae+472+(xe<<2)>>2]+ +RD[Se>>2]-ie*Ce,RD[Ae+192+4>>2]=+RD[Ae+472+(xe+1<<2)>>2]+ +RD[se>>2]-te*Ce,RD[Ae+192+8>>2]=+RD[Ae+472+(xe+2<<2)>>2]+ +RD[ae>>2]-$*Ce,xe=CD[(CD[i>>2]|0)+16>>2]|0,RD[Ae+240>>2]=s,RD[Ae+240+4>>2]=a,RD[Ae+240+8>>2]=n,RD[Ae+240+12>>2]=0,YP[xe&15](i,Ae+240|0,Ae+192|0,-Ce),(r|0)==(o|0))break t;r=r+1|0}do if((t|0)>1){for(r=t+-1|0,l=1,h=0,a=+RD[Ae+632>>2];;){if(s=+RD[Ae+632+(l<<2)>>2],o=s>a,h=o?l:h,(l|0)==(r|0))break;l=l+1|0,a=o?s:a}if((t|0)==1){o=Ae+288|0,t=1,l=h,Ee=112;break}if((t|0)==2){o=Ae+288|0,t=2,c=(+RD[Ae+392>>2]+ +RD[Ae+392+8>>2])*.5,s=(+RD[Ae+392+4>>2]+ +RD[Ae+392+12>>2])*.5,Ee=118;break}s=0,c=0,g=0,l=0;do H=l<<1,ve=+RD[Ae+392+(H<<2)>>2],Me=+RD[Ae+392+(H+3<<2)>>2],Te=+RD[Ae+392+(H+2<<2)>>2],Ce=+RD[Ae+392+((H|1)<<2)>>2],s+=ve*Me-Te*Ce,c+=(ve+Te)*(ve*Me-Te*Ce),g+=(Me+Ce)*(ve*Me-Te*Ce),l=l+1|0;while((l|0)<(r|0));H=t<<1,f=+RD[Ae+392+(H+-2<<2)>>2],d=+RD[Ae+392+4>>2],u=+RD[Ae+392>>2],a=+RD[Ae+392+(H+-1<<2)>>2],s+=f*d-u*a,p=+JD(+s)>1.1920928955078125e-7?1/(s*3):0xde0b6b000000000,(t|0)>0?(o=Ae+288|0,c=p*(c+(f*d-u*a)*(f+u)),s=p*(g+(f*d-u*a)*(a+d)),Ee=118):(o=Ae+288|0,r=0)}else o=Ae+288|0,l=0,Ee=112;while(0);if((Ee|0)==112&&(c=+RD[Ae+392>>2],s=+RD[Ae+392+4>>2],h=l,Ee=118),(Ee|0)==118){for(l=t+-1|0,r=0;;){if(H=r<<1,Ce=+WD(+(+RD[Ae+392+((H|1)<<2)>>2]-s),+(+RD[Ae+392+(H<<2)>>2]-c)),RD[Ae+568+(r<<2)>>2]=Ce,(r|0)==(l|0)){r=0;break}r=r+1|0}for(;;){if(CD[Ae+256+(r<<2)>>2]=1,(r|0)==(l|0)){r=1;break}r=r+1|0}}l=Ae+256+(h<<2)|0,CD[l>>2]=0,CD[o>>2]=h;e:do if((x|0)>1){if(y=+RD[Ae+568+(h<<2)>>2],!r)for(t=Ae+288+4|0,r=1;;){if(CD[t>>2]=h,CD[l>>2]=0,(r|0)==(x+-1|0))break e;H=t,t=o+8|0,r=r+1|0,o=H}for(m=t+-1|0,_=Ae+288+4|0,r=1;;){for(s=+(r|0)*(6.2831854820251465/+(x|0))+y,s>3.1415927410125732&&(s+=-6.2831854820251465),CD[_>>2]=h,l=h,t=0,p=1e9;;){do if(CD[Ae+256+(t<<2)>>2]|0){if(a=+JD(+(+RD[Ae+568+(t<<2)>>2]-s)),a>3.1415927410125732&&(a=6.2831854820251465-a),!(a<p)){a=p;break}CD[_>>2]=t,l=t}else a=p;while(0);if((t|0)==(m|0))break;t=t+1|0,p=a}if(CD[Ae+256+(l<<2)>>2]=0,(r|0)==(x+-1|0))break;H=_,_=o+8|0,r=r+1|0,o=H}}while(0);if((x|0)<=0)break;if(s=-$,a=-te,n=-ie,xe){o=0;do xe=CD[Ae+288+(o<<2)>>2]|0,RD[Ae+64>>2]=+RD[Ae+472+(xe*3<<2)>>2]+ +RD[Se>>2],RD[Ae+64+4>>2]=+RD[Ae+472+((xe*3|0)+1<<2)>>2]+ +RD[se>>2],RD[Ae+64+8>>2]=+RD[Ae+472+((xe*3|0)+2<<2)>>2]+ +RD[ae>>2],H=CD[(CD[i>>2]|0)+16>>2]|0,RD[Ae+320>>2]=n,RD[Ae+320+4>>2]=a,RD[Ae+320+8>>2]=s,RD[Ae+320+12>>2]=0,YP[H&15](i,Ae+320|0,Ae+64|0,-+RD[Ae+632+(xe<<2)>>2]),o=o+1|0;while((o|0)<(x|0))}else{o=0;do H=CD[Ae+288+(o<<2)>>2]|0,ve=+RD[Ae+472+(H*3<<2)>>2]+ +RD[Se>>2],RD[Ae+64>>2]=ve,Me=+RD[Ae+472+((H*3|0)+1<<2)>>2]+ +RD[se>>2],RD[Ae+64+4>>2]=Me,Te=+RD[Ae+472+((H*3|0)+2<<2)>>2]+ +RD[ae>>2],RD[Ae+64+8>>2]=Te,xe=CD[(CD[i>>2]|0)+16>>2]|0,RD[Ae+16>>2]=n,RD[Ae+16+4>>2]=a,RD[Ae+16+8>>2]=s,RD[Ae+16+12>>2]=0,Ce=+RD[Ae+632+(H<<2)>>2],RD[Ae+80>>2]=ve-ie*Ce,RD[Ae+80+4>>2]=Me-Ce*te,RD[Ae+80+8>>2]=Te-Ce*$,RD[Ae+80+12>>2]=0,YP[xe&15](i,Ae+16|0,Ae+80|0,-Ce),o=o+1|0;while((o|0)<(x|0))}}while(0)}BD=Ae}function zv(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0;w=BD,BD=BD+96|0,x=+RD[e+48>>2]-+RD[e+112>>2],n=+RD[e+52>>2]-+RD[e+116>>2],A=+RD[e+56>>2]-+RD[e+120>>2],C=x*+RD[e+64>>2]+n*+RD[e+80>>2]+A*+RD[e+96>>2],E=x*+RD[e+68>>2]+n*+RD[e+84>>2]+A*+RD[e+100>>2],A=x*+RD[e+72>>2]+n*+RD[e+88>>2]+A*+RD[e+104>>2],r=CD[t+8>>2]|0,T=CD[t+4>>2]|0,n=+RD[T+28>>2]*+RD[T+12>>2],x=n+ +RD[t+12>>2],y=+RD[r+72>>2],g=+RD[r+56>>2],u=+RD[r+76>>2],h=+RD[r+60>>2],c=+RD[r+80>>2],b=+RD[r+64>>2],v=+RD[r+88>>2],M=+RD[r+92>>2],S=+RD[r+96>>2],m=(u-h)*(S-b)-(c-b)*(M-h),f=(c-b)*(v-g)-(y-g)*(S-b),_=(y-g)*(M-h)-(u-h)*(v-g),d=1/+ND(+(_*_+(m*m+f*f))),p=(C-g)*d*m+d*f*(E-h)+d*_*(A-b),p<0?(p=-p,a=-(d*_),s=-(d*f),l=-(d*m)):(a=d*_,s=d*f,l=d*m);do if(p<x){if(m=(A-b)*((y-g)*s-(u-h)*l)+((C-g)*((u-h)*a-(c-b)*s)+(E-h)*((c-b)*l-(y-g)*a)),y=(A-c)*((v-y)*s-(M-u)*l)+((C-y)*((M-u)*a-(S-c)*s)+(E-u)*((S-c)*l-(v-y)*a)),S=(A-S)*((g-v)*s-(h-M)*l)+((C-v)*((h-M)*a-(b-S)*s)+(E-M)*((b-S)*l-(g-v)*a)),S>0&(m>0&y>0)?!0:S<=0&(m<=0&y<=0))d=x*x,_=C-l*p,f=E-s*p,p=A-a*p;else{if((MP[CD[(CD[r>>2]|0)+100>>2]&127](r)|0)<=0)break;u=0,f=0,p=0,r=0,T=0;do{R=CD[t+8>>2]|0,eB[CD[(CD[R>>2]|0)+104>>2]&127](R,T,w+80|0,w+64|0),S=+RD[w+80>>2],g=+RD[w+80+4>>2],_=+RD[w+80+8>>2],M=+RD[w+64>>2]-S,y=+RD[w+64+4>>2]-g,d=+RD[w+64+8>>2]-_;do{if((C-S)*M+(E-g)*y+(A-_)*d>0){if((C-S)*M+(E-g)*y+(A-_)*d<M*M+y*y+d*d){v=((C-S)*M+(E-g)*y+(A-_)*d)/(M*M+y*y+d*d),h=C-S-M*v,c=E-g-y*v,m=A-_-d*v;break}h=C-S-M,c=E-g-y,m=A-_-d,v=1;break}h=C-S,c=E-g,m=A-_,v=0}while(0);m*m+(c*c+h*h)<x*x&&(p=_+d*v,f=g+y*v,u=S+M*v,r=1),T=T+1|0,R=CD[t+8>>2]|0}while((T|0)<(MP[CD[(CD[R>>2]|0)+100>>2]&127](R)|0));if(!(r&1))break;d=x*x,_=u}if(c=C-_,h=E-f,u=A-p,c*c+h*h+u*u<d)return c*c+h*h+u*u>1.1920928955078125e-7&&(a=+ND(+(c*c+h*h+u*u)),n-=a,l=c*(1/a),s=h*(1/a),a=u*(1/a)),n=-n,o?(v=+RD[e+64>>2],M=+RD[e+68>>2],S=+RD[e+72>>2],x=v*l+M*s+S*a,u=+RD[e+80>>2],d=+RD[e+84>>2],m=+RD[e+88>>2],C=l*u+s*d+a*m,g=+RD[e+96>>2],y=+RD[e+100>>2],b=+RD[e+104>>2],E=l*g+s*y+a*b,RD[w+48>>2]=-x,RD[w+48+4>>2]=-C,RD[w+48+8>>2]=-E,RD[w+48+12>>2]=0,C=_*u+f*d+p*m+ +RD[e+116>>2]+C*n,E=_*g+f*y+p*b+ +RD[e+120>>2]+E*n,RD[w+32>>2]=_*v+f*M+p*S+ +RD[e+112>>2]+x*n,RD[w+32+4>>2]=C,RD[w+32+8>>2]=E,RD[w+32+12>>2]=0,YP[CD[(CD[i>>2]|0)+16>>2]&15](i,w+48|0,w+32|0,n),void(BD=w)):(R=CD[(CD[i>>2]|0)+16>>2]|0,M=+RD[e+64>>2],S=+RD[e+68>>2],x=+RD[e+72>>2],g=+RD[e+80>>2],y=+RD[e+84>>2],C=+RD[e+88>>2],b=+RD[e+96>>2],v=+RD[e+100>>2],E=+RD[e+104>>2],RD[w+16>>2]=M*l+S*s+x*a,RD[w+16+4>>2]=l*g+s*y+a*C,RD[w+16+8>>2]=l*b+s*v+a*E,RD[w+16+12>>2]=0,C=_*g+f*y+p*C+ +RD[e+116>>2],E=_*b+f*v+p*E+ +RD[e+120>>2],RD[w>>2]=_*M+f*S+p*x+ +RD[e+112>>2],RD[w+4>>2]=C,RD[w+8>>2]=E,RD[w+12>>2]=0,YP[R&15](i,w+16|0,w,n),void(BD=w))}while(0);BD=w}function jv(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0,s=0;if(a=CD[t+12>>2]|0,s=CD[t+32>>2]|0,!((s|0)>=(a|0))){if((s|0)<=(a|0)){if((CD[t+36>>2]|0)<(a|0)){if(a?(CD[5108]=(CD[5108]|0)+1,e=Aw((a<<2|3)+16|0)|0,e?(CD[(e+4+15&-16)+-4>>2]=e,e=e+4+15&-16):e=0,i=CD[t+32>>2]|0):(e=0,i=s),(i|0)>0)for(o=i+-1|0,i=0;;){if(r=e+(i<<2)|0,r&&(CD[r>>2]=CD[(CD[t+40>>2]|0)+(i<<2)>>2]),(i|0)==(o|0))break;i=i+1|0}i=CD[t+40>>2]|0,i&&(TD[t+44>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0)),CD[t+40>>2]=0),TD[t+44>>0]=1,CD[t+40>>2]=e,CD[t+36>>2]=a}else e=CD[t+40>>2]|0;for(o=s;;){if(i=e+(o<<2)|0,i&&(CD[i>>2]=0),(o|0)==(a+-1|0))break;o=o+1|0}}if(CD[t+32>>2]=a,o=CD[t+52>>2]|0,(o|0)<(a|0)){if((CD[t+56>>2]|0)<(a|0)){if(a?(CD[5108]=(CD[5108]|0)+1,i=Aw((a<<2|3)+16|0)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,i=i+4+15&-16):i=0,e=CD[t+52>>2]|0):(i=0,e=o),(e|0)>0)for(r=e+-1|0,n=0;;){if(e=i+(n<<2)|0,e&&(CD[e>>2]=CD[(CD[t+60>>2]|0)+(n<<2)>>2]),(n|0)==(r|0))break;n=n+1|0}e=CD[t+60>>2]|0,e&&(TD[t+64>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+60>>2]=0),TD[t+64>>0]=1,CD[t+60>>2]=i,CD[t+56>>2]=a}else i=CD[t+60>>2]|0;for(;;){if(e=i+(o<<2)|0,e&&(CD[e>>2]=0),(o|0)==(a+-1|0))break;o=o+1|0}}if(CD[t+52>>2]=a,(a|0)>0&&(Bw(CD[t+40>>2]|0,-1,a<<2|0)|0,Bw(CD[t+60>>2]|0,-1,a<<2|0)|0),!((s|0)<=0))for(e=CD[t+16>>2]|0,r=CD[t+40>>2]|0,i=CD[t+60>>2]|0,o=0;;){if(a=CD[e+(o*12|0)+4>>2]<<16|CD[e+(o*12|0)>>2],a=(a+~(a<<15)>>10^a+~(a<<15))*9|0,a=r+((((a>>6^a)+~((a>>6^a)<<11)>>16^(a>>6^a)+~((a>>6^a)<<11))&(CD[t+12>>2]|0)+-1)<<2)|0,CD[i+(o<<2)>>2]=CD[a>>2],CD[a>>2]=o,(o|0)==(s+-1|0))break;o=o+1|0}}}function Uv(t){t|=0;var e=0;return CD[t>>2]=19920,e=CD[t+60>>2]|0,e&&(TD[t+64>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+60>>2]=0),TD[t+64>>0]=1,CD[t+60>>2]=0,CD[t+52>>2]=0,CD[t+56>>2]=0,e=CD[t+40>>2]|0,e&&(TD[t+44>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+40>>2]=0),TD[t+44>>0]=1,CD[t+40>>2]=0,CD[t+32>>2]=0,CD[t+36>>2]=0,(e=CD[t+16>>2]|0)?(TD[t+20>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+16>>2]=0,TD[t+20>>0]=1,CD[t+16>>2]=0,CD[t+8>>2]=0,t=t+12|0,void(CD[t>>2]=0)):(TD[t+20>>0]=1,CD[t+16>>2]=0,CD[t+8>>2]=0,t=t+12|0,void(CD[t>>2]=0))}function Wv(t){t|=0,Uv(t),ww(t)}function Xv(t){t|=0;var e=0,i=0,r=0,o=0,n=0;if(e=CD[t+16>>2]|0,e&&(TD[t+20>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+16>>2]=0),TD[t+20>>0]=1,CD[t+16>>2]=0,CD[t+8>>2]=0,CD[t+12>>2]=0,e=CD[t+40>>2]|0,e&&(TD[t+44>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+40>>2]=0),TD[t+44>>0]=1,CD[t+40>>2]=0,CD[t+32>>2]=0,CD[t+36>>2]=0,e=CD[t+60>>2]|0,e&&(TD[t+64>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+60>>2]=0),TD[t+64>>0]=1,CD[t+60>>2]=0,CD[t+52>>2]=0,CD[t+56>>2]=0,(CD[t+12>>2]|0)>=2)return void jv(t);if(CD[5108]=(CD[5108]|0)+1,e=Aw(43)|0,e?(CD[(e+4+15&-16)+-4>>2]=e,o=e+4+15&-16):o=0,e=CD[t+8>>2]|0,(e|0)>0)for(r=0;;){if(i=o+(r*12|0)|0,i&&(n=(CD[t+16>>2]|0)+(r*12|0)|0,CD[i>>2]=CD[n>>2],CD[i+4>>2]=CD[n+4>>2],CD[i+8>>2]=CD[n+8>>2]),(r|0)==(e+-1|0))break;r=r+1|0}e=CD[t+16>>2]|0,e&&(TD[t+20>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+16>>2]=0),TD[t+20>>0]=1,CD[t+16>>2]=o,CD[t+12>>2]=2,jv(t)}function qv(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0;if(CD[4972]=(CD[4972]|0)+1,a=((i<<16|e)+~((i<<16|e)<<15)>>10^(i<<16|e)+~((i<<16|e)<<15))*9|0,u=CD[t+40>>2]|0,a=u+(((CD[t+12>>2]|0)+-1&((a>>6^a)+~((a>>6^a)<<11)>>16^(a>>6^a)+~((a>>6^a)<<11)))<<2)|0,o=CD[a>>2]|0,(o|0)==-1)return p=0,p|0;for(d=CD[t+16>>2]|0,r=o;;){if((CD[d+(r*12|0)>>2]|0)==(e|0)?(CD[d+(r*12|0)+4>>2]|0)==(i|0):0)break;if(r=CD[(CD[t+60>>2]|0)+(r<<2)>>2]|0,(r|0)==-1){r=0,p=22;break}}if((p|0)==22)return r|0;if(c=d+(r*12|0)|0,!c)return p=0,p|0;if(h=CD[d+(r*12|0)+8>>2]|0,l=(r*12|0)/12|0,s=CD[t+60>>2]|0,(o|0)!=(l|0)){for(;;){if(e=s+(o<<2)|0,i=CD[e>>2]|0,(i|0)==(l|0))break;o=i}r=CD[s+(l<<2)>>2]|0,(o|0)==-1?p=12:CD[e>>2]=r}else r=CD[s+(o<<2)>>2]|0,p=12;if((p|0)==12&&(CD[a>>2]=r),n=(CD[t+8>>2]|0)+-1|0,(n|0)==(l|0))return CD[t+8>>2]=l,p=h,p|0;if(a=CD[d+(n*12|0)+4>>2]<<16|CD[d+(n*12|0)>>2],a=(a+~(a<<15)>>10^a+~(a<<15))*9|0,a=((a>>6^a)+~((a>>6^a)<<11)>>16^(a>>6^a)+~((a>>6^a)<<11))&(CD[t+12>>2]|0)+-1,i=CD[u+(a<<2)>>2]|0,(i|0)!=(n|0)){for(;;){if(e=s+(i<<2)|0,o=CD[e>>2]|0,(o|0)==(n|0))break;i=o}r=CD[s+(n<<2)>>2]|0,(i|0)==-1?p=20:CD[e>>2]=r}else r=CD[s+(n<<2)>>2]|0,p=20;return(p|0)==20&&(CD[u+(a<<2)>>2]=r),CD[c>>2]=CD[d+(n*12|0)>>2],CD[c+4>>2]=CD[d+(n*12|0)+4>>2],CD[c+8>>2]=CD[d+(n*12|0)+8>>2],p=(CD[t+40>>2]|0)+(a<<2)|0,CD[(CD[t+60>>2]|0)+(l<<2)>>2]=CD[p>>2],CD[p>>2]=l,CD[t+8>>2]=(CD[t+8>>2]|0)+-1,p=h,p|0}function Kv(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0,s=0;if(CD[t>>2]=19992,e=CD[t+56>>2]|0,e&&(TD[t+60>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+56>>2]=0),TD[t+60>>0]=1,CD[t+56>>2]=0,CD[t+48>>2]=0,CD[t+52>>2]=0,i=CD[t+28>>2]|0,(i|0)>0)for(s=0;;){if(r=CD[t+36>>2]|0,o=r+(s*36|0)+4|0,n=r+(s*36|0)+12|0,a=CD[n>>2]|0,e=r+(s*36|0)+16|0,a&&(TD[e>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[a+-4>>2]|0)),CD[n>>2]=0),TD[e>>0]=1,CD[n>>2]=0,CD[o>>2]=0,CD[r+(s*36|0)+8>>2]=0,(s|0)==(i+-1|0))break;s=s+1|0}return e=CD[t+36>>2]|0,e&&(TD[t+40>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+36>>2]=0),TD[t+40>>0]=1,CD[t+36>>2]=0,CD[t+28>>2]=0,CD[t+32>>2]=0,(e=CD[t+16>>2]|0)?(TD[t+20>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+16>>2]=0,TD[t+20>>0]=1,CD[t+16>>2]=0,CD[t+8>>2]=0,t=t+12|0,void(CD[t>>2]=0)):(TD[t+20>>0]=1,CD[t+16>>2]=0,CD[t+8>>2]=0,t=t+12|0,void(CD[t>>2]=0))}function Yv(t){t|=0,Kv(t),t&&(CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0))}function Qv(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0,s=0;if(a=CD[t+28>>2]|0,(a|0)<=0)return t=1,t|0;e=CD[t+36>>2]|0,o=0,n=0,r=0,s=0;t:for(;;){switch(s|0){case 7:r=+RD[t+72>>2]-+RD[t+88>>2],n=+RD[t+68>>2]-+RD[t+84>>2],o=+RD[t+64>>2]-+RD[t+80>>2];break;case 2:r=+RD[t+88>>2]+ +RD[t+72>>2],n=+RD[t+68>>2]-+RD[t+84>>2],o=+RD[t+80>>2]+ +RD[t+64>>2];break;case 0:r=+RD[t+88>>2]+ +RD[t+72>>2],n=+RD[t+84>>2]+ +RD[t+68>>2],o=+RD[t+80>>2]+ +RD[t+64>>2];break;case 4:r=+RD[t+88>>2]+ +RD[t+72>>2],n=+RD[t+84>>2]+ +RD[t+68>>2],o=+RD[t+64>>2]-+RD[t+80>>2];break;case 1:r=+RD[t+72>>2]-+RD[t+88>>2],n=+RD[t+84>>2]+ +RD[t+68>>2],o=+RD[t+80>>2]+ +RD[t+64>>2];break;case 5:r=+RD[t+72>>2]-+RD[t+88>>2],n=+RD[t+84>>2]+ +RD[t+68>>2],o=+RD[t+64>>2]-+RD[t+80>>2];break;case 3:r=+RD[t+72>>2]-+RD[t+88>>2],n=+RD[t+68>>2]-+RD[t+84>>2],o=+RD[t+80>>2]+ +RD[t+64>>2];break;case 6:r=+RD[t+88>>2]+ +RD[t+72>>2],n=+RD[t+68>>2]-+RD[t+84>>2],o=+RD[t+64>>2]-+RD[t+80>>2]}i=0;do{if(+RD[e+(i*36|0)+32>>2]+(o*+RD[e+(i*36|0)+20>>2]+n*+RD[e+(i*36|0)+24>>2]+r*+RD[e+(i*36|0)+28>>2])>0){e=0,i=16;break t}i=i+1|0}while((i|0)<(a|0));if(s=s+1|0,(s|0)>=8){e=1,i=16;break}}return(i|0)==16?e|0:0}function Zv(t,e,i,r,o,n,a){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0;var s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0;if(p=BD,BD=BD+16|0,RD[r>>2]=3.4028234663852886e38,RD[o>>2]=-3.4028234663852886e38,c=CD[t+8>>2]|0,(c|0)>0){for(d=0;;){if(_=CD[t+16>>2]|0,f=+RD[_+(d<<4)>>2],u=+RD[_+(d<<4)+4>>2],h=+RD[_+(d<<4)+8>>2],l=f*+RD[e>>2]+u*+RD[e+4>>2]+h*+RD[e+8>>2]+ +RD[e+48>>2],s=f*+RD[e+16>>2]+u*+RD[e+20>>2]+h*+RD[e+24>>2]+ +RD[e+52>>2],h=f*+RD[e+32>>2]+u*+RD[e+36>>2]+h*+RD[e+40>>2]+ +RD[e+56>>2],u=l*+RD[i>>2]+s*+RD[i+4>>2]+h*+RD[i+8>>2],u<+RD[r>>2]&&(RD[r>>2]=u,RD[n>>2]=l,RD[n+4>>2]=s,RD[n+8>>2]=h,RD[n+12>>2]=0),u>+RD[o>>2]&&(RD[o>>2]=u,RD[a>>2]=l,RD[a+4>>2]=s,RD[a+8>>2]=h,RD[a+12>>2]=0),(d|0)==(c+-1|0))break;d=d+1|0}l=+RD[o>>2]}else l=-3.4028234663852886e38;return s=+RD[r>>2],s>l?(RD[r>>2]=l,RD[o>>2]=s,CD[p>>2]=CD[n>>2],CD[p+4>>2]=CD[n+4>>2],CD[p+8>>2]=CD[n+8>>2],CD[p+12>>2]=CD[n+12>>2],CD[n>>2]=CD[a>>2],CD[n+4>>2]=CD[a+4>>2],CD[n+8>>2]=CD[a+8>>2],CD[n+12>>2]=CD[a+12>>2],CD[a>>2]=CD[p>>2],CD[a+4>>2]=CD[p+4>>2],CD[a+8>>2]=CD[p+8>>2],CD[a+12>>2]=CD[p+12>>2],void(BD=p)):void(BD=p)}function $v(t){t|=0;var e=0;CD[t>>2]=20040,e=CD[t+32>>2]|0,e&&(TD[t+36>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+32>>2]=0),TD[t+36>>0]=1,CD[t+32>>2]=0,CD[t+24>>2]=0,CD[t+28>>2]=0}function tM(t){t|=0;var e=0;CD[t>>2]=20040,e=CD[t+32>>2]|0,e&&(TD[t+36>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+32>>2]=0),TD[t+36>>0]=1,CD[t+32>>2]=0,CD[t+24>>2]=0,CD[t+28>>2]=0,CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0)}function eM(t,e,i,r,o,n,a,s,l,c){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,c|=0,t=CD[t+32>>2]|0,CD[i>>2]=CD[t+(c<<5)+12>>2],CD[e>>2]=CD[t+(c<<5)+16>>2],CD[r>>2]=CD[t+(c<<5)+28>>2],CD[o>>2]=CD[t+(c<<5)+20>>2],CD[s>>2]=CD[t+(c<<5)>>2],CD[n>>2]=CD[t+(c<<5)+4>>2],CD[a>>2]=CD[t+(c<<5)+8>>2],CD[l>>2]=CD[t+(c<<5)+24>>2]}function iM(t,e,i,r,o,n,a,s,l,c){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,c|=0,t=CD[t+32>>2]|0,CD[i>>2]=CD[t+(c<<5)+12>>2],CD[e>>2]=CD[t+(c<<5)+16>>2],CD[r>>2]=CD[t+(c<<5)+28>>2],CD[o>>2]=CD[t+(c<<5)+20>>2],CD[s>>2]=CD[t+(c<<5)>>2],CD[n>>2]=CD[t+(c<<5)+4>>2],CD[a>>2]=CD[t+(c<<5)+8>>2],CD[l>>2]=CD[t+(c<<5)+24>>2]}function rM(t){return t|=0,(CD[t+48>>2]|0)==1|0}function oM(t,e,i){t|=0,e|=0,i|=0,CD[t+52>>2]=CD[e>>2],CD[t+52+4>>2]=CD[e+4>>2],CD[t+52+8>>2]=CD[e+8>>2],CD[t+52+12>>2]=CD[e+12>>2],CD[t+68>>2]=CD[i>>2],CD[t+68+4>>2]=CD[i+4>>2],CD[t+68+8>>2]=CD[i+8>>2],CD[t+68+12>>2]=CD[i+12>>2],CD[t+48>>2]=1}function nM(t,e,i){t|=0,e|=0,i|=0,CD[e>>2]=CD[t+52>>2],CD[e+4>>2]=CD[t+52+4>>2],CD[e+8>>2]=CD[t+52+8>>2],CD[e+12>>2]=CD[t+52+12>>2],CD[i>>2]=CD[t+68>>2],CD[i+4>>2]=CD[t+68+4>>2],CD[i+8>>2]=CD[t+68+8>>2],CD[i+12>>2]=CD[t+68+12>>2]}function aM(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0;if(b=BD,BD=BD+96|0,f=MP[CD[(CD[t>>2]|0)+28>>2]&127](t)|0,_=+RD[t+4>>2],m=+RD[t+8>>2],g=+RD[t+12>>2],(f|0)<=0)return void(BD=b);for(r=b+24+4|0,o=b+24+8|0,n=b+24+12|0,a=b+24+16|0,s=b+24+20|0,l=b+24+24|0,c=b+24+28|0,h=b+24+32|0,u=b+24+36|0,d=b+24+40|0,p=b+24+44|0,y=0;;){JP[CD[(CD[t>>2]|0)+16>>2]&3](t,b+76|0,b+12|0,b+8|0,b,b+16|0,b+4|0,b+72|0,b+80|0,y),i=CD[b+8>>2]|0;do if(i){if((i|0)==1)if(i=CD[b+80>>2]|0,(i|0)==5){if(!((CD[b+72>>2]|0)>0))break;i=0;do x=CD[b+16>>2]|0,C=XD(CD[b+4>>2]|0,i)|0,E=CD[b+76>>2]|0,S=CD[b>>2]|0,T=XD(ED[x+C>>0]|0,S)|0,v=m*+DD[E+(T+8)>>3],M=g*+DD[E+(T+16)>>3],RD[b+24>>2]=_*+DD[E+T>>3],RD[r>>2]=v,RD[o>>2]=M,RD[n>>2]=0,T=XD(ED[x+(C+1)>>0]|0,S)|0,M=m*+DD[E+(T+8)>>3],v=g*+DD[E+(T+16)>>3],RD[a>>2]=_*+DD[E+T>>3],RD[s>>2]=M,RD[l>>2]=v,RD[c>>2]=0,S=XD(ED[x+(C+2)>>0]|0,S)|0,v=m*+DD[E+(S+8)>>3],M=g*+DD[E+(S+16)>>3],RD[h>>2]=_*+DD[E+S>>3],RD[u>>2]=v,RD[d>>2]=M,RD[p>>2]=0,eB[CD[(CD[e>>2]|0)+8>>2]&127](e,b+24|0,y,i),i=i+1|0;while((i|0)<(CD[b+72>>2]|0))}else if((i|0)==3){if(!((CD[b+72>>2]|0)>0))break;i=0;do x=CD[b+16>>2]|0,C=XD(CD[b+4>>2]|0,i)|0,E=CD[b+76>>2]|0,S=CD[b>>2]|0,T=XD(AD[x+C>>1]|0,S)|0,v=m*+DD[E+(T+8)>>3],M=g*+DD[E+(T+16)>>3],RD[b+24>>2]=_*+DD[E+T>>3],RD[r>>2]=v,RD[o>>2]=M,RD[n>>2]=0,T=XD(AD[x+(C+2)>>1]|0,S)|0,M=m*+DD[E+(T+8)>>3],v=g*+DD[E+(T+16)>>3],RD[a>>2]=_*+DD[E+T>>3],RD[s>>2]=M,RD[l>>2]=v,RD[c>>2]=0,S=XD(AD[x+(C+4)>>1]|0,S)|0,v=m*+DD[E+(S+8)>>3],M=g*+DD[E+(S+16)>>3],RD[h>>2]=_*+DD[E+S>>3],RD[u>>2]=v,RD[d>>2]=M,RD[p>>2]=0,eB[CD[(CD[e>>2]|0)+8>>2]&127](e,b+24|0,y,i),i=i+1|0;while((i|0)<(CD[b+72>>2]|0))}else{if((i|0)!=2)break;if(!((CD[b+72>>2]|0)>0))break;i=0;do C=CD[b+16>>2]|0,S=XD(CD[b+4>>2]|0,i)|0,E=CD[b+76>>2]|0,x=CD[b>>2]|0,T=XD(x,CD[C+S>>2]|0)|0,v=m*+DD[E+(T+8)>>3],M=g*+DD[E+(T+16)>>3],RD[b+24>>2]=_*+DD[E+T>>3],RD[r>>2]=v,RD[o>>2]=M,RD[n>>2]=0,T=XD(x,CD[C+(S+4)>>2]|0)|0,M=m*+DD[E+(T+8)>>3],v=g*+DD[E+(T+16)>>3],RD[a>>2]=_*+DD[E+T>>3],RD[s>>2]=M,RD[l>>2]=v,RD[c>>2]=0,S=XD(x,CD[C+(S+8)>>2]|0)|0,v=m*+DD[E+(S+8)>>3],M=g*+DD[E+(S+16)>>3],RD[h>>2]=_*+DD[E+S>>3],RD[u>>2]=v,RD[d>>2]=M,RD[p>>2]=0,eB[CD[(CD[e>>2]|0)+8>>2]&127](e,b+24|0,y,i),i=i+1|0;while((i|0)<(CD[b+72>>2]|0))}}else if(i=CD[b+80>>2]|0,(i|0)==3){if(!((CD[b+72>>2]|0)>0))break;i=0;do C=CD[b+16>>2]|0,x=XD(CD[b+4>>2]|0,i)|0,T=CD[b+76>>2]|0,S=CD[b>>2]|0,E=XD(AD[C+x>>1]|0,S)|0,M=m*+RD[T+(E+4)>>2],v=g*+RD[T+(E+8)>>2],RD[b+24>>2]=_*+RD[T+E>>2],RD[r>>2]=M,RD[o>>2]=v,RD[n>>2]=0,E=XD(AD[C+(x+2)>>1]|0,S)|0,v=m*+RD[T+(E+4)>>2],M=g*+RD[T+(E+8)>>2],RD[a>>2]=_*+RD[T+E>>2],RD[s>>2]=v,RD[l>>2]=M,RD[c>>2]=0,S=XD(AD[C+(x+4)>>1]|0,S)|0,M=m*+RD[T+(S+4)>>2],v=g*+RD[T+(S+8)>>2],RD[h>>2]=_*+RD[T+S>>2],RD[u>>2]=M,RD[d>>2]=v,RD[p>>2]=0,eB[CD[(CD[e>>2]|0)+8>>2]&127](e,b+24|0,y,i),i=i+1|0;while((i|0)<(CD[b+72>>2]|0))}else if((i|0)==5){if(!((CD[b+72>>2]|0)>0))break;i=0;do x=CD[b+16>>2]|0,C=XD(CD[b+4>>2]|0,i)|0,E=CD[b+76>>2]|0,S=CD[b>>2]|0,T=XD(ED[x+C>>0]|0,S)|0,v=m*+RD[E+(T+4)>>2],M=g*+RD[E+(T+8)>>2],RD[b+24>>2]=_*+RD[E+T>>2],RD[r>>2]=v,RD[o>>2]=M,RD[n>>2]=0,T=XD(ED[x+(C+1)>>0]|0,S)|0,M=m*+RD[E+(T+4)>>2],v=g*+RD[E+(T+8)>>2],RD[a>>2]=_*+RD[E+T>>2],RD[s>>2]=M,RD[l>>2]=v,RD[c>>2]=0,S=XD(ED[x+(C+2)>>0]|0,S)|0,v=m*+RD[E+(S+4)>>2],M=g*+RD[E+(S+8)>>2],RD[h>>2]=_*+RD[E+S>>2],RD[u>>2]=v,RD[d>>2]=M,RD[p>>2]=0,eB[CD[(CD[e>>2]|0)+8>>2]&127](e,b+24|0,y,i),i=i+1|0;while((i|0)<(CD[b+72>>2]|0))}else{if((i|0)!=2)break;if(!((CD[b+72>>2]|0)>0))break;i=0;do C=CD[b+16>>2]|0,S=XD(CD[b+4>>2]|0,i)|0,E=CD[b+76>>2]|0,x=CD[b>>2]|0,T=XD(x,CD[C+S>>2]|0)|0,v=m*+RD[E+(T+4)>>2],M=g*+RD[E+(T+8)>>2],RD[b+24>>2]=_*+RD[E+T>>2],RD[r>>2]=v,RD[o>>2]=M,RD[n>>2]=0,T=XD(x,CD[C+(S+4)>>2]|0)|0,M=m*+RD[E+(T+4)>>2],v=g*+RD[E+(T+8)>>2],RD[a>>2]=_*+RD[E+T>>2],RD[s>>2]=M,RD[l>>2]=v,RD[c>>2]=0,S=XD(x,CD[C+(S+8)>>2]|0)|0,v=m*+RD[E+(S+4)>>2],M=g*+RD[E+(S+8)>>2],RD[h>>2]=_*+RD[E+S>>2],RD[u>>2]=v,RD[d>>2]=M,RD[p>>2]=0,eB[CD[(CD[e>>2]|0)+8>>2]&127](e,b+24|0,y,i),i=i+1|0;while((i|0)<(CD[b+72>>2]|0))}while(0);if(bP[CD[(CD[t>>2]|0)+24>>2]&127](t,y),(y|0)==(f+-1|0))break;y=y+1|0}BD=b}function sM(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0;if(m=BD,BD=BD+32|0,r=MP[CD[(CD[t>>2]|0)+28>>2]&127](t)|0,CD[e+20>>2]=r,CD[e>>2]=0,!r)return i=e+4|0,_=t+4|0,g=+RD[_>>2],RD[i>>2]=g,i=t+8|0,g=+RD[i>>2],i=e+8|0,RD[i>>2]=g,i=t+12|0,g=+RD[i>>2],i=e+12|0,RD[i>>2]=g,t=t+16|0,g=+RD[t>>2],t=e+16|0,RD[t>>2]=g,BD=m,20288;if(_=DP[CD[(CD[i>>2]|0)+16>>2]&63](i,32,r)|0,r=CD[_+8>>2]|0,d=NP[CD[(CD[i>>2]|0)+28>>2]&31](i,r)|0,CD[e>>2]=d,d=MP[CD[(CD[t>>2]|0)+28>>2]&127](t)|0,(d|0)>0)for(u=0;;){if(JP[CD[(CD[t>>2]|0)+16>>2]&3](t,m+4|0,m+12|0,m+20|0,m,m+16|0,m+8|0,m+24|0,m+28|0,u),CD[r+24>>2]=CD[m+24>>2],CD[r+28>>2]=CD[m+12>>2],n=r+8|0,l=r+12|0,c=r+16|0,h=r+4|0,CD[r>>2]=0,CD[r+4>>2]=0,CD[r+8>>2]=0,CD[r+12>>2]=0,CD[r+16>>2]=0,CD[r+20>>2]=0,a=CD[m+28>>2]|0,(a|0)==2){if(o=CD[m+24>>2]|0){if(l=DP[CD[(CD[i>>2]|0)+16>>2]&63](i,4,o*3|0)|0,s=CD[l+8>>2]|0,c=NP[CD[(CD[i>>2]|0)+28>>2]&31](i,s)|0,CD[n>>2]=c,(CD[m+24>>2]|0)>0){a=CD[m+16>>2]|0,n=0;do o=XD(CD[m+8>>2]|0,n)|0,c=n*3|0,CD[s+(c<<2)>>2]=CD[a+o>>2],CD[s+(c+1<<2)>>2]=CD[a+(o+4)>>2],CD[s+(c+2<<2)>>2]=CD[a+(o+8)>>2],n=n+1|0;while((n|0)<(CD[m+24>>2]|0))}_P[CD[(CD[i>>2]|0)+20>>2]&31](i,l,20152,1497453121,CD[l+8>>2]|0)}}else if((a|0)==3){if(o=CD[m+24>>2]|0){if(n=DP[CD[(CD[i>>2]|0)+16>>2]&63](i,8,o)|0,o=CD[n+8>>2]|0,c=NP[CD[(CD[i>>2]|0)+28>>2]&31](i,o)|0,CD[l>>2]=c,c=CD[m+24>>2]|0,(c|0)>0)for(l=CD[m+16>>2]|0,s=CD[m+8>>2]|0,a=0;;){if(y=XD(s,a)|0,xD[o+(a<<3)>>1]=xD[l+y>>1]|0,xD[o+(a<<3)+2>>1]=xD[l+(y+2)>>1]|0,xD[o+(a<<3)+4>>1]=xD[l+(y+4)>>1]|0,(a|0)==(c+-1|0))break;a=a+1|0}_P[CD[(CD[i>>2]|0)+20>>2]&31](i,n,20168,1497453121,CD[n+8>>2]|0)}}else if((a|0)==5?(p=CD[m+24>>2]|0,(p|0)!=0):0){if(n=DP[CD[(CD[i>>2]|0)+16>>2]&63](i,4,p)|0,a=CD[n+8>>2]|0,y=NP[CD[(CD[i>>2]|0)+28>>2]&31](i,a)|0,CD[c>>2]=y,(CD[m+24>>2]|0)>0){o=0;do c=CD[m+16>>2]|0,y=XD(CD[m+8>>2]|0,o)|0,TD[a+(o<<2)>>0]=TD[c+y>>0]|0,TD[a+(o<<2)+1>>0]=TD[c+(y+1)>>0]|0,TD[a+(o<<2)+2>>0]=TD[c+(y+2)>>0]|0,o=o+1|0;while((o|0)<(CD[m+24>>2]|0))}_P[CD[(CD[i>>2]|0)+20>>2]&31](i,n,20200,1497453121,CD[n+8>>2]|0)}if(o=CD[m+20>>2]|0){if((o|0)==1?(f=CD[m+12>>2]|0,(f|0)!=0):0){if(n=DP[CD[(CD[i>>2]|0)+16>>2]&63](i,32,f)|0,o=CD[n+8>>2]|0,l=NP[CD[(CD[i>>2]|0)+28>>2]&31](i,o)|0,CD[h>>2]=l,l=CD[m+12>>2]|0,(l|0)>0)for(s=CD[m+4>>2]|0,a=CD[m>>2]|0,c=0;;){if(y=XD(a,c)|0,DD[o+(c<<5)>>3]=+DD[s+y>>3],DD[o+(c<<5)+8>>3]=+DD[s+(y+8)>>3],DD[o+(c<<5)+16>>3]=+DD[s+(y+16)>>3],(c|0)==(l+-1|0))break;c=c+1|0}_P[CD[(CD[i>>2]|0)+20>>2]&31](i,n,20248,1497453121,CD[n+8>>2]|0)}}else if(o=CD[m+12>>2]|0){if(a=DP[CD[(CD[i>>2]|0)+16>>2]&63](i,16,o)|0,n=CD[a+8>>2]|0,o=NP[CD[(CD[i>>2]|0)+28>>2]&31](i,n)|0,CD[r>>2]=o,o=CD[m+12>>2]|0,(o|0)>0)for(s=CD[m+4>>2]|0,l=CD[m>>2]|0,c=0;;){if(y=XD(l,c)|0,RD[n+(c<<4)>>2]=+RD[s+y>>2],RD[n+(c<<4)+4>>2]=+RD[s+(y+4)>>2],RD[n+(c<<4)+8>>2]=+RD[s+(y+8)>>2],(c|0)==(o+-1|0))break;c=c+1|0}_P[CD[(CD[i>>2]|0)+20>>2]&31](i,a,20224,1497453121,CD[a+8>>2]|0)}if(bP[CD[(CD[t>>2]|0)+24>>2]&127](t,u),(u|0)==(d+-1|0)){r=i;break}r=r+32|0,u=u+1|0}else r=i;return _P[CD[(CD[r>>2]|0)+20>>2]&31](i,_,20272,1497453121,CD[_+8>>2]|0),y=e+4|0,i=t+4|0,g=+RD[i>>2],RD[y>>2]=g,y=t+8|0,g=+RD[y>>2],y=e+8|0,RD[y>>2]=g,y=t+12|0,g=+RD[y>>2],y=e+12|0,RD[y>>2]=g,y=t+16|0,g=+RD[y>>2],y=e+16|0,RD[y>>2]=g,BD=m,20288}function lM(t){t|=0;var e=0;do CD[t+4>>2]=0,RD[t+8>>2]=0,e=CD[t+24>>2]|0,e&&lM(e),t=CD[t+28>>2]|0;while((t|0)!=0)}function cM(t){t|=0;var e=0,i=0,r=0,o=0;if(o=BD,BD=BD+16|0,i=CD[5104]|0,(CD[i>>2]|0)==(t|0))e=i;else{e=CD[i+24>>2]|0;t:do if(e)for(;;){if((CD[e>>2]|0)==(t|0))break t;if(e=CD[e+28>>2]|0,!e){r=5;break}}else r=5;while(0);do if((r|0)==5){for(;;){if(e=Aw(36)|0){r=9;break}if(e=CD[5230]|0,CD[5230]=e+0,!e){r=8;break}ZP[e&3](),r=5}if((r|0)==8)o=cP(4)|0,CD[o>>2]=20816,sP(o|0,20864,207);else if((r|0)==9){CD[e>>2]=t,CD[e+4>>2]=0,CD[e+4+4>>2]=0,CD[e+4+8>>2]=0,CD[e+4+12>>2]=0,CD[e+20>>2]=i,CD[e+24>>2]=0,CD[e+28>>2]=0,CD[e+32>>2]=0,lM(e),CD[e+28>>2]=CD[i+24>>2],CD[i+24>>2]=e;break}}while(0);CD[5104]=e}return t=e+4|0,CD[t>>2]=(CD[t>>2]|0)+1,t=e+16|0,r=CD[t>>2]|0,CD[t>>2]=r+1,r?void(BD=o):(uP(o|0,0)|0,r=CD[5090]|0,CD[e+12>>2]=(CD[o+4>>2]|0)-(CD[r+4>>2]|0)+(((CD[o>>2]|0)-(CD[r>>2]|0)|0)*1e6|0),void(BD=o))
}function hM(t,e,i,r,o,n,a,s,l,c){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,c|=0;var h=0,u=0,d=0,p=0,f=0;return(o|0)!=(c|0)?(o=o-c|0,o|0):o?(d=Jw(s|0,0,t|0,0)|0,p=OD,u=Jw(l|0,0,t|0,0)|0,f=OD,c=Jw(s|0,0,e|0,0)|0,t=OD,h=Jw(l|0,0,e|0,0)|0,e=OD,c=Lw(u|0,0,c|0,0)|0,u=OD,e=Lw(f|0,0,h|0,e|0)|0,e=Lw(e|0,OD|0,t|0,0)|0,t=OD,c=Lw(d|0,p|0,0,c|0)|0,h=OD,d=Lw(e|0,t|0,(h>>>0<p>>>0|(h|0)==(p|0)&c>>>0<d>>>0)&1|0,0)|0,u=Lw(d|0,OD|0,u|0,0)|0,d=OD,t=Jw(n|0,0,i|0,0)|0,p=OD,e=Jw(a|0,0,i|0,0)|0,i=OD,l=Jw(n|0,0,r|0,0)|0,n=OD,s=Jw(a|0,0,r|0,0)|0,a=OD,l=Lw(e|0,0,l|0,0)|0,e=OD,a=Lw(i|0,0,s|0,a|0)|0,n=Lw(a|0,OD|0,n|0,0)|0,a=OD,l=Lw(t|0,p|0,0,l|0)|0,s=OD,t=Lw(n|0,a|0,(s>>>0<p>>>0|(s|0)==(p|0)&l>>>0<t>>>0)&1|0,0)|0,e=Lw(t|0,OD|0,e|0,0)|0,t=OD,l=d>>>0<t>>>0|(d|0)==(t|0)&u>>>0<e>>>0?-1:d>>>0>t>>>0|(d|0)==(t|0)&u>>>0>e>>>0?1:h>>>0<s>>>0|(h|0)==(s|0)&c>>>0<l>>>0?-1:(h>>>0>s>>>0|(h|0)==(s|0)&c>>>0>l>>>0)&1,f=XD(l,o)|0,f|0):(o=0,o|0)}function uM(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0;if(r=CD[t+56>>2]|0)CD[t+56>>2]=CD[r>>2],c=15;else{if(r=CD[t+52>>2]|0,r?CD[t+52>>2]=CD[r+8>>2]:(CD[5108]=(CD[5108]|0)+1,o=Aw(31)|0,((o|0)!=0?(n=o+4+15&-16,CD[n+-4>>2]=o,(o+4+15&-16|0)!=0):0)?(r=CD[t+60>>2]|0,CD[n+4>>2]=r,CD[n+8>>2]=0,CD[5108]=(CD[5108]|0)+1,r=Aw((r*24|3)+16|0)|0,r?(CD[(r+4+15&-16)+-4>>2]=r,r=r+4+15&-16):r=0,CD[(o+4+15&-16)>>2]=r,r=o+4+15&-16):r=0,CD[r+8>>2]=CD[t+48>>2],CD[t+48>>2]=r),a=CD[r+4>>2]|0,s=CD[r>>2]|0,(a|0)>0){n=0,o=s;do r=n,n=n+1|0,h=o,o=o+24|0,CD[h>>2]=(n|0)<(a|0)?o:0;while((r|0)!=(a+-1|0))}r=CD[s>>2]|0,CD[t+56>>2]=r,s?(r=s,c=15):a=0}if((c|0)==15&&(CD[r>>2]=0,CD[r+4>>2]=0,CD[r+8>>2]=0,CD[r+12>>2]=0,CD[r+16>>2]=0,CD[r+20>>2]=0,a=r,r=CD[t+56>>2]|0),r)CD[t+56>>2]=CD[r>>2],c=30;else{if(r=CD[t+52>>2]|0,r?CD[t+52>>2]=CD[r+8>>2]:(CD[5108]=(CD[5108]|0)+1,n=Aw(31)|0,((n|0)!=0?(l=n+4+15&-16,CD[l+-4>>2]=n,(n+4+15&-16|0)!=0):0)?(r=CD[t+60>>2]|0,CD[l+4>>2]=r,CD[l+8>>2]=0,CD[5108]=(CD[5108]|0)+1,r=Aw((r*24|3)+16|0)|0,r?(CD[(r+4+15&-16)+-4>>2]=r,r=r+4+15&-16):r=0,CD[(n+4+15&-16)>>2]=r,r=n+4+15&-16):r=0,CD[r+8>>2]=CD[t+48>>2],CD[t+48>>2]=r),s=CD[r+4>>2]|0,r=CD[r>>2]|0,(s|0)>0){n=0,o=r;do h=n,n=n+1|0,l=o,o=o+24|0,CD[l>>2]=(n|0)<(s|0)?o:0;while((h|0)!=(s+-1|0))}CD[t+56>>2]=CD[r>>2],r?c=30:r=0}return(c|0)==30&&(CD[r>>2]=0,CD[r+4>>2]=0,CD[r+8>>2]=0,CD[r+12>>2]=0,CD[r+16>>2]=0,CD[r+20>>2]=0),CD[a+8>>2]=r,CD[r+8>>2]=a,h=CD[t+100>>2]|0,CD[a+20>>2]=h,CD[r+20>>2]=h,CD[a+12>>2]=i,CD[r+12>>2]=e,CD[a+16>>2]=0,CD[r+16>>2]=0,r=CD[t+116>>2]|0,CD[t+116>>2]=r+1,(r|0)<(CD[t+120>>2]|0)?a|0:(CD[t+120>>2]=r+1,a|0)}function dM(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0;L=BD,BD=BD+160|0;do{if((i-e|0)==2){if(o=CD[(CD[t+92>>2]|0)+(e<<2)>>2]|0,l=CD[o+88>>2]|0,c=CD[o+200>>2]|0,s=CD[o+92>>2]|0,a=CD[o+204>>2]|0,(l|0)==(c|0)){if((s|0)==(a|0)){if((CD[o+96>>2]|0)==(CD[o+208>>2]|0))break;n=s}else n=a;(s|0)==(n|0)?(B=(CD[o+96>>2]|0)>(CD[o+208>>2]|0),n=B?o+112|0:o,CD[n>>2]=n,CD[n+4>>2]=n,CD[r>>2]=n,CD[r+4>>2]=n,CD[r+8>>2]=n,CD[r+12>>2]=n,o=B?o:o+112|0):(a=0,V=9)}else n=a,a=(s|0)==(a|0),V=9;do if((V|0)==9){if(CD[o>>2]=o+112,CD[o+4>>2]=o+112,CD[o+112>>2]=o,CD[o+116>>2]=o,V=(s-n|0)<0,B=(l-c|0)<0|(l|0)==(c|0)&V,CD[r>>2]=B?o:o+112|0,CD[r+4>>2]=B?o+112|0:o,V|(l-c|0)<0&a){CD[r+8>>2]=o,CD[r+12>>2]=o+112,n=o,o=o+112|0;break}CD[r+8>>2]=o+112,CD[r+12>>2]=o,n=o,o=o+112|0;break}while(0);return t=uM(t,n,o)|0,CD[t>>2]=t,CD[t+4>>2]=t,CD[n+8>>2]=t,t=CD[t+8>>2]|0,CD[t>>2]=t,CD[t+4>>2]=t,CD[o+8>>2]=t,void(BD=L)}if((i-e|0)!=1){if(i-e|0){h=((i-e|0)/2|0)+e|0,s=CD[t+92>>2]|0,o=CD[s+(h+-1<<2)>>2]|0,a=CD[o+88>>2]|0,n=CD[o+92>>2]|0,o=CD[o+96>>2]|0;t:do if((h|0)<(i|0)){c=h;do{if(l=CD[s+(c<<2)>>2]|0,(CD[l+88>>2]|0)!=(a|0))break t;if((CD[l+92>>2]|0)!=(n|0))break t;if((CD[l+96>>2]|0)!=(o|0))break t;c=c+1|0}while((c|0)<(i|0))}else c=h;while(0);dM(t,e,h,r),CD[L+136>>2]=0,CD[L+136+4>>2]=0,CD[L+136+8>>2]=0,CD[L+136+12>>2]=0,dM(t,c,i,L+136|0),o=CD[L+136+4>>2]|0;do if(o){if(v=CD[r+4>>2]|0,!v){CD[r>>2]=CD[L+136>>2],CD[r+4>>2]=CD[L+136+4>>2],CD[r+8>>2]=CD[L+136+8>>2],CD[r+12>>2]=CD[L+136+12>>2];break}CD[t+100>>2]=(CD[t+100>>2]|0)+-1,n=CD[r+12>>2]|0,i=CD[L+136+8>>2]|0,a=CD[n+88>>2]|0;t:do if((a|0)==(CD[i+88>>2]|0)?(CD[n+92>>2]|0)==(CD[i+92>>2]|0):0){if(h=CD[i+4>>2]|0,(h|0)==(i|0)){o=CD[i+8>>2]|0,o?(o=CD[o+12>>2]|0,a=CD[o+88>>2]|0):o=i,l=CD[o+96>>2]|0,c=a+1|0,a=o;break}s=CD[i>>2]|0,CD[h>>2]=s,CD[s+4>>2]=h;e:do if((i|0)==(CD[L+136>>2]|0)){c=CD[s+88>>2]|0,l=CD[h+88>>2]|0;do if((c|0)>=(l|0)){if((c|0)==(l|0)?(CD[s+92>>2]|0)<(CD[h+92>>2]|0):0)break;CD[L+136>>2]=h;break e}while(0);CD[L+136>>2]=s}while(0);if((i|0)==(o|0)){c=CD[s+88>>2]|0,l=CD[h+88>>2]|0;do if((c|0)<=(l|0)){if((c|0)==(l|0)?(CD[s+92>>2]|0)>(CD[h+92>>2]|0):0)break;CD[L+136+4>>2]=h,s=h,V=39;break t}while(0);CD[L+136+4>>2]=s,V=39}else s=o,V=39}else s=o,V=39;while(0);if((V|0)==39){T=CD[r>>2]|0,S=CD[L+136>>2]|0,u=0,M=1,d=v,D=0,e=s,a=0;t:for(;;)for(;;){m=CD[d+88>>2]|0,i=XD((CD[e+88>>2]|0)-m|0,M)|0;e:do if((i|0)<=0){if((i|0)<0)for(g=(u|0)!=0,_=CD[d+92>>2]|0,y=CD[e+92>>2]|0;;){for(l=CD[(g?e+4|0:e)>>2]|0,n=(l|0)==(e|0),o=e+88|0;;){if(f=d+88|0,m=y-_|0,n?0:(b=CD[l+88>>2]|0,A=XD(b-(CD[o>>2]|0)|0,M)|0,w=CD[l+92>>2]|0,R=w-y|0,(R|0)>-1)){if(!A)break;if((A|0)<0?(XD(R,i)|0)<=(XD(A,m)|0):0)break}if(c=CD[(g?d+4|0:d)>>2]|0,(c|0)==(d|0)){h=d,i=e;break e}if(E=CD[c+88>>2]|0,p=XD(E-(CD[f>>2]|0)|0,M)|0,h=CD[c+92>>2]|0,_=h-_|0,f=i,i=XD((CD[o>>2]|0)-E|0,M)|0,!((_|0)>0&(i|0)<0)){h=d,i=e;break e}if(p){if((p|0)>=0){h=d,i=e;break e}if((XD(_,f)|0)>=(XD(p,m)|0)){h=d,i=e;break e}_=h,d=c}else _=h,d=c}y=w,i=XD(b-(CD[f>>2]|0)|0,M)|0,e=l}i=CD[d+92>>2]|0,f=(u|0)!=0;i:do if(f)for(c=d;;){if(h=CD[c>>2]|0,(h|0)==(d|0))break i;if((CD[h+88>>2]|0)!=(m|0))break i;if(E=i,i=CD[h+92>>2]|0,(i|0)>(E|0))break;c=h}else for(c=d;;){if(h=CD[c+4>>2]|0,(h|0)==(d|0))break i;if((CD[h+88>>2]|0)!=(m|0))break i;if(E=i,i=CD[h+92>>2]|0,(i|0)>(E|0))break;c=h}while(0);if(h=CD[e+92>>2]|0,f)for(i=e;;){if(d=CD[i+4>>2]|0,(d|0)==(e|0)){h=c;break e}if((CD[d+88>>2]|0)!=(m|0)){h=c;break e}if(E=h,h=CD[d+92>>2]|0,(h|0)<(E|0)){h=c;break}i=d}else for(i=e;;){if(d=CD[i>>2]|0,(d|0)==(e|0)){h=c;break e}if((CD[d+88>>2]|0)!=(m|0)){h=c;break e}if(E=h,h=CD[d+92>>2]|0,(h|0)<(E|0)){h=c;break}i=d}}else for(C=(u|0)!=0,x=CD[e+92>>2]|0;;){E=e+88|0,f=d+88|0,c=CD[d+92>>2]|0,p=x-c|0,h=CD[(C?d:d+4|0)>>2]|0;i:do if((h|0)==(d|0))m=i;else for(n=CD[d+88>>2]|0,m=i;;){if(_=n,n=CD[h+88>>2]|0,_=XD(n-_|0,M)|0,l=c,c=CD[h+92>>2]|0,l=c-l|0,(l|0)>=1)break i;if(_){if((_|0)>=0)break i;if((XD(l,m)|0)>(XD(_,p)|0))break i}if(m=XD((CD[E>>2]|0)-n|0,M)|0,f=h+88|0,p=x-c|0,d=CD[(C?h:h+4|0)>>2]|0,(d|0)==(h|0)){d=h;break}y=h,h=d,d=y}while(0);if(l=CD[(C?e:e+4|0)>>2]|0,(l|0)==(e|0)){h=d,i=e;break e}if(i=CD[l+88>>2]|0,h=XD(i-(CD[E>>2]|0)|0,M)|0,c=x,x=CD[l+92>>2]|0,c=x-c|0,i=XD(i-(CD[f>>2]|0)|0,M)|0,!((c|0)<0&(i|0)>0)){h=d,i=e;break e}if(h){if((h|0)>=0){h=d,i=e;break e}if((XD(c,m)|0)>=(XD(h,p)|0)){h=d,i=e;break}e=l}else e=l}while(0);if(!u){u=1,M=-1,d=T,D=h,e=S,a=i;continue t}if(u=u+1|0,(u|0)==2)break t;d=h,e=i}if(CD[h+4>>2]=i,CD[i>>2]=h,CD[D>>2]=a,CD[a+4>>2]=D,(CD[S+88>>2]|0)<(CD[T+88>>2]|0)&&(CD[r>>2]=S),(CD[s+88>>2]|0)>=(CD[v+88>>2]|0)&&(CD[r+4>>2]=s),CD[r+12>>2]=CD[L+136+12>>2],y=CD[a+88>>2]|0,f=CD[D+88>>2]|0,g=CD[a+92>>2]|0,m=CD[D+92>>2]|0,o=CD[a+96>>2]|0,p=CD[D+96>>2]|0,b=((g-m|0)<0)<<31>>31,v=0-(y-f)|0,M=Pw(0,0,v|0,((v|0)<0)<<31>>31|0)|0,M=Jw(o-p|0,((o-p|0)<0)<<31>>31|0,M|0,OD|0)|0,S=OD,T=Jw(o-p|0,((o-p|0)<0)<<31>>31|0,g-m|0,b|0)|0,x=OD,c=Jw(y-f|0,((y-f|0)<0)<<31>>31|0,v|0,((v|0)<0)<<31>>31|0)|0,E=OD,C=Jw(g-m|0,b|0,g-m|0,b|0)|0,C=Pw(c|0,E|0,C|0,OD|0)|0,E=OD,c=CD[D+8>>2]|0,CD[L+104>>2]=0,c){l=Pw(0,0,g-m|0,b|0)|0,s=OD,d=0,_=c;do{i=CD[_+12>>2]|0,u=CD[i+88>>2]|0,e=CD[i+92>>2]|0,i=CD[i+96>>2]|0,w=Jw(e-m|0,((e-m|0)<0)<<31>>31|0,v|0,((v|0)<0)<<31>>31|0)|0,r=OD,R=Jw(u-f|0,((u-f|0)<0)<<31>>31|0,l|0,s|0)|0;t:do if((w|0)==(R|0)&(r|0)==(OD|0)?(R=Jw(u-f|0,((u-f|0)<0)<<31>>31|0,M|0,S|0)|0,w=OD,r=Jw(e-m|0,((e-m|0)<0)<<31>>31|0,T|0,x|0)|0,w=Lw(r|0,OD|0,R|0,w|0)|0,R=OD,r=Jw(i-p|0,((i-p|0)<0)<<31>>31|0,C|0,E|0)|0,r=Lw(w|0,R|0,r|0,OD|0)|0,R=OD,(R|0)>0|(R|0)==0&r>>>0>0):0){do if(d){if(h=(CD[d+4>>2]|0)==(_|0),(CD[d>>2]|0)!=(_|0)){if(h)break;break t}if(!h)break t;if(R=CD[d+12>>2]|0,A=CD[(CD[_+8>>2]|0)+12>>2]|0,r=CD[A+88>>2]|0,w=CD[A+92>>2]|0,A=CD[A+96>>2]|0,h=(CD[R+96>>2]|0)-A|0,w=(XD(i-A|0,(CD[R+92>>2]|0)-w|0)|0)-(XD(h,e-w|0)|0)|0,r=(XD(h,u-r|0)|0)-(XD(i-A|0,(CD[R+88>>2]|0)-r|0)|0)|0,w=Jw(w|0,((w|0)<0)<<31>>31|0,g-m|0,b|0)|0,R=OD,r=Jw(r|0,((r|0)<0)<<31>>31|0,v|0,((v|0)<0)<<31>>31|0)|0,r=Lw(w|0,R|0,r|0,OD|0)|0,R=OD,(R|0)>0|(R|0)==0&r>>>0>0)break t}while(0);CD[L+104>>2]=_,d=_}while(0);_=CD[_>>2]|0}while((_|0)!=(c|0))}else d=0;if(h=CD[a+8>>2]|0,CD[L+100>>2]=0,h){c=Pw(0,0,g-m|0,b|0)|0,l=OD,n=0,s=h;do{i=CD[s+12>>2]|0,u=CD[i+88>>2]|0,e=CD[i+92>>2]|0,i=CD[i+96>>2]|0,w=Jw(e-g|0,((e-g|0)<0)<<31>>31|0,v|0,((v|0)<0)<<31>>31|0)|0,r=OD,R=Jw(u-y|0,((u-y|0)<0)<<31>>31|0,c|0,l|0)|0;do if((w|0)==(R|0)&(r|0)==(OD|0)?(R=Jw(u-y|0,((u-y|0)<0)<<31>>31|0,M|0,S|0)|0,w=OD,r=Jw(e-g|0,((e-g|0)<0)<<31>>31|0,T|0,x|0)|0,w=Lw(r|0,OD|0,R|0,w|0)|0,R=OD,r=Jw(i-o|0,((i-o|0)<0)<<31>>31|0,C|0,E|0)|0,r=Lw(w|0,R|0,r|0,OD|0)|0,R=OD,(R|0)>0|(R|0)==0&r>>>0>0):0){if(n){if((CD[n>>2]|0)!=(s|0))break;if((CD[n+4>>2]|0)==(s|0)?(R=CD[n+12>>2]|0,A=CD[(CD[s+8>>2]|0)+12>>2]|0,r=CD[A+88>>2]|0,w=CD[A+92>>2]|0,A=CD[A+96>>2]|0,_=(CD[R+96>>2]|0)-A|0,w=(XD(i-A|0,(CD[R+92>>2]|0)-w|0)|0)-(XD(_,e-w|0)|0)|0,r=(XD(_,u-r|0)|0)-(XD(i-A|0,(CD[R+88>>2]|0)-r|0)|0)|0,w=Jw(w|0,((w|0)<0)<<31>>31|0,g-m|0,b|0)|0,R=OD,r=Jw(r|0,((r|0)<0)<<31>>31|0,v|0,((v|0)<0)<<31>>31|0)|0,r=Lw(w|0,R|0,r|0,OD|0)|0,R=OD,!((R|0)>0|(R|0)==0&r>>>0>0)):0)break}CD[L+100>>2]=s,n=s}while(0);s=CD[s>>2]|0}while((s|0)!=(h|0))}else n=0;(d|0)!=0|(n|0)!=0?(Wf(t,D,a,L+104|0,L+100|0),n=CD[L+104>>2]|0,n=n?CD[n+12>>2]|0:D,o=CD[L+100>>2]|0,o&&(a=CD[o+12>>2]|0)):n=D,l=(CD[a+96>>2]|0)+1|0,c=CD[a+88>>2]|0}for(_=CD[a+92>>2]|0,m=_,b=n,M=a,i=0,d=0,f=1,h=0,u=0,p=0,E=0,C=0,e=0;;){if(x=b+88|0,w=(CD[M+88>>2]|0)-(CD[x>>2]|0)|0,D=b+92|0,v=m-(CD[D>>2]|0)|0,A=b+96|0,S=(CD[M+96>>2]|0)-(CD[A>>2]|0)|0,CD[L+112>>2]=w,CD[L+112+4>>2]=v,CD[L+112+8>>2]=S,CD[L+112+12>>2]=-1,x=c-(CD[x>>2]|0)|0,D=_-(CD[D>>2]|0)|0,A=l-(CD[A>>2]|0)|0,T=(XD(S,D)|0)-(XD(v,A)|0)|0,A=(XD(w,A)|0)-(XD(S,x)|0)|0,D=(XD(v,x)|0)-(XD(w,D)|0)|0,CD[L+72>>2]=T,CD[L+72+4>>2]=((T|0)<0)<<31>>31,CD[L+72+8>>2]=A,CD[L+72+8+4>>2]=((A|0)<0)<<31>>31,CD[L+72+16>>2]=D,CD[L+72+16+4>>2]=((D|0)<0)<<31>>31,x=Jw(D|0,((D|0)<0)<<31>>31|0,v|0,((v|0)<0)<<31>>31|0)|0,r=OD,R=Jw(S|0,((S|0)<0)<<31>>31|0,A|0,((A|0)<0)<<31>>31|0)|0,R=Pw(x|0,r|0,R|0,OD|0)|0,r=OD,S=Jw(T|0,((T|0)<0)<<31>>31|0,S|0,((S|0)<0)<<31>>31|0)|0,x=OD,D=Jw(w|0,((w|0)<0)<<31>>31|0,D|0,((D|0)<0)<<31>>31|0)|0,D=Pw(S|0,x|0,D|0,OD|0)|0,x=OD,A=Jw(w|0,((w|0)<0)<<31>>31|0,A|0,((A|0)<0)<<31>>31|0)|0,w=OD,v=Jw(T|0,((T|0)<0)<<31>>31|0,v|0,((v|0)<0)<<31>>31|0)|0,v=Pw(A|0,w|0,v|0,OD|0)|0,CD[L+48>>2]=R,CD[L+48+4>>2]=r,CD[L+48+8>>2]=D,CD[L+48+8+4>>2]=x,CD[L+48+16>>2]=v,CD[L+48+16+4>>2]=OD,CD[L>>2]=0,CD[L+4>>2]=0,CD[L+8>>2]=0,CD[L+12>>2]=0,CD[L+16>>2]=0,v=pM(t,0,b,L+112|0,L+72|0,L+48|0,L)|0,CD[L+24>>2]=0,CD[L+24+4>>2]=0,CD[L+24+8>>2]=0,CD[L+24+12>>2]=0,CD[L+24+16>>2]=0,x=pM(t,1,M,L+112|0,L+72|0,L+48|0,L+24|0)|0,!((v|0)!=0|(x|0)!=0)){V=119;break}S=(v|0)!=0&(x|0)!=0?hM(CD[L>>2]|0,CD[L+4>>2]|0,CD[L+8>>2]|0,CD[L+8+4>>2]|0,CD[L+16>>2]|0,CD[L+24>>2]|0,CD[L+24+4>>2]|0,CD[L+24+8>>2]|0,CD[L+24+8+4>>2]|0,CD[L+24+16>>2]|0)|0:(v|0)!=0?-1:1;do if(f)V=127;else{if((S|0)>-1){if((CD[L+24+16>>2]|0)<0&((CD[L+24+8>>2]|0)==0?(CD[L+24+8+4>>2]|0)==0:0)){T=u,o=p,s=E,V=132;break}V=127;break}(CD[L+16>>2]|0)<0&((CD[L+8>>2]|0)==0?(CD[L+8+4>>2]|0)==0:0)?(CD[L+96>>2]=v,CD[L+128>>2]=x,x=d,T=u,o=p):V=127}while(0);if((V|0)==127&&(o=uM(t,b,M)|0,p?CD[p+4>>2]=o:h=o,CD[o>>2]=p,s=CD[o+8>>2]|0,E?CD[E>>2]=s:u=s,CD[s+4>>2]=E,T=u,V=132),(V|0)==132)if(V=0,CD[L+96>>2]=v,CD[L+128>>2]=x,S?m=x:(Wf(t,b,M,L+96|0,L+128|0),m=CD[L+128>>2]|0),(S|0)>-1&(m|0)!=0){if(_=(e|0)!=0,_?(P=CD[e>>2]|0,(P|0)!=(x|0)):0){p=P;do f=p,p=CD[p>>2]|0,l=CD[f+8>>2]|0,c=CD[l+12>>2]|0,(p|0)==(f|0)?u=0:(CD[p+4>>2]=CD[f+4>>2],CD[CD[f+4>>2]>>2]=p,u=p),CD[c+8>>2]=u,u=CD[l>>2]|0,c=CD[f+12>>2]|0,(u|0)==(l|0)?u=0:(CD[u+4>>2]=CD[l+4>>2],CD[CD[l+4>>2]>>2]=u),CD[c+8>>2]=u,CD[f>>2]=0,CD[f+4>>2]=0,CD[f+8>>2]=0,CD[f+12>>2]=0,CD[f+16>>2]=0,CD[f>>2]=CD[t+56>>2],CD[t+56>>2]=f,CD[l>>2]=0,CD[l+4>>2]=0,CD[l+8>>2]=0,CD[l+12>>2]=0,CD[l+16>>2]=0,CD[l>>2]=CD[t+56>>2],CD[t+56>>2]=l,CD[t+116>>2]=(CD[t+116>>2]|0)+-1;while((p|0)!=(x|0))}s?(_?(CD[e>>2]=T,u=x+4|0):(e=CD[x+4>>2]|0,CD[e>>2]=T,u=x+4|0,d=T),CD[T+4>>2]=e,CD[s>>2]=x,CD[u>>2]=s,f=CD[L+128>>2]|0,u=0):(f=m,d=_?d:x,u=T),l=CD[M+96>>2]|0,_=CD[M+92>>2]|0,c=CD[M+88>>2]|0,M=CD[f+12>>2]|0,x=d,T=u,E=0,e=CD[f+8>>2]|0}else x=d,E=s;if(m=CD[L+96>>2]|0,(S|0)<1&(m|0)!=0){if(_=(C|0)!=0,_?(B=CD[C+4>>2]|0,(B|0)!=(v|0)):0){f=B;do u=f+4|0,p=f,f=CD[u>>2]|0,d=CD[p>>2]|0,l=CD[p+8>>2]|0,c=CD[l+12>>2]|0,(d|0)==(p|0)?d=0:(CD[d+4>>2]=f,CD[CD[u>>2]>>2]=d),CD[c+8>>2]=d,d=CD[l>>2]|0,u=CD[p+12>>2]|0,(d|0)==(l|0)?d=0:(CD[d+4>>2]=CD[l+4>>2],CD[CD[l+4>>2]>>2]=d),CD[u+8>>2]=d,CD[p>>2]=0,CD[p+4>>2]=0,CD[p+8>>2]=0,CD[p+12>>2]=0,CD[p+16>>2]=0,CD[p>>2]=CD[t+56>>2],CD[t+56>>2]=p,CD[l>>2]=0,CD[l+4>>2]=0,CD[l+8>>2]=0,CD[l+12>>2]=0,CD[l+16>>2]=0,CD[l>>2]=CD[t+56>>2],CD[t+56>>2]=l,CD[t+116>>2]=(CD[t+116>>2]|0)+-1;while((f|0)!=(v|0))}o?(_?(CD[C+4>>2]=h,l=v,c=C):(c=CD[v>>2]|0,CD[c+4>>2]=h,l=v,i=h),CD[h>>2]=c,CD[l>>2]=o,CD[o+4>>2]=v,d=CD[L+96>>2]|0,h=0):(d=m,i=_?i:v),l=CD[b+96>>2]|0,_=CD[b+92>>2]|0,c=CD[b+88>>2]|0,f=CD[d+12>>2]|0,p=0,C=CD[d+8>>2]|0}else f=b,p=o;if((f|0)==(n|0)&(M|0)==(a|0))break;m=CD[M+92>>2]|0,b=f,d=x,f=0,u=T}if((V|0)==119){t=uM(t,b,M)|0,CD[t>>2]=t,CD[t+4>>2]=t,CD[b+8>>2]=t,t=CD[t+8>>2]|0,CD[t>>2]=t,CD[t+4>>2]=t,CD[M+8>>2]=t;break}if(C){if(d=C+4|0,c=CD[d>>2]|0,(c|0)!=(i|0))do s=c+4|0,u=c,c=CD[s>>2]|0,l=CD[u>>2]|0,o=CD[u+8>>2]|0,n=CD[o+12>>2]|0,(l|0)==(u|0)?l=0:(CD[l+4>>2]=c,CD[CD[s>>2]>>2]=l),CD[n+8>>2]=l,l=CD[o>>2]|0,s=CD[u+12>>2]|0,(l|0)==(o|0)?l=0:(CD[l+4>>2]=CD[o+4>>2],CD[CD[o+4>>2]>>2]=l),CD[s+8>>2]=l,CD[u>>2]=0,CD[u+4>>2]=0,CD[u+8>>2]=0,CD[u+12>>2]=0,CD[u+16>>2]=0,CD[u>>2]=CD[t+56>>2],CD[t+56>>2]=u,CD[o>>2]=0,CD[o+4>>2]=0,CD[o+8>>2]=0,CD[o+12>>2]=0,CD[o+16>>2]=0,CD[o>>2]=CD[t+56>>2],CD[t+56>>2]=o,CD[t+116>>2]=(CD[t+116>>2]|0)+-1;while((c|0)!=(i|0));p&&(CD[h>>2]=C,CD[d>>2]=h,CD[i>>2]=p,CD[p+4>>2]=i)}else CD[h>>2]=p,CD[p+4>>2]=h,CD[f+8>>2]=p;if(!e){CD[E>>2]=T,CD[T+4>>2]=E,CD[a+8>>2]=E;break}if(n=CD[e>>2]|0,(n|0)!=(x|0))do s=n,n=CD[n>>2]|0,c=CD[s+8>>2]|0,o=CD[c+12>>2]|0,(n|0)==(s|0)?a=0:(CD[n+4>>2]=CD[s+4>>2],CD[CD[s+4>>2]>>2]=n,a=n),CD[o+8>>2]=a,a=CD[c>>2]|0,l=CD[s+12>>2]|0,(a|0)==(c|0)?a=0:(CD[a+4>>2]=CD[c+4>>2],CD[CD[c+4>>2]>>2]=a),CD[l+8>>2]=a,CD[s>>2]=0,CD[s+4>>2]=0,CD[s+8>>2]=0,CD[s+12>>2]=0,CD[s+16>>2]=0,CD[s>>2]=CD[t+56>>2],CD[t+56>>2]=s,CD[c>>2]=0,CD[c+4>>2]=0,CD[c+8>>2]=0,CD[c+12>>2]=0,CD[c+16>>2]=0,CD[c>>2]=CD[t+56>>2],CD[t+56>>2]=c,CD[t+116>>2]=(CD[t+116>>2]|0)+-1;while((n|0)!=(x|0));E&&(CD[e>>2]=T,CD[T+4>>2]=e,CD[E>>2]=x,CD[x+4>>2]=E)}while(0);return void(BD=L)}return CD[r>>2]=0,CD[r+4>>2]=0,CD[r+8>>2]=0,CD[r+12>>2]=0,void(BD=L)}o=CD[(CD[t+92>>2]|0)+(e<<2)>>2]|0}while(0);CD[o+8>>2]=0,CD[o>>2]=o,CD[o+4>>2]=o,CD[r>>2]=o,CD[r+4>>2]=o,CD[r+8>>2]=o,CD[r+12>>2]=o,BD=L}function pM(t,e,i,r,o,n,a){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0;var s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0;if(s=CD[i+8>>2]|0,!s)return t=0,t|0;v=s,s=0;do{do if((CD[v+20>>2]|0)>(CD[t+100>>2]|0)){if(y=CD[v+12>>2]|0,f=CD[y+88>>2]|0,_=f-(CD[i+88>>2]|0)|0,m=CD[y+92>>2]|0,g=m-(CD[i+92>>2]|0)|0,y=CD[y+96>>2]|0,b=y-(CD[i+96>>2]|0)|0,h=Jw(_|0,((_|0)<0)<<31>>31|0,CD[n>>2]|0,CD[n+4>>2]|0)|0,d=OD,l=Jw(g|0,((g|0)<0)<<31>>31|0,CD[n+8>>2]|0,CD[n+8+4>>2]|0)|0,d=Lw(l|0,OD|0,h|0,d|0)|0,h=OD,l=Jw(b|0,((b|0)<0)<<31>>31|0,CD[n+16>>2]|0,CD[n+16+4>>2]|0)|0,l=Lw(d|0,h|0,l|0,OD|0)|0,h=OD,d=Jw(CD[o>>2]|0,CD[o+4>>2]|0,_|0,((_|0)<0)<<31>>31|0)|0,p=OD,u=Jw(CD[o+8>>2]|0,CD[o+8+4>>2]|0,g|0,((g|0)<0)<<31>>31|0)|0,p=Lw(u|0,OD|0,d|0,p|0)|0,d=OD,u=Jw(CD[o+16>>2]|0,CD[o+16+4>>2]|0,b|0,((b|0)<0)<<31>>31|0)|0,u=Lw(p|0,d|0,u|0,OD|0)|0,d=OD,(h|0)>0|(h|0)==0&l>>>0>0?(c=1,p=h,h=1):(l=Pw(0,0,l|0,h|0)|0,c=(h|0)<0?-1:0,l=(h|0)<0?l:0,p=(h|0)<0?OD:0,h=(h|0)<0?-1:0),!((d|0)>0|(d|0)==0&u>>>0>0)&&((d|0)<0?(h=0-c|0,u=Pw(0,0,u|0,d|0)|0,c=h,d=OD):(u=0,d=0),(c|0)==0&((u|0)==0&(d|0)==0)))break;if(!s){CD[a>>2]=l,CD[a+4>>2]=p,CD[a+8>>2]=u,CD[a+8+4>>2]=d,CD[a+16>>2]=h,s=v;break}if(c=hM(l,p,u,d,h,CD[a>>2]|0,CD[a+4>>2]|0,CD[a+8>>2]|0,CD[a+8+4>>2]|0,CD[a+16>>2]|0)|0,(c|0)<0){CD[a>>2]=l,CD[a+4>>2]=p,CD[a+8>>2]=u,CD[a+8+4>>2]=d,CD[a+16>>2]=h,s=v;break}c||(l=(CD[s+4>>2]|0)==(v|0),(CD[s>>2]|0)==(v|0)?l?(u=CD[r+8>>2]|0,p=XD(u,g)|0,l=CD[r+4>>2]|0,p=p-(XD(l,b)|0)|0,M=CD[r>>2]|0,b=(XD(M,b)|0)-(XD(_,u)|0)|0,_=(XD(_,l)|0)-(XD(M,g)|0)|0,M=CD[s+12>>2]|0,l=CD[(CD[v+8>>2]|0)+12>>2]|0,u=CD[l+88>>2]|0,h=(CD[M+88>>2]|0)-u|0,c=CD[l+92>>2]|0,d=(CD[M+92>>2]|0)-c|0,l=CD[l+96>>2]|0,M=(CD[M+96>>2]|0)-l|0,g=(XD(y-l|0,d)|0)-(XD(m-c|0,M)|0)|0,l=(XD(f-u|0,M)|0)-(XD(y-l|0,h)|0)|0,y=(XD(m-c|0,h)|0)-(XD(f-u|0,d)|0)|0,m=Jw(g|0,((g|0)<0)<<31>>31|0,p|0,((p|0)<0)<<31>>31|0)|0,g=OD,b=Jw(l|0,((l|0)<0)<<31>>31|0,b|0,((b|0)<0)<<31>>31|0)|0,l=OD,y=Jw(y|0,((y|0)<0)<<31>>31|0,_|0,((_|0)<0)<<31>>31|0)|0,y=Lw(m|0,g|0,y|0,OD|0)|0,l=Lw(y|0,OD|0,b|0,l|0)|0,b=OD,l=(b|0)>0|(b|0)==0&l>>>0>0?2:1):l=2:l&=1,s=(l|0)==2^e?s:v)}while(0);v=CD[v>>2]|0}while((v|0)!=(CD[i+8>>2]|0));return s|0}function fM(t,e,i){t|=0,e|=0,i=+i;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0;if(g=BD,BD=BD+528|0,(TD[t+171>>0]|0)==0?+RD[t+172>>2]<=0:0)return void(BD=g);if(m=(MP[CD[(CD[t>>2]|0)+48>>2]&127](t)|0)&1,TD[t+168>>0]=m,n=+RD[t+16>>2]-+RD[t+44>>2]*i,RD[t+16>>2]=n,(n>0?(o=+RD[t+28>>2],n>o):0)?RD[t+16>>2]=o:o=n,(o<0?(p=+JD(+o),a=+JD(+ +RD[t+24>>2]),p>a):0)&&(RD[t+16>>2]=-a,o=-a),RD[t+20>>2]=o*i,r=CD[t+8>>2]|0,CD[g+272>>2]=CD[r+4>>2],CD[g+272+4>>2]=CD[r+4+4>>2],CD[g+272+8>>2]=CD[r+4+8>>2],CD[g+272+12>>2]=CD[r+4+12>>2],f=g+272+16|0,CD[f>>2]=CD[r+20>>2],CD[f+4>>2]=CD[r+20+4>>2],CD[f+8>>2]=CD[r+20+8>>2],CD[f+12>>2]=CD[r+20+12>>2],_=g+272+32|0,CD[_>>2]=CD[r+36>>2],CD[_+4>>2]=CD[r+36+4>>2],CD[_+8>>2]=CD[r+36+8>>2],CD[_+12>>2]=CD[r+36+12>>2],m=g+272+48|0,CD[m>>2]=CD[r+52>>2],CD[m+4>>2]=CD[r+52+4>>2],CD[m+8>>2]=CD[r+52+8>>2],CD[m+12>>2]=CD[r+52+12>>2],r=CD[t+176>>2]|0,((TD[5128]|0)==0?(KD(5128)|0)!=0:0)&&(RD[1270]=1,CD[1271]=0,CD[1272]=0,CD[1273]=0,CD[1274]=0,RD[1275]=1,CD[1276]=0,CD[1277]=0,CD[1278]=0,CD[1279]=0,RD[1280]=1,RD[1281]=0,QD(5128)),u=+RD[t+20>>2],u=+RD[t+52>>2]+(u>0?u:0),d=+RD[5080+(r<<4)+4>>2]*u+ +RD[t+96>>2],p=u*+RD[5080+(r<<4)+8>>2]+ +RD[t+100>>2],RD[t+112>>2]=+RD[t+92>>2]+ +RD[5080+(r<<4)>>2]*u,RD[t+116>>2]=d,RD[t+120>>2]=p,RD[t+124>>2]=0,RD[g+208>>2]=1,CD[g+208+4>>2]=0,CD[g+208+4+4>>2]=0,CD[g+208+4+8>>2]=0,CD[g+208+4+12>>2]=0,RD[g+208+20>>2]=1,CD[g+208+24>>2]=0,CD[g+208+24+4>>2]=0,CD[g+208+24+8>>2]=0,CD[g+208+24+12>>2]=0,RD[g+208+40>>2]=1,r=g+208+44|0,CD[r>>2]=0,CD[r+4>>2]=0,CD[r+8>>2]=0,CD[r+12>>2]=0,CD[r+16>>2]=0,RD[g+336>>2]=1,CD[g+336+4>>2]=0,CD[g+336+4+4>>2]=0,CD[g+336+4+8>>2]=0,CD[g+336+4+12>>2]=0,RD[g+336+20>>2]=1,CD[g+336+24>>2]=0,CD[g+336+24+4>>2]=0,CD[g+336+24+8>>2]=0,CD[g+336+24+12>>2]=0,RD[g+336+40>>2]=1,r=g+336+44|0,CD[r>>2]=0,CD[r+4>>2]=0,CD[r+8>>2]=0,CD[r+12>>2]=0,CD[r+16>>2]=0,r=CD[t+176>>2]|0,((TD[5128]|0)==0?(KD(5128)|0)!=0:0)&&(RD[1270]=1,CD[1271]=0,CD[1272]=0,CD[1273]=0,CD[1274]=0,RD[1275]=1,CD[1276]=0,CD[1277]=0,CD[1278]=0,CD[1279]=0,RD[1280]=1,RD[1281]=0,QD(5128)),s=CD[t+12>>2]|0,u=+VP[CD[(CD[s>>2]|0)+48>>2]&15](s),u+=+RD[t+56>>2],d=u*+RD[5080+(r<<4)+4>>2]+ +RD[t+96>>2],p=u*+RD[5080+(r<<4)+8>>2]+ +RD[t+100>>2],RD[g+208+48>>2]=+RD[5080+(r<<4)>>2]*u+ +RD[t+92>>2],RD[g+208+52>>2]=d,RD[g+208+56>>2]=p,RD[g+208+60>>2]=0,CD[g+336+48>>2]=CD[t+112>>2],CD[g+336+48+4>>2]=CD[t+112+4>>2],CD[g+336+48+8>>2]=CD[t+112+8>>2],CD[g+336+48+12>>2]=CD[t+112+12>>2],r=CD[t+8>>2]|0,s=CD[t+176>>2]|0,((TD[5128]|0)==0?(KD(5128)|0)!=0:0)&&(RD[1270]=1,CD[1271]=0,CD[1272]=0,CD[1273]=0,CD[1274]=0,RD[1275]=1,CD[1276]=0,CD[1277]=0,CD[1278]=0,CD[1279]=0,RD[1280]=1,RD[1281]=0,QD(5128)),u=-+RD[5080+(s<<4)>>2],d=-+RD[5080+(s<<4)+4>>2],p=-+RD[5080+(s<<4)+8>>2],RD[g+400+4>>2]=1,h=g+400+12|0,CD[g+400+76>>2]=0,CD[h>>2]=0,CD[h+4>>2]=0,CD[h+8>>2]=0,CD[h+12>>2]=0,CD[h+16>>2]=0,CD[h+20>>2]=0,CD[h+24>>2]=0,CD[h+28>>2]=0,CD[g+400>>2]=5256,CD[g+400+80>>2]=r,RD[g+400+84>>2]=u,RD[g+400+88>>2]=d,RD[g+400+92>>2]=p,RD[g+400+96>>2]=0,RD[g+400+100>>2]=.707099974155426,r=CD[t+8>>2]|0,h=CD[r+188>>2]|0,xD[g+400+8>>1]=xD[h+4>>1]|0,xD[g+400+10>>1]=xD[h+6>>1]|0,TD[t+170>>0]|0?BM(r,CD[t+12>>2]|0,g+208|0,g+336|0,g+400|0,+RD[e+56>>2]):ES(e,CD[t+12>>2]|0,g+208|0,g+336|0,g+400|0,0),+RD[g+400+4>>2]<1){r=CD[t+176>>2]|0,((TD[5128]|0)==0?(KD(5128)|0)!=0:0)&&(RD[1270]=1,CD[1271]=0,CD[1272]=0,CD[1273]=0,CD[1274]=0,RD[1275]=1,CD[1276]=0,CD[1277]=0,CD[1278]=0,CD[1279]=0,RD[1280]=1,RD[1281]=0,QD(5128));do if(+RD[g+400+44>>2]*+RD[5080+(r<<4)>>2]+ +RD[g+400+48>>2]*+RD[5080+(r<<4)+4>>2]+ +RD[g+400+52>>2]*+RD[5080+(r<<4)+8>>2]>0){if(n=+RD[g+400+4>>2],RD[t+108>>2]=+RD[t+52>>2]*n,TD[t+180>>0]|0){RD[t+92>>2]=(1-n)*+RD[t+92>>2]+n*+RD[t+112>>2],RD[t+96>>2]=(1-n)*+RD[t+96>>2]+n*+RD[t+116>>2],RD[t+100>>2]=(1-n)*+RD[t+100>>2]+n*+RD[t+120>>2];break}CD[t+92>>2]=CD[t+112>>2],CD[t+92+4>>2]=CD[t+112+4>>2],CD[t+92+8>>2]=CD[t+112+8>>2],CD[t+92+12>>2]=CD[t+112+12>>2];break}while(0);RD[t+16>>2]=0,RD[t+20>>2]=0}else RD[t+108>>2]=+RD[t+52>>2],CD[t+92>>2]=CD[t+112>>2],CD[t+92+4>>2]=CD[t+112+4>>2],CD[t+92+8>>2]=CD[t+112+8>>2],CD[t+92+12>>2]=CD[t+112+12>>2];TD[t+171>>0]|0?MT(t,e,+RD[t+60>>2],+RD[t+64>>2],+RD[t+68>>2]):(d=+RD[t+172>>2],p=d>i?i:d,RD[t+172>>2]=d-i,MT(t,e,+RD[t+60>>2]*p,p*+RD[t+64>>2],p*+RD[t+68>>2])),CD[g+504>>2]=CD[t+112>>2],CD[g+504+4>>2]=CD[t+112+4>>2],CD[g+504+8>>2]=CD[t+112+8>>2],CD[g+504+12>>2]=CD[t+112+12>>2],n=+RD[t+16>>2],n=n<0?-n:0,n*=i;do if(n>0?(l=+RD[t+24>>2],n>l):0){if((TD[t+168>>0]|0)==0?(TD[t+169>>0]|0)!=0:0)break;n=l}while(0);for(s=CD[t+176>>2]|0,((TD[5128]|0)==0?(KD(5128)|0)!=0:0)&&(RD[1270]=1,CD[1271]=0,CD[1272]=0,CD[1273]=0,CD[1274]=0,RD[1275]=1,CD[1276]=0,CD[1277]=0,CD[1278]=0,CD[1279]=0,RD[1280]=1,RD[1281]=0,QD(5128)),u=n+ +RD[t+108>>2],d=+RD[5080+(s<<4)>>2]*u,p=u*+RD[5080+(s<<4)+4>>2],u*=+RD[5080+(s<<4)+8>>2],RD[t+112>>2]=+RD[t+112>>2]-d,RD[t+116>>2]=+RD[t+116>>2]-p,RD[t+120>>2]=+RD[t+120>>2]-u,s=CD[t+8>>2]|0,r=CD[t+176>>2]|0,((TD[5128]|0)==0?(KD(5128)|0)!=0:0)&&(RD[1270]=1,CD[1271]=0,CD[1272]=0,CD[1273]=0,CD[1274]=0,RD[1275]=1,CD[1276]=0,CD[1277]=0,CD[1278]=0,CD[1279]=0,RD[1280]=1,RD[1281]=0,QD(5128)),l=+RD[t+40>>2],h=g+104+4|0,RD[h>>2]=1,c=g+104+12|0,CD[g+104+76>>2]=0,CD[c>>2]=0,CD[c+4>>2]=0,CD[c+8>>2]=0,CD[c+12>>2]=0,CD[c+16>>2]=0,CD[c+20>>2]=0,CD[c+24>>2]=0,CD[c+28>>2]=0,CD[g+104>>2]=5256,CD[g+104+80>>2]=s,CD[g+104+84>>2]=CD[5080+(r<<4)>>2],CD[g+104+84+4>>2]=CD[5080+(r<<4)+4>>2],CD[g+104+84+8>>2]=CD[5080+(r<<4)+8>>2],CD[g+104+84+12>>2]=CD[5080+(r<<4)+12>>2],RD[g+104+100>>2]=l,s=CD[t+8>>2]|0,r=CD[s+188>>2]|0,xD[g+104+8>>1]=xD[r+4>>1]|0,xD[g+104+10>>1]=xD[r+6>>1]|0,r=CD[t+176>>2]|0,((TD[5128]|0)==0?(KD(5128)|0)!=0:0)&&(RD[1270]=1,CD[1271]=0,CD[1272]=0,CD[1273]=0,CD[1274]=0,RD[1275]=1,CD[1276]=0,CD[1277]=0,CD[1278]=0,CD[1279]=0,RD[1280]=1,RD[1281]=0,QD(5128)),a=+RD[t+40>>2],RD[g+4>>2]=1,CD[g+76>>2]=0,CD[g+12>>2]=0,CD[g+12+4>>2]=0,CD[g+12+8>>2]=0,CD[g+12+12>>2]=0,CD[g+12+16>>2]=0,CD[g+12+20>>2]=0,CD[g+12+24>>2]=0,CD[g+12+28>>2]=0,CD[g>>2]=5256,CD[g+80>>2]=s,CD[g+84>>2]=CD[5080+(r<<4)>>2],CD[g+84+4>>2]=CD[5080+(r<<4)+4>>2],CD[g+84+8>>2]=CD[5080+(r<<4)+8>>2],CD[g+84+12>>2]=CD[5080+(r<<4)+12>>2],RD[g+100>>2]=a,s=CD[(CD[t+8>>2]|0)+188>>2]|0,xD[g+8>>1]=xD[s+4>>1]|0,xD[g+10>>1]=xD[s+6>>1]|0,a=+RD[t+112>>2],n=+RD[t+116>>2],o=+RD[t+120>>2],s=0;;){if(RD[g+208>>2]=1,CD[g+208+4>>2]=0,CD[g+208+4+4>>2]=0,CD[g+208+4+8>>2]=0,CD[g+208+4+12>>2]=0,RD[g+208+20>>2]=1,CD[g+208+24>>2]=0,CD[g+208+24+4>>2]=0,CD[g+208+24+8>>2]=0,CD[g+208+24+12>>2]=0,RD[g+208+40>>2]=1,CD[g+208+44>>2]=0,RD[g+336>>2]=1,CD[g+336+4>>2]=0,CD[g+336+4+4>>2]=0,CD[g+336+4+8>>2]=0,CD[g+336+4+12>>2]=0,RD[g+336+20>>2]=1,CD[g+336+24>>2]=0,CD[g+336+24+4>>2]=0,CD[g+336+24+8>>2]=0,CD[g+336+24+12>>2]=0,RD[g+336+40>>2]=1,CD[g+336+44>>2]=0,RD[g+400>>2]=1,CD[g+400+4>>2]=0,CD[g+400+4+4>>2]=0,CD[g+400+4+8>>2]=0,CD[g+400+4+12>>2]=0,RD[g+400+20>>2]=1,CD[g+400+24>>2]=0,CD[g+400+24+4>>2]=0,CD[g+400+24+8>>2]=0,CD[g+400+24+12>>2]=0,RD[g+400+40>>2]=1,CD[g+400+44>>2]=0,CD[g+400+44+4>>2]=0,CD[g+400+44+8>>2]=0,CD[g+208+48>>2]=CD[t+92>>2],CD[g+208+48+4>>2]=CD[t+92+4>>2],CD[g+208+48+8>>2]=CD[t+92+8>>2],CD[g+208+48+12>>2]=CD[t+92+12>>2],CD[g+336+48>>2]=CD[t+112>>2],CD[g+336+48+4>>2]=CD[t+112+4>>2],CD[g+336+48+8>>2]=CD[t+112+8>>2],CD[g+336+48+12>>2]=CD[t+112+12>>2],RD[g+400+48>>2]=a-d,RD[g+400+52>>2]=n-p,RD[g+400+56>>2]=o-u,RD[g+400+60>>2]=0,TD[t+170>>0]|0?(BM(CD[t+8>>2]|0,CD[t+12>>2]|0,g+208|0,g+336|0,g+104|0,+RD[e+56>>2]),+RD[h>>2]<1||BM(CD[t+8>>2]|0,CD[t+12>>2]|0,g+208|0,g+400|0,g,+RD[e+56>>2])):(ES(e,CD[t+12>>2]|0,g+208|0,g+336|0,g+104|0,+RD[e+56>>2]),+RD[h>>2]<1||ES(e,CD[t+12>>2]|0,g+208|0,g+400|0,g,+RD[e+56>>2])),l=+RD[t+16>>2],a=l<0?-l:0,a*=i,c=(TD[t+182>>0]|0)==0,r=(c?0:+RD[h>>2]<1)?1:+RD[g+4>>2]<1,!(a>0))break;if(n=+RD[t+52>>2],s|(!(a<n)|r^1))break;if((TD[t+168>>0]|0)==0?(TD[t+169>>0]|0)!=0:0){s=0;break}CD[t+112>>2]=CD[g+504>>2],CD[t+112+4>>2]=CD[g+504+4>>2],CD[t+112+8>>2]=CD[g+504+8>>2],CD[t+112+12>>2]=CD[g+504+12>>2],s=CD[t+176>>2]|0;do if(!(TD[5128]|0)){if(!(KD(5128)|0))break;RD[1270]=1,CD[1271]=0,CD[1272]=0,CD[1273]=0,CD[1274]=0,RD[1275]=1,CD[1276]=0,CD[1277]=0,CD[1278]=0,CD[1279]=0,RD[1280]=1,RD[1281]=0,QD(5128)}while(0);a=n+ +RD[t+108>>2],n=a*+RD[5080+(s<<4)+4>>2],o=a*+RD[5080+(s<<4)+8>>2],a=+RD[t+112>>2]-+RD[5080+(s<<4)>>2]*a,RD[t+112>>2]=a,n=+RD[t+116>>2]-n,RD[t+116>>2]=n,o=+RD[t+120>>2]-o,RD[t+120>>2]=o,s=1}if(o=+RD[h>>2],s|o<1){a=+RD[t+96>>2],n=(a-+RD[g+104+64>>2])*.5;do{if(!c){if(TD[t+181>>0]|0){RD[t+92>>2]=(1-o)*+RD[t+92>>2]+o*+RD[t+112>>2],RD[t+96>>2]=(1-o)*a+o*+RD[t+116>>2],RD[t+100>>2]=(1-o)*+RD[t+100>>2]+o*+RD[t+120>>2],r=t+181|0;break}RD[t+92>>2]=(1-n)*+RD[t+92>>2]+n*+RD[t+112>>2],RD[t+96>>2]=(1-n)*a+n*+RD[t+116>>2],RD[t+100>>2]=(1-n)*+RD[t+100>>2]+n*+RD[t+120>>2],r=t+181|0;break}RD[t+92>>2]=(1-o)*+RD[t+92>>2]+o*+RD[t+112>>2],RD[t+96>>2]=(1-o)*a+o*+RD[t+116>>2],RD[t+100>>2]=(1-o)*+RD[t+100>>2]+o*+RD[t+120>>2],r=t+181|0}while(0);TD[r>>0]=0,RD[t+16>>2]=0,RD[t+20>>2]=0,TD[t+169>>0]=0}else{TD[t+181>>0]=1;do if(!c&&(a=l<0?-l:0,n=+RD[t+24>>2],a*i>n)){if((TD[t+168>>0]|0)==0?(TD[t+169>>0]|0)!=0:0)break;RD[t+112>>2]=d+ +RD[t+112>>2],RD[t+116>>2]=p+ +RD[t+116>>2],RD[t+120>>2]=u+ +RD[t+120>>2],r=CD[t+176>>2]|0;do if(!(TD[5128]|0)){if(!(KD(5128)|0))break;RD[1270]=1,CD[1271]=0,CD[1272]=0,CD[1273]=0,CD[1274]=0,RD[1275]=1,CD[1276]=0,CD[1277]=0,CD[1278]=0,CD[1279]=0,RD[1280]=1,RD[1281]=0,QD(5128)}while(0);d=n+ +RD[t+108>>2],p=d*+RD[5080+(r<<4)+4>>2],i=d*+RD[5080+(r<<4)+8>>2],RD[t+112>>2]=+RD[t+112>>2]-+RD[5080+(r<<4)>>2]*d,RD[t+116>>2]=+RD[t+116>>2]-p,RD[t+120>>2]=+RD[t+120>>2]-i}while(0);CD[t+92>>2]=CD[t+112>>2],CD[t+92+4>>2]=CD[t+112+4>>2],CD[t+92+8>>2]=CD[t+112+8>>2],CD[t+92+12>>2]=CD[t+112+12>>2]}CD[m>>2]=CD[t+92>>2],CD[m+4>>2]=CD[t+92+4>>2],CD[m+8>>2]=CD[t+92+8>>2],CD[m+12>>2]=CD[t+92+12>>2],t=CD[t+8>>2]|0,CD[t+260>>2]=(CD[t+260>>2]|0)+1,CD[t+4>>2]=CD[g+272>>2],CD[t+4+4>>2]=CD[g+272+4>>2],CD[t+4+8>>2]=CD[g+272+8>>2],CD[t+4+12>>2]=CD[g+272+12>>2],CD[t+20>>2]=CD[f>>2],CD[t+20+4>>2]=CD[f+4>>2],CD[t+20+8>>2]=CD[f+8>>2],CD[t+20+12>>2]=CD[f+12>>2],CD[t+36>>2]=CD[_>>2],CD[t+36+4>>2]=CD[_+4>>2],CD[t+36+8>>2]=CD[_+8>>2],CD[t+36+12>>2]=CD[_+12>>2],CD[t+52>>2]=CD[m>>2],CD[t+52+4>>2]=CD[m+4>>2],CD[t+52+8>>2]=CD[m+8>>2],CD[t+52+12>>2]=CD[m+12>>2],BD=g}function _M(t){return t|=0,MP[CD[(CD[t>>2]|0)+48>>2]&127](t)|0}function mM(t){t|=0,MP[CD[(CD[t>>2]|0)+40>>2]&127](t)|0&&(RD[t+16>>2]=+RD[t+28>>2],TD[t+169>>0]=1)}function gM(t){return t|=0,+RD[t+16>>2]!=0?(t=0,t|0):(t=+RD[t+20>>2]==0,t|0)}function yM(t,e){t|=0,e|=0}function bM(t,e){t|=0,e|=0,TD[t+180>>0]=e&1}function vM(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0;return i=CD[t+748>>2]|0,(i|0)!=4?(CD[t+748>>2]=i+1,M=i,v=(M|0)<0,M=v?0:M,t=t+4+(M*184|0)|0,kw(t|0,e|0,184)|0,M|0):(S=+RD[e+80>>2],b=+RD[t+84>>2],y=b<S?b:S,g=+RD[t+268>>2],m=g<y?g:y,_=+RD[t+452>>2],v=+RD[t+636>>2]<(_<m?_:m),i=v?3:_<m?2:g<y?1:(b<S^1)<<31>>31,S=+RD[e>>2],i?(n=+RD[t+188>>2],l=+RD[e+4>>2],r=+RD[t+192>>2],o=+RD[e+8>>2],s=+RD[t+196>>2],c=+RD[t+556>>2],g=+RD[t+372>>2],p=+RD[t+560>>2],f=+RD[t+376>>2],m=+RD[t+564>>2],h=+RD[t+380>>2],a=((S-n)*(p-f)-(l-r)*(c-g))*((S-n)*(p-f)-(l-r)*(c-g))+(((l-r)*(m-h)-(o-s)*(p-f))*((l-r)*(m-h)-(o-s)*(p-f))+((o-s)*(c-g)-(S-n)*(m-h))*((o-s)*(c-g)-(S-n)*(m-h))),(i|0)==1?(d=+RD[t+12>>2],_=c,b=n,y=p,p=r,n=0,u=+RD[t+4>>2],c=+RD[t+8>>2],M=7):(y=n,_=c,M=6)):(y=+RD[t+188>>2],r=+RD[t+192>>2],s=+RD[t+196>>2],a=0,l=+RD[e+4>>2],o=+RD[e+8>>2],_=+RD[t+556>>2],g=+RD[t+372>>2],p=+RD[t+560>>2],f=+RD[t+376>>2],m=+RD[t+564>>2],h=+RD[t+380>>2],M=6),(M|0)==6&&(u=+RD[t+4>>2],c=+RD[t+8>>2],C=l-c,d=+RD[t+12>>2],T=o-d,b=_-g,x=p-f,n=m-h,n=((S-u)*x-C*b)*((S-u)*x-C*b)+((C*n-T*x)*(C*n-T*x)+(T*b-(S-u)*n)*(T*b-(S-u)*n)),(i|0)==2?(_=g,m=y,p=r,r=0,M=8):(b=y,y=p,p=r,M=7)),(M|0)==7&&(T=S-u,x=l-c,C=o-d,_-=b,y-=p,r=m-s,r=(T*y-x*_)*(T*y-x*_)+((x*r-C*y)*(x*r-C*y)+(C*_-T*r)*(C*_-T*r)),v?o=0:(_=g,m=b,M=8)),(M|0)==8&&(T=S-u,g=l-c,b=o-d,S=_-m,y=f-p,o=h-s,o=(T*y-g*S)*(T*y-g*S)+((g*o-b*y)*(g*o-b*y)+(b*S-T*o)*(b*S-T*o))),T=+JD(+a),b=+JD(+n),g=+JD(+r),m=+JD(+o),S=T>-0xde0b6b000000000?T:-0xde0b6b000000000,y=b>S?b:S,M=m>(g>y?g:y)?3:g>y?2:b>S?1:(T>-0xde0b6b000000000^1)<<31>>31,v=(M|0)<0,M=v?0:M,t=t+4+(M*184|0)|0,kw(t|0,e|0,184)|0,M|0)}function MM(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0;if(r=CD[t+748>>2]|0,!((r|0)<=0)){do l=r,r=r+-1|0,p=+RD[t+4+(r*184|0)>>2],f=+RD[t+4+(r*184|0)+4>>2],o=+RD[t+4+(r*184|0)+8>>2],d=p*+RD[e>>2]+f*+RD[e+4>>2]+o*+RD[e+8>>2]+ +RD[e+48>>2],h=p*+RD[e+16>>2]+f*+RD[e+20>>2]+o*+RD[e+24>>2]+ +RD[e+52>>2],o=p*+RD[e+32>>2]+f*+RD[e+36>>2]+o*+RD[e+40>>2]+ +RD[e+56>>2],RD[t+4+(r*184|0)+48>>2]=d,RD[t+4+(r*184|0)+52>>2]=h,RD[t+4+(r*184|0)+56>>2]=o,RD[t+4+(r*184|0)+60>>2]=0,f=+RD[t+4+(r*184|0)+16>>2],p=+RD[t+4+(r*184|0)+20>>2],n=+RD[t+4+(r*184|0)+24>>2],u=f*+RD[i>>2]+p*+RD[i+4>>2]+n*+RD[i+8>>2]+ +RD[i+48>>2],c=f*+RD[i+16>>2]+p*+RD[i+20>>2]+n*+RD[i+24>>2]+ +RD[i+52>>2],n=f*+RD[i+32>>2]+p*+RD[i+36>>2]+n*+RD[i+40>>2]+ +RD[i+56>>2],RD[t+4+(r*184|0)+32>>2]=u,RD[t+4+(r*184|0)+36>>2]=c,RD[t+4+(r*184|0)+40>>2]=n,RD[t+4+(r*184|0)+44>>2]=0,RD[t+4+(r*184|0)+80>>2]=(d-u)*+RD[t+4+(r*184|0)+64>>2]+(h-c)*+RD[t+4+(r*184|0)+68>>2]+(o-n)*+RD[t+4+(r*184|0)+72>>2],s=t+4+(r*184|0)+148|0,CD[s>>2]=(CD[s>>2]|0)+1;while((l|0)>1);if(r=CD[t+748>>2]|0,!((r|0)<=0))for(a=r,s=r;;){if(l=s,s=s+-1|0,e=t+4+(s*184|0)|0,o=+RD[t+4+(s*184|0)+80>>2],n=+RD[t+752>>2],o<=n?(u=+RD[t+4+(s*184|0)+32>>2]-(+RD[t+4+(s*184|0)+48>>2]-+RD[t+4+(s*184|0)+64>>2]*o),d=+RD[t+4+(s*184|0)+36>>2]-(+RD[t+4+(s*184|0)+52>>2]-o*+RD[t+4+(s*184|0)+68>>2]),p=+RD[t+4+(s*184|0)+40>>2]-(+RD[t+4+(s*184|0)+56>>2]-o*+RD[t+4+(s*184|0)+72>>2]),u*u+d*d+p*p>n*n?(i=a+-1|0,(i|0)==(s|0)?r=a:(kw(e|0,t+4+(i*184|0)|0,184)|0,CD[t+4+(i*184|0)+112>>2]=0,RD[t+4+(i*184|0)+120>>2]=0,TD[t+4+(i*184|0)+116>>0]=0,RD[t+4+(i*184|0)+124>>2]=0,RD[t+4+(i*184|0)+128>>2]=0,CD[t+4+(i*184|0)+148>>2]=0,r=CD[t+748>>2]|0),r=r+-1|0,CD[t+748>>2]=r):r=a):(i=a+-1|0,(i|0)==(s|0)?r=a:(kw(e|0,t+4+(i*184|0)|0,184)|0,CD[t+4+(i*184|0)+112>>2]=0,RD[t+4+(i*184|0)+120>>2]=0,TD[t+4+(i*184|0)+116>>0]=0,RD[t+4+(i*184|0)+124>>2]=0,RD[t+4+(i*184|0)+128>>2]=0,CD[t+4+(i*184|0)+148>>2]=0,r=CD[t+748>>2]|0),r=r+-1|0,CD[t+748>>2]=r),(l|0)<=1)break;a=r}}}function SM(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0;return RD[e+16>>2]=+RD[t+4>>2],RD[e+20>>2]=+RD[t+8>>2],RD[e+24>>2]=+RD[t+12>>2],RD[e+28>>2]=+RD[t+16>>2],RD[e+32>>2]=+RD[t+20>>2],RD[e+36>>2]=+RD[t+24>>2],RD[e+40>>2]=+RD[t+28>>2],RD[e+44>>2]=+RD[t+32>>2],RD[e+48>>2]=+RD[t+36>>2],RD[e+52>>2]=+RD[t+40>>2],RD[e+56>>2]=+RD[t+44>>2],RD[e+60>>2]=+RD[t+48>>2],RD[e+64>>2]=+RD[t+52>>2],RD[e+68>>2]=+RD[t+56>>2],RD[e+72>>2]=+RD[t+60>>2],RD[e+76>>2]=+RD[t+64>>2],RD[e+80>>2]=+RD[t+68>>2],RD[e+84>>2]=+RD[t+72>>2],RD[e+88>>2]=+RD[t+76>>2],RD[e+92>>2]=+RD[t+80>>2],RD[e+96>>2]=+RD[t+84>>2],RD[e+100>>2]=+RD[t+88>>2],RD[e+104>>2]=+RD[t+92>>2],RD[e+108>>2]=+RD[t+96>>2],RD[e+112>>2]=+RD[t+100>>2],RD[e+116>>2]=+RD[t+104>>2],RD[e+120>>2]=+RD[t+108>>2],RD[e+124>>2]=+RD[t+112>>2],RD[e+128>>2]=+RD[t+116>>2],RD[e+132>>2]=+RD[t+120>>2],RD[e+136>>2]=+RD[t+124>>2],RD[e+140>>2]=+RD[t+128>>2],RD[e+144>>2]=+RD[t+132>>2],RD[e+148>>2]=+RD[t+136>>2],RD[e+152>>2]=+RD[t+140>>2],RD[e+156>>2]=+RD[t+144>>2],RD[e+160>>2]=+RD[t+148>>2],RD[e+164>>2]=+RD[t+152>>2],RD[e+168>>2]=+RD[t+156>>2],RD[e+172>>2]=+RD[t+160>>2],RD[e+176>>2]=+RD[t+164>>2],RD[e+180>>2]=+RD[t+168>>2],RD[e+184>>2]=+RD[t+172>>2],RD[e+188>>2]=+RD[t+176>>2],CD[e+224>>2]=CD[t+180>>2],RD[e+192>>2]=+RD[t+184>>2],CD[e>>2]=0,r=NP[CD[(CD[i>>2]|0)+28>>2]&31](i,CD[t+192>>2]|0)|0,CD[e+4>>2]=r,CD[e+8>>2]=0,CD[e+228>>2]=CD[t+204>>2],CD[e+232>>2]=CD[t+208>>2],CD[e+236>>2]=CD[t+212>>2],CD[e+240>>2]=CD[t+216>>2],RD[e+196>>2]=+RD[t+220>>2],RD[e+200>>2]=+RD[t+224>>2],RD[e+204>>2]=+RD[t+232>>2],RD[e+208>>2]=+RD[t+228>>2],CD[e+244>>2]=CD[t+236>>2],r=NP[CD[(CD[i>>2]|0)+40>>2]&31](i,t)|0,o=NP[CD[(CD[i>>2]|0)+28>>2]&31](i,r)|0,CD[e+12>>2]=o,o?(bP[CD[(CD[i>>2]|0)+48>>2]&127](i,r),o=t+244|0,n=+RD[o>>2],o=e+212|0,RD[o>>2]=n,o=t+248|0,n=+RD[o>>2],o=e+216|0,RD[o>>2]=n,o=t+252|0,n=+RD[o>>2],o=e+220|0,RD[o>>2]=n,t=t+256|0,t=CD[t>>2]|0,o=e+248|0,CD[o>>2]=t,5344):(o=t+244|0,n=+RD[o>>2],o=e+212|0,RD[o>>2]=n,o=t+248|0,n=+RD[o>>2],o=e+216|0,RD[o>>2]=n,o=t+252|0,n=+RD[o>>2],o=e+220|0,RD[o>>2]=n,t=t+256|0,t=CD[t>>2]|0,o=e+248|0,CD[o>>2]=t,5344)
}function TM(t,e){t|=0,e|=0;var i=0,r=0;r=MP[CD[(CD[t>>2]|0)+16>>2]&127](t)|0,r=DP[CD[(CD[e>>2]|0)+16>>2]&63](e,r,1)|0,i=DP[CD[(CD[t>>2]|0)+20>>2]&63](t,CD[r+8>>2]|0,e)|0,_P[CD[(CD[e>>2]|0)+20>>2]&31](e,r,i,1245859651,t)}function xM(t){t|=0;var e=0;CD[t>>2]=5416,e=CD[t+276>>2]|0,e&&(TD[t+280>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+276>>2]=0),TD[t+280>>0]=1,CD[t+276>>2]=0,CD[t+268>>2]=0,CD[t+272>>2]=0}function CM(t){t|=0;var e=0;CD[t>>2]=5416,e=CD[t+276>>2]|0,e&&(TD[t+280>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+276>>2]=0),TD[t+280>>0]=1,CD[t+276>>2]=0,CD[t+268>>2]=0,CD[t+272>>2]=0,CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0)}function EM(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0;s=CD[e>>2]|0,e=CD[t+268>>2]|0;t:do if((e|0)>0){for(r=CD[t+276>>2]|0,i=0;;){if((CD[r+(i<<2)>>2]|0)==(s|0))break;if(i=i+1|0,(i|0)>=(e|0))break t}if((i|0)!=(e|0))return}while(0);if((e|0)==(CD[t+272>>2]|0)?(a=(e|0)==0?1:e<<1,(e|0)<(a|0)):0){if(a?(CD[5108]=(CD[5108]|0)+1,i=Aw((a<<2|3)+16|0)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,e=i+4+15&-16):e=0,n=e,e=CD[t+268>>2]|0):n=0,(e|0)>0)for(r=e+-1|0,o=0;;){if(i=n+(o<<2)|0,i&&(CD[i>>2]=CD[(CD[t+276>>2]|0)+(o<<2)>>2]),(o|0)==(r|0))break;o=o+1|0}i=CD[t+276>>2]|0,i&&(TD[t+280>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0),e=CD[t+268>>2]|0),CD[t+276>>2]=0),TD[t+280>>0]=1,CD[t+276>>2]=n,CD[t+272>>2]=a}i=(CD[t+276>>2]|0)+(e<<2)|0,i&&(CD[i>>2]=s),CD[t+268>>2]=e+1}function AM(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0;if(i=CD[e>>2]|0,o=CD[t+268>>2]|0,!((o|0)<=0)){for(n=CD[t+276>>2]|0,r=0;;){if(e=n+(r<<2)|0,(CD[e>>2]|0)==(i|0))break;if(r=r+1|0,(r|0)>=(o|0)){a=7;break}}(a|0)!=7&&((r|0)>=(o|0)||(CD[e>>2]=CD[n+(o+-1<<2)>>2],CD[t+268>>2]=o+-1))}}function wM(t){t|=0;var e=0;return CD[t>>2]=5464,e=CD[t+284>>2]|0,gP[CD[CD[e>>2]>>2]&255](e),e=CD[t+284>>2]|0,e&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t>>2]=5416,(e=CD[t+276>>2]|0)?(TD[t+280>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+276>>2]=0,TD[t+280>>0]=1,CD[t+276>>2]=0,CD[t+268>>2]=0,t=t+272|0,void(CD[t>>2]=0)):(TD[t+280>>0]=1,CD[t+276>>2]=0,CD[t+268>>2]=0,t=t+272|0,void(CD[t>>2]=0))}function RM(t){t|=0,wM(t),t&&(CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0))}function DM(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0;i||(i=CD[t+188>>2]|0),c=CD[e>>2]|0,o=CD[t+268>>2]|0;t:do if((o|0)>0){for(n=CD[t+276>>2]|0,r=0;;){if((CD[n+(r<<2)>>2]|0)==(c|0))break;if(r=r+1|0,(r|0)>=(o|0))break t}if((r|0)!=(o|0))return}while(0);if((o|0)==(CD[t+272>>2]|0)?(l=(o|0)==0?1:o<<1,(o|0)<(l|0)):0){if(l?(CD[5108]=(CD[5108]|0)+1,r=Aw((l<<2|3)+16|0)|0,r?(CD[(r+4+15&-16)+-4>>2]=r,o=r+4+15&-16):o=0,s=o,o=CD[t+268>>2]|0):s=0,(o|0)>0)for(n=o+-1|0,a=0;;){if(r=s+(a<<2)|0,r&&(CD[r>>2]=CD[(CD[t+276>>2]|0)+(a<<2)>>2]),(a|0)==(n|0))break;a=a+1|0}r=CD[t+276>>2]|0,r&&(TD[t+280>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[r+-4>>2]|0),o=CD[t+268>>2]|0),CD[t+276>>2]=0),TD[t+280>>0]=1,CD[t+276>>2]=s,CD[t+272>>2]=l}r=(CD[t+276>>2]|0)+(o<<2)|0,r&&(CD[r>>2]=c),CD[t+268>>2]=o+1,t=CD[t+284>>2]|0,DP[CD[(CD[t>>2]|0)+8>>2]&63](t,i,e)|0}function PM(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0;if(l=CD[e>>2]|0,r||(r=CD[t+188>>2]|0),a=CD[t+268>>2]|0,!((a|0)<=0)){for(s=CD[t+276>>2]|0,o=0;;){if(n=s+(o<<2)|0,(CD[n>>2]|0)==(l|0))break;if(o=o+1|0,(o|0)>=(a|0)){c=9;break}}(c|0)!=9&&((o|0)>=(a|0)||(CD[n>>2]=CD[s+(a+-1<<2)>>2],CD[t+268>>2]=a+-1,c=CD[t+284>>2]|0,CP[CD[(CD[c>>2]|0)+12>>2]&31](c,r,e,i)|0))}}function BM(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n=+n;var a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0;if(x=BD,BD=BD+320|0,CD[x>>2]=CD[i>>2],CD[x+4>>2]=CD[i+4>>2],CD[x+8>>2]=CD[i+8>>2],CD[x+12>>2]=CD[i+12>>2],CD[x+16>>2]=CD[i+16>>2],CD[x+16+4>>2]=CD[i+16+4>>2],CD[x+16+8>>2]=CD[i+16+8>>2],CD[x+16+12>>2]=CD[i+16+12>>2],CD[x+32>>2]=CD[i+32>>2],CD[x+32+4>>2]=CD[i+32+4>>2],CD[x+32+8>>2]=CD[i+32+8>>2],CD[x+32+12>>2]=CD[i+32+12>>2],CD[x+48>>2]=CD[i+48>>2],CD[x+48+4>>2]=CD[i+48+4>>2],CD[x+48+8>>2]=CD[i+48+8>>2],CD[x+48+12>>2]=CD[i+48+12>>2],CD[x+152>>2]=CD[r>>2],CD[x+152+4>>2]=CD[r+4>>2],CD[x+152+8>>2]=CD[r+8>>2],CD[x+152+12>>2]=CD[r+12>>2],CD[x+152+16>>2]=CD[r+16>>2],CD[x+152+16+4>>2]=CD[r+16+4>>2],CD[x+152+16+8>>2]=CD[r+16+8>>2],CD[x+152+16+12>>2]=CD[r+16+12>>2],CD[x+152+32>>2]=CD[r+32>>2],CD[x+152+32+4>>2]=CD[r+32+4>>2],CD[x+152+32+8>>2]=CD[r+32+8>>2],CD[x+152+32+12>>2]=CD[r+32+12>>2],CD[x+152+48>>2]=CD[r+48>>2],CD[x+152+48+4>>2]=CD[r+48+4>>2],CD[x+152+48+8>>2]=CD[r+48+8>>2],CD[x+152+48+12>>2]=CD[r+48+12>>2],a=+RD[x+152+52>>2]-+RD[x+52>>2],R=+RD[x+152+56>>2]-+RD[x+56>>2],RD[x+96>>2]=+RD[x+152+48>>2]-+RD[x+48>>2],RD[x+96+4>>2]=a,RD[x+96+8>>2]=R,RD[x+96+12>>2]=0,e_(x,x+152|0,x+232|0,x+112|0),R=+RD[x+112>>2],a=R*+RD[x+232+4>>2],E=R*+RD[x+232+8>>2],RD[x+136>>2]=+RD[x+232>>2]*R,RD[x+136+4>>2]=a,RD[x+136+8>>2]=E,RD[x+136+12>>2]=0,CD[x+232+4>>2]=0,CD[x+232+4+4>>2]=0,CD[x+232+24>>2]=0,CD[x+232+24+4>>2]=0,T=x+232+44|0,CD[T>>2]=0,CD[T+4>>2]=0,CD[T+8>>2]=0,CD[T+12>>2]=0,CD[T+16>>2]=0,qf(x,x+120|0),E=+RD[x+120>>2],a=+RD[x+120+4>>2],R=+RD[x+120+8>>2],A=+RD[x+120+12>>2],C=E*(2/(E*E+a*a+R*R+A*A)),s=a*(2/(E*E+a*a+R*R+A*A)),w=R*(2/(E*E+a*a+R*R+A*A)),RD[x+232>>2]=1-(a*s+R*w),RD[x+232+4>>2]=E*s-A*w,RD[x+232+8>>2]=E*w+A*s,RD[x+232+12>>2]=0,RD[x+232+16>>2]=E*s+A*w,RD[x+232+20>>2]=1-(E*C+R*w),RD[x+232+24>>2]=a*w-A*C,RD[x+232+28>>2]=0,RD[x+232+32>>2]=E*w-A*s,RD[x+232+36>>2]=a*w+A*C,RD[x+232+40>>2]=1-(E*C+a*s),RD[T>>2]=0,Kd(e,x+232|0,x+96|0,x+136|0,x+216|0,x+296|0),(CD[t+268>>2]|0)<=0)return void(BD=x);T=0;do l=CD[(CD[t+276>>2]|0)+(T<<2)>>2]|0,(NP[CD[(CD[o>>2]|0)+8>>2]&31](o,CD[l+188>>2]|0)|0?(M=CD[l+192>>2]|0,eB[CD[(CD[M>>2]|0)+8>>2]&127](M,l+4|0,x+80|0,x+64|0),c=+RD[x+80>>2]+ +RD[x+216>>2],h=+RD[x+80+4>>2]+ +RD[x+216+4>>2],u=+RD[x+80+8>>2]+ +RD[x+216+8>>2],RD[x+80>>2]=c,RD[x+80+4>>2]=h,RD[x+80+8>>2]=u,RD[x+80+12>>2]=0,d=+RD[x+64>>2]+ +RD[x+296>>2],p=+RD[x+64+4>>2]+ +RD[x+296+4>>2],f=+RD[x+64+8>>2]+ +RD[x+296+8>>2],RD[x+64>>2]=d,RD[x+64+4>>2]=p,RD[x+64+8>>2]=f,RD[x+64+12>>2]=0,_=+RD[i+48>>2]-(d+c)*.5,m=+RD[i+52>>2]-(p+h)*.5,g=+RD[i+56>>2]-(f+u)*.5,y=+RD[r+48>>2]-(d+c)*.5,b=+RD[r+52>>2]-(p+h)*.5,v=+RD[r+56>>2]-(f+u)*.5,M=_<-((d-c)*.5)|(_>(d-c)*.5?8:0)|(m<-((p-h)*.5)?2:0)|(m>(p-h)*.5?16:0)|(g<-((f-u)*.5)?4:0)|(g>(f-u)*.5?32:0),S=y<-((d-c)*.5)|(y>(d-c)*.5?8:0)|(b<-((p-h)*.5)?2:0)|(b>(p-h)*.5?16:0)|(v<-((f-u)*.5)?4:0)|(v>(f-u)*.5?32:0),(M&S|0)==0):0)&&(_<-((d-c)*.5)?(-_-(d-c)*.5)/(y-_)>=0?(a=1,s=(-_-(d-c)*.5)/(y-_)):(a=1,s=0):(y<-((d-c)*.5)?(-_-(d-c)*.5)/(y-_)<1:0)?(a=(-_-(d-c)*.5)/(y-_),s=0):(a=1,s=0),m<-((p-h)*.5)?s<=(-m-(p-h)*.5)/(b-m)&&(s=(-m-(p-h)*.5)/(b-m)):(b<-((p-h)*.5)?(-m-(p-h)*.5)/(b-m)<a:0)&&(a=(-m-(p-h)*.5)/(b-m)),g<-((f-u)*.5)?s<=(-g-(f-u)*.5)/(v-g)&&(s=(-g-(f-u)*.5)/(v-g)):(v<-((f-u)*.5)?(-g-(f-u)*.5)/(v-g)<a:0)&&(a=(-g-(f-u)*.5)/(v-g)),_>(d-c)*.5?s<=((d-c)*.5-_)/(y-_)&&(s=((d-c)*.5-_)/(y-_)):(y>(d-c)*.5?((d-c)*.5-_)/(y-_)<a:0)&&(a=((d-c)*.5-_)/(y-_)),m>(p-h)*.5?s<=((p-h)*.5-m)/(b-m)&&(s=((p-h)*.5-m)/(b-m)):(b>(p-h)*.5?((p-h)*.5-m)/(b-m)<a:0)&&(a=((p-h)*.5-m)/(b-m)),M&32?s<=((f-u)*.5-g)/(v-g)&&(s=((f-u)*.5-g)/(v-g)):((S&32|0)!=0?((f-u)*.5-g)/(v-g)<a:0)&&(a=((f-u)*.5-g)/(v-g)),s<=a&&(D=CD[l+192>>2]|0,CD[x+232>>2]=0,CD[x+232+4>>2]=D,CD[x+232+8>>2]=l,CD[x+232+12>>2]=l+4,CD[x+232+16>>2]=-1,CD[x+232+20>>2]=-1,xS(e,x,x+152|0,x+232|0,o,n))),T=T+1|0;while((T|0)<(CD[t+268>>2]|0));BD=x}function VM(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0;return s=BD,BD=BD+80|0,n=CD[CD[t>>2]>>2]|0,a=CD[CD[t+4>>2]>>2]|0,DP[CD[(CD[e>>2]|0)+24>>2]&63](e,n,a)|0?(o=CD[n+192>>2]|0,CD[s+56>>2]=0,CD[s+56+4>>2]=o,CD[s+56+8>>2]=n,CD[s+56+12>>2]=n+4,CD[s+56+16>>2]=-1,CD[s+56+20>>2]=-1,o=CD[a+192>>2]|0,CD[s+32>>2]=0,CD[s+32+4>>2]=o,CD[s+32+8>>2]=a,CD[s+32+12>>2]=a+4,CD[s+32+16>>2]=-1,CD[s+32+20>>2]=-1,o=CD[t+8>>2]|0,o||(o=CP[CD[(CD[e>>2]|0)+8>>2]&31](e,s+56|0,s+32|0,0)|0,CD[t+8>>2]=o,o)?(CD[s>>2]=7888,CD[s+4>>2]=0,CD[s+8>>2]=s+56,CD[s+12>>2]=s+32,(CD[i+8>>2]|0)==1?(_P[CD[(CD[o>>2]|0)+8>>2]&31](o,s+56|0,s+32|0,i,s),void(BD=s)):(r=+RP[CD[(CD[o>>2]|0)+12>>2]&15](o,n,a,i,s),+RD[i+12>>2]>r?(RD[i+12>>2]=r,void(BD=s)):void(BD=s))):void(BD=s)):void(BD=s)}function LM(t){t|=0;var e=0;CD[t>>2]=5600,e=CD[t+20>>2]|0,e&&(TD[t+24>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+20>>2]=0),TD[t+24>>0]=1,CD[t+20>>2]=0,CD[t+12>>2]=0,CD[t+16>>2]=0}function kM(t){t|=0;var e=0;CD[t>>2]=5600,e=CD[t+20>>2]|0,e&&(TD[t+24>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+20>>2]=0),TD[t+24>>0]=1,CD[t+20>>2]=0,CD[t+12>>2]=0,CD[t+16>>2]=0,ww(t)}function HM(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0;if(h=BD,BD=BD+16|0,CD[1396]=(CD[1396]|0)+1,CD[t+4>>2]&2?(o=CD[e+192>>2]|0,n=+UP[CD[(CD[o>>2]|0)+20>>2]&1](o,.019999999552965164),RD[h+4>>2]=n,o=CD[i+192>>2]|0,a=+UP[CD[(CD[o>>2]|0)+20>>2]&1](o,.019999999552965164),RD[h>>2]=a,o=n<a?h+4|0:h):o=5336,n=+RD[o>>2],u=+RD[e+184>>2],a=+RD[i+184>>2],a=u<a?u:a,o=CD[t+68>>2]|0,r=CD[o+8>>2]|0)l=CD[o+12>>2]|0,CD[o+12>>2]=CD[l>>2],CD[o+8>>2]=r+-1;else{if(CD[t+4>>2]&4)return t=0,BD=h,t|0;CD[5108]=(CD[5108]|0)+1,o=Aw(791)|0,o?(CD[(o+4+15&-16)+-4>>2]=o,l=o+4+15&-16):l=0}if(CD[l>>2]=1025,CD[l+116>>2]=0,TD[l+120>>0]=0,o=l+124|0,CD[o>>2]=0,CD[o+4>>2]=0,CD[o+8>>2]=0,CD[o+12>>2]=0,CD[o+16>>2]=0,CD[o+20>>2]=0,CD[o+24>>2]=0,CD[o+28>>2]=0,CD[l+300>>2]=0,TD[l+304>>0]=0,o=l+308|0,CD[o>>2]=0,CD[o+4>>2]=0,CD[o+8>>2]=0,CD[o+12>>2]=0,CD[o+16>>2]=0,CD[o+20>>2]=0,CD[o+24>>2]=0,CD[o+28>>2]=0,CD[l+484>>2]=0,TD[l+488>>0]=0,o=l+492|0,CD[o>>2]=0,CD[o+4>>2]=0,CD[o+8>>2]=0,CD[o+12>>2]=0,CD[o+16>>2]=0,CD[o+20>>2]=0,CD[o+24>>2]=0,CD[o+28>>2]=0,CD[l+668>>2]=0,TD[l+672>>0]=0,o=l+676|0,CD[o>>2]=0,CD[o+4>>2]=0,CD[o+8>>2]=0,CD[o+12>>2]=0,CD[o+16>>2]=0,CD[o+20>>2]=0,CD[o+24>>2]=0,CD[o+28>>2]=0,CD[l+740>>2]=e,CD[l+744>>2]=i,CD[l+748>>2]=0,RD[l+752>>2]=n,RD[l+756>>2]=a,o=CD[t+12>>2]|0,CD[l+768>>2]=o,(o|0)==(CD[t+16>>2]|0)?(c=(o|0)==0?1:o<<1,(o|0)<(c|0)):0){if(c?(CD[5108]=(CD[5108]|0)+1,o=Aw((c<<2|3)+16|0)|0,o?(CD[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,s=o,o=CD[t+12>>2]|0):s=0,(o|0)>0)for(r=o+-1|0,e=0;;){if(i=s+(e<<2)|0,i&&(CD[i>>2]=CD[(CD[t+20>>2]|0)+(e<<2)>>2]),(e|0)==(r|0))break;e=e+1|0}r=CD[t+20>>2]|0,r&&(TD[t+24>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[r+-4>>2]|0),o=CD[t+12>>2]|0),CD[t+20>>2]=0),TD[t+24>>0]=1,CD[t+20>>2]=s,CD[t+16>>2]=c}return r=(CD[t+20>>2]|0)+(o<<2)|0,r&&(CD[r>>2]=l),CD[t+12>>2]=o+1,t=l,BD=h,t|0}function IM(t,e){t|=0,e|=0,CD[e+748>>2]=0}function OM(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0;if(CD[1396]=(CD[1396]|0)+-1,bP[CD[(CD[t>>2]|0)+20>>2]&127](t,e),r=CD[e+768>>2]|0,i=(CD[t+12>>2]|0)+-1|0,n=CD[t+20>>2]|0,o=CD[n+(r<<2)>>2]|0,CD[n+(r<<2)>>2]=CD[n+(i<<2)>>2],CD[(CD[t+20>>2]|0)+(i<<2)>>2]=o,CD[(CD[(CD[t+20>>2]|0)+(r<<2)>>2]|0)+768>>2]=r,CD[t+12>>2]=i,t=CD[t+68>>2]|0,e){if(n=CD[t+16>>2]|0,n>>>0<=e>>>0?(n+(XD(CD[t>>2]|0,CD[t+4>>2]|0)|0)|0)>>>0>e>>>0:0)return CD[e>>2]=CD[t+12>>2],CD[t+12>>2]=e,void(CD[t+8>>2]=(CD[t+8>>2]|0)+1);CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)}}function JM(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;return o=BD,BD=BD+16|0,CD[o>>2]=t,CD[o+4>>2]=r,t=CD[t+72+((CD[(CD[e+4>>2]|0)+4>>2]|0)*144|0)+(CD[(CD[i+4>>2]|0)+4>>2]<<2)>>2]|0,t=CP[CD[(CD[t>>2]|0)+8>>2]&31](t,o,e,i)|0,BD=o,t|0}function NM(t,e,i){return t|=0,e|=0,i|=0,e=CD[e+204>>2]|0,e&4?(i=0,i|0):(t=CD[i+204>>2]|0,t&4?(i=0,i|0):e&3?(i=(t&3|0)==0,i|0):(i=1,i|0))}function FM(t,e,i){return t|=0,e|=0,i|=0,t=CD[e+216>>2]|0,((t|0)==2|(t|0)==5?(t=CD[i+216>>2]|0,(t|0)==2|(t|0)==5):0)?(t=0,t|0):CD[e+256>>2]|0?(t=NP[CD[CD[e>>2]>>2]&31](e,i)|0,t|0):(t=1,t|0)}function GM(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;o=BD,BD=BD+16|0,CD[o>>2]=5712,CD[o+4>>2]=i,CD[o+8>>2]=t,QP[CD[(CD[e>>2]|0)+48>>2]&127](e,o,r),BD=o}function zM(t,e){t|=0,e|=0;var i=0;return t=CD[t+64>>2]|0,(i=CD[t+8>>2]|0)?(e=CD[t+12>>2]|0,CD[t+12>>2]=CD[e>>2],CD[t+8>>2]=i+-1,e|0):(CD[5108]=(CD[5108]|0)+1,(t=Aw(e+19|0)|0)?(CD[(t+4+15&-16)+-4>>2]=t,e=t+4+15&-16,e|0):(e=0,e|0))}function jM(t,e){t|=0,e|=0;var i=0;if(t=CD[t+64>>2]|0,e){if(i=CD[t+16>>2]|0,i>>>0<=e>>>0?(i+(XD(CD[t>>2]|0,CD[t+4>>2]|0)|0)|0)>>>0>e>>>0:0)return CD[e>>2]=CD[t+12>>2],CD[t+12>>2]=e,void(CD[t+8>>2]=(CD[t+8>>2]|0)+1);CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)}}function UM(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0;if(CD[t>>2]=5816,CD[5108]=(CD[5108]|0)+1,i=Aw(379)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,i=i+4+15&-16):i=0,RD[i+308>>2]=9999999747378752e-20,a=i+332|0,TD[a>>0]=TD[a>>0]&-16,CD[t+24>>2]=i,a=(CD[e+20>>2]|0)==0,CD[5108]=(CD[5108]|0)+1,i=Aw(23)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,i=i+4+15&-16):i=0,n=(i|0)==0,a?(n?i=0:CD[i>>2]=18624,CD[t+28>>2]=i):(n?i=0:CD[i>>2]=19048,CD[t+28>>2]=i),CD[5108]=(CD[5108]|0)+1,i=Aw(43)|0,((i|0)!=0?(s=i+4+15&-16,CD[s+-4>>2]=i,(i+4+15&-16|0)!=0):0)?(n=CD[t+24>>2]|0,a=CD[t+28>>2]|0,TD[s+4>>0]=0,CD[(i+4+15&-16)>>2]=10400,CD[s+16>>2]=0,CD[s+20>>2]=3,CD[s+12>>2]=n,CD[s+8>>2]=a,i=i+4+15&-16):i=0,CD[t+32>>2]=i,CD[5108]=(CD[5108]|0)+1,i=Aw(27)|0,((i|0)!=0?(CD[(i+4+15&-16)+-4>>2]=i,(i+4+15&-16|0)!=0):0)?(TD[(i+4+15&-16)+4>>0]=0,CD[(i+4+15&-16)>>2]=6824,i=i+4+15&-16):i=0,CD[t+36>>2]=i,CD[5108]=(CD[5108]|0)+1,i=Aw(27)|0,((i|0)!=0?(CD[(i+4+15&-16)+-4>>2]=i,(i+4+15&-16|0)!=0):0)?(TD[(i+4+15&-16)+4>>0]=0,CD[(i+4+15&-16)>>2]=6720,i=i+4+15&-16):i=0,CD[t+40>>2]=i,CD[5108]=(CD[5108]|0)+1,i=Aw(27)|0,((i|0)!=0?(CD[(i+4+15&-16)+-4>>2]=i,(i+4+15&-16|0)!=0):0)?(TD[(i+4+15&-16)+4>>0]=0,CD[(i+4+15&-16)>>2]=6632,i=i+4+15&-16):i=0,CD[t+44>>2]=i,CD[5108]=(CD[5108]|0)+1,i=Aw(27)|0,((i|0)!=0?(CD[(i+4+15&-16)+-4>>2]=i,(i+4+15&-16|0)!=0):0)?(TD[(i+4+15&-16)+4>>0]=0,CD[(i+4+15&-16)>>2]=6536,i=i+4+15&-16):i=0,CD[t+48>>2]=i,CD[5108]=(CD[5108]|0)+1,i=Aw(27)|0,((i|0)!=0?(CD[(i+4+15&-16)+-4>>2]=i,(i+4+15&-16|0)!=0):0)?(TD[(i+4+15&-16)+4>>0]=0,CD[(i+4+15&-16)>>2]=6440,i=i+4+15&-16):i=0,CD[t+52>>2]=i,CD[5108]=(CD[5108]|0)+1,i=Aw(27)|0,((i|0)!=0?(CD[(i+4+15&-16)+-4>>2]=i,(i+4+15&-16|0)!=0):0)?(TD[(i+4+15&-16)+4>>0]=0,CD[(i+4+15&-16)>>2]=6360,i=i+4+15&-16):i=0,CD[t+56>>2]=i,CD[5108]=(CD[5108]|0)+1,i=Aw(27)|0,((i|0)!=0?(CD[(i+4+15&-16)+-4>>2]=i,(i+4+15&-16|0)!=0):0)?(TD[(i+4+15&-16)+4>>0]=0,CD[(i+4+15&-16)>>2]=6264,i=i+4+15&-16):i=0,CD[t+60>>2]=i,CD[5108]=(CD[5108]|0)+1,i=Aw(27)|0,((i|0)!=0?(CD[(i+4+15&-16)+-4>>2]=i,(i+4+15&-16|0)!=0):0)?(TD[(i+4+15&-16)+4>>0]=0,CD[(i+4+15&-16)>>2]=6168,i=i+4+15&-16):i=0,CD[t+76>>2]=i,CD[5108]=(CD[5108]|0)+1,i=Aw(27)|0,((i|0)!=0?(CD[(i+4+15&-16)+-4>>2]=i,(i+4+15&-16|0)!=0):0)?(TD[(i+4+15&-16)+4>>0]=0,CD[(i+4+15&-16)>>2]=6168,i=i+4+15&-16):i=0,CD[t+80>>2]=i,TD[i+4>>0]=1,CD[5108]=(CD[5108]|0)+1,i=Aw(27)|0,((i|0)!=0?(CD[(i+4+15&-16)+-4>>2]=i,(i+4+15&-16|0)!=0):0)?(TD[(i+4+15&-16)+4>>0]=0,CD[(i+4+15&-16)>>2]=6080,i=i+4+15&-16):i=0,CD[t+72>>2]=i,CD[5108]=(CD[5108]|0)+1,i=Aw(35)|0,((i|0)!=0?(l=i+4+15&-16,CD[l+-4>>2]=i,(i+4+15&-16|0)!=0):0)?(TD[l+4>>0]=0,CD[(i+4+15&-16)>>2]=5944,CD[l+8>>2]=1,CD[l+12>>2]=0,i=i+4+15&-16):i=0,CD[t+88>>2]=i,CD[5108]=(CD[5108]|0)+1,i=Aw(35)|0,((i|0)!=0?(o=i+4+15&-16,CD[o+-4>>2]=i,(i+4+15&-16|0)!=0):0)?(TD[o+4>>0]=0,CD[(i+4+15&-16)>>2]=5944,CD[o+8>>2]=1,CD[o+12>>2]=0,i=i+4+15&-16):i=0,CD[t+84>>2]=i,TD[i+4>>0]=1,l=CD[e+16>>2]|0,l=(l|0)>80?l:80,i=CD[e>>2]|0)TD[t+12>>0]=0,CD[t+8>>2]=i;else{TD[t+12>>0]=1,CD[5108]=(CD[5108]|0)+1,s=Aw(39)|0;do if(s){if(n=s+4+15&-16,CD[n+-4>>2]=s,!(s+4+15&-16)){i=0;break}if(i=CD[e+8>>2]|0,CD[(s+4+15&-16)>>2]=772,CD[n+4>>2]=i,CD[5108]=(CD[5108]|0)+1,i=Aw((i*772|3)+16|0)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,i=i+4+15&-16):i=0,CD[n+16>>2]=i,CD[n+12>>2]=i,r=CD[n+4>>2]|0,CD[n+8>>2]=r,r+-1|0){a=CD[(s+4+15&-16)>>2]|0,n=r+-1|0,o=i;do c=o,o=o+a|0,CD[c>>2]=o,n=n+-1|0;while((n|0)!=0);i=i+(XD(a,r+-1|0)|0)|0}CD[i>>2]=0,i=s+4+15&-16}else i=0;while(0);CD[t+8>>2]=i}if(i=CD[e+4>>2]|0)return TD[t+20>>0]=0,void(CD[t+16>>2]=i);TD[t+20>>0]=1,CD[5108]=(CD[5108]|0)+1,s=Aw(39)|0;do if(s){if(n=s+4+15&-16,CD[n+-4>>2]=s,!(s+4+15&-16)){i=0;break}if(i=CD[e+12>>2]|0,CD[(s+4+15&-16)>>2]=l,CD[n+4>>2]=i,i=XD(i,l)|0,CD[5108]=(CD[5108]|0)+1,i=Aw(i+19|0)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,i=i+4+15&-16):i=0,CD[n+16>>2]=i,CD[n+12>>2]=i,a=CD[n+4>>2]|0,CD[n+8>>2]=a,a+-1|0){r=CD[(s+4+15&-16)>>2]|0,o=a+-1|0,n=i;do c=n,n=n+r|0,CD[c>>2]=n,o=o+-1|0;while((o|0)!=0);i=i+(XD(r,a+-1|0)|0)|0}CD[i>>2]=0,i=s+4+15&-16}else i=0;while(0);CD[t+16>>2]=i}function WM(t){t|=0;var e=0,i=0;CD[t>>2]=5816,TD[t+20>>0]|0&&(e=CD[t+16>>2]|0,i=CD[e+16>>2]|0,i&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0),e=CD[t+16>>2]|0),e&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0))),TD[t+12>>0]|0&&(e=CD[t+8>>2]|0,i=CD[e+16>>2]|0,i&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0),e=CD[t+8>>2]|0),e&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0))),e=CD[t+32>>2]|0,gP[CD[CD[e>>2]>>2]&255](e),e=CD[t+32>>2]|0,e&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),e=CD[t+36>>2]|0,gP[CD[CD[e>>2]>>2]&255](e),e=CD[t+36>>2]|0,e&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),e=CD[t+40>>2]|0,gP[CD[CD[e>>2]>>2]&255](e),e=CD[t+40>>2]|0,e&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),e=CD[t+44>>2]|0,gP[CD[CD[e>>2]>>2]&255](e),e=CD[t+44>>2]|0,e&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),e=CD[t+48>>2]|0,gP[CD[CD[e>>2]>>2]&255](e),e=CD[t+48>>2]|0,e&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),e=CD[t+52>>2]|0,gP[CD[CD[e>>2]>>2]&255](e),e=CD[t+52>>2]|0,e&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),e=CD[t+56>>2]|0,gP[CD[CD[e>>2]>>2]&255](e),e=CD[t+56>>2]|0,e&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),e=CD[t+60>>2]|0,gP[CD[CD[e>>2]>>2]&255](e),e=CD[t+60>>2]|0,e&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),e=CD[t+76>>2]|0,gP[CD[CD[e>>2]>>2]&255](e),e=CD[t+76>>2]|0,e&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),e=CD[t+80>>2]|0,gP[CD[CD[e>>2]>>2]&255](e),e=CD[t+80>>2]|0,e&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),e=CD[t+72>>2]|0,gP[CD[CD[e>>2]>>2]&255](e),e=CD[t+72>>2]|0,e&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),e=CD[t+88>>2]|0,gP[CD[CD[e>>2]>>2]&255](e),e=CD[t+88>>2]|0,e&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),e=CD[t+84>>2]|0,gP[CD[CD[e>>2]>>2]&255](e),e=CD[t+84>>2]|0,e&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),e=CD[t+24>>2]|0,e&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),e=CD[t+28>>2]|0,gP[CD[CD[e>>2]>>2]&255](e),e=CD[t+28>>2]|0,e&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0))}function XM(t){t|=0,WM(t),ww(t)}function qM(t,e,i){t|=0,e|=0,i|=0;do{if(!((e|0)==8&(i|0)==8)){if((e|0)==8&(i|0)==1){e=t+76|0;break}if((e|0)==1&(i|0)==8){e=t+80|0;break}if(!(i|e)){e=t+72|0;break}if((e|0)<20&(i|0)==28){e=t+88|0;break}if((e|0)==28&(i|0)<20){e=t+84|0;break}if((e|0)<20){if((i|0)<20){e=t+32|0;break}if((i+-21|0)>>>0<9){e=t+36|0;break}}else{if((i|0)<20&(e+-21|0)>>>0<9){e=t+40|0;break}if((e|0)==31){if((i|0)==31){e=t+48|0;break}e=t+44|0;break}}if((i|0)==31){e=t+52|0;break}e=t+56|0;break}e=t+60|0}while(0);return CD[e>>2]|0}function KM(t){t|=0;var e=0;return CD[t>>2]=6920,e=CD[t+56>>2]|0,e&&(TD[t+60>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+56>>2]=0),TD[t+60>>0]=1,CD[t+56>>2]=0,CD[t+48>>2]=0,CD[t+52>>2]=0,e=CD[t+36>>2]|0,e&&(TD[t+40>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+36>>2]=0),TD[t+40>>0]=1,CD[t+36>>2]=0,CD[t+28>>2]=0,CD[t+32>>2]=0,(e=CD[t+16>>2]|0)?(TD[t+20>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+16>>2]=0,e=t+12|0,TD[t+20>>0]=1,CD[t+16>>2]=0,CD[t+8>>2]=0,void(CD[e>>2]=0)):(e=t+12|0,TD[t+20>>0]=1,CD[t+16>>2]=0,CD[t+8>>2]=0,void(CD[e>>2]=0))}function YM(t){t|=0,KM(t),ww(t)}function QM(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0;if(r=CD[e+8>>2]|0,(r|0)>0)for(i=CD[e+16>>2]|0,a=0,o=0;;){if(n=CD[i+(a<<2)>>2]|0,CD[n+204>>2]&3||(CD[n+208>>2]=o,o=o+1|0),CD[n+212>>2]=-1,RD[n+244>>2]=1,(a|0)==(r+-1|0)){l=o;break}a=a+1|0}else l=0;if(s=CD[t+8>>2]|0,(s|0)<(l|0)){if((CD[t+12>>2]|0)<(l|0)){if(l?(CD[5108]=(CD[5108]|0)+1,i=Aw((l<<3|3)+16|0)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,r=i+4+15&-16):r=0,i=CD[t+8>>2]|0):(r=0,i=s),(i|0)>0)for(o=i+-1|0,a=0;;){if(i=r+(a<<3)|0,i&&(c=(CD[t+16>>2]|0)+(a<<3)|0,n=CD[c+4>>2]|0,CD[i>>2]=CD[c>>2],CD[i+4>>2]=n),(a|0)==(o|0))break;a=a+1|0}i=CD[t+16>>2]|0,i&&(TD[t+20>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0)),CD[t+16>>2]=0),TD[t+20>>0]=1,CD[t+16>>2]=r,CD[t+12>>2]=l,i=t+16|0}else i=t+16|0;for(n=l+-1|0,r=s;;){if(o=(CD[i>>2]|0)+(r<<3)|0,o&&(CD[o>>2]=0,CD[o+4>>2]=0),(r|0)==(n|0))break;r=r+1|0}}if(CD[t+8>>2]=l,(l|0)>0)for(o=CD[t+16>>2]|0,i=l+-1|0,r=0;;){if(CD[o+(r<<3)>>2]=r,CD[o+(r<<3)+4>>2]=1,(r|0)==(i|0))break;r=r+1|0}if(i=CD[e+68>>2]|0,i=MP[CD[(CD[i>>2]|0)+36>>2]&127](i)|0,e=MP[CD[(CD[i>>2]|0)+36>>2]&127](i)|0,e&&(l=MP[CD[(CD[i>>2]|0)+20>>2]&127](i)|0,!((e|0)<=0)))for(i=0;;){if(r=CD[CD[l+(i<<4)>>2]>>2]|0,o=CD[CD[l+(i<<4)+4>>2]>>2]|0,((r|0)!=0&&(o|0)!=0?(CD[r+204>>2]&7|0)==0:0)?(CD[o+204>>2]&7|0)==0:0){if(n=CD[r+208>>2]|0,o=CD[o+208>>2]|0,s=CD[t+16>>2]|0,r=CD[s+(n<<3)>>2]|0,(r|0)!=(n|0)){a=s+(n<<3)|0;do n=s+(r<<3)|0,CD[a>>2]=CD[n>>2],n=CD[n>>2]|0,a=s+(n<<3)|0,r=CD[a>>2]|0;while((n|0)!=(r|0))}if(r=CD[s+(o<<3)>>2]|0,(r|0)!=(o|0)){a=s+(o<<3)|0;do o=s+(r<<3)|0,CD[a>>2]=CD[o>>2],o=CD[o>>2]|0,a=s+(o<<3)|0,r=CD[a>>2]|0;while((o|0)!=(r|0))}(n|0)!=(o|0)&&(CD[s+(n<<3)>>2]=o,c=s+(o<<3)+4|0,CD[c>>2]=(CD[c>>2]|0)+(CD[s+(n<<3)+4>>2]|0))}if((i|0)==(e+-1|0))break;i=i+1|0}}function ZM(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0;if(c=CD[e+8>>2]|0,!((c|0)<=0))for(s=CD[e+16>>2]|0,l=0,e=0;;){if(a=CD[s+(l<<2)>>2]|0,CD[a+204>>2]&3)CD[a+208>>2]=-1,CD[a+212>>2]=-2;else{if(n=CD[t+16>>2]|0,r=n+(e<<3)|0,i=CD[r>>2]|0,(i|0)==(e|0))i=e;else{o=i;do i=n+(o<<3)|0,CD[r>>2]=CD[i>>2],i=CD[i>>2]|0,r=n+(i<<3)|0,o=CD[r>>2]|0;while((i|0)!=(o|0))}CD[a+208>>2]=i,CD[n+(e<<3)+4>>2]=l,CD[a+212>>2]=-1,e=e+1|0}if((l|0)==(c+-1|0))break;l=l+1|0}}function $M(t){t|=0;var e=0;CD[t>>2]=7032,TD[t+8>>0]|0&&(e=CD[t+12>>2]|0,e&&(t=CD[t+4>>2]|0,bP[CD[(CD[t>>2]|0)+16>>2]&127](t,e)))}function tS(t){t|=0;var e=0,i=0;return CD[t>>2]=7032,TD[t+8>>0]|0&&(e=CD[t+12>>2]|0)?(i=CD[t+4>>2]|0,bP[CD[(CD[i>>2]|0)+16>>2]&127](i,e),void ww(t)):void ww(t)}function eS(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0,N=0,F=0,G=0,z=0,j=0,U=0,W=0,X=0,q=0,K=0,Y=0,Q=0,Z=0;if(P=BD,BD=BD+128|0,!(CD[t+12>>2]|0))return void(BD=P);if(s=(TD[t+16>>0]|0)!=0,B=s?i:e,s=s?e:i,a=CD[B+4>>2]|0,n=CD[s+4>>2]|0,B=CD[B+12>>2]|0,x=+RD[B>>2],T=+RD[B+16>>2],S=+RD[B+32>>2],v=+RD[B+4>>2],b=+RD[B+20>>2],y=+RD[B+36>>2],m=+RD[B+8>>2],f=+RD[B+24>>2],d=+RD[B+40>>2],A=+RD[B+48>>2],w=+RD[B+52>>2],R=+RD[B+56>>2],B=CD[s+12>>2]|0,H=+RD[B>>2],k=+RD[B+16>>2],h=+RD[B+32>>2],L=+RD[B+4>>2],V=+RD[B+20>>2],c=+RD[B+36>>2],_=+RD[B+8>>2],p=+RD[B+24>>2],u=+RD[B+40>>2],D=-+RD[B+48>>2],E=-+RD[B+52>>2],C=-+RD[B+56>>2],B=CD[(CD[a>>2]|0)+64>>2]|0,l=-+RD[n+48>>2],g=-+RD[n+52>>2],M=-+RD[n+56>>2],RD[P>>2]=(x*H+T*k+S*h)*l+(x*L+T*V+S*c)*g+(x*_+T*p+S*u)*M,RD[P+4>>2]=(v*H+b*k+y*h)*l+(v*L+b*V+y*c)*g+(v*_+b*p+y*u)*M,RD[P+8>>2]=(m*H+f*k+d*h)*l+(m*L+f*V+d*c)*g+(m*_+f*p+d*u)*M,RD[P+12>>2]=0,QP[B&127](P+112|0,a,P),M=+RD[P+112>>2],g=+RD[P+112+4>>2],l=+RD[P+112+8>>2],h=A*H+w*k+R*h+(H*D+k*E+h*C)+((x*H+T*k+S*h)*M+(v*H+b*k+y*h)*g+(m*H+f*k+d*h)*l),c=A*L+w*V+R*c+(L*D+V*E+c*C)+((x*L+T*V+S*c)*M+(v*L+b*V+y*c)*g+(m*L+f*V+d*c)*l),l=A*_+w*p+R*u+(_*D+p*E+u*C)+((x*_+T*p+S*u)*M+(v*_+b*p+y*u)*g+(m*_+f*p+d*u)*l),u=+RD[n+48>>2],d=+RD[n+52>>2],p=+RD[n+56>>2],f=p*l+(u*h+d*c)-+RD[n+64>>2],B=CD[s+12>>2]|0,_=+RD[B>>2],m=+RD[B+4>>2],g=+RD[B+8>>2],y=+RD[B+16>>2],b=+RD[B+20>>2],v=+RD[B+24>>2],M=+RD[B+32>>2],S=+RD[B+36>>2],T=+RD[B+40>>2],x=+RD[B+48>>2],C=+RD[B+52>>2],E=+RD[B+56>>2],B=CD[t+12>>2]|0,r=f<+RD[B+752>>2],CD[o+4>>2]=B,r&&(B=CD[s+12>>2]|0,k=u*+RD[B+16>>2]+d*+RD[B+20>>2]+p*+RD[B+24>>2],H=u*+RD[B+32>>2]+d*+RD[B+36>>2]+p*+RD[B+40>>2],RD[P+48>>2]=+RD[B>>2]*u+ +RD[B+4>>2]*d+ +RD[B+8>>2]*p,RD[P+48+4>>2]=k,RD[P+48+8>>2]=H,RD[P+48+12>>2]=0,RD[P+96>>2]=g*(l-p*f)+(_*(h-u*f)+m*(c-d*f))+x,RD[P+96+4>>2]=(h-u*f)*y+(c-d*f)*b+(l-p*f)*v+C,RD[P+96+8>>2]=(h-u*f)*M+(c-d*f)*S+(l-p*f)*T+E,RD[P+96+12>>2]=0,YP[CD[(CD[o>>2]|0)+16>>2]&15](o,P+48|0,P+96|0,f)),((CD[a+4>>2]|0)<7?(CD[(CD[o+4>>2]|0)+748>>2]|0)<(CD[t+24>>2]|0):0)&&(l=+RD[n+56>>2],+JD(+l)>.7071067690849304?(H=+RD[n+52>>2],h=1/+ND(+(l*l+H*H)),c=0,l=-(l*h),h=H*h):(h=+RD[n+48>>2],c=+RD[n+52>>2],l=1/+ND(+(h*h+c*c)),c=-(c*l),l=h*l,h=0),w=.019999999552965164/+VP[CD[(CD[a>>2]|0)+16>>2]&15](a),A=+ND(+(h*h+(l*l+c*c))),w=w>.39269909262657166?.19634954631328583:w*.5,A=+zD(+w)/A,D=c*A,R=l*A,A=h*A,w=+GD(+w),s=CD[t+20>>2]|0,(s|0)>0)){a=0;do m=+RD[n+48>>2],H=+RD[n+52>>2],h=+RD[n+56>>2],d=+(a|0)*(6.2831854820251465/+(s|0))*.5,k=+zD(+d)/+ND(+(m*m+H*H+h*h)),d=+GD(+d),u=A*-(H*k)+(D*d+w*-(m*k))-R*-(h*k),f=D*-(h*k)+(w*-(H*k)+R*d)-A*-(m*k),Q=R*-(m*k)+(A*d+w*-(h*k))-D*-(H*k),l=w*d-D*-(m*k)-R*-(H*k)-A*-(h*k),x=h*k*f+(m*k*l+d*u)-H*k*Q,C=m*k*Q+(d*f+H*k*l)-h*k*u,X=H*k*u+(h*k*l+d*Q)-m*k*f,Q=d*l-m*k*u-H*k*f-h*k*Q,s=(TD[t+16>>0]|0)!=0,U=s?i:e,s=s?e:i,B=CD[U+4>>2]|0,r=CD[s+4>>2]|0,U=CD[U+12>>2]|0,k=+RD[U>>2],h=+RD[U+4>>2],f=+RD[U+8>>2],H=+RD[U+16>>2],u=+RD[U+20>>2],m=+RD[U+24>>2],l=+RD[U+32>>2],d=+RD[U+36>>2],y=+RD[U+40>>2],N=+RD[U+48>>2],J=+RD[U+52>>2],O=+RD[U+56>>2],U=CD[s+12>>2]|0,j=+RD[U>>2],z=+RD[U+16>>2],S=+RD[U+32>>2],G=+RD[U+4>>2],F=+RD[U+20>>2],M=+RD[U+36>>2],_=+RD[U+8>>2],g=+RD[U+24>>2],b=+RD[U+40>>2],I=-+RD[U+48>>2],V=-+RD[U+52>>2],L=-+RD[U+56>>2],c=x*(2/(x*x+C*C+X*X+Q*Q)),E=C*(2/(x*x+C*C+X*X+Q*Q)),Z=X*(2/(x*x+C*C+X*X+Q*Q)),K=f*(x*Z-Q*E)+(h*(x*E+Q*Z)+k*(1-(C*E+X*Z))),W=f*(C*Z+Q*c)+(k*(x*E-Q*Z)+h*(1-(x*c+X*Z))),v=k*(x*Z+Q*E)+h*(C*Z-Q*c)+f*(1-(x*c+C*E)),q=m*(x*Z-Q*E)+(u*(x*E+Q*Z)+H*(1-(C*E+X*Z))),T=m*(C*Z+Q*c)+(H*(x*E-Q*Z)+u*(1-(x*c+X*Z))),p=H*(x*Z+Q*E)+u*(C*Z-Q*c)+m*(1-(x*c+C*E)),Y=y*(x*Z-Q*E)+(d*(x*E+Q*Z)+l*(1-(C*E+X*Z))),X=y*(C*Z+Q*c)+(l*(x*E-Q*Z)+d*(1-(x*c+X*Z))),E=l*(x*Z+Q*E)+d*(C*Z-Q*c)+y*(1-(x*c+C*E)),U=CD[(CD[B>>2]|0)+64>>2]|0,C=-+RD[r+48>>2],c=-+RD[r+52>>2],x=-+RD[r+56>>2],RD[P+64>>2]=(b*Y+(_*K+g*q))*x+((S*Y+(j*K+z*q))*C+(M*Y+(G*K+F*q))*c),RD[P+64+4>>2]=(b*X+(_*W+g*T))*x+((S*X+(j*W+z*T))*C+(M*X+(G*W+F*T))*c),RD[P+64+8>>2]=(b*E+(_*v+g*p))*x+((S*E+(j*v+z*p))*C+(M*E+(G*v+F*p))*c),RD[P+64+12>>2]=0,QP[U&127](P+16|0,B,P+64|0),c=+RD[P+16>>2],p=+RD[P+16+4>>2],v=+RD[P+16+8>>2],E=+RD[r+48>>2],C=+RD[r+52>>2],x=+RD[r+56>>2],T=x*(N*_+J*g+O*b+(_*I+g*V+b*L)+((k*_+H*g+l*b)*c+(h*_+u*g+d*b)*p+(f*_+m*g+y*b)*v))+(E*(N*j+J*z+O*S+(j*I+z*V+S*L)+((k*j+H*z+l*S)*c+(h*j+u*z+d*S)*p+(f*j+m*z+y*S)*v))+C*(N*G+J*F+O*M+(G*I+F*V+M*L)+((k*G+H*F+l*M)*c+(h*G+u*F+d*M)*p+(f*G+m*F+y*M)*v)))-+RD[r+64>>2],S=N*j+J*z+O*S+(j*I+z*V+S*L)+((k*j+H*z+l*S)*c+(h*j+u*z+d*S)*p+(f*j+m*z+y*S)*v)-E*T,M=N*G+J*F+O*M+(G*I+F*V+M*L)+((k*G+H*F+l*M)*c+(h*G+u*F+d*M)*p+(f*G+m*F+y*M)*v)-C*T,v=N*_+J*g+O*b+(_*I+g*V+b*L)+((k*_+H*g+l*b)*c+(h*_+u*g+d*b)*p+(f*_+m*g+y*b)*v)-x*T,r=CD[s+12>>2]|0,b=+RD[r>>2],y=+RD[r+4>>2],g=+RD[r+8>>2],m=+RD[r+16>>2],_=+RD[r+20>>2],f=+RD[r+24>>2],p=+RD[r+32>>2],d=+RD[r+36>>2],u=+RD[r+40>>2],h=+RD[r+48>>2],c=+RD[r+52>>2],l=+RD[r+56>>2],r=CD[t+12>>2]|0,B=T<+RD[r+752>>2],CD[o+4>>2]=r,B&&(B=CD[s+12>>2]|0,K=E*+RD[B+16>>2]+C*+RD[B+20>>2]+x*+RD[B+24>>2],Y=E*+RD[B+32>>2]+C*+RD[B+36>>2]+x*+RD[B+40>>2],RD[P+32>>2]=+RD[B>>2]*E+ +RD[B+4>>2]*C+ +RD[B+8>>2]*x,RD[P+32+4>>2]=K,RD[P+32+8>>2]=Y,RD[P+32+12>>2]=0,RD[P+80>>2]=g*v+(b*S+y*M)+h,RD[P+80+4>>2]=S*m+M*_+v*f+c,RD[P+80+8>>2]=S*p+M*d+v*u+l,RD[P+80+12>>2]=0,YP[CD[(CD[o>>2]|0)+16>>2]&15](o,P+32|0,P+80|0,T)),a=a+1|0,s=CD[t+20>>2]|0;while((a|0)<(s|0))}return TD[t+8>>0]|0&&CD[(CD[t+12>>2]|0)+748>>2]|0?(n=CD[o+4>>2]|0,CD[n+748>>2]|0?(a=CD[n+740>>2]|0,s=CD[(CD[o+8>>2]|0)+8>>2]|0,r=CD[(CD[o+12>>2]|0)+8>>2]|0,(a|0)==(s|0)?(MM(n,a+4|0,r+4|0),void(BD=P)):(MM(n,r+4|0,s+4|0),void(BD=P))):void(BD=P)):void(BD=P)}function iS(t,e,i,r,o){return t|=0,e|=0,i|=0,r|=0,o|=0,1}function rS(t){t|=0;var e=0;CD[t>>2]=7152,CD[t+12>>2]=7184,e=CD[t+60>>2]|0,bP[CD[(CD[e>>2]|0)+20>>2]&127](e,CD[t+76>>2]|0),e=CD[t+60>>2]|0,bP[CD[(CD[e>>2]|0)+16>>2]&127](e,CD[t+76>>2]|0)}function oS(t){t|=0;var e=0;CD[t>>2]=7152,CD[t+12>>2]=7184,e=CD[t+60>>2]|0,bP[CD[(CD[e>>2]|0)+20>>2]&127](e,CD[t+76>>2]|0),e=CD[t+60>>2]|0,bP[CD[(CD[e>>2]|0)+16>>2]&127](e,CD[t+76>>2]|0),ww(t)}function nS(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0;if(CD[t+76>>2]|0){if(r=CD[e+4>>2]|0,(r|0)==(CD[e+8>>2]|0)?(s=(r|0)==0?1:r<<1,(r|0)<(s|0)):0){if(s?(CD[5108]=(CD[5108]|0)+1,i=Aw((s<<2|3)+16|0)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,r=i+4+15&-16):r=0,a=r,r=CD[e+4>>2]|0):a=0,(r|0)>0)for(i=r+-1|0,n=0;;){if(o=a+(n<<2)|0,o&&(CD[o>>2]=CD[(CD[e+12>>2]|0)+(n<<2)>>2]),(n|0)==(i|0))break;n=n+1|0}i=CD[e+12>>2]|0,i&&(TD[e+16>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0),r=CD[e+4>>2]|0),CD[e+12>>2]=0),TD[e+16>>0]=1,CD[e+12>>2]=a,CD[e+8>>2]=s}i=(CD[e+12>>2]|0)+(r<<2)|0,i&&(CD[i>>2]=CD[t+76>>2]),CD[e+4>>2]=r+1}}function aS(t){t|=0;var e=0;CD[t>>2]=7184,e=CD[t+48>>2]|0,bP[CD[(CD[e>>2]|0)+20>>2]&127](e,CD[t+64>>2]|0),e=CD[t+48>>2]|0,bP[CD[(CD[e>>2]|0)+16>>2]&127](e,CD[t+64>>2]|0)}function sS(t){t|=0;var e=0;CD[t>>2]=7184,e=CD[t+48>>2]|0,bP[CD[(CD[e>>2]|0)+20>>2]&127](e,CD[t+64>>2]|0),e=CD[t+48>>2]|0,bP[CD[(CD[e>>2]|0)+16>>2]&127](e,CD[t+64>>2]|0),ww(t)}function lS(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0;return u=BD,BD=BD+128|0,a=+RD[e>>2],s=+RD[e+16>>2],d=a<s?a:s,l=+RD[e+32>>2],(d<l?d:l)>+RD[t+28>>2]?void(BD=u):(c=a>s?e:e+16|0,+RD[(+RD[c>>2]>l?c:e+32|0)>>2]<+RD[t+12>>2]?void(BD=u):(s=+RD[e+8>>2],a=+RD[e+24>>2],d=s<a?s:a,l=+RD[e+40>>2],(d<l?d:l)>+RD[t+36>>2]?void(BD=u):(c=s>a?e+8|0:e+24|0,+RD[(+RD[c>>2]>l?c:e+40|0)>>2]<+RD[t+20>>2]?void(BD=u):(l=+RD[e+4>>2],s=+RD[e+20>>2],d=l<s?l:s,a=+RD[e+36>>2],(d<a?d:a)>+RD[t+32>>2]?void(BD=u):(c=l>s?e+4|0:e+20|0,+RD[(+RD[c>>2]>a?c:e+36|0)>>2]<+RD[t+16>>2]?void(BD=u):(c=CD[t+48>>2]|0,n=CD[t+4>>2]|0,(CD[(CD[n+4>>2]|0)+4>>2]|0)>=20?void(BD=u):(CD[u+24+8>>2]=0,RD[u+24+12>>2]=1,RD[u+24+16>>2]=1,RD[u+24+20>>2]=1,RD[u+24+24>>2]=0,CD[u+24+52>>2]=0,CD[u+24>>2]=7584,CD[u+24+4>>2]=1,CD[u+24+56>>2]=CD[e>>2],CD[u+24+56+4>>2]=CD[e+4>>2],CD[u+24+56+8>>2]=CD[e+8>>2],CD[u+24+56+12>>2]=CD[e+12>>2],CD[u+24+72>>2]=CD[e+16>>2],CD[u+24+72+4>>2]=CD[e+16+4>>2],CD[u+24+72+8>>2]=CD[e+16+8>>2],CD[u+24+72+12>>2]=CD[e+16+12>>2],CD[u+24+88>>2]=CD[e+32>>2],CD[u+24+88+4>>2]=CD[e+32+4>>2],CD[u+24+88+8>>2]=CD[e+32+8>>2],CD[u+24+88+12>>2]=CD[e+32+12>>2],RD[u+24+44>>2]=+RD[t+56>>2],p=CD[t+8>>2]|0,o=CD[p+8>>2]|0,e=CD[p+12>>2]|0,CD[u>>2]=p,CD[u+4>>2]=u+24,CD[u+8>>2]=o,CD[u+12>>2]=e,CD[u+16>>2]=i,CD[u+20>>2]=r,e=CP[CD[(CD[c>>2]|0)+8>>2]&31](c,n,u,CD[t+64>>2]|0)|0,o=CD[t+44>>2]|0,n=CD[o+8>>2]|0,(CD[n+8>>2]|0)==(CD[(CD[t+8>>2]|0)+8>>2]|0)?(CD[o+8>>2]=u,QP[CD[(CD[o>>2]|0)+8>>2]&127](o,i,r)):(n=CD[o+12>>2]|0,CD[o+12>>2]=u,QP[CD[(CD[o>>2]|0)+12>>2]&127](o,i,r)),_P[CD[(CD[e>>2]|0)+8>>2]&31](e,CD[t+4>>2]|0,u,CD[t+52>>2]|0,CD[t+44>>2]|0),o=CD[t+44>>2]|0,(CD[(CD[o+8>>2]|0)+8>>2]|0)==(CD[(CD[t+8>>2]|0)+8>>2]|0)?CD[o+8>>2]=n:CD[o+12>>2]=n,gP[CD[CD[e>>2]>>2]&255](e),bP[CD[(CD[c>>2]|0)+60>>2]&127](c,e),CD[u+24>>2]=13336,o=CD[u+24+52>>2]|0,((o|0)!=0?(gP[CD[CD[o>>2]>>2]&255](o),h=CD[u+24+52>>2]|0,(h|0)!=0):0)&&(CD[5110]=(CD[5110]|0)+1,ww(CD[h+-4>>2]|0)),void(BD=u))))))))}function cS(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0,P=0,B=0;if(a=BD,BD=BD+64|0,s=(TD[t+8>>0]|0)!=0,n=s?i:e,e=s?e:i,i=CD[e+4>>2]|0,((CD[i+4>>2]|0)+-21|0)>>>0>=9)return void(BD=a);if((CD[(CD[n+4>>2]|0)+4>>2]|0)>=20)return void(BD=a);l=+VP[CD[(CD[i>>2]|0)+48>>2]&15](i),CD[o+4>>2]=CD[t+76>>2],CD[t+16>>2]=n,CD[t+20>>2]=e,CD[t+64>>2]=r,RD[t+68>>2]=l,CD[t+56>>2]=o,s=CD[e+12>>2]|0,T=+RD[s>>2],S=+RD[s+16>>2],M=+RD[s+32>>2],v=+RD[s+4>>2],b=+RD[s+20>>2],y=+RD[s+36>>2],f=+RD[s+8>>2],d=+RD[s+24>>2],h=+RD[s+40>>2],g=-+RD[s+48>>2],m=-+RD[s+52>>2],_=-+RD[s+56>>2],s=CD[n+12>>2]|0,B=+RD[s>>2],P=+RD[s+16>>2],D=+RD[s+32>>2],R=+RD[s+4>>2],w=+RD[s+20>>2],A=+RD[s+36>>2],E=+RD[s+8>>2],C=+RD[s+24>>2],x=+RD[s+40>>2],p=+RD[s+48>>2],u=+RD[s+52>>2],c=+RD[s+56>>2],RD[a>>2]=T*B+S*P+M*D,RD[a+4>>2]=T*R+S*w+M*A,RD[a+8>>2]=T*E+S*C+M*x,RD[a+12>>2]=0,RD[a+16>>2]=v*B+b*P+y*D,RD[a+20>>2]=v*R+b*w+y*A,RD[a+24>>2]=v*E+b*C+y*x,RD[a+28>>2]=0,RD[a+32>>2]=f*B+d*P+h*D,RD[a+36>>2]=f*R+d*w+h*A,RD[a+40>>2]=f*E+d*C+h*x,RD[a+44>>2]=0,RD[a+48>>2]=T*g+S*m+M*_+(T*p+S*u+M*c),RD[a+52>>2]=v*g+b*m+y*_+(v*p+b*u+y*c),RD[a+56>>2]=f*g+d*m+h*_+(f*p+d*u+h*c),RD[a+60>>2]=0,s=CD[(CD[t+16>>2]|0)+4>>2]|0,eB[CD[(CD[s>>2]|0)+8>>2]&127](s,a,t+24|0,t+40|0),RD[t+40>>2]=+RD[t+40>>2]+l,RD[t+44>>2]=+RD[t+44>>2]+l,RD[t+48>>2]=+RD[t+48>>2]+l,RD[t+24>>2]=+RD[t+24>>2]-l,RD[t+28>>2]=+RD[t+28>>2]-l,RD[t+32>>2]=+RD[t+32>>2]-l,s=CD[t+76>>2]|0,e=CD[e+8>>2]|0,CD[s+740>>2]=CD[n+8>>2],CD[s+744>>2]=e,eB[CD[(CD[i>>2]|0)+64>>2]&127](i,t+12|0,t+24|0,t+40|0),n=CD[o+4>>2]|0;
do if(CD[n+748>>2]|0){if(i=CD[n+740>>2]|0,e=CD[(CD[o+8>>2]|0)+8>>2]|0,r=CD[(CD[o+12>>2]|0)+8>>2]|0,(i|0)==(e|0)){MM(n,i+4|0,r+4|0);break}MM(n,r+4|0,e+4|0);break}while(0);CD[t+16>>2]=0,CD[t+20>>2]=0,BD=a}function hS(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0,N=0,F=0,G=0,z=0,j=0,U=0;return o=BD,BD=BD+240|0,r=(TD[t+8>>0]|0)!=0,t=r?i:e,i=r?e:i,N=+RD[t+116>>2]-+RD[t+52>>2],F=+RD[t+120>>2]-+RD[t+56>>2],G=+RD[t+124>>2]-+RD[t+60>>2],z=+RD[t+252>>2],N*N+F*F+G*G<z*z?(j=1,BD=o,+j):(A=+RD[i+4>>2],w=+RD[i+20>>2],R=+RD[i+36>>2],D=+RD[i+8>>2],P=+RD[i+24>>2],B=+RD[i+40>>2],V=+RD[i+12>>2],L=+RD[i+28>>2],k=+RD[i+44>>2],a=-+RD[i+52>>2],s=-+RD[i+56>>2],l=-+RD[i+60>>2],H=+RD[t+4>>2],I=+RD[t+20>>2],O=+RD[t+36>>2],J=+RD[t+8>>2],N=+RD[t+24>>2],F=+RD[t+40>>2],G=+RD[t+12>>2],z=+RD[t+28>>2],u=+RD[t+44>>2],m=+RD[t+52>>2],_=+RD[t+56>>2],f=+RD[t+60>>2],d=A*a+w*s+R*l+(A*m+w*_+R*f),p=D*a+P*s+B*l+(D*m+P*_+B*f),f=V*a+L*s+k*l+(V*m+L*_+k*f),_=+RD[t+68>>2],m=+RD[t+84>>2],g=+RD[t+100>>2],y=+RD[t+72>>2],b=+RD[t+88>>2],v=+RD[t+104>>2],M=+RD[t+76>>2],S=+RD[t+92>>2],T=+RD[t+108>>2],c=+RD[t+116>>2],h=+RD[t+120>>2],E=+RD[t+124>>2],x=A*a+w*s+R*l+(A*c+w*h+R*E),C=D*a+P*s+B*l+(D*c+P*h+B*E),E=V*a+L*s+k*l+(V*c+L*h+k*E),i=CD[i+192>>2]|0,((CD[i+4>>2]|0)+-21|0)>>>0>=9?(j=1,BD=o,+j):(RD[o+224>>2]=d,RD[o+224+4>>2]=p,RD[o+224+8>>2]=f,RD[o+224+12>>2]=0,x<d?(RD[o+224>>2]=x,n=x):n=d,C<p?(RD[o+224+4>>2]=C,a=C):a=p,E<f?(RD[o+224+8>>2]=E,s=E):s=f,RD[o+208>>2]=d,RD[o+208+4>>2]=p,RD[o+208+8>>2]=f,RD[o+208+12>>2]=0,d<x?(RD[o+208>>2]=x,l=x):l=d,p<C?(RD[o+208+4>>2]=C,c=C):c=p,f<E?(RD[o+208+8>>2]=E,h=E):h=f,U=+RD[t+248>>2],RD[o+224>>2]=n-U,RD[o+224+4>>2]=a-U,RD[o+224+8>>2]=s-U,RD[o+208>>2]=U+l,RD[o+208+4>>2]=U+c,RD[o+208+8>>2]=U+h,CD[o>>2]=7312,RD[o+4>>2]=A*H+w*I+R*O,RD[o+8>>2]=A*J+w*N+R*F,RD[o+12>>2]=A*G+w*z+R*u,RD[o+16>>2]=0,RD[o+20>>2]=D*H+P*I+B*O,RD[o+24>>2]=D*J+P*N+B*F,RD[o+28>>2]=D*G+P*z+B*u,RD[o+32>>2]=0,RD[o+36>>2]=V*H+L*I+k*O,RD[o+40>>2]=V*J+L*N+k*F,RD[o+44>>2]=V*G+L*z+k*u,RD[o+48>>2]=0,RD[o+52>>2]=d,RD[o+56>>2]=p,RD[o+60>>2]=f,RD[o+64>>2]=0,RD[o+68>>2]=A*_+w*m+R*g,RD[o+72>>2]=A*y+w*b+R*v,RD[o+76>>2]=A*M+w*S+R*T,RD[o+80>>2]=0,RD[o+84>>2]=D*_+P*m+B*g,RD[o+88>>2]=D*y+P*b+B*v,RD[o+92>>2]=D*M+P*S+B*T,RD[o+96>>2]=0,RD[o+100>>2]=V*_+L*m+k*g,RD[o+104>>2]=V*y+L*b+k*v,RD[o+108>>2]=V*M+L*S+k*T,RD[o+112>>2]=0,RD[o+116>>2]=x,RD[o+120>>2]=C,RD[o+124>>2]=E,RD[o+128>>2]=0,RD[o+196>>2]=U,RD[o+200>>2]=+RD[t+244>>2],((i|0)!=0?(eB[CD[(CD[i>>2]|0)+64>>2]&127](i,o,o+224|0,o+208|0),j=+RD[o+200>>2],j<+RD[t+244>>2]):0)?(RD[t+244>>2]=j,U=j,BD=o,+U):(U=1,BD=o,+U)))}function uS(t){t|=0;var e=0;CD[t>>2]=7808,TD[t+8>>0]|0&&(e=CD[t+12>>2]|0,e&&(t=CD[t+4>>2]|0,bP[CD[(CD[t>>2]|0)+16>>2]&127](t,e)))}function dS(t){t|=0;var e=0,i=0;return CD[t>>2]=7808,TD[t+8>>0]|0&&(e=CD[t+12>>2]|0)?(i=CD[t+4>>2]|0,bP[CD[(CD[i>>2]|0)+16>>2]&127](i,e),void ww(t)):void ww(t)}function pS(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0;if(s=BD,BD=BD+144|0,n=CD[t+12>>2]|0,!n)return void(BD=s);c=CD[e+4>>2]|0,l=CD[i+4>>2]|0,CD[o+4>>2]=n,RD[s+12+128>>2]=0xde0b6b000000000,n=CD[e+12>>2]|0,CD[s+12>>2]=CD[n>>2],CD[s+12+4>>2]=CD[n+4>>2],CD[s+12+8>>2]=CD[n+8>>2],CD[s+12+12>>2]=CD[n+12>>2],CD[s+12+16>>2]=CD[n+16>>2],CD[s+12+16+4>>2]=CD[n+16+4>>2],CD[s+12+16+8>>2]=CD[n+16+8>>2],CD[s+12+16+12>>2]=CD[n+16+12>>2],CD[s+12+32>>2]=CD[n+32>>2],CD[s+12+32+4>>2]=CD[n+32+4>>2],CD[s+12+32+8>>2]=CD[n+32+8>>2],CD[s+12+32+12>>2]=CD[n+32+12>>2],CD[s+12+48>>2]=CD[n+48>>2],CD[s+12+48+4>>2]=CD[n+48+4>>2],CD[s+12+48+8>>2]=CD[n+48+8>>2],CD[s+12+48+12>>2]=CD[n+48+12>>2],n=CD[i+12>>2]|0,CD[s+12+64>>2]=CD[n>>2],CD[s+12+64+4>>2]=CD[n+4>>2],CD[s+12+64+8>>2]=CD[n+8>>2],CD[s+12+64+12>>2]=CD[n+12>>2],CD[s+12+80>>2]=CD[n+16>>2],CD[s+12+80+4>>2]=CD[n+16+4>>2],CD[s+12+80+8>>2]=CD[n+16+8>>2],CD[s+12+80+12>>2]=CD[n+16+12>>2],CD[s+12+96>>2]=CD[n+32>>2],CD[s+12+96+4>>2]=CD[n+32+4>>2],CD[s+12+96+8>>2]=CD[n+32+8>>2],CD[s+12+96+12>>2]=CD[n+32+12>>2],CD[s+12+112>>2]=CD[n+48>>2],CD[s+12+112+4>>2]=CD[n+48+4>>2],CD[s+12+112+8>>2]=CD[n+48+8>>2],CD[s+12+112+12>>2]=CD[n+48+12>>2],CD[s>>2]=19760,CD[s+4>>2]=c,CD[s+8>>2]=l,Gv(s,s+12|0,o,CD[r+20>>2]|0,0);do if((TD[t+8>>0]|0)!=0?(a=CD[o+4>>2]|0,(CD[a+748>>2]|0)!=0):0){if(e=CD[a+740>>2]|0,n=CD[(CD[o+8>>2]|0)+8>>2]|0,i=CD[(CD[o+12>>2]|0)+8>>2]|0,(e|0)==(n|0)){MM(a,e+4|0,i+4|0);break}MM(a,i+4|0,n+4|0);break}while(0);BD=s}function fS(t,e,i,r,o){return t|=0,e|=0,i|=0,r|=0,o|=0,1}function _S(t,e,i,r){t|=0,e|=0,i|=0,r=+r;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0;if(S=BD,BD=BD+192|0,b=CD[t+4>>2]|0,+RD[b+752>>2]<r)return void(BD=S);if(M=CD[b+740>>2]|0,y=(CD[t+8>>2]|0)+8|0,v=CD[y>>2]|0,o=+RD[i>>2],u=+RD[e>>2]*r+o,a=+RD[i+4>>2],d=+RD[e+4>>2]*r+a,n=+RD[i+8>>2],p=+RD[e+8>>2]*r+n,g=(CD[t+12>>2]|0)+8|0,c=CD[g>>2]|0,h=+RD[c+52>>2],(M|0)!=(v|0)?(l=d-+RD[c+56>>2],m=p-+RD[c+60>>2],T=o-+RD[v+52>>2],o=a-+RD[v+56>>2],a=n-+RD[v+60>>2],f=(u-h)*+RD[c+4>>2]+l*+RD[c+20>>2]+m*+RD[c+36>>2],_=(u-h)*+RD[c+8>>2]+l*+RD[c+24>>2]+m*+RD[c+40>>2],m=(u-h)*+RD[c+12>>2]+l*+RD[c+28>>2]+m*+RD[c+44>>2],n=T*+RD[v+4>>2]+o*+RD[v+20>>2]+a*+RD[v+36>>2],l=T*+RD[v+8>>2]+o*+RD[v+24>>2]+a*+RD[v+40>>2],a=T*+RD[v+12>>2]+o*+RD[v+28>>2]+a*+RD[v+44>>2]):(x=u-+RD[M+52>>2],l=d-+RD[M+56>>2],m=p-+RD[M+60>>2],T=a-+RD[c+56>>2],a=n-+RD[c+60>>2],f=x*+RD[M+4>>2]+l*+RD[M+20>>2]+m*+RD[M+36>>2],_=x*+RD[M+8>>2]+l*+RD[M+24>>2]+m*+RD[M+40>>2],m=x*+RD[M+12>>2]+l*+RD[M+28>>2]+m*+RD[M+44>>2],n=(o-h)*+RD[c+4>>2]+T*+RD[c+20>>2]+a*+RD[c+36>>2],l=(o-h)*+RD[c+8>>2]+T*+RD[c+24>>2]+a*+RD[c+40>>2],a=(o-h)*+RD[c+12>>2]+T*+RD[c+28>>2]+a*+RD[c+44>>2]),RD[S>>2]=f,RD[S+4>>2]=_,RD[S+8>>2]=m,RD[S+12>>2]=0,RD[S+16>>2]=n,RD[S+20>>2]=l,RD[S+24>>2]=a,RD[S+28>>2]=0,CD[S+64>>2]=CD[e>>2],CD[S+64+4>>2]=CD[e+4>>2],CD[S+64+8>>2]=CD[e+8>>2],CD[S+64+12>>2]=CD[e+12>>2],RD[S+80>>2]=r,RD[S+84>>2]=0,RD[S+88>>2]=0,RD[S+92>>2]=0,CD[S+112>>2]=0,TD[S+116>>0]=0,CD[S+120>>2]=0,CD[S+120+4>>2]=0,CD[S+120+8>>2]=0,CD[S+120+12>>2]=0,CD[S+120+16>>2]=0,CD[S+120+20>>2]=0,CD[S+120+24>>2]=0,CD[S+120+28>>2]=0,RD[S+48>>2]=u,RD[S+52>>2]=d,RD[S+56>>2]=p,RD[S+60>>2]=0,CD[S+32>>2]=CD[i>>2],CD[S+32+4>>2]=CD[i+4>>2],CD[S+32+8>>2]=CD[i+8>>2],CD[S+32+12>>2]=CD[i+12>>2],a=+RD[b+752>>2],e=CD[b+748>>2]|0,(e|0)>0)for(c=0,s=-1,l=a*a;;){if(a=+RD[b+4+(c*184|0)>>2]-f,n=+RD[b+4+(c*184|0)+4>>2]-_,o=+RD[b+4+(c*184|0)+8>>2]-m,i=a*a+n*n+o*o<l,s=i?c:s,(c|0)==(e+-1|0))break;c=c+1|0,l=i?a*a+n*n+o*o:l}else s=-1;y=CD[y>>2]|0,c=CD[g>>2]|0,o=+RD[y+224>>2]*+RD[c+224>>2],o=o<-10?-10:o,RD[S+84>>2]=o>10?10:o,RD[S+92>>2]=+RD[y+228>>2]*+RD[c+228>>2],o=+RD[y+232>>2]*+RD[c+232>>2],o=o<-10?-10:o,RD[S+88>>2]=o>10?10:o,o=+RD[S+72>>2],c=+JD(+o)>.7071067690849304,n=+RD[S+68>>2],c?(m=1/+ND(+(o*o+n*n)),RD[S+152>>2]=0,RD[S+156>>2]=-(m*o),RD[S+160>>2]=m*n,RD[S+168>>2]=(o*o+n*n)*m,_=+RD[S+64>>2],a=-(_*m*n),o=_*-(m*o)):(_=+RD[S+64>>2],m=1/+ND(+(_*_+n*n)),RD[S+152>>2]=-(n*m),RD[S+156>>2]=m*_,RD[S+160>>2]=0,RD[S+168>>2]=-(o*m*_),a=o*-(n*m),o=(_*_+n*n)*m),RD[S+172>>2]=a,RD[S+176>>2]=o,g=CD[t+20>>2]|0,y=CD[t+16>>2]|0,c=CD[t+28>>2]|0,t=CD[t+24>>2]|0,CD[S+96>>2]=(M|0)!=(v|0)?g:y,CD[S+100>>2]=(M|0)!=(v|0)?y:g,CD[S+104>>2]=(M|0)!=(v|0)?c:t,CD[S+108>>2]=(M|0)!=(v|0)?t:c,(s|0)>-1?(t=b+4+(s*184|0)+148|0,M=CD[t>>2]|0,g=b+4+(s*184|0)+120|0,d=+RD[g>>2],c=b+4+(s*184|0)+124|0,_=+RD[c>>2],v=b+4+(s*184|0)+128|0,m=+RD[v>>2],y=b+4+(s*184|0)+112|0,e=CD[y>>2]|0,kw(b+4+(s*184|0)|0,S|0,184)|0,CD[y>>2]=e,RD[g>>2]=d,RD[c>>2]=_,RD[v>>2]=m,CD[t>>2]=M):vM(b,S)|0,BD=S}function mS(t){t|=0;var e=0,i=0,r=0,o=0,n=0;if(CD[t>>2]=8016,i=CD[t+8>>2]|0,e=CD[t+16>>2]|0,(i|0)>0){n=0;do r=(CD[e+(n<<2)>>2]|0)+188|0,o=CD[r>>2]|0,o&&(i=CD[t+68>>2]|0,i=MP[CD[(CD[i>>2]|0)+36>>2]&127](i)|0,QP[CD[(CD[i>>2]|0)+40>>2]&127](i,o,CD[t+24>>2]|0),i=CD[t+68>>2]|0,QP[CD[(CD[i>>2]|0)+12>>2]&127](i,o,CD[t+24>>2]|0),CD[r>>2]=0,i=CD[t+8>>2]|0,e=CD[t+16>>2]|0),n=n+1|0;while((n|0)<(i|0))}return e?(TD[t+20>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+16>>2]=0,TD[t+20>>0]=1,CD[t+16>>2]=0,CD[t+8>>2]=0,t=t+12|0,void(CD[t>>2]=0)):(TD[t+20>>0]=1,CD[t+16>>2]=0,CD[t+8>>2]=0,t=t+12|0,void(CD[t>>2]=0))}function gS(t){t|=0,mS(t),ww(t)}function yS(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0;if(h=BD,BD=BD+96|0,n=CD[t+8>>2]|0,(n|0)==(CD[t+12>>2]|0)?(c=(n|0)==0?1:n<<1,(n|0)<(c|0)):0){if(c?(CD[5108]=(CD[5108]|0)+1,o=Aw((c<<2|3)+16|0)|0,o?(CD[(o+4+15&-16)+-4>>2]=o,n=o+4+15&-16):n=0,l=n,n=CD[t+8>>2]|0):l=0,(n|0)>0)for(o=n+-1|0,s=0;;){if(a=l+(s<<2)|0,a&&(CD[a>>2]=CD[(CD[t+16>>2]|0)+(s<<2)>>2]),(s|0)==(o|0))break;s=s+1|0}o=CD[t+16>>2]|0,o&&(TD[t+20>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[o+-4>>2]|0),n=CD[t+8>>2]|0),CD[t+16>>2]=0),TD[t+20>>0]=1,CD[t+16>>2]=l,CD[t+12>>2]=c}o=(CD[t+16>>2]|0)+(n<<2)|0,o&&(CD[o>>2]=e),CD[t+8>>2]=n+1,CD[h+32>>2]=CD[e+4>>2],CD[h+32+4>>2]=CD[e+4+4>>2],CD[h+32+8>>2]=CD[e+4+8>>2],CD[h+32+12>>2]=CD[e+4+12>>2],CD[h+32+16>>2]=CD[e+20>>2],CD[h+32+16+4>>2]=CD[e+20+4>>2],CD[h+32+16+8>>2]=CD[e+20+8>>2],CD[h+32+16+12>>2]=CD[e+20+12>>2],CD[h+32+32>>2]=CD[e+36>>2],CD[h+32+32+4>>2]=CD[e+36+4>>2],CD[h+32+32+8>>2]=CD[e+36+8>>2],CD[h+32+32+12>>2]=CD[e+36+12>>2],CD[h+32+48>>2]=CD[e+52>>2],CD[h+32+48+4>>2]=CD[e+52+4>>2],CD[h+32+48+8>>2]=CD[e+52+8>>2],CD[h+32+48+12>>2]=CD[e+52+12>>2],c=CD[e+192>>2]|0,eB[CD[(CD[c>>2]|0)+8>>2]&127](c,h+32|0,h+16|0,h),c=CD[t+68>>2]|0,t=KP[CD[(CD[c>>2]|0)+8>>2]&3](c,h+16|0,h,CD[(CD[e+192>>2]|0)+4>>2]|0,e,i,r,CD[t+24>>2]|0,0)|0,CD[e+188>>2]=t,BD=h}function bS(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0;if(f=BD,BD=BD+64|0,cM(8296),e=CD[t+8>>2]|0,(e|0)>0){d=0;do u=CD[(CD[t+16>>2]|0)+(d<<2)>>2]|0,((TD[t+76>>0]|0)==0?(_=CD[u+216>>2]|0,(_|0)==2|(_|0)==5):0)||(_=CD[u+192>>2]|0,eB[CD[(CD[_>>2]|0)+8>>2]&127](_,u+4|0,f+48|0,f+32|0),o=+RD[f+48>>2]+-.019999999552965164,RD[f+48>>2]=o,i=+RD[f+48+4>>2]+-.019999999552965164,RD[f+48+4>>2]=i,n=+RD[f+48+8>>2]+-.019999999552965164,RD[f+48+8>>2]=n,a=+RD[f+32>>2]+.019999999552965164,RD[f+32>>2]=a,s=+RD[f+32+4>>2]+.019999999552965164,RD[f+32+4>>2]=s,r=+RD[f+32+8>>2]+.019999999552965164,RD[f+32+8>>2]=r,(((TD[t+44>>0]|0)!=0?(CD[u+236>>2]|0)==2:0)?(CD[u+204>>2]&3|0)==0:0)&&(_=CD[u+192>>2]|0,eB[CD[(CD[_>>2]|0)+8>>2]&127](_,u+68|0,f+16|0,f),i=+RD[f+16>>2]+-.019999999552965164,RD[f+16>>2]=i,l=+RD[f+16+4>>2]+-.019999999552965164,RD[f+16+4>>2]=l,s=+RD[f+16+8>>2]+-.019999999552965164,RD[f+16+8>>2]=s,c=+RD[f>>2]+.019999999552965164,RD[f>>2]=c,h=+RD[f+4>>2]+.019999999552965164,RD[f+4>>2]=h,r=+RD[f+8>>2]+.019999999552965164,RD[f+8>>2]=r,o=+RD[f+48>>2],i<o&&(RD[f+48>>2]=i,o=i),i=+RD[f+48+4>>2],l<i&&(RD[f+48+4>>2]=l,i=l),n=+RD[f+48+8>>2],s<n&&(RD[f+48+8>>2]=s,n=s),a=+RD[f+16+12>>2],a<+RD[f+48+12>>2]&&(RD[f+48+12>>2]=a),a=+RD[f+32>>2],a<c&&(RD[f+32>>2]=c,a=c),s=+RD[f+32+4>>2],s<h&&(RD[f+32+4>>2]=h,s=h),l=+RD[f+32+8>>2],l<r?RD[f+32+8>>2]=r:r=l,l=+RD[f+12>>2],+RD[f+32+12>>2]<l&&(RD[f+32+12>>2]=l)),e=CD[t+68>>2]|0,((CD[u+204>>2]&1|0)==0?(l=a-o,c=s-i,h=r-n,l*l+c*c+h*h<999999995904):!0)?_P[CD[(CD[e>>2]|0)+16>>2]&31](e,CD[u+188>>2]|0,f+48|0,f+32|0,CD[t+24>>2]|0):((CD[u+216>>2]&-2|0)!=4&&(CD[u+216>>2]=5),((TD[8072]|0)!=0?(p=CD[t+72>>2]|0,(p|0)!=0):0)&&(TD[8072]=0,bP[CD[(CD[p>>2]|0)+36>>2]&127](p,8080),_=CD[t+72>>2]|0,bP[CD[(CD[_>>2]|0)+36>>2]&127](_,8136),_=CD[t+72>>2]|0,bP[CD[(CD[_>>2]|0)+36>>2]&127](_,8208),_=CD[t+72>>2]|0,bP[CD[(CD[_>>2]|0)+36>>2]&127](_,8280))),e=CD[t+8>>2]|0),d=d+1|0;while((d|0)<(e|0))}if(e=CD[5104]|0,_=(CD[e+16>>2]|0)+-1|0,CD[e+16>>2]=_,_)return void(BD=f);do if(CD[e+4>>2]|0){if(uP(f+48|0,0)|0,_=CD[5090]|0,RD[e+8>>2]=+(((CD[f+48+4>>2]|0)-(CD[_+4>>2]|0)+(((CD[f+48>>2]|0)-(CD[_>>2]|0)|0)*1e6|0)-(CD[e+12>>2]|0)|0)>>>0)/1e3+ +RD[e+8>>2],CD[e+16>>2]|0)return void(BD=f);e=CD[5104]|0;break}while(0);CD[5104]=CD[e+20>>2],BD=f}function vS(t){t|=0;var e=0,i=0;if(e=BD,BD=BD+16|0,cM(8312),i=CD[t+68>>2]|0,bP[CD[(CD[i>>2]|0)+32>>2]&127](i,CD[t+24>>2]|0),t=CD[5104]|0,i=(CD[t+16>>2]|0)+-1|0,CD[t+16>>2]=i,i)return void(BD=e);do if(CD[t+4>>2]|0){if(uP(e|0,0)|0,i=CD[5090]|0,RD[t+8>>2]=+(((CD[e+4>>2]|0)-(CD[i+4>>2]|0)+(((CD[e>>2]|0)-(CD[i>>2]|0)|0)*1e6|0)-(CD[t+12>>2]|0)|0)>>>0)/1e3+ +RD[t+8>>2],CD[t+16>>2]|0)return void(BD=e);t=CD[5104]|0;break}while(0);CD[5104]=CD[t+20>>2],BD=e}function MS(t){t|=0;var e=0,i=0,r=0,o=0;i=BD,BD=BD+16|0,cM(8344),gP[CD[(CD[t>>2]|0)+8>>2]&255](t),gP[CD[(CD[t>>2]|0)+12>>2]&255](t),e=CD[t+24>>2]|0,cM(8384),e&&(o=CD[(CD[e>>2]|0)+32>>2]|0,r=CD[t+68>>2]|0,r=MP[CD[(CD[r>>2]|0)+36>>2]&127](r)|0,eB[o&127](e,r,t+28|0,CD[t+24>>2]|0)),e=CD[5104]|0,o=(CD[e+16>>2]|0)+-1|0,CD[e+16>>2]=o;do if(o)t=e;else{if(CD[e+4>>2]|0){if(uP(i|0,0)|0,t=CD[5090]|0,RD[e+8>>2]=+(((CD[i+4>>2]|0)-(CD[t+4>>2]|0)+(((CD[i>>2]|0)-(CD[t>>2]|0)|0)*1e6|0)-(CD[e+12>>2]|0)|0)>>>0)/1e3+ +RD[e+8>>2],t=CD[5104]|0,CD[e+16>>2]|0)break}else t=e;t=CD[t+20>>2]|0,CD[5104]=t}while(0);if(e=t+16|0,o=(CD[e>>2]|0)+-1|0,CD[e>>2]=o,o)return void(BD=i);do if(CD[t+4>>2]|0){if(uP(i|0,0)|0,r=CD[5090]|0,o=t+8|0,RD[o>>2]=+(((CD[i+4>>2]|0)-(CD[r+4>>2]|0)+(((CD[i>>2]|0)-(CD[r>>2]|0)|0)*1e6|0)-(CD[t+12>>2]|0)|0)>>>0)/1e3+ +RD[o>>2],CD[e>>2]|0)return void(BD=i);t=CD[5104]|0;break}while(0);CD[5104]=CD[t+20>>2],BD=i}function SS(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0;if(i=CD[e+188>>2]|0,i&&(n=CD[t+68>>2]|0,n=MP[CD[(CD[n>>2]|0)+36>>2]&127](n)|0,QP[CD[(CD[n>>2]|0)+40>>2]&127](n,i,CD[t+24>>2]|0),n=CD[t+68>>2]|0,QP[CD[(CD[n>>2]|0)+12>>2]&127](n,i,CD[t+24>>2]|0),CD[e+188>>2]=0),o=CD[t+8>>2]|0,!((o|0)<=0)){for(n=CD[t+16>>2]|0,i=0;;){if(r=n+(i<<2)|0,(CD[r>>2]|0)==(e|0))break;if(i=i+1|0,(i|0)>=(o|0)){a=9;break}}(a|0)!=9&&((i|0)>=(o|0)||(CD[r>>2]=CD[n+(o+-1<<2)>>2],CD[(CD[t+16>>2]|0)+(o+-1<<2)>>2]=e,CD[t+8>>2]=o+-1))}}function TS(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0;if(P=BD,BD=BD+1040|0,CD[P+96+8>>2]=0,RD[P+96+12>>2]=1,RD[P+96+16>>2]=1,RD[P+96+20>>2]=1,RD[P+96+24>>2]=0,CD[P+96>>2]=12008,CD[P+96+4>>2]=8,RD[P+96+28>>2]=0,RD[P+96+44>>2]=0,a=CD[i+4>>2]|0,n=CD[i+12>>2]|0,s=CD[a+4>>2]|0,(s|0)<20)return CD[P+840>>2]=7512,CD[P+840+168>>2]=0,RD[P+840+172>>2]=0,RD[P+840+164>>2]=+RD[r+4>>2],RD[P+448+308>>2]=9999999747378752e-20,TD[P+448+332>>0]=0,CD[P+16>>2]=18976,CD[P+16+4>>2]=P+448,CD[P+16+8>>2]=P+96,CD[P+16+12>>2]=a,CD[P+432>>2]=19128,CD[P+432+4>>2]=P+448,CD[P+432+8>>2]=P+96,CD[P+432+12>>2]=a,S=(CD[r+16>>2]&4|0)==0?P+432|0:P+16|0,((LP[CD[(CD[S>>2]|0)+8>>2]&3](S,t,e,n,n,P+840|0)|0?(o=P+840+132|0,p=+RD[o>>2],d=+RD[P+840+136>>2],u=+RD[P+840+140>>2],p*p+d*d+u*u>9999999747378752e-20):0)?(h=+RD[P+840+164>>2],h<+RD[r+4>>2]):0)&&(E=1/+ND(+(p*p+d*d+u*u)),RD[o>>2]=p*E,RD[P+840+136>>2]=d*E,RD[P+840+140>>2]=u*E,CD[P+808>>2]=CD[i+8>>2],CD[P+808+4>>2]=0,CD[P+808+8>>2]=CD[o>>2],CD[P+808+8+4>>2]=CD[o+4>>2],CD[P+808+8+8>>2]=CD[o+8>>2],CD[P+808+8+12>>2]=CD[o+12>>2],RD[P+808+24>>2]=h,+FP[CD[(CD[r>>2]|0)+12>>2]&15](r,P+808|0,1)),void(BD=P);if((s+-21|0)>>>0<9)return A=+RD[n>>2],w=+RD[n+16>>2],u=+RD[n+32>>2],R=+RD[n+4>>2],D=+RD[n+20>>2],h=+RD[n+36>>2],C=+RD[n+8>>2],E=+RD[n+24>>2],c=+RD[n+40>>2],d=-+RD[n+48>>2],p=-+RD[n+52>>2],x=-+RD[n+56>>2],f=+RD[t+48>>2],_=+RD[t+52>>2],l=+RD[t+56>>2],RD[P+1016>>2]=A*d+w*p+u*x+(A*f+w*_+u*l),RD[P+1016+4>>2]=R*d+D*p+h*x+(R*f+D*_+h*l),RD[P+1016+8>>2]=C*d+E*p+c*x+(C*f+E*_+c*l),RD[P+1016+12>>2]=0,g=+RD[e+48>>2],y=+RD[e+52>>2],m=+RD[e+56>>2],u=A*d+w*p+u*x+(A*g+w*y+u*m),h=R*d+D*p+h*x+(R*g+D*y+h*m),c=C*d+E*p+c*x+(C*g+E*y+c*m),RD[P+152>>2]=u,RD[P+152+4>>2]=h,RD[P+152+8>>2]=c,RD[P+152+12>>2]=0,s=CD[a+4>>2]|0,(s|0)==25?(S=CD[i+8>>2]|0,M=CD[r+16>>2]|0,CD[P+840+4>>2]=CD[P+1016>>2],CD[P+840+4+4>>2]=CD[P+1016+4>>2],CD[P+840+4+8>>2]=CD[P+1016+8>>2],CD[P+840+4+12>>2]=CD[P+1016+12>>2],CD[P+840+20>>2]=CD[P+152>>2],CD[P+840+20+4>>2]=CD[P+152+4>>2],CD[P+840+20+8>>2]=CD[P+152+8>>2],CD[P+840+20+12>>2]=CD[P+152+12>>2],CD[P+840+36>>2]=M,RD[P+840+40>>2]=1,CD[P+840>>2]=10120,CD[P+840+44>>2]=r,CD[P+840+48>>2]=S,CD[P+840+52>>2]=a,CD[P+840+56>>2]=CD[n>>2],CD[P+840+56+4>>2]=CD[n+4>>2],CD[P+840+56+8>>2]=CD[n+8>>2],CD[P+840+56+12>>2]=CD[n+12>>2],CD[P+840+72>>2]=CD[n+16>>2],CD[P+840+72+4>>2]=CD[n+16+4>>2],CD[P+840+72+8>>2]=CD[n+16+8>>2],CD[P+840+72+12>>2]=CD[n+16+12>>2],CD[P+840+88>>2]=CD[n+32>>2],CD[P+840+88+4>>2]=CD[n+32+4>>2],CD[P+840+88+8>>2]=CD[n+32+8>>2],CD[P+840+88+12>>2]=CD[n+32+12>>2],CD[P+840+104>>2]=CD[n+48>>2],CD[P+840+104+4>>2]=CD[n+48+4>>2],CD[P+840+104+8>>2]=CD[n+48+8>>2],CD[P+840+104+12>>2]=CD[n+48+12>>2],RD[P+840+40>>2]=+RD[r+4>>2],eB[CD[(CD[a>>2]|0)+144>>2]&127](a,P+840|0,P+1016|0,P+152|0),void(BD=P)):(s|0)==21?(o=CD[i+8>>2]|0,S=CD[r+16>>2]|0,CD[P+200+4>>2]=CD[P+1016>>2],CD[P+200+4+4>>2]=CD[P+1016+4>>2],CD[P+200+4+8>>2]=CD[P+1016+8>>2],CD[P+200+4+12>>2]=CD[P+1016+12>>2],CD[P+200+20>>2]=CD[P+152>>2],CD[P+200+20+4>>2]=CD[P+152+4>>2],CD[P+200+20+8>>2]=CD[P+152+8>>2],CD[P+200+20+12>>2]=CD[P+152+12>>2],CD[P+200+36>>2]=S,RD[P+200+40>>2]=1,CD[P+200>>2]=10120,CD[P+200+44>>2]=r,CD[P+200+48>>2]=o,CD[P+200+52>>2]=a,CD[P+200+56>>2]=CD[n>>2],CD[P+200+56+4>>2]=CD[n+4>>2],CD[P+200+56+8>>2]=CD[n+8>>2],CD[P+200+56+12>>2]=CD[n+12>>2],CD[P+200+72>>2]=CD[n+16>>2],CD[P+200+72+4>>2]=CD[n+16+4>>2],CD[P+200+72+8>>2]=CD[n+16+8>>2],CD[P+200+72+12>>2]=CD[n+16+12>>2],CD[P+200+88>>2]=CD[n+32>>2],CD[P+200+88+4>>2]=CD[n+32+4>>2],CD[P+200+88+8>>2]=CD[n+32+8>>2],CD[P+200+88+12>>2]=CD[n+32+12>>2],CD[P+200+104>>2]=CD[n+48>>2],CD[P+200+104+4>>2]=CD[n+48+4>>2],CD[P+200+104+8>>2]=CD[n+48+8>>2],CD[P+200+104+12>>2]=CD[n+48+12>>2],RD[P+200+40>>2]=+RD[r+4>>2],o=CD[a+48>>2]|0,CD[P+168>>2]=12680,CD[P+168+4>>2]=o,CD[P+168+8>>2]=P+200,o=CD[a+52>>2]|0,CD[P+840>>2]=0,CD[P+840+4>>2]=0,CD[P+840+8>>2]=0,CD[P+840+12>>2]=0,CD[P+448>>2]=0,CD[P+448+4>>2]=0,CD[P+448+8>>2]=0,CD[P+448+12>>2]=0,TD[o+60>>0]|0?Lf(o,P+168|0,P+1016|0,u,h,c,P+840|0,P+448|0,CD[o+56>>2]|0):Vf(o,P+168|0,P+1016|0,u,h,c,P+840|0,P+448|0),void(BD=P)):(L=+RD[n>>2],V=+RD[n+16>>2],h=+RD[n+32>>2],B=+RD[n+4>>2],A=+RD[n+20>>2],u=+RD[n+36>>2],x=+RD[n+8>>2],C=+RD[n+24>>2],E=+RD[n+40>>2],w=-+RD[n+48>>2],R=-+RD[n+52>>2],D=-+RD[n+56>>2],d=L*w+V*R+h*D+(L*f+V*_+h*l),p=B*w+A*R+u*D+(B*f+A*_+u*l),c=x*w+C*R+E*D+(x*f+C*_+E*l),h=L*w+V*R+h*D+(L*g+V*y+h*m),u=B*w+A*R+u*D+(B*g+A*y+u*m),l=x*w+C*R+E*D+(x*g+C*y+E*m),S=CD[i+8>>2]|0,M=CD[r+16>>2]|0,RD[P+840+4>>2]=d,RD[P+840+8>>2]=p,RD[P+840+12>>2]=c,RD[P+840+16>>2]=0,RD[P+840+20>>2]=h,RD[P+840+24>>2]=u,RD[P+840+28>>2]=l,RD[P+840+32>>2]=0,CD[P+840+36>>2]=M,RD[P+840+40>>2]=1,CD[P+840>>2]=9928,CD[P+840+44>>2]=r,CD[P+840+48>>2]=S,CD[P+840+52>>2]=a,CD[P+840+56>>2]=CD[n>>2],CD[P+840+56+4>>2]=CD[n+4>>2],CD[P+840+56+8>>2]=CD[n+8>>2],CD[P+840+56+12>>2]=CD[n+12>>2],CD[P+840+72>>2]=CD[n+16>>2],CD[P+840+72+4>>2]=CD[n+16+4>>2],CD[P+840+72+8>>2]=CD[n+16+8>>2],CD[P+840+72+12>>2]=CD[n+16+12>>2],CD[P+840+88>>2]=CD[n+32>>2],CD[P+840+88+4>>2]=CD[n+32+4>>2],CD[P+840+88+8>>2]=CD[n+32+8>>2],CD[P+840+88+12>>2]=CD[n+32+12>>2],CD[P+840+104>>2]=CD[n+48>>2],CD[P+840+104+4>>2]=CD[n+48+4>>2],CD[P+840+104+8>>2]=CD[n+48+8>>2],CD[P+840+104+12>>2]=CD[n+48+12>>2],RD[P+840+40>>2]=+RD[r+4>>2],RD[P>>2]=d,RD[P+4>>2]=p,RD[P+8>>2]=c,RD[P+12>>2]=0,h<d&&(RD[P>>2]=h),u<p&&(RD[P+4>>2]=u),l<c&&(RD[P+8>>2]=l),RD[P+352>>2]=d,RD[P+352+4>>2]=p,RD[P+352+8>>2]=c,RD[P+352+12>>2]=0,d<h&&(RD[P+352>>2]=h),p<u&&(RD[P+352+4>>2]=u),c<l&&(RD[P+352+8>>2]=l),eB[CD[(CD[a>>2]|0)+64>>2]&127](a,P+840|0,P,P+352|0),void(BD=P));if((s|0)!=31)return void(BD=P);if(s=CD[a+64>>2]|0,S=CD[i+8>>2]|0,CD[P+320>>2]=9712,CD[P+320+4>>2]=S,CD[P+320+8>>2]=a,CD[P+320+12>>2]=n,CD[P+320+16>>2]=t,CD[P+320+20>>2]=e,CD[P+320+24>>2]=r,!s){if(s=CD[a+16>>2]|0,(s|0)<=0)return void(BD=P);for(o=0;;){if(S=CD[a+24>>2]|0,M=CD[S+(o*80|0)+64>>2]|0,i_(P+840|0,n,S+(o*80|0)|0),S=CD[P+320+4>>2]|0,CD[P+448>>2]=0,CD[P+448+4>>2]=M,CD[P+448+8>>2]=S,CD[P+448+12>>2]=P+840,CD[P+448+16>>2]=-1,CD[P+448+20>>2]=o,S=CD[P+320+24>>2]|0,RD[P+168+4>>2]=1,CD[P+168+8>>2]=0,xD[P+168+12>>1]=1,xD[P+168+14>>1]=-1,CD[P+168+16>>2]=0,CD[P+168>>2]=9536,CD[P+168+20>>2]=S,CD[P+168+24>>2]=o,RD[P+168+4>>2]=+RD[S+4>>2],CD[P+168+16>>2]=CD[S+16>>2],TS(CD[P+320+16>>2]|0,CD[P+320+20>>2]|0,P+448|0,P+168|0),o=o+1|0,(o|0)>=(s|0))break;a=CD[P+320+8>>2]|0,n=CD[P+320+12>>2]|0}return void(BD=P)}if(u_(P+32|0,n,t),x=+RD[P+32+48>>2],C=+RD[P+32+52>>2],E=+RD[P+32+56>>2],u_(P+368|0,n,e),n=CD[s>>2]|0){for(p=+RD[P+368+48>>2]-x,d=+RD[P+368+52>>2]-C,u=+RD[P+368+56>>2]-E,h=1/+ND(+(p*p+d*d+u*u)),c=p*h==0?0xde0b6b000000000:1/(p*h),y=d*h==0?0xde0b6b000000000:1/(d*h),l=u*h==0?0xde0b6b000000000:1/(u*h),M=c<0&1,S=y<0&1,T=l<0&1,CD[5108]=(CD[5108]|0)+1,s=Aw(531)|0,s?(CD[(s+4+15&-16)+-4>>2]=s,a=s+4+15&-16):a=0,s=0;;){if(t=a+(s<<2)|0,t&&(CD[t>>2]=0),(s|0)==127)break;s=s+1|0}for(CD[a>>2]=n,n=128,t=128,v=1,e=126;;){b=v+-1|0,i=CD[a+(b<<2)>>2]|0,CD[P+840>>2]=CD[i>>2],CD[P+840+4>>2]=CD[i+4>>2],CD[P+840+8>>2]=CD[i+8>>2],CD[P+840+12>>2]=CD[i+12>>2],CD[P+840+16>>2]=CD[i+16>>2],CD[P+840+16+4>>2]=CD[i+16+4>>2],CD[P+840+16+8>>2]=CD[i+16+8>>2],CD[P+840+16+12>>2]=CD[i+16+12>>2],g=c*(+RD[P+840+(M<<4)>>2]-x),m=c*(+RD[P+840+((M^1)<<4)>>2]-x),_=y*(+RD[P+840+(S<<4)+4>>2]-C),f=y*(+RD[P+840+((S^1)<<4)+4>>2]-C);do if(((_>m|g>f?!0:(A=_>g?_:g,D=f<m?f:m,w=l*(+RD[P+840+(T<<4)+8>>2]-E),R=l*(+RD[P+840+((T^1)<<4)+8>>2]-E),w>D|A>R))?0:(w>A?w:A)<p*h*p+d*h*d+u*h*u)?(R<D?R:D)>0:0){if(!(CD[i+40>>2]|0)){bP[CD[(CD[P+320>>2]|0)+12>>2]&127](P+320|0,i),s=b;break}if((b|0)>(e|0)){if(r=n<<1,(n|0)<(r|0)){do if((t|0)<(r|0)){do if(n){if(CD[5108]=(CD[5108]|0)+1,t=Aw((n<<3|3)+16|0)|0,t?(CD[(t+4+15&-16)+-4>>2]=t,t=t+4+15&-16):t=0,(n|0)<=0)break;for(e=n+-1|0,o=0;;){if(s=t+(o<<2)|0,s&&(CD[s>>2]=CD[a+(o<<2)>>2]),(o|0)==(e|0))break;o=o+1|0}}else t=0;while(0);if(!a){a=t,t=r;break}CD[5110]=(CD[5110]|0)+1,ww(CD[a+-4>>2]|0),a=t,t=r}while(0);for(;;){if(s=a+(n<<2)|0,s&&(CD[s>>2]=0),(n|0)==(r+-1|0))break;n=n+1|0}}n=r,e=r+-2|0}CD[a+(b<<2)>>2]=CD[i+36>>2],CD[a+(v<<2)>>2]=CD[i+40>>2],s=v+1|0}else s=b;while(0);if(!s)break;v=s}a&&(CD[5110]=(CD[5110]|0)+1,ww(CD[a+-4>>2]|0))}BD=P}function xS(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n=+n;var a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0;if(E=BD,BD=BD+976|0,C=CD[r+4>>2]|0,x=CD[r+12>>2]|0,g=CD[C+4>>2]|0,(g|0)<20)return CD[E+784>>2]=7512,CD[E+784+168>>2]=0,RD[E+784+172>>2]=n,RD[E+784+164>>2]=+RD[o+4>>2],RD[E+408+308>>2]=9999999747378752e-20,TD[E+408+332>>0]=0,CD[E+312>>2]=19048,CD[E+264>>2]=19312,CD[E+264+4>>2]=E+408,CD[E+264+8>>2]=E+312,CD[E+264+12>>2]=t,CD[E+264+16>>2]=C,CD[E+264+20>>2]=0,((Pv(E+264|0,e,i,x,x,E+784|0)|0?(a=E+784+132|0,f=+RD[a>>2],p=+RD[E+784+136>>2],u=+RD[E+784+140>>2],f*f+p*p+u*u>9999999747378752e-20):0)?(s=+RD[E+784+164>>2],s<+RD[o+4>>2]):0)&&(n=1/+ND(+(f*f+p*p+u*u)),RD[a>>2]=f*n,RD[E+784+136>>2]=p*n,RD[E+784+140>>2]=u*n,CD[E+16>>2]=CD[r+8>>2],CD[E+16+4>>2]=0,CD[E+16+8>>2]=CD[a>>2],CD[E+16+8+4>>2]=CD[a+4>>2],CD[E+16+8+8>>2]=CD[a+8>>2],CD[E+16+8+12>>2]=CD[a+12>>2],CD[E+16+24>>2]=CD[E+784+148>>2],CD[E+16+24+4>>2]=CD[E+784+148+4>>2],CD[E+16+24+8>>2]=CD[E+784+148+8>>2],CD[E+16+24+12>>2]=CD[E+784+148+12>>2],RD[E+16+40>>2]=s,+FP[CD[(CD[o>>2]|0)+12>>2]&15](o,E+16|0,1)),void(BD=E);if((g+-21|0)>>>0>=9){if((g|0)!=31)return void(BD=E);if(cM(8416),(CD[C+16>>2]|0)>0){a=0;do _=CD[C+24>>2]|0,s=+RD[_+(a*80|0)>>2],b=+RD[_+(a*80|0)+4>>2],u=+RD[_+(a*80|0)+8>>2],y=+RD[_+(a*80|0)+16>>2],c=+RD[_+(a*80|0)+20>>2],p=+RD[_+(a*80|0)+24>>2],l=+RD[_+(a*80|0)+32>>2],h=+RD[_+(a*80|0)+36>>2],m=+RD[_+(a*80|0)+40>>2],L=+RD[_+(a*80|0)+48>>2],V=+RD[_+(a*80|0)+52>>2],T=+RD[_+(a*80|0)+56>>2],_=CD[_+(a*80|0)+64>>2]|0,B=+RD[x>>2],P=+RD[x+4>>2],D=+RD[x+8>>2],R=+RD[x+16>>2],w=+RD[x+20>>2],A=+RD[x+24>>2],d=+RD[x+32>>2],f=+RD[x+36>>2],v=+RD[x+40>>2],M=L*B+V*P+T*D+ +RD[x+48>>2],S=L*R+V*w+T*A+ +RD[x+52>>2],T=L*d+V*f+T*v+ +RD[x+56>>2],RD[E+784>>2]=s*B+y*P+l*D,RD[E+784+4>>2]=b*B+c*P+h*D,RD[E+784+8>>2]=u*B+p*P+m*D,RD[E+784+12>>2]=0,RD[E+784+16>>2]=s*R+y*w+l*A,RD[E+784+20>>2]=b*R+c*w+h*A,RD[E+784+24>>2]=u*R+p*w+m*A,RD[E+784+28>>2]=0,RD[E+784+32>>2]=s*d+y*f+l*v,RD[E+784+36>>2]=b*d+c*f+h*v,RD[E+784+40>>2]=u*d+p*f+m*v,RD[E+784+44>>2]=0,RD[E+784+48>>2]=M,RD[E+784+52>>2]=S,RD[E+784+56>>2]=T,RD[E+784+60>>2]=0,xD[E+240+8>>1]=1,xD[E+240+10>>1]=-1,CD[E+240>>2]=8896,CD[E+240+12>>2]=o,CD[E+240+16>>2]=a,RD[E+240+4>>2]=+RD[o+4>>2],g=CD[r+8>>2]|0,CD[E+368>>2]=r,CD[E+368+4>>2]=_,CD[E+368+8>>2]=g,CD[E+368+12>>2]=E+784,CD[E+368+16>>2]=-1,CD[E+368+20>>2]=a,xS(t,e,i,E+368|0,E+240|0,n),a=a+1|0;while((a|0)<(CD[C+16>>2]|0))}if(a=CD[5104]|0,C=(CD[a+16>>2]|0)+-1|0,CD[a+16>>2]=C,C)return void(BD=E);do if(CD[a+4>>2]|0){if(uP(E+784|0,0)|0,C=CD[5090]|0,RD[a+8>>2]=+(((CD[E+784+4>>2]|0)-(CD[C+4>>2]|0)+(((CD[E+784>>2]|0)-(CD[C>>2]|0)|0)*1e6|0)-(CD[a+12>>2]|0)|0)>>>0)/1e3+ +RD[a+8>>2],CD[a+16>>2]|0)return void(BD=E);a=CD[5104]|0;break}while(0);return CD[5104]=CD[a+20>>2],void(BD=E)}return(g|0)==28?(CD[E+784>>2]=7512,CD[E+784+168>>2]=0,RD[E+784+172>>2]=n,RD[E+784+164>>2]=+RD[o+4>>2],CD[E+288>>2]=19312,CD[E+288+4>>2]=0,CD[E+288+8>>2]=0,CD[E+288+12>>2]=t,CD[E+288+16>>2]=0,CD[E+288+20>>2]=C,((Pv(E+288|0,e,i,x,x,E+784|0)|0?(_=E+784+132|0,d=+RD[_>>2],h=+RD[E+784+136>>2],c=+RD[E+784+140>>2],d*d+h*h+c*c>9999999747378752e-20):0)?(l=+RD[E+784+164>>2],l<+RD[o+4>>2]):0)&&(L=1/+ND(+(d*d+h*h+c*c)),RD[_>>2]=d*L,RD[E+784+136>>2]=h*L,RD[E+784+140>>2]=c*L,CD[E+408>>2]=CD[r+8>>2],CD[E+408+4>>2]=0,CD[E+408+8>>2]=CD[_>>2],CD[E+408+8+4>>2]=CD[_+4>>2],CD[E+408+8+8>>2]=CD[_+8>>2],CD[E+408+8+12>>2]=CD[_+12>>2],CD[E+408+24>>2]=CD[E+784+148>>2],CD[E+408+24+4>>2]=CD[E+784+148+4>>2],CD[E+408+24+8>>2]=CD[E+784+148+8>>2],CD[E+408+24+12>>2]=CD[E+784+148+12>>2],RD[E+408+40>>2]=l,+FP[CD[(CD[o>>2]|0)+12>>2]&15](o,E+408|0,1)),void(BD=E)):(g|0)==21?(d=+RD[x>>2],u=+RD[x+16>>2],h=+RD[x+32>>2],c=+RD[x+4>>2],l=+RD[x+20>>2],s=+RD[x+36>>2],y=+RD[x+8>>2],b=+RD[x+24>>2],v=+RD[x+40>>2],M=-+RD[x+48>>2],S=-+RD[x+52>>2],T=-+RD[x+56>>2],p=+RD[e+48>>2],f=+RD[e+52>>2],m=+RD[e+56>>2],RD[E+392>>2]=d*M+u*S+h*T+(d*p+u*f+h*m),RD[E+392+4>>2]=c*M+l*S+s*T+(c*p+l*f+s*m),RD[E+392+8>>2]=y*M+b*S+v*T+(y*p+b*f+v*m),RD[E+392+12>>2]=0,m=+RD[i+48>>2],f=+RD[i+52>>2],p=+RD[i+56>>2],k=+RD[i>>2],A=+RD[i+16>>2],w=+RD[i+32>>2],R=+RD[i+4>>2],D=+RD[i+20>>2],P=+RD[i+36>>2],V=+RD[i+8>>2],B=+RD[i+24>>2],L=+RD[i+40>>2],RD[E+408>>2]=d*k+u*A+h*w,RD[E+408+4>>2]=d*R+u*D+h*P,RD[E+408+8>>2]=d*V+u*B+h*L,RD[E+408+12>>2]=0,RD[E+408+16>>2]=c*k+l*A+s*w,RD[E+408+20>>2]=c*R+l*D+s*P,RD[E+408+24>>2]=c*V+l*B+s*L,RD[E+408+28>>2]=0,RD[E+408+32>>2]=y*k+b*A+v*w,RD[E+408+36>>2]=y*R+b*D+v*P,RD[E+408+40>>2]=y*V+b*B+v*L,a=E+408+44|0,CD[a>>2]=0,CD[a+4>>2]=0,CD[a+8>>2]=0,CD[a+12>>2]=0,CD[a+16>>2]=0,a=CD[r+8>>2]|0,L=+VP[CD[(CD[C>>2]|0)+48>>2]&15](C),CD[E+16>>2]=17504,CD[E+16+4>>2]=t,CD[E+16+8>>2]=CD[e>>2],CD[E+16+8+4>>2]=CD[e+4>>2],CD[E+16+8+8>>2]=CD[e+8>>2],CD[E+16+8+12>>2]=CD[e+12>>2],CD[E+16+24>>2]=CD[e+16>>2],CD[E+16+24+4>>2]=CD[e+16+4>>2],CD[E+16+24+8>>2]=CD[e+16+8>>2],CD[E+16+24+12>>2]=CD[e+16+12>>2],CD[E+16+40>>2]=CD[e+32>>2],CD[E+16+40+4>>2]=CD[e+32+4>>2],CD[E+16+40+8>>2]=CD[e+32+8>>2],CD[E+16+40+12>>2]=CD[e+32+12>>2],CD[E+16+56>>2]=CD[e+48>>2],CD[E+16+56+4>>2]=CD[e+48+4>>2],CD[E+16+56+8>>2]=CD[e+48+8>>2],CD[E+16+56+12>>2]=CD[e+48+12>>2],CD[E+16+72>>2]=CD[i>>2],CD[E+16+72+4>>2]=CD[i+4>>2],CD[E+16+72+8>>2]=CD[i+8>>2],CD[E+16+72+12>>2]=CD[i+12>>2],CD[E+16+88>>2]=CD[i+16>>2],CD[E+16+88+4>>2]=CD[i+16+4>>2],CD[E+16+88+8>>2]=CD[i+16+8>>2],CD[E+16+88+12>>2]=CD[i+16+12>>2],CD[E+16+104>>2]=CD[i+32>>2],CD[E+16+104+4>>2]=CD[i+32+4>>2],CD[E+16+104+8>>2]=CD[i+32+8>>2],CD[E+16+104+12>>2]=CD[i+32+12>>2],CD[E+16+120>>2]=CD[i+48>>2],CD[E+16+120+4>>2]=CD[i+48+4>>2],CD[E+16+120+8>>2]=CD[i+48+8>>2],CD[E+16+120+12>>2]=CD[i+48+12>>2],CD[E+16+136>>2]=CD[x>>2],CD[E+16+136+4>>2]=CD[x+4>>2],CD[E+16+136+8>>2]=CD[x+8>>2],CD[E+16+136+12>>2]=CD[x+12>>2],CD[E+16+152>>2]=CD[x+16>>2],CD[E+16+152+4>>2]=CD[x+16+4>>2],CD[E+16+152+8>>2]=CD[x+16+8>>2],CD[E+16+152+12>>2]=CD[x+16+12>>2],CD[E+16+168>>2]=CD[x+32>>2],CD[E+16+168+4>>2]=CD[x+32+4>>2],CD[E+16+168+8>>2]=CD[x+32+8>>2],CD[E+16+168+12>>2]=CD[x+32+12>>2],CD[E+16+184>>2]=CD[x+48>>2],CD[E+16+184+4>>2]=CD[x+48+4>>2],CD[E+16+184+8>>2]=CD[x+48+8>>2],CD[E+16+184+12>>2]=CD[x+48+12>>2],RD[E+16+204>>2]=L,CD[E+16>>2]=9320,CD[E+16+212>>2]=o,CD[E+16+216>>2]=a,CD[E+16+220>>2]=C,RD[E+16+200>>2]=+RD[o+4>>2],RD[E+16+208>>2]=n,eB[CD[(CD[t>>2]|0)+8>>2]&127](t,E+408|0,E+768|0,E+960|0),a=CD[C+48>>2]|0,CD[E+784>>2]=12520,CD[E+784+4>>2]=a,CD[E+784+8>>2]=E+16,a=CD[C+52>>2]|0,TD[a+60>>0]|0?Lf(a,E+784|0,E+392|0,d*M+u*S+h*T+(d*m+u*f+h*p),c*M+l*S+s*T+(c*m+l*f+s*p),y*M+b*S+v*T+(y*m+b*f+v*p),E+768|0,E+960|0,CD[a+56>>2]|0):Vf(a,E+784|0,E+392|0,d*M+u*S+h*T+(d*m+u*f+h*p),c*M+l*S+s*T+(c*m+l*f+s*p),y*M+b*S+v*T+(y*m+b*f+v*p),E+768|0,E+960|0),void(BD=E)):(y=+RD[x>>2],b=+RD[x+16>>2],h=+RD[x+32>>2],A=+RD[x+4>>2],u=+RD[x+20>>2],w=+RD[x+36>>2],M=+RD[x+8>>2],T=+RD[x+24>>2],L=+RD[x+40>>2],V=-+RD[x+48>>2],P=-+RD[x+52>>2],D=-+RD[x+56>>2],d=+RD[e+48>>2],R=+RD[e+52>>2],s=+RD[e+56>>2],p=y*V+b*P+h*D+(y*d+b*R+h*s),f=A*V+u*P+w*D+(A*d+u*R+w*s),s=M*V+T*P+L*D+(M*d+T*R+L*s),R=+RD[i+48>>2],d=+RD[i+52>>2],m=+RD[i+56>>2],c=y*V+b*P+h*D+(y*R+b*d+h*m),l=A*V+u*P+w*D+(A*R+u*d+w*m),m=M*V+T*P+L*D+(M*R+T*d+L*m),d=+RD[i>>2],R=+RD[i+16>>2],D=+RD[i+32>>2],P=+RD[i+4>>2],V=+RD[i+20>>2],v=+RD[i+36>>2],S=+RD[i+8>>2],B=+RD[i+24>>2],k=+RD[i+40>>2],RD[E+784>>2]=y*d+b*R+h*D,RD[E+784+4>>2]=y*P+b*V+h*v,RD[E+784+8>>2]=y*S+b*B+h*k,RD[E+784+12>>2]=0,RD[E+784+16>>2]=A*d+u*R+w*D,RD[E+784+20>>2]=A*P+u*V+w*v,RD[E+784+24>>2]=A*S+u*B+w*k,RD[E+784+28>>2]=0,RD[E+784+32>>2]=M*d+T*R+L*D,RD[E+784+36>>2]=M*P+T*V+L*v,RD[E+784+40>>2]=M*S+T*B+L*k,a=E+784+44|0,CD[a>>2]=0,CD[a+4>>2]=0,CD[a+8>>2]=0,CD[a+12>>2]=0,CD[a+16>>2]=0,r=CD[r+8>>2]|0,k=+VP[CD[(CD[C>>2]|0)+48>>2]&15](C),CD[E+408>>2]=17504,CD[E+408+4>>2]=t,CD[E+408+8>>2]=CD[e>>2],CD[E+408+8+4>>2]=CD[e+4>>2],CD[E+408+8+8>>2]=CD[e+8>>2],CD[E+408+8+12>>2]=CD[e+12>>2],CD[E+408+24>>2]=CD[e+16>>2],CD[E+408+24+4>>2]=CD[e+16+4>>2],CD[E+408+24+8>>2]=CD[e+16+8>>2],CD[E+408+24+12>>2]=CD[e+16+12>>2],CD[E+408+40>>2]=CD[e+32>>2],CD[E+408+40+4>>2]=CD[e+32+4>>2],CD[E+408+40+8>>2]=CD[e+32+8>>2],CD[E+408+40+12>>2]=CD[e+32+12>>2],CD[E+408+56>>2]=CD[e+48>>2],CD[E+408+56+4>>2]=CD[e+48+4>>2],CD[E+408+56+8>>2]=CD[e+48+8>>2],CD[E+408+56+12>>2]=CD[e+48+12>>2],CD[E+408+72>>2]=CD[i>>2],CD[E+408+72+4>>2]=CD[i+4>>2],CD[E+408+72+8>>2]=CD[i+8>>2],CD[E+408+72+12>>2]=CD[i+12>>2],CD[E+408+88>>2]=CD[i+16>>2],CD[E+408+88+4>>2]=CD[i+16+4>>2],CD[E+408+88+8>>2]=CD[i+16+8>>2],CD[E+408+88+12>>2]=CD[i+16+12>>2],CD[E+408+104>>2]=CD[i+32>>2],CD[E+408+104+4>>2]=CD[i+32+4>>2],CD[E+408+104+8>>2]=CD[i+32+8>>2],CD[E+408+104+12>>2]=CD[i+32+12>>2],CD[E+408+120>>2]=CD[i+48>>2],CD[E+408+120+4>>2]=CD[i+48+4>>2],CD[E+408+120+8>>2]=CD[i+48+8>>2],CD[E+408+120+12>>2]=CD[i+48+12>>2],CD[E+408+136>>2]=CD[x>>2],CD[E+408+136+4>>2]=CD[x+4>>2],CD[E+408+136+8>>2]=CD[x+8>>2],CD[E+408+136+12>>2]=CD[x+12>>2],CD[E+408+152>>2]=CD[x+16>>2],CD[E+408+152+4>>2]=CD[x+16+4>>2],CD[E+408+152+8>>2]=CD[x+16+8>>2],CD[E+408+152+12>>2]=CD[x+16+12>>2],CD[E+408+168>>2]=CD[x+32>>2],CD[E+408+168+4>>2]=CD[x+32+4>>2],CD[E+408+168+8>>2]=CD[x+32+8>>2],CD[E+408+168+12>>2]=CD[x+32+12>>2],CD[E+408+184>>2]=CD[x+48>>2],CD[E+408+184+4>>2]=CD[x+48+4>>2],CD[E+408+184+8>>2]=CD[x+48+8>>2],CD[E+408+184+12>>2]=CD[x+48+12>>2],RD[E+408+204>>2]=k,CD[E+408>>2]=9096,CD[E+408+212>>2]=o,CD[E+408+216>>2]=r,CD[E+408+220>>2]=C,RD[E+408+200>>2]=+RD[o+4>>2],RD[E+408+208>>2]=n,eB[CD[(CD[t>>2]|0)+8>>2]&127](t,E+784|0,E+320|0,E),RD[E+352>>2]=p,RD[E+352+4>>2]=f,RD[E+352+8>>2]=s,RD[E+352+12>>2]=0,c<p?(RD[E+352>>2]=c,h=c):h=p,l<f?(RD[E+352+4>>2]=l,u=l):u=f,m<s?(RD[E+352+8>>2]=m,d=m):d=s,RD[E+336>>2]=p,RD[E+336+4>>2]=f,RD[E+336+8>>2]=s,RD[E+336+12>>2]=0,p<c?RD[E+336>>2]=c:c=p,f<l?RD[E+336+4>>2]=l:l=f,s<m&&(RD[E+336+8>>2]=m,s=m),RD[E+352>>2]=+RD[E+320>>2]+h,RD[E+352+4>>2]=+RD[E+320+4>>2]+u,RD[E+352+8>>2]=+RD[E+320+8>>2]+d,RD[E+336>>2]=+RD[E>>2]+c,RD[E+336+4>>2]=+RD[E+4>>2]+l,RD[E+336+8>>2]=+RD[E+8>>2]+s,eB[CD[(CD[C>>2]|0)+64>>2]&127](C,E+408|0,E+352|0,E+336|0),void(BD=E))}function CS(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0;p=BD,BD=BD+256|0,CD[p+32>>2]=8832,u=p+32+36|0,CD[u>>2]=CD[e>>2],CD[u+4>>2]=CD[e+4>>2],CD[u+8>>2]=CD[e+8>>2],CD[u+12>>2]=CD[e+12>>2],d=p+32+52|0,CD[d>>2]=CD[i>>2],CD[d+4>>2]=CD[i+4>>2],CD[d+8>>2]=CD[i+8>>2],CD[d+12>>2]=CD[i+12>>2],CD[p+32+212>>2]=t,CD[p+32+216>>2]=r,RD[p+32+68>>2]=1,CD[p+32+72>>2]=0,CD[p+32+72+4>>2]=0,CD[p+32+72+8>>2]=0,CD[p+32+72+12>>2]=0,RD[p+32+88>>2]=1,CD[p+32+92>>2]=0,CD[p+32+92+4>>2]=0,CD[p+32+92+8>>2]=0,CD[p+32+92+12>>2]=0,RD[p+32+108>>2]=1,CD[p+32+112>>2]=0,CD[p+32+116>>2]=CD[u>>2],CD[p+32+116+4>>2]=CD[u+4>>2],CD[p+32+116+8>>2]=CD[u+8>>2],CD[p+32+116+12>>2]=CD[u+12>>2],RD[p+32+132>>2]=1,CD[p+32+136>>2]=0,CD[p+32+136+4>>2]=0,CD[p+32+136+8>>2]=0,CD[p+32+136+12>>2]=0,RD[p+32+152>>2]=1,CD[p+32+156>>2]=0,CD[p+32+156+4>>2]=0,CD[p+32+156+8>>2]=0,CD[p+32+156+12>>2]=0,RD[p+32+172>>2]=1,CD[p+32+176>>2]=0,CD[p+32+180>>2]=CD[i>>2],CD[p+32+180+4>>2]=CD[i+4>>2],CD[p+32+180+8>>2]=CD[i+8>>2],CD[p+32+180+12>>2]=CD[i+12>>2],o=+RD[i>>2]-+RD[e>>2],n=+RD[i+4>>2]-+RD[e+4>>2],a=+RD[i+8>>2]-+RD[e+8>>2],s=1/+ND(+(o*o+n*n+a*a)),l=o*s==0?0xde0b6b000000000:1/(o*s),RD[p+32+4>>2]=l,c=n*s==0?0xde0b6b000000000:1/(n*s),RD[p+32+8>>2]=c,h=a*s==0?0xde0b6b000000000:1/(a*s),RD[p+32+12>>2]=h,CD[p+32+20>>2]=l<0&1,CD[p+32+24>>2]=c<0&1,CD[p+32+28>>2]=h<0&1,RD[p+32+32>>2]=o*s*(+RD[d>>2]-+RD[u>>2])+n*s*(+RD[p+32+56>>2]-+RD[p+32+40>>2])+a*s*(+RD[p+32+60>>2]-+RD[p+32+44>>2]),t=CD[t+68>>2]|0,r=CD[(CD[t>>2]|0)+24>>2]|0,CD[p+16>>2]=0,CD[p+16+4>>2]=0,CD[p+16+8>>2]=0,CD[p+16+12>>2]=0,CD[p>>2]=0,CD[p+4>>2]=0,CD[p+8>>2]=0,CD[p+12>>2]=0,PP[r&7](t,e,i,p+32|0,p+16|0,p),BD=p
}function ES(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n=+n;var a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0;if(f=BD,BD=BD+416|0,cM(8440),CD[f+16>>2]=CD[i>>2],CD[f+16+4>>2]=CD[i+4>>2],CD[f+16+8>>2]=CD[i+8>>2],CD[f+16+12>>2]=CD[i+12>>2],CD[f+16+16>>2]=CD[i+16>>2],CD[f+16+16+4>>2]=CD[i+16+4>>2],CD[f+16+16+8>>2]=CD[i+16+8>>2],CD[f+16+16+12>>2]=CD[i+16+12>>2],CD[f+16+32>>2]=CD[i+32>>2],CD[f+16+32+4>>2]=CD[i+32+4>>2],CD[f+16+32+8>>2]=CD[i+32+8>>2],CD[f+16+32+12>>2]=CD[i+32+12>>2],p=f+16+48|0,CD[p>>2]=CD[i+48>>2],CD[p+4>>2]=CD[i+48+4>>2],CD[p+8>>2]=CD[i+48+8>>2],CD[p+12>>2]=CD[i+48+12>>2],CD[f+80>>2]=CD[r>>2],CD[f+80+4>>2]=CD[r+4>>2],CD[f+80+8>>2]=CD[r+8>>2],CD[f+80+12>>2]=CD[r+12>>2],CD[f+80+16>>2]=CD[r+16>>2],CD[f+80+16+4>>2]=CD[r+16+4>>2],CD[f+80+16+8>>2]=CD[r+16+8>>2],CD[f+80+16+12>>2]=CD[r+16+12>>2],CD[f+80+32>>2]=CD[r+32>>2],CD[f+80+32+4>>2]=CD[r+32+4>>2],CD[f+80+32+8>>2]=CD[r+32+8>>2],CD[f+80+32+12>>2]=CD[r+32+12>>2],d=f+80+48|0,CD[d>>2]=CD[r+48>>2],CD[d+4>>2]=CD[r+48+4>>2],CD[d+8>>2]=CD[r+48+8>>2],CD[d+12>>2]=CD[r+48+12>>2],e_(f+16|0,f+80|0,f+200|0,f+160|0),m=+RD[f+160>>2],a=m*+RD[f+200+4>>2],h=m*+RD[f+200+8>>2],RD[f+144>>2]=+RD[f+200>>2]*m,RD[f+144+4>>2]=a,RD[f+144+8>>2]=h,RD[f+144+12>>2]=0,CD[f+184>>2]=0,CD[f+184+4>>2]=0,CD[f+184+8>>2]=0,CD[f+184+12>>2]=0,CD[f+200+4>>2]=0,CD[f+200+4+4>>2]=0,CD[f+200+24>>2]=0,CD[f+200+24+4>>2]=0,_=f+200+44|0,CD[_>>2]=0,CD[_+4>>2]=0,CD[_+8>>2]=0,CD[_+12>>2]=0,CD[_+16>>2]=0,qf(f+16|0,f+168|0),h=+RD[f+168>>2],a=+RD[f+168+4>>2],m=+RD[f+168+8>>2],c=+RD[f+168+12>>2],s=h*(2/(h*h+a*a+m*m+c*c)),u=a*(2/(h*h+a*a+m*m+c*c)),l=m*(2/(h*h+a*a+m*m+c*c)),RD[f+200>>2]=1-(a*u+m*l),RD[f+200+4>>2]=h*u-c*l,RD[f+200+8>>2]=h*l+c*u,RD[f+200+12>>2]=0,RD[f+200+16>>2]=h*u+c*l,RD[f+200+20>>2]=1-(h*s+m*l),RD[f+200+24>>2]=a*l-c*s,RD[f+200+28>>2]=0,RD[f+200+32>>2]=h*l-c*u,RD[f+200+36>>2]=a*l+c*s,RD[f+200+40>>2]=1-(h*s+a*u),RD[_>>2]=0,Kd(e,f+200|0,f+184|0,f+144|0,f+400|0,f),CD[f+200>>2]=8720,CD[f+200+36>>2]=CD[i>>2],CD[f+200+36+4>>2]=CD[i+4>>2],CD[f+200+36+8>>2]=CD[i+8>>2],CD[f+200+36+12>>2]=CD[i+12>>2],CD[f+200+52>>2]=CD[i+16>>2],CD[f+200+52+4>>2]=CD[i+16+4>>2],CD[f+200+52+8>>2]=CD[i+16+8>>2],CD[f+200+52+12>>2]=CD[i+16+12>>2],CD[f+200+68>>2]=CD[i+32>>2],CD[f+200+68+4>>2]=CD[i+32+4>>2],CD[f+200+68+8>>2]=CD[i+32+8>>2],CD[f+200+68+12>>2]=CD[i+32+12>>2],_=f+200+84|0,CD[_>>2]=CD[i+48>>2],CD[_+4>>2]=CD[i+48+4>>2],CD[_+8>>2]=CD[i+48+8>>2],CD[_+12>>2]=CD[i+48+12>>2],CD[f+200+100>>2]=CD[r>>2],CD[f+200+100+4>>2]=CD[r+4>>2],CD[f+200+100+8>>2]=CD[r+8>>2],CD[f+200+100+12>>2]=CD[r+12>>2],CD[f+200+116>>2]=CD[r+16>>2],CD[f+200+116+4>>2]=CD[r+16+4>>2],CD[f+200+116+8>>2]=CD[r+16+8>>2],CD[f+200+116+12>>2]=CD[r+16+12>>2],CD[f+200+132>>2]=CD[r+32>>2],CD[f+200+132+4>>2]=CD[r+32+4>>2],CD[f+200+132+8>>2]=CD[r+32+8>>2],CD[f+200+132+12>>2]=CD[r+32+12>>2],i=f+200+148|0,CD[i>>2]=CD[r+48>>2],CD[i+4>>2]=CD[r+48+4>>2],CD[i+8>>2]=CD[r+48+8>>2],CD[i+12>>2]=CD[r+48+12>>2],CD[f+200+180>>2]=t,CD[f+200+184>>2]=o,RD[f+200+188>>2]=n,CD[f+200+192>>2]=e,u=+RD[i>>2]-+RD[_>>2],n=+RD[f+200+152>>2]-+RD[f+200+88>>2],a=+RD[f+200+156>>2]-+RD[f+200+92>>2],s=1/+ND(+(u*u+n*n+a*a)),l=u*s==0?0xde0b6b000000000:1/(u*s),RD[f+200+4>>2]=l,c=n*s==0?0xde0b6b000000000:1/(n*s),RD[f+200+8>>2]=c,h=a*s==0?0xde0b6b000000000:1/(a*s),RD[f+200+12>>2]=h,CD[f+200+20>>2]=l<0&1,CD[f+200+24>>2]=c<0&1,CD[f+200+28>>2]=h<0&1,RD[f+200+32>>2]=a*a*s+(u*u*s+n*n*s),e=CD[t+68>>2]|0,PP[CD[(CD[e>>2]|0)+24>>2]&7](e,p,d,f+200|0,f+400|0,f),e=CD[5104]|0,p=(CD[e+16>>2]|0)+-1|0,CD[e+16>>2]=p,p)return void(BD=f);do if(CD[e+4>>2]|0){if(uP(f+200|0,0)|0,p=CD[5090]|0,RD[e+8>>2]=+(((CD[f+200+4>>2]|0)-(CD[p+4>>2]|0)+(((CD[f+200>>2]|0)-(CD[p>>2]|0)|0)*1e6|0)-(CD[e+12>>2]|0)|0)>>>0)/1e3+ +RD[e+8>>2],CD[e+16>>2]|0)return void(BD=f);e=CD[5104]|0;break}while(0);CD[5104]=CD[e+20>>2],BD=f}function AS(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0;return o=BD,BD=BD+96|0,n=CD[e+192>>2]|0,CD[o+64>>2]=0,CD[o+64+4>>2]=n,CD[o+64+8>>2]=e,CD[o+64+12>>2]=e+4,CD[o+64+16>>2]=-1,CD[o+64+20>>2]=-1,e=CD[i+192>>2]|0,CD[o+40>>2]=0,CD[o+40+4>>2]=e,CD[o+40+8>>2]=i,CD[o+40+12>>2]=i+4,CD[o+40+16>>2]=-1,CD[o+40+20>>2]=-1,e=CD[t+24>>2]|0,(e=CP[CD[(CD[e>>2]|0)+8>>2]&31](e,o+64|0,o+40|0,0)|0)?(CD[o+4>>2]=0,CD[o+8>>2]=o+64,CD[o+12>>2]=o+40,CD[o>>2]=8600,CD[o+32>>2]=r,_P[CD[(CD[e>>2]|0)+8>>2]&31](e,o+64|0,o+40|0,t+28|0,o),gP[CD[CD[e>>2]>>2]&255](e),n=CD[t+24>>2]|0,bP[CD[(CD[n>>2]|0)+60>>2]&127](n,e),void(BD=o)):void(BD=o)}function wS(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0;switch(_=BD,BD=BD+480|0,o=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,$P[CD[(CD[o>>2]|0)+56>>2]&7](o,e,1),o=CD[i+4>>2]|0,o|0){case 0:return CD[_+224>>2]=CD[i+28>>2],CD[_+224+4>>2]=CD[i+28+4>>2],CD[_+224+8>>2]=CD[i+28+8>>2],CD[_+224+12>>2]=CD[i+28+12>>2],n=+VP[CD[(CD[i>>2]|0)+48>>2]&15](i),a=+VP[CD[(CD[i>>2]|0)+48>>2]&15](i),s=+VP[CD[(CD[i>>2]|0)+48>>2]&15](i),n+=+RD[_+224>>2],RD[_+224>>2]=n,a+=+RD[_+224+4>>2],RD[_+224+4>>2]=a,s+=+RD[_+224+8>>2],RD[_+224+8>>2]=s,t=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,i=CD[(CD[t>>2]|0)+72>>2]|0,RD[_+160>>2]=-n,RD[_+160+4>>2]=-a,RD[_+160+8>>2]=-s,RD[_+160+12>>2]=0,_P[i&31](t,_+160|0,_+224|0,e,r),void(BD=_);case 11:return a=+RD[i+56>>2],s=+RD[i+60>>2],i=CD[i+68>>2]|0,t=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,TP[CD[(CD[t>>2]|0)+84>>2]&0](t,a,s,i,e,r),void(BD=_);case 9:if(o=CD[i+92>>2]|0,(o|0)<=0)return void(BD=_);do f=o,o=o+-1|0,p=CD[i+100>>2]|0,A=+RD[p+(o<<4)>>2],E=+RD[p+(o<<4)+4>>2],a=+RD[p+(o<<4)+8>>2],p=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,d=CD[(CD[p>>2]|0)+16>>2]|0,s=+RD[(CD[i+120>>2]|0)+(o<<2)>>2],x=+RD[e>>2],T=+RD[e+4>>2],C=+RD[e+8>>2],M=+RD[e+16>>2],v=+RD[e+20>>2],S=+RD[e+24>>2],y=+RD[e+32>>2],g=+RD[e+36>>2],b=+RD[e+40>>2],m=A*x+E*T+a*C+ +RD[e+48>>2],n=A*M+E*v+a*S+ +RD[e+52>>2],a=A*y+E*g+a*b+ +RD[e+56>>2],RD[_+80>>2]=x+T*0+C*0,RD[_+80+4>>2]=x*0+T+C*0,RD[_+80+8>>2]=C+(x*0+T*0),RD[_+80+12>>2]=0,RD[_+80+16>>2]=M+v*0+S*0,RD[_+80+20>>2]=M*0+v+S*0,RD[_+80+24>>2]=S+(M*0+v*0),RD[_+80+28>>2]=0,RD[_+80+32>>2]=y+g*0+b*0,RD[_+80+36>>2]=y*0+g+b*0,RD[_+80+40>>2]=b+(y*0+g*0),RD[_+80+44>>2]=0,RD[_+80+48>>2]=m,RD[_+80+52>>2]=n,RD[_+80+56>>2]=a,RD[_+80+60>>2]=0,xP[d&0](p,s,_+80|0,r);while((f|0)>1);return void(BD=_);case 13:return f=CD[i+52>>2]|0,S=+VP[CD[(CD[i>>2]|0)+92>>2]&15](i),CD[_+16>>2]=CD[i+28>>2],CD[_+16+4>>2]=CD[i+28+4>>2],CD[_+16+8>>2]=CD[i+28+8>>2],CD[_+16+12>>2]=CD[i+28+12>>2],v=+VP[CD[(CD[i>>2]|0)+48>>2]&15](i),M=+VP[CD[(CD[i>>2]|0)+48>>2]&15](i),A=+VP[CD[(CD[i>>2]|0)+48>>2]&15](i),RD[_+16>>2]=v+ +RD[_+16>>2],RD[_+16+4>>2]=M+ +RD[_+16+4>>2],RD[_+16+8>>2]=A+ +RD[_+16+8>>2],A=+RD[_+16+(f<<2)>>2],t=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,TP[CD[(CD[t>>2]|0)+80>>2]&0](t,S,A,f,e,r),void(BD=_);case 31:if(o=CD[i+16>>2]|0,(o|0)<=0)return void(BD=_);do f=o,o=o+-1|0,p=CD[i+24>>2]|0,n=+RD[p+(o*80|0)>>2],m=+RD[p+(o*80|0)+4>>2],g=+RD[p+(o*80|0)+8>>2],x=+RD[p+(o*80|0)+16>>2],a=+RD[p+(o*80|0)+20>>2],E=+RD[p+(o*80|0)+24>>2],T=+RD[p+(o*80|0)+32>>2],C=+RD[p+(o*80|0)+36>>2],b=+RD[p+(o*80|0)+40>>2],k=+RD[p+(o*80|0)+48>>2],L=+RD[p+(o*80|0)+52>>2],A=+RD[p+(o*80|0)+56>>2],p=CD[p+(o*80|0)+64>>2]|0,d=CD[(CD[t>>2]|0)+28>>2]|0,V=+RD[e>>2],B=+RD[e+4>>2],P=+RD[e+8>>2],D=+RD[e+16>>2],R=+RD[e+20>>2],w=+RD[e+24>>2],s=+RD[e+32>>2],y=+RD[e+36>>2],v=+RD[e+40>>2],M=k*V+L*B+A*P+ +RD[e+48>>2],S=k*D+L*R+A*w+ +RD[e+52>>2],A=k*s+L*y+A*v+ +RD[e+56>>2],RD[_+400>>2]=n*V+x*B+T*P,RD[_+400+4>>2]=m*V+a*B+C*P,RD[_+400+8>>2]=g*V+E*B+b*P,RD[_+400+12>>2]=0,RD[_+400+16>>2]=n*D+x*R+T*w,RD[_+400+20>>2]=m*D+a*R+C*w,RD[_+400+24>>2]=g*D+E*R+b*w,RD[_+400+28>>2]=0,RD[_+400+32>>2]=n*s+x*y+T*v,RD[_+400+36>>2]=m*s+a*y+C*v,RD[_+400+40>>2]=g*s+E*y+b*v,RD[_+400+44>>2]=0,RD[_+400+48>>2]=M,RD[_+400+52>>2]=S,RD[_+400+56>>2]=A,RD[_+400+60>>2]=0,eB[d&127](t,_+400|0,p,r);while((f|0)>1);return void(BD=_);case 28:return k=+RD[i+64>>2],t=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,HP[CD[(CD[t>>2]|0)+88>>2]&0](t,i+48|0,k,e,r),void(BD=_);case 8:return k=+VP[CD[(CD[i>>2]|0)+48>>2]&15](i),t=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,xP[CD[(CD[t>>2]|0)+16>>2]&0](t,k,e,r),void(BD=_);case 10:return f=CD[i+52>>2]|0,L=+RD[i+28+(((f+2|0)%3|0)<<2)>>2],k=+RD[i+28+(f<<2)>>2],t=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,TP[CD[(CD[t>>2]|0)+76>>2]&0](t,L,k,f,e,r),void(BD=_);default:t:do if((o|0)<7){if(p=CD[i+52>>2]|0,!p){if((MP[CD[(CD[i>>2]|0)+100>>2]&127](i)|0)<=0)break;for(o=0;;)if(eB[CD[(CD[i>>2]|0)+104>>2]&127](i,o,_+144|0,_+176|0),V=+RD[_+144>>2],E=+RD[e>>2],P=+RD[_+144+4>>2],y=+RD[e+4>>2],R=+RD[_+144+8>>2],b=+RD[e+8>>2],M=+RD[e+16>>2],S=+RD[e+20>>2],A=+RD[e+24>>2],D=+RD[e+32>>2],B=+RD[e+36>>2],L=+RD[e+40>>2],v=+RD[e+48>>2],w=+RD[e+52>>2],k=+RD[e+56>>2],RD[_+192>>2]=V*E+P*y+R*b+v,RD[_+192+4>>2]=V*M+P*S+R*A+w,RD[_+192+8>>2]=V*D+P*B+R*L+k,RD[_+192+12>>2]=0,R=+RD[_+176>>2],P=+RD[_+176+4>>2],V=+RD[_+176+8>>2],RD[_>>2]=R*E+P*y+V*b+v,RD[_+4>>2]=R*M+P*S+V*A+w,RD[_+8>>2]=R*D+P*B+V*L+k,RD[_+12>>2]=0,f=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,eB[CD[(CD[f>>2]|0)+8>>2]&127](f,_+192|0,_,r),o=o+1|0,(o|0)>=(MP[CD[(CD[i>>2]|0)+100>>2]&127](i)|0))break t}if((CD[p+28>>2]|0)>0){f=0;do{o=CD[p+36>>2]|0,d=CD[o+(f*36|0)+4>>2]|0;e:do if((d|0)>0)for(h=CD[o+(f*36|0)+12>>2]|0,l=h,s=0,a=0,n=0,h=CD[h+(d+-1<<2)>>2]|0,o=0;;){if(u=CD[l+(o<<2)>>2]|0,c=CD[p+16>>2]|0,s+=+RD[c+(u<<4)>>2],a+=+RD[c+(u<<4)+4>>2],n+=+RD[c+(u<<4)+8>>2],c=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,l=CD[(CD[c>>2]|0)+8>>2]|0,H=CD[p+16>>2]|0,V=+RD[H+(h<<4)>>2],E=+RD[e>>2],P=+RD[H+(h<<4)+4>>2],y=+RD[e+4>>2],R=+RD[H+(h<<4)+8>>2],b=+RD[e+8>>2],M=+RD[e+16>>2],S=+RD[e+20>>2],A=+RD[e+24>>2],D=+RD[e+32>>2],B=+RD[e+36>>2],L=+RD[e+40>>2],v=+RD[e+48>>2],w=+RD[e+52>>2],k=+RD[e+56>>2],RD[_+32>>2]=V*E+P*y+R*b+v,RD[_+32+4>>2]=V*M+P*S+R*A+w,RD[_+32+8>>2]=V*D+P*B+R*L+k,RD[_+32+12>>2]=0,R=+RD[H+(u<<4)>>2],P=+RD[H+(u<<4)+4>>2],V=+RD[H+(u<<4)+8>>2],RD[_+240>>2]=R*E+P*y+V*b+v,RD[_+240+4>>2]=R*M+P*S+V*A+w,RD[_+240+8>>2]=R*D+P*B+V*L+k,RD[_+240+12>>2]=0,eB[l&127](c,_+32|0,_+240|0,r),c=o+1|0,o=CD[p+36>>2]|0,(c|0)>=(CD[o+(f*36|0)+4>>2]|0))break e;l=CD[o+(f*36|0)+12>>2]|0,h=u,o=c}else s=0,a=0,n=0;while(0);s*=1/+(d|0),a*=1/+(d|0),n*=1/+(d|0),H=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,(MP[CD[(CD[H>>2]|0)+48>>2]&127](H)|0)&16384&&(RD[_+352>>2]=1,RD[_+352+4>>2]=1,RD[_+352+8>>2]=0,RD[_+352+12>>2]=0,H=CD[p+36>>2]|0,R=+RD[H+(f*36|0)+20>>2],P=+RD[H+(f*36|0)+24>>2],V=+RD[H+(f*36|0)+28>>2],H=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,d=CD[(CD[H>>2]|0)+8>>2]|0,E=+RD[e>>2],y=+RD[e+4>>2],b=+RD[e+8>>2],M=+RD[e+16>>2],S=+RD[e+20>>2],A=+RD[e+24>>2],D=+RD[e+32>>2],B=+RD[e+36>>2],L=+RD[e+40>>2],v=+RD[e+48>>2],w=+RD[e+52>>2],k=+RD[e+56>>2],RD[_+384>>2]=s*E+a*y+n*b+v,RD[_+384+4>>2]=s*M+a*S+n*A+w,RD[_+384+8>>2]=s*D+a*B+n*L+k,RD[_+384+12>>2]=0,RD[_+464>>2]=(s+R)*E+(a+P)*y+(n+V)*b+v,RD[_+464+4>>2]=(s+R)*M+(a+P)*S+(n+V)*A+w,RD[_+464+8>>2]=(s+R)*D+(a+P)*B+(n+V)*L+k,RD[_+464+12>>2]=0,eB[d&127](H,_+384|0,_+464|0,_+352|0)),f=f+1|0}while((f|0)<(CD[p+28>>2]|0))}}while(0);return o=CD[i+4>>2]|0,(o+-21|0)>>>0<9&&(RD[_+208>>2]=0xde0b6b000000000,RD[_+208+4>>2]=0xde0b6b000000000,RD[_+208+8>>2]=0xde0b6b000000000,RD[_+208+12>>2]=0,RD[_+48>>2]=-0xde0b6b000000000,RD[_+48+4>>2]=-0xde0b6b000000000,RD[_+48+8>>2]=-0xde0b6b000000000,RD[_+48+12>>2]=0,o=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,CD[_+256>>2]=8496,CD[_+256+4>>2]=8520,CD[_+256+8>>2]=o,CD[_+256+12>>2]=CD[r>>2],CD[_+256+12+4>>2]=CD[r+4>>2],CD[_+256+12+8>>2]=CD[r+8>>2],CD[_+256+12+12>>2]=CD[r+12>>2],CD[_+256+28>>2]=CD[e>>2],CD[_+256+28+4>>2]=CD[e+4>>2],CD[_+256+28+8>>2]=CD[e+8>>2],CD[_+256+28+12>>2]=CD[e+12>>2],CD[_+256+44>>2]=CD[e+16>>2],CD[_+256+44+4>>2]=CD[e+16+4>>2],CD[_+256+44+8>>2]=CD[e+16+8>>2],CD[_+256+44+12>>2]=CD[e+16+12>>2],CD[_+256+60>>2]=CD[e+32>>2],CD[_+256+60+4>>2]=CD[e+32+4>>2],CD[_+256+60+8>>2]=CD[e+32+8>>2],CD[_+256+60+12>>2]=CD[e+32+12>>2],CD[_+256+76>>2]=CD[e+48>>2],CD[_+256+76+4>>2]=CD[e+48+4>>2],CD[_+256+76+8>>2]=CD[e+48+8>>2],CD[_+256+76+12>>2]=CD[e+48+12>>2],eB[CD[(CD[i>>2]|0)+64>>2]&127](i,_+256|0,_+48|0,_+208|0),o=CD[i+4>>2]|0),(o|0)!=3?void(BD=_):(RD[_+64>>2]=0xde0b6b000000000,RD[_+64+4>>2]=0xde0b6b000000000,RD[_+64+8>>2]=0xde0b6b000000000,RD[_+64+12>>2]=0,RD[_+368>>2]=-0xde0b6b000000000,RD[_+368+4>>2]=-0xde0b6b000000000,RD[_+368+8>>2]=-0xde0b6b000000000,RD[_+368+12>>2]=0,H=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,CD[_+256>>2]=8496,CD[_+256+4>>2]=8520,CD[_+256+8>>2]=H,CD[_+256+12>>2]=CD[r>>2],CD[_+256+12+4>>2]=CD[r+4>>2],CD[_+256+12+8>>2]=CD[r+8>>2],CD[_+256+12+12>>2]=CD[r+12>>2],CD[_+256+28>>2]=CD[e>>2],CD[_+256+28+4>>2]=CD[e+4>>2],CD[_+256+28+8>>2]=CD[e+8>>2],CD[_+256+28+12>>2]=CD[e+12>>2],CD[_+256+44>>2]=CD[e+16>>2],CD[_+256+44+4>>2]=CD[e+16+4>>2],CD[_+256+44+8>>2]=CD[e+16+8>>2],CD[_+256+44+12>>2]=CD[e+16+12>>2],CD[_+256+60>>2]=CD[e+32>>2],CD[_+256+60+4>>2]=CD[e+32+4>>2],CD[_+256+60+8>>2]=CD[e+32+8>>2],CD[_+256+60+12>>2]=CD[e+32+12>>2],CD[_+256+76>>2]=CD[e+48>>2],CD[_+256+76+4>>2]=CD[e+48+4>>2],CD[_+256+76+8>>2]=CD[e+48+8>>2],CD[_+256+76+12>>2]=CD[e+48+12>>2],e=CD[i+92>>2]|0,eB[CD[(CD[e>>2]|0)+8>>2]&127](e,_+256+4|0,_+368|0,_+64|0),void(BD=_))}}function RS(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0;if(p=BD,BD=BD+112|0,((MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0)!=0?(d=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,((MP[CD[(CD[d>>2]|0)+48>>2]&127](d)|0)&8|0)!=0):0)?(i=CD[t+24>>2]|0,i=MP[CD[(CD[i>>2]|0)+36>>2]&127](i)|0,RD[p+32>>2]=1,RD[p+32+4>>2]=1,RD[p+32+8>>2]=0,RD[p+32+12>>2]=0,(i|0)>0):0)for(n=0;;){if(r=CD[t+24>>2]|0,r=NP[CD[(CD[r>>2]|0)+40>>2]&31](r,n)|0,o=CD[r+748>>2]|0,(o|0)>0)for(a=0;;){if(d=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,yP[CD[(CD[d>>2]|0)+32>>2]&0](d,r+4+(a*184|0)+32|0,r+4+(a*184|0)+64|0,+RD[r+4+(a*184|0)+80>>2],CD[r+4+(a*184|0)+148>>2]|0,p+32|0),(a|0)==(o+-1|0))break;a=a+1|0}if((n|0)==(i+-1|0))break;n=n+1|0}if(!(MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0))return void(BD=p);if(d=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,!((MP[CD[(CD[d>>2]|0)+48>>2]&127](d)|0)&3))return void(BD=p);if((CD[t+8>>2]|0)<=0)return void(BD=p);o=p+64+4|0,r=p+64+8|0,i=p+64+12|0,d=0;do{if(n=CD[(CD[t+16>>2]|0)+(d<<2)>>2]|0,!(CD[n+204>>2]&32)){if((MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0)!=0?(a=MP[CD[(CD[t>>2]|0)+20>>2]&127](t)|0,((MP[CD[(CD[a>>2]|0)+48>>2]&127](a)|0)&1|0)!=0):0){switch(RD[p+64>>2]=1,RD[o>>2]=1,RD[r>>2]=1,RD[i>>2]=0,CD[n+216>>2]|0){case 4:RD[p+64>>2]=1,RD[o>>2]=0,RD[r>>2]=0,RD[i>>2]=0;break;case 5:RD[p+64>>2]=1,RD[o>>2]=1,RD[r>>2]=0,RD[i>>2]=0;break;case 1:RD[p+64>>2]=1,RD[o>>2]=1,RD[r>>2]=1,RD[i>>2]=0;break;case 2:RD[p+64>>2]=0,RD[o>>2]=1,RD[r>>2]=0,RD[i>>2]=0;break;case 3:RD[p+64>>2]=0,RD[o>>2]=1,RD[r>>2]=1,RD[i>>2]=0;break;default:RD[p+64>>2]=1,RD[o>>2]=0,RD[r>>2]=0,RD[i>>2]=0}eB[CD[(CD[t>>2]|0)+28>>2]&127](t,n+4|0,CD[n+192>>2]|0,p+64|0)}if(a=CD[t+72>>2]|0,(a|0)!=0?((MP[CD[(CD[a>>2]|0)+48>>2]&127](a)|0)&2|0)!=0:0){RD[p+16>>2]=1,RD[p+16+4>>2]=0,RD[p+16+8>>2]=0,RD[p+16+12>>2]=0,a=CD[n+192>>2]|0,eB[CD[(CD[a>>2]|0)+8>>2]&127](a,n+4|0,p+80|0,p+96|0),RD[p+80>>2]=+RD[p+80>>2]+-.019999999552965164,RD[p+80+4>>2]=+RD[p+80+4>>2]+-.019999999552965164,RD[p+80+8>>2]=+RD[p+80+8>>2]+-.019999999552965164,RD[p+96>>2]=+RD[p+96>>2]+.019999999552965164,RD[p+96+4>>2]=+RD[p+96+4>>2]+.019999999552965164,RD[p+96+8>>2]=+RD[p+96+8>>2]+.019999999552965164;do if(((TD[t+44>>0]|0)!=0?(CD[n+236>>2]|0)==2:0)?(CD[n+204>>2]&3|0)==0:0){if(a=CD[n+192>>2]|0,eB[CD[(CD[a>>2]|0)+8>>2]&127](a,n+68|0,p,p+48|0),e=+RD[p>>2]+-.019999999552965164,RD[p>>2]=e,s=+RD[p+4>>2]+-.019999999552965164,RD[p+4>>2]=s,l=+RD[p+8>>2]+-.019999999552965164,RD[p+8>>2]=l,c=+RD[p+48>>2]+.019999999552965164,RD[p+48>>2]=c,h=+RD[p+48+4>>2]+.019999999552965164,RD[p+48+4>>2]=h,u=+RD[p+48+8>>2]+.019999999552965164,RD[p+48+8>>2]=u,e<+RD[p+80>>2]&&(RD[p+80>>2]=e),s<+RD[p+80+4>>2]&&(RD[p+80+4>>2]=s),l<+RD[p+80+8>>2]&&(RD[p+80+8>>2]=l),e=+RD[p+12>>2],e<+RD[p+80+12>>2]&&(RD[p+80+12>>2]=e),+RD[p+96>>2]<c&&(RD[p+96>>2]=c),+RD[p+96+4>>2]<h&&(RD[p+96+4>>2]=h),+RD[p+96+8>>2]<u&&(RD[p+96+8>>2]=u),e=+RD[p+48+12>>2],!(+RD[p+96+12>>2]<e))break;RD[p+96+12>>2]=e}while(0);a=CD[t+72>>2]|0,eB[CD[(CD[a>>2]|0)+52>>2]&127](a,p+80|0,p+96|0,p+16|0)}}d=d+1|0}while((d|0)<(CD[t+8>>2]|0));BD=p}function DS(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0;if(b=BD,BD=BD+80|0,i=CD[t+8>>2]|0,(i|0)>0){o=0;do r=CD[(CD[t+16>>2]|0)+(o<<2)>>2]|0,(CD[r+236>>2]|0)==1&&(bP[CD[(CD[r>>2]|0)+24>>2]&127](r,e),i=CD[t+8>>2]|0),o=o+1|0;while((o|0)<(i|0))}if(TD[b+16>>0]=1,CD[b+12>>2]=0,CD[b+4>>2]=0,CD[b+8>>2]=0,TD[b+36>>0]=1,CD[b+32>>2]=0,CD[b+24>>2]=0,CD[b+28>>2]=0,TD[b+56>>0]=1,CD[b+52>>2]=0,CD[b+44>>2]=0,CD[b+48>>2]=0,TD[b+76>>0]=1,CD[b+72>>2]=0,CD[b+64>>2]=0,CD[b+68>>2]=0,(i|0)<=0)return p_(b),void(BD=b);for(u=0,s=0,n=0,r=0,f=0;;){p=CD[(CD[(CD[t+16>>2]|0)+(f<<2)>>2]|0)+192>>2]|0,d=(p+~(p<<15)>>10^p+~(p<<15))*9|0,d=(d>>6^d)+~((d>>6^d)<<11)>>16^(d>>6^d)+~((d>>6^d)<<11),h=u+-1|0,o=(d&h)>>>0<s>>>0;t:do if(o){if(s=CD[n+((d&h)<<2)>>2]|0,(s|0)!=-1){for(l=CD[b+72>>2]|0;;){if((p|0)==(CD[l+(s<<3)>>2]|0)){c=13;break}if(a=CD[r+(s<<2)>>2]|0,(a|0)==-1)break;s=a}if((c|0)==13?(c=0,((CD[b+52>>2]|0)+(s<<2)|0)!=0):0){o=u;break}if(!o){c=20;break}}if(o=CD[n+((d&h)<<2)>>2]|0,(o|0)!=-1){for(a=CD[b+72>>2]|0;;){if((p|0)==(CD[a+(o<<3)>>2]|0))break;if(o=CD[r+(o<<2)>>2]|0,(o|0)==-1){c=20;break t}}CD[(CD[b+52>>2]|0)+(o<<2)>>2]=p,o=u,c=105}else c=20}else c=20;while(0);if((c|0)==20){if(c=CD[b+44>>2]|0,(c|0)==(u|0))if(a=(u|0)==0?1:u<<1,(u|0)<(a|0)){if(((a|0)!=0?(CD[5108]=(CD[5108]|0)+1,y=Aw((a<<2|3)+16|0)|0,(y|0)!=0):0)?(CD[(y+4+15&-16)+-4>>2]=y,r=y+4+15&-16):r=0,(u|0)>0)for(o=0;;){if(n=r+(o<<2)|0,n&&(CD[n>>2]=CD[(CD[b+52>>2]|0)+(o<<2)>>2]),(o|0)==(h|0))break;o=o+1|0}o=CD[b+52>>2]|0,o&&(TD[b+56>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[o+-4>>2]|0)),CD[b+52>>2]=0),TD[b+56>>0]=1,CD[b+52>>2]=r,CD[b+48>>2]=a,r=u}else r=u;else r=c;if(o=(CD[b+52>>2]|0)+(r<<2)|0,o&&(CD[o>>2]=p),CD[b+44>>2]=r+1,o=CD[b+64>>2]|0,(o|0)==(CD[b+68>>2]|0)?(_=(o|0)==0?1:o<<1,(o|0)<(_|0)):0){if(((_|0)!=0?(CD[5108]=(CD[5108]|0)+1,m=Aw((_<<3|3)+16|0)|0,(m|0)!=0):0)?(CD[(m+4+15&-16)+-4>>2]=m,a=m+4+15&-16):a=0,(o|0)>0)for(r=0;;){if(n=a+(r<<3)|0,n&&(s=(CD[b+72>>2]|0)+(r<<3)|0,l=CD[s+4>>2]|0,CD[n>>2]=CD[s>>2],CD[n+4>>2]=l),(r|0)==(o+-1|0))break;r=r+1|0}o=CD[b+72>>2]|0,o&&(TD[b+76>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[o+-4>>2]|0)),CD[b+72>>2]=0),TD[b+76>>0]=1,CD[b+72>>2]=a,CD[b+68>>2]=_,o=CD[b+64>>2]|0}if(r=(CD[b+72>>2]|0)+(o<<3)|0,r&&(CD[r>>2]=p,CD[r+4>>2]=0),CD[b+64>>2]=o+1,o=CD[b+48>>2]|0,(u|0)<(o|0)){l=CD[b+4>>2]|0;do if((l|0)<(o|0)){if((l|0)<=(o|0)){if((CD[b+8>>2]|0)<(o|0)){if(((o|0)!=0?(CD[5108]=(CD[5108]|0)+1,g=Aw((o<<2|3)+16|0)|0,(g|0)!=0):0)?(CD[(g+4+15&-16)+-4>>2]=g,i=g+4+15&-16):i=0,(l|0)>0)for(r=CD[b+12>>2]|0,a=0;;){if(n=i+(a<<2)|0,n&&(CD[n>>2]=CD[r+(a<<2)>>2]),(a|0)==(l+-1|0))break;a=a+1|0}else r=CD[b+12>>2]|0;r&&(TD[b+16>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[r+-4>>2]|0)),CD[b+12>>2]=0),TD[b+16>>0]=1,CD[b+12>>2]=i,CD[b+8>>2]=o}else i=CD[b+12>>2]|0;for(n=l;;){if(r=i+(n<<2)|0,r&&(CD[r>>2]=0),(n|0)==(o+-1|0))break;n=n+1|0}}if(CD[b+4>>2]=o,n=CD[b+24>>2]|0,(n|0)<(o|0)){if((CD[b+28>>2]|0)<(o|0)){do if(o){if(CD[5108]=(CD[5108]|0)+1,r=Aw((o<<2|3)+16|0)|0,!r){i=0;break}CD[(r+4+15&-16)+-4>>2]=r,i=r+4+15&-16}else i=0;while(0);if((n|0)>0)for(r=CD[b+32>>2]|0,s=0;;){if(a=i+(s<<2)|0,a&&(CD[a>>2]=CD[r+(s<<2)>>2]),(s|0)==(n+-1|0))break;s=s+1|0}else r=CD[b+32>>2]|0;r&&(TD[b+36>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[r+-4>>2]|0)),CD[b+32>>2]=0),TD[b+36>>0]=1,CD[b+32>>2]=i,CD[b+28>>2]=o}else i=CD[b+32>>2]|0;for(;;){if(r=i+(n<<2)|0,r&&(CD[r>>2]=0),(n|0)==(o+-1|0))break;n=n+1|0}}if(CD[b+24>>2]=o,(o|0)>0&&(Bw(CD[b+12>>2]|0,-1,o<<2|0)|0,Bw(CD[b+32>>2]|0,-1,o<<2|0)|0),(l|0)<=0){o=CD[b+48>>2]|0;break}for(n=CD[b+72>>2]|0,r=CD[b+12>>2]|0,i=CD[b+32>>2]|0,o=CD[b+48>>2]|0,a=0;;){if(u=CD[n+(a<<3)>>2]|0,u=(u+~(u<<15)>>10^u+~(u<<15))*9|0,u=r+((((u>>6^u)+~((u>>6^u)<<11)>>16^(u>>6^u)+~((u>>6^u)<<11))&o+-1)<<2)|0,CD[i+(a<<2)>>2]=CD[u>>2],CD[u>>2]=a,(a|0)==(l+-1|0))break;a=a+1|0}}while(0);i=o,r=d&o+-1}else i=o,r=d&h;n=CD[b+12>>2]|0,o=n+(r<<2)|0,r=CD[b+32>>2]|0,CD[r+(c<<2)>>2]=CD[o>>2],CD[o>>2]=c,o=i,c=105}if((c|0)==105&&(c=0,bP[CD[(CD[p>>2]|0)+60>>2]&127](p,e),i=CD[t+8>>2]|0),a=f+1|0,(a|0)>=(i|0))break;u=o,s=CD[b+4>>2]|0,f=a}p_(b),BD=b}function PS(t,e){t|=0,e|=0,gP[CD[(CD[e>>2]|0)+32>>2]&255](e),DS(t,e),gP[CD[(CD[e>>2]|0)+36>>2]&255](e)}function BS(t){t|=0;var e=0;CD[t>>2]=10312,TD[t+8>>0]|0&&(e=CD[t+12>>2]|0,e&&(t=CD[t+4>>2]|0,bP[CD[(CD[t>>2]|0)+16>>2]&127](t,e)))}function VS(t){t|=0;var e=0,i=0;return CD[t>>2]=10312,TD[t+8>>0]|0&&(e=CD[t+12>>2]|0)?(i=CD[t+4>>2]|0,bP[CD[(CD[i>>2]|0)+16>>2]&127](i,e),void ww(t)):void ww(t)}function LS(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,u=0;if(s=BD,BD=BD+160|0,n=CD[t+12>>2]|0,!n)return void(BD=s);l=(TD[t+16>>0]|0)!=0,c=l?i:e,e=l?e:i,u=CD[c+4>>2]|0,i=CD[e+4>>2]|0,CD[o+4>>2]=n,h=+RD[n+752>>2],CD[s+136>>2]=19824,CD[s+136+4>>2]=u,CD[s+136+8>>2]=i,RD[s+136+12>>2]=h,RD[s+128>>2]=0xde0b6b000000000,n=CD[c+12>>2]|0,CD[s>>2]=CD[n>>2],CD[s+4>>2]=CD[n+4>>2],CD[s+8>>2]=CD[n+8>>2],CD[s+12>>2]=CD[n+12>>2],CD[s+16>>2]=CD[n+16>>2],CD[s+16+4>>2]=CD[n+16+4>>2],CD[s+16+8>>2]=CD[n+16+8>>2],CD[s+16+12>>2]=CD[n+16+12>>2],CD[s+32>>2]=CD[n+32>>2],CD[s+32+4>>2]=CD[n+32+4>>2],CD[s+32+8>>2]=CD[n+32+8>>2],CD[s+32+12>>2]=CD[n+32+12>>2],CD[s+48>>2]=CD[n+48>>2],CD[s+48+4>>2]=CD[n+48+4>>2],CD[s+48+8>>2]=CD[n+48+8>>2],CD[s+48+12>>2]=CD[n+48+12>>2],n=CD[e+12>>2]|0,CD[s+64>>2]=CD[n>>2],CD[s+64+4>>2]=CD[n+4>>2],CD[s+64+8>>2]=CD[n+8>>2],CD[s+64+12>>2]=CD[n+12>>2],CD[s+80>>2]=CD[n+16>>2],CD[s+80+4>>2]=CD[n+16+4>>2],CD[s+80+8>>2]=CD[n+16+8>>2],CD[s+80+12>>2]=CD[n+16+12>>2],CD[s+96>>2]=CD[n+32>>2],CD[s+96+4>>2]=CD[n+32+4>>2],CD[s+96+8>>2]=CD[n+32+8>>2],CD[s+96+12>>2]=CD[n+32+12>>2],CD[s+112>>2]=CD[n+48>>2],CD[s+112+4>>2]=CD[n+48+4>>2],CD[s+112+8>>2]=CD[n+48+8>>2],CD[s+112+12>>2]=CD[n+48+12>>2],zv(s+136|0,s,o,CD[r+20>>2]|0,l);do if((TD[t+8>>0]|0)!=0?(a=CD[o+4>>2]|0,(CD[a+748>>2]|0)!=0):0){if(e=CD[a+740>>2]|0,n=CD[(CD[o+8>>2]|0)+8>>2]|0,i=CD[(CD[o+12>>2]|0)+8>>2]|0,(e|0)==(n|0)){MM(a,e+4|0,i+4|0);break}MM(a,i+4|0,n+4|0);break}while(0);BD=s}function kS(t,e,i,r,o){return t|=0,e|=0,i|=0,r|=0,o|=0,1}function HS(t){t|=0}function IS(t){t|=0,ww(t)}function OS(t){t|=0;var e=0;CD[t>>2]=10424,TD[t+16>>0]|0&&(e=CD[t+20>>2]|0,e&&(t=CD[t+4>>2]|0,bP[CD[(CD[t>>2]|0)+16>>2]&127](t,e)))}function JS(t){t|=0;var e=0,i=0;return CD[t>>2]=10424,TD[t+16>>0]|0&&(e=CD[t+20>>2]|0)?(i=CD[t+4>>2]|0,bP[CD[(CD[i>>2]|0)+16>>2]&127](i,e),void ww(t)):void ww(t)}function NS(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0,N=0,F=0,G=0,z=0;if(V=BD,BD=BD+176|0,!(TD[t+738>>0]|0))return void(BD=V);if(RD[t+36>>2]=0,RD[t+744>>2]=0,!(TD[t+736>>0]|0))for(r=CD[t+28>>2]|0,c=+RD[t+600>>2],u=+RD[t+604>>2],m=+RD[t+608>>2],g=c*+RD[r+20>>2]+u*+RD[r+24>>2]+m*+RD[r+28>>2]+ +RD[r+56>>2],i=CD[t+32>>2]|0,y=+RD[t+664>>2],b=+RD[i+4>>2],v=+RD[t+668>>2],M=+RD[i+8>>2],S=+RD[t+672>>2],T=+RD[i+12>>2],x=+RD[i+20>>2],C=+RD[i+24>>2],E=+RD[i+28>>2],A=+RD[i+36>>2],w=+RD[i+40>>2],R=+RD[i+44>>2],D=+RD[i+52>>2],P=+RD[i+56>>2],B=+RD[i+60>>2],h=y*x+v*C+S*E+P-g,_=c*+RD[r+4>>2]+u*+RD[r+8>>2]+m*+RD[r+12>>2]+ +RD[r+52>>2],m=c*+RD[r+36>>2]+u*+RD[r+40>>2]+m*+RD[r+44>>2]+ +RD[r+60>>2],u=y*b+v*M+S*T+D-_,c=y*A+v*w+S*R+B-m,u*u+h*h+c*c>1.1920928955078125e-7?(f=1/+ND(+(u*u+h*h+c*c)),l=u*f,u=h*f,h=c*f):(l=1,u=0,h=0),RD[V+128>>2]=l,RD[V+128+4>>2]=u,RD[V+128+8>>2]=h,RD[V+128+12>>2]=0,+JD(+h)>.7071067690849304?(p=h*h+u*u,f=1/+ND(+p),c=-(f*h),h=f*u,n=-(l*h),s=l*c,u=p*f,l=0):(p=l*l+u*u,s=1/+ND(+p),f=-(u*s),c=s*l,n=h*f,s=p*s,u=-(h*c),h=0,l=f),RD[V+128+16>>2]=l,RD[V+128+20>>2]=c,RD[V+128+24>>2]=h,RD[V+128+32>>2]=u,RD[V+128+36>>2]=n,RD[V+128+40>>2]=s,u=b,h=x,c=A,l=M,s=C,n=w,o=T,a=E,e=R,d=D,p=P,f=B,r=0;;){if(L=CD[t+28>>2]|0,RD[V+80>>2]=+RD[L+4>>2],RD[V+80+4>>2]=+RD[L+20>>2],RD[V+80+8>>2]=+RD[L+36>>2],RD[V+80+12>>2]=0,RD[V+80+16>>2]=+RD[L+8>>2],RD[V+80+20>>2]=+RD[L+24>>2],RD[V+80+24>>2]=+RD[L+40>>2],RD[V+80+28>>2]=0,RD[V+80+32>>2]=+RD[L+12>>2],RD[V+80+36>>2]=+RD[L+28>>2],RD[V+80+40>>2]=+RD[L+44>>2],RD[V+80+44>>2]=0,RD[V+32>>2]=u,RD[V+32+4>>2]=h,RD[V+32+8>>2]=c,RD[V+32+12>>2]=0,RD[V+32+16>>2]=l,RD[V+32+20>>2]=s,RD[V+32+24>>2]=n,RD[V+32+28>>2]=0,RD[V+32+32>>2]=o,RD[V+32+36>>2]=a,RD[V+32+40>>2]=e,RD[V+32+44>>2]=0,h=g-+RD[L+56>>2],u=m-+RD[L+60>>2],RD[V+16>>2]=_-+RD[L+52>>2],RD[V+16+4>>2]=h,RD[V+16+8>>2]=u,RD[V+16+12>>2]=0,RD[V>>2]=y*b+v*M+S*T+D-d,RD[V+4>>2]=y*x+v*C+S*E+P-p,RD[V+8>>2]=y*A+v*w+S*R+B-f,RD[V+12>>2]=0,n_(t+48+(r*84|0)|0,V+80|0,V+32|0,V+16|0,V,V+128+(r<<4)|0,L+396|0,+RD[L+344>>2],i+396|0,+RD[i+344>>2]),r=r+1|0,(r|0)==3)break;i=CD[t+32>>2]|0,u=+RD[i+4>>2],h=+RD[i+20>>2],c=+RD[i+36>>2],l=+RD[i+8>>2],s=+RD[i+24>>2],n=+RD[i+40>>2],o=+RD[i+12>>2],a=+RD[i+28>>2],e=+RD[i+44>>2],d=+RD[i+52>>2],p=+RD[i+56>>2],f=+RD[i+60>>2]}e=+RD[t+560>>2],n=+RD[t+576>>2],a=+RD[t+592>>2],+JD(+a)>.7071067690849304?(u=1/+ND(+(n*n+a*a)),o=e*-(a*u),s=0,l=-(a*u),c=n*u,h=(n*n+a*a)*u,u=-(e*n*u)):(u=1/+ND(+(e*e+n*n)),o=(e*e+n*n)*u,s=-(n*u),l=e*u,c=0,h=-(a*e*u),u=a*-(n*u)),r=CD[t+28>>2]|0,x=+RD[r+4>>2],d=+RD[r+8>>2],R=+RD[r+12>>2],I=s*x+l*d+c*R,A=+RD[r+20>>2],S=+RD[r+24>>2],P=+RD[r+28>>2],J=s*A+l*S+c*P,y=+RD[r+36>>2],m=+RD[r+40>>2],f=+RD[r+44>>2],G=s*y+l*m+c*f,_=h*x+u*d+o*R,c=h*A+u*S+o*P,l=h*y+u*m+o*f,i=CD[t+32>>2]|0,g=+RD[i+4>>2],b=+RD[i+20>>2],v=+RD[i+36>>2],C=+RD[i+8>>2],E=+RD[i+24>>2],D=+RD[i+40>>2],k=+RD[i+12>>2],O=+RD[i+28>>2],F=+RD[i+44>>2],CD[t+300>>2]=0,CD[t+300+4>>2]=0,CD[t+300+8>>2]=0,CD[t+300+12>>2]=0,RD[t+316>>2]=x*I+A*J+y*G,RD[t+320>>2]=d*I+S*J+m*G,RD[t+324>>2]=R*I+P*J+f*G,RD[t+328>>2]=0,RD[t+332>>2]=g*-I+b*-J+v*-G,RD[t+336>>2]=C*-I+E*-J+D*-G,RD[t+340>>2]=k*-I+O*-J+F*-G,RD[t+344>>2]=0,p=(x*I+A*J+y*G)*+RD[r+396>>2],h=(d*I+S*J+m*G)*+RD[r+400>>2],u=(R*I+P*J+f*G)*+RD[r+404>>2],RD[t+348>>2]=p,RD[t+352>>2]=h,RD[t+356>>2]=u,RD[t+360>>2]=0,T=(g*-I+b*-J+v*-G)*+RD[i+396>>2],B=(C*-I+E*-J+D*-G)*+RD[i+400>>2],z=(k*-I+O*-J+F*-G)*+RD[i+404>>2],RD[t+364>>2]=T,RD[t+368>>2]=B,RD[t+372>>2]=z,RD[t+376>>2]=0,RD[t+380>>2]=(x*I+A*J+y*G)*p+(d*I+S*J+m*G)*h+(R*I+P*J+f*G)*u+((g*-I+b*-J+v*-G)*T+(C*-I+E*-J+D*-G)*B+(k*-I+O*-J+F*-G)*z),i=CD[t+28>>2]|0,z=+RD[i+4>>2],G=+RD[i+20>>2],F=+RD[i+36>>2],J=+RD[i+8>>2],O=+RD[i+24>>2],I=+RD[i+40>>2],k=+RD[i+12>>2],B=+RD[i+28>>2],D=+RD[i+44>>2],r=CD[t+32>>2]|0,E=+RD[r+4>>2],C=+RD[r+20>>2],T=+RD[r+36>>2],v=+RD[r+8>>2],b=+RD[r+24>>2],g=+RD[r+40>>2],u=+RD[r+12>>2],h=+RD[r+28>>2],p=+RD[r+44>>2],CD[t+384>>2]=0,CD[t+384+4>>2]=0,CD[t+384+8>>2]=0,CD[t+384+12>>2]=0,RD[t+400>>2]=_*z+c*G+l*F,RD[t+404>>2]=_*J+c*O+l*I,RD[t+408>>2]=_*k+c*B+l*D,RD[t+412>>2]=0,RD[t+416>>2]=E*-_+C*-c+T*-l,RD[t+420>>2]=v*-_+b*-c+g*-l,RD[t+424>>2]=u*-_+h*-c+p*-l,RD[t+428>>2]=0,N=(_*z+c*G+l*F)*+RD[i+396>>2],H=(_*J+c*O+l*I)*+RD[i+400>>2],w=(_*k+c*B+l*D)*+RD[i+404>>2],RD[t+432>>2]=N,RD[t+436>>2]=H,RD[t+440>>2]=w,RD[t+444>>2]=0,M=(E*-_+C*-c+T*-l)*+RD[r+396>>2],o=(v*-_+b*-c+g*-l)*+RD[r+400>>2],s=(u*-_+h*-c+p*-l)*+RD[r+404>>2],RD[t+448>>2]=M,RD[t+452>>2]=o,RD[t+456>>2]=s,RD[t+460>>2]=0,RD[t+464>>2]=(_*z+c*G+l*F)*N+(_*J+c*O+l*I)*H+(_*k+c*B+l*D)*w+((E*-_+C*-c+T*-l)*M+(v*-_+b*-c+g*-l)*o+(u*-_+h*-c+p*-l)*s),r=CD[t+28>>2]|0,s=+RD[r+4>>2],l=+RD[r+20>>2],p=+RD[r+36>>2],c=+RD[r+8>>2],h=+RD[r+24>>2],_=+RD[r+40>>2],u=+RD[r+12>>2],o=+RD[r+28>>2],g=+RD[r+44>>2],i=CD[t+32>>2]|0,b=+RD[i+4>>2],v=+RD[i+20>>2],M=+RD[i+36>>2],T=+RD[i+8>>2],C=+RD[i+24>>2],E=+RD[i+40>>2],w=+RD[i+12>>2],D=+RD[i+28>>2],B=+RD[i+44>>2],CD[t+468>>2]=0,CD[t+468+4>>2]=0,CD[t+468+8>>2]=0,CD[t+468+12>>2]=0,p=(x*e+d*n+R*a)*s+(A*e+S*n+P*a)*l+(y*e+m*n+f*a)*p,_=(x*e+d*n+R*a)*c+(A*e+S*n+P*a)*h+(y*e+m*n+f*a)*_,g=(x*e+d*n+R*a)*u+(A*e+S*n+P*a)*o+(y*e+m*n+f*a)*g,RD[t+484>>2]=p,RD[t+488>>2]=_,RD[t+492>>2]=g,RD[t+496>>2]=0,R=-(x*e+d*n+R*a),P=-(A*e+S*n+P*a),o=-(y*e+m*n+f*a),RD[t+500>>2]=b*R+v*P+M*o,RD[t+504>>2]=T*R+C*P+E*o,RD[t+508>>2]=w*R+D*P+B*o,RD[t+512>>2]=0,f=p*+RD[r+396>>2],m=_*+RD[r+400>>2],y=g*+RD[r+404>>2],RD[t+516>>2]=f,RD[t+520>>2]=m,RD[t+524>>2]=y,RD[t+528>>2]=0,S=(b*R+v*P+M*o)*+RD[i+396>>2],A=(T*R+C*P+E*o)*+RD[i+400>>2],e=(w*R+D*P+B*o)*+RD[i+404>>2],RD[t+532>>2]=S,RD[t+536>>2]=A,RD[t+540>>2]=e,RD[t+544>>2]=0,RD[t+548>>2]=p*f+_*m+g*y+((b*R+v*P+M*o)*S+(T*R+C*P+E*o)*A+(w*R+D*P+B*o)*e),RD[t+724>>2]=0,i=CD[t+28>>2]|0,r=CD[t+32>>2]|0,e=+zS(t,i+4|0,r+4|0),RD[t+728>>2]=e,RD[t+708>>2]=0,RD[t+712>>2]=0,TD[t+716>>0]=0,o=+RD[t+692>>2];do if(o>=0){if(e=+Rw(e-+RD[t+688>>2],6.2831854820251465),e<-3.1415927410125732?e+=6.2831854820251465:e>3.1415927410125732&&(e+=-6.2831854820251465),e<-o){TD[t+716>>0]=1,RD[t+708>>2]=-(e+o),RD[t+712>>2]=1;break}e>o&&(TD[t+716>>0]=1,RD[t+708>>2]=o-e,RD[t+712>>2]=-1)}while(0);J=+RD[t+560>>2],N=+RD[t+576>>2],z=+RD[t+592>>2],F=J*+RD[i+4>>2]+N*+RD[i+8>>2]+z*+RD[i+12>>2],G=J*+RD[i+20>>2]+N*+RD[i+24>>2]+z*+RD[i+28>>2],z=J*+RD[i+36>>2]+N*+RD[i+40>>2]+z*+RD[i+44>>2],RD[t+720>>2]=1/(F*(F*+RD[i+264>>2]+G*+RD[i+280>>2]+z*+RD[i+296>>2])+G*(F*+RD[i+268>>2]+G*+RD[i+284>>2]+z*+RD[i+300>>2])+z*(F*+RD[i+272>>2]+G*+RD[i+288>>2]+z*+RD[i+304>>2])+(F*(F*+RD[r+264>>2]+G*+RD[r+280>>2]+z*+RD[r+296>>2])+G*(F*+RD[r+268>>2]+G*+RD[r+284>>2]+z*+RD[r+300>>2])+z*(F*+RD[r+272>>2]+G*+RD[r+288>>2]+z*+RD[r+304>>2]))),BD=V}function FS(t,e){t|=0,e|=0;var i=0,r=0,o=0;if(TD[t+738>>0]|0)return CD[e>>2]=0,void(CD[e+4>>2]=0);CD[e>>2]=5,CD[e+4>>2]=1,i=+zS(t,(CD[t+28>>2]|0)+4|0,(CD[t+32>>2]|0)+4|0),RD[t+728>>2]=i,RD[t+708>>2]=0,RD[t+712>>2]=0,TD[t+716>>0]=0,r=+RD[t+692>>2];do if(r>=0){if(i=+Rw(i-+RD[t+688>>2],6.2831854820251465),i<-3.1415927410125732?i+=6.2831854820251465:i>3.1415927410125732&&(i+=-6.2831854820251465),i<-r){TD[t+716>>0]=1,RD[t+708>>2]=-(i+r),RD[t+712>>2]=1;break}i>r?(TD[t+716>>0]=1,RD[t+708>>2]=r-i,RD[t+712>>2]=-1):o=12}else o=12;while(0);((o|0)==12?(TD[t+737>>0]|0)==0:0)||(CD[e>>2]=6,CD[e+4>>2]=0)}function GS(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0,N=0,F=0,G=0,z=0,j=0,U=0,W=0,X=0,q=0,K=0;if(K=BD,BD=BD+128|0,X=CD[t+28>>2]|0,q=CD[t+32>>2]|0,S=CD[e+24>>2]|0,!(TD[t+739>>0]|0)){if(i_(K+64|0,X+4|0,t+552|0),i_(K,q+4|0,t+616|0),r=+RD[K+64+48>>2],s=+RD[K+64+52>>2],i=+RD[K+64+56>>2],l=+RD[K+48>>2],c=+RD[K+52>>2],h=+RD[K+56>>2],u=(TD[t+736>>0]|0)==0,u?(n=CD[e+8>>2]|0,RD[n>>2]=1,RD[n+(S+1<<2)>>2]=1,RD[n+((S<<1)+2<<2)>>2]=1,n=CD[e+16>>2]|0,RD[n>>2]=-1,RD[n+(S+1<<2)>>2]=-1,RD[n+((S<<1)+2<<2)>>2]=-1,n=S<<1,o=S+1|0,a=(S<<1)+2|0):(n=S<<1,o=S+1|0,a=(S<<1)+2|0),d=r-+RD[X+52>>2],W=s-+RD[X+56>>2],U=i-+RD[X+60>>2],f=CD[e+12>>2]|0,RD[f>>2]=0,RD[f+4>>2]=U,RD[f+8>>2]=-W,RD[f+12>>2]=0,RD[f+(S<<2)>>2]=-U,RD[f+(o<<2)>>2]=0,RD[f+(S+2<<2)>>2]=d,RD[f+(S+3<<2)>>2]=0,RD[f+(n<<2)>>2]=W,g=n|1,RD[f+(g<<2)>>2]=-d,RD[f+(a<<2)>>2]=0,M=n+3|0,RD[f+(M<<2)>>2]=0,d=l-+RD[q+52>>2],W=c-+RD[q+56>>2],U=h-+RD[q+60>>2],_=CD[e+20>>2]|0,RD[_>>2]=0,RD[_+4>>2]=-U,RD[_+8>>2]=W,RD[_+12>>2]=0,RD[_+(S<<2)>>2]=U,RD[_+(o<<2)>>2]=0,RD[_+(S+2<<2)>>2]=-d,RD[_+(S+3<<2)>>2]=0,RD[_+(n<<2)>>2]=-W,RD[_+(g<<2)>>2]=d,RD[_+(a<<2)>>2]=0,RD[_+(M<<2)>>2]=0,d=+RD[e>>2]*+RD[e+4>>2],a=CD[e+28>>2]|0,u&&(RD[a>>2]=d*(l-r),RD[a+(S<<2)>>2]=d*(c-s),RD[a+(S<<1<<2)>>2]=d*(h-i)),y=+RD[K+64+8>>2],b=+RD[K+64+24>>2],v=+RD[K+64+40>>2],J=+RD[K+64>>2],N=+RD[K+64+16>>2],O=+RD[K+64+32>>2],G=+RD[K+64+4>>2],j=+RD[K+64+20>>2],F=+RD[K+64+36>>2],g=CD[e+24>>2]|0,RD[f+(g*3<<2)>>2]=J,RD[f+((g*3|0)+1<<2)>>2]=N,RD[f+((g*3|0)+2<<2)>>2]=O,RD[f+(g<<2<<2)>>2]=G,RD[f+((g<<2|1)<<2)>>2]=j,RD[f+((g<<2|2)<<2)>>2]=F,RD[_+(g*3<<2)>>2]=-J,RD[_+((g*3|0)+1<<2)>>2]=-N,RD[_+((g*3|0)+2<<2)>>2]=-O,RD[_+(g<<2<<2)>>2]=-G,RD[_+((g<<2|1)<<2)>>2]=-j,RD[_+((g<<2|2)<<2)>>2]=-F,U=+RD[K+8>>2],z=+RD[K+24>>2],W=+RD[K+40>>2],RD[a+(g*3<<2)>>2]=d*(O*(y*z-b*U)+(J*(b*W-v*z)+N*(v*U-y*W))),RD[a+(g<<2<<2)>>2]=d*(F*(y*z-b*U)+(G*(b*W-v*z)+j*(v*U-y*W))),TD[t+716>>0]|0?(m=+RD[t+708>>2]*+RD[t+732>>2],M=m>0?1:2):(M=0,m=0),u=TD[t+737>>0]|0,o=(M|0)!=0,u&255|M){if(RD[f+(g*5<<2)>>2]=y,RD[f+((g*5|0)+1<<2)>>2]=b,RD[f+((g*5|0)+2<<2)>>2]=v,RD[_+(g*5<<2)>>2]=-y,RD[_+((g*5|0)+1<<2)>>2]=-b,RD[_+((g*5|0)+2<<2)>>2]=-v,i=+RD[t+688>>2],s=+RD[t+692>>2],r=+Rw(i-s,6.2831854820251465),p=r<-3.1415927410125732?r+6.2831854820251465:r>3.1415927410125732?r+-6.2831854820251465:r,r=+Rw(i+s,6.2831854820251465),r<-3.1415927410125732?r+=6.2831854820251465:r>3.1415927410125732&&(r+=-6.2831854820251465),n=p==r,f=a+(g*5<<2)|0,RD[f>>2]=0,a=CD[t+748>>2]|0,l=+RD[((a&2|0)==0?e+4|0:t+760|0)>>2],!(u<<24>>24==0|o&n)){a&4&&(RD[(CD[e+32>>2]|0)+(g*5<<2)>>2]=+RD[t+752>>2]),h=+RD[t+728>>2],c=+RD[t+680>>2],u=p>r;
do if(u|n)r=u?1:0;else{if(d=c/(l*+RD[e>>2]),d<0){if(h>=p&p-d>h){r=(p-h)/d;break}r=h<p?0:1;break}if(d>0){if(h<=r&r-d<h){r=(r-h)/d;break}r=h>r?0:1;break}r=0}while(0);RD[f>>2]=r*c*+RD[t+732>>2]+ +RD[f>>2],RD[(CD[e+36>>2]|0)+(g*5<<2)>>2]=-+RD[t+684>>2],RD[(CD[e+40>>2]|0)+(g*5<<2)>>2]=+RD[t+684>>2]}if(o){RD[f>>2]=+RD[f>>2]+m*l*+RD[e>>2],a&1&&(RD[(CD[e+32>>2]|0)+(g*5<<2)>>2]=+RD[t+756>>2]);do{if(!n){if(n=(CD[e+36>>2]|0)+(g*5<<2)|0,o=CD[e+40>>2]|0,(M|0)==1){RD[n>>2]=0,RD[o+(g*5<<2)>>2]=3.4028234663852886e38;break}RD[n>>2]=-3.4028234663852886e38,RD[o+(g*5<<2)>>2]=0;break}RD[(CD[e+36>>2]|0)+(g*5<<2)>>2]=-3.4028234663852886e38,RD[(CD[e+40>>2]|0)+(g*5<<2)>>2]=3.4028234663852886e38}while(0);r=+RD[t+704>>2];do if(r>0){if(i=y*+RD[X+328>>2]+b*+RD[X+332>>2]+v*+RD[X+336>>2]-(y*+RD[q+328>>2]+b*+RD[q+332>>2]+v*+RD[q+336>>2]),(M|0)==1){if(!(i<0))break;if(!(+RD[f>>2]<-(r*i)))break;RD[f>>2]=-(r*i);break}if(!(i>0))break;if(!(+RD[f>>2]>-(r*i)))break;RD[f>>2]=-(r*i);break}while(0);RD[f>>2]=+RD[t+700>>2]*+RD[f>>2]}}return void(BD=K)}if(i_(K+64|0,X+4|0,t+552|0),i_(K,q+4|0,t+616|0),C=+RD[K+48>>2],E=+RD[K+64+48>>2],A=+RD[K+52>>2],w=+RD[K+64+52>>2],R=+RD[K+56>>2],D=+RD[K+64+56>>2],r=+RD[(CD[t+28>>2]|0)+344>>2],i=+RD[(CD[t+32>>2]|0)+344>>2],M=r<1.1920928955078125e-7?1:i<1.1920928955078125e-7,x=r+i>0?i/(r+i):.5,s=1-x,I=+RD[K+64+8>>2],O=+RD[K+64+24>>2],J=+RD[K+64+40>>2],N=+RD[K+8>>2],F=+RD[K+24>>2],G=+RD[K+40>>2],z=x*I+s*N,j=x*O+s*F,U=x*J+s*G,W=1/+ND(+(z*z+j*j+U*U)),P=C-+RD[q+52>>2],B=A-+RD[q+56>>2],L=R-+RD[q+60>>2],b=z*W*(P*z*W+B*j*W+L*U*W),h=j*W*(P*z*W+B*j*W+L*U*W),k=U*W*(P*z*W+B*j*W+L*U*W),c=E-+RD[X+52>>2],V=w-+RD[X+56>>2],H=D-+RD[X+60>>2],m=z*W*(z*W*c+j*W*V+U*W*H),d=j*W*(z*W*c+j*W*V+U*W*H),v=U*W*(z*W*c+j*W*V+U*W*H),i=c-m+x*(m-b),T=V-d+x*(d-h),p=H-v+x*(v-k),r=P-b-s*(m-b),y=B-h-s*(d-h),l=L-k-s*(v-k),m=x*(P-b)+s*(c-m),d=x*(B-h)+s*(V-d),v=x*(L-k)+s*(H-v),m*m+d*d+v*v>1.1920928955078125e-7?(L=1/+ND(+(m*m+d*d+v*v)),H=m*L,k=L*d,L*=v):(H=+RD[K+64+4>>2],k=+RD[K+64+20>>2],L=+RD[K+64+36>>2]),P=j*W*L-U*W*k,B=U*W*H-L*z*W,V=k*z*W-j*W*H,u=CD[e+12>>2]|0,RD[u>>2]=T*L-p*k,RD[u+4>>2]=p*H-i*L,RD[u+8>>2]=i*k-T*H,u=CD[e+20>>2]|0,RD[u>>2]=-(y*L-l*k),RD[u+4>>2]=-(l*H-r*L),RD[u+8>>2]=-(r*k-y*H),(M?(TD[t+716>>0]|0)!=0:0)?(v=s*(y*V-l*B),m=s*(l*P-r*V),d=s*(r*B-y*P),h=x*(T*V-p*B),c=x*(p*P-i*V),b=x*(i*B-T*P)):(v=y*V-l*B,m=l*P-r*V,d=r*B-y*P,h=T*V-p*B,c=p*P-i*V,b=i*B-T*P),u=CD[e+12>>2]|0,RD[u+(S<<2)>>2]=h,RD[u+(S+1<<2)>>2]=c,RD[u+(S+2<<2)>>2]=b,u=CD[e+20>>2]|0,RD[u+(S<<2)>>2]=-v,RD[u+(S+1<<2)>>2]=-m,RD[u+(S+2<<2)>>2]=-d,M?(b=s*(y*U*W-l*j*W),c=s*(l*z*W-r*U*W),h=s*(r*j*W-y*z*W),d=x*(T*U*W-p*j*W),v=x*(p*z*W-i*U*W),m=x*(i*j*W-T*z*W)):(b=y*U*W-l*j*W,c=l*z*W-r*U*W,h=r*j*W-y*z*W,d=T*U*W-p*j*W,v=p*z*W-i*U*W,m=i*j*W-T*z*W),a=CD[e+12>>2]|0,RD[a+(S<<1<<2)>>2]=d,RD[a+((S<<1|1)<<2)>>2]=v,RD[a+((S<<1)+2<<2)>>2]=m,a=CD[e+20>>2]|0,RD[a+(S<<1<<2)>>2]=-b,RD[a+((S<<1|1)<<2)>>2]=-c,RD[a+((S<<1)+2<<2)>>2]=-h,d=+RD[e>>2]*+RD[e+4>>2],TD[t+736>>0]|0?(m=-H,d=-k,h=-L,c=-P,l=-B,r=-V,f=CD[e+28>>2]|0):(f=CD[e+8>>2]|0,RD[f>>2]=H,RD[f+4>>2]=k,RD[f+8>>2]=L,f=CD[e+8>>2]|0,RD[f+(S<<2)>>2]=P,RD[f+(S+1<<2)>>2]=B,RD[f+(S+2<<2)>>2]=V,f=CD[e+8>>2]|0,RD[f+(S<<1<<2)>>2]=z*W,RD[f+((S<<1|1)<<2)>>2]=j*W,RD[f+((S<<1)+2<<2)>>2]=U*W,f=CD[e+16>>2]|0,m=-H,RD[f>>2]=m,c=-k,RD[f+4>>2]=c,h=-L,RD[f+8>>2]=h,RD[f+(S<<2)>>2]=-P,RD[f+(S+1<<2)>>2]=-B,RD[f+(S+2<<2)>>2]=-V,RD[f+(S<<1<<2)>>2]=-(z*W),RD[f+((S<<1|1)<<2)>>2]=-(j*W),RD[f+((S<<1)+2<<2)>>2]=-(U*W),f=CD[e+28>>2]|0,RD[f>>2]=d*((C-E)*H+(A-w)*k+(R-D)*L),RD[f+(S<<2)>>2]=d*((C-E)*P+(A-w)*B+(R-D)*V),RD[f+(S<<1<<2)>>2]=d*((C-E)*z*W+(A-w)*j*W+(R-D)*U*W),d=c,c=-P,l=-B,r=-V,a=CD[e+20>>2]|0),M=CD[e+12>>2]|0,RD[M+(S*3<<2)>>2]=H,RD[M+((S*3|0)+1<<2)>>2]=k,RD[M+((S*3|0)+2<<2)>>2]=L,RD[M+(S<<2<<2)>>2]=P,RD[M+((S<<2|1)<<2)>>2]=B,RD[M+((S<<2|2)<<2)>>2]=V,RD[a+(S*3<<2)>>2]=m,RD[a+((S*3|0)+1<<2)>>2]=d,RD[a+((S*3|0)+2<<2)>>2]=h,RD[a+(S<<2<<2)>>2]=c,RD[a+((S<<2|1)<<2)>>2]=l,RD[a+((S<<2|2)<<2)>>2]=r,R=+RD[e>>2]*+RD[e+4>>2],RD[f+(S*3<<2)>>2]=R*((O*G-J*F)*H+(J*N-I*G)*k+(I*F-O*N)*L),RD[f+(S<<2<<2)>>2]=R*((O*G-J*F)*P+(J*N-I*G)*B+(I*F-O*N)*V),TD[t+716>>0]|0?(m=+RD[t+708>>2]*+RD[t+732>>2],S=m>0?1:2):(S=0,m=0),u=TD[t+737>>0]|0,_=(S|0)!=0,u&255|S){if(g=(CD[e+24>>2]|0)*5|0,RD[M+(g<<2)>>2]=z*W,RD[M+(g+1<<2)>>2]=j*W,RD[M+(g+2<<2)>>2]=U*W,RD[a+(g<<2)>>2]=-(z*W),RD[a+(g+1<<2)>>2]=-(j*W),RD[a+(g+2<<2)>>2]=-(U*W),s=+RD[t+688>>2],i=+RD[t+692>>2],r=+Rw(s-i,6.2831854820251465),p=r<-3.1415927410125732?r+6.2831854820251465:r>3.1415927410125732?r+-6.2831854820251465:r,r=+Rw(s+i,6.2831854820251465),r<-3.1415927410125732?r+=6.2831854820251465:r>3.1415927410125732&&(r+=-6.2831854820251465),n=p==r,f=f+(g<<2)|0,RD[f>>2]=0,a=CD[t+748>>2]|0,l=+RD[((a&2|0)==0?e+4|0:t+760|0)>>2],!(u<<24>>24==0|_&n)){a&4&&(RD[(CD[e+32>>2]|0)+(g<<2)>>2]=+RD[t+752>>2]),h=+RD[t+728>>2],c=+RD[t+680>>2],u=p>r;do if(u|n)r=u?1:0;else{if(d=c/(l*+RD[e>>2]),d<0){if(h>=p&p-d>h){r=(p-h)/d;break}r=h<p?0:1;break}if(d>0){if(h<=r&r-d<h){r=(r-h)/d;break}r=h>r?0:1;break}r=0}while(0);RD[f>>2]=r*c*+RD[t+732>>2]+ +RD[f>>2],RD[(CD[e+36>>2]|0)+(g<<2)>>2]=-+RD[t+684>>2],RD[(CD[e+40>>2]|0)+(g<<2)>>2]=+RD[t+684>>2]}if(_){RD[f>>2]=+RD[f>>2]+m*l*+RD[e>>2],a&1&&(RD[(CD[e+32>>2]|0)+(g<<2)>>2]=+RD[t+756>>2]);do{if(!n){if(n=(CD[e+36>>2]|0)+(g<<2)|0,o=CD[e+40>>2]|0,(S|0)==1){RD[n>>2]=0,RD[o+(g<<2)>>2]=3.4028234663852886e38;break}RD[n>>2]=-3.4028234663852886e38,RD[o+(g<<2)>>2]=0;break}RD[(CD[e+36>>2]|0)+(g<<2)>>2]=-3.4028234663852886e38,RD[(CD[e+40>>2]|0)+(g<<2)>>2]=3.4028234663852886e38}while(0);r=+RD[t+704>>2];do if(r>0){if(i=+RD[X+328>>2]*z*W+ +RD[X+332>>2]*j*W+ +RD[X+336>>2]*U*W-(z*W*+RD[q+328>>2]+j*W*+RD[q+332>>2]+U*W*+RD[q+336>>2]),(S|0)==1){if(!(i<0))break;if(!(+RD[f>>2]<-(r*i)))break;RD[f>>2]=-(r*i);break}if(!(i>0))break;if(!(+RD[f>>2]>-(r*i)))break;RD[f>>2]=-(r*i);break}while(0);RD[f>>2]=+RD[t+700>>2]*+RD[f>>2]}}BD=K}function zS(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0;return v=+RD[t+552>>2],b=+RD[t+568>>2],y=+RD[t+584>>2],g=+RD[e>>2],m=+RD[e+4>>2],_=+RD[e+8>>2],p=+RD[e+16>>2],d=+RD[e+20>>2],u=+RD[e+24>>2],c=+RD[e+32>>2],s=+RD[e+36>>2],n=+RD[e+40>>2],l=+RD[t+556>>2],a=+RD[t+572>>2],o=+RD[t+588>>2],S=+RD[t+620>>2],M=+RD[t+636>>2],r=+RD[t+652>>2],f=S*+RD[i>>2]+M*+RD[i+4>>2]+r*+RD[i+8>>2],h=S*+RD[i+16>>2]+M*+RD[i+20>>2]+r*+RD[i+24>>2],r=S*+RD[i+32>>2]+M*+RD[i+36>>2]+r*+RD[i+40>>2],r=+WD(+((v*g+b*m+y*_)*f+(v*p+b*d+y*u)*h+(v*c+b*s+y*n)*r),+((g*l+m*a+_*o)*f+(p*l+d*a+u*o)*h+(c*l+s*a+n*o)*r)),+(r*+RD[t+732>>2])}function jS(t,e,i,r){return t|=0,e|=0,i=+i,r|=0,(r|0)==5|(r|0)==-1?(e|0)==2?(RD[t+760>>2]=i,void(CD[t+748>>2]=CD[t+748>>2]|2)):(e|0)==4?(RD[t+756>>2]=i,void(CD[t+748>>2]=CD[t+748>>2]|1)):(e|0)==3?(RD[t+752>>2]=i,void(CD[t+748>>2]=CD[t+748>>2]|4)):void 0:void 0}function US(t,e,i){t|=0,e|=0,i|=0;var r=0;do{if((i|0)==5|(i|0)==-1){if((e|0)==2){r=+RD[t+760>>2];break}if((e|0)==4){r=+RD[t+756>>2];break}if((e|0)==3){r=+RD[t+752>>2];break}r=0;break}r=0}while(0);return+r}function WS(t){t|=0;var e=0;return CD[t>>2]=3976,e=CD[t+176>>2]|0,e&&(TD[t+180>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+176>>2]=0),TD[t+180>>0]=1,CD[t+176>>2]=0,CD[t+168>>2]=0,CD[t+172>>2]=0,e=CD[t+156>>2]|0,e&&(TD[t+160>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+156>>2]=0),TD[t+160>>0]=1,CD[t+156>>2]=0,CD[t+148>>2]=0,CD[t+152>>2]=0,e=CD[t+136>>2]|0,e&&(TD[t+140>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+136>>2]=0),TD[t+140>>0]=1,CD[t+136>>2]=0,CD[t+128>>2]=0,CD[t+132>>2]=0,e=CD[t+116>>2]|0,e&&(TD[t+120>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+116>>2]=0),TD[t+120>>0]=1,CD[t+116>>2]=0,CD[t+108>>2]=0,CD[t+112>>2]=0,e=CD[t+96>>2]|0,e&&(TD[t+100>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+96>>2]=0),TD[t+100>>0]=1,CD[t+96>>2]=0,CD[t+88>>2]=0,CD[t+92>>2]=0,e=CD[t+76>>2]|0,e&&(TD[t+80>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+76>>2]=0),TD[t+80>>0]=1,CD[t+76>>2]=0,CD[t+68>>2]=0,CD[t+72>>2]=0,e=CD[t+56>>2]|0,e&&(TD[t+60>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+56>>2]=0),TD[t+60>>0]=1,CD[t+56>>2]=0,CD[t+48>>2]=0,CD[t+52>>2]=0,e=CD[t+36>>2]|0,e&&(TD[t+40>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+36>>2]=0),TD[t+40>>0]=1,CD[t+36>>2]=0,CD[t+28>>2]=0,CD[t+32>>2]=0,(e=CD[t+16>>2]|0)?(TD[t+20>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+16>>2]=0,TD[t+20>>0]=1,CD[t+16>>2]=0,CD[t+8>>2]=0,t=t+12|0,void(CD[t>>2]=0)):(TD[t+20>>0]=1,CD[t+16>>2]=0,CD[t+8>>2]=0,t=t+12|0,void(CD[t>>2]=0))}function XS(t){t|=0,WS(t),t&&(CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0))}function qS(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0;n=+RD[i+100>>2],l=+RD[i+16>>2],a=+RD[i+20>>2],s=+RD[i+24>>2],r=+RD[i+108>>2],r=+RD[i+112>>2]-n*+RD[i+116>>2]-(l*+RD[t+64>>2]+a*+RD[t+68>>2]+s*+RD[t+72>>2]+(+RD[i>>2]*+RD[t+80>>2]+ +RD[i+4>>2]*+RD[t+84>>2]+ +RD[i+8>>2]*+RD[t+88>>2]))*r-r*(+RD[i+48>>2]*+RD[e+64>>2]+ +RD[i+52>>2]*+RD[e+68>>2]+ +RD[i+56>>2]*+RD[e+72>>2]+(+RD[i+32>>2]*+RD[e+80>>2]+ +RD[i+36>>2]*+RD[e+84>>2]+ +RD[i+40>>2]*+RD[e+88>>2])),o=+RD[i+120>>2];do{if(!(n+r<o)){if(o=+RD[i+124>>2],n+r>o){RD[i+100>>2]=o,r=o-n;break}RD[i+100>>2]=n+r;break}RD[i+100>>2]=o,r=o-n}while(0);CD[t+240>>2]|0&&(a=r*a*+RD[t+132>>2]*+RD[t+116>>2],s=r*s*+RD[t+136>>2]*+RD[t+120>>2],RD[t+64>>2]=+RD[t+112>>2]*r*l*+RD[t+128>>2]+ +RD[t+64>>2],RD[t+68>>2]=a+ +RD[t+68>>2],RD[t+72>>2]=s+ +RD[t+72>>2],s=r*+RD[t+100>>2]*+RD[i+68>>2],l=r*+RD[t+104>>2]*+RD[i+72>>2],RD[t+80>>2]=r*+RD[t+96>>2]*+RD[i+64>>2]+ +RD[t+80>>2],RD[t+84>>2]=s+ +RD[t+84>>2],RD[t+88>>2]=l+ +RD[t+88>>2]),CD[e+240>>2]|0&&(l=r*+RD[i+52>>2]*+RD[e+132>>2]*+RD[e+116>>2],s=r*+RD[i+56>>2]*+RD[e+136>>2]*+RD[e+120>>2],RD[e+64>>2]=+RD[e+112>>2]*r*+RD[i+48>>2]*+RD[e+128>>2]+ +RD[e+64>>2],RD[e+68>>2]=l+ +RD[e+68>>2],RD[e+72>>2]=s+ +RD[e+72>>2],s=r*+RD[e+100>>2]*+RD[i+84>>2],l=r*+RD[e+104>>2]*+RD[i+88>>2],RD[e+80>>2]=r*+RD[e+96>>2]*+RD[i+80>>2]+ +RD[e+80>>2],RD[e+84>>2]=s+ +RD[e+84>>2],RD[e+88>>2]=l+ +RD[e+88>>2])}function KS(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0;o=+RD[i+100>>2],l=+RD[i+16>>2],a=+RD[i+20>>2],s=+RD[i+24>>2],n=+RD[i+108>>2],n=+RD[i+112>>2]-o*+RD[i+116>>2]-(l*+RD[t+64>>2]+a*+RD[t+68>>2]+s*+RD[t+72>>2]+(+RD[i>>2]*+RD[t+80>>2]+ +RD[i+4>>2]*+RD[t+84>>2]+ +RD[i+8>>2]*+RD[t+88>>2]))*n-n*(+RD[i+48>>2]*+RD[e+64>>2]+ +RD[i+52>>2]*+RD[e+68>>2]+ +RD[i+56>>2]*+RD[e+72>>2]+(+RD[i+32>>2]*+RD[e+80>>2]+ +RD[i+36>>2]*+RD[e+84>>2]+ +RD[i+40>>2]*+RD[e+88>>2])),r=+RD[i+120>>2],o+n<r?c=r-o:(c=n,r=o+n),RD[i+100>>2]=r,CD[t+240>>2]|0&&(a=c*a*+RD[t+132>>2]*+RD[t+116>>2],s=c*s*+RD[t+136>>2]*+RD[t+120>>2],RD[t+64>>2]=+RD[t+112>>2]*c*l*+RD[t+128>>2]+ +RD[t+64>>2],RD[t+68>>2]=a+ +RD[t+68>>2],RD[t+72>>2]=s+ +RD[t+72>>2],s=c*+RD[t+100>>2]*+RD[i+68>>2],l=c*+RD[t+104>>2]*+RD[i+72>>2],RD[t+80>>2]=c*+RD[t+96>>2]*+RD[i+64>>2]+ +RD[t+80>>2],RD[t+84>>2]=s+ +RD[t+84>>2],RD[t+88>>2]=l+ +RD[t+88>>2]),CD[e+240>>2]|0&&(l=c*+RD[i+52>>2]*+RD[e+132>>2]*+RD[e+116>>2],s=c*+RD[i+56>>2]*+RD[e+136>>2]*+RD[e+120>>2],RD[e+64>>2]=+RD[e+112>>2]*c*+RD[i+48>>2]*+RD[e+128>>2]+ +RD[e+64>>2],RD[e+68>>2]=l+ +RD[e+68>>2],RD[e+72>>2]=s+ +RD[e+72>>2],s=c*+RD[e+100>>2]*+RD[i+84>>2],l=c*+RD[e+104>>2]*+RD[i+88>>2],RD[e+80>>2]=c*+RD[e+96>>2]*+RD[i+80>>2]+ +RD[e+80>>2],RD[e+84>>2]=s+ +RD[e+84>>2],RD[e+88>>2]=l+ +RD[e+88>>2])}function YS(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0;r=+RD[i+128>>2],r!=0&&(CD[990]=(CD[990]|0)+1,n=+RD[i+96>>2],s=+RD[i+16>>2],l=+RD[i+20>>2],c=+RD[i+24>>2],o=+RD[i+108>>2],o=r-n*+RD[i+116>>2]-(s*+RD[t+144>>2]+l*+RD[t+148>>2]+c*+RD[t+152>>2]+(+RD[i>>2]*+RD[t+160>>2]+ +RD[i+4>>2]*+RD[t+164>>2]+ +RD[i+8>>2]*+RD[t+168>>2]))*o-o*(+RD[i+48>>2]*+RD[e+144>>2]+ +RD[i+52>>2]*+RD[e+148>>2]+ +RD[i+56>>2]*+RD[e+152>>2]+(+RD[i+32>>2]*+RD[e+160>>2]+ +RD[i+36>>2]*+RD[e+164>>2]+ +RD[i+40>>2]*+RD[e+168>>2])),r=+RD[i+120>>2],n+o<r?a=r-n:(a=o,r=n+o),RD[i+96>>2]=r,CD[t+240>>2]|0&&(n=a*l*+RD[t+132>>2]*+RD[t+116>>2],l=a*c*+RD[t+136>>2]*+RD[t+120>>2],RD[t+144>>2]=+RD[t+112>>2]*a*s*+RD[t+128>>2]+ +RD[t+144>>2],RD[t+148>>2]=n+ +RD[t+148>>2],RD[t+152>>2]=l+ +RD[t+152>>2],l=a*+RD[t+100>>2]*+RD[i+68>>2],c=a*+RD[t+104>>2]*+RD[i+72>>2],RD[t+160>>2]=a*+RD[t+96>>2]*+RD[i+64>>2]+ +RD[t+160>>2],RD[t+164>>2]=l+ +RD[t+164>>2],RD[t+168>>2]=c+ +RD[t+168>>2]),CD[e+240>>2]|0&&(c=a*+RD[i+52>>2]*+RD[e+132>>2]*+RD[e+116>>2],l=a*+RD[i+56>>2]*+RD[e+136>>2]*+RD[e+120>>2],RD[e+144>>2]=+RD[e+112>>2]*a*+RD[i+48>>2]*+RD[e+128>>2]+ +RD[e+144>>2],RD[e+148>>2]=c+ +RD[e+148>>2],RD[e+152>>2]=l+ +RD[e+152>>2],l=a*+RD[e+100>>2]*+RD[i+84>>2],c=a*+RD[e+104>>2]*+RD[i+88>>2],RD[e+160>>2]=a*+RD[e+96>>2]*+RD[i+80>>2]+ +RD[e+160>>2],RD[e+164>>2]=l+ +RD[e+164>>2],RD[e+168>>2]=c+ +RD[e+168>>2]))}function QS(t,e,i){t|=0,e|=0,i=+i;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0;if(e=e?(CD[e+236>>2]&2|0)==0?0:e:0,CD[t+64>>2]=0,CD[t+64+4>>2]=0,CD[t+64+8>>2]=0,CD[t+64+12>>2]=0,CD[t+64+16>>2]=0,CD[t+64+20>>2]=0,CD[t+64+24>>2]=0,CD[t+64+28>>2]=0,CD[t+144>>2]=0,CD[t+144+4>>2]=0,CD[t+144+8>>2]=0,CD[t+144+12>>2]=0,CD[t+144+16>>2]=0,CD[t+144+20>>2]=0,CD[t+144+24>>2]=0,CD[t+144+28>>2]=0,e)return r=e+4|0,CD[t>>2]=CD[r>>2],CD[t+4>>2]=CD[r+4>>2],CD[t+8>>2]=CD[r+8>>2],CD[t+12>>2]=CD[r+12>>2],r=e+20|0,CD[t+16>>2]=CD[r>>2],CD[t+16+4>>2]=CD[r+4>>2],CD[t+16+8>>2]=CD[r+8>>2],CD[t+16+12>>2]=CD[r+12>>2],r=e+36|0,CD[t+32>>2]=CD[r>>2],CD[t+32+4>>2]=CD[r+4>>2],CD[t+32+8>>2]=CD[r+8>>2],CD[t+32+12>>2]=CD[r+12>>2],r=e+52|0,CD[t+48>>2]=CD[r>>2],CD[t+48+4>>2]=CD[r+4>>2],CD[t+48+8>>2]=CD[r+8>>2],CD[t+48+12>>2]=CD[r+12>>2],r=e+344|0,l=+RD[r>>2],c=e+348|0,s=l*+RD[e+352>>2],a=l*+RD[e+356>>2],RD[t+128>>2]=l*+RD[c>>2],RD[t+132>>2]=s,RD[t+136>>2]=a,RD[t+140>>2]=0,CD[t+240>>2]=e,h=e+544|0,CD[t+96>>2]=CD[h>>2],CD[t+96+4>>2]=CD[h+4>>2],CD[t+96+8>>2]=CD[h+8>>2],CD[t+96+12>>2]=CD[h+12>>2],CD[t+112>>2]=CD[c>>2],CD[t+112+4>>2]=CD[c+4>>2],CD[t+112+8>>2]=CD[c+8>>2],CD[t+112+12>>2]=CD[c+12>>2],c=e+312|0,CD[t+176>>2]=CD[c>>2],CD[t+176+4>>2]=CD[c+4>>2],CD[t+176+8>>2]=CD[c+8>>2],CD[t+176+12>>2]=CD[c+12>>2],c=e+328|0,CD[t+192>>2]=CD[c>>2],CD[t+192+4>>2]=CD[c+4>>2],CD[t+192+8>>2]=CD[c+8>>2],CD[t+192+12>>2]=CD[c+12>>2],a=+RD[r>>2],s=a*+RD[e+416>>2]*i,l=a*+RD[e+420>>2]*i,RD[t+208>>2]=a*+RD[e+412>>2]*i,RD[t+212>>2]=s,RD[t+216>>2]=l,RD[t+220>>2]=0,l=+RD[e+428>>2],s=+RD[e+432>>2],a=+RD[e+436>>2],n=(l*+RD[e+268>>2]+s*+RD[e+284>>2]+a*+RD[e+300>>2])*i,o=(l*+RD[e+272>>2]+s*+RD[e+288>>2]+a*+RD[e+304>>2])*i,RD[t+224>>2]=(+RD[e+264>>2]*l+ +RD[e+280>>2]*s+ +RD[e+296>>2]*a)*i,RD[t+228>>2]=n,RD[t+232>>2]=o,t=t+236|0,void(RD[t>>2]=0);RD[t>>2]=1,CD[t+4>>2]=0,CD[t+4+4>>2]=0,CD[t+4+8>>2]=0,CD[t+4+12>>2]=0,RD[t+20>>2]=1,CD[t+24>>2]=0,CD[t+24+4>>2]=0,CD[t+24+8>>2]=0,CD[t+24+12>>2]=0,RD[t+40>>2]=1,CD[t+44>>2]=0,CD[t+44+4>>2]=0,CD[t+44+8>>2]=0,CD[t+44+12>>2]=0,CD[t+44+16>>2]=0,CD[t+240>>2]=0,CD[t+128>>2]=0,CD[t+128+4>>2]=0,CD[t+128+8>>2]=0,CD[t+128+12>>2]=0,RD[t+96>>2]=1,RD[t+100>>2]=1,RD[t+104>>2]=1,RD[t+108>>2]=0,RD[t+112>>2]=1,RD[t+116>>2]=1,RD[t+120>>2]=1,RD[t+124>>2]=0,e=t+176|0,r=e+60|0;do CD[e>>2]=0,e=e+4|0;while((e|0)<(r|0));return t=t+236|0,void(RD[t>>2]=0)}function ZS(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0;t&&CD[t+180>>2]&1&&(p=+RD[t+4>>2],_=+RD[e>>2],h=+RD[t+20>>2],f=+RD[e+4>>2],s=+RD[t+36>>2],i=+RD[e+8>>2],d=+RD[t+8>>2],c=+RD[t+24>>2],n=+RD[t+40>>2],u=+RD[t+12>>2],l=+RD[t+28>>2],r=+RD[t+44>>2],a=(p*_+h*f+s*i)*+RD[t+164>>2],o=(_*d+f*c+i*n)*+RD[t+168>>2],i=(_*u+f*l+i*r)*+RD[t+172>>2],RD[e>>2]=p*a+d*o+u*i,RD[e+4>>2]=h*a+c*o+l*i,RD[e+8>>2]=s*a+n*o+r*i,RD[e+12>>2]=0)}function $S(t,e,i,r,o,n,a,s,l,c,h){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l=+l,c=+c,h=+h;var u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0;if(L=CD[t+68>>2]|0,(L|0)==(CD[t+72>>2]|0)?(_=(L|0)==0?1:L<<1,(L|0)<(_|0)):0){if(_?(CD[5108]=(CD[5108]|0)+1,u=Aw((_*152|3)+16|0)|0,u?(CD[(u+4+15&-16)+-4>>2]=u,u=u+4+15&-16):u=0,d=CD[t+68>>2]|0):(u=0,d=L),(d|0)>0)for(d=d+-1|0,f=0;;){if(kw(u+(f*152|0)|0,(CD[t+76>>2]|0)+(f*152|0)|0,152)|0,(f|0)==(d|0))break;f=f+1|0}d=CD[t+76>>2]|0,d&&(TD[t+80>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[d+-4>>2]|0)),CD[t+76>>2]=0),TD[t+80>>0]=1,CD[t+76>>2]=u,CD[t+72>>2]=_,u=CD[t+68>>2]|0}else u=L;return CD[t+68>>2]=u+1,d=CD[t+76>>2]|0,CD[d+(L*152|0)+140>>2]=o,_=CD[t+16>>2]|0,t=CD[_+(i*244|0)+240>>2]|0,f=CD[_+(r*244|0)+240>>2]|0,CD[d+(L*152|0)+144>>2]=i,CD[d+(L*152|0)+148>>2]=r,V=+RD[n+84>>2],RD[d+(L*152|0)+104>>2]=V,CD[d+(L*152|0)+132>>2]=0,RD[d+(L*152|0)+100>>2]=0,RD[d+(L*152|0)+96>>2]=0,t?(CD[d+(L*152|0)+16>>2]=CD[e>>2],CD[d+(L*152|0)+16+4>>2]=CD[e+4>>2],CD[d+(L*152|0)+16+8>>2]=CD[e+8>>2],CD[d+(L*152|0)+16+12>>2]=CD[e+12>>2],B=+RD[a+4>>2],C=+RD[d+(L*152|0)+24>>2],R=+RD[a+8>>2],D=+RD[d+(L*152|0)+20>>2],E=+RD[d+(L*152|0)+16>>2],P=+RD[a>>2],RD[d+(L*152|0)>>2]=B*C-R*D,RD[d+(L*152|0)+4>>2]=R*E-C*P,RD[d+(L*152|0)+8>>2]=D*P-B*E,RD[d+(L*152|0)+12>>2]=0,g=((B*C-R*D)*+RD[t+264>>2]+ +RD[t+268>>2]*(R*E-C*P)+(D*P-B*E)*+RD[t+272>>2])*+RD[t+544>>2],b=((B*C-R*D)*+RD[t+280>>2]+(R*E-C*P)*+RD[t+284>>2]+(D*P-B*E)*+RD[t+288>>2])*+RD[t+548>>2],y=((B*C-R*D)*+RD[t+296>>2]+(R*E-C*P)*+RD[t+300>>2]+(D*P-B*E)*+RD[t+304>>2])*+RD[t+552>>2],RD[d+(L*152|0)+64>>2]=g,RD[d+(L*152|0)+68>>2]=b,RD[d+(L*152|0)+72>>2]=y,RD[d+(L*152|0)+76>>2]=0,M=E,S=D,T=C,x=B*C-R*D,C=R*E-C*P,E=D*P-B*E):(CD[d+(L*152|0)+64>>2]=0,CD[d+(L*152|0)+64+4>>2]=0,CD[d+(L*152|0)+64+8>>2]=0,CD[d+(L*152|0)+64+12>>2]=0,CD[d+(L*152|0)>>2]=0,CD[d+(L*152|0)+4>>2]=0,CD[d+(L*152|0)+8>>2]=0,CD[d+(L*152|0)+12>>2]=0,CD[d+(L*152|0)+16>>2]=0,CD[d+(L*152|0)+20>>2]=0,CD[d+(L*152|0)+24>>2]=0,CD[d+(L*152|0)+28>>2]=0,b=0,y=0,g=0,M=0,S=0,T=0,x=0,C=0,E=0),f?(B=-+RD[e>>2],H=-+RD[e+4>>2],P=-+RD[e+8>>2],RD[d+(L*152|0)+48>>2]=B,RD[d+(L*152|0)+52>>2]=H,RD[d+(L*152|0)+56>>2]=P,RD[d+(L*152|0)+60>>2]=0,k=+RD[s+4>>2],O=+RD[s+8>>2],I=+RD[s>>2],RD[d+(L*152|0)+32>>2]=k*P-O*H,RD[d+(L*152|0)+36>>2]=O*B-I*P,RD[d+(L*152|0)+40>>2]=I*H-k*B,RD[d+(L*152|0)+44>>2]=0,m=((k*P-O*H)*+RD[f+264>>2]+ +RD[f+268>>2]*(O*B-I*P)+(I*H-k*B)*+RD[f+272>>2])*+RD[f+544>>2],p=((k*P-O*H)*+RD[f+280>>2]+(O*B-I*P)*+RD[f+284>>2]+(I*H-k*B)*+RD[f+288>>2])*+RD[f+548>>2],v=((k*P-O*H)*+RD[f+296>>2]+(O*B-I*P)*+RD[f+300>>2]+(I*H-k*B)*+RD[f+304>>2])*+RD[f+552>>2],RD[d+(L*152|0)+80>>2]=m,RD[d+(L*152|0)+84>>2]=p,RD[d+(L*152|0)+88>>2]=v,RD[d+(L*152|0)+92>>2]=0,A=B,w=H,R=P,D=k*P-O*H,P=O*B-I*P,B=I*H-k*B):(CD[d+(L*152|0)+80>>2]=0,CD[d+(L*152|0)+80+4>>2]=0,CD[d+(L*152|0)+80+8>>2]=0,CD[d+(L*152|0)+80+12>>2]=0,CD[d+(L*152|0)+32>>2]=0,CD[d+(L*152|0)+32+4>>2]=0,CD[d+(L*152|0)+32+8>>2]=0,CD[d+(L*152|0)+32+12>>2]=0,CD[d+(L*152|0)+32+16>>2]=0,CD[d+(L*152|0)+32+20>>2]=0,CD[d+(L*152|0)+32+24>>2]=0,CD[d+(L*152|0)+32+28>>2]=0,m=0,p=0,v=0,A=0,w=0,R=0,D=0,P=0,B=0),t?(H=+RD[a+8>>2],I=+RD[a+4>>2],O=+RD[a>>2],b=+RD[t+344>>2]+((b*H-y*I)*+RD[e>>2]+(y*O-H*g)*+RD[e+4>>2]+(I*g-b*O)*+RD[e+8>>2])):b=0,f?(I=-m,p=-p,v=-v,k=+RD[s+8>>2],H=+RD[s+4>>2],O=+RD[s>>2],p=+RD[f+344>>2]+((k*p-H*v)*+RD[e>>2]+(O*v-k*I)*+RD[e+4>>2]+(H*I-O*p)*+RD[e+8>>2])):p=0,b=l/(b+p),RD[d+(L*152|0)+108>>2]=b,t?(m=+RD[_+(i*244|0)+192>>2],g=+RD[_+(i*244|0)+196>>2],y=+RD[_+(i*244|0)+200>>2],p=(+RD[_+(i*244|0)+176>>2]+ +RD[_+(i*244|0)+208>>2])*M+(+RD[_+(i*244|0)+180>>2]+ +RD[_+(i*244|0)+212>>2])*S+(+RD[_+(i*244|0)+184>>2]+ +RD[_+(i*244|0)+216>>2])*T):(m=0,g=0,y=0,p=M*0+S*0+T*0),p+=m*x+g*C+y*E,f?(l=+RD[_+(r*244|0)+192>>2],H=+RD[_+(r*244|0)+196>>2],O=+RD[_+(r*244|0)+200>>2],I=(+RD[_+(r*244|0)+176>>2]+ +RD[_+(r*244|0)+208>>2])*A+(+RD[_+(r*244|0)+180>>2]+ +RD[_+(r*244|0)+212>>2])*w+(+RD[_+(r*244|0)+184>>2]+ +RD[_+(r*244|0)+216>>2])*R,l*=D,H*=P,H=l+H,O*=B,O=H+O,O=I+O,O=p+O,O=c-O,O=b*O,r=d+(L*152|0)+112|0,RD[r>>2]=O,r=d+(L*152|0)+116|0,RD[r>>2]=h,O=-V,r=d+(L*152|0)+120|0,RD[r>>2]=O,r=d+(L*152|0)+124|0,void(RD[r>>2]=V)):(l=0,H=0,O=0,I=A*0+w*0+R*0,l*=D,H*=P,H=l+H,O*=B,O=H+O,O=I+O,O=p+O,O=c-O,O=b*O,r=d+(L*152|0)+112|0,RD[r>>2]=O,r=d+(L*152|0)+116|0,RD[r>>2]=h,O=-V,r=d+(L*152|0)+120|0,RD[r>>2]=O,r=d+(L*152|0)+124|0,void(RD[r>>2]=V))}function tT(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0;var a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0;if(T=CD[t+88>>2]|0,(T|0)==(CD[t+92>>2]|0)?(h=(T|0)==0?1:T<<1,(T|0)<(h|0)):0){if(h?(CD[5108]=(CD[5108]|0)+1,a=Aw((h*152|3)+16|0)|0,a?(CD[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,s=CD[t+88>>2]|0):(a=0,s=T),(s|0)>0)for(s=s+-1|0,c=0;;){if(kw(a+(c*152|0)|0,(CD[t+96>>2]|0)+(c*152|0)|0,152)|0,(c|0)==(s|0))break;c=c+1|0}s=CD[t+96>>2]|0,s&&(TD[t+100>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[s+-4>>2]|0)),CD[t+96>>2]=0),TD[t+100>>0]=1,CD[t+96>>2]=a,CD[t+92>>2]=h,a=CD[t+88>>2]|0}else a=T;return CD[t+88>>2]=a+1,c=CD[t+96>>2]|0,CD[c+(T*152|0)+140>>2]=o,CD[c+(T*152|0)+16>>2]=0,CD[c+(T*152|0)+16+4>>2]=0,CD[c+(T*152|0)+16+8>>2]=0,CD[c+(T*152|0)+16+12>>2]=0,RD[c+(T*152|0)+48>>2]=-0,RD[c+(T*152|0)+52>>2]=-0,RD[c+(T*152|0)+56>>2]=-0,RD[c+(T*152|0)+60>>2]=0,o=CD[t+16>>2]|0,t=CD[o+(i*244|0)+240>>2]|0,h=CD[o+(r*244|0)+240>>2]|0,CD[c+(T*152|0)+144>>2]=i,CD[c+(T*152|0)+148>>2]=r,S=+RD[n+88>>2],RD[c+(T*152|0)+104>>2]=S,CD[c+(T*152|0)+132>>2]=0,RD[c+(T*152|0)+100>>2]=0,RD[c+(T*152|0)+96>>2]=0,b=-+RD[e>>2],v=-+RD[e+4>>2],M=-+RD[e+8>>2],RD[c+(T*152|0)>>2]=b,RD[c+(T*152|0)+4>>2]=v,RD[c+(T*152|0)+8>>2]=M,RD[c+(T*152|0)+12>>2]=0,t?(l=(+RD[t+264>>2]*b+ +RD[t+268>>2]*v+ +RD[t+272>>2]*M)*+RD[t+544>>2],u=(+RD[t+280>>2]*b+ +RD[t+284>>2]*v+ +RD[t+288>>2]*M)*+RD[t+548>>2],d=(+RD[t+296>>2]*b+ +RD[t+300>>2]*v+ +RD[t+304>>2]*M)*+RD[t+552>>2]):(l=0,u=0,d=0),RD[c+(T*152|0)+64>>2]=l,RD[c+(T*152|0)+68>>2]=u,RD[c+(T*152|0)+72>>2]=d,RD[c+(T*152|0)+76>>2]=0,m=+RD[e>>2],g=+RD[e+4>>2],y=+RD[e+8>>2],_=+RD[e+12>>2],RD[c+(T*152|0)+32>>2]=m,RD[c+(T*152|0)+36>>2]=g,RD[c+(T*152|0)+40>>2]=y,RD[c+(T*152|0)+44>>2]=_,h?(d=(m*+RD[h+264>>2]+g*+RD[h+268>>2]+y*+RD[h+272>>2])*+RD[h+544>>2],u=(m*+RD[h+280>>2]+g*+RD[h+284>>2]+y*+RD[h+288>>2])*+RD[h+548>>2],l=(m*+RD[h+296>>2]+g*+RD[h+300>>2]+y*+RD[h+304>>2])*+RD[h+552>>2]):(d=0,u=0,l=0),RD[c+(T*152|0)+80>>2]=d,RD[c+(T*152|0)+84>>2]=u,RD[c+(T*152|0)+88>>2]=l,RD[c+(T*152|0)+92>>2]=0,t?(p=+RD[t+264>>2]*b+ +RD[t+268>>2]*v+ +RD[t+272>>2]*M,d=+RD[t+280>>2]*b+ +RD[t+284>>2]*v+ +RD[t+288>>2]*M,u=+RD[t+296>>2]*b+ +RD[t+300>>2]*v+ +RD[t+304>>2]*M):(p=0,d=0,u=0),h?(l=+RD[h+264>>2]*m+ +RD[h+268>>2]*g+ +RD[h+272>>2]*y,f=m*+RD[h+280>>2]+g*+RD[h+284>>2]+y*+RD[h+288>>2],_=m*+RD[h+296>>2]+g*+RD[h+300>>2]+y*+RD[h+304>>2]):(l=0,f=0,_=0),_=1/(p*b+d*v+u*M+0+(l*m+f*g+_*y)),RD[c+(T*152|0)+108>>2]=_,t?(u=+RD[o+(i*244|0)+192>>2],l=+RD[o+(i*244|0)+196>>2],p=+RD[o+(i*244|0)+200>>2],d=(+RD[o+(i*244|0)+176>>2]+ +RD[o+(i*244|0)+208>>2])*0+(+RD[o+(i*244|0)+180>>2]+ +RD[o+(i*244|0)+212>>2])*0+(+RD[o+(i*244|0)+184>>2]+ +RD[o+(i*244|0)+216>>2])*0):(u=0,l=0,p=0,d=0),l=d+(u*b+l*v+p*M),h?(p=+RD[o+(r*244|0)+192>>2],b=+RD[o+(r*244|0)+196>>2],M=+RD[o+(r*244|0)+200>>2],v=(+RD[o+(r*244|0)+176>>2]+ +RD[o+(r*244|0)+208>>2])*-0+(+RD[o+(r*244|0)+180>>2]+ +RD[o+(r*244|0)+212>>2])*-0+(+RD[o+(r*244|0)+184>>2]+ +RD[o+(r*244|0)+216>>2])*-0,p*=m,g=b*g,g=p+g,M*=y,M=g+M,M=v+M,M=l+M,M=0-M,M=_*M,i=c+(T*152|0)+112|0,RD[i>>2]=M,i=c+(T*152|0)+116|0,RD[i>>2]=0,M=-S,i=c+(T*152|0)+120|0,RD[i>>2]=M,i=c+(T*152|0)+124|0,void(RD[i>>2]=S)):(p=0,b=0,M=0,v=-0,p*=m,g=b*g,g=p+g,M*=y,M=g+M,M=v+M,M=l+M,M=0-M,M=_*M,i=c+(T*152|0)+112|0,RD[i>>2]=M,i=c+(T*152|0)+116|0,RD[i>>2]=0,M=-S,i=c+(T*152|0)+120|0,RD[i>>2]=M,i=c+(T*152|0)+124|0,void(RD[i>>2]=S))}function eT(t,e,i){t|=0,e|=0,i=+i;var r=0,o=0,n=0;if(o=BD,BD=BD+496|0,r=CD[e+212>>2]|0,(r|0)>-1)return t=r,BD=o,t|0;n=(CD[e+236>>2]&2|0)==0,r=n?0:e;do if(!n){if(+RD[r+344>>2]==0?(CD[r+204>>2]&2|0)==0:0)break;return n=CD[t+8>>2]|0,Bw(o+244|0,0,244)|0,QS(l_(t+4|0,o+244|0)|0,e,i),CD[e+212>>2]=n,t=n,BD=o,t|0}while(0);return r=CD[t+188>>2]|0,(r|0)>=0?(t=r,BD=o,t|0):(CD[t+188>>2]=CD[t+8>>2],Bw(o|0,0,244)|0,QS(l_(t+4|0,o)|0,0,i),t=CD[t+188>>2]|0,BD=o,t|0)}function iT(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0,N=0,F=0,G=0,z=0,j=0,U=0,W=0,X=0,q=0,K=0,Y=0,Q=0,Z=0;if(Z=BD,BD=BD+80|0,(i|0)<=0)return void(BD=Z);for(K=0;;){if(G=CD[e+(K<<2)>>2]|0,z=CD[G+740>>2]|0,j=CD[G+744>>2]|0,U=eT(t,z,+RD[r+12>>2])|0,W=eT(t,j,+RD[r+12>>2])|0,X=CD[t+16>>2]|0,(((((+RD[X+(U*244|0)+128>>2]==0?+RD[X+(U*244|0)+132>>2]==0:0)?+RD[X+(U*244|0)+136>>2]==0:0)?+RD[X+(W*244|0)+128>>2]==0:0)?+RD[X+(W*244|0)+132>>2]==0:0)?+RD[X+(W*244|0)+136>>2]==0:0)||(Q=9),(Q|0)==9?(Q=0,q=CD[G+748>>2]|0,(q|0)>0):0){n=q,Y=0,o=1;do{if(J=G+4+(Y*184|0)|0,u=G+4+(Y*184|0)+80|0,+RD[u>>2]<=+RD[G+756>>2]){if(N=CD[t+28>>2]|0,(N|0)==(CD[t+32>>2]|0)?(F=(N|0)==0?1:N<<1,(N|0)<(F|0)):0){if(F?(CD[5108]=(CD[5108]|0)+1,n=Aw((F*152|3)+16|0)|0,n?(CD[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,a=CD[t+28>>2]|0):(n=0,a=N),(a|0)>0)for(a=a+-1|0,c=0;;){if(kw(n+(c*152|0)|0,(CD[t+36>>2]|0)+(c*152|0)|0,152)|0,(c|0)==(a|0))break;c=c+1|0}a=CD[t+36>>2]|0,a&&(TD[t+40>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[a+-4>>2]|0)),CD[t+36>>2]=0),TD[t+40>>0]=1,CD[t+36>>2]=n,CD[t+32>>2]=F,n=CD[t+28>>2]|0}else n=N;CD[t+28>>2]=n+1,O=CD[t+36>>2]|0,n=(CD[z+236>>2]&2|0)==0?0:z,c=(CD[j+236>>2]&2|0)==0?0:j,CD[O+(N*152|0)+144>>2]=U,CD[O+(N*152|0)+148>>2]=W,CD[O+(N*152|0)+132>>2]=J,y=+RD[G+4+(Y*184|0)+48>>2]-+RD[z+52>>2],x=+RD[G+4+(Y*184|0)+52>>2]-+RD[z+56>>2],b=+RD[G+4+(Y*184|0)+56>>2]-+RD[z+60>>2],RD[Z+64>>2]=y,RD[Z+64+4>>2]=x,RD[Z+64+8>>2]=b,RD[Z+64+12>>2]=0,E=+RD[G+4+(Y*184|0)+32>>2]-+RD[j+52>>2],A=+RD[G+4+(Y*184|0)+36>>2]-+RD[j+56>>2],C=+RD[G+4+(Y*184|0)+40>>2]-+RD[j+60>>2],RD[Z+48>>2]=E,RD[Z+48+4>>2]=A,RD[Z+48+8>>2]=C,RD[Z+48+12>>2]=0,CD[X+(U*244|0)+240>>2]|0?(s=+RD[X+(U*244|0)+192>>2]+ +RD[X+(U*244|0)+224>>2],I=+RD[X+(U*244|0)+196>>2]+ +RD[X+(U*244|0)+228>>2],h=+RD[X+(U*244|0)+200>>2]+ +RD[X+(U*244|0)+232>>2],m=+RD[X+(U*244|0)+184>>2]+ +RD[X+(U*244|0)+216>>2]+(s*x-I*y),s=+RD[X+(U*244|0)+180>>2]+ +RD[X+(U*244|0)+212>>2]+(h*y-s*b),h=+RD[X+(U*244|0)+176>>2]+ +RD[X+(U*244|0)+208>>2]+(I*b-h*x)):(m=0,s=0,h=0),CD[X+(W*244|0)+240>>2]|0?(f=+RD[X+(W*244|0)+192>>2]+ +RD[X+(W*244|0)+224>>2],I=+RD[X+(W*244|0)+196>>2]+ +RD[X+(W*244|0)+228>>2],l=+RD[X+(W*244|0)+200>>2]+ +RD[X+(W*244|0)+232>>2],_=+RD[X+(W*244|0)+184>>2]+ +RD[X+(W*244|0)+216>>2]+(f*A-I*E),f=+RD[X+(W*244|0)+180>>2]+ +RD[X+(W*244|0)+212>>2]+(l*E-f*C),l=+RD[X+(W*244|0)+176>>2]+ +RD[X+(W*244|0)+208>>2]+(I*C-l*A)):(_=0,f=0,l=0),I=h-l,V=s-f,R=m-_,L=G+4+(Y*184|0)+64|0,D=+RD[L>>2],k=G+4+(Y*184|0)+68|0,P=+RD[k>>2],H=G+4+(Y*184|0)+72|0,B=+RD[H>>2],a=CD[t+16>>2]|0,p=CD[a+(U*244|0)+240>>2]|0,d=CD[a+(W*244|0)+240>>2]|0,p?(S=((x*B-b*P)*+RD[p+264>>2]+(b*D-B*y)*+RD[p+268>>2]+(P*y-x*D)*+RD[p+272>>2])*+RD[p+544>>2],v=((x*B-b*P)*+RD[p+280>>2]+(b*D-B*y)*+RD[p+284>>2]+(P*y-x*D)*+RD[p+288>>2])*+RD[p+548>>2],g=((x*B-b*P)*+RD[p+296>>2]+(b*D-B*y)*+RD[p+300>>2]+(P*y-x*D)*+RD[p+304>>2])*+RD[p+552>>2]):(S=0,v=0,g=0),RD[O+(N*152|0)+64>>2]=S,RD[O+(N*152|0)+68>>2]=v,RD[O+(N*152|0)+72>>2]=g,RD[O+(N*152|0)+76>>2]=0,_=+RD[H>>2],M=+RD[k>>2],h=+RD[L>>2],d?(T=(+RD[d+264>>2]*-(A*_-C*M)+ +RD[d+268>>2]*-(C*h-_*E)+ +RD[d+272>>2]*-(M*E-A*h))*+RD[d+544>>2],m=(+RD[d+280>>2]*-(A*_-C*M)+ +RD[d+284>>2]*-(C*h-_*E)+ +RD[d+288>>2]*-(M*E-A*h))*+RD[d+548>>2],f=(+RD[d+296>>2]*-(A*_-C*M)+ +RD[d+300>>2]*-(C*h-_*E)+ +RD[d+304>>2]*-(M*E-A*h))*+RD[d+552>>2]):(T=0,m=0,f=0),RD[O+(N*152|0)+80>>2]=T,RD[O+(N*152|0)+84>>2]=m,RD[O+(N*152|0)+88>>2]=f,RD[O+(N*152|0)+92>>2]=0,v=p?+RD[p+344>>2]+((v*b-g*x)*+RD[L>>2]+(g*y-b*S)*+RD[k>>2]+(x*S-v*y)*+RD[H>>2]):0,d?(w=-T,S=-m,T=-f,S=+RD[d+344>>2]+((C*S-A*T)*+RD[L>>2]+(E*T-C*w)*+RD[k>>2]+(A*w-E*S)*+RD[H>>2])):S=0,RD[O+(N*152|0)+108>>2]=1/(v+S),p?(CD[O+(N*152|0)+16>>2]=CD[L>>2],CD[O+(N*152|0)+16+4>>2]=CD[L+4>>2],CD[O+(N*152|0)+16+8>>2]=CD[L+8>>2],CD[O+(N*152|0)+16+12>>2]=CD[L+12>>2],RD[O+(N*152|0)>>2]=x*B-b*P,RD[O+(N*152|0)+4>>2]=b*D-B*y,RD[O+(N*152|0)+8>>2]=P*y-x*D,RD[O+(N*152|0)+12>>2]=0):(CD[O+(N*152|0)>>2]=0,CD[O+(N*152|0)+4>>2]=0,CD[O+(N*152|0)+8>>2]=0,CD[O+(N*152|0)+12>>2]=0,CD[O+(N*152|0)+16>>2]=0,CD[O+(N*152|0)+20>>2]=0,CD[O+(N*152|0)+24>>2]=0,CD[O+(N*152|0)+28>>2]=0),d?(T=-+RD[k>>2],w=-+RD[H>>2],RD[O+(N*152|0)+48>>2]=-+RD[L>>2],RD[O+(N*152|0)+52>>2]=T,RD[O+(N*152|0)+56>>2]=w,RD[O+(N*152|0)+60>>2]=0,RD[O+(N*152|0)+32>>2]=-(A*_-C*M),RD[O+(N*152|0)+36>>2]=-(C*h-_*E),RD[O+(N*152|0)+40>>2]=-(M*E-A*h),RD[O+(N*152|0)+44>>2]=0):(CD[O+(N*152|0)+32>>2]=0,CD[O+(N*152|0)+32+4>>2]=0,CD[O+(N*152|0)+32+8>>2]=0,CD[O+(N*152|0)+32+12>>2]=0,CD[O+(N*152|0)+32+16>>2]=0,CD[O+(N*152|0)+32+20>>2]=0,CD[O+(N*152|0)+32+24>>2]=0,CD[O+(N*152|0)+32+28>>2]=0),w=+RD[u>>2]+ +RD[r+56>>2],p?(_=+RD[p+332>>2],h=+RD[p+336>>2],T=+RD[p+328>>2],S=_*b-h*x+ +RD[p+312>>2],h=+RD[p+316>>2]+(h*y-b*T),_=x*T-_*y+ +RD[p+320>>2]):(S=0,h=0,_=0),d?(g=+RD[d+332>>2],m=+RD[d+336>>2],x=+RD[d+328>>2],f=g*C-m*A+ +RD[d+312>>2],m=+RD[d+316>>2]+(m*E-C*x),g=A*x-g*E+ +RD[d+320>>2]):(f=0,m=0,g=0),T=+RD[L>>2]*(S-f)+(h-m)*+RD[k>>2]+(_-g)*+RD[H>>2],RD[O+(N*152|0)+104>>2]=+RD[G+4+(Y*184|0)+84>>2],T*=+RD[G+4+(Y*184|0)+92>>2],T=T>=-0?0:-T;do if(CD[r+64>>2]&4){m=+RD[G+4+(Y*184|0)+120>>2]*+RD[r+60>>2],RD[O+(N*152|0)+100>>2]=m;do if(p){if(!(CD[a+(U*244|0)+240>>2]|0))break;A=m*+RD[O+(N*152|0)+20>>2]*+RD[a+(U*244|0)+132>>2]*+RD[p+352>>2]*+RD[a+(U*244|0)+116>>2],E=m*+RD[O+(N*152|0)+24>>2]*+RD[a+(U*244|0)+136>>2]*+RD[p+356>>2]*+RD[a+(U*244|0)+120>>2],RD[a+(U*244|0)+64>>2]=+RD[a+(U*244|0)+112>>2]*m*+RD[O+(N*152|0)+16>>2]*+RD[a+(U*244|0)+128>>2]*+RD[p+348>>2]+ +RD[a+(U*244|0)+64>>2],RD[a+(U*244|0)+68>>2]=A+ +RD[a+(U*244|0)+68>>2],RD[a+(U*244|0)+72>>2]=E+ +RD[a+(U*244|0)+72>>2],E=m*+RD[a+(U*244|0)+100>>2]*+RD[O+(N*152|0)+68>>2],A=m*+RD[a+(U*244|0)+104>>2]*+RD[O+(N*152|0)+72>>2],RD[a+(U*244|0)+80>>2]=m*+RD[a+(U*244|0)+96>>2]*+RD[O+(N*152|0)+64>>2]+ +RD[a+(U*244|0)+80>>2],RD[a+(U*244|0)+84>>2]=E+ +RD[a+(U*244|0)+84>>2],RD[a+(U*244|0)+88>>2]=A+ +RD[a+(U*244|0)+88>>2]}while(0);if(!d)break;if(f=+RD[O+(N*152|0)+100>>2],!(CD[a+(W*244|0)+240>>2]|0))break;A=+RD[O+(N*152|0)+88>>2],E=+RD[O+(N*152|0)+84>>2],C=+RD[O+(N*152|0)+80>>2],S=f*+RD[O+(N*152|0)+52>>2]*+RD[a+(W*244|0)+132>>2]*+RD[d+352>>2]*+RD[a+(W*244|0)+116>>2],x=f*+RD[O+(N*152|0)+56>>2]*+RD[a+(W*244|0)+136>>2]*+RD[d+356>>2]*+RD[a+(W*244|0)+120>>2],RD[a+(W*244|0)+64>>2]=+RD[a+(W*244|0)+112>>2]*f*+RD[O+(N*152|0)+48>>2]*+RD[a+(W*244|0)+128>>2]*+RD[d+348>>2]+ +RD[a+(W*244|0)+64>>2],RD[a+(W*244|0)+68>>2]=S+ +RD[a+(W*244|0)+68>>2],RD[a+(W*244|0)+72>>2]=x+ +RD[a+(W*244|0)+72>>2],E=E*+RD[a+(W*244|0)+100>>2]*-f,A=A*+RD[a+(W*244|0)+104>>2]*-f,RD[a+(W*244|0)+80>>2]=+RD[a+(W*244|0)+80>>2]-C*+RD[a+(W*244|0)+96>>2]*-f,RD[a+(W*244|0)+84>>2]=+RD[a+(W*244|0)+84>>2]-E,RD[a+(W*244|0)+88>>2]=+RD[a+(W*244|0)+88>>2]-A}else RD[O+(N*152|0)+100>>2]=0;while(0);RD[O+(N*152|0)+96>>2]=0,CD[a+(U*244|0)+240>>2]|0?(g=+RD[a+(U*244|0)+208>>2],m=+RD[a+(U*244|0)+212>>2],f=+RD[a+(U*244|0)+216>>2],_=+RD[a+(U*244|0)+224>>2],h=+RD[a+(U*244|0)+228>>2],l=+RD[a+(U*244|0)+232>>2]):(g=0,m=0,f=0,_=0,h=0,l=0),CD[a+(W*244|0)+240>>2]|0?(s=+RD[a+(W*244|0)+208>>2],y=+RD[a+(W*244|0)+212>>2],b=+RD[a+(W*244|0)+216>>2],v=+RD[a+(W*244|0)+224>>2],M=+RD[a+(W*244|0)+228>>2],S=+RD[a+(W*244|0)+232>>2]):(s=0,y=0,b=0,v=0,M=0,S=0),f=T-((g+ +RD[a+(U*244|0)+176>>2])*+RD[O+(N*152|0)+16>>2]+(m+ +RD[a+(U*244|0)+180>>2])*+RD[O+(N*152|0)+20>>2]+(f+ +RD[a+(U*244|0)+184>>2])*+RD[O+(N*152|0)+24>>2]+((_+ +RD[a+(U*244|0)+192>>2])*+RD[O+(N*152|0)>>2]+(h+ +RD[a+(U*244|0)+196>>2])*+RD[O+(N*152|0)+4>>2]+(l+ +RD[a+(U*244|0)+200>>2])*+RD[O+(N*152|0)+8>>2])+((s+ +RD[a+(W*244|0)+176>>2])*+RD[O+(N*152|0)+48>>2]+(y+ +RD[a+(W*244|0)+180>>2])*+RD[O+(N*152|0)+52>>2]+(b+ +RD[a+(W*244|0)+184>>2])*+RD[O+(N*152|0)+56>>2]+((v+ +RD[a+(W*244|0)+192>>2])*+RD[O+(N*152|0)+32>>2]+(M+ +RD[a+(W*244|0)+196>>2])*+RD[O+(N*152|0)+36>>2]+(S+ +RD[a+(W*244|0)+200>>2])*+RD[O+(N*152|0)+40>>2]))),p=(CD[r+44>>2]|0)==0,h=+RD[r+12>>2],w>0?(m=0,f-=w/h):m=-(w*+RD[(p|w>+RD[r+48>>2]?r+32|0:r+36|0)>>2])/h,h=+RD[O+(N*152|0)+108>>2],l=m*h,h=f*h,p|w>+RD[r+48>>2]?(RD[O+(N*152|0)+112>>2]=l+h,RD[O+(N*152|0)+128>>2]=0):(RD[O+(N*152|0)+112>>2]=h,RD[O+(N*152|0)+128>>2]=l),RD[O+(N*152|0)+116>>2]=0,RD[O+(N*152|0)+120>>2]=0,RD[O+(N*152|0)+124>>2]=1e10,CD[O+(N*152|0)+140>>2]=CD[t+68>>2],n?(m=+RD[n+328>>2],s=+RD[n+332>>2],g=+RD[n+336>>2]):(m=0,s=0,g=0),c?(f=+RD[c+328>>2],_=+RD[c+332>>2],h=+RD[c+336>>2]):(f=0,_=0,h=0),l=f-m,m=_-s,f=h-g,RD[Z+32>>2]=l,RD[Z+32+4>>2]=m,RD[Z+32+8>>2]=f,RD[Z+32+12>>2]=0;do if((o|0)>0?+RD[G+4+(Y*184|0)+88>>2]>0:0){if(o=o+-1|0,h=+ND(+(l*l+m*m+f*f)),h>+RD[r+80>>2]){if(RD[Z+32>>2]=l*(1/h),RD[Z+32+4>>2]=m*(1/h),RD[Z+32+8>>2]=f*(1/h),CD[z+180>>2]&2?(_=+RD[z+4>>2],v=+RD[z+20>>2],x=+RD[z+36>>2],g=+RD[z+8>>2],S=+RD[z+24>>2],E=+RD[z+40>>2],s=+RD[z+12>>2],T=+RD[z+28>>2],w=+RD[z+44>>2],C=(_*l*(1/h)+v*m*(1/h)+f*(1/h)*x)*+RD[z+164>>2],A=(l*(1/h)*g+m*(1/h)*S+f*(1/h)*E)*+RD[z+168>>2],h=(l*(1/h)*s+m*(1/h)*T+f*(1/h)*w)*+RD[z+172>>2],RD[Z+32>>2]=_*C+g*A+s*h,RD[Z+32+4>>2]=v*C+S*A+T*h,RD[Z+32+8>>2]=x*C+E*A+w*h,RD[Z+32+12>>2]=0,s=_*C+g*A+s*h,l=v*C+S*A+T*h,h=x*C+E*A+w*h):(s=l*(1/h),l=m*(1/h),h=f*(1/h)),CD[j+180>>2]&2&&(v=+RD[j+4>>2],x=+RD[j+20>>2],f=+RD[j+36>>2],S=+RD[j+8>>2],E=+RD[j+24>>2],m=+RD[j+40>>2],T=+RD[j+12>>2],w=+RD[j+28>>2],g=+RD[j+44>>2],C=(v*s+x*l+f*h)*+RD[j+164>>2],A=(s*S+l*E+h*m)*+RD[j+168>>2],l=(s*T+l*w+h*g)*+RD[j+172>>2],RD[Z+32>>2]=v*C+S*A+T*l,RD[Z+32+4>>2]=x*C+E*A+w*l,RD[Z+32+8>>2]=f*C+m*A+g*l,RD[Z+32+12>>2]=0,h=f*C+m*A+g*l,s=v*C+S*A+T*l,l=x*C+E*A+w*l),!(+ND(+(s*s+l*l+h*h))>.001))break;
tT(t,Z+32|0,U,W,N,J);break}if(tT(t,L,U,W,N,J),h=+RD[H>>2],+JD(+h)>.7071067690849304?(f=+RD[k>>2],w=1/+ND(+(h*h+f*f)),RD[Z+16>>2]=0,RD[Z+16+4>>2]=-(w*h),RD[Z+16+8>>2]=w*f,RD[Z>>2]=(h*h+f*f)*w,A=+RD[L>>2],RD[Z+4>>2]=-(A*w*f),s=A*-(w*h),m=0,l=-(w*h),g=w*f,_=(h*h+f*f)*w,f=-(A*w*f)):(_=+RD[L>>2],w=+RD[k>>2],f=1/+ND(+(_*_+w*w)),RD[Z+16>>2]=-(w*f),RD[Z+16+4>>2]=f*_,RD[Z+16+8>>2]=0,RD[Z>>2]=-(h*f*_),RD[Z+4>>2]=h*-(w*f),s=(_*_+w*w)*f,m=-(w*f),l=f*_,g=0,_=-(h*f*_),f=h*-(w*f)),RD[Z+8>>2]=s,p=(CD[z+180>>2]&2|0)==0,p||(b=+RD[z+4>>2],v=+RD[z+20>>2],x=+RD[z+36>>2],h=+RD[z+8>>2],S=+RD[z+24>>2],E=+RD[z+40>>2],M=+RD[z+12>>2],T=+RD[z+28>>2],w=+RD[z+44>>2],C=(b*m+v*l+x*g)*+RD[z+164>>2],A=(m*h+l*S+g*E)*+RD[z+168>>2],g=(m*M+l*T+g*w)*+RD[z+172>>2],RD[Z+16>>2]=b*C+h*A+M*g,RD[Z+16+4>>2]=v*C+S*A+T*g,RD[Z+16+8>>2]=x*C+E*A+w*g,RD[Z+16+12>>2]=0,m=b*C+h*A+M*g,l=v*C+S*A+T*g,g=x*C+E*A+w*g),d=(CD[j+180>>2]&2|0)==0,d||(b=+RD[j+4>>2],v=+RD[j+20>>2],x=+RD[j+36>>2],h=+RD[j+8>>2],S=+RD[j+24>>2],E=+RD[j+40>>2],M=+RD[j+12>>2],T=+RD[j+28>>2],w=+RD[j+44>>2],C=(b*m+v*l+x*g)*+RD[j+164>>2],A=(m*h+l*S+g*E)*+RD[j+168>>2],g=(m*M+l*T+g*w)*+RD[j+172>>2],RD[Z+16>>2]=b*C+h*A+M*g,RD[Z+16+4>>2]=v*C+S*A+T*g,RD[Z+16+8>>2]=x*C+E*A+w*g,RD[Z+16+12>>2]=0,m=b*C+h*A+M*g,l=v*C+S*A+T*g,g=x*C+E*A+w*g),p?h=s:(y=+RD[z+4>>2],v=+RD[z+20>>2],x=+RD[z+36>>2],b=+RD[z+8>>2],S=+RD[z+24>>2],E=+RD[z+40>>2],M=+RD[z+12>>2],T=+RD[z+28>>2],w=+RD[z+44>>2],C=(y*_+v*f+x*s)*+RD[z+164>>2],A=(_*b+f*S+s*E)*+RD[z+168>>2],h=(_*M+f*T+s*w)*+RD[z+172>>2],RD[Z>>2]=y*C+b*A+M*h,RD[Z+4>>2]=v*C+S*A+T*h,RD[Z+8>>2]=x*C+E*A+w*h,RD[Z+12>>2]=0,_=y*C+b*A+M*h,f=v*C+S*A+T*h,h=x*C+E*A+w*h),d||(y=+RD[j+4>>2],v=+RD[j+20>>2],x=+RD[j+36>>2],b=+RD[j+8>>2],S=+RD[j+24>>2],E=+RD[j+40>>2],M=+RD[j+12>>2],T=+RD[j+28>>2],w=+RD[j+44>>2],C=(y*_+v*f+x*h)*+RD[j+164>>2],A=(_*b+f*S+h*E)*+RD[j+168>>2],h=(_*M+f*T+h*w)*+RD[j+172>>2],RD[Z>>2]=y*C+b*A+M*h,RD[Z+4>>2]=v*C+S*A+T*h,RD[Z+8>>2]=x*C+E*A+w*h,RD[Z+12>>2]=0,_=y*C+b*A+M*h,f=v*C+S*A+T*h,h=x*C+E*A+w*h),+ND(+(m*m+l*l+g*g))>.001&&tT(t,Z+16|0,U,W,N,J),!(+ND(+(_*_+f*f+h*h))>.001))break;tT(t,Z,U,W,N,J)}while(0);do if(CD[r+64>>2]&32){if(!(TD[G+4+(Y*184|0)+116>>0]|0)){Q=95;break}if($S(t,G+4+(Y*184|0)+152|0,U,W,N,J,Z+64|0,Z+48|0,1,+RD[G+4+(Y*184|0)+132>>2],+RD[G+4+(Y*184|0)+140>>2]),!(CD[r+64>>2]&16))break;$S(t,G+4+(Y*184|0)+168|0,U,W,N,J,Z+64|0,Z+48|0,1,+RD[G+4+(Y*184|0)+136>>2],+RD[G+4+(Y*184|0)+144>>2])}else Q=95;while(0);do if((Q|0)==95){if(Q=0,a=G+4+(Y*184|0)+152|0,g=+RD[L>>2],_=+RD[k>>2],l=+RD[H>>2],m=I-(I*D+V*P+R*B)*g,f=V-(I*D+V*P+R*B)*_,h=R-(I*D+V*P+R*B)*l,RD[G+4+(Y*184|0)+152>>2]=m,p=G+4+(Y*184|0)+156|0,RD[p>>2]=f,u=G+4+(Y*184|0)+160|0,RD[u>>2]=h,RD[G+4+(Y*184|0)+164>>2]=0,(CD[r+64>>2]&64|0)==0?m*m+f*f+h*h>1.1920928955078125e-7:0){if(I=1/+ND(+(m*m+f*f+h*h)),RD[a>>2]=m*I,RD[p>>2]=I*f,RD[u>>2]=I*h,ZS(z,a),ZS(j,a),$S(t,a,U,W,N,J,Z+64|0,Z+48|0,1,0,0),!(CD[r+64>>2]&16))break;d=G+4+(Y*184|0)+168|0,R=+RD[p>>2],E=+RD[H>>2],C=+RD[u>>2],A=+RD[k>>2],B=+RD[L>>2],w=+RD[a>>2],RD[G+4+(Y*184|0)+168>>2]=R*E-C*A,RD[G+4+(Y*184|0)+180>>2]=0,I=1/+ND(+((R*E-C*A)*(R*E-C*A)+(C*B-E*w)*(C*B-E*w)+(A*w-R*B)*(A*w-R*B))),RD[d>>2]=(R*E-C*A)*I,RD[G+4+(Y*184|0)+172>>2]=(C*B-E*w)*I,RD[G+4+(Y*184|0)+176>>2]=(A*w-R*B)*I,ZS(z,d),ZS(j,d),$S(t,d,U,W,N,J,Z+64|0,Z+48|0,1,0,0);break}if(d=G+4+(Y*184|0)+168|0,+JD(+l)>.7071067690849304?(I=1/+ND(+(l*l+_*_)),RD[a>>2]=0,RD[p>>2]=-(I*l),RD[u>>2]=I*_,s=-(g*I*_),h=g*-(I*l),l=(l*l+_*_)*I):(I=1/+ND(+(g*g+_*_)),RD[a>>2]=-(_*I),RD[p>>2]=I*g,RD[u>>2]=0,s=l*-(_*I),h=(g*g+_*_)*I,l=-(l*I*g)),RD[d>>2]=l,RD[G+4+(Y*184|0)+172>>2]=s,RD[G+4+(Y*184|0)+176>>2]=h,ZS(z,a),ZS(j,a),$S(t,a,U,W,N,J,Z+64|0,Z+48|0,1,0,0),n=CD[r+64>>2]|0,n&16&&(ZS(z,d),ZS(j,d),$S(t,d,U,W,N,J,Z+64|0,Z+48|0,1,0,0),n=CD[r+64>>2]|0),(n&80|0)!=80)break;TD[G+4+(Y*184|0)+116>>0]=1}while(0);p=CD[t+16>>2]|0,n=CD[p+(U*244|0)+240>>2]|0,c=CD[p+(W*244|0)+240>>2]|0,u=CD[O+(N*152|0)+140>>2]|0,d=CD[t+76>>2]|0,a=CD[r+64>>2]|0;do if(a&4){if(l=+RD[G+4+(Y*184|0)+124>>2]*+RD[r+60>>2],RD[d+(u*152|0)+100>>2]=l,n&&(R=+RD[n+344>>2],I=l*R*+RD[d+(u*152|0)+20>>2]*+RD[n+352>>2]*+RD[p+(U*244|0)+116>>2],B=l*R*+RD[d+(u*152|0)+24>>2]*+RD[n+356>>2]*+RD[p+(U*244|0)+120>>2],RD[p+(U*244|0)+64>>2]=+RD[p+(U*244|0)+112>>2]*l*R*+RD[d+(u*152|0)+16>>2]*+RD[n+348>>2]+ +RD[p+(U*244|0)+64>>2],RD[p+(U*244|0)+68>>2]=I+ +RD[p+(U*244|0)+68>>2],RD[p+(U*244|0)+72>>2]=B+ +RD[p+(U*244|0)+72>>2],B=l*+RD[p+(U*244|0)+100>>2]*+RD[d+(u*152|0)+68>>2],I=l*+RD[p+(U*244|0)+104>>2]*+RD[d+(u*152|0)+72>>2],RD[p+(U*244|0)+80>>2]=l*+RD[p+(U*244|0)+96>>2]*+RD[d+(u*152|0)+64>>2]+ +RD[p+(U*244|0)+80>>2],RD[p+(U*244|0)+84>>2]=B+ +RD[p+(U*244|0)+84>>2],RD[p+(U*244|0)+88>>2]=I+ +RD[p+(U*244|0)+88>>2]),!c)break;if(l=+RD[c+344>>2],s=+RD[d+(u*152|0)+100>>2],!(CD[p+(W*244|0)+240>>2]|0))break;I=+RD[d+(u*152|0)+88>>2],B=+RD[d+(u*152|0)+84>>2],R=+RD[d+(u*152|0)+80>>2],A=s*l*+RD[d+(u*152|0)+52>>2]*+RD[c+352>>2]*+RD[p+(W*244|0)+116>>2],w=s*l*+RD[d+(u*152|0)+56>>2]*+RD[c+356>>2]*+RD[p+(W*244|0)+120>>2],RD[p+(W*244|0)+64>>2]=+RD[p+(W*244|0)+112>>2]*s*l*+RD[d+(u*152|0)+48>>2]*+RD[c+348>>2]+ +RD[p+(W*244|0)+64>>2],RD[p+(W*244|0)+68>>2]=A+ +RD[p+(W*244|0)+68>>2],RD[p+(W*244|0)+72>>2]=w+ +RD[p+(W*244|0)+72>>2],B=B*+RD[p+(W*244|0)+100>>2]*-s,I=I*+RD[p+(W*244|0)+104>>2]*-s,RD[p+(W*244|0)+80>>2]=+RD[p+(W*244|0)+80>>2]-R*+RD[p+(W*244|0)+96>>2]*-s,RD[p+(W*244|0)+84>>2]=+RD[p+(W*244|0)+84>>2]-B,RD[p+(W*244|0)+88>>2]=+RD[p+(W*244|0)+88>>2]-I}else RD[d+(u*152|0)+100>>2]=0;while(0);do if(a&16){if(!(a&4)){RD[d+((u+1|0)*152|0)+100>>2]=0;break}s=+RD[G+4+(Y*184|0)+128>>2]*+RD[r+60>>2],RD[d+((u+1|0)*152|0)+100>>2]=s;do if(n){if(l=+RD[n+344>>2],!(CD[p+(U*244|0)+240>>2]|0))break;I=s*l*+RD[d+((u+1|0)*152|0)+20>>2]*+RD[p+(U*244|0)+116>>2],B=s*l*+RD[d+((u+1|0)*152|0)+24>>2]*+RD[p+(U*244|0)+120>>2],RD[p+(U*244|0)+64>>2]=+RD[p+(U*244|0)+112>>2]*s*l*+RD[d+((u+1|0)*152|0)+16>>2]+ +RD[p+(U*244|0)+64>>2],RD[p+(U*244|0)+68>>2]=I+ +RD[p+(U*244|0)+68>>2],RD[p+(U*244|0)+72>>2]=B+ +RD[p+(U*244|0)+72>>2],B=s*+RD[p+(U*244|0)+100>>2]*+RD[d+((u+1|0)*152|0)+68>>2],I=s*+RD[p+(U*244|0)+104>>2]*+RD[d+((u+1|0)*152|0)+72>>2],RD[p+(U*244|0)+80>>2]=s*+RD[p+(U*244|0)+96>>2]*+RD[d+((u+1|0)*152|0)+64>>2]+ +RD[p+(U*244|0)+80>>2],RD[p+(U*244|0)+84>>2]=B+ +RD[p+(U*244|0)+84>>2],RD[p+(U*244|0)+88>>2]=I+ +RD[p+(U*244|0)+88>>2]}while(0);if(!c)break;if(s=+RD[c+344>>2],l=+RD[d+((u+1|0)*152|0)+100>>2],!(CD[p+(W*244|0)+240>>2]|0))break;I=+RD[d+((u+1|0)*152|0)+88>>2],B=+RD[d+((u+1|0)*152|0)+84>>2],R=+RD[d+((u+1|0)*152|0)+80>>2],A=l*s*+RD[d+((u+1|0)*152|0)+52>>2]*+RD[p+(W*244|0)+116>>2],w=l*s*+RD[d+((u+1|0)*152|0)+56>>2]*+RD[p+(W*244|0)+120>>2],RD[p+(W*244|0)+64>>2]=+RD[p+(W*244|0)+112>>2]*l*s*+RD[d+((u+1|0)*152|0)+48>>2]+ +RD[p+(W*244|0)+64>>2],RD[p+(W*244|0)+68>>2]=A+ +RD[p+(W*244|0)+68>>2],RD[p+(W*244|0)+72>>2]=w+ +RD[p+(W*244|0)+72>>2],B=B*+RD[p+(W*244|0)+100>>2]*-l,I=I*+RD[p+(W*244|0)+104>>2]*-l,RD[p+(W*244|0)+80>>2]=+RD[p+(W*244|0)+80>>2]-R*+RD[p+(W*244|0)+96>>2]*-l,RD[p+(W*244|0)+84>>2]=+RD[p+(W*244|0)+84>>2]-B,RD[p+(W*244|0)+88>>2]=+RD[p+(W*244|0)+88>>2]-I}while(0);n=CD[G+748>>2]|0}Y=Y+1|0}while((Y|0)<(n|0))}if((K|0)==(i+-1|0))break;K=K+1|0}BD=Z}function rT(t,e,i,r,o,n,a,s,l){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0;var c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0,N=0,F=0,G=0,z=0;if(G=BD,BD=BD+304|0,CD[t+188>>2]=-1,cM(4032),CD[t+184>>2]=0,(i|0)>0)for(l=0;;){if(CD[(CD[e+(l<<2)>>2]|0)+212>>2]=-1,(l|0)==(i+-1|0))break;l=l+1|0}if(l=CD[t+12>>2]|0,(l|0)<(i+1|0)){if(((i+1|0)!=0?(CD[5108]=(CD[5108]|0)+1,h=Aw(((i+1|0)*244|3)+16|0)|0,(h|0)!=0):0)?(CD[(h+4+15&-16)+-4>>2]=h,c=h+4+15&-16):c=0,l=CD[t+8>>2]|0,(l|0)>0)for(h=0;;){if(N=c+(h*244|0)|0,F=CD[t+16>>2]|0,O=F+(h*244|0)|0,CD[N>>2]=CD[O>>2],CD[N+4>>2]=CD[O+4>>2],CD[N+8>>2]=CD[O+8>>2],CD[N+12>>2]=CD[O+12>>2],N=c+(h*244|0)+16|0,O=F+(h*244|0)+16|0,CD[N>>2]=CD[O>>2],CD[N+4>>2]=CD[O+4>>2],CD[N+8>>2]=CD[O+8>>2],CD[N+12>>2]=CD[O+12>>2],N=c+(h*244|0)+32|0,O=F+(h*244|0)+32|0,CD[N>>2]=CD[O>>2],CD[N+4>>2]=CD[O+4>>2],CD[N+8>>2]=CD[O+8>>2],CD[N+12>>2]=CD[O+12>>2],N=c+(h*244|0)+48|0,O=F+(h*244|0)+48|0,CD[N>>2]=CD[O>>2],CD[N+4>>2]=CD[O+4>>2],CD[N+8>>2]=CD[O+8>>2],CD[N+12>>2]=CD[O+12>>2],kw(c+(h*244|0)+64|0,F+(h*244|0)+64|0,180)|0,(h|0)==(l+-1|0))break;h=h+1|0}l=CD[t+16>>2]|0,l&&(TD[t+20>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[l+-4>>2]|0)),CD[t+16>>2]=0),TD[t+20>>0]=1,CD[t+16>>2]=c,CD[t+12>>2]=i+1,c=t+8|0,h=i+1|0}else c=t+8|0,h=l;if(Bw(G|0,0,244)|0,l=CD[c>>2]|0,(l|0)<0)for((h|0)<0&&(h=CD[t+16>>2]|0,h&&(TD[t+20>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[h+-4>>2]|0)),CD[t+16>>2]=0),TD[t+20>>0]=1,CD[t+16>>2]=0,CD[t+12>>2]=0);;){if(F=CD[t+16>>2]|0,N=F+(l*244|0)|0,CD[N>>2]=CD[G>>2],CD[N+4>>2]=CD[G+4>>2],CD[N+8>>2]=CD[G+8>>2],CD[N+12>>2]=CD[G+12>>2],N=F+(l*244|0)+16|0,CD[N>>2]=CD[G+16>>2],CD[N+4>>2]=CD[G+16+4>>2],CD[N+8>>2]=CD[G+16+8>>2],CD[N+12>>2]=CD[G+16+12>>2],N=F+(l*244|0)+32|0,CD[N>>2]=CD[G+32>>2],CD[N+4>>2]=CD[G+32+4>>2],CD[N+8>>2]=CD[G+32+8>>2],CD[N+12>>2]=CD[G+32+12>>2],N=F+(l*244|0)+48|0,CD[N>>2]=CD[G+48>>2],CD[N+4>>2]=CD[G+48+4>>2],CD[N+8>>2]=CD[G+48+8>>2],CD[N+12>>2]=CD[G+48+12>>2],kw(F+(l*244|0)+64|0,G+64|0,180)|0,(l|0)==-1)break;l=l+1|0}if(CD[c>>2]=0,(i|0)>0)for(l=0;;){if(p=e+(l<<2)|0,f=eT(t,CD[p>>2]|0,+RD[s+12>>2])|0,p=CD[p>>2]|0,((((p|0)==0?1:(CD[p+236>>2]&2|0)==0)?0:+RD[p+344>>2]!=0)?(d=CD[t+16>>2]|0,(CD[p+504>>2]&2|0)!=0):0)&&(_=+RD[s+76>>2],D=1/+RD[p+396>>2],L=1/+RD[p+400>>2],u=1/+RD[p+404>>2],E=+RD[p+4>>2],A=+RD[p+8>>2],w=+RD[p+12>>2],R=+RD[p+20>>2],B=+RD[p+24>>2],H=+RD[p+28>>2],P=+RD[p+36>>2],k=+RD[p+40>>2],y=+RD[p+44>>2],b=+RD[p+328>>2],v=+RD[p+332>>2],g=+RD[p+336>>2],M=(E*D*E+A*L*A+w*u*w)*b+(D*E*R+L*A*B+u*w*H)*v+(D*E*P+L*A*k+u*w*y)*g,S=(E*D*R+A*L*B+w*u*H)*b+(R*D*R+B*L*B+H*u*H)*v+(D*R*P+L*B*k+u*H*y)*g,y=g*(P*D*P+k*L*k+y*u*y)+(b*(E*D*P+A*L*k+w*u*y)+v*(R*D*P+B*L*k+H*u*y)),u=(v*y-g*S)*(v*y-g*S)+(g*M-b*y)*(g*M-b*y)+(b*S-v*M)*(b*S-v*M),u>_*_?(u=1/+ND(+u)*_,m=(v*y-g*S)*u,_=u*(g*M-b*y),u*=b*S-v*M):(m=v*y-g*S,_=g*M-b*y,u=b*S-v*M),L=+RD[s+12>>2],k=(m*+RD[p+268>>2]+_*+RD[p+284>>2]+u*+RD[p+300>>2])*L,H=L*(m*+RD[p+272>>2]+_*+RD[p+288>>2]+u*+RD[p+304>>2]),RD[d+(f*244|0)+224>>2]=+RD[d+(f*244|0)+224>>2]-(m*+RD[p+264>>2]+_*+RD[p+280>>2]+u*+RD[p+296>>2])*L,RD[d+(f*244|0)+228>>2]=+RD[d+(f*244|0)+228>>2]-k,RD[d+(f*244|0)+232>>2]=+RD[d+(f*244|0)+232>>2]-H),(l|0)==(i+-1|0))break;l=l+1|0}if((a|0)>0){c=0;do F=CD[n+(c<<2)>>2]|0,gP[CD[(CD[F>>2]|0)+8>>2]&255](F),RD[F+36>>2]=0,c=c+1|0;while((c|0)<(a|0))}if(e=CD[t+168>>2]|0,(e|0)<(a|0)?(CD[t+172>>2]|0)<(a|0):0){if(a?(CD[5108]=(CD[5108]|0)+1,c=Aw((a<<3|3)+16|0)|0,c?(CD[(c+4+15&-16)+-4>>2]=c,c=c+4+15&-16):c=0,e=CD[t+168>>2]|0):c=0,(e|0)>0)for(l=e+-1|0,e=0;;){if(h=c+(e<<3)|0,h&&(N=(CD[t+176>>2]|0)+(e<<3)|0,F=CD[N+4>>2]|0,CD[h>>2]=CD[N>>2],CD[h+4>>2]=F),(e|0)==(l|0))break;e=e+1|0}e=CD[t+176>>2]|0,e&&(TD[t+180>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+176>>2]=0),TD[t+180>>0]=1,CD[t+176>>2]=c,CD[t+172>>2]=a}if(CD[t+168>>2]=a,(a|0)>0){f=0,c=0;do{if(d=CD[t+176>>2]|0,p=d+(f<<3)|0,e=n+(f<<2)|0,l=CD[e>>2]|0,h=CD[l+44>>2]|0){l=h+64|0;do CD[h>>2]=0,h=h+4|0;while((h|0)<(l|0));l=CD[e>>2]|0}TD[l+20>>0]|0?(bP[CD[(CD[l>>2]|0)+16>>2]&127](l,p),l=CD[p>>2]|0):(CD[p>>2]=0,CD[d+(f<<3)+4>>2]=0,l=0),c=l+c|0,f=f+1|0}while((f|0)<(a|0))}else c=0;if(h=CD[t+48>>2]|0,(h|0)<(c|0)?(CD[t+52>>2]|0)<(c|0):0){if(c?(CD[5108]=(CD[5108]|0)+1,e=Aw((c*152|3)+16|0)|0,e?(CD[(e+4+15&-16)+-4>>2]=e,l=e+4+15&-16):l=0,h=CD[t+48>>2]|0):l=0,(h|0)>0)for(h=h+-1|0,e=0;;){if(kw(l+(e*152|0)|0,(CD[t+56>>2]|0)+(e*152|0)|0,152)|0,(e|0)==(h|0))break;e=e+1|0}h=CD[t+56>>2]|0,h&&(TD[t+60>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[h+-4>>2]|0)),CD[t+56>>2]=0),TD[t+60>>0]=1,CD[t+56>>2]=l,CD[t+52>>2]=c}if(CD[t+48>>2]=c,(a|0)>0)for(l=CD[t+176>>2]|0,N=0,F=0;;){if(J=l+(F<<3)|0,CD[J>>2]|0){if(l=CD[t+56>>2]|0,h=n+(F<<2)|0,c=CD[h>>2]|0,i=CD[c+28>>2]|0,d=CD[c+32>>2]|0,e=eT(t,i,+RD[s+12>>2])|0,I=eT(t,d,+RD[s+12>>2])|0,O=CD[t+16>>2]|0,f=CD[c+24>>2]|0,f=(f|0)>0?f:CD[s+20>>2]|0,(f|0)>(CD[t+184>>2]|0)&&(CD[t+184>>2]=f),(CD[J>>2]|0)>0){p=0;do z=p+N|0,Bw(l+(z*152|0)|0,0,152)|0,RD[l+(z*152|0)+120>>2]=-3.4028234663852886e38,RD[l+(z*152|0)+124>>2]=3.4028234663852886e38,RD[l+(z*152|0)+100>>2]=0,RD[l+(z*152|0)+96>>2]=0,CD[l+(z*152|0)+144>>2]=e,CD[l+(z*152|0)+148>>2]=I,CD[l+(z*152|0)+136>>2]=f,p=p+1|0;while((p|0)<(CD[J>>2]|0))}if(CD[O+(e*244|0)+64>>2]=0,CD[O+(e*244|0)+64+4>>2]=0,CD[O+(e*244|0)+64+8>>2]=0,CD[O+(e*244|0)+64+12>>2]=0,CD[O+(e*244|0)+64+16>>2]=0,CD[O+(e*244|0)+64+20>>2]=0,CD[O+(e*244|0)+64+24>>2]=0,CD[O+(e*244|0)+64+28>>2]=0,CD[O+(e*244|0)+144>>2]=0,CD[O+(e*244|0)+144+4>>2]=0,CD[O+(e*244|0)+144+8>>2]=0,CD[O+(e*244|0)+144+12>>2]=0,CD[O+(e*244|0)+144+16>>2]=0,CD[O+(e*244|0)+144+20>>2]=0,CD[O+(e*244|0)+144+24>>2]=0,CD[O+(e*244|0)+144+28>>2]=0,CD[O+(I*244|0)+64>>2]=0,CD[O+(I*244|0)+64+4>>2]=0,CD[O+(I*244|0)+64+8>>2]=0,CD[O+(I*244|0)+64+12>>2]=0,CD[O+(I*244|0)+64+16>>2]=0,CD[O+(I*244|0)+64+20>>2]=0,CD[O+(I*244|0)+64+24>>2]=0,CD[O+(I*244|0)+64+28>>2]=0,CD[O+(I*244|0)+144>>2]=0,CD[O+(I*244|0)+144+4>>2]=0,CD[O+(I*244|0)+144+8>>2]=0,CD[O+(I*244|0)+144+12>>2]=0,CD[O+(I*244|0)+144+16>>2]=0,CD[O+(I*244|0)+144+20>>2]=0,CD[O+(I*244|0)+144+24>>2]=0,CD[O+(I*244|0)+144+28>>2]=0,RD[G+248>>2]=1/+RD[s+12>>2],RD[G+248+4>>2]=+RD[s+32>>2],CD[G+248+8>>2]=l+(N*152|0)+16,CD[G+248+12>>2]=l+(N*152|0),CD[G+248+16>>2]=l+(N*152|0)+48,CD[G+248+20>>2]=l+(N*152|0)+32,CD[G+248+24>>2]=38,CD[G+248+28>>2]=l+(N*152|0)+112,z=l+(N*152|0)+116|0,RD[z>>2]=+RD[s+40>>2],RD[G+248+52>>2]=+RD[s+4>>2],CD[G+248+32>>2]=z,CD[G+248+36>>2]=l+(N*152|0)+120,CD[G+248+40>>2]=l+(N*152|0)+124,CD[G+248+48>>2]=CD[s+20>>2],z=CD[h>>2]|0,bP[CD[(CD[z>>2]|0)+20>>2]&127](z,G+248|0),(CD[J>>2]|0)>0){p=0;do f=p+N|0,_=+RD[(CD[h>>2]|0)+16>>2],+RD[l+(f*152|0)+124>>2]>=_&&(RD[l+(f*152|0)+124>>2]=_),+RD[l+(f*152|0)+120>>2]<=-_&&(RD[l+(f*152|0)+120>>2]=-_),CD[l+(f*152|0)+132>>2]=c,z=CD[c+28>>2]|0,x=+RD[l+(f*152|0)>>2],A=+RD[l+(f*152|0)+4>>2],M=+RD[l+(f*152|0)+8>>2],E=(x*+RD[z+280>>2]+A*+RD[z+284>>2]+M*+RD[z+288>>2])*+RD[z+548>>2],w=(x*+RD[z+296>>2]+A*+RD[z+300>>2]+M*+RD[z+304>>2])*+RD[z+552>>2],RD[l+(f*152|0)+64>>2]=(+RD[z+264>>2]*x+ +RD[z+268>>2]*A+ +RD[z+272>>2]*M)*+RD[z+544>>2],RD[l+(f*152|0)+68>>2]=E,RD[l+(f*152|0)+72>>2]=w,RD[l+(f*152|0)+76>>2]=0,z=CD[c+32>>2]|0,w=+RD[l+(f*152|0)+32>>2],E=+RD[l+(f*152|0)+36>>2],M=+RD[l+(f*152|0)+40>>2],A=(w*+RD[z+280>>2]+E*+RD[z+284>>2]+M*+RD[z+288>>2])*+RD[z+548>>2],x=(w*+RD[z+296>>2]+E*+RD[z+300>>2]+M*+RD[z+304>>2])*+RD[z+552>>2],RD[l+(f*152|0)+80>>2]=(+RD[z+264>>2]*w+ +RD[z+268>>2]*E+ +RD[z+272>>2]*M)*+RD[z+544>>2],RD[l+(f*152|0)+84>>2]=A,RD[l+(f*152|0)+88>>2]=x,RD[l+(f*152|0)+92>>2]=0,x=+RD[i+344>>2],A=+RD[l+(f*152|0)+16>>2],w=+RD[l+(f*152|0)+20>>2],R=+RD[l+(f*152|0)+24>>2],D=+RD[l+(f*152|0)>>2],P=+RD[l+(f*152|0)+4>>2],B=+RD[l+(f*152|0)+8>>2],C=+RD[d+344>>2],V=+RD[l+(f*152|0)+48>>2],L=+RD[l+(f*152|0)+52>>2],k=+RD[l+(f*152|0)+56>>2],H=+RD[l+(f*152|0)+32>>2],M=A*x*A+w*x*w+R*x*R+(D*(+RD[i+264>>2]*D+ +RD[i+268>>2]*P+ +RD[i+272>>2]*B)+P*(D*+RD[i+280>>2]+P*+RD[i+284>>2]+B*+RD[i+288>>2])+B*(D*+RD[i+296>>2]+P*+RD[i+300>>2]+B*+RD[i+304>>2]))+(V*C*V+L*C*L+k*C*k)+(H*(+RD[d+264>>2]*H+ +RD[d+268>>2]*E+ +RD[d+272>>2]*M)+E*(H*+RD[d+280>>2]+E*+RD[d+284>>2]+M*+RD[d+288>>2])+M*(H*+RD[d+296>>2]+E*+RD[d+300>>2]+M*+RD[d+304>>2])),M=+JD(+M)>1.1920928955078125e-7?1/M:0,RD[l+(f*152|0)+108>>2]=M,CD[O+(e*244|0)+240>>2]|0?(v=+RD[O+(e*244|0)+208>>2],b=+RD[O+(e*244|0)+212>>2],y=+RD[O+(e*244|0)+216>>2],g=+RD[O+(e*244|0)+224>>2],_=+RD[O+(e*244|0)+228>>2],m=+RD[O+(e*244|0)+232>>2]):(v=0,b=0,y=0,g=0,_=0,m=0),CD[O+(I*244|0)+240>>2]|0?(S=+RD[O+(I*244|0)+208>>2],u=+RD[O+(I*244|0)+212>>2],T=+RD[O+(I*244|0)+216>>2],x=+RD[O+(I*244|0)+224>>2],C=+RD[O+(I*244|0)+228>>2],E=+RD[O+(I*244|0)+232>>2]):(S=0,u=0,T=0,x=0,C=0,E=0),RD[l+(f*152|0)+112>>2]=+RD[l+(f*152|0)+112>>2]*M+M*(0-+RD[G+248+52>>2]*((v+ +RD[i+312>>2])*A+(b+ +RD[i+316>>2])*w+(y+ +RD[i+320>>2])*R+((g+ +RD[i+328>>2])*D+(_+ +RD[i+332>>2])*P+(m+ +RD[i+336>>2])*B)+((S+ +RD[d+312>>2])*V+(u+ +RD[d+316>>2])*L+(T+ +RD[d+320>>2])*k+((x+ +RD[d+328>>2])*H+(C+ +RD[d+332>>2])*+RD[l+(f*152|0)+36>>2]+(E+ +RD[d+336>>2])*+RD[l+(f*152|0)+40>>2])))),RD[l+(f*152|0)+100>>2]=0,p=p+1|0;while((p|0)<(CD[J>>2]|0))}h=CD[t+176>>2]|0,l=h,h=CD[h+(F<<3)>>2]|0}else h=0;if(F=F+1|0,(F|0)>=(a|0))break;N=h+N|0}if(eB[CD[(CD[t>>2]|0)+28>>2]&127](t,r,o,s),f=CD[t+48>>2]|0,p=CD[t+28>>2]|0,O=CD[t+68>>2]|0,e=CD[t+128>>2]|0,(e|0)<(f|0)?(CD[t+132>>2]|0)<(f|0):0){if(f?(CD[5108]=(CD[5108]|0)+1,c=Aw((f<<2|3)+16|0)|0,c?(CD[(c+4+15&-16)+-4>>2]=c,c=c+4+15&-16):c=0,e=CD[t+128>>2]|0):c=0,(e|0)>0)for(l=e+-1|0,e=0;;){if(h=c+(e<<2)|0,h&&(CD[h>>2]=CD[(CD[t+136>>2]|0)+(e<<2)>>2]),(e|0)==(l|0))break;e=e+1|0}e=CD[t+136>>2]|0,e&&(TD[t+140>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+136>>2]=0),TD[t+140>>0]=1,CD[t+136>>2]=c,CD[t+132>>2]=f}if(CD[t+128>>2]=f,CD[s+64>>2]&16){if(e=CD[t+108>>2]|0,(e|0)<(p<<1|0)?(CD[t+112>>2]|0)<(p<<1|0):0){if(p?(CD[5108]=(CD[5108]|0)+1,c=Aw((p<<3|3)+16|0)|0,c?(CD[(c+4+15&-16)+-4>>2]=c,c=c+4+15&-16):c=0,e=CD[t+108>>2]|0):c=0,(e|0)>0)for(e=e+-1|0,l=0;;){if(h=c+(l<<2)|0,h&&(CD[h>>2]=CD[(CD[t+116>>2]|0)+(l<<2)>>2]),(l|0)==(e|0))break;l=l+1|0}e=CD[t+116>>2]|0,e&&(TD[t+120>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+116>>2]=0),TD[t+120>>0]=1,CD[t+116>>2]=c,CD[t+112>>2]=p<<1}CD[t+108>>2]=p<<1}else{if(e=CD[t+108>>2]|0,(e|0)<(p|0)?(CD[t+112>>2]|0)<(p|0):0){if(p?(CD[5108]=(CD[5108]|0)+1,c=Aw((p<<2|3)+16|0)|0,c?(CD[(c+4+15&-16)+-4>>2]=c,c=c+4+15&-16):c=0,e=CD[t+108>>2]|0):c=0,(e|0)>0)for(h=e+-1|0,l=0;;){if(e=c+(l<<2)|0,e&&(CD[e>>2]=CD[(CD[t+116>>2]|0)+(l<<2)>>2]),(l|0)==(h|0))break;l=l+1|0}e=CD[t+116>>2]|0,e&&(TD[t+120>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+116>>2]=0),TD[t+120>>0]=1,CD[t+116>>2]=c,CD[t+112>>2]=p}CD[t+108>>2]=p}if(e=CD[t+148>>2]|0,(e|0)<(O|0)?(CD[t+152>>2]|0)<(O|0):0){if(O?(CD[5108]=(CD[5108]|0)+1,c=Aw((O<<2|3)+16|0)|0,c?(CD[(c+4+15&-16)+-4>>2]=c,c=c+4+15&-16):c=0,e=CD[t+148>>2]|0):c=0,(e|0)>0)for(h=e+-1|0,l=0;;){if(e=c+(l<<2)|0,e&&(CD[e>>2]=CD[(CD[t+156>>2]|0)+(l<<2)>>2]),(l|0)==(h|0))break;l=l+1|0}e=CD[t+156>>2]|0,e&&(TD[t+160>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+156>>2]=0),TD[t+160>>0]=1,CD[t+156>>2]=c,CD[t+152>>2]=O}if(CD[t+148>>2]=O,(f|0)>0)for(c=CD[t+136>>2]|0,e=0;;){if(CD[c+(e<<2)>>2]=e,(e|0)==(f+-1|0))break;e=e+1|0}if((p|0)>0)for(c=CD[t+116>>2]|0,e=0;;){if(CD[c+(e<<2)>>2]=e,(e|0)==(p+-1|0))break;e=e+1|0}if((O|0)>0)for(e=CD[t+156>>2]|0,c=0;;){if(CD[e+(c<<2)>>2]=c,(c|0)==(O+-1|0))break;c=c+1|0}if(e=CD[5104]|0,z=(CD[e+16>>2]|0)+-1|0,CD[e+16>>2]=z,z)return BD=G,0;do if(CD[e+4>>2]|0){if(uP(G+248|0,0)|0,z=CD[5090]|0,RD[e+8>>2]=+(((CD[G+248+4>>2]|0)-(CD[z+4>>2]|0)+(((CD[G+248>>2]|0)-(CD[z>>2]|0)|0)*1e6|0)-(CD[e+12>>2]|0)|0)>>>0)/1e3+ +RD[e+8>>2],CD[e+16>>2]|0)return BD=G,0;e=CD[5104]|0;break}while(0);return CD[5104]=CD[e+20>>2],BD=G,0}function oT(t,e,i,r,o,n,a,s,l,c){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,c|=0;var h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0;if(c=CD[t+48>>2]|0,f=CD[t+28>>2]|0,_=CD[t+68>>2]|0,CD[l+64>>2]&1){if((c|0)>0){d=CD[t+136>>2]|0,n=CD[t+192>>2]|0,h=0;do i=d+(h<<2)|0,r=CD[i>>2]|0,p=h,h=h+1|0,n=(XD(n,1664525)|0)+1013904223|0,h>>>0<65537?(o=n>>>16^n,h>>>0<257&&(h>>>0<17?(o=(o>>>8^o)>>>4^(o>>>8^o),h>>>0<5&&(o=h>>>0<3?(o>>>2^o)>>>1^(o>>>2^o):o>>>2^o)):o=o>>>8^o)):o=n,o=d+(((o>>>0)%(h>>>0)|0)<<2)|0,CD[i>>2]=CD[o>>2],CD[o>>2]=r;while((p|0)!=(c+-1|0));CD[t+192>>2]=n}if((CD[l+20>>2]|0)>(e|0)){if((f|0)>0){d=CD[t+116>>2]|0,n=CD[t+192>>2]|0,c=0;do i=d+(c<<2)|0,r=CD[i>>2]|0,h=c,c=c+1|0,n=(XD(n,1664525)|0)+1013904223|0,c>>>0<65537?(o=n>>>16^n,c>>>0<257&&(c>>>0<17?(o=(o>>>8^o)>>>4^(o>>>8^o),c>>>0<5&&(o=c>>>0<3?(o>>>2^o)>>>1^(o>>>2^o):o>>>2^o)):o=o>>>8^o)):o=n,p=d+(((o>>>0)%(c>>>0)|0)<<2)|0,CD[i>>2]=CD[p>>2],CD[p>>2]=r;while((h|0)!=(f+-1|0));CD[t+192>>2]=n}if((_|0)>0){i=CD[t+156>>2]|0,c=CD[t+192>>2]|0,h=0;do r=i+(h<<2)|0,n=CD[r>>2]|0,d=h,h=h+1|0,c=(XD(c,1664525)|0)+1013904223|0,h>>>0<65537?(o=c>>>16^c,h>>>0<257&&(h>>>0<17?(o=(o>>>8^o)>>>4^(o>>>8^o),h>>>0<5&&(o=h>>>0<3?(o>>>2^o)>>>1^(o>>>2^o):o>>>2^o)):o=o>>>8^o)):o=c,f=i+(((o>>>0)%(h>>>0)|0)<<2)|0,CD[r>>2]=CD[f>>2],CD[f>>2]=n;while((d|0)!=(_+-1|0));CD[t+192>>2]=c}}}if(i=CD[t+48>>2]|0,!(CD[l+64>>2]&256)){if((i|0)>0){h=0;do r=CD[(CD[t+136>>2]|0)+(h<<2)>>2]|0,n=CD[t+56>>2]|0,(CD[n+(r*152|0)+136>>2]|0)>(e|0)&&(i=CD[t+16>>2]|0,qS(i+((CD[n+(r*152|0)+144>>2]|0)*244|0)|0,i+((CD[n+(r*152|0)+148>>2]|0)*244|0)|0,n+(r*152|0)|0),i=CD[t+48>>2]|0),h=h+1|0;while((h|0)<(i|0))}if((CD[l+20>>2]|0)<=(e|0))return 0;if((s|0)>0)for(n=0;;){if(i=a+(n<<2)|0,r=CD[i>>2]|0,TD[r+20>>0]|0&&(_=eT(t,CD[r+28>>2]|0,+RD[l+12>>2])|0,g=eT(t,CD[(CD[i>>2]|0)+32>>2]|0,+RD[l+12>>2])|0,m=CD[t+16>>2]|0,f=CD[i>>2]|0,YP[CD[(CD[f>>2]|0)+24>>2]&15](f,m+(_*244|0)|0,m+(g*244|0)|0,+RD[l+12>>2])),(n|0)==(s+-1|0))break;n=n+1|0}if(h=CD[t+28>>2]|0,(h|0)>0)for(n=0;;){if(l=CD[(CD[t+116>>2]|0)+(n<<2)>>2]|0,s=CD[t+36>>2]|0,a=CD[t+16>>2]|0,KS(a+((CD[s+(l*152|0)+144>>2]|0)*244|0)|0,a+((CD[s+(l*152|0)+148>>2]|0)*244|0)|0,s+(l*152|0)|0),(n|0)==(h+-1|0))break;n=n+1|0}if(r=CD[t+68>>2]|0,(r|0)>0)for(i=0;;){if(n=CD[(CD[t+156>>2]|0)+(i<<2)>>2]|0,h=CD[t+76>>2]|0,u=+RD[(CD[t+36>>2]|0)+((CD[h+(n*152|0)+140>>2]|0)*152|0)+100>>2],u>0&&(u*=+RD[h+(n*152|0)+104>>2],RD[h+(n*152|0)+120>>2]=-u,RD[h+(n*152|0)+124>>2]=u,l=CD[t+16>>2]|0,qS(l+((CD[h+(n*152|0)+144>>2]|0)*244|0)|0,l+((CD[h+(n*152|0)+148>>2]|0)*244|0)|0,h+(n*152|0)|0)),(i|0)==(r+-1|0))break;i=i+1|0}if(n=CD[t+88>>2]|0,(n|0)<=0)return 0;for(r=0;;){if(h=CD[t+96>>2]|0,u=+RD[(CD[t+36>>2]|0)+((CD[h+(r*152|0)+140>>2]|0)*152|0)+100>>2],u>0&&(y=+RD[h+(r*152|0)+104>>2],u=u*y>y?y:u*y,RD[h+(r*152|0)+120>>2]=-u,RD[h+(r*152|0)+124>>2]=u,l=CD[t+16>>2]|0,qS(l+((CD[h+(r*152|0)+144>>2]|0)*244|0)|0,l+((CD[h+(r*152|0)+148>>2]|0)*244|0)|0,h+(r*152|0)|0)),(r|0)==(n+-1|0))break;r=r+1|0}return 0}if((i|0)>0){o=0;do r=CD[(CD[t+136>>2]|0)+(o<<2)>>2]|0,n=CD[t+56>>2]|0,(CD[n+(r*152|0)+136>>2]|0)>(e|0)&&(i=CD[t+16>>2]|0,qS(i+((CD[n+(r*152|0)+144>>2]|0)*244|0)|0,i+((CD[n+(r*152|0)+148>>2]|0)*244|0)|0,n+(r*152|0)|0),i=CD[t+48>>2]|0),o=o+1|0;while((o|0)<(i|0))}if((CD[l+20>>2]|0)<=(e|0))return 0;if((s|0)>0)for(n=0;;){if(i=a+(n<<2)|0,r=CD[i>>2]|0,TD[r+20>>0]|0&&(p=eT(t,CD[r+28>>2]|0,+RD[l+12>>2])|0,_=eT(t,CD[(CD[i>>2]|0)+32>>2]|0,+RD[l+12>>2])|0,f=CD[t+16>>2]|0,d=CD[i>>2]|0,YP[CD[(CD[d>>2]|0)+24>>2]&15](d,f+(p*244|0)|0,f+(_*244|0)|0,+RD[l+12>>2])),(n|0)==(s+-1|0))break;n=n+1|0}if(i=CD[l+64>>2]|0,o=CD[t+28>>2]|0,i&512){if((o|0)<=0)return 0;for(c=0;;){if(r=CD[(CD[t+116>>2]|0)+(c<<2)>>2]|0,n=CD[t+36>>2]|0,h=CD[t+16>>2]|0,KS(h+((CD[n+(r*152|0)+144>>2]|0)*244|0)|0,h+((CD[n+(r*152|0)+148>>2]|0)*244|0)|0,n+(r*152|0)|0),u=+RD[n+(r*152|0)+100>>2],r=XD(c,(i>>>4&1)+1|0)|0,n=CD[(CD[t+156>>2]|0)+(r<<2)>>2]|0,h=CD[t+76>>2]|0,u>0&&(y=u*+RD[h+(n*152|0)+104>>2],RD[h+(n*152|0)+120>>2]=-y,RD[h+(n*152|0)+124>>2]=y,s=CD[t+16>>2]|0,qS(s+((CD[h+(n*152|0)+144>>2]|0)*244|0)|0,s+((CD[h+(n*152|0)+148>>2]|0)*244|0)|0,h+(n*152|0)|0)),((CD[l+64>>2]&16|0)!=0?(m=CD[(CD[t+156>>2]|0)+(r+1<<2)>>2]|0,g=CD[t+76>>2]|0,u>0):0)&&(y=u*+RD[g+(m*152|0)+104>>2],RD[g+(m*152|0)+120>>2]=-y,RD[g+(m*152|0)+124>>2]=y,s=CD[t+16>>2]|0,qS(s+((CD[g+(m*152|0)+144>>2]|0)*244|0)|0,s+((CD[g+(m*152|0)+148>>2]|0)*244|0)|0,g+(m*152|0)|0)),(c|0)==(o+-1|0))break;c=c+1|0}return 0}if((o|0)>0)for(h=0;;){if(l=CD[(CD[t+116>>2]|0)+(h<<2)>>2]|0,s=CD[t+36>>2]|0,a=CD[t+16>>2]|0,KS(a+((CD[s+(l*152|0)+144>>2]|0)*244|0)|0,a+((CD[s+(l*152|0)+148>>2]|0)*244|0)|0,s+(l*152|0)|0),(h|0)==(o+-1|0))break;h=h+1|0}if(r=CD[t+68>>2]|0,(r|0)>0)for(i=0;;){if(n=CD[(CD[t+156>>2]|0)+(i<<2)>>2]|0,h=CD[t+76>>2]|0,u=+RD[(CD[t+36>>2]|0)+((CD[h+(n*152|0)+140>>2]|0)*152|0)+100>>2],u>0&&(y=u*+RD[h+(n*152|0)+104>>2],RD[h+(n*152|0)+120>>2]=-y,RD[h+(n*152|0)+124>>2]=y,l=CD[t+16>>2]|0,qS(l+((CD[h+(n*152|0)+144>>2]|0)*244|0)|0,l+((CD[h+(n*152|0)+148>>2]|0)*244|0)|0,h+(n*152|0)|0)),(i|0)==(r+-1|0))break;i=i+1|0}if(n=CD[t+88>>2]|0,(n|0)<=0)return 0;for(r=0;;){if(h=CD[t+96>>2]|0,u=+RD[(CD[t+36>>2]|0)+((CD[h+(r*152|0)+140>>2]|0)*152|0)+100>>2],u>0&&(y=+RD[h+(r*152|0)+104>>2],y=u*y>y?y:u*y,RD[h+(r*152|0)+120>>2]=-y,RD[h+(r*152|0)+124>>2]=y,l=CD[t+16>>2]|0,qS(l+((CD[h+(r*152|0)+144>>2]|0)*244|0)|0,l+((CD[h+(r*152|0)+148>>2]|0)*244|0)|0,h+(r*152|0)|0)),(r|0)==(n+-1|0))break;r=r+1|0}return 0}function nT(t,e,i,r,o,n,a,s,l){if(t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,CD[s+44>>2]|0)if(l=CD[s+20>>2]|0,CD[s+64>>2]&256){if((l|0)<=0)return;e=0;do{if(n=CD[t+28>>2]|0,(n|0)>0){for(l=0;;){if(o=CD[(CD[t+116>>2]|0)+(l<<2)>>2]|0,a=CD[t+36>>2]|0,i=CD[t+16>>2]|0,YS(i+((CD[a+(o*152|0)+144>>2]|0)*244|0)|0,i+((CD[a+(o*152|0)+148>>2]|0)*244|0)|0,a+(o*152|0)|0),(l|0)==(n+-1|0))break;l=l+1|0}l=CD[s+20>>2]|0}e=e+1|0}while((e|0)<(l|0))}else if(!((l|0)<=0)){e=0;do{if(n=CD[t+28>>2]|0,(n|0)>0){for(l=0;;){if(o=CD[(CD[t+116>>2]|0)+(l<<2)>>2]|0,a=CD[t+36>>2]|0,i=CD[t+16>>2]|0,YS(i+((CD[a+(o*152|0)+144>>2]|0)*244|0)|0,i+((CD[a+(o*152|0)+148>>2]|0)*244|0)|0,a+(o*152|0)|0),(l|0)==(n+-1|0))break;l=l+1|0}l=CD[s+20>>2]|0}e=e+1|0}while((e|0)<(l|0))}}function aT(t,e,i,r,o,n,a,s,l){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0;var c=0,h=0,u=0;if(u=BD,BD=BD+16|0,cM(4064),OP[CD[(CD[t>>2]|0)+32>>2]&1](t,e,i,r,o,n,a,s,l),h=CD[t+184>>2]|0,c=CD[s+20>>2]|0,c=(h|0)>(c|0)?h:c,(c|0)>0){h=0;do+GP[CD[(CD[t>>2]|0)+40>>2]&3](t,h,e,i,r,o,n,a,s,l),h=h+1|0;while((h|0)<(c|0))}if(c=CD[5104]|0,t=(CD[c+16>>2]|0)+-1|0,CD[c+16>>2]=t,t)return BD=u,0;do if(CD[c+4>>2]|0){if(uP(u|0,0)|0,t=CD[5090]|0,RD[c+8>>2]=+(((CD[u+4>>2]|0)-(CD[t+4>>2]|0)+(((CD[u>>2]|0)-(CD[t>>2]|0)|0)*1e6|0)-(CD[c+12>>2]|0)|0)>>>0)/1e3+ +RD[c+8>>2],CD[c+16>>2]|0)return BD=u,0;c=CD[5104]|0;break}while(0);return CD[5104]=CD[c+20>>2],BD=u,0}function sT(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0;if(p=BD,BD=BD+80|0,o=CD[t+28>>2]|0,i=CD[r+64>>2]|0,(i&4|0)!=0&(o|0)>0)if(a=CD[t+36>>2]|0,e=CD[t+76>>2]|0,i&16)for(i=0;;){if(u=CD[a+(i*152|0)+132>>2]|0,RD[u+120>>2]=+RD[a+(i*152|0)+100>>2],s=CD[a+(i*152|0)+140>>2]|0,RD[u+124>>2]=+RD[e+(s*152|0)+100>>2],RD[u+128>>2]=+RD[e+((s+1|0)*152|0)+100>>2],(i|0)==(o+-1|0))break;i=i+1|0}else for(i=0;;){if(u=CD[a+(i*152|0)+132>>2]|0,RD[u+120>>2]=+RD[a+(i*152|0)+100>>2],RD[u+124>>2]=+RD[e+((CD[a+(i*152|0)+140>>2]|0)*152|0)+100>>2],(i|0)==(o+-1|0))break;i=i+1|0}if(o=CD[t+48>>2]|0,(o|0)>0)for(s=0;;){if(e=CD[t+56>>2]|0,n=CD[e+(s*152|0)+132>>2]|0,a=CD[n+44>>2]|0,i=e+(s*152|0)+100|0,a&&(h=+RD[i>>2],u=CD[n+28>>2]|0,c=1/+RD[r+12>>2],l=h*+RD[e+(s*152|0)+20>>2]*+RD[u+352>>2]*c,f=h*+RD[e+(s*152|0)+24>>2]*+RD[u+356>>2]*c,RD[a>>2]=+RD[e+(s*152|0)+16>>2]*h*+RD[u+348>>2]*c+ +RD[a>>2],RD[a+4>>2]=l+ +RD[a+4>>2],RD[a+8>>2]=f+ +RD[a+8>>2],f=+RD[i>>2],u=CD[n+32>>2]|0,l=1/+RD[r+12>>2],c=f*+RD[e+(s*152|0)+52>>2]*+RD[u+352>>2]*l,h=f*+RD[e+(s*152|0)+56>>2]*+RD[u+356>>2]*l,RD[a+32>>2]=+RD[e+(s*152|0)+48>>2]*f*+RD[u+348>>2]*l+ +RD[a+32>>2],RD[a+36>>2]=c+ +RD[a+36>>2],RD[a+40>>2]=h+ +RD[a+40>>2],u=CD[n+28>>2]|0,h=+RD[i>>2],c=1/+RD[r+12>>2],l=+RD[e+(s*152|0)+4>>2]*+RD[u+548>>2]*h*c,f=h*+RD[e+(s*152|0)+8>>2]*+RD[u+552>>2]*c,RD[a+16>>2]=+RD[e+(s*152|0)>>2]*+RD[u+544>>2]*h*c+ +RD[a+16>>2],RD[a+20>>2]=l+ +RD[a+20>>2],RD[a+24>>2]=f+ +RD[a+24>>2],u=CD[n+32>>2]|0,f=+RD[i>>2],l=1/+RD[r+12>>2],c=+RD[e+(s*152|0)+36>>2]*+RD[u+548>>2]*f*l,h=f*+RD[e+(s*152|0)+40>>2]*+RD[u+552>>2]*l,RD[a+48>>2]=+RD[e+(s*152|0)+32>>2]*+RD[u+544>>2]*f*l+ +RD[a+48>>2],RD[a+52>>2]=c+ +RD[a+52>>2],RD[a+56>>2]=h+ +RD[a+56>>2]),f=+RD[i>>2],RD[n+36>>2]=f,f=+JD(+f),f>=+RD[n+16>>2]&&(TD[n+20>>0]=0),(s|0)==(o+-1|0))break;s=s+1|0}if(i=CD[t+8>>2]|0,(i|0)>0){e=CD[t+16>>2]|0,u=0;do n=e+(u*244|0)|0,o=CD[e+(u*244|0)+240>>2]|0,o&&(CD[r+44>>2]|0?(l=+RD[r+12>>2],c=+RD[r+52>>2],a=e+(u*244|0)+176|0,RD[a>>2]=+RD[e+(u*244|0)+64>>2]+ +RD[a>>2],a=e+(u*244|0)+180|0,RD[a>>2]=+RD[e+(u*244|0)+68>>2]+ +RD[a>>2],a=e+(u*244|0)+184|0,RD[a>>2]=+RD[e+(u*244|0)+72>>2]+ +RD[a>>2],a=e+(u*244|0)+192|0,RD[a>>2]=+RD[e+(u*244|0)+80>>2]+ +RD[a>>2],a=e+(u*244|0)+196|0,RD[a>>2]=+RD[e+(u*244|0)+84>>2]+ +RD[a>>2],a=e+(u*244|0)+200|0,RD[a>>2]=+RD[e+(u*244|0)+88>>2]+ +RD[a>>2],a=e+(u*244|0)+144|0,s=e+(u*244|0)+148|0,(((((+RD[a>>2]==0?+RD[s>>2]==0:0)?+RD[e+(u*244|0)+152>>2]==0:0)?+RD[e+(u*244|0)+160>>2]==0:0)?+RD[e+(u*244|0)+164>>2]!=0:!0)?0:!(+RD[e+(u*244|0)+168>>2]!=0))||(d=22),(d|0)==22&&(d=0,h=+RD[e+(u*244|0)+164>>2]*c,f=+RD[e+(u*244|0)+168>>2]*c,RD[p>>2]=+RD[e+(u*244|0)+160>>2]*c,RD[p+4>>2]=h,RD[p+8>>2]=f,RD[p+12>>2]=0,t_(n,+RD[a>>2],+RD[s>>2],+RD[e+(u*244|0)+152>>2],p,l,p+16|0),CD[n>>2]=CD[p+16>>2],CD[n+4>>2]=CD[p+16+4>>2],CD[n+8>>2]=CD[p+16+8>>2],CD[n+12>>2]=CD[p+16+12>>2],s=e+(u*244|0)+16|0,CD[s>>2]=CD[p+16+16>>2],CD[s+4>>2]=CD[p+16+16+4>>2],CD[s+8>>2]=CD[p+16+16+8>>2],CD[s+12>>2]=CD[p+16+16+12>>2],s=e+(u*244|0)+32|0,CD[s>>2]=CD[p+16+32>>2],CD[s+4>>2]=CD[p+16+32+4>>2],CD[s+8>>2]=CD[p+16+32+8>>2],CD[s+12>>2]=CD[p+16+32+12>>2],e=e+(u*244|0)+48|0,CD[e>>2]=CD[p+16+48>>2],CD[e+4>>2]=CD[p+16+48+4>>2],CD[e+8>>2]=CD[p+16+48+8>>2],CD[e+12>>2]=CD[p+16+48+12>>2],e=CD[t+16>>2]|0),s=e,c=+RD[e+(u*244|0)+176>>2],l=+RD[e+(u*244|0)+180>>2],h=+RD[e+(u*244|0)+184>>2],o=CD[e+(u*244|0)+240>>2]|0):(s=e+(u*244|0)+176|0,c=+RD[e+(u*244|0)+64>>2]+ +RD[s>>2],RD[s>>2]=c,s=e+(u*244|0)+180|0,l=+RD[e+(u*244|0)+68>>2]+ +RD[s>>2],RD[s>>2]=l,s=e+(u*244|0)+184|0,h=+RD[e+(u*244|0)+72>>2]+ +RD[s>>2],RD[s>>2]=h,s=e+(u*244|0)+192|0,RD[s>>2]=+RD[e+(u*244|0)+80>>2]+ +RD[s>>2],s=e+(u*244|0)+196|0,RD[s>>2]=+RD[e+(u*244|0)+84>>2]+ +RD[s>>2],s=e+(u*244|0)+200|0,RD[s>>2]=+RD[e+(u*244|0)+88>>2]+ +RD[s>>2],s=e),_=c+ +RD[s+(u*244|0)+208>>2],f=l+ +RD[s+(u*244|0)+212>>2],c=h+ +RD[s+(u*244|0)+216>>2],a=o+260|0,CD[a>>2]=(CD[a>>2]|0)+1,RD[o+312>>2]=_,RD[o+316>>2]=f,RD[o+320>>2]=c,RD[o+324>>2]=0,a=CD[t+16>>2]|0,s=CD[a+(u*244|0)+240>>2]|0,c=+RD[a+(u*244|0)+192>>2]+ +RD[a+(u*244|0)+224>>2],h=+RD[a+(u*244|0)+196>>2]+ +RD[a+(u*244|0)+228>>2],f=+RD[a+(u*244|0)+200>>2]+ +RD[a+(u*244|0)+232>>2],CD[s+260>>2]=(CD[s+260>>2]|0)+1,RD[s+328>>2]=c,RD[s+332>>2]=h,RD[s+336>>2]=f,RD[s+340>>2]=0,CD[r+44>>2]|0&&(a=CD[t+16>>2]|0,s=CD[a+(u*244|0)+240>>2]|0,n=a+(u*244|0)|0,CD[s+260>>2]=(CD[s+260>>2]|0)+1,CD[s+4>>2]=CD[n>>2],CD[s+4+4>>2]=CD[n+4>>2],CD[s+4+8>>2]=CD[n+8>>2],CD[s+4+12>>2]=CD[n+12>>2],n=a+(u*244|0)+16|0,CD[s+20>>2]=CD[n>>2],CD[s+20+4>>2]=CD[n+4>>2],CD[s+20+8>>2]=CD[n+8>>2],CD[s+20+12>>2]=CD[n+12>>2],n=a+(u*244|0)+32|0,CD[s+36>>2]=CD[n>>2],CD[s+36+4>>2]=CD[n+4>>2],CD[s+36+8>>2]=CD[n+8>>2],CD[s+36+12>>2]=CD[n+12>>2],a=a+(u*244|0)+48|0,CD[s+52>>2]=CD[a>>2],CD[s+52+4>>2]=CD[a+4>>2],CD[s+52+8>>2]=CD[a+8>>2],CD[s+52+12>>2]=CD[a+12>>2]),e=CD[t+16>>2]|0,CD[(CD[e+(u*244|0)+240>>2]|0)+212>>2]=-1,i=CD[t+8>>2]|0),u=u+1|0;while((u|0)<(i|0))}return((CD[t+28>>2]|0)<0?(CD[t+32>>2]|0)<0:0)&&(e=CD[t+36>>2]|0,e&&(TD[t+40>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+36>>2]=0),TD[t+40>>0]=1,CD[t+36>>2]=0,CD[t+32>>2]=0),CD[t+28>>2]=0,((CD[t+48>>2]|0)<0?(CD[t+52>>2]|0)<0:0)&&(e=CD[t+56>>2]|0,e&&(TD[t+60>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+56>>2]=0),TD[t+60>>0]=1,CD[t+56>>2]=0,CD[t+52>>2]=0),CD[t+48>>2]=0,((CD[t+68>>2]|0)<0?(CD[t+72>>2]|0)<0:0)&&(e=CD[t+76>>2]|0,e&&(TD[t+80>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+76>>2]=0),TD[t+80>>0]=1,CD[t+76>>2]=0,CD[t+72>>2]=0),CD[t+68>>2]=0,((CD[t+88>>2]|0)<0?(CD[t+92>>2]|0)<0:0)&&(e=CD[t+96>>2]|0,e&&(TD[t+100>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+96>>2]=0),TD[t+100>>0]=1,CD[t+96>>2]=0,CD[t+92>>2]=0),CD[t+88>>2]=0,(CD[t+8>>2]|0)>=0?(CD[t+8>>2]=0,BD=p,0):(CD[t+12>>2]|0)>=0?(CD[t+8>>2]=0,BD=p,0):(e=CD[t+16>>2]|0,e&&(TD[t+20>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+16>>2]=0),TD[t+20>>0]=1,CD[t+16>>2]=0,CD[t+12>>2]=0,CD[t+8>>2]=0,BD=p,0)}function lT(t,e,i,r,o,n,a,s,l,c){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,c|=0;var h=0;if(h=BD,BD=BD+16|0,cM(4104),+jP[CD[(CD[t>>2]|0)+44>>2]&3](t,e,i,r,o,n,a,s,l),+jP[CD[(CD[t>>2]|0)+48>>2]&3](t,e,i,r,o,n,a,s,l),+qP[CD[(CD[t>>2]|0)+36>>2]&1](t,e,i,s),c=CD[5104]|0,t=(CD[c+16>>2]|0)+-1|0,CD[c+16>>2]=t,t)return BD=h,0;do if(CD[c+4>>2]|0){if(uP(h|0,0)|0,t=CD[5090]|0,RD[c+8>>2]=+(((CD[h+4>>2]|0)-(CD[t+4>>2]|0)+(((CD[h>>2]|0)-(CD[t>>2]|0)|0)*1e6|0)-(CD[c+12>>2]|0)|0)>>>0)/1e3+ +RD[c+8>>2],CD[c+16>>2]|0)return BD=h,0;c=CD[5104]|0;break}while(0);return CD[5104]=CD[c+20>>2],BD=h,0}function cT(t){t|=0,CD[t+192>>2]=0}function hT(t){t|=0;var e=0;return CD[t>>2]=4840,e=CD[t+144>>2]|0,e&&(TD[t+148>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+144>>2]=0),TD[t+148>>0]=1,CD[t+144>>2]=0,CD[t+136>>2]=0,CD[t+140>>2]=0,e=CD[t+76>>2]|0,e&&(TD[t+80>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+76>>2]=0),TD[t+80>>0]=1,CD[t+76>>2]=0,CD[t+68>>2]=0,CD[t+72>>2]=0,e=CD[t+56>>2]|0,e&&(TD[t+60>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+56>>2]=0),TD[t+60>>0]=1,CD[t+56>>2]=0,CD[t+48>>2]=0,CD[t+52>>2]=0,e=CD[t+36>>2]|0,e&&(TD[t+40>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+36>>2]=0),TD[t+40>>0]=1,CD[t+36>>2]=0,CD[t+28>>2]=0,CD[t+32>>2]=0,(e=CD[t+16>>2]|0)?(TD[t+20>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+16>>2]=0,TD[t+20>>0]=1,CD[t+16>>2]=0,CD[t+8>>2]=0,t=t+12|0,void(CD[t>>2]=0)):(TD[t+20>>0]=1,CD[t+16>>2]=0,CD[t+8>>2]=0,t=t+12|0,void(CD[t>>2]=0))
}function uT(t){t|=0,hT(t),ww(t)}function dT(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0;o=BD,BD=BD+64|0,TD[e+84>>0]=0,CD[o>>2]=CD[t+4>>2],CD[o+4>>2]=CD[t+4+4>>2],CD[o+8>>2]=CD[t+4+8>>2],CD[o+12>>2]=CD[t+4+12>>2],CD[o+16>>2]=CD[t+20>>2],CD[o+16+4>>2]=CD[t+20+4>>2],CD[o+16+8>>2]=CD[t+20+8>>2],CD[o+16+12>>2]=CD[t+20+12>>2],CD[o+32>>2]=CD[t+36>>2],CD[o+32+4>>2]=CD[t+36+4>>2],CD[o+32+8>>2]=CD[t+36+8>>2],CD[o+32+12>>2]=CD[t+36+12>>2],CD[o+48>>2]=CD[t+52>>2],CD[o+48+4>>2]=CD[t+52+4>>2],CD[o+48+8>>2]=CD[t+52+8>>2],CD[o+48+12>>2]=CD[t+52+12>>2],(i?(r=CD[t+480>>2]|0,(r|0)!=0):0)&&bP[CD[(CD[r>>2]|0)+8>>2]&127](r,o),y=+RD[e+156>>2],m=+RD[o>>2],g=+RD[e+160>>2],_=+RD[o+4>>2],h=+RD[e+164>>2],f=+RD[o+8>>2],p=+RD[o+16>>2],d=+RD[o+20>>2],u=+RD[o+24>>2],c=+RD[o+32>>2],s=+RD[o+36>>2],n=+RD[o+40>>2],l=y*p+g*d+h*u+ +RD[o+52>>2],a=y*c+g*s+h*n+ +RD[o+56>>2],RD[e+36>>2]=y*m+g*_+h*f+ +RD[o+48>>2],RD[e+40>>2]=l,RD[e+44>>2]=a,RD[e+48>>2]=0,a=+RD[e+172>>2],l=+RD[e+176>>2],h=+RD[e+180>>2],RD[e+52>>2]=m*a+_*l+f*h,RD[e+56>>2]=a*p+l*d+h*u,RD[e+60>>2]=a*c+l*s+h*n,RD[e+64>>2]=0,h=+RD[e+188>>2],l=+RD[e+192>>2],a=+RD[e+196>>2],RD[e+68>>2]=m*h+_*l+f*a,RD[e+72>>2]=h*p+l*d+a*u,RD[e+76>>2]=h*c+l*s+a*n,RD[e+80>>2]=0,BD=o}function pT(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0,P=0;dT(t,e+(i*284|0)|0,r),u=+RD[e+(i*284|0)+52>>2],a=+RD[e+(i*284|0)+56>>2],_=+RD[e+(i*284|0)+60>>2],P=+RD[e+(i*284|0)+76>>2],x=+RD[e+(i*284|0)+72>>2],T=+RD[e+(i*284|0)+68>>2],M=1/+ND(+((x*-u-T*-a)*(x*-u-T*-a)+((P*-a-x*-_)*(P*-a-x*-_)+(T*-_-P*-u)*(T*-_-P*-u)))),v=(P*-a-x*-_)*M,b=M*(T*-_-P*-u),M*=x*-u-T*-a,o=+RD[e+(i*284|0)+232>>2]*.5,c=+zD(+o)/+ND(+(u*u+a*a+_*_)),o=+GD(+o),h=2/(o*o+(c*-_*c*-_+(c*-u*c*-u+c*-a*c*-a))),R=1-(c*-a*c*-a*h+c*-_*c*-_*h),w=c*-u*c*-a*h-o*c*-_*h,D=c*-u*c*-_*h+o*c*-a*h,E=c*-u*c*-a*h+o*c*-_*h,C=1-(c*-u*c*-u*h+c*-_*c*-_*h),A=c*-a*c*-_*h-o*c*-u*h,l=c*-u*c*-_*h-o*c*-a*h,o=c*-a*c*-_*h+o*c*-u*h,h=1-(c*-u*c*-u*h+c*-a*c*-a*h),c=+RD[e+(i*284|0)+236>>2]*-.5,S=+zD(+c)/+ND(+(P*P+(x*x+T*T))),c=+GD(+c),m=2/(c*c+(P*S*P*S+(T*S*T*S+x*S*x*S))),d=1-(x*S*x*S*m+P*S*P*S*m),s=T*S*x*S*m-c*P*S*m,y=T*S*P*S*m+c*x*S*m,p=T*S*x*S*m+c*P*S*m,n=1-(T*S*T*S*m+P*S*P*S*m),g=x*S*P*S*m-c*T*S*m,f=T*S*P*S*m-c*x*S*m,c=x*S*P*S*m+c*T*S*m,m=1-(T*S*T*S*m+x*S*x*S*m),S=+RD[e+(i*284|0)+72>>2],x=+RD[e+(i*284|0)+76>>2],RD[e+(i*284|0)+92>>2]=x*(R*y+w*g+D*m)+(T*(D*f+(w*p+R*d))+S*(D*c+(R*s+w*n))),RD[e+(i*284|0)+96>>2]=M*(R*y+w*g+D*m)+(v*(D*f+(w*p+R*d))+b*(D*c+(R*s+w*n))),RD[e+(i*284|0)+100>>2]=(R*y+w*g+D*m)*-_+((D*f+(w*p+R*d))*-u+(D*c+(R*s+w*n))*-a),RD[e+(i*284|0)+104>>2]=0,RD[e+(i*284|0)+108>>2]=x*(E*y+C*g+A*m)+(T*(A*f+(C*p+E*d))+S*(A*c+(E*s+C*n))),RD[e+(i*284|0)+112>>2]=M*(E*y+C*g+A*m)+(v*(A*f+(C*p+E*d))+b*(A*c+(E*s+C*n))),RD[e+(i*284|0)+116>>2]=(E*y+C*g+A*m)*-_+((A*f+(C*p+E*d))*-u+(A*c+(E*s+C*n))*-a),RD[e+(i*284|0)+120>>2]=0,RD[e+(i*284|0)+124>>2]=x*(l*y+o*g+h*m)+(T*(h*f+(o*p+l*d))+S*(h*c+(l*s+o*n))),RD[e+(i*284|0)+128>>2]=M*(l*y+o*g+h*m)+(v*(h*f+(o*p+l*d))+b*(h*c+(l*s+o*n))),RD[e+(i*284|0)+132>>2]=(l*y+o*g+h*m)*-_+((h*f+(o*p+l*d))*-u+(h*c+(l*s+o*n))*-a),RD[e+(i*284|0)+136>>2]=0,a=+RD[e+(i*284|0)+32>>2],n=a*+RD[e+(i*284|0)+56>>2]+ +RD[e+(i*284|0)+40>>2],o=a*+RD[e+(i*284|0)+60>>2]+ +RD[e+(i*284|0)+44>>2],RD[e+(i*284|0)+140>>2]=+RD[e+(i*284|0)+52>>2]*a+ +RD[e+(i*284|0)+36>>2],RD[e+(i*284|0)+144>>2]=n,RD[e+(i*284|0)+148>>2]=o,RD[e+(i*284|0)+152>>2]=0}function fT(t,e){t|=0,e=+e;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0;if(C=BD,BD=BD+96|0,i=CD[t+136>>2]|0,(i|0)>0){r=0;do pT(CD[t+116>>2]|0,CD[t+144>>2]|0,r,0),r=r+1|0,i=CD[t+136>>2]|0;while((r|0)<(i|0));x=t+116|0}else x=t+116|0;r=CD[x>>2]|0,f=+RD[r+312>>2],m=+RD[r+316>>2],o=+RD[r+320>>2],o=+ND(+(f*f+m*m+o*o))*3.5999999046325684,RD[t+112>>2]=o,T=CD[t+128>>2]|0,+RD[r+4+(T<<2)>>2]*+RD[r+312>>2]+ +RD[r+20+(T<<2)>>2]*+RD[r+316>>2]+ +RD[r+36+(T<<2)>>2]*+RD[r+320>>2]<0&&(RD[t+112>>2]=-o);t:do if((i|0)>0){T=0,i=r;do{S=CD[t+144>>2]|0,s=S+(T*284|0)|0,dT(i,s,0),r=S+(T*284|0)+204|0,a=S+(T*284|0)+212|0,d=+RD[r>>2]+ +RD[a>>2],i=S+(T*284|0)+52|0,g=S+(T*284|0)+56|0,y=S+(T*284|0)+60|0,E=S+(T*284|0)+36|0,b=S+(T*284|0)+16|0,f=d*+RD[g>>2]+ +RD[S+(T*284|0)+40>>2],m=d*+RD[y>>2]+ +RD[S+(T*284|0)+44>>2],RD[S+(T*284|0)+16>>2]=+RD[i>>2]*d+ +RD[E>>2],v=S+(T*284|0)+20|0,RD[v>>2]=f,M=S+(T*284|0)+24|0,RD[M>>2]=m,RD[S+(T*284|0)+28>>2]=0,RD[C+32+32>>2]=-1,n=CD[t+100>>2]|0,E=CP[CD[(CD[n>>2]|0)+8>>2]&31](n,E,b,C+32|0)|0,n=S+(T*284|0)+88|0,CD[n>>2]=0;do{if(E){if(d*=+RD[C+32+32>>2],CD[s>>2]=CD[C+32+16>>2],CD[s+4>>2]=CD[C+32+16+4>>2],CD[s+8>>2]=CD[C+32+16+8>>2],CD[s+12>>2]=CD[C+32+16+12>>2],TD[S+(T*284|0)+84>>0]=1,((TD[4824]|0)==0?(KD(4824)|0)!=0:0)&&(CD[C+72>>2]=0,CD[C+72+4>>2]=0,CD[C+72+8>>2]=0,CD[C+72+12>>2]=0,yd(4208,0,0,0,C+72|0),QD(4824)),CD[1103]=CD[1103]|1,RD[1138]=0,u=+RD[1148]*0,h=+RD[1149]*0,RD[1143]=+RD[1147]*0,RD[1144]=u,RD[1145]=h,RD[1146]=0,CD[1151]=0,CD[1152]=0,CD[1153]=0,CD[1154]=0,h=+RD[1140]*0,u=+RD[1141]*0,RD[1192]=+RD[1139]*0,RD[1193]=h,RD[1194]=u,RD[1195]=0,CD[n>>2]=4208,d-=+RD[a>>2],a=S+(T*284|0)+32|0,RD[a>>2]=d,u=+RD[r>>2],h=+RD[S+(T*284|0)+208>>2]*.009999999776482582,d<u-h&&(RD[a>>2]=u-h,d=u-h),d>u+h&&(RD[a>>2]=u+h),CD[b>>2]=CD[C+32>>2],CD[b+4>>2]=CD[C+32+4>>2],CD[b+8>>2]=CD[C+32+8>>2],CD[b+12>>2]=CD[C+32+12>>2],f=+RD[s>>2],_=+RD[S+(T*284|0)+4>>2],m=+RD[S+(T*284|0)+8>>2],p=f*+RD[i>>2]+_*+RD[g>>2]+m*+RD[y>>2],a=CD[x>>2]|0,o=+RD[b>>2]-+RD[a+52>>2],c=+RD[v>>2]-+RD[a+56>>2],d=+RD[M>>2]-+RD[a+60>>2],u=+RD[a+332>>2],h=+RD[a+336>>2],l=+RD[a+328>>2],p>=-.10000000149011612){RD[S+(T*284|0)+272>>2]=0,RD[S+(T*284|0)+268>>2]=10;break}RD[S+(T*284|0)+272>>2]=-1/p*(f*(u*d-c*h+ +RD[a+312>>2])+_*(o*h-d*l+ +RD[a+316>>2])+m*(c*l-o*u+ +RD[a+320>>2])),RD[S+(T*284|0)+268>>2]=-1/p;break}RD[S+(T*284|0)+32>>2]=+RD[r>>2],RD[S+(T*284|0)+272>>2]=0,f=-+RD[g>>2],m=-+RD[y>>2],RD[s>>2]=-+RD[i>>2],RD[S+(T*284|0)+4>>2]=f,RD[S+(T*284|0)+8>>2]=m,RD[S+(T*284|0)+12>>2]=0,RD[S+(T*284|0)+268>>2]=1}while(0);T=T+1|0,s=CD[t+136>>2]|0,i=CD[x>>2]|0}while((T|0)<(s|0));if(o=1/+RD[i+344>>2],(s|0)>0){for(n=CD[t+144>>2]|0,a=0;;){if(TD[n+(a*284|0)+84>>0]|0?(m=+RD[n+(a*284|0)+272>>2],m=o*(+RD[n+(a*284|0)+216>>2]*(+RD[n+(a*284|0)+204>>2]-+RD[n+(a*284|0)+32>>2])*+RD[n+(a*284|0)+268>>2]-m*+RD[(m<0?n+(a*284|0)+220|0:n+(a*284|0)+224|0)>>2]),r=n+(a*284|0)+276|0,RD[r>>2]=m,m<0&&(RD[r>>2]=0)):RD[n+(a*284|0)+276>>2]=0,(a|0)==(s+-1|0))break;a=a+1|0}for(r=0;;){if(p=+RD[n+(r*284|0)+276>>2],m=+RD[n+(r*284|0)+248>>2],p=p>m?m:p,m=p*+RD[n+(r*284|0)+4>>2]*e,f=p*+RD[n+(r*284|0)+8>>2]*e,RD[C+16>>2]=+RD[n+(r*284|0)>>2]*p*e,RD[C+16+4>>2]=m,RD[C+16+8>>2]=f,RD[C+16+12>>2]=0,f=+RD[n+(r*284|0)+20>>2]-+RD[i+56>>2],m=+RD[n+(r*284|0)+24>>2]-+RD[i+60>>2],RD[C>>2]=+RD[n+(r*284|0)+16>>2]-+RD[i+52>>2],RD[C+4>>2]=f,RD[C+8>>2]=m,RD[C+12>>2]=0,Qf(i,C+16|0,C),r=r+1|0,(r|0)>=(CD[t+136>>2]|0))break t;n=CD[t+144>>2]|0,i=CD[x>>2]|0}}}while(0);if(mP[CD[(CD[t>>2]|0)+20>>2]&31](t,e),r=CD[t+136>>2]|0,(r|0)<=0)return void(BD=C);for(s=CD[t+144>>2]|0,a=CD[x>>2]|0,n=0;;){if(o=+RD[s+(n*284|0)+36>>2]-+RD[a+52>>2],l=+RD[s+(n*284|0)+40>>2]-+RD[a+56>>2],c=+RD[s+(n*284|0)+44>>2]-+RD[a+60>>2],h=+RD[a+332>>2],u=+RD[a+336>>2],d=+RD[a+328>>2],TD[s+(n*284|0)+84>>0]|0?(x=CD[t+128>>2]|0,w=+RD[a+4+(x<<2)>>2],_=+RD[a+20+(x<<2)>>2],f=+RD[a+36+(x<<2)>>2],A=+RD[s+(n*284|0)>>2],p=+RD[s+(n*284|0)+4>>2],m=+RD[s+(n*284|0)+8>>2],o=((l*d-o*h+ +RD[a+320>>2])*(f-m*(w*A+_*p+f*m))+((h*c-l*u+ +RD[a+312>>2])*(w-A*(w*A+_*p+f*m))+(o*u-c*d+ +RD[a+316>>2])*(_-p*(w*A+_*p+f*m))))*e/+RD[s+(n*284|0)+212>>2],RD[s+(n*284|0)+240>>2]=o,x=s+(n*284|0)+236|0,RD[x>>2]=o+ +RD[x>>2]):(o=+RD[s+(n*284|0)+240>>2],x=s+(n*284|0)+236|0,RD[x>>2]=o+ +RD[x>>2]),RD[s+(n*284|0)+240>>2]=o*.9900000095367432,(n|0)==(r+-1|0))break;n=n+1|0}BD=C}function _T(t,e){t|=0,e=+e;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0;if(_=BD,BD=BD+384|0,h=CD[t+136>>2]|0,!h)return void(BD=_);if(s=CD[t+8>>2]|0,(s|0)<(h|0)){if((CD[t+12>>2]|0)<(h|0)){if(CD[5108]=(CD[5108]|0)+1,i=Aw((h<<4|3)+16|0)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,r=i+4+15&-16):r=0,n=CD[t+8>>2]|0,(n|0)>0)for(o=0;;){if(c=r+(o<<4)|0,d=(CD[t+16>>2]|0)+(o<<4)|0,CD[c>>2]=CD[d>>2],CD[c+4>>2]=CD[d+4>>2],CD[c+8>>2]=CD[d+8>>2],CD[c+12>>2]=CD[d+12>>2],(o|0)==(n+-1|0))break;o=o+1|0}o=CD[t+16>>2]|0,o&&(TD[t+20>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[o+-4>>2]|0)),CD[t+16>>2]=0),TD[t+20>>0]=1,CD[t+16>>2]=r,CD[t+12>>2]=h,r=t+16|0}else r=t+16|0;for(i=s;;){if(c=(CD[r>>2]|0)+(i<<4)|0,CD[c>>2]=CD[_+328>>2],CD[c+4>>2]=CD[_+328+4>>2],CD[c+8>>2]=CD[_+328+8>>2],CD[c+12>>2]=CD[_+328+12>>2],(i|0)==(h+-1|0))break;i=i+1|0}}if(CD[t+8>>2]=h,s=CD[t+28>>2]|0,(s|0)<(h|0)){if((CD[t+32>>2]|0)<(h|0)){if(CD[5108]=(CD[5108]|0)+1,i=Aw((h<<4|3)+16|0)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,r=i+4+15&-16):r=0,n=CD[t+28>>2]|0,(n|0)>0)for(o=0;;){if(c=r+(o<<4)|0,d=(CD[t+36>>2]|0)+(o<<4)|0,CD[c>>2]=CD[d>>2],CD[c+4>>2]=CD[d+4>>2],CD[c+8>>2]=CD[d+8>>2],CD[c+12>>2]=CD[d+12>>2],(o|0)==(n+-1|0))break;o=o+1|0}o=CD[t+36>>2]|0,o&&(TD[t+40>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[o+-4>>2]|0)),CD[t+36>>2]=0),TD[t+40>>0]=1,CD[t+36>>2]=r,CD[t+32>>2]=h,r=t+36|0}else r=t+36|0;for(i=s;;){if(c=(CD[r>>2]|0)+(i<<4)|0,CD[c>>2]=CD[_+360>>2],CD[c+4>>2]=CD[_+360+4>>2],CD[c+8>>2]=CD[_+360+8>>2],CD[c+12>>2]=CD[_+360+12>>2],(i|0)==(h+-1|0))break;i=i+1|0}}if(CD[t+28>>2]=h,n=CD[t+48>>2]|0,(n|0)<(h|0)){if((CD[t+52>>2]|0)<(h|0)){if(CD[5108]=(CD[5108]|0)+1,i=Aw((h<<2|3)+16|0)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,o=i+4+15&-16):o=0,r=CD[t+48>>2]|0,(r|0)>0)for(s=0;;){if(i=o+(s<<2)|0,i&&(RD[i>>2]=+RD[(CD[t+56>>2]|0)+(s<<2)>>2]),(s|0)==(r+-1|0))break;s=s+1|0}r=CD[t+56>>2]|0,r&&(TD[t+60>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[r+-4>>2]|0)),CD[t+56>>2]=0),TD[t+60>>0]=1,CD[t+56>>2]=o,CD[t+52>>2]=h}else o=CD[t+56>>2]|0;for(;;){if(r=o+(n<<2)|0,r&&(RD[r>>2]=0),(n|0)==(h+-1|0))break;n=n+1|0}}if(CD[t+48>>2]=h,n=CD[t+68>>2]|0,(n|0)<(h|0)){if((CD[t+72>>2]|0)<(h|0)){if(CD[5108]=(CD[5108]|0)+1,i=Aw((h<<2|3)+16|0)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,o=i+4+15&-16):o=0,r=CD[t+68>>2]|0,(r|0)>0)for(s=0;;){if(i=o+(s<<2)|0,i&&(RD[i>>2]=+RD[(CD[t+76>>2]|0)+(s<<2)>>2]),(s|0)==(r+-1|0))break;s=s+1|0}r=CD[t+76>>2]|0,r&&(TD[t+80>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[r+-4>>2]|0)),CD[t+76>>2]=0),TD[t+80>>0]=1,CD[t+76>>2]=o,CD[t+72>>2]=h}else o=CD[t+76>>2]|0;for(;;){if(r=o+(n<<2)|0,r&&(RD[r>>2]=0),(n|0)==(h+-1|0))break;n=n+1|0}}if(CD[t+68>>2]=h,i=CD[t+136>>2]|0,(i|0)<=0)return void(BD=_);for(r=CD[t+76>>2]|0,o=CD[t+56>>2]|0,n=0;;){if(RD[r+(n<<2)>>2]=0,RD[o+(n<<2)>>2]=0,(n|0)==(i+-1|0))break;n=n+1|0}d=0;do c=CD[t+144>>2]|0,h=CD[c+(d*284|0)+88>>2]|0,h&&(n=c+(d*284|0)+92|0,CD[_+168>>2]=CD[n>>2],CD[_+168+4>>2]=CD[n+4>>2],CD[_+168+8>>2]=CD[n+8>>2],CD[_+168+12>>2]=CD[n+12>>2],n=c+(d*284|0)+108|0,CD[_+168+16>>2]=CD[n>>2],CD[_+168+16+4>>2]=CD[n+4>>2],CD[_+168+16+8>>2]=CD[n+8>>2],CD[_+168+16+12>>2]=CD[n+12>>2],n=c+(d*284|0)+124|0,CD[_+168+32>>2]=CD[n>>2],CD[_+168+32+4>>2]=CD[n+4>>2],CD[_+168+32+8>>2]=CD[n+8>>2],CD[_+168+32+12>>2]=CD[n+12>>2],n=CD[t+36>>2]|0,v=CD[t+120>>2]|0,a=+RD[_+168+16+(v<<2)>>2],M=+RD[_+168+32+(v<<2)>>2],RD[n+(d<<4)>>2]=+RD[_+168+(v<<2)>>2],RD[n+(d<<4)+4>>2]=a,RD[n+(d<<4)+8>>2]=M,RD[n+(d<<4)+12>>2]=0,n=CD[t+36>>2]|0,v=n+(d<<4)|0,M=+RD[v>>2],o=c+(d*284|0)|0,a=+RD[o>>2],s=n+(d<<4)+4|0,b=+RD[s>>2],r=c+(d*284|0)+4|0,u=+RD[r>>2],n=n+(d<<4)+8|0,m=+RD[n>>2],i=c+(d*284|0)+8|0,y=+RD[i>>2],l=M-a*(M*a+b*u+m*y),g=b-u*(M*a+b*u+m*y),y=m-y*(M*a+b*u+m*y),m=1/+ND(+(l*l+g*g+y*y)),RD[v>>2]=l*m,RD[s>>2]=g*m,RD[n>>2]=y*m,n=CD[t+16>>2]|0,u=+RD[r>>2],b=+RD[i>>2],a=+RD[o>>2],RD[n+(d<<4)>>2]=u*y*m-b*g*m,RD[n+(d<<4)+4>>2]=b*l*m-y*m*a,RD[n+(d<<4)+8>>2]=g*m*a-u*l*m,RD[n+(d<<4)+12>>2]=0,n=CD[t+16>>2]|0,o=n+(d<<4)|0,m=+RD[o>>2],i=n+(d<<4)+4|0,l=+RD[i>>2],n=n+(d<<4)+8|0,u=+RD[n>>2],a=1/+ND(+(m*m+l*l+u*u)),RD[o>>2]=m*a,RD[i>>2]=l*a,RD[n>>2]=u*a,n=CD[t+116>>2]|0,i=CD[t+36>>2]|0,o=i+(d<<4)|0,r=(CD[t+76>>2]|0)+(d<<2)|0,a=+RD[o>>2],s=i+(d<<4)+4|0,u=+RD[s>>2],i=i+(d<<4)+8|0,l=+RD[i>>2],a*a+u*u+l*l>1.100000023841858?RD[r>>2]=0:(b=+RD[c+(d*284|0)+16>>2],u=b-+RD[n+52>>2],l=+RD[c+(d*284|0)+20>>2],T=l-+RD[n+56>>2],y=+RD[c+(d*284|0)+24>>2],C=y-+RD[n+60>>2],RD[_+344>>2]=u,RD[_+344+4>>2]=T,RD[_+344+8>>2]=C,RD[_+344+12>>2]=0,b-=+RD[h+52>>2],l-=+RD[h+56>>2],y-=+RD[h+60>>2],RD[_+312>>2]=b,RD[_+312+4>>2]=l,RD[_+312+8>>2]=y,RD[_+312+12>>2]=0,a=+RD[n+332>>2],E=+RD[n+336>>2],S=+RD[n+328>>2],M=+RD[h+332>>2],x=+RD[h+336>>2],g=+RD[h+328>>2],m=a*C-E*T+ +RD[n+312>>2]-(M*y-x*l+ +RD[h+312>>2]),y=+RD[n+316>>2]+(E*u-C*S)-(+RD[h+316>>2]+(x*b-y*g)),b=T*S-a*u+ +RD[n+320>>2]-(l*g-M*b+ +RD[h+320>>2]),RD[_+32>>2]=+RD[n+4>>2],RD[_+32+4>>2]=+RD[n+20>>2],RD[_+32+8>>2]=+RD[n+36>>2],RD[_+32+12>>2]=0,RD[_+32+16>>2]=+RD[n+8>>2],RD[_+32+20>>2]=+RD[n+24>>2],RD[_+32+24>>2]=+RD[n+40>>2],RD[_+32+28>>2]=0,RD[_+32+32>>2]=+RD[n+12>>2],RD[_+32+36>>2]=+RD[n+28>>2],RD[_+32+40>>2]=+RD[n+44>>2],RD[_+32+44>>2]=0,RD[_+264>>2]=+RD[h+4>>2],RD[_+264+4>>2]=+RD[h+20>>2],RD[_+264+8>>2]=+RD[h+36>>2],RD[_+264+12>>2]=0,RD[_+264+16>>2]=+RD[h+8>>2],RD[_+264+20>>2]=+RD[h+24>>2],RD[_+264+24>>2]=+RD[h+40>>2],RD[_+264+28>>2]=0,RD[_+264+32>>2]=+RD[h+12>>2],RD[_+264+36>>2]=+RD[h+28>>2],RD[_+264+40>>2]=+RD[h+44>>2],RD[_+264+44>>2]=0,n_(_+80|0,_+32|0,_+264|0,_+344|0,_+312|0,o,n+396|0,+RD[n+344>>2],h+396|0,+RD[h+344>>2]),RD[r>>2]=1/+RD[_+80+80>>2]*(m*+RD[o>>2]+y*+RD[s>>2]+b*+RD[i>>2])*-.20000000298023224),i=CD[t+136>>2]|0),d=d+1|0;while((d|0)<(i|0));if((i|0)<=0)return void(BD=_);for(h=CD[t+144>>2]|0,r=0,d=0;;){if(n=CD[h+(d*284|0)+88>>2]|0,n?(a=+RD[h+(d*284|0)+252>>2],a!=0?(n=h,l=a*e):(E=+RD[h+(d*284|0)+256>>2],E=E==0?0:E,v=CD[t+116>>2]|0,c=CD[t+16>>2]|0,y=+RD[h+(d*284|0)+16>>2],M=+RD[h+(d*284|0)+20>>2],A=+RD[h+(d*284|0)+24>>2],R=+RD[c+(d<<4)>>2],g=+RD[c+(d<<4)+4>>2],l=+RD[c+(d<<4)+8>>2],H=y-+RD[v+52>>2],I=M-+RD[v+56>>2],L=A-+RD[v+60>>2],V=+RD[v+264>>2]*(I*l-L*g)+ +RD[v+280>>2]*(L*R-H*l)+(H*g-I*R)*+RD[v+296>>2],O=(I*l-L*g)*+RD[v+268>>2]+(L*R-H*l)*+RD[v+284>>2]+(H*g-I*R)*+RD[v+300>>2],k=(I*l-L*g)*+RD[v+272>>2]+(L*R-H*l)*+RD[v+288>>2]+(H*g-I*R)*+RD[v+304>>2],x=y-+RD[n+52>>2],S=M-+RD[n+56>>2],u=A-+RD[n+60>>2],D=(g*x-R*S)*+RD[n+296>>2]+(+RD[n+264>>2]*(l*S-g*u)+ +RD[n+280>>2]*(R*u-l*x)),B=(l*S-g*u)*+RD[n+268>>2]+(R*u-l*x)*+RD[n+284>>2]+(g*x-R*S)*+RD[n+300>>2],P=(l*S-g*u)*+RD[n+272>>2]+(R*u-l*x)*+RD[n+288>>2]+(g*x-R*S)*+RD[n+304>>2],y-=+RD[v+52>>2],M-=+RD[v+56>>2],A-=+RD[v+60>>2],b=+RD[v+332>>2],w=+RD[v+336>>2],m=+RD[v+328>>2],C=+RD[n+332>>2],a=+RD[n+336>>2],T=+RD[n+328>>2],l=-(1/(+RD[v+344>>2]+(l*(I*V-H*O)+(R*(L*O-I*k)+g*(H*k-L*V)))+(+RD[n+344>>2]+(l*(S*D-x*B)+(R*(u*B-S*P)+g*(x*P-u*D)))))*((A*b-M*w+ +RD[v+312>>2]-(u*C-S*a+ +RD[n+312>>2]))*R+(+RD[v+316>>2]+(y*w-A*m)-(+RD[n+316>>2]+(x*a-u*T)))*g+(M*m-y*b+ +RD[v+320>>2]-(S*T-x*C+ +RD[n+320>>2]))*l)),l=E<l?E:l,n=CD[t+144>>2]|0,l=l<-E?-E:l),o=CD[t+56>>2]|0,v=o+(d<<2)|0,RD[v>>2]=0,c=n+(d*284|0)+280|0,RD[c>>2]=1,u=+RD[h+(d*284|0)+276>>2]*e*+RD[h+(d*284|0)+228>>2],RD[v>>2]=l,a=l*.5,l=+RD[(CD[t+76>>2]|0)+(d<<2)>>2],a*a+l*l>u*u?(O=u/+ND(+(a*a+l*l)),RD[c>>2]=O*+RD[c>>2],h=n,c=o,n=1):(h=n,c=o,n=r)):(c=CD[t+56>>2]|0,RD[c+(d<<2)>>2]=0,RD[h+(d*284|0)+280>>2]=1,n=r),d=d+1|0,s=CD[t+136>>2]|0,(d|0)>=(s|0))break;r=n}if(n){if((s|0)<=0)return void(BD=_);for(n=CD[t+76>>2]|0,r=0;;){if(o=n+(r<<2)|0,(+RD[o>>2]!=0?(p=h+(r*284|0)+280|0,f=+RD[p>>2],f<1):0)&&(v=c+(r<<2)|0,RD[v>>2]=f*+RD[v>>2],RD[o>>2]=+RD[p>>2]*+RD[o>>2]),(r|0)==(s+-1|0))break;r=r+1|0}}if((s|0)<=0)return void(BD=_);for(s=h,o=c,i=0;;){if(n=CD[t+116>>2]|0,h=s+(i*284|0)+16|0,l=+RD[h>>2]-+RD[n+52>>2],c=s+(i*284|0)+20|0,u=+RD[c>>2]-+RD[n+56>>2],r=s+(i*284|0)+24|0,e=+RD[r>>2]-+RD[n+60>>2],RD[_>>2]=l,RD[_+4>>2]=u,RD[_+8>>2]=e,RD[_+12>>2]=0,a=+RD[o+(i<<2)>>2],a!=0&&(v=CD[t+16>>2]|0,I=a*+RD[v+(i<<4)+4>>2],O=a*+RD[v+(i<<4)+8>>2],RD[_+232>>2]=a*+RD[v+(i<<4)>>2],RD[_+232+4>>2]=I,RD[_+232+8>>2]=O,RD[_+232+12>>2]=0,Qf(n,_+232|0,_)),a=+RD[(CD[t+76>>2]|0)+(i<<2)>>2],a!=0&&(v=CD[(CD[t+144>>2]|0)+(i*284|0)+88>>2]|0,I=+RD[c>>2]-+RD[v+56>>2],H=+RD[r>>2]-+RD[v+60>>2],RD[_+16>>2]=+RD[h>>2]-+RD[v+52>>2],RD[_+16+4>>2]=I,RD[_+16+8>>2]=H,RD[_+16+12>>2]=0,h=CD[t+36>>2]|0,H=+RD[h+(i<<4)>>2]*a,I=a*+RD[h+(i<<4)+4>>2],O=a*+RD[h+(i<<4)+8>>2],RD[_+248>>2]=H,RD[_+248+4>>2]=I,RD[_+248+8>>2]=O,RD[_+248+12>>2]=0,h=CD[t+116>>2]|0,c=CD[t+124>>2]|0,D=+RD[h+4+(c<<2)>>2],P=+RD[h+20+(c<<2)>>2],L=+RD[h+36+(c<<2)>>2],k=(D*l+P*u+L*e)*(1-+RD[s+(i*284|0)+244>>2]),RD[_>>2]=l-D*k,RD[_+4>>2]=u-P*k,RD[_+8>>2]=e-L*k,Qf(h,_+248|0,_),RD[_+216>>2]=-H,RD[_+216+4>>2]=-I,RD[_+216+8>>2]=-O,RD[_+216+12>>2]=0,Qf(v,_+216|0,_+16|0)),i=i+1|0,(i|0)>=(CD[t+136>>2]|0))break;s=CD[t+144>>2]|0,o=CD[t+56>>2]|0}BD=_}function mT(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0;if(r=BD,BD=BD+48|0,(CD[t+136>>2]|0)<=0)return void(BD=r);i=0;do l=CD[t+144>>2]|0,RD[r+32>>2]=(TD[l+(i*284|0)+84>>0]|0)==0?1:0,RD[r+32+4>>2]=0,RD[r+32+8>>2]=1,RD[r+32+12>>2]=0,s=l+(i*284|0)+140|0,CD[r+16>>2]=CD[s>>2],CD[r+16+4>>2]=CD[s+4>>2],CD[r+16+8>>2]=CD[s+8>>2],CD[r+16+12>>2]=CD[s+12>>2],s=CD[t+120>>2]|0,o=CD[(CD[e>>2]|0)+8>>2]|0,a=+RD[l+(i*284|0)+108+(s<<2)>>2]+ +RD[r+16+4>>2],n=+RD[l+(i*284|0)+124+(s<<2)>>2]+ +RD[r+16+8>>2],RD[r>>2]=+RD[l+(i*284|0)+92+(s<<2)>>2]+ +RD[r+16>>2],RD[r+4>>2]=a,RD[r+8>>2]=n,RD[r+12>>2]=0,eB[o&127](e,r+16|0,r,r+32|0),eB[CD[(CD[e>>2]|0)+8>>2]&127](e,r+16|0,(CD[t+144>>2]|0)+(i*284|0)+16|0,r+32|0),i=i+1|0;while((i|0)<(CD[t+136>>2]|0));BD=r}function gT(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0;return o=BD,BD=BD+96|0,RD[o+4>>2]=1,CD[o+8>>2]=0,xD[o+12>>1]=1,xD[o+14>>1]=-1,CD[o+16>>2]=0,CD[o>>2]=528,CD[o+20>>2]=CD[e>>2],CD[o+20+4>>2]=CD[e+4>>2],CD[o+20+8>>2]=CD[e+8>>2],CD[o+20+12>>2]=CD[e+12>>2],CD[o+36>>2]=CD[i>>2],CD[o+36+4>>2]=CD[i+4>>2],CD[o+36+8>>2]=CD[i+8>>2],CD[o+36+12>>2]=CD[i+12>>2],t=CD[t+4>>2]|0,eB[CD[(CD[t>>2]|0)+32>>2]&127](t,e,i,o),(e=CD[o+8>>2]|0)&&CD[e+236>>2]&2?CD[e+204>>2]&4?(r=0,BD=o,r|0):(CD[r>>2]=CD[o+68>>2],CD[r+4>>2]=CD[o+68+4>>2],CD[r+8>>2]=CD[o+68+8>>2],CD[r+12>>2]=CD[o+68+12>>2],CD[r+16>>2]=CD[o+52>>2],CD[r+16+4>>2]=CD[o+52+4>>2],CD[r+16+8>>2]=CD[o+52+8>>2],CD[r+16+12>>2]=CD[o+52+12>>2],l=+RD[r+16>>2],s=+RD[r+20>>2],a=+RD[r+24>>2],n=1/+ND(+(l*l+s*s+a*a)),RD[r+16>>2]=l*n,RD[r+20>>2]=s*n,RD[r+24>>2]=a*n,RD[r+32>>2]=+RD[o+4>>2],r=e,BD=o,r|0):(r=0,BD=o,r|0)}function yT(t){t|=0;var e=0;CD[t>>2]=5024,e=CD[t+140>>2]|0,e&&(TD[t+144>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+140>>2]=0),TD[t+144>>0]=1,CD[t+140>>2]=0,CD[t+132>>2]=0,CD[t+136>>2]=0}function bT(t){t|=0;var e=0;CD[t>>2]=5024,e=CD[t+140>>2]|0,e&&(TD[t+144>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+140>>2]=0),TD[t+144>>0]=1,CD[t+140>>2]=0,CD[t+132>>2]=0,CD[t+136>>2]=0,CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0)}function vT(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0;if(m=BD,BD=BD+96|0,u=CD[t+12>>2]|0,eB[CD[(CD[u>>2]|0)+8>>2]&127](u,(CD[t+8>>2]|0)+4|0,m+80|0,m+64|0),u=CD[e+68>>2]|0,_P[CD[(CD[u>>2]|0)+16>>2]&31](u,CD[(CD[t+8>>2]|0)+188>>2]|0,m+80|0,m+64|0,CD[e+24>>2]|0),u=CD[e+24>>2]|0,eB[CD[(CD[u>>2]|0)+32>>2]&127](u,CD[(CD[t+8>>2]|0)+284>>2]|0,e+28|0,u),u=CD[t+8>>2]|0,CD[t+92>>2]=CD[u+52>>2],CD[t+92+4>>2]=CD[u+52+4>>2],CD[t+92+8>>2]=CD[u+52+8>>2],CD[t+92+12>>2]=CD[u+52+12>>2],u=CD[u+284>>2]|0,(MP[CD[(CD[u>>2]|0)+36>>2]&127](u)|0)>0){f=0,o=0,e=0;do{if(i=CD[t+132>>2]|0,(i|0)<0)for((CD[t+136>>2]|0)<0&&(r=CD[t+140>>2]|0,r&&(TD[t+144>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[r+-4>>2]|0)),CD[t+140>>2]=0),TD[t+144>>0]=1,CD[t+140>>2]=0,CD[t+136>>2]=0);;){if(r=(CD[t+140>>2]|0)+(i<<2)|0,r&&(CD[r>>2]=0),(i|0)==-1)break;i=i+1|0}CD[t+132>>2]=0,r=CD[(CD[t+8>>2]|0)+284>>2]|0,r=(MP[CD[(CD[r>>2]|0)+28>>2]&127](r)|0)+12|0,r=CD[r>>2]|0,u=CD[CD[r+(f<<4)>>2]>>2]|0,i=CD[CD[r+(f<<4)+4>>2]>>2]|0,((u|0)!=0?(CD[u+204>>2]&4|0)!=0:0)||(_=15);do if((_|0)==15){if(_=0,(i|0)!=0?(CD[i+204>>2]&4|0)!=0:0)break;if(i=CD[r+(f<<4)+8>>2]|0,i&&bP[CD[(CD[i>>2]|0)+16>>2]&127](i,t+128|0),d=CD[t+132>>2]|0,(d|0)>0)for(h=CD[t+140>>2]|0,u=CD[t+8>>2]|0,p=0;;){if(c=CD[h+(p<<2)>>2]|0,l=(CD[c+740>>2]|0)==(u|0)?-1:1,r=CD[c+748>>2]|0,(r|0)>0){s=0;do a=+RD[c+4+(s*184|0)+80>>2],a<0&&(n=c+4+(s*184|0)+64|0,a<o?(i=c+4+(s*184|0)+68|0,g=l*+RD[i>>2],e=c+4+(s*184|0)+72|0,o=l*+RD[e>>2],RD[t+152>>2]=l*+RD[n>>2],RD[t+156>>2]=g,RD[t+160>>2]=o,RD[t+164>>2]=0,r=CD[c+748>>2]|0,o=a):(i=c+4+(s*184|0)+68|0,e=c+4+(s*184|0)+72|0),y=a*l*+RD[i>>2]*.20000000298023224,g=a*l*+RD[e>>2]*.20000000298023224,RD[t+92>>2]=a*l*+RD[n>>2]*.20000000298023224+ +RD[t+92>>2],RD[t+96>>2]=y+ +RD[t+96>>2],RD[t+100>>2]=g+ +RD[t+100>>2],e=1),s=s+1|0;while((s|0)<(r|0))}if((p|0)==(d+-1|0))break;p=p+1|0}}while(0);f=f+1|0,u=CD[(CD[t+8>>2]|0)+284>>2]|0}while((f|0)<(MP[CD[(CD[u>>2]|0)+36>>2]&127](u)|0))}else e=0;return _=CD[t+8>>2]|0,CD[m>>2]=CD[_+4>>2],CD[m+4>>2]=CD[_+4+4>>2],CD[m+8>>2]=CD[_+4+8>>2],CD[m+12>>2]=CD[_+4+12>>2],CD[m+16>>2]=CD[_+20>>2],CD[m+16+4>>2]=CD[_+20+4>>2],CD[m+16+8>>2]=CD[_+20+8>>2],CD[m+16+12>>2]=CD[_+20+12>>2],CD[m+32>>2]=CD[_+36>>2],CD[m+32+4>>2]=CD[_+36+4>>2],CD[m+32+8>>2]=CD[_+36+8>>2],CD[m+32+12>>2]=CD[_+36+12>>2],CD[m+48>>2]=CD[t+92>>2],CD[m+48+4>>2]=CD[t+92+4>>2],CD[m+48+8>>2]=CD[t+92+8>>2],CD[m+48+12>>2]=CD[t+92+12>>2],CD[_+260>>2]=(CD[_+260>>2]|0)+1,CD[_+4>>2]=CD[m>>2],CD[_+4+4>>2]=CD[m+4>>2],CD[_+4+8>>2]=CD[m+8>>2],CD[_+4+12>>2]=CD[m+12>>2],CD[_+20>>2]=CD[m+16>>2],CD[_+20+4>>2]=CD[m+16+4>>2],CD[_+20+8>>2]=CD[m+16+8>>2],CD[_+20+12>>2]=CD[m+16+12>>2],CD[_+36>>2]=CD[m+32>>2],CD[_+36+4>>2]=CD[m+32+4>>2],CD[_+36+8>>2]=CD[m+32+8>>2],CD[_+36+12>>2]=CD[m+32+12>>2],CD[_+52>>2]=CD[m+48>>2],CD[_+52+4>>2]=CD[m+48+4>>2],CD[_+52+8>>2]=CD[m+48+8>>2],CD[_+52+12>>2]=CD[m+48+12>>2],BD=m,e|0}function MT(t,e,i,r,o){t|=0,e|=0,i=+i,r=+r,o=+o;var n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0;for(u=BD,BD=BD+240|0,c=+RD[t+96>>2]+r,h=+RD[t+100>>2]+o,RD[t+112>>2]=+RD[t+92>>2]+i,RD[t+116>>2]=c,RD[t+120>>2]=h,RD[t+124>>2]=0,RD[u+168>>2]=1,CD[u+168+4>>2]=0,CD[u+168+4+4>>2]=0,CD[u+168+4+8>>2]=0,CD[u+168+4+12>>2]=0,RD[u+168+20>>2]=1,CD[u+168+24>>2]=0,CD[u+168+24+4>>2]=0,CD[u+168+24+8>>2]=0,CD[u+168+24+12>>2]=0,RD[u+168+40>>2]=1,n=u+168+44|0,CD[n>>2]=0,CD[n+4>>2]=0,CD[n+8>>2]=0,CD[n+12>>2]=0,CD[n+16>>2]=0,RD[u+104>>2]=1,CD[u+104+4>>2]=0,CD[u+104+4+4>>2]=0,CD[u+104+4+8>>2]=0,CD[u+104+4+12>>2]=0,RD[u+104+20>>2]=1,CD[u+104+24>>2]=0,CD[u+104+24+4>>2]=0,CD[u+104+24+8>>2]=0,CD[u+104+24+12>>2]=0,RD[u+104+40>>2]=1,n=u+104+44|0,CD[n>>2]=0,CD[n+4>>2]=0,CD[n+8>>2]=0,CD[n+12>>2]=0,CD[n+16>>2]=0,h=1,n=10;;){if((n|0)<=0){n=14;break}if(n=n+-1|0,CD[u+168+48>>2]=CD[t+92>>2],CD[u+168+48+4>>2]=CD[t+92+4>>2],CD[u+168+48+8>>2]=CD[t+92+8>>2],CD[u+168+48+12>>2]=CD[t+92+12>>2],CD[u+104+48>>2]=CD[t+112>>2],CD[u+104+48+4>>2]=CD[t+112+4>>2],CD[u+104+48+8>>2]=CD[t+112+8>>2],CD[u+104+48+12>>2]=CD[t+112+12>>2],l=+RD[t+92>>2]-+RD[t+112>>2],c=+RD[t+96>>2]-+RD[t+116>>2],i=+RD[t+100>>2]-+RD[t+120>>2],d=CD[t+8>>2]|0,RD[u+4>>2]=1,CD[u+76>>2]=0,CD[u+12>>2]=0,CD[u+12+4>>2]=0,CD[u+12+8>>2]=0,CD[u+12+12>>2]=0,CD[u+12+16>>2]=0,CD[u+12+20>>2]=0,CD[u+12+24>>2]=0,CD[u+12+28>>2]=0,CD[u>>2]=5256,CD[u+80>>2]=d,RD[u+84>>2]=l,RD[u+88>>2]=c,RD[u+92>>2]=i,RD[u+96>>2]=0,RD[u+100>>2]=0,d=CD[d+188>>2]|0,xD[u+8>>1]=xD[d+4>>1]|0,xD[u+10>>1]=xD[d+6>>1]|0,d=CD[t+12>>2]|0,i=+VP[CD[(CD[d>>2]|0)+48>>2]&15](d),d=CD[t+12>>2]|0,mP[CD[(CD[d>>2]|0)+44>>2]&31](d,i+ +RD[t+56>>2]),TD[t+170>>0]|0?BM(CD[t+8>>2]|0,CD[t+12>>2]|0,u+168|0,u+104|0,u,+RD[e+56>>2]):ES(e,CD[t+12>>2]|0,u+168|0,u+104|0,u,+RD[e+56>>2]),d=CD[t+12>>2]|0,mP[CD[(CD[d>>2]|0)+44>>2]&31](d,i),c=+RD[u+4>>2],h-=c,c<1){if(r=+RD[t+112>>2],s=+RD[t+92>>2],i=+RD[t+116>>2],l=+RD[t+96>>2],a=+RD[t+120>>2],c=+RD[t+100>>2],o=+ND(+((r-s)*(r-s)+(i-l)*(i-l)+(a-c)*(a-c))),o>1.1920928955078125e-7?(m=+RD[u+44>>2],f=+RD[u+48>>2],y=+RD[u+52>>2],g=((r-s)*(1/o)*m+(i-l)*(1/o)*f+(a-c)*(1/o)*y)*2,_=(r-s)*(1/o)-m*g,p=(i-l)*(1/o)-f*g,g=(a-c)*(1/o)-y*g,a=1/+ND(+(g*g+(_*_+p*p))),CD[t+112>>2]=CD[t+92>>2],CD[t+112+4>>2]=CD[t+92+4>>2],CD[t+112+8>>2]=CD[t+92+8>>2],CD[t+112+12>>2]=CD[t+92+12>>2],r=o*(a*_-m*(y*a*g+(m*a*_+f*a*p)))+ +RD[t+112>>2],RD[t+112>>2]=r,i=o*(a*p-f*(y*a*g+(m*a*_+f*a*p)))+ +RD[t+116>>2],RD[t+116>>2]=i,a=o*(a*g-y*(y*a*g+(m*a*_+f*a*p)))+ +RD[t+120>>2],RD[t+120>>2]=a,o=i):o=i,i=r-s,r=o-l,o=a-c,!(i*i+r*r+o*o>1.1920928955078125e-7)){n=12;break}if(y=1/+ND(+(i*i+r*r+o*o)),i*y*+RD[t+76>>2]+r*y*+RD[t+80>>2]+o*y*+RD[t+84>>2]<=0){n=12;break}}else CD[t+92>>2]=CD[t+112>>2],CD[t+92+4>>2]=CD[t+112+4>>2],CD[t+92+8>>2]=CD[t+112+8>>2],CD[t+92+12>>2]=CD[t+112+12>>2];if(!(h>.009999999776482582)){n=14;break}}return(n|0)==12?void(BD=u):(n|0)==14?void(BD=u):void 0}function ST(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0;TD[t+171>>0]=1,CD[t+60>>2]=CD[e>>2],CD[t+60+4>>2]=CD[e+4>>2],CD[t+60+8>>2]=CD[e+8>>2],CD[t+60+12>>2]=CD[e+12>>2],i=+RD[t+60>>2],r=+RD[t+64>>2],a=+RD[t+68>>2],o=1/+ND(+(i*i+r*r+a*a)),+ND(+(a*o*a*o+(i*o*i*o+r*o*r*o)))<1.1920928955078125e-7?(s=0,n=0,i=0,r=0):(s=i*o,n=r*o,i=a*o,r=+RD[t+72>>2]),RD[t+76>>2]=s,RD[t+80>>2]=n,RD[t+84>>2]=i,RD[t+88>>2]=r}function TT(t,e,i){t|=0,e|=0,i=+i;var r=0,o=0,n=0,a=0,s=0,l=0;TD[t+171>>0]=0,CD[t+60>>2]=CD[e>>2],CD[t+60+4>>2]=CD[e+4>>2],CD[t+60+8>>2]=CD[e+8>>2],CD[t+60+12>>2]=CD[e+12>>2],r=+RD[t+60>>2],o=+RD[t+64>>2],s=+RD[t+68>>2],n=1/+ND(+(r*r+o*o+s*s)),+ND(+(s*n*s*n+(r*n*r*n+o*n*o*n)))<1.1920928955078125e-7?(l=0,a=0,r=0,o=0):(l=r*n,a=o*n,r=s*n,o=+RD[t+72>>2]),RD[t+76>>2]=l,RD[t+80>>2]=a,RD[t+84>>2]=r,RD[t+88>>2]=o,RD[t+172>>2]=+RD[t+172>>2]+i}function xT(t,e){t|=0,e|=0;var i=0,r=0,o=0;if(RD[t+16>>2]=0,RD[t+20>>2]=0,TD[t+168>>0]=0,TD[t+169>>0]=0,RD[t+172>>2]=0,CD[t+60>>2]=0,CD[t+60+4>>2]=0,CD[t+60+8>>2]=0,CD[t+60+12>>2]=0,t=CD[(CD[t+8>>2]|0)+284>>2]|0,i=(MP[CD[(CD[t>>2]|0)+28>>2]&127](t)|0)+4|0,!((CD[i>>2]|0)<=0))do r=CD[t>>2]|0,o=CD[r+12>>2]|0,r=(MP[CD[r+28>>2]&127](t)|0)+12|0,r=CD[CD[r>>2]>>2]|0,i=(MP[CD[(CD[t>>2]|0)+28>>2]&127](t)|0)+12|0,CP[o&31](t,r,CD[(CD[i>>2]|0)+4>>2]|0,CD[e+24>>2]|0)|0,i=(MP[CD[(CD[t>>2]|0)+28>>2]&127](t)|0)+4|0;while((CD[i>>2]|0)>0)}function CT(t,e){t|=0,e|=0;var i=0;i=BD,BD=BD+32|0,CD[i+16>>2]=0,CD[i+16+4>>2]=0,CD[i+16+8>>2]=0,CD[i+16+12>>2]=0,CD[i>>2]=CD[e>>2],CD[i+4>>2]=CD[e+4>>2],CD[i+8>>2]=CD[e+8>>2],CD[i+12>>2]=CD[e+12>>2],t=CD[t+8>>2]|0,CD[t+260>>2]=(CD[t+260>>2]|0)+1,RD[t+4>>2]=1,CD[t+8>>2]=CD[i+16>>2],CD[t+8+4>>2]=CD[i+16+4>>2],CD[t+8+8>>2]=CD[i+16+8>>2],CD[t+20>>2]=0,RD[t+24>>2]=1,CD[t+28>>2]=0,CD[t+28+4>>2]=0,CD[t+28+8>>2]=0,CD[t+28+12>>2]=0,RD[t+44>>2]=1,RD[t+48>>2]=0,CD[t+52>>2]=CD[i>>2],CD[t+52+4>>2]=CD[i+4>>2],CD[t+52+8>>2]=CD[i+8>>2],CD[t+52+12>>2]=CD[i+12>>2],BD=i}function ET(t,e){t|=0,e|=0,TD[t+148>>0]=0,((((vT(t,e)|0?(TD[t+148>>0]=1,vT(t,e)|0):0)?(TD[t+148>>0]=1,vT(t,e)|0):0)?(TD[t+148>>0]=1,vT(t,e)|0):0)?(TD[t+148>>0]=1,vT(t,e)|0):0)&&(TD[t+148>>0]=1),e=(CD[t+8>>2]|0)+52|0,CD[t+92>>2]=CD[e>>2],CD[t+92+4>>2]=CD[e+4>>2],CD[t+92+8>>2]=CD[e+8>>2],CD[t+92+12>>2]=CD[e+12>>2],Hw(t+112|0,e|0,16)|0}function AT(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0,N=0,F=0,G=0,z=0,j=0,U=0,W=0,X=0,q=0,K=0,Y=0,Q=0,Z=0,$=0,te=0,ee=0,ie=0,re=0,oe=0,ne=0,ae=0,se=0,le=0;if(le=BD,BD=BD+800|0,l=CD[t+20>>2]|0,l||(l=CD[t+4>>2]|0,l=DP[CD[(CD[l>>2]|0)+12>>2]&63](l,CD[e+8>>2]|0,CD[i+8>>2]|0)|0,CD[t+20>>2]=l,TD[t+16>>0]=1),CD[o+4>>2]=l,F=CD[e+4>>2]|0,w=CD[i+4>>2]|0,s=CD[F+4>>2]|0,a=CD[w+4>>2]|0,(s|0)==10&(a|0)==10){if(D=+RD[l+752>>2],se=CD[F+52>>2]|0,_=+RD[F+28+(se<<2)>>2],E=+RD[F+28+(((se+2|0)%3|0)<<2)>>2],r=CD[w+52>>2]|0,u=+RD[w+28+(r<<2)>>2],A=+RD[w+28+(((r+2|0)%3|0)<<2)>>2],t=CD[e+12>>2]|0,T=CD[i+12>>2]|0,x=+RD[t+(se<<2)>>2],C=+RD[t+16+(se<<2)>>2],S=+RD[t+32+(se<<2)>>2],m=+RD[T+(r<<2)>>2],g=+RD[T+16+(r<<2)>>2],f=+RD[T+32+(r<<2)>>2],h=+RD[T+48>>2]-+RD[t+48>>2],b=+RD[T+52>>2]-+RD[t+52>>2],v=+RD[T+56>>2]-+RD[t+56>>2],d=1-(x*m+C*g+S*f)*(x*m+C*g+S*f),d!=0?(d=(x*h+C*b+S*v-(x*m+C*g+S*f)*(m*h+g*b+f*v))/d,d<-_?d=-_:d>_&&(d=_)):d=0,p=(x*m+C*g+S*f)*d-(m*h+g*b+f*v),p<-u?(d=(x*m+C*g+S*f)*-u+(x*h+C*b+S*v),d<-_?(d=-_,u=-u):d>_?(d=_,u=-u):u=-u):p>u?(d=u*(x*m+C*g+S*f)+(x*h+C*b+S*v),d<-_?d=-_:d>_&&(d=_)):u=p,m*=u,_=g*u,f*=u,h=m+(h-x*d),c=_+(b-C*d),u=f+(v-S*d),p=+ND(+(u*u+(h*h+c*c))),!(p-E-A>D)){do{if(u*u+(h*h+c*c)<=1.4210854715202004e-14){if(+JD(+S)>.7071067690849304){u=1/+ND(+(C*C+S*S)),RD[le+256>>2]=0,RD[le+256+4>>2]=-(S*u),RD[le+256+8>>2]=C*u,h=0,d=-(S*u),u=C*u;break}d=1/+ND(+(x*x+C*C)),RD[le+256>>2]=-(C*d),RD[le+256+4>>2]=x*d,RD[le+256+8>>2]=0,h=-(C*d),d=x*d,u=0;break}RD[le+256>>2]=h*-(1/p),RD[le+256+4>>2]=c*-(1/p),RD[le+256+8>>2]=u*-(1/p),RD[le+256+12>>2]=0,h*=-(1/p),d=c*-(1/p),u*=-(1/p)}while(0);$=A*d+(_+ +RD[T+52>>2]),te=A*u+(f+ +RD[T+56>>2]),RD[le+272>>2]=A*h+(m+ +RD[T+48>>2]),RD[le+272+4>>2]=$,RD[le+272+8>>2]=te,RD[le+272+12>>2]=0}return p-E-A<D&&(YP[CD[(CD[o>>2]|0)+16>>2]&15](o,le+256|0,le+272|0,p-E-A),l=CD[o+4>>2]|0),CD[l+748>>2]|0?(s=CD[l+740>>2]|0,a=CD[(CD[o+8>>2]|0)+8>>2]|0,n=CD[(CD[o+12>>2]|0)+8>>2]|0,(s|0)==(a|0)?(MM(l,s+4|0,n+4|0),void(BD=le)):(MM(l,n+4|0,a+4|0),void(BD=le))):void(BD=le)}if(RD[le+128>>2]=0xde0b6b000000000,l=CD[t+8>>2]|0,N=CD[t+12>>2]|0,CD[le+528>>2]=19400,RD[le+528+4>>2]=0,RD[le+528+8>>2]=1,RD[le+528+12>>2]=0,RD[le+528+16>>2]=0,CD[le+528+20>>2]=N,CD[le+528+24>>2]=l,CD[le+528+28>>2]=F,CD[le+528+32>>2]=w,CD[le+528+36>>2]=s,CD[le+528+40>>2]=a,$=+VP[CD[(CD[F>>2]|0)+48>>2]&15](F),RD[le+528+44>>2]=$,$=+VP[CD[(CD[w>>2]|0)+48>>2]&15](w),RD[le+528+48>>2]=$,TD[le+528+52>>0]=0,CD[le+528+60>>2]=-1,CD[le+528+72>>2]=1,CD[le+528+76>>2]=1,CD[le+528+28>>2]=F,CD[le+528+32>>2]=w,$=+VP[CD[(CD[F>>2]|0)+48>>2]&15](F),te=+VP[CD[(CD[w>>2]|0)+48>>2]&15](w),te=$+te+ +RD[(CD[t+20>>2]|0)+752>>2],RD[le+128>>2]=te*te,l=CD[e+12>>2]|0,CD[le>>2]=CD[l>>2],CD[le+4>>2]=CD[l+4>>2],CD[le+8>>2]=CD[l+8>>2],CD[le+12>>2]=CD[l+12>>2],CD[le+16>>2]=CD[l+16>>2],CD[le+16+4>>2]=CD[l+16+4>>2],CD[le+16+8>>2]=CD[l+16+8>>2],CD[le+16+12>>2]=CD[l+16+12>>2],CD[le+32>>2]=CD[l+32>>2],CD[le+32+4>>2]=CD[l+32+4>>2],CD[le+32+8>>2]=CD[l+32+8>>2],CD[le+32+12>>2]=CD[l+32+12>>2],CD[le+48>>2]=CD[l+48>>2],CD[le+48+4>>2]=CD[l+48+4>>2],CD[le+48+8>>2]=CD[l+48+8>>2],CD[le+48+12>>2]=CD[l+48+12>>2],l=CD[i+12>>2]|0,CD[le+64>>2]=CD[l>>2],CD[le+64+4>>2]=CD[l+4>>2],CD[le+64+8>>2]=CD[l+8>>2],CD[le+64+12>>2]=CD[l+12>>2],CD[le+80>>2]=CD[l+16>>2],CD[le+80+4>>2]=CD[l+16+4>>2],CD[le+80+8>>2]=CD[l+16+8>>2],CD[le+80+12>>2]=CD[l+16+12>>2],CD[le+96>>2]=CD[l+32>>2],CD[le+96+4>>2]=CD[l+32+4>>2],CD[le+96+8>>2]=CD[l+32+8>>2],CD[le+96+12>>2]=CD[l+32+12>>2],CD[le+112>>2]=CD[l+48>>2],CD[le+112+4>>2]=CD[l+48+4>>2],CD[le+112+8>>2]=CD[l+48+8>>2],CD[le+112+12>>2]=CD[l+48+12>>2],l=CD[F+4>>2]|0,(l|0)<7?(n=CD[w+4>>2]|0,(n|0)<7):0){CD[le+184>>2]=10832,l?(u=+VP[CD[(CD[F>>2]|0)+48>>2]&15](F),l=CD[w+4>>2]|0):(l=n,u=0),d=l?+VP[CD[(CD[w>>2]|0)+48>>2]&15](w):0,CD[le+624>>2]=10560,CD[le+624+4>>2]=o,RD[le+624+24>>2]=u,RD[le+624+28>>2]=d,TD[le+624+36>>0]=0,R=CD[F+52>>2]|0;t:do if(R){s=CD[w+52>>2]|0;do if(s){if(ne=+RD[(CD[t+20>>2]|0)+752>>2],TD[r+24>>0]|0){M=CD[e+12>>2]|0,a=CD[i+12>>2]|0,CD[4824]=(CD[4824]|0)+1,Y=+RD[R+64>>2],Q=+RD[R+68>>2],g=+RD[M+4>>2],Z=+RD[R+72>>2],m=+RD[M+8>>2],_=+RD[M+16>>2],b=+RD[M+20>>2],f=+RD[M+24>>2],S=+RD[M+32>>2],p=+RD[M+36>>2],x=+RD[M+40>>2],$=+RD[s+64>>2],te=+RD[s+68>>2],oe=+RD[s+72>>2],ie=Y*+RD[M>>2]+Q*g+Z*m+ +RD[M+48>>2]-($*+RD[a>>2]+te*+RD[a+4>>2]+oe*+RD[a+8>>2]+ +RD[a+48>>2]),re=Y*_+Q*b+Z*f+ +RD[M+52>>2]-($*+RD[a+16>>2]+te*+RD[a+20>>2]+oe*+RD[a+24>>2]+ +RD[a+52>>2]),oe=Y*S+Q*p+Z*x+ +RD[M+56>>2]-($*+RD[a+32>>2]+te*+RD[a+36>>2]+oe*+RD[a+40>>2]+ +RD[a+56>>2]),B=CD[R+28>>2]|0;e:do if((B|0)>0)for(C=0,E=f,D=p,A=3.4028234663852886e38,P=0,h=0,v=0,p=0,c=0;;){r=CD[R+36>>2]|0,$=+RD[r+(P*36|0)+20>>2],te=+RD[r+(P*36|0)+24>>2],f=+RD[r+(P*36|0)+28>>2],u=$*+RD[M>>2]+te*g+f*m,d=$*_+te*b+f*E,f=$*S+te*D+f*x,RD[le+664>>2]=u,RD[le+664+4>>2]=d,RD[le+664+8>>2]=f,RD[le+664+12>>2]=0,ie*u+re*d+oe*f<0&&(RD[le+664>>2]=-u,RD[le+664+4>>2]=-d,RD[le+664+8>>2]=-f,u=-u,d=-d,f=-f),CD[4820]=(CD[4820]|0)+1;do if(wv(M,a,ie,re,oe,u,d,f,R,s,A)|0){CD[4822]=(CD[4822]|0)+1,Zv(R,M,le+664|0,le+712|0,le+288|0,le+680|0,le+152|0),Zv(s,a,le+664|0,le+248|0,le+208|0,le+168|0,le+608|0),S=+RD[le+288>>2],b=+RD[le+248>>2];do if(S<b)T=0,b=C;else{if(g=+RD[le+208>>2],m=+RD[le+712>>2],g<m){T=0,b=C;break}T=1,b=S-b<g-m?S-b:g-m}while(0);if(!T){y=0,u=h,f=v,d=c;break e}if(!(b<A)){C=b,u=h,f=v,d=c;
break}C=b,A=b,p=0}else u=h,f=v,d=c;while(0);if(T=P+1|0,(T|0)>=(B|0)){g=A,ae=51;break e}g=+RD[M+4>>2],m=+RD[M+8>>2],_=+RD[M+16>>2],b=+RD[M+20>>2],E=+RD[M+24>>2],S=+RD[M+32>>2],D=+RD[M+36>>2],x=+RD[M+40>>2],P=T,h=u,v=f,c=d}else g=3.4028234663852886e38,u=0,f=0,p=0,d=0,ae=51;while(0);e:do if((ae|0)==51){if(B=CD[s+28>>2]|0,(B|0)>0)for(b=0,P=0,D=u,A=f,E=d;;){r=CD[s+36>>2]|0,$=+RD[r+(P*36|0)+20>>2],te=+RD[r+(P*36|0)+24>>2],f=+RD[r+(P*36|0)+28>>2],u=$*+RD[a>>2]+te*+RD[a+4>>2]+f*+RD[a+8>>2],d=$*+RD[a+16>>2]+te*+RD[a+20>>2]+f*+RD[a+24>>2],f=$*+RD[a+32>>2]+te*+RD[a+36>>2]+f*+RD[a+40>>2],RD[le+696>>2]=u,RD[le+696+4>>2]=d,RD[le+696+8>>2]=f,RD[le+696+12>>2]=0,ie*u+re*d+oe*f<0&&(RD[le+696>>2]=-u,RD[le+696+4>>2]=-d,RD[le+696+8>>2]=-f,u=-u,d=-d,f=-f),CD[4820]=(CD[4820]|0)+1;do if(wv(M,a,ie,re,oe,u,d,f,R,s,g)|0){CD[4822]=(CD[4822]|0)+1,Zv(R,M,le+696|0,le+712|0,le+288|0,le+680|0,le+152|0),Zv(s,a,le+696|0,le+248|0,le+208|0,le+168|0,le+608|0),S=+RD[le+288>>2],m=+RD[le+248>>2];do if(S<m)T=0;else{if(_=+RD[le+208>>2],h=+RD[le+712>>2],_<h){T=0;break}T=1,b=S-m<_-h?S-m:_-h}while(0);if(!T){y=0,u=D,f=A,d=E;break e}if(!(b<g)){x=b,u=D,f=A,d=E;break}x=b,g=b,p=0}else x=b,u=D,f=A,d=E;while(0);if(P=P+1|0,(P|0)>=(B|0))break;b=x,D=u,A=f,E=d}if(l=CD[R+48>>2]|0,(l|0)>0){C=0,v=0,V=0,L=0,x=0,S=0,b=0,D=0,A=0,E=0,j=0,z=0,G=0,h=0,c=0,k=0,H=0,I=0,J=0,N=CD[s+48>>2]|0,B=0,P=-1,T=-1;do{if(r=CD[R+56>>2]|0,Q=+RD[r+(B<<4)>>2],Z=+RD[r+(B<<4)+4>>2],ee=+RD[r+(B<<4)+8>>2],$=Q*+RD[M>>2]+Z*+RD[M+4>>2]+ee*+RD[M+8>>2],te=Q*+RD[M+16>>2]+Z*+RD[M+20>>2]+ee*+RD[M+24>>2],ee=Q*+RD[M+32>>2]+Z*+RD[M+36>>2]+ee*+RD[M+40>>2],(N|0)>0){for(X=x,W=S,U=b,q=h,K=k,r=0,Y=u,Q=f,Z=d;;){N=CD[s+56>>2]|0,S=+RD[N+(r<<4)>>2],x=+RD[N+(r<<4)+4>>2],k=+RD[N+(r<<4)+8>>2],h=S*+RD[a>>2]+x*+RD[a+4>>2]+k*+RD[a+8>>2],_=S*+RD[a+16>>2]+x*+RD[a+20>>2]+k*+RD[a+24>>2],k=S*+RD[a+32>>2]+x*+RD[a+36>>2]+k*+RD[a+40>>2],RD[le+776>>2]=te*k-ee*_,RD[le+776+4>>2]=ee*h-$*k,RD[le+776+8>>2]=$*_-te*h,RD[le+776+12>>2]=0;do if(+JD(+(te*k-ee*_))>1e-6)ae=69;else{if(+JD(+(ee*h-$*k))>1e-6){ae=69;break}+JD(+($*_-te*h))>1e-6?ae=69:(k=K,h=q,_=G,q=z,K=j,m=U,S=W,x=X,u=Y,f=Q,d=Z)}while(0);do if((ae|0)==69){if(ae=0,f=1/+ND(+((te*k-ee*_)*(te*k-ee*_)+(ee*h-$*k)*(ee*h-$*k)+($*_-te*h)*($*_-te*h))),u=(te*k-ee*_)*f,RD[le+776>>2]=u,d=(ee*h-$*k)*f,RD[le+776+4>>2]=d,f=($*_-te*h)*f,RD[le+776+8>>2]=f,ie*u+re*d+oe*f<0&&(RD[le+776>>2]=-u,RD[le+776+4>>2]=-d,RD[le+776+8>>2]=-f,u=-u,d=-d,f=-f),CD[4820]=(CD[4820]|0)+1,!(wv(M,a,ie,re,oe,u,d,f,R,s,g)|0)){k=K,h=q,_=G,q=z,K=j,m=U,S=W,x=X,u=Y,f=Q,d=Z;break}CD[4822]=(CD[4822]|0)+1,Zv(R,M,le+776|0,le+712|0,le+288|0,le+680|0,le+152|0),Zv(s,a,le+776|0,le+248|0,le+208|0,le+168|0,le+608|0),x=+RD[le+288>>2],S=+RD[le+248>>2];do{if(!(x<S)){if(b=+RD[le+208>>2],m=+RD[le+712>>2],b<m){O=0,b=C;break}if(x-S<b-m){O=1,G=+RD[le+152+8>>2],z=+RD[le+152+4>>2],j=+RD[le+152>>2],U=+RD[le+168+8>>2],W=+RD[le+168+4>>2],X=+RD[le+168>>2],b=x-S;break}O=1,G=+RD[le+680+8>>2],z=+RD[le+680+4>>2],j=+RD[le+680>>2],U=+RD[le+608+8>>2],W=+RD[le+608+4>>2],X=+RD[le+608>>2],b-=m;break}O=0,b=C}while(0);if(!O){y=0,u=Y,f=Q,d=Z;break e}if(!(b<g)){k=K,h=q,_=G,q=z,K=j,m=U,S=W,x=X,C=b,u=Y,f=Q,d=Z;break}J=ee,I=te,H=$,c=_,_=G,q=z,K=j,E=G,A=z,D=j,m=U,S=W,x=X,L=U,V=W,v=X,C=b,g=b,P=B,T=r,p=0}while(0);if(r=r+1|0,N=CD[s+48>>2]|0,(r|0)>=(N|0))break;X=x,W=S,U=m,j=K,z=q,G=_,q=h,K=k,Y=u,Q=f,Z=d}G=_,z=q,j=K,b=m,l=CD[R+48>>2]|0}B=B+1|0}while((B|0)<(l|0))}else J=0,I=0,H=0,k=0,c=0,h=0,E=0,A=0,D=0,L=0,V=0,v=0,P=-1,T=-1;do if((T|P|0)>-1){D=v-D,m=V-A,_=L-E,b=H*h+I*c+J*k,g=H*D+I*m+J*_,S=h*D+c*m+k*_;do if(1-b*b==0)C=0;else{if((g-b*S)/(1-b*b)<-1.0000000150474662e30){C=-1.0000000150474662e30;break}if(!((g-b*S)/(1-b*b)>1.0000000150474662e30)){C=(g-b*S)/(1-b*b);break}C=1.0000000150474662e30}while(0);x=b*C-S;do if(x<-1.0000000150474662e30){if(b*-1.0000000150474662e30+g<-1.0000000150474662e30){C=-1.0000000150474662e30,x=-1.0000000150474662e30;break}if(!(b*-1.0000000150474662e30+g>1.0000000150474662e30)){C=b*-1.0000000150474662e30+g,x=-1.0000000150474662e30;break}C=1.0000000150474662e30,x=-1.0000000150474662e30}else{if(!(x>1.0000000150474662e30))break;if(b*1.0000000150474662e30+g<-1.0000000150474662e30){C=-1.0000000150474662e30,x=1.0000000150474662e30;break}if(!(b*1.0000000150474662e30+g>1.0000000150474662e30)){C=b*1.0000000150474662e30+g,x=1.0000000150474662e30;break}C=1.0000000150474662e30,x=1.0000000150474662e30}while(0);if(A=h*x,E=x*c,x*=k,S=D-H*C+A,b=m-C*I+E,g=_-C*J+x,RD[le+216>>2]=S,RD[le+216+4>>2]=b,RD[le+216+8>>2]=g,RD[le+216+12>>2]=0,!(S*S+b*b+g*g>1.1920928955078125e-7))break;m=+ND(+(S*S+b*b+g*g)),RD[le+216>>2]=S*(1/m),RD[le+216+4>>2]=1/m*b,RD[le+216+8>>2]=1/m*g,S*(1/m)*ie+1/m*b*re+1/m*g*oe<0&&(RD[le+216>>2]=-(S*(1/m)),RD[le+216+4>>2]=-(1/m*b),RD[le+216+8>>2]=-(1/m*g)),RD[le+232>>2]=v+A,RD[le+232+4>>2]=V+E,RD[le+232+8>>2]=L+x,RD[le+232+12>>2]=0,YP[CD[(CD[o>>2]|0)+16>>2]&15](o,le+216|0,le+232|0,-m)}while(0);ie*u+re*d+oe*f<0?(y=1,u=-u,f=-f,p=0,d=-d):y=1}while(0);y&&(c=-1.0000000150474662e30,ae=104)}else Bv(le+528|0,le,le+624|0,CD[r+20>>2]|0,0),c=+RD[le+624+32>>2],c<0&(TD[le+624+36>>0]|0)!=0&&(u=+RD[le+624+8>>2],f=+RD[le+624+16>>2],p=+RD[le+624+20>>2],d=+RD[le+624+12>>2],ae=104);if((ae|0)==104){if(r=CD[F+52>>2]|0,N=CD[w+52>>2]|0,F=CD[e+12>>2]|0,O=CD[i+12>>2]|0,D=c-ne,C=1/+ND(+(u*u+d*d+f*f)),A=u*C,E=d*C,C=f*C,RD[le+712>>2]=A,RD[le+712+4>>2]=E,RD[le+712+8>>2]=C,RD[le+712+12>>2]=p,s=CD[N+28>>2]|0,l=CD[N+36>>2]|0,(s|0)>0)for(S=+RD[O>>2],b=+RD[O+4>>2],g=+RD[O+8>>2],m=+RD[O+16>>2],_=+RD[O+20>>2],f=+RD[O+24>>2],p=+RD[O+32>>2],d=+RD[O+36>>2],u=+RD[O+40>>2],M=-1,x=-3.4028234663852886e38,T=0;;){if(h=+RD[l+(T*36|0)+20>>2],v=+RD[l+(T*36|0)+24>>2],c=+RD[l+(T*36|0)+28>>2],y=(h*S+v*b+c*g)*A+(h*m+v*_+c*f)*E+(h*p+v*d+c*u)*C>x,M=y?T:M,(T|0)==(s+-1|0)){P=M;break}x=y?(h*S+v*b+c*g)*A+(h*m+v*_+c*f)*E+(h*p+v*d+c*u)*C:x,T=T+1|0}else P=-1;TD[le+288+16>>0]=1,B=le+288+12|0,CD[B>>2]=0,CD[le+288+4>>2]=0,CD[le+288+8>>2]=0,R=CD[l+(P*36|0)+4>>2]|0;e:do if((R|0)>0)for(w=l+(P*36|0)+12|0,s=0,l=0,n=0,T=0,a=0;;){if(i=CD[(CD[w>>2]|0)+(a<<2)>>2]|0,M=CD[N+16>>2]|0,$=+RD[M+(i<<4)>>2],te=+RD[M+(i<<4)+4>>2],C=+RD[M+(i<<4)+8>>2],A=$*+RD[O>>2]+te*+RD[O+4>>2]+C*+RD[O+8>>2]+ +RD[O+48>>2],E=$*+RD[O+16>>2]+te*+RD[O+20>>2]+C*+RD[O+24>>2]+ +RD[O+52>>2],C=$*+RD[O+32>>2]+te*+RD[O+36>>2]+C*+RD[O+40>>2]+ +RD[O+56>>2],(s|0)==(T|0))if(M=(T|0)==0?1:T<<1,(T|0)<(M|0)){do if(M){if(CD[5108]=(CD[5108]|0)+1,l=Aw((M<<4|3)+16|0)|0,!l){y=0;break}CD[(l+4+15&-16)+-4>>2]=l,y=l+4+15&-16}else y=0;while(0);if((T|0)>0){for(s=T+-1|0,l=CD[B>>2]|0,n=0;;){if(i=y+(n<<4)|0,ae=l+(n<<4)|0,CD[i>>2]=CD[ae>>2],CD[i+4>>2]=CD[ae+4>>2],CD[i+8>>2]=CD[ae+8>>2],CD[i+12>>2]=CD[ae+12>>2],(n|0)==(s|0))break;n=n+1|0}TD[le+288+16>>0]|0?ae=119:(s=T,ae=120)}else l=CD[B>>2]|0,l?ae=119:s=T;(ae|0)==119&&(CD[5110]=(CD[5110]|0)+1,ww(CD[l+-4>>2]|0),s=CD[le+288+4>>2]|0,ae=120),(ae|0)==120&&(ae=0,CD[B>>2]=0),TD[le+288+16>>0]=1,CD[B>>2]=y,CD[le+288+8>>2]=M,l=y,n=y}else s=T;if(RD[n+(s<<4)>>2]=A,RD[n+(s<<4)+4>>2]=E,RD[n+(s<<4)+8>>2]=C,RD[n+(s<<4)+12>>2]=0,s=(CD[le+288+4>>2]|0)+1|0,CD[le+288+4>>2]=s,a=a+1|0,(a|0)>=(R|0))break e;T=CD[le+288+8>>2]|0}else l=0;while(0);(P|0)>-1&&(Rv(le+712|0,r,F,le+288|0,D,ne,o),l=CD[B>>2]|0),l&&(TD[le+288+16>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[l+-4>>2]|0)),CD[B>>2]=0)}if((TD[t+16>>0]|0)!=0?(se=CD[o+4>>2]|0,(CD[se+748>>2]|0)!=0):0){if(l=CD[se+740>>2]|0,s=CD[(CD[o+8>>2]|0)+8>>2]|0,n=CD[(CD[o+12>>2]|0)+8>>2]|0,(l|0)==(s|0)){MM(se,l+4|0,n+4|0);break}MM(se,n+4|0,s+4|0);break}}else{if((CD[w+4>>2]|0)!=1)break t;if(P=le+132+16|0,TD[P>>0]=1,T=le+132+12|0,CD[T>>2]=0,B=le+132+4|0,CD[B>>2]=0,M=le+132+8|0,CD[M>>2]=0,l=CD[i+12>>2]|0,$=+RD[w+56>>2],te=+RD[w+56+4>>2],h=+RD[w+56+8>>2],d=$*+RD[l>>2]+te*+RD[l+4>>2]+h*+RD[l+8>>2]+ +RD[l+48>>2],u=$*+RD[l+16>>2]+te*+RD[l+20>>2]+h*+RD[l+24>>2]+ +RD[l+52>>2],h=$*+RD[l+32>>2]+te*+RD[l+36>>2]+h*+RD[l+40>>2]+ +RD[l+56>>2],CD[5108]=(CD[5108]|0)+1,l=Aw(35)|0,l?(CD[(l+4+15&-16)+-4>>2]=l,a=l+4+15&-16):a=0,l=CD[B>>2]|0,(l|0)>0)for(s=0;;){if(se=a+(s<<4)|0,N=(CD[T>>2]|0)+(s<<4)|0,CD[se>>2]=CD[N>>2],CD[se+4>>2]=CD[N+4>>2],CD[se+8>>2]=CD[N+8>>2],CD[se+12>>2]=CD[N+12>>2],(s|0)==(l+-1|0))break;s=s+1|0}if(l=CD[T>>2]|0,l&&(TD[P>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[l+-4>>2]|0)),CD[T>>2]=0),TD[P>>0]=1,CD[T>>2]=a,CD[M>>2]=1,n=CD[B>>2]|0,RD[a+(n<<4)>>2]=d,RD[a+(n<<4)+4>>2]=u,RD[a+(n<<4)+8>>2]=h,RD[a+(n<<4)+12>>2]=0,n=CD[B>>2]|0,CD[B>>2]=n+1,l=CD[i+12>>2]|0,$=+RD[w+56+16>>2],te=+RD[w+56+20>>2],d=+RD[w+56+24>>2],f=$*+RD[l>>2]+te*+RD[l+4>>2]+d*+RD[l+8>>2]+ +RD[l+48>>2],p=$*+RD[l+16>>2]+te*+RD[l+20>>2]+d*+RD[l+24>>2]+ +RD[l+52>>2],d=$*+RD[l+32>>2]+te*+RD[l+36>>2]+d*+RD[l+40>>2]+ +RD[l+56>>2],l=CD[M>>2]|0,(n+1|0)==(l|0))if(l=(n+1|0)==0?1:n+1<<1,(n+1|0)<(l|0)){do if(l){if(CD[5108]=(CD[5108]|0)+1,s=Aw((l<<4|3)+16|0)|0,!s){a=0;break}CD[(s+4+15&-16)+-4>>2]=s,a=s+4+15&-16}else a=0;while(0);if((n|0)>-1)for(s=0;;){if(se=a+(s<<4)|0,N=(CD[T>>2]|0)+(s<<4)|0,CD[se>>2]=CD[N>>2],CD[se+4>>2]=CD[N+4>>2],CD[se+8>>2]=CD[N+8>>2],CD[se+12>>2]=CD[N+12>>2],(s|0)==(n|0))break;s=s+1|0}s=CD[T>>2]|0,s&&(TD[P>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[s+-4>>2]|0)),CD[T>>2]=0),TD[P>>0]=1,CD[T>>2]=a,CD[M>>2]=l,a=CD[B>>2]|0}else a=n+1|0,l=n+1|0;else a=n+1|0;if(s=CD[T>>2]|0,RD[s+(a<<4)>>2]=f,RD[s+(a<<4)+4>>2]=p,RD[s+(a<<4)+8>>2]=d,RD[s+(a<<4)+12>>2]=0,a=a+1|0,CD[B>>2]=a,i=CD[i+12>>2]|0,$=+RD[w+56+32>>2],te=+RD[w+56+36>>2],d=+RD[w+56+40>>2],f=$*+RD[i>>2]+te*+RD[i+4>>2]+d*+RD[i+8>>2]+ +RD[i+48>>2],p=$*+RD[i+16>>2]+te*+RD[i+20>>2]+d*+RD[i+24>>2]+ +RD[i+52>>2],d=$*+RD[i+32>>2]+te*+RD[i+36>>2]+d*+RD[i+40>>2]+ +RD[i+56>>2],(a|0)==(l|0)){if(n=(l|0)==0?1:l<<1,(l|0)<(n|0)){do if(n){if(CD[5108]=(CD[5108]|0)+1,s=Aw((n<<4|3)+16|0)|0,!s){s=0;break}CD[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16}else s=0;while(0);if((l|0)>0)for(l=l+-1|0,a=0;;){if(i=s+(a<<4)|0,se=(CD[T>>2]|0)+(a<<4)|0,CD[i>>2]=CD[se>>2],CD[i+4>>2]=CD[se+4>>2],CD[i+8>>2]=CD[se+8>>2],CD[i+12>>2]=CD[se+12>>2],(a|0)==(l|0))break;a=a+1|0}l=CD[T>>2]|0,l&&(TD[P>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[l+-4>>2]|0)),CD[T>>2]=0),TD[P>>0]=1,CD[T>>2]=s,CD[M>>2]=n,l=CD[B>>2]|0}}else l=a;RD[s+(l<<4)>>2]=f,RD[s+(l<<4)+4>>2]=p,RD[s+(l<<4)+8>>2]=d,RD[s+(l<<4)+12>>2]=0,CD[B>>2]=(CD[B>>2]|0)+1,d=+RD[(CD[t+20>>2]|0)+752>>2],Bv(le+528|0,le,le+184|0,CD[r+20>>2]|0,0),c=+RD[le+528+4>>2],h=+RD[le+528+8>>2],u=+RD[le+528+12>>2],c*c+h*h+u*u>1.1920928955078125e-7&&($=1/(c*c+h*h+u*u),RD[le+192>>2]=c*$,RD[le+192+4>>2]=h*$,RD[le+192+8>>2]=u*$,RD[le+192+12>>2]=0,$=+RD[le+528+56>>2],te=+VP[CD[(CD[F>>2]|0)+48>>2]&15](F),te=$-te-+VP[CD[(CD[w>>2]|0)+48>>2]&15](w),Rv(le+192|0,CD[F+52>>2]|0,CD[e+12>>2]|0,le+132|0,te-d,d,o));do if(TD[t+16>>0]|0){if(s=CD[o+4>>2]|0,!(CD[s+748>>2]|0))break;if(a=CD[s+740>>2]|0,n=CD[(CD[o+8>>2]|0)+8>>2]|0,l=CD[(CD[o+12>>2]|0)+8>>2]|0,(a|0)==(n|0)){MM(s,a+4|0,l+4|0);break}MM(s,l+4|0,n+4|0);break}while(0);n=CD[T>>2]|0,n&&(TD[P>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[n+-4>>2]|0)),CD[T>>2]=0),TD[P>>0]=1,CD[T>>2]=0,CD[B>>2]=0,CD[M>>2]=0}while(0);return void(BD=le)}while(0)}if(Bv(le+528|0,le,o,CD[r+20>>2]|0,0),(((CD[t+28>>2]|0)!=0?(CD[(CD[o+4>>2]|0)+748>>2]|0)<(CD[t+32>>2]|0):0)?(D=+RD[le+528+4>>2],E=+RD[le+528+8>>2],C=+RD[le+528+12>>2],D*D+E*E+C*C>1.1920928955078125e-7):0)&&(S=1/(D*D+E*E+C*C),+JD(+(C*S))>.7071067690849304?(h=1/+ND(+(C*S*C*S+E*S*E*S)),p=0,u=-(C*S*h),h=E*S*h):(u=1/+ND(+(D*S*D*S+E*S*E*S)),p=-(E*S*u),u=D*S*u,h=0),v=+VP[CD[(CD[F>>2]|0)+16>>2]&15](F),b=+VP[CD[(CD[w>>2]|0)+16>>2]&15](w),d=.019999999552965164/(v<b?v:b),v<b?(CD[le+712>>2]=CD[le>>2],CD[le+712+4>>2]=CD[le+4>>2],CD[le+712+8>>2]=CD[le+8>>2],CD[le+712+12>>2]=CD[le+12>>2],CD[le+712+16>>2]=CD[le+16>>2],CD[le+712+16+4>>2]=CD[le+16+4>>2],CD[le+712+16+8>>2]=CD[le+16+8>>2],CD[le+712+16+12>>2]=CD[le+16+12>>2],CD[le+712+32>>2]=CD[le+32>>2],CD[le+712+32+4>>2]=CD[le+32+4>>2],CD[le+712+32+8>>2]=CD[le+32+8>>2],CD[le+712+32+12>>2]=CD[le+32+12>>2],CD[le+712+48>>2]=CD[le+48>>2],CD[le+712+48+4>>2]=CD[le+48+4>>2],CD[le+712+48+8>>2]=CD[le+48+8>>2],CD[le+712+48+12>>2]=CD[le+48+12>>2]):(CD[le+712>>2]=CD[le+64>>2],CD[le+712+4>>2]=CD[le+64+4>>2],CD[le+712+8>>2]=CD[le+64+8>>2],CD[le+712+12>>2]=CD[le+64+12>>2],CD[le+712+16>>2]=CD[le+80>>2],CD[le+712+16+4>>2]=CD[le+80+4>>2],CD[le+712+16+8>>2]=CD[le+80+8>>2],CD[le+712+16+12>>2]=CD[le+80+12>>2],CD[le+712+32>>2]=CD[le+96>>2],CD[le+712+32+4>>2]=CD[le+96+4>>2],CD[le+712+32+8>>2]=CD[le+96+8>>2],CD[le+712+32+12>>2]=CD[le+96+12>>2],CD[le+712+48>>2]=CD[le+112>>2],CD[le+712+48+4>>2]=CD[le+112+4>>2],CD[le+712+48+8>>2]=CD[le+112+8>>2],CD[le+712+48+12>>2]=CD[le+112+12>>2]),l=CD[t+28>>2]|0,(l|0)>0?(x=h*h+(u*u+p*p),A=d>.39269909262657166?.19634954631328583:d*.5,x>1.1920928955078125e-7):0)){_=+zD(+A)/+ND(+x),g=p*_,m=u*_,_=h*_,f=+GD(+A),c=+ND(+(C*S*C*S+(D*S*D*S+E*S*E*S))),s=0;do h=+(s|0)*(6.2831854820251465/+(l|0))*.5,u=+zD(+h)/c,p=D*S*u,d=E*S*u,u=C*S*u,h=+GD(+h),v<b?(Y=u*(g*-u+(f*-d+m*h)-_*-p)+(p*(f*h-g*-p-m*-d-_*-u)+h*(_*-d+(g*h+f*-p)-m*-u))-d*(m*-p+(_*h+f*-u)-g*-d),Z=p*(m*-p+(_*h+f*-u)-g*-d)+(h*(g*-u+(f*-d+m*h)-_*-p)+d*(f*h-g*-p-m*-d-_*-u))-u*(_*-d+(g*h+f*-p)-m*-u),J=d*(_*-d+(g*h+f*-p)-m*-u)+(u*(f*h-g*-p-m*-d-_*-u)+h*(m*-p+(_*h+f*-u)-g*-d))-p*(g*-u+(f*-d+m*h)-_*-p),q=h*(f*h-g*-p-m*-d-_*-u)-p*(_*-d+(g*h+f*-p)-m*-u)-d*(g*-u+(f*-d+m*h)-_*-p)-u*(m*-p+(_*h+f*-u)-g*-d),Q=Y*(2/(q*q+(J*J+(Y*Y+Z*Z)))),$=Z*(2/(q*q+(J*J+(Y*Y+Z*Z)))),X=J*(2/(q*q+(J*J+(Y*Y+Z*Z)))),se=CD[e+12>>2]|0,x=+RD[se>>2],A=+RD[se+16>>2],G=+RD[se+32>>2],z=+RD[se+4>>2],j=+RD[se+20>>2],U=+RD[se+36>>2],W=+RD[se+8>>2],K=+RD[se+24>>2],te=+RD[se+40>>2],RD[le>>2]=(Y*X+q*$)*G+(A*(Y*$-q*X)+x*(1-(Z*$+J*X))),RD[le+4>>2]=(1-(Z*$+J*X))*z+(Y*$-q*X)*j+(Y*X+q*$)*U,RD[le+8>>2]=(1-(Z*$+J*X))*W+(Y*$-q*X)*K+(Y*X+q*$)*te,RD[le+12>>2]=0,RD[le+16>>2]=(Z*X-q*Q)*G+(x*(Y*$+q*X)+A*(1-(Y*Q+J*X))),RD[le+20>>2]=(Y*$+q*X)*z+(1-(Y*Q+J*X))*j+(Z*X-q*Q)*U,RD[le+24>>2]=(Y*$+q*X)*W+(1-(Y*Q+J*X))*K+(Z*X-q*Q)*te,RD[le+28>>2]=0,RD[le+32>>2]=x*(Y*X-q*$)+A*(Z*X+q*Q)+G*(1-(Y*Q+Z*$)),RD[le+36>>2]=(Y*X-q*$)*z+(Z*X+q*Q)*j+(1-(Y*Q+Z*$))*U,RD[le+40>>2]=(Y*X-q*$)*W+(Z*X+q*Q)*K+(1-(Y*Q+Z*$))*te,RD[le+44>>2]=0,se=CD[i+12>>2]|0,CD[le+64>>2]=CD[se>>2],CD[le+64+4>>2]=CD[se+4>>2],CD[le+64+8>>2]=CD[se+8>>2],CD[le+64+12>>2]=CD[se+12>>2],CD[le+80>>2]=CD[se+16>>2],CD[le+80+4>>2]=CD[se+16+4>>2],CD[le+80+8>>2]=CD[se+16+8>>2],CD[le+80+12>>2]=CD[se+16+12>>2],CD[le+96>>2]=CD[se+32>>2],CD[le+96+4>>2]=CD[se+32+4>>2],CD[le+96+8>>2]=CD[se+32+8>>2],CD[le+96+12>>2]=CD[se+32+12>>2],CD[le+112>>2]=CD[se+48>>2],CD[le+112+4>>2]=CD[se+48+4>>2],CD[le+112+8>>2]=CD[se+48+8>>2],CD[le+112+12>>2]=CD[se+48+12>>2]):(se=CD[e+12>>2]|0,CD[le>>2]=CD[se>>2],CD[le+4>>2]=CD[se+4>>2],CD[le+8>>2]=CD[se+8>>2],CD[le+12>>2]=CD[se+12>>2],CD[le+16>>2]=CD[se+16>>2],CD[le+16+4>>2]=CD[se+16+4>>2],CD[le+16+8>>2]=CD[se+16+8>>2],CD[le+16+12>>2]=CD[se+16+12>>2],CD[le+32>>2]=CD[se+32>>2],CD[le+32+4>>2]=CD[se+32+4>>2],CD[le+32+8>>2]=CD[se+32+8>>2],CD[le+32+12>>2]=CD[se+32+12>>2],CD[le+48>>2]=CD[se+48>>2],CD[le+48+4>>2]=CD[se+48+4>>2],CD[le+48+8>>2]=CD[se+48+8>>2],CD[le+48+12>>2]=CD[se+48+12>>2],Y=u*(g*-u+(f*-d+m*h)-_*-p)+(p*(f*h-g*-p-m*-d-_*-u)+h*(_*-d+(g*h+f*-p)-m*-u))-d*(m*-p+(_*h+f*-u)-g*-d),Z=p*(m*-p+(_*h+f*-u)-g*-d)+(h*(g*-u+(f*-d+m*h)-_*-p)+d*(f*h-g*-p-m*-d-_*-u))-u*(_*-d+(g*h+f*-p)-m*-u),J=d*(_*-d+(g*h+f*-p)-m*-u)+(u*(f*h-g*-p-m*-d-_*-u)+h*(m*-p+(_*h+f*-u)-g*-d))-p*(g*-u+(f*-d+m*h)-_*-p),q=h*(f*h-g*-p-m*-d-_*-u)-p*(_*-d+(g*h+f*-p)-m*-u)-d*(g*-u+(f*-d+m*h)-_*-p)-u*(m*-p+(_*h+f*-u)-g*-d),Q=Y*(2/(q*q+(J*J+(Y*Y+Z*Z)))),$=Z*(2/(q*q+(J*J+(Y*Y+Z*Z)))),X=J*(2/(q*q+(J*J+(Y*Y+Z*Z)))),se=CD[i+12>>2]|0,x=+RD[se>>2],A=+RD[se+16>>2],G=+RD[se+32>>2],z=+RD[se+4>>2],j=+RD[se+20>>2],U=+RD[se+36>>2],W=+RD[se+8>>2],K=+RD[se+24>>2],te=+RD[se+40>>2],RD[le+64>>2]=(Y*X+q*$)*G+(A*(Y*$-q*X)+x*(1-(Z*$+J*X))),RD[le+68>>2]=(1-(Z*$+J*X))*z+(Y*$-q*X)*j+(Y*X+q*$)*U,RD[le+72>>2]=(1-(Z*$+J*X))*W+(Y*$-q*X)*K+(Y*X+q*$)*te,RD[le+76>>2]=0,RD[le+80>>2]=(Z*X-q*Q)*G+(x*(Y*$+q*X)+A*(1-(Y*Q+J*X))),RD[le+84>>2]=(Y*$+q*X)*z+(1-(Y*Q+J*X))*j+(Z*X-q*Q)*U,RD[le+88>>2]=(Y*$+q*X)*W+(1-(Y*Q+J*X))*K+(Z*X-q*Q)*te,RD[le+92>>2]=0,RD[le+96>>2]=x*(Y*X-q*$)+A*(Z*X+q*Q)+G*(1-(Y*Q+Z*$)),RD[le+100>>2]=(Y*X-q*$)*z+(Z*X+q*Q)*j+(1-(Y*Q+Z*$))*U,RD[le+104>>2]=(Y*X-q*$)*W+(Z*X+q*Q)*K+(1-(Y*Q+Z*$))*te,RD[le+108>>2]=0),l=CD[r+20>>2]|0,CD[le+288>>2]=10752,CD[le+288+32>>2]=o,CD[le+288+36>>2]=CD[le>>2],CD[le+288+36+4>>2]=CD[le+4>>2],CD[le+288+36+8>>2]=CD[le+8>>2],CD[le+288+36+12>>2]=CD[le+12>>2],CD[le+288+52>>2]=CD[le+16>>2],CD[le+288+52+4>>2]=CD[le+16+4>>2],CD[le+288+52+8>>2]=CD[le+16+8>>2],CD[le+288+52+12>>2]=CD[le+16+12>>2],CD[le+288+68>>2]=CD[le+32>>2],CD[le+288+68+4>>2]=CD[le+32+4>>2],CD[le+288+68+8>>2]=CD[le+32+8>>2],CD[le+288+68+12>>2]=CD[le+32+12>>2],CD[le+288+84>>2]=CD[le+48>>2],CD[le+288+84+4>>2]=CD[le+48+4>>2],CD[le+288+84+8>>2]=CD[le+48+8>>2],CD[le+288+84+12>>2]=CD[le+48+12>>2],CD[le+288+100>>2]=CD[le+64>>2],CD[le+288+100+4>>2]=CD[le+64+4>>2],CD[le+288+100+8>>2]=CD[le+64+8>>2],CD[le+288+100+12>>2]=CD[le+64+12>>2],CD[le+288+116>>2]=CD[le+80>>2],CD[le+288+116+4>>2]=CD[le+80+4>>2],CD[le+288+116+8>>2]=CD[le+80+8>>2],CD[le+288+116+12>>2]=CD[le+80+12>>2],CD[le+288+132>>2]=CD[le+96>>2],CD[le+288+132+4>>2]=CD[le+96+4>>2],CD[le+288+132+8>>2]=CD[le+96+8>>2],CD[le+288+132+12>>2]=CD[le+96+12>>2],CD[le+288+148>>2]=CD[le+112>>2],CD[le+288+148+4>>2]=CD[le+112+4>>2],CD[le+288+148+8>>2]=CD[le+112+8>>2],CD[le+288+148+12>>2]=CD[le+112+12>>2],CD[le+288+164>>2]=CD[le+712>>2],CD[le+288+164+4>>2]=CD[le+712+4>>2],CD[le+288+164+8>>2]=CD[le+712+8>>2],CD[le+288+164+12>>2]=CD[le+712+12>>2],CD[le+288+180>>2]=CD[le+712+16>>2],CD[le+288+180+4>>2]=CD[le+712+16+4>>2],CD[le+288+180+8>>2]=CD[le+712+16+8>>2],CD[le+288+180+12>>2]=CD[le+712+16+12>>2],CD[le+288+196>>2]=CD[le+712+32>>2],CD[le+288+196+4>>2]=CD[le+712+32+4>>2],CD[le+288+196+8>>2]=CD[le+712+32+8>>2],CD[le+288+196+12>>2]=CD[le+712+32+12>>2],CD[le+288+212>>2]=CD[le+712+48>>2],CD[le+288+212+4>>2]=CD[le+712+48+4>>2],CD[le+288+212+8>>2]=CD[le+712+48+8>>2],CD[le+288+212+12>>2]=CD[le+712+48+12>>2],TD[le+288+228>>0]=v<b&1,CD[le+288+232>>2]=l,Bv(le+528|0,le,le+288|0,l,0),l=CD[t+28>>2]|0,s=s+1|0;while((s|0)<(l|0))}return TD[t+16>>0]|0?(a=CD[o+4>>2]|0,CD[a+748>>2]|0?(s=CD[a+740>>2]|0,l=CD[(CD[o+8>>2]|0)+8>>2]|0,n=CD[(CD[o+12>>2]|0)+8>>2]|0,(s|0)==(l|0)?(MM(a,s+4|0,n+4|0),void(BD=le)):(MM(a,n+4|0,l+4|0),void(BD=le))):void(BD=le)):void(BD=le)}function wT(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,u=0;return t=BD,BD=BD+624|0,u=+RD[e+116>>2]-+RD[e+52>>2],h=+RD[e+120>>2]-+RD[e+56>>2],c=+RD[e+124>>2]-+RD[e+60>>2],a=+RD[i+116>>2]-+RD[i+52>>2],n=+RD[i+120>>2]-+RD[i+56>>2],s=+RD[i+124>>2]-+RD[i+60>>2],l=+RD[e+252>>2],(u*u+h*h+c*c<l*l?(h=+RD[i+252>>2],a*a+n*n+s*s<h*h):0)?(h=1,BD=t,+h):(o=CD[e+192>>2]|0,h=+RD[i+248>>2],CD[t+568+8>>2]=0,RD[t+568+12>>2]=1,RD[t+568+16>>2]=1,RD[t+568+20>>2]=1,RD[t+568+24>>2]=0,CD[t+568>>2]=12008,CD[t+568+4>>2]=8,RD[t+568+28>>2]=h,RD[t+568+44>>2]=h,CD[t+392>>2]=7512,RD[t+392+164>>2]=0xde0b6b000000000,CD[t+392+168>>2]=0,RD[t+392+172>>2]=0,RD[t+32+308>>2]=9999999747378752e-20,TD[t+32+332>>0]=0,CD[t+16>>2]=19128,CD[t+16+4>>2]=t+32,CD[t+16+8>>2]=o,CD[t+16+12>>2]=t+568,Ev(t+16|0,e+4|0,e+68|0,i+4|0,i+68|0,t+392|0)|0?(n=+RD[t+392+164>>2],+RD[e+244>>2]>n&&(RD[e+244>>2]=n),+RD[i+244>>2]>n&&(RD[i+244>>2]=n),a=n<1?n:1):a=1,o=CD[i+192>>2]|0,h=+RD[e+248>>2],CD[t+568+8>>2]=0,RD[t+568+12>>2]=1,RD[t+568+16>>2]=1,RD[t+568+20>>2]=1,RD[t+568+24>>2]=0,CD[t+568>>2]=12008,CD[t+568+4>>2]=8,RD[t+568+28>>2]=h,RD[t+568+44>>2]=h,CD[t+392>>2]=7512,RD[t+392+164>>2]=0xde0b6b000000000,CD[t+392+168>>2]=0,RD[t+392+172>>2]=0,RD[t+32+308>>2]=9999999747378752e-20,TD[t+32+332>>0]=0,CD[t>>2]=19128,CD[t+4>>2]=t+32,CD[t+8>>2]=t+568,CD[t+12>>2]=o,Ev(t,e+4|0,e+68|0,i+4|0,i+68|0,t+392|0)|0?(n=+RD[t+392+164>>2],+RD[e+244>>2]>n&&(RD[e+244>>2]=n),+RD[i+244>>2]>n&&(RD[i+244>>2]=n),a>n||(n=a)):n=a,h=n,BD=t,+h)}function RT(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,CD[t+4>>2]=e,CD[t>>2]=11016,TD[t+24>>0]=1,CD[t+20>>2]=0,CD[t+12>>2]=0,CD[t+16>>2]=0,TD[t+28>>0]=n&1,CD[t+32>>2]=i,TD[t+36>>0]=0,CD[t+40>>2]=CD[(CD[(n?o:r)+4>>2]|0)+68>>2],DT(t,r,o)}function DT(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0;if(h=BD,BD=BD+32|0,a=(TD[t+28>>0]|0)!=0,c=a?i:e,a=a?e:i,s=CD[c+4>>2]|0,l=CD[s+16>>2]|0,n=CD[t+12>>2]|0,(n|0)<(l|0)){if((CD[t+16>>2]|0)<(l|0)){if(l?(CD[5108]=(CD[5108]|0)+1,i=Aw((l<<2|3)+16|0)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,i=i+4+15&-16):i=0,e=CD[t+12>>2]|0):(i=0,e=n),(e|0)>0)for(r=e+-1|0,o=0;;){if(e=i+(o<<2)|0,e&&(CD[e>>2]=CD[(CD[t+20>>2]|0)+(o<<2)>>2]),(o|0)==(r|0))break;o=o+1|0}e=CD[t+20>>2]|0,e&&(TD[t+24>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+20>>2]=0),TD[t+24>>0]=1,CD[t+20>>2]=i,CD[t+16>>2]=l,r=t+20|0}else r=t+20|0;for(e=n;;){if(i=(CD[r>>2]|0)+(e<<2)|0,i&&(CD[i>>2]=0),(e|0)==(l+-1|0))break;e=e+1|0}}if(CD[t+12>>2]=l,(l|0)<=0)return void(BD=h);for(i=0;;){if(CD[s+64>>2]|0?CD[(CD[t+20>>2]|0)+(i<<2)>>2]=0:(r=CD[(CD[s+24>>2]|0)+(i*80|0)+64>>2]|0,o=CD[c+8>>2]|0,n=CD[c+12>>2]|0,CD[h>>2]=c,CD[h+4>>2]=r,CD[h+8>>2]=o,CD[h+12>>2]=n,CD[h+16>>2]=-1,CD[h+20>>2]=i,n=CD[t+4>>2]|0,n=CP[CD[(CD[n>>2]|0)+8>>2]&31](n,h,a,CD[t+32>>2]|0)|0,CD[(CD[t+20>>2]|0)+(i<<2)>>2]=n),(i|0)==(l+-1|0))break;i=i+1|0}BD=h}function PT(t){t|=0;var e=0,i=0,r=0;if(CD[t>>2]=11016,e=CD[t+12>>2]|0,(e|0)>0)for(r=0;;){if(i=CD[(CD[t+20>>2]|0)+(r<<2)>>2]|0,i&&(gP[CD[CD[i>>2]>>2]&255](i),i=CD[t+4>>2]|0,bP[CD[(CD[i>>2]|0)+60>>2]&127](i,CD[(CD[t+20>>2]|0)+(r<<2)>>2]|0)),(r|0)==(e+-1|0))break;r=r+1|0}return(e=CD[t+20>>2]|0)?(TD[t+24>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+20>>2]=0,TD[t+24>>0]=1,CD[t+20>>2]=0,CD[t+12>>2]=0,t=t+16|0,void(CD[t>>2]=0)):(TD[t+24>>0]=1,CD[t+20>>2]=0,CD[t+12>>2]=0,t=t+16|0,void(CD[t>>2]=0))}function BT(t){t|=0,PT(t),ww(t)}function VT(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0,N=0,F=0,G=0;if(y=BD,BD=BD+256|0,m=(TD[t+28>>0]|0)!=0,_=m?i:e,m=m?e:i,g=CD[_+4>>2]|0,(CD[g+68>>2]|0)!=(CD[t+40>>2]|0)){if(a=CD[t+12>>2]|0,(a|0)>0)for(s=0;;){if(n=CD[(CD[t+20>>2]|0)+(s<<2)>>2]|0,n&&(gP[CD[CD[n>>2]>>2]&255](n),d=CD[t+4>>2]|0,bP[CD[(CD[d>>2]|0)+60>>2]&127](d,CD[(CD[t+20>>2]|0)+(s<<2)>>2]|0)),(s|0)==(a+-1|0))break;s=s+1|0}DT(t,e,i)}if(d=CD[g+64>>2]|0,h=CD[t+4>>2]|0,s=CD[t+20>>2]|0,c=CD[t+32>>2]|0,CD[y>>2]=11096,CD[y+4>>2]=_,CD[y+8>>2]=m,CD[y+12>>2]=h,CD[y+16>>2]=r,CD[y+20>>2]=o,CD[y+24>>2]=s,CD[y+28>>2]=c,c=y+80+16|0,TD[c>>0]=1,h=y+80+12|0,CD[h>>2]=0,u=y+80+4|0,CD[u>>2]=0,CD[y+80+8>>2]=0,a=CD[t+12>>2]|0,(a|0)>0){for(i=s,l=0;;){if(s=CD[i+(l<<2)>>2]|0){if(bP[CD[(CD[s>>2]|0)+16>>2]&127](s,y+80|0),a=CD[u>>2]|0,(a|0)>0){e=0;do n=CD[(CD[h>>2]|0)+(e<<2)>>2]|0,CD[n+748>>2]|0&&(CD[o+4>>2]=n,r=CD[n+740>>2]|0,s=CD[(CD[o+8>>2]|0)+8>>2]|0,i=CD[(CD[o+12>>2]|0)+8>>2]|0,(r|0)==(s|0)?MM(n,r+4|0,i+4|0):MM(n,i+4|0,s+4|0),CD[o+4>>2]=0,a=CD[u>>2]|0),e=e+1|0;while((e|0)<(a|0));(a|0)<=0&&(p=a,f=19)}else p=a,f=19;if((f|0)==19?(f=0,(p|0)<0):0)for((CD[y+80+8>>2]|0)<0?(a=CD[h>>2]|0,a&&(TD[c>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[a+-4>>2]|0)),CD[h>>2]=0),TD[c>>0]=1,CD[h>>2]=0,CD[y+80+8>>2]=0,i=p):i=p;;){if(s=(CD[h>>2]|0)+(i<<2)|0,s&&(CD[s>>2]=0),(i|0)==-1)break;i=i+1|0}CD[u>>2]=0,a=CD[t+12>>2]|0}if(s=l+1|0,(s|0)>=(a|0))break;i=CD[t+20>>2]|0,l=s}a=CD[h>>2]|0,a&&(TD[c>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[a+-4>>2]|0)),CD[h>>2]=0)}if(TD[c>>0]=1,CD[h>>2]=0,CD[u>>2]=0,CD[y+80+8>>2]=0,d)f=CD[_+12>>2]|0,V=+RD[f>>2],B=+RD[f+16>>2],P=+RD[f+32>>2],D=+RD[f+4>>2],R=+RD[f+20>>2],w=+RD[f+36>>2],x=+RD[f+8>>2],S=+RD[f+24>>2],v=+RD[f+40>>2],A=-+RD[f+48>>2],E=-+RD[f+52>>2],C=-+RD[f+56>>2],f=CD[m+12>>2]|0,G=+RD[f>>2],F=+RD[f+16>>2],N=+RD[f+32>>2],J=+RD[f+4>>2],O=+RD[f+20>>2],I=+RD[f+36>>2],H=+RD[f+8>>2],k=+RD[f+24>>2],L=+RD[f+40>>2],T=+RD[f+48>>2],M=+RD[f+52>>2],b=+RD[f+56>>2],RD[y+152>>2]=V*G+B*F+P*N,RD[y+152+4>>2]=V*J+B*O+P*I,RD[y+152+8>>2]=V*H+B*k+P*L,RD[y+152+12>>2]=0,RD[y+152+16>>2]=D*G+R*F+w*N,RD[y+152+20>>2]=D*J+R*O+w*I,RD[y+152+24>>2]=D*H+R*k+w*L,RD[y+152+28>>2]=0,RD[y+152+32>>2]=x*G+S*F+v*N,RD[y+152+36>>2]=x*J+S*O+v*I,RD[y+152+40>>2]=x*H+S*k+v*L,RD[y+152+44>>2]=0,RD[y+152+48>>2]=V*A+B*E+P*C+(V*T+B*M+P*b),RD[y+152+52>>2]=D*A+R*E+w*C+(D*T+R*M+w*b),RD[y+152+56>>2]=x*A+S*E+v*C+(x*T+S*M+v*b),RD[y+152+60>>2]=0,f=CD[m+4>>2]|0,eB[CD[(CD[f>>2]|0)+8>>2]&127](f,y+152|0,y+136|0,y+32|0),CD[y+216>>2]=CD[y+136>>2],CD[y+216+4>>2]=CD[y+136+4>>2],CD[y+216+8>>2]=CD[y+136+8>>2],CD[y+216+12>>2]=CD[y+136+12>>2],CD[y+216+16>>2]=CD[y+32>>2],CD[y+216+16+4>>2]=CD[y+32+4>>2],CD[y+216+16+8>>2]=CD[y+32+8>>2],CD[y+216+16+12>>2]=CD[y+32+12>>2],__(CD[d>>2]|0,y+216|0,y);else{if(e=CD[t+12>>2]|0,!((e|0)>0))return void(BD=y);n=0;do m_(y,CD[(CD[g+24>>2]|0)+(n*80|0)+64>>2]|0,n),n=n+1|0;while((n|0)<(e|0))}if(e=CD[t+12>>2]|0,(e|0)<=0)return void(BD=y);a=0;do{do if(CD[(CD[t+20>>2]|0)+(a<<2)>>2]|0){if(p=CD[g+24>>2]|0,f=CD[p+(a*80|0)+64>>2]|0,o=CD[_+12>>2]|0,S=+RD[o>>2],T=+RD[o+4>>2],x=+RD[o+8>>2],C=+RD[o+16>>2],E=+RD[o+20>>2],A=+RD[o+24>>2],L=+RD[o+32>>2],H=+RD[o+36>>2],O=+RD[o+40>>2],w=+RD[p+(a*80|0)>>2],R=+RD[p+(a*80|0)+16>>2],D=+RD[p+(a*80|0)+32>>2],P=+RD[p+(a*80|0)+4>>2],B=+RD[p+(a*80|0)+20>>2],V=+RD[p+(a*80|0)+36>>2],k=+RD[p+(a*80|0)+8>>2],I=+RD[p+(a*80|0)+24>>2],J=+RD[p+(a*80|0)+40>>2],v=+RD[p+(a*80|0)+48>>2],M=+RD[p+(a*80|0)+52>>2],G=+RD[p+(a*80|0)+56>>2],N=+RD[o+48>>2]+(S*v+T*M+x*G),F=+RD[o+52>>2]+(C*v+E*M+A*G),G=+RD[o+56>>2]+(L*v+H*M+O*G),RD[y+152>>2]=S*w+T*R+x*D,RD[y+152+4>>2]=S*P+T*B+x*V,RD[y+152+8>>2]=S*k+T*I+x*J,RD[y+152+12>>2]=0,RD[y+152+16>>2]=C*w+E*R+A*D,RD[y+152+20>>2]=C*P+E*B+A*V,RD[y+152+24>>2]=C*k+E*I+A*J,RD[y+152+28>>2]=0,RD[y+152+32>>2]=L*w+H*R+O*D,RD[y+152+36>>2]=L*P+H*B+O*V,RD[y+152+40>>2]=L*k+H*I+O*J,RD[y+152+44>>2]=0,RD[y+152+48>>2]=N,RD[y+152+52>>2]=F,RD[y+152+56>>2]=G,RD[y+152+60>>2]=0,eB[CD[(CD[f>>2]|0)+8>>2]&127](f,y+152|0,y+64|0,y+120|0),f=CD[m+4>>2]|0,eB[CD[(CD[f>>2]|0)+8>>2]&127](f,CD[m+12>>2]|0,y+104|0,y+48|0),n=(+RD[y+64>>2]>+RD[y+48>>2]?!0:+RD[y+120>>2]<+RD[y+104>>2])?0:1,(+RD[y+64+8>>2]>+RD[y+48+8>>2]?0:!(+RD[y+120+8>>2]<+RD[y+104+8>>2]))||(n=0),+RD[y+64+4>>2]>+RD[y+48+4>>2]?0:!(+RD[y+120+4>>2]<+RD[y+104+4>>2]|n^1))break;f=CD[(CD[t+20>>2]|0)+(a<<2)>>2]|0,gP[CD[CD[f>>2]>>2]&255](f),f=CD[t+4>>2]|0,bP[CD[(CD[f>>2]|0)+60>>2]&127](f,CD[(CD[t+20>>2]|0)+(a<<2)>>2]|0),CD[(CD[t+20>>2]|0)+(a<<2)>>2]=0}while(0);a=a+1|0}while((a|0)<(e|0));BD=y}function LT(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0;if(S=(TD[t+28>>0]|0)!=0,C=S?i:e,S=S?e:i,T=CD[t+12>>2]|0,(T|0)<=0)return M=1,+M;for(e=(CD[C+192>>2]|0)+24|0,a=+RD[C+4>>2],y=+RD[C+8>>2],b=+RD[C+12>>2],v=+RD[C+16>>2],M=+RD[C+20>>2],s=+RD[C+24>>2],l=+RD[C+28>>2],c=+RD[C+32>>2],h=+RD[C+36>>2],u=+RD[C+40>>2],d=+RD[C+44>>2],p=+RD[C+48>>2],f=+RD[C+52>>2],_=+RD[C+56>>2],m=+RD[C+60>>2],g=+RD[C+64>>2],i=CD[C+260>>2]|0,n=1,x=0;;){if(A=CD[e>>2]|0,O=+RD[A+(x*80|0)>>2],I=+RD[A+(x*80|0)+16>>2],H=+RD[A+(x*80|0)+32>>2],k=+RD[A+(x*80|0)+4>>2],L=+RD[A+(x*80|0)+20>>2],V=+RD[A+(x*80|0)+36>>2],B=+RD[A+(x*80|0)+8>>2],P=+RD[A+(x*80|0)+24>>2],D=+RD[A+(x*80|0)+40>>2],R=+RD[A+(x*80|0)+48>>2],w=+RD[A+(x*80|0)+52>>2],E=+RD[A+(x*80|0)+56>>2],CD[C+260>>2]=i+1,RD[C+4>>2]=a*O+y*I+b*H,RD[C+8>>2]=a*k+y*L+b*V,RD[C+12>>2]=a*B+y*P+b*D,RD[C+16>>2]=0,RD[C+20>>2]=M*O+s*I+l*H,RD[C+24>>2]=M*k+s*L+l*V,RD[C+28>>2]=M*B+s*P+l*D,RD[C+32>>2]=0,RD[C+36>>2]=h*O+u*I+d*H,RD[C+40>>2]=h*k+u*L+d*V,RD[C+44>>2]=h*B+u*P+d*D,RD[C+48>>2]=0,RD[C+52>>2]=f+(a*R+y*w+b*E),RD[C+56>>2]=_+(M*R+s*w+l*E),RD[C+60>>2]=m+(h*R+u*w+d*E),RD[C+64>>2]=0,A=CD[(CD[t+20>>2]|0)+(x<<2)>>2]|0,E=+RP[CD[(CD[A>>2]|0)+12>>2]&15](A,C,S,r,o),n=E<n?E:n,i=(CD[C+260>>2]|0)+1|0,CD[C+260>>2]=i,RD[C+4>>2]=a,RD[C+8>>2]=y,RD[C+12>>2]=b,RD[C+16>>2]=v,RD[C+20>>2]=M,RD[C+24>>2]=s,RD[C+28>>2]=l,RD[C+32>>2]=c,RD[C+36>>2]=h,RD[C+40>>2]=u,RD[C+44>>2]=d,RD[C+48>>2]=p,RD[C+52>>2]=f,RD[C+56>>2]=_,RD[C+60>>2]=m,RD[C+64>>2]=g,(x|0)==(T+-1|0))break;x=x+1|0}return+n}function kT(t){t|=0;var e=0,i=0,r=0,o=0,n=0;if(CD[t>>2]=11184,e=CD[t+8>>2]|0,r=CD[e+8>>2]|0,(r|0)>0){for(o=0;;){if(i=CD[(CD[e+16>>2]|0)+(o*12|0)+8>>2]|0,i&&(gP[CD[CD[i>>2]>>2]&255](i),n=CD[t+4>>2]|0,bP[CD[(CD[n>>2]|0)+60>>2]&127](n,i)),(o|0)==(r+-1|0))break;o=o+1|0}e=CD[t+8>>2]|0}return Xv(e),e=CD[t+8>>2]|0,gP[CD[CD[e>>2]>>2]&255](e),e=CD[t+8>>2]|0,e&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),(e=CD[t+24>>2]|0)?(TD[t+28>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+24>>2]=0,TD[t+28>>0]=1,CD[t+24>>2]=0,CD[t+16>>2]=0,n=t+20|0,void(CD[n>>2]=0)):(TD[t+28>>0]=1,CD[t+24>>2]=0,CD[t+16>>2]=0,n=t+20|0,void(CD[n>>2]=0))}function HT(t){t|=0,kT(t),ww(t)}function IT(t,e){t|=0,e|=0;var i=0,r=0,o=0;if(o=CD[t+8>>2]|0,t=CD[o+8>>2]|0,!((t|0)<=0)){r=0;do i=CD[(CD[o+16>>2]|0)+(r*12|0)+8>>2]|0,i&&(bP[CD[(CD[i>>2]|0)+16>>2]&127](i,e),t=CD[o+8>>2]|0),r=r+1|0;while((r|0)<(t|0))}}function OT(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0,N=0,F=0,G=0,z=0,j=0,U=0,W=0,X=0,q=0,K=0,Y=0,Q=0,Z=0,$=0,te=0,ee=0,ie=0,re=0,oe=0,ne=0,ae=0,se=0,le=0,ce=0,he=0,ue=0;if(te=BD,BD=BD+192|0,Z=CD[e+4>>2]|0,$=CD[i+4>>2]|0,(CD[Z+68>>2]|0)==(CD[t+40>>2]|0)?(CD[$+68>>2]|0)==(CD[t+44>>2]|0):0)Y=t+8|0;else{if(s=CD[t+8>>2]|0,a=CD[s+8>>2]|0,(a|0)>0){for(l=0;;){if(n=CD[(CD[s+16>>2]|0)+(l*12|0)+8>>2]|0,n&&(gP[CD[CD[n>>2]>>2]&255](n),f=CD[t+4>>2]|0,bP[CD[(CD[f>>2]|0)+60>>2]&127](f,n)),(l|0)==(a+-1|0))break;l=l+1|0}s=CD[t+8>>2]|0}Xv(s),Y=t+8|0}if(c=te+32+16|0,TD[c>>0]=1,p=te+32+12|0,CD[p>>2]=0,f=te+32+4|0,CD[f>>2]=0,CD[te+32+8>>2]=0,u=CD[Y>>2]|0,l=CD[u+8>>2]|0,(l|0)>0){d=0;do{if(s=CD[(CD[u+16>>2]|0)+(d*12|0)+8>>2]|0){if(bP[CD[(CD[s>>2]|0)+16>>2]&127](s,te+32|0),l=CD[f>>2]|0,(l|0)>0){h=0;do n=CD[(CD[p>>2]|0)+(h<<2)>>2]|0,CD[n+748>>2]|0&&(CD[o+4>>2]=n,l=CD[n+740>>2]|0,s=CD[(CD[o+8>>2]|0)+8>>2]|0,a=CD[(CD[o+12>>2]|0)+8>>2]|0,(l|0)==(s|0)?MM(n,l+4|0,a+4|0):MM(n,a+4|0,s+4|0),CD[o+4>>2]=0,l=CD[f>>2]|0),h=h+1|0;while((h|0)<(l|0));(l|0)<=0&&(_=l,m=22)}else _=l,m=22;if((m|0)==22?(m=0,(_|0)<0):0)for((CD[te+32+8>>2]|0)<0?(l=CD[p>>2]|0,l&&(TD[c>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[l+-4>>2]|0)),CD[p>>2]=0),TD[c>>0]=1,CD[p>>2]=0,CD[te+32+8>>2]=0,s=_):s=_;;){if(l=(CD[p>>2]|0)+(s<<2)|0,l&&(CD[l>>2]=0),(s|0)==-1)break;s=s+1|0}CD[f>>2]=0,l=CD[u+8>>2]|0}d=d+1|0}while((d|0)<(l|0));s=CD[p>>2]|0,s&&(TD[c>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[s+-4>>2]|0)),CD[p>>2]=0)}if(TD[c>>0]=1,CD[p>>2]=0,CD[f>>2]=0,CD[te+32+8>>2]=0,f=CD[Z+64>>2]|0,p=CD[$+64>>2]|0,d=CD[t+4>>2]|0,_=CD[Y>>2]|0,m=CD[t+32>>2]|0,CD[te+120>>2]=11272,CD[te+120+4>>2]=0,CD[te+120+8>>2]=e,CD[te+120+12>>2]=i,CD[te+120+16>>2]=d,CD[te+120+20>>2]=r,CD[te+120+24>>2]=o,CD[te+120+28>>2]=_,CD[te+120+32>>2]=m,o=CD[e+12>>2]|0,E=+RD[o>>2],A=+RD[o+16>>2],w=+RD[o+32>>2],R=+RD[o+4>>2],D=+RD[o+20>>2],P=+RD[o+36>>2],B=+RD[o+8>>2],V=+RD[o+24>>2],L=+RD[o+40>>2],k=-+RD[o+48>>2],H=-+RD[o+52>>2],I=-+RD[o+56>>2],o=CD[i+12>>2]|0,O=+RD[o>>2],J=+RD[o+16>>2],N=+RD[o+32>>2],F=+RD[o+4>>2],G=+RD[o+20>>2],z=+RD[o+36>>2],j=+RD[o+8>>2],U=+RD[o+24>>2],W=+RD[o+40>>2],X=+RD[o+48>>2],q=+RD[o+52>>2],K=+RD[o+56>>2],f=CD[f>>2]|0,p=CD[p>>2]|0,(f|0)!=0&(p|0)!=0){for(CD[5108]=(CD[5108]|0)+1,_=Aw(1043)|0,CD[(_+4+15&-16)+-4>>2]=_,CD[(_+4+15&-16)>>2]=f,CD[(_+4+15&-16)+4>>2]=p,g=+JD(+(E*O+A*J+w*N)),y=+JD(+(E*F+A*G+w*z)),b=+JD(+(E*j+A*U+w*W)),v=+JD(+(R*O+D*J+P*N)),M=+JD(+(R*F+D*G+P*z)),S=+JD(+(R*j+D*U+P*W)),T=+JD(+(B*O+V*J+L*N)),x=+JD(+(B*F+V*G+L*z)),C=+JD(+(B*j+V*U+L*W)),p=_+4+15&-16,_=128,r=128,l=1,m=124;;){f=l+-1|0,h=CD[p+(f<<3)>>2]|0,c=CD[p+(f<<3)+4>>2]|0,ue=+RD[c+16>>2],he=+RD[c>>2],ce=+RD[c+20>>2],le=+RD[c+4>>2],se=+RD[c+24>>2],ee=+RD[c+8>>2],ae=E*k+A*H+w*I+(E*X+A*q+w*K)+((E*O+A*J+w*N)*(ue+he)*.5+(E*F+A*G+w*z)*(ce+le)*.5+(E*j+A*U+w*W)*(se+ee)*.5),oe=R*k+D*H+P*I+(R*X+D*q+P*K)+((R*O+D*J+P*N)*(ue+he)*.5+(R*F+D*G+P*z)*(ce+le)*.5+(R*j+D*U+P*W)*(se+ee)*.5),ie=B*k+V*H+L*I+(B*X+V*q+L*K)+((B*O+V*J+L*N)*(ue+he)*.5+(B*F+V*G+L*z)*(ce+le)*.5+(B*j+V*U+L*W)*(se+ee)*.5),ne=((ue-he)*.5+0)*g+((ce-le)*.5+0)*y+((se-ee)*.5+0)*b,re=((ue-he)*.5+0)*v+((ce-le)*.5+0)*M+((se-ee)*.5+0)*S,ee=((ue-he)*.5+0)*T+((ce-le)*.5+0)*x+((se-ee)*.5+0)*C;do{if(((((+RD[h>>2]<=ne+ae?+RD[h+16>>2]>=ae-ne:0)?+RD[h+4>>2]<=oe+re:0)?+RD[h+20>>2]>=oe-re:0)?+RD[h+8>>2]<=ie+ee:0)?+RD[h+24>>2]>=ie-ee:0){if((f|0)>(m|0)){if(u=_<<1,(_|0)<(u|0)&(r|0)<(u|0)){if(_){if(CD[5108]=(CD[5108]|0)+1,o=Aw((_<<4|3)+16|0)|0,o?(CD[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,(_|0)>0)for(r=_+-1|0,_=0;;){if(m=o+(_<<3)|0,m&&(s=p+(_<<3)|0,d=CD[s+4>>2]|0,CD[m>>2]=CD[s>>2],CD[m+4>>2]=d),(_|0)==(r|0))break;
_=_+1|0}}else o=0;p?(CD[5110]=(CD[5110]|0)+1,ww(CD[p+-4>>2]|0),r=u):r=u}else o=p;d=u,m=u+-4|0}else o=p,d=_;if(p=(CD[c+40>>2]|0)!=0,CD[h+40>>2]|0){if(_=o+(f<<3)|0,f=CD[h+36>>2]|0,p){p=CD[c+36>>2]|0,CD[_>>2]=f,CD[_+4>>2]=p,f=CD[c+36>>2]|0,_=o+(l<<3)|0,CD[_>>2]=CD[h+40>>2],CD[_+4>>2]=f,_=CD[c+40>>2]|0,f=o+(l+1<<3)|0,CD[f>>2]=CD[h+36>>2],CD[f+4>>2]=_,f=CD[c+40>>2]|0,_=o+(l+2<<3)|0,CD[_>>2]=CD[h+40>>2],CD[_+4>>2]=f,_=d,f=l+3|0;break}CD[_>>2]=f,CD[_+4>>2]=c,_=o+(l<<3)|0,CD[_>>2]=CD[h+40>>2],CD[_+4>>2]=c,_=d,f=l+1|0;break}if(p){_=CD[c+36>>2]|0,f=o+(f<<3)|0,CD[f>>2]=h,CD[f+4>>2]=_,f=CD[c+40>>2]|0,_=o+(l<<3)|0,CD[_>>2]=h,CD[_+4>>2]=f,_=d,f=l+1|0;break}QP[CD[(CD[te+120>>2]|0)+8>>2]&127](te+120|0,h,c),_=d;break}o=p}while(0);if(!f)break;p=o,l=f}o&&(CD[5110]=(CD[5110]|0)+1,ww(CD[o+-4>>2]|0))}if(u=CD[Y>>2]|0,(CD[u+8>>2]|0)>0){d=0;do{s=CD[u+16>>2]|0,a=CD[s+(d*12|0)+8>>2]|0;do if(a){if(o=CD[s+(d*12|0)>>2]|0,r=CD[Z+24>>2]|0,m=CD[r+(o*80|0)+64>>2]|0,_=CD[e+12>>2]|0,ae=+RD[_>>2],L=+RD[_+4>>2],V=+RD[_+8>>2],re=+RD[_+16>>2],ee=+RD[_+20>>2],q=+RD[_+24>>2],ie=+RD[_+32>>2],X=+RD[_+36>>2],J=+RD[_+40>>2],W=+RD[r+(o*80|0)>>2],U=+RD[r+(o*80|0)+16>>2],j=+RD[r+(o*80|0)+32>>2],z=+RD[r+(o*80|0)+4>>2],G=+RD[r+(o*80|0)+20>>2],F=+RD[r+(o*80|0)+36>>2],K=+RD[r+(o*80|0)+8>>2],N=+RD[r+(o*80|0)+24>>2],O=+RD[r+(o*80|0)+40>>2],ne=+RD[r+(o*80|0)+48>>2],oe=+RD[r+(o*80|0)+52>>2],k=+RD[r+(o*80|0)+56>>2],I=+RD[_+48>>2]+(ae*ne+L*oe+V*k),H=+RD[_+52>>2]+(re*ne+ee*oe+q*k),k=+RD[_+56>>2]+(ie*ne+X*oe+J*k),RD[te+56>>2]=ae*W+L*U+V*j,RD[te+56+4>>2]=ae*z+L*G+V*F,RD[te+56+8>>2]=ae*K+L*N+V*O,RD[te+56+12>>2]=0,RD[te+56+16>>2]=re*W+ee*U+q*j,RD[te+56+20>>2]=re*z+ee*G+q*F,RD[te+56+24>>2]=re*K+ee*N+q*O,RD[te+56+28>>2]=0,RD[te+56+32>>2]=ie*W+X*U+J*j,RD[te+56+36>>2]=ie*z+X*G+J*F,RD[te+56+40>>2]=ie*K+X*N+J*O,RD[te+56+44>>2]=0,RD[te+56+48>>2]=I,RD[te+56+52>>2]=H,RD[te+56+56>>2]=k,RD[te+56+60>>2]=0,eB[CD[(CD[m>>2]|0)+8>>2]&127](m,te+56|0,te+160|0,te+176|0),m=CD[(CD[u+16>>2]|0)+(d*12|0)+4>>2]|0,_=CD[$+24>>2]|0,o=CD[_+(m*80|0)+64>>2]|0,r=CD[i+12>>2]|0,k=+RD[r>>2],H=+RD[r+4>>2],I=+RD[r+8>>2],O=+RD[r+16>>2],J=+RD[r+20>>2],N=+RD[r+24>>2],X=+RD[r+32>>2],K=+RD[r+36>>2],ie=+RD[r+40>>2],F=+RD[_+(m*80|0)>>2],G=+RD[_+(m*80|0)+16>>2],z=+RD[_+(m*80|0)+32>>2],j=+RD[_+(m*80|0)+4>>2],U=+RD[_+(m*80|0)+20>>2],W=+RD[_+(m*80|0)+36>>2],q=+RD[_+(m*80|0)+8>>2],ee=+RD[_+(m*80|0)+24>>2],re=+RD[_+(m*80|0)+40>>2],V=+RD[_+(m*80|0)+48>>2],L=+RD[_+(m*80|0)+52>>2],ae=+RD[_+(m*80|0)+56>>2],oe=+RD[r+48>>2]+(k*V+H*L+I*ae),ne=+RD[r+52>>2]+(O*V+J*L+N*ae),ae=+RD[r+56>>2]+(X*V+K*L+ie*ae),RD[te+56>>2]=k*F+H*G+I*z,RD[te+56+4>>2]=k*j+H*U+I*W,RD[te+56+8>>2]=k*q+H*ee+I*re,RD[te+56+12>>2]=0,RD[te+56+16>>2]=O*F+J*G+N*z,RD[te+56+20>>2]=O*j+J*U+N*W,RD[te+56+24>>2]=O*q+J*ee+N*re,RD[te+56+28>>2]=0,RD[te+56+32>>2]=X*F+K*G+ie*z,RD[te+56+36>>2]=X*j+K*U+ie*W,RD[te+56+40>>2]=X*q+K*ee+ie*re,RD[te+56+44>>2]=0,RD[te+56+48>>2]=oe,RD[te+56+52>>2]=ne,RD[te+56+56>>2]=ae,RD[te+56+60>>2]=0,eB[CD[(CD[o>>2]|0)+8>>2]&127](o,te+56|0,te+16|0,te),s=(+RD[te+160>>2]>+RD[te>>2]?!0:+RD[te+176>>2]<+RD[te+16>>2])?0:1,(+RD[te+160+8>>2]>+RD[te+8>>2]?0:!(+RD[te+176+8>>2]<+RD[te+16+8>>2]))||(s=0),+RD[te+160+4>>2]>+RD[te+4>>2]?0:!(+RD[te+176+4>>2]<+RD[te+16+4>>2]|s^1))break;if(gP[CD[CD[a>>2]>>2]&255](a),h=CD[t+4>>2]|0,bP[CD[(CD[h>>2]|0)+60>>2]&127](h,a),h=CD[u+16>>2]|0,c=CD[h+(d*12|0)>>2]|0,h=CD[h+(d*12|0)+4>>2]|0,s=CD[t+16>>2]|0,(s|0)==(CD[t+20>>2]|0)?(Q=(s|0)==0?1:s<<1,(s|0)<(Q|0)):0){if(Q?(CD[5108]=(CD[5108]|0)+1,s=Aw((Q*12|3)+16|0)|0,s?(CD[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,n=s,s=CD[t+16>>2]|0):n=0,(s|0)>0)for(l=s+-1|0,a=0;;){if(s=n+(a*12|0)|0,s&&(o=(CD[t+24>>2]|0)+(a*12|0)|0,CD[s>>2]=CD[o>>2],CD[s+4>>2]=CD[o+4>>2],CD[s+8>>2]=CD[o+8>>2]),(a|0)==(l|0))break;a=a+1|0}s=CD[t+24>>2]|0,s&&(TD[t+28>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[s+-4>>2]|0)),CD[t+24>>2]=0),TD[t+28>>0]=1,CD[t+24>>2]=n,CD[t+20>>2]=Q,s=CD[t+16>>2]|0}a=CD[t+24>>2]|0,n=a+(s*12|0)|0,n&&(CD[n>>2]=c,CD[a+(s*12|0)+4>>2]=h,CD[a+(s*12|0)+8>>2]=0,s=CD[t+16>>2]|0),CD[t+16>>2]=s+1}while(0);d=d+1|0}while((d|0)<(CD[u+8>>2]|0));a=t+24|0,s=t+16|0}else a=t+24|0,s=t+16|0;if((CD[s>>2]|0)>0){n=0;do r=CD[Y>>2]|0,o=CD[a>>2]|0,DP[CD[(CD[r>>2]|0)+8>>2]&63](r,CD[o+(n*12|0)>>2]|0,CD[o+(n*12|0)+4>>2]|0)|0,n=n+1|0;while((n|0)<(CD[s>>2]|0))}return(n=CD[a>>2]|0)?(TD[t+28>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[n+-4>>2]|0)),CD[a>>2]=0,TD[t+28>>0]=1,CD[a>>2]=0,CD[s>>2]=0,o=t+20|0,CD[o>>2]=0,void(BD=te)):(TD[t+28>>0]=1,CD[a>>2]=0,CD[s>>2]=0,o=t+20|0,CD[o>>2]=0,void(BD=te))}function JT(t,e,i,r,o){return t|=0,e|=0,i|=0,r|=0,o|=0,0}function NT(t,e){t|=0,e|=0;var i=0;CD[t+8>>2]=0,CD[t>>2]=11368,TD[t+28>>0]=1,CD[t+24>>2]=0,CD[t+16>>2]=0,CD[t+20>>2]=0,RD[t+32>>2]=0xde0b6b000000000,RD[t+36>>2]=0xde0b6b000000000,RD[t+40>>2]=0xde0b6b000000000,RD[t+44>>2]=0,RD[t+48>>2]=-0xde0b6b000000000,RD[t+52>>2]=-0xde0b6b000000000,RD[t+56>>2]=-0xde0b6b000000000,RD[t+60>>2]=0,CD[t+64>>2]=0,CD[t+68>>2]=1,RD[t+72>>2]=0,RD[t+76>>2]=1,RD[t+80>>2]=1,RD[t+84>>2]=1,RD[t+88>>2]=0,CD[t+4>>2]=31,e&&(CD[5108]=(CD[5108]|0)+1,e=Aw(79)|0,((e|0)!=0?(i=e+4+15&-16,CD[i+-4>>2]=e,(e+4+15&-16|0)!=0):0)?(TD[i+36>>0]=1,CD[i+32>>2]=0,CD[i+24>>2]=0,CD[i+28>>2]=0,TD[i+56>>0]=1,CD[i+52>>2]=0,CD[i+44>>2]=0,CD[i+48>>2]=0,CD[(e+4+15&-16)>>2]=0,CD[i+4>>2]=0,CD[i+8>>2]=-1,CD[i+12>>2]=0,CD[i+16>>2]=0,e=e+4+15&-16):e=0,CD[t+64>>2]=e)}function FT(t){t|=0;var e=0,i=0;return CD[t>>2]=11368,e=CD[t+64>>2]|0,((e|0)!=0?(Jf(e),i=CD[t+64>>2]|0,(i|0)!=0):0)&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0)),(e=CD[t+24>>2]|0)?(TD[t+28>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+24>>2]=0,TD[t+28>>0]=1,CD[t+24>>2]=0,CD[t+16>>2]=0,t=t+20|0,void(CD[t>>2]=0)):(TD[t+28>>0]=1,CD[t+24>>2]=0,CD[t+16>>2]=0,t=t+20|0,void(CD[t>>2]=0))}function GT(t){t|=0,FT(t),t&&(CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0))}function zT(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0;if(s=BD,BD=BD+80|0,CD[t+68>>2]=(CD[t+68>>2]|0)+1,i=CD[t+16>>2]|0,(i|0)<=0)return e=CD[t>>2]|0,e=e+68|0,e=CD[e>>2]|0,gP[e&255](t),void(BD=s);for(r=i,n=i;;){if(a=n,n=n+-1|0,i=CD[t+24>>2]|0,(CD[i+(n*80|0)+64>>2]|0)==(e|0)?(CD[t+68>>2]=(CD[t+68>>2]|0)+1,o=CD[t+64>>2]|0,o&&(i=CD[i+(n*80|0)+76>>2]|0,E_(o,i)|0,r=CD[o+4>>2]|0,r&&(CD[5110]=(CD[5110]|0)+1,ww(CD[r+-4>>2]|0)),CD[o+4>>2]=i,CD[o+12>>2]=(CD[o+12>>2]|0)+-1,r=CD[t+16>>2]|0,i=CD[t+24>>2]|0),o=r+-1|0,u=i+(n*80|0)|0,CD[s>>2]=CD[u>>2],CD[s+4>>2]=CD[u+4>>2],CD[s+8>>2]=CD[u+8>>2],CD[s+12>>2]=CD[u+12>>2],h=i+(n*80|0)+16|0,CD[s+16>>2]=CD[h>>2],CD[s+16+4>>2]=CD[h+4>>2],CD[s+16+8>>2]=CD[h+8>>2],CD[s+16+12>>2]=CD[h+12>>2],c=i+(n*80|0)+32|0,CD[s+32>>2]=CD[c>>2],CD[s+32+4>>2]=CD[c+4>>2],CD[s+32+8>>2]=CD[c+8>>2],CD[s+32+12>>2]=CD[c+12>>2],l=i+(n*80|0)+48|0,CD[s+48>>2]=CD[l>>2],CD[s+48+4>>2]=CD[l+4>>2],CD[s+48+8>>2]=CD[l+8>>2],CD[s+48+12>>2]=CD[l+12>>2],r=i+(n*80|0)+64|0,CD[s+64>>2]=CD[r>>2],CD[s+64+4>>2]=CD[r+4>>2],CD[s+64+8>>2]=CD[r+8>>2],CD[s+64+12>>2]=CD[r+12>>2],d=i+(o*80|0)|0,CD[u>>2]=CD[d>>2],CD[u+4>>2]=CD[d+4>>2],CD[u+8>>2]=CD[d+8>>2],CD[u+12>>2]=CD[d+12>>2],u=i+(o*80|0)+16|0,CD[h>>2]=CD[u>>2],CD[h+4>>2]=CD[u+4>>2],CD[h+8>>2]=CD[u+8>>2],CD[h+12>>2]=CD[u+12>>2],h=i+(o*80|0)+32|0,CD[c>>2]=CD[h>>2],CD[c+4>>2]=CD[h+4>>2],CD[c+8>>2]=CD[h+8>>2],CD[c+12>>2]=CD[h+12>>2],c=i+(o*80|0)+48|0,CD[l>>2]=CD[c>>2],CD[l+4>>2]=CD[c+4>>2],CD[l+8>>2]=CD[c+8>>2],CD[l+12>>2]=CD[c+12>>2],i=i+(o*80|0)+64|0,CD[r>>2]=CD[i>>2],CD[r+4>>2]=CD[i+4>>2],CD[r+8>>2]=CD[i+8>>2],CD[r+12>>2]=CD[i+12>>2],r=CD[t+24>>2]|0,CD[r+(o*80|0)>>2]=CD[s>>2],CD[r+(o*80|0)+4>>2]=CD[s+4>>2],CD[r+(o*80|0)+8>>2]=CD[s+8>>2],CD[r+(o*80|0)+12>>2]=CD[s+12>>2],CD[r+(o*80|0)+16>>2]=CD[s+16>>2],CD[r+(o*80|0)+16+4>>2]=CD[s+16+4>>2],CD[r+(o*80|0)+16+8>>2]=CD[s+16+8>>2],CD[r+(o*80|0)+16+12>>2]=CD[s+16+12>>2],CD[r+(o*80|0)+32>>2]=CD[s+32>>2],CD[r+(o*80|0)+32+4>>2]=CD[s+32+4>>2],CD[r+(o*80|0)+32+8>>2]=CD[s+32+8>>2],CD[r+(o*80|0)+32+12>>2]=CD[s+32+12>>2],CD[r+(o*80|0)+48>>2]=CD[s+48>>2],CD[r+(o*80|0)+48+4>>2]=CD[s+48+4>>2],CD[r+(o*80|0)+48+8>>2]=CD[s+48+8>>2],CD[r+(o*80|0)+48+12>>2]=CD[s+48+12>>2],CD[r+(o*80|0)+64>>2]=CD[s+64>>2],CD[r+(o*80|0)+64+4>>2]=CD[s+64+4>>2],CD[r+(o*80|0)+64+8>>2]=CD[s+64+8>>2],CD[r+(o*80|0)+64+12>>2]=CD[s+64+12>>2],CD[t+64>>2]|0&&(CD[(CD[(CD[t+24>>2]|0)+(n*80|0)+76>>2]|0)+36>>2]=n),i=(CD[t+16>>2]|0)+-1|0,CD[t+16>>2]=i):i=r,(a|0)<=1)break;r=i}d=CD[t>>2]|0,d=d+68|0,d=CD[d>>2]|0,gP[d&255](t),BD=s}function jT(t){t|=0;var e=0,i=0,r=0,o=0,n=0;if(r=BD,BD=BD+32|0,RD[t+32>>2]=0xde0b6b000000000,RD[t+36>>2]=0xde0b6b000000000,RD[t+40>>2]=0xde0b6b000000000,RD[t+44>>2]=0,RD[t+48>>2]=-0xde0b6b000000000,RD[t+52>>2]=-0xde0b6b000000000,RD[t+56>>2]=-0xde0b6b000000000,RD[t+60>>2]=0,(CD[t+16>>2]|0)<=0)return void(BD=r);i=0;do o=CD[t+24>>2]|0,n=CD[o+(i*80|0)+64>>2]|0,eB[CD[(CD[n>>2]|0)+8>>2]&127](n,o+(i*80|0)|0,r+16|0,r),e=+RD[r+16>>2],+RD[t+32>>2]>e&&(RD[t+32>>2]=e),e=+RD[r>>2],+RD[t+48>>2]<e&&(RD[t+48>>2]=e),e=+RD[r+16+4>>2],+RD[t+36>>2]>e&&(RD[t+36>>2]=e),e=+RD[r+4>>2],+RD[t+52>>2]<e&&(RD[t+52>>2]=e),e=+RD[r+16+8>>2],+RD[t+40>>2]>e&&(RD[t+40>>2]=e),e=+RD[r+8>>2],+RD[t+56>>2]<e&&(RD[t+56>>2]=e),i=i+1|0;while((i|0)<(CD[t+16>>2]|0));BD=r}function UT(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0;_=+RD[t+48>>2],g=+RD[t+32>>2],E=+RD[t+52>>2],y=+RD[t+36>>2],A=+RD[t+56>>2],a=+RD[t+40>>2],w=(CD[t+16>>2]|0)==0,b=w?0:(A+a)*.5,M=w?0:(E+y)*.5,T=w?0:(_+g)*.5,h=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),l=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),h=(w?0:(_-g)*.5)+h,l=(w?0:(E-y)*.5)+l,a=(w?0:(A-a)*.5)+ +VP[CD[(CD[t>>2]|0)+48>>2]&15](t),A=+RD[e>>2],y=+JD(+A),E=+RD[e+4>>2],g=+JD(+E),_=+RD[e+8>>2],m=+JD(+_),C=+RD[e+16>>2],f=+JD(+C),x=+RD[e+20>>2],p=+JD(+x),u=+RD[e+24>>2],d=+JD(+u),S=+RD[e+32>>2],c=+JD(+S),v=+RD[e+36>>2],s=+JD(+v),o=+RD[e+40>>2],n=+JD(+o),_=T*A+M*E+b*_+ +RD[e+48>>2],u=T*C+M*x+b*u+ +RD[e+52>>2],o=T*S+M*v+b*o+ +RD[e+56>>2],RD[i>>2]=_-(h*y+l*g+a*m),RD[i+4>>2]=u-(h*f+l*p+a*d),RD[i+8>>2]=o-(h*c+l*s+a*n),RD[i+12>>2]=0,RD[r>>2]=h*y+l*g+a*m+_,RD[r+4>>2]=h*f+l*p+a*d+u,RD[r+8>>2]=h*c+l*s+a*n+o,RD[r+12>>2]=0}function WT(t,e,i){t|=0,e=+e,i|=0;var r=0,o=0,n=0,a=0,s=0;r=BD,BD=BD+96|0,RD[r+32>>2]=1,CD[r+32+4>>2]=0,CD[r+32+4+4>>2]=0,CD[r+32+4+8>>2]=0,CD[r+32+4+12>>2]=0,RD[r+32+20>>2]=1,CD[r+32+24>>2]=0,CD[r+32+24+4>>2]=0,CD[r+32+24+8>>2]=0,CD[r+32+24+12>>2]=0,RD[r+32+40>>2]=1,s=r+32+44|0,CD[s>>2]=0,CD[s+4>>2]=0,CD[s+8>>2]=0,CD[s+12>>2]=0,CD[s+16>>2]=0,eB[CD[(CD[t>>2]|0)+8>>2]&127](t,r+32|0,r+16|0,r),n=(+RD[r>>2]-+RD[r+16>>2])*.5*2,o=(+RD[r+4>>2]-+RD[r+16+4>>2])*.5*2,a=(+RD[r+8>>2]-+RD[r+16+8>>2])*.5*2,RD[i>>2]=e/12*(o*o+a*a),RD[i+4>>2]=e/12*(n*n+a*a),RD[i+8>>2]=e/12*(n*n+o*o),BD=r}function XT(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0;if(d=BD,BD=BD+144|0,(CD[t+16>>2]|0)<=0)return u=t+76|0,CD[u>>2]=CD[e>>2],CD[u+4>>2]=CD[e+4>>2],CD[u+8>>2]=CD[e+8>>2],CD[u+12>>2]=CD[e+12>>2],e=CD[t>>2]|0,e=e+68|0,e=CD[e>>2]|0,gP[e&255](t),void(BD=d);a=d+16+16|0,s=d+16+32|0,l=d+16+48|0,u=0;do{if(h=CD[t+24>>2]|0,c=h+(u*80|0)|0,CD[d+16>>2]=CD[c>>2],CD[d+16+4>>2]=CD[c+4>>2],CD[d+16+8>>2]=CD[c+8>>2],CD[d+16+12>>2]=CD[c+12>>2],c=h+(u*80|0)+16|0,CD[a>>2]=CD[c>>2],CD[a+4>>2]=CD[c+4>>2],CD[a+8>>2]=CD[c+8>>2],CD[a+12>>2]=CD[c+12>>2],c=h+(u*80|0)+32|0,CD[s>>2]=CD[c>>2],CD[s+4>>2]=CD[c+4>>2],CD[s+8>>2]=CD[c+8>>2],CD[s+12>>2]=CD[c+12>>2],c=h+(u*80|0)+48|0,CD[l>>2]=CD[c>>2],CD[l+4>>2]=CD[c+4>>2],CD[l+8>>2]=CD[c+8>>2],CD[l+12>>2]=CD[c+12>>2],h=CD[h+(u*80|0)+64>>2]|0,h=MP[CD[(CD[h>>2]|0)+28>>2]&127](h)|0,CD[d>>2]=CD[h>>2],CD[d+4>>2]=CD[h+4>>2],CD[d+8>>2]=CD[h+8>>2],p=+RD[d+4>>2]*+RD[e+4>>2]/+RD[t+80>>2],f=+RD[d+8>>2]*+RD[e+8>>2]/+RD[t+84>>2],RD[d>>2]=+RD[d>>2]*+RD[e>>2]/+RD[t+76>>2],RD[d+4>>2]=p,RD[d+8>>2]=f,RD[d+12>>2]=0,h=CD[(CD[t+24>>2]|0)+(u*80|0)+64>>2]|0,bP[CD[(CD[h>>2]|0)+24>>2]&127](h,d),f=+RD[d+16+52>>2]*+RD[e+4>>2]/+RD[t+80>>2],p=+RD[d+16+56>>2]*+RD[e+8>>2]/+RD[t+84>>2],RD[d+16+48>>2]=+RD[l>>2]*+RD[e>>2]/+RD[t+76>>2],RD[d+16+52>>2]=f,RD[d+16+56>>2]=p,RD[d+16+60>>2]=0,h=CD[t+24>>2]|0,c=h+(u*80|0)|0,CD[c>>2]=CD[d+16>>2],CD[c+4>>2]=CD[d+16+4>>2],CD[c+8>>2]=CD[d+16+8>>2],CD[c+12>>2]=CD[d+16+12>>2],c=h+(u*80|0)+16|0,CD[c>>2]=CD[a>>2],CD[c+4>>2]=CD[a+4>>2],CD[c+8>>2]=CD[a+8>>2],CD[c+12>>2]=CD[a+12>>2],c=h+(u*80|0)+32|0,CD[c>>2]=CD[s>>2],CD[c+4>>2]=CD[s+4>>2],CD[c+8>>2]=CD[s+8>>2],CD[c+12>>2]=CD[s+12>>2],h=h+(u*80|0)+48|0,CD[h>>2]=CD[l>>2],CD[h+4>>2]=CD[l+4>>2],CD[h+8>>2]=CD[l+8>>2],CD[h+12>>2]=CD[l+12>>2],CD[t+64>>2]|0){c=CD[(CD[t+24>>2]|0)+(u*80|0)+64>>2]|0,eB[CD[(CD[c>>2]|0)+8>>2]&127](c,d+16|0,d+128|0,d+112|0),CD[d+80>>2]=CD[d+128>>2],CD[d+80+4>>2]=CD[d+128+4>>2],CD[d+80+8>>2]=CD[d+128+8>>2],CD[d+80+12>>2]=CD[d+128+12>>2],CD[d+80+16>>2]=CD[d+112>>2],CD[d+80+16+4>>2]=CD[d+112+4>>2],CD[d+80+16+8>>2]=CD[d+112+8>>2],CD[d+80+16+12>>2]=CD[d+112+12>>2],c=CD[t+64>>2]|0,h=CD[(CD[t+24>>2]|0)+(u*80|0)+76>>2]|0,i=E_(c,h)|0;t:do if(i){if(o=CD[c+8>>2]|0,(o|0)<=-1){i=CD[c>>2]|0;break}if((o|0)>0)for(n=0,r=i;;){if(i=CD[r+32>>2]|0,n=n+1|0,!i){i=r;break t}if((n|0)>=(o|0))break;r=i}}else i=0;while(0);CD[h>>2]=CD[d+80>>2],CD[h+4>>2]=CD[d+80+4>>2],CD[h+8>>2]=CD[d+80+8>>2],CD[h+12>>2]=CD[d+80+12>>2],CD[h+16>>2]=CD[d+80+16>>2],CD[h+20>>2]=CD[d+80+20>>2],CD[h+24>>2]=CD[d+80+24>>2],CD[h+28>>2]=CD[d+80+28>>2],A_(c,i,h)}u=u+1|0}while((u|0)<(CD[t+16>>2]|0));u=t+76|0,CD[u>>2]=CD[e>>2],CD[u+4>>2]=CD[e+4>>2],CD[u+8>>2]=CD[e+8>>2],CD[u+12>>2]=CD[e+12>>2],e=CD[t>>2]|0,e=e+68|0,e=CD[e>>2]|0,gP[e&255](t),BD=d}function qT(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0;if(r=NP[CD[(CD[i>>2]|0)+40>>2]&31](i,t)|0,a=NP[CD[(CD[i>>2]|0)+28>>2]&31](i,r)|0,CD[e>>2]=a,a&&bP[CD[(CD[i>>2]|0)+48>>2]&127](i,r),CD[e+4>>2]=CD[t+4>>2],RD[e+20>>2]=+RD[t+72>>2],r=CD[t+16>>2]|0,CD[e+16>>2]=r,CD[e+12>>2]=0,!r)return 11472;if(a=DP[CD[(CD[i>>2]|0)+16>>2]&63](i,76,r)|0,r=CD[a+8>>2]|0,n=NP[CD[(CD[i>>2]|0)+28>>2]&31](i,r)|0,CD[e+12>>2]=n,(CD[e+16>>2]|0)>0)for(o=CD[t+24>>2]|0,n=0;;){if(RD[r+72>>2]=+RD[o+(n*80|0)+72>>2],o=NP[CD[(CD[i>>2]|0)+28>>2]&31](i,CD[o+(n*80|0)+64>>2]|0)|0,CD[r+64>>2]=o,NP[CD[(CD[i>>2]|0)+24>>2]&31](i,CD[(CD[t+24>>2]|0)+(n*80|0)+64>>2]|0)|0||(o=CD[(CD[i>>2]|0)+16>>2]|0,s=CD[(CD[t+24>>2]|0)+(n*80|0)+64>>2]|0,s=MP[CD[(CD[s>>2]|0)+52>>2]&127](s)|0,s=DP[o&63](i,s,1)|0,o=CD[(CD[t+24>>2]|0)+(n*80|0)+64>>2]|0,o=DP[CD[(CD[o>>2]|0)+56>>2]&63](o,CD[s+8>>2]|0,i)|0,_P[CD[(CD[i>>2]|0)+20>>2]&31](i,s,o,1346455635,CD[(CD[t+24>>2]|0)+(n*80|0)+64>>2]|0)),o=CD[t+24>>2]|0,CD[r+68>>2]=CD[o+(n*80|0)+68>>2],RD[r>>2]=+RD[o+(n*80|0)>>2],RD[r+4>>2]=+RD[o+(n*80|0)+4>>2],RD[r+8>>2]=+RD[o+(n*80|0)+8>>2],RD[r+12>>2]=+RD[o+(n*80|0)+12>>2],RD[r+16>>2]=+RD[o+(n*80|0)+16>>2],RD[r+20>>2]=+RD[o+(n*80|0)+20>>2],RD[r+24>>2]=+RD[o+(n*80|0)+24>>2],RD[r+28>>2]=+RD[o+(n*80|0)+28>>2],RD[r+32>>2]=+RD[o+(n*80|0)+32>>2],RD[r+36>>2]=+RD[o+(n*80|0)+36>>2],RD[r+40>>2]=+RD[o+(n*80|0)+40>>2],RD[r+44>>2]=+RD[o+(n*80|0)+44>>2],RD[r+48>>2]=+RD[o+(n*80|0)+48>>2],RD[r+52>>2]=+RD[o+(n*80|0)+52>>2],RD[r+56>>2]=+RD[o+(n*80|0)+56>>2],RD[r+60>>2]=+RD[o+(n*80|0)+60>>2],n=n+1|0,(n|0)>=(CD[e+16>>2]|0)){r=i;break}r=r+76|0}else r=i;return _P[CD[(CD[r>>2]|0)+20>>2]&31](i,a,11440,1497453121,CD[a+8>>2]|0),11472}function KT(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0;return n=+RD[e+60>>2]*.5,c=CD[e+68>>2]|0,r=+RD[i>>2],o=+RD[i+4>>2],s=+RD[i+8>>2],s=+ND(+(r*r+o*o+s*s)),a=CD[e+64>>2]|0,+RD[i+(c<<2)>>2]>s*+RD[e+52>>2]?(RD[t+(a<<2)>>2]=0,RD[t+(c<<2)>>2]=n,void(RD[t+(CD[e+72>>2]<<2)>>2]=0)):(s=+RD[i+(a<<2)>>2],l=CD[e+72>>2]|0,r=+RD[i+(l<<2)>>2],o=+ND(+(s*s+r*r)),o>1.1920928955078125e-7?(o=+RD[e+56>>2]/o,RD[t+(a<<2)>>2]=s*o,RD[t+(c<<2)>>2]=-n,void(RD[t+(l<<2)>>2]=r*o)):(RD[t+(a<<2)>>2]=0,RD[t+(c<<2)>>2]=-n,void(RD[t+(l<<2)>>2]=0)))}function YT(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0;if(p=BD,BD=BD+16|0,(r|0)<=0)return void(BD=p);for(d=0;;){u=i+(d<<4)|0,o=+RD[t+60>>2]*.5,n=CD[t+68>>2]|0,c=+RD[e+(d<<4)>>2],s=+RD[e+(d<<4)+4>>2],h=+RD[e+(d<<4)+8>>2],h=+ND(+(c*c+s*s+h*h)),a=CD[t+64>>2]|0;do{if(!(+RD[e+(d<<4)+(n<<2)>>2]>h*+RD[t+52>>2])){if(s=+RD[e+(d<<4)+(a<<2)>>2],l=CD[t+72>>2]|0,c=+RD[e+(d<<4)+(l<<2)>>2],h=+ND(+(s*s+c*c)),h>1.1920928955078125e-7){h=+RD[t+56>>2]/h,RD[p+(a<<2)>>2]=s*h,RD[p+(n<<2)>>2]=-o,RD[p+(l<<2)>>2]=c*h;break}RD[p+(a<<2)>>2]=0,RD[p+(n<<2)>>2]=-o,RD[p+(l<<2)>>2]=0;break}RD[p+(a<<2)>>2]=0,RD[p+(n<<2)>>2]=o,RD[p+(CD[t+72>>2]<<2)>>2]=0}while(0);if(CD[u>>2]=CD[p>>2],CD[u+4>>2]=CD[p+4>>2],CD[u+8>>2]=CD[p+8>>2],CD[u+12>>2]=CD[p+12>>2],(d|0)==(r+-1|0))break;d=d+1|0}BD=p}function QT(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0;r=+RD[e+60>>2]*.5,c=CD[e+68>>2]|0,l=+RD[i>>2],n=+RD[i+4>>2],s=+RD[i+8>>2],s=+ND(+(l*l+n*n+s*s)),o=CD[e+64>>2]|0;do{if(!(+RD[i+(c<<2)>>2]>s*+RD[e+52>>2])){if(n=+RD[i+(o<<2)>>2],a=CD[e+72>>2]|0,s=+RD[i+(a<<2)>>2],l=+ND(+(n*n+s*s)),l>1.1920928955078125e-7){l=+RD[e+56>>2]/l,RD[t+(o<<2)>>2]=n*l,RD[t+(c<<2)>>2]=-r,RD[t+(a<<2)>>2]=s*l;break}RD[t+(o<<2)>>2]=0,RD[t+(c<<2)>>2]=-r,RD[t+(a<<2)>>2]=0;break}RD[t+(o<<2)>>2]=0,RD[t+(c<<2)>>2]=r,RD[t+(CD[e+72>>2]<<2)>>2]=0}while(0);+VP[CD[(CD[e>>2]|0)+48>>2]&15](e)!=0&&(h=+RD[i>>2],l=+RD[i+4>>2],n=+RD[i+8>>2],s=h*h+l*l+n*n<1.4210854715202004e-14?-1:n,r=h*h+l*l+n*n<1.4210854715202004e-14?-1:l,h=h*h+l*l+n*n<1.4210854715202004e-14?-1:h,n=1/+ND(+(s*s+(h*h+r*r))),l=+VP[CD[(CD[e>>2]|0)+48>>2]&15](e),RD[t>>2]=n*h*l+ +RD[t>>2],RD[t+4>>2]=l*n*r+ +RD[t+4>>2],RD[t+8>>2]=l*n*s+ +RD[t+8>>2])}function ZT(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0;s=CD[t+68>>2]|0,a=CD[t+64>>2]|0,n=CD[t+72>>2]|0,r=+RD[e+(s<<2)>>2]/+RD[t+12+(s<<2)>>2]*+RD[t+60>>2],RD[t+60>>2]=r,o=+RD[t+56>>2]*(+RD[e+(a<<2)>>2]/+RD[t+12+(a<<2)>>2]+ +RD[e+(n<<2)>>2]/+RD[t+12+(n<<2)>>2])*.5,RD[t+56>>2]=o,o/=+ND(+(r*r+o*o)),RD[t+52>>2]=o,o=+JD(+ +RD[e>>2]),r=+JD(+ +RD[e+4>>2]),i=+JD(+ +RD[e+8>>2]),RD[t+12>>2]=o,RD[t+16>>2]=r,RD[t+20>>2]=i,RD[t+24>>2]=0}function $T(t,e,i){t|=0,e|=0,i|=0,CD[t>>2]=0,CD[t+4>>2]=0,CD[t+8>>2]=0,CD[t+12>>2]=0}function tx(t,e,i,r){if(t|=0,e|=0,i|=0,r|=0,!((r|0)<=0))for(t=0;;){if(e=i+(t<<4)|0,CD[e>>2]=0,CD[e+4>>2]=0,CD[e+8>>2]=0,CD[e+12>>2]=0,(t|0)==(r+-1|0))break;t=t+1|0}}function ex(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0;r=BD,BD=BD+16|0,QP[CD[(CD[e>>2]|0)+68>>2]&127](r,e,i),CD[t>>2]=CD[r>>2],CD[t+4>>2]=CD[r+4>>2],CD[t+8>>2]=CD[r+8>>2],CD[t+12>>2]=CD[r+12>>2],l=+RD[i>>2],a=+RD[i+4>>2],n=+RD[i+8>>2],o=l*l+a*a+n*n<1.4210854715202004e-14?-1:n,s=l*l+a*a+n*n<1.4210854715202004e-14?-1:a,l=l*l+a*a+n*n<1.4210854715202004e-14?-1:l,n=1/+ND(+(o*o+(l*l+s*s))),a=+VP[CD[(CD[e>>2]|0)+48>>2]&15](e),RD[t>>2]=n*l*a+ +RD[t>>2],RD[t+4>>2]=a*n*s+ +RD[t+4>>2],RD[t+8>>2]=a*n*o+ +RD[t+8>>2],BD=r}function ix(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0;a=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),n=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),o=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),l=+RD[e+52>>2]-n,s=+RD[e+56>>2]-o,RD[i>>2]=+RD[e+48>>2]-a,RD[i+4>>2]=l,RD[i+8>>2]=s,RD[i+12>>2]=0,n+=+RD[e+52>>2],o+=+RD[e+56>>2],RD[r>>2]=a+ +RD[e+48>>2],RD[r+4>>2]=n,RD[r+8>>2]=o,RD[r+12>>2]=0}function rx(t,e,i){t|=0,e=+e,i|=0,e=e*.4000000059604645*+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),e*=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),RD[i>>2]=e,RD[i+4>>2]=e,RD[i+8>>2]=e,RD[i+12>>2]=0}function ox(t,e,i,r){t|=0,e|=0,i|=0,r|=0,dx(t,e),CD[t>>2]=12152,CD[t+52>>2]=0,CD[t+56>>2]=0,TD[t+60>>0]=i&1,TD[t+61>>0]=0,CD[t+4>>2]=21,r&&(CD[5108]=(CD[5108]|0)+1,r=Aw(191)|0,r?(CD[(r+4+15&-16)+-4>>2]=r,r=r+4+15&-16):r=0,CD[r+52>>2]=282,TD[r+60>>0]=0,TD[r+80>>0]=1,CD[r+76>>2]=0,CD[r+68>>2]=0,CD[r+72>>2]=0,TD[r+100>>0]=1,CD[r+96>>2]=0,CD[r+88>>2]=0,CD[r+92>>2]=0,TD[r+120>>0]=1,CD[r+116>>2]=0,CD[r+108>>2]=0,CD[r+112>>2]=0,TD[r+140>>0]=1,CD[r+136>>2]=0,CD[r+128>>2]=0,CD[r+132>>2]=0,CD[r+144>>2]=0,TD[r+164>>0]=1,CD[r+160>>2]=0,CD[r+152>>2]=0,CD[r+156>>2]=0,CD[r+168>>2]=0,RD[r+4>>2]=-3.4028234663852886e38,RD[r+8>>2]=-3.4028234663852886e38,RD[r+12>>2]=-3.4028234663852886e38,RD[r+16>>2]=0,RD[r+20>>2]=3.4028234663852886e38,RD[r+24>>2]=3.4028234663852886e38,RD[r+28>>2]=3.4028234663852886e38,RD[r+32>>2]=0,CD[r>>2]=15088,CD[t+52>>2]=r,Np(r,CD[t+48>>2]|0,(TD[t+60>>0]|0)!=0,t+16|0,t+32|0),TD[t+61>>0]=1)}function nx(t){t|=0;var e=0;CD[t>>2]=12152,TD[t+61>>0]|0&&(e=CD[t+52>>2]|0,gP[CD[CD[e>>2]>>2]&255](e),t=CD[t+52>>2]|0,t&&(CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0)))}function ax(t){t|=0;var e=0;CD[t>>2]=12152,((TD[t+61>>0]|0)!=0?(e=CD[t+52>>2]|0,gP[CD[CD[e>>2]>>2]&255](e),e=CD[t+52>>2]|0,(e|0)!=0):0)&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0)}function sx(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0;if(m=BD,BD=BD+80|0,_=CD[t+48>>2]|0,CD[m>>2]=12336,CD[m+4>>2]=_,CD[m+8>>2]=e,_=CD[t+52>>2]|0,!(TD[_+60>>0]|0)){if(e=CD[_+56>>2]|0,(e|0)>0)for(t=e,a=0,c=CD[_+96>>2]|0,e=0;;){if(e=e+1|0,o=(+RD[i>>2]>+RD[c+16>>2]?!0:+RD[r>>2]<+RD[c>>2])?0:1,(+RD[i+8>>2]>+RD[c+24>>2]?0:!(+RD[r+8>>2]<+RD[c+8>>2]))||(o=0),(+RD[i+4>>2]>+RD[c+20>>2]?!0:+RD[r+4>>2]<+RD[c+4>>2])?(n=CD[c+32>>2]|0,s=(n|0)==-1,o=0,l=41):(n=CD[c+32>>2]|0,o&(n|0)==-1?(QP[CD[(CD[m>>2]|0)+8>>2]&127](m,CD[c+36>>2]|0,CD[c+40>>2]|0),t=CD[_+56>>2]|0,l=42):(s=(n|0)==-1,l=41)),(l|0)==41&&(l=0,s|o?l=42:(a=n+a|0,o=c+(n<<6)|0)),(l|0)==42&&(a=a+1|0,o=c+64|0),!((a|0)<(t|0)))break;c=o}else e=0;return(CD[4340]|0)>=(e|0)?void(BD=m):(CD[4340]=e,void(BD=m))}if(b=+RD[i>>2],T=+RD[i+4>>2],A=+RD[i+8>>2],E=+RD[_+4>>2],b=b<E?E:b,S=+RD[_+8>>2],T=T<S?S:T,y=+RD[_+12>>2],A=A<y?y:A,w=+RD[_+20>>2],x=+RD[_+24>>2],v=+RD[_+28>>2],C=+RD[_+36>>2],M=+RD[_+40>>2],g=+RD[_+44>>2],p=~~(((w<b?w:b)-E)*C)&65534,xD[m+66>>1]=p,f=~~(((x<T?x:T)-S)*M)&65534,xD[m+66+2>>1]=f,d=~~(((v<A?v:A)-y)*g)&65534,xD[m+66+4>>1]=d,A=+RD[r>>2],T=+RD[r+4>>2],b=+RD[r+8>>2],A=A<E?E:A,T=T<S?S:T,b=b<y?y:b,h=(~~(((w<A?w:A)-E)*C+1)&65535|1)&65535,xD[m+60>>1]=h,u=(~~(((x<T?x:T)-S)*M+1)&65535|1)&65535,xD[m+60+2>>1]=u,r=(~~(((v<b?v:b)-y)*g+1)&65535|1)&65535,xD[m+60+4>>1]=r,t=CD[_+144>>2]|0){if((t|0)==2)return Bf(CD[_+136>>2]|0,m,m+66|0,m+60|0),void(BD=m);if((t|0)==1){if((CD[_+152>>2]|0)<=0)return void(BD=m);i=0;do{if(o=CD[_+160>>2]|0,((h&65535)>=(AD[o+(i<<5)>>1]|0)?(p&65535)<=(AD[o+(i<<5)+6>>1]|0):0)&(d&65535)<=(AD[o+(i<<5)+10>>1]|0)&(r&65535)>=(AD[o+(i<<5)+4>>1]|0)&(f&65535)<=(AD[o+(i<<5)+8>>1]|0)&(u&65535)>=(AD[o+(i<<5)+2>>1]|0)){if(e=CD[o+(i<<5)+12>>2]|0,c=CD[o+(i<<5)+16>>2]|0,(c|0)>0){s=e,a=(CD[_+136>>2]|0)+(e<<4)|0,o=0;do o=o+1|0,l=((h&65535)>=(AD[a>>1]|0)?(p&65535)<=(AD[a+6>>1]|0):0)&(d&65535)<=(AD[a+10>>1]|0)&(r&65535)>=(AD[a+4>>1]|0)&(f&65535)<=(AD[a+8>>1]|0)&(u&65535)>=(AD[a+2>>1]|0),n=a+12|0,t=CD[n>>2]|0,(t|0)>-1&l&&QP[CD[(CD[m>>2]|0)+8>>2]&127](m,t>>21,t&2097151),l|(t|0)>-1?(s=s+1|0,a=a+16|0):(l=CD[n>>2]|0,s=s-l|0,a=a+(0-l<<4)|0);while((s|0)<(c+e|0))}else o=0;(CD[4340]|0)<(o|0)&&(CD[4340]=o)}i=i+1|0}while((i|0)<(CD[_+152>>2]|0));return void(BD=m)}return void(BD=m)}if(l=CD[_+56>>2]|0,(l|0)>0){a=0,n=CD[_+136>>2]|0,e=0;do e=e+1|0,o=((h&65535)>=(AD[n>>1]|0)?(p&65535)<=(AD[n+6>>1]|0):0)&(d&65535)<=(AD[n+10>>1]|0)&(r&65535)>=(AD[n+4>>1]|0)&(f&65535)<=(AD[n+8>>1]|0)&(u&65535)>=(AD[n+2>>1]|0),t=n+12|0,s=CD[t>>2]|0,(s|0)>-1&o&&QP[CD[(CD[m>>2]|0)+8>>2]&127](m,s>>21,s&2097151),o|(s|0)>-1?(a=a+1|0,n=n+16|0):(_=CD[t>>2]|0,a=a-_|0,n=n+(0-_<<4)|0);while((a|0)<(l|0))}else e=0;return(CD[4340]|0)>=(e|0)?void(BD=m):(CD[4340]=e,void(BD=m))}function lx(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0;a=MP[CD[(CD[t>>2]|0)+28>>2]&127](t)|0,n=+RD[a>>2]-+RD[e>>2],o=+RD[a+4>>2]-+RD[e+4>>2],r=+RD[a+8>>2]-+RD[e+8>>2],n*n+o*o+r*r>1.1920928955078125e-7&&(mx(t,e),((TD[t+61>>0]|0)!=0?(i=CD[t+52>>2]|0,gP[CD[CD[i>>2]>>2]&255](i),i=CD[t+52>>2]|0,(i|0)!=0):0)?(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0),e=t+52|0):e=t+52|0,CD[5108]=(CD[5108]|0)+1,i=Aw(191)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,i=i+4+15&-16):i=0,CD[i+52>>2]=282,TD[i+60>>0]=0,TD[i+80>>0]=1,CD[i+76>>2]=0,CD[i+68>>2]=0,CD[i+72>>2]=0,TD[i+100>>0]=1,CD[i+96>>2]=0,CD[i+88>>2]=0,CD[i+92>>2]=0,TD[i+120>>0]=1,CD[i+116>>2]=0,CD[i+108>>2]=0,CD[i+112>>2]=0,TD[i+140>>0]=1,CD[i+136>>2]=0,CD[i+128>>2]=0,CD[i+132>>2]=0,CD[i+144>>2]=0,TD[i+164>>0]=1,CD[i+160>>2]=0,CD[i+152>>2]=0,CD[i+156>>2]=0,CD[i+168>>2]=0,RD[i+4>>2]=-3.4028234663852886e38,RD[i+8>>2]=-3.4028234663852886e38,RD[i+12>>2]=-3.4028234663852886e38,RD[i+16>>2]=0,RD[i+20>>2]=3.4028234663852886e38,RD[i+24>>2]=3.4028234663852886e38,RD[i+28>>2]=3.4028234663852886e38,RD[i+32>>2]=0,CD[i>>2]=15088,CD[e>>2]=i,Np(i,CD[t+48>>2]|0,(TD[t+60>>0]|0)!=0,t+16|0,t+32|0),TD[t+61>>0]=1)}function cx(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0;r=NP[CD[(CD[i>>2]|0)+40>>2]&31](i,t)|0,n=NP[CD[(CD[i>>2]|0)+28>>2]&31](i,r)|0,CD[e>>2]=n,n&&bP[CD[(CD[i>>2]|0)+48>>2]&127](i,r),CD[e+4>>2]=CD[t+4>>2],n=CD[t+48>>2]|0,DP[CD[(CD[n>>2]|0)+56>>2]&63](n,e+12|0,i)|0,RD[e+52>>2]=+RD[t+12>>2];do{if((CD[t+52>>2]|0)!=0?((MP[CD[(CD[i>>2]|0)+52>>2]&127](i)|0)&1|0)==0:0){if(r=NP[CD[(CD[i>>2]|0)+24>>2]&31](i,CD[t+52>>2]|0)|0){CD[e+40>>2]=r,CD[e+44>>2]=0;break}r=NP[CD[(CD[i>>2]|0)+28>>2]&31](i,CD[t+52>>2]|0)|0,CD[e+40>>2]=r,CD[e+44>>2]=0,r=CD[t+52>>2]|0,r=MP[CD[(CD[r>>2]|0)+12>>2]&127](r)|0,r=DP[CD[(CD[i>>2]|0)+16>>2]&63](i,r,1)|0,n=CD[t+52>>2]|0,n=DP[CD[(CD[n>>2]|0)+16>>2]&63](n,CD[r+8>>2]|0,i)|0,_P[CD[(CD[i>>2]|0)+20>>2]&31](i,r,n,1213612625,CD[t+52>>2]|0);break}o=8}while(0);return(o|0)==8&&(CD[e+40>>2]=0,CD[e+44>>2]=0),((CD[t+56>>2]|0)!=0?((MP[CD[(CD[i>>2]|0)+52>>2]&127](i)|0)&2|0)==0:0)?(r=NP[CD[(CD[i>>2]|0)+24>>2]&31](i,CD[t+56>>2]|0)|0,r?(CD[e+48>>2]=r,12240):(n=NP[CD[(CD[i>>2]|0)+28>>2]&31](i,CD[t+56>>2]|0)|0,CD[e+48>>2]=n,e=CD[t+56>>2]|0,e=MP[CD[(CD[e>>2]|0)+8>>2]&127](e)|0,e=DP[CD[(CD[i>>2]|0)+16>>2]&63](i,e,1)|0,n=CD[t+56>>2]|0,n=DP[CD[(CD[n>>2]|0)+12>>2]&63](n,CD[e+8>>2]|0,i)|0,_P[CD[(CD[i>>2]|0)+20>>2]&31](i,e,n,1346456916,CD[t+56>>2]|0),12240)):(CD[e+48>>2]=0,12240)}function hx(t,e){t|=0,e|=0;var i=0,r=0;i=CD[t+52>>2]|0,i&&(r=MP[CD[(CD[i>>2]|0)+12>>2]&127](i)|0,r=DP[CD[(CD[e>>2]|0)+16>>2]&63](e,r,1)|0,i=CD[t+52>>2]|0,i=DP[CD[(CD[i>>2]|0)+16>>2]&63](i,CD[r+8>>2]|0,e)|0,_P[CD[(CD[e>>2]|0)+20>>2]&31](e,r,i,1213612625,CD[t+52>>2]|0))}function ux(t,e){t|=0,e|=0;var i=0,r=0;i=CD[t+56>>2]|0,i&&(r=MP[CD[(CD[i>>2]|0)+8>>2]&127](i)|0,r=DP[CD[(CD[e>>2]|0)+16>>2]&63](e,r,1)|0,i=CD[t+56>>2]|0,i=DP[CD[(CD[i>>2]|0)+12>>2]&63](i,CD[r+8>>2]|0,e)|0,_P[CD[(CD[e>>2]|0)+20>>2]&31](e,r,i,1346456916,CD[t+56>>2]|0))}function dx(t,e){t|=0,e|=0;var i=0;return i=BD,BD=BD+48|0,CD[t+8>>2]=0,RD[t+12>>2]=0,CD[t>>2]=12824,CD[t+48>>2]=e,CD[t+4>>2]=21,MP[CD[(CD[e>>2]|0)+40>>2]&127](e)|0?(QP[CD[(CD[e>>2]|0)+48>>2]&127](e,t+16|0,t+32|0),void(BD=i)):(CD[i+32>>2]=0,CD[i+32+4>>2]=0,CD[i+32+8>>2]=0,CD[i+32+12>>2]=0,RD[i+32>>2]=1,QP[CD[(CD[t>>2]|0)+68>>2]&127](i+16|0,t,i+32|0),RD[t+32>>2]=+RD[i+16>>2]+ +RD[t+12>>2],RD[i+32>>2]=-1,QP[CD[(CD[t>>2]|0)+68>>2]&127](i,t,i+32|0),CD[i+16>>2]=CD[i>>2],CD[i+16+4>>2]=CD[i+4>>2],CD[i+16+8>>2]=CD[i+8>>2],CD[i+16+12>>2]=CD[i+12>>2],RD[t+16>>2]=+RD[i+16>>2]-+RD[t+12>>2],CD[i+32>>2]=0,CD[i+32+4>>2]=0,CD[i+32+8>>2]=0,CD[i+32+12>>2]=0,RD[i+32+4>>2]=1,QP[CD[(CD[t>>2]|0)+68>>2]&127](i+16|0,t,i+32|0),RD[t+36>>2]=+RD[i+16+4>>2]+ +RD[t+12>>2],RD[i+32+4>>2]=-1,QP[CD[(CD[t>>2]|0)+68>>2]&127](i,t,i+32|0),CD[i+16>>2]=CD[i>>2],CD[i+16+4>>2]=CD[i+4>>2],CD[i+16+8>>2]=CD[i+8>>2],CD[i+16+12>>2]=CD[i+12>>2],RD[t+20>>2]=+RD[i+16+4>>2]-+RD[t+12>>2],CD[i+32>>2]=0,CD[i+32+4>>2]=0,CD[i+32+8>>2]=0,CD[i+32+12>>2]=0,RD[i+32+8>>2]=1,QP[CD[(CD[t>>2]|0)+68>>2]&127](i+16|0,t,i+32|0),RD[t+40>>2]=+RD[i+16+8>>2]+ +RD[t+12>>2],RD[i+32+8>>2]=-1,QP[CD[(CD[t>>2]|0)+68>>2]&127](i,t,i+32|0),CD[i+16>>2]=CD[i>>2],CD[i+16+4>>2]=CD[i+4>>2],CD[i+16+8>>2]=CD[i+8>>2],CD[i+16+12>>2]=CD[i+12>>2],RD[t+24>>2]=+RD[i+16+8>>2]-+RD[t+12>>2],void(BD=i))}function px(t){t|=0}function fx(t){t|=0,t&&(CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0))}function _x(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0;d=(+RD[t+32>>2]-+RD[t+16>>2])*.5,c=(+RD[t+36>>2]-+RD[t+20>>2])*.5,a=(+RD[t+40>>2]-+RD[t+24>>2])*.5,u=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),l=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),a+=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),C=(+RD[t+32>>2]+ +RD[t+16>>2])*.5,T=(+RD[t+36>>2]+ +RD[t+20>>2])*.5,M=(+RD[t+40>>2]+ +RD[t+24>>2])*.5,R=+RD[e>>2],v=+JD(+R),w=+RD[e+4>>2],b=+JD(+w),g=+RD[e+8>>2],y=+JD(+g),A=+RD[e+16>>2],m=+JD(+A),E=+RD[e+20>>2],_=+JD(+E),p=+RD[e+24>>2],f=+JD(+p),x=+RD[e+32>>2],h=+JD(+x),S=+RD[e+36>>2],s=+JD(+S),o=+RD[e+40>>2],n=+JD(+o),g=C*R+T*w+M*g+ +RD[e+48>>2],p=C*A+T*E+M*p+ +RD[e+52>>2],o=C*x+T*S+M*o+ +RD[e+56>>2],RD[i>>2]=g-((d+u)*v+(c+l)*b+a*y),RD[i+4>>2]=p-((d+u)*m+(c+l)*_+a*f),RD[i+8>>2]=o-((d+u)*h+(c+l)*s+a*n),RD[i+12>>2]=0,RD[r>>2]=(d+u)*v+(c+l)*b+a*y+g,RD[r+4>>2]=(d+u)*m+(c+l)*_+a*f+p,RD[r+8>>2]=(d+u)*h+(c+l)*s+a*n+o,RD[r+12>>2]=0}function mx(t,e){t|=0,e|=0;var i=0,r=0;i=BD,BD=BD+48|0,r=(CD[t+48>>2]|0)+4|0,CD[r>>2]=CD[e>>2],CD[r+4>>2]=CD[e+4>>2],CD[r+8>>2]=CD[e+8>>2],CD[r+12>>2]=CD[e+12>>2],CD[i+32>>2]=0,CD[i+32+4>>2]=0,CD[i+32+8>>2]=0,CD[i+32+12>>2]=0,RD[i+32>>2]=1,QP[CD[(CD[t>>2]|0)+68>>2]&127](i+16|0,t,i+32|0),RD[t+32>>2]=+RD[i+16>>2]+ +RD[t+12>>2],RD[i+32>>2]=-1,QP[CD[(CD[t>>2]|0)+68>>2]&127](i,t,i+32|0),CD[i+16>>2]=CD[i>>2],CD[i+16+4>>2]=CD[i+4>>2],CD[i+16+8>>2]=CD[i+8>>2],CD[i+16+12>>2]=CD[i+12>>2],RD[t+16>>2]=+RD[i+16>>2]-+RD[t+12>>2],CD[i+32>>2]=0,CD[i+32+4>>2]=0,CD[i+32+8>>2]=0,CD[i+32+12>>2]=0,RD[i+32+4>>2]=1,QP[CD[(CD[t>>2]|0)+68>>2]&127](i+16|0,t,i+32|0),RD[t+36>>2]=+RD[i+16+4>>2]+ +RD[t+12>>2],RD[i+32+4>>2]=-1,QP[CD[(CD[t>>2]|0)+68>>2]&127](i,t,i+32|0),CD[i+16>>2]=CD[i>>2],CD[i+16+4>>2]=CD[i+4>>2],CD[i+16+8>>2]=CD[i+8>>2],CD[i+16+12>>2]=CD[i+12>>2],RD[t+20>>2]=+RD[i+16+4>>2]-+RD[t+12>>2],CD[i+32>>2]=0,CD[i+32+4>>2]=0,CD[i+32+8>>2]=0,CD[i+32+12>>2]=0,RD[i+32+8>>2]=1,QP[CD[(CD[t>>2]|0)+68>>2]&127](i+16|0,t,i+32|0),RD[t+40>>2]=+RD[i+16+8>>2]+ +RD[t+12>>2],RD[i+32+8>>2]=-1,QP[CD[(CD[t>>2]|0)+68>>2]&127](i,t,i+32|0),CD[i+16>>2]=CD[i>>2],CD[i+16+4>>2]=CD[i+4>>2],CD[i+16+8>>2]=CD[i+8>>2],CD[i+16+12>>2]=CD[i+12>>2],RD[t+24>>2]=+RD[i+16+8>>2]-+RD[t+12>>2],BD=i}function gx(t){return t|=0,(CD[t+48>>2]|0)+4|0}function yx(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;o=BD,BD=BD+48|0,CD[o>>2]=13032,CD[o+4>>2]=e,CD[o+8>>2]=CD[i>>2],CD[o+8+4>>2]=CD[i+4>>2],CD[o+8+8>>2]=CD[i+8>>2],CD[o+8+12>>2]=CD[i+12>>2],CD[o+24>>2]=CD[r>>2],CD[o+24+4>>2]=CD[r+4>>2],CD[o+24+8>>2]=CD[r+8>>2],CD[o+24+12>>2]=CD[r+12>>2],t=CD[t+48>>2]|0,eB[CD[(CD[t>>2]|0)+8>>2]&127](t,o,i,r),BD=o}function bx(t,e,i){t|=0,e=+e,i|=0,CD[i>>2]=0,CD[i+4>>2]=0,CD[i+8>>2]=0,CD[i+12>>2]=0}function vx(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0;r=BD,BD=BD+176|0,CD[r+160>>2]=0,CD[r+160+4>>2]=0,CD[r+160+8>>2]=0,CD[r+160+12>>2]=0,CD[r+136>>2]=0,CD[r+136+4>>2]=0,CD[r+136+8>>2]=0,CD[r+136+12>>2]=0,CD[r+136+16>>2]=0,CD[r+32>>2]=12968,CD[r+32+4>>2]=0,CD[r+32+4+4>>2]=0,CD[r+32+4+8>>2]=0,CD[r+32+4+12>>2]=0,RD[r+32+20>>2]=1,CD[r+32+24>>2]=CD[r+160>>2],CD[r+32+24+4>>2]=CD[r+160+4>>2],CD[r+32+24+8>>2]=CD[r+160+8>>2],CD[r+32+36>>2]=0,RD[r+32+40>>2]=1,CD[r+32+44>>2]=0,CD[r+32+44+4>>2]=0,CD[r+32+44+8>>2]=0,CD[r+32+44+12>>2]=0,RD[r+32+60>>2]=1,RD[r+32+64>>2]=0,CD[r+32+68>>2]=CD[r+136+4>>2],CD[r+32+68+4>>2]=CD[r+136+4+4>>2],CD[r+32+68+8>>2]=CD[r+136+4+8>>2],CD[r+32+68+12>>2]=CD[r+136+4+12>>2],RD[r+32+84>>2]=-0xde0b6b000000000,l=+RD[i>>2],s=+RD[i+4>>2],a=+RD[i+8>>2],n=l*+RD[r+32+24>>2]+s+a*0,o=l*+RD[r+32+28>>2]+s*0+a,RD[r+32+88>>2]=l+s*0+a*0,RD[r+32+92>>2]=n,RD[r+32+96>>2]=o,RD[r+32+100>>2]=0,RD[r+16>>2]=0xde0b6b000000000,RD[r+16+4>>2]=0xde0b6b000000000,RD[r+16+8>>2]=0xde0b6b000000000,RD[r+16+12>>2]=0,i=CD[(CD[e>>2]|0)+64>>2]|0,RD[r>>2]=-0xde0b6b000000000,RD[r+4>>2]=-0xde0b6b000000000,RD[r+8>>2]=-0xde0b6b000000000,RD[r+12>>2]=0,eB[i&127](e,r+32|0,r,r+16|0),CD[t>>2]=CD[r+32+4>>2],CD[t+4>>2]=CD[r+32+4+4>>2],CD[t+8>>2]=CD[r+32+4+8>>2],CD[t+12>>2]=CD[r+32+4+12>>2],BD=r}function Mx(t){t|=0}function Sx(t){t|=0,t&&(CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0))}function Tx(t,e,i,r){t|=0,e|=0,i|=0,r|=0,RD[i>>2]=-0xde0b6b000000000,RD[i+4>>2]=-0xde0b6b000000000,RD[i+8>>2]=-0xde0b6b000000000,RD[i+12>>2]=0,RD[r>>2]=0xde0b6b000000000,RD[r+4>>2]=0xde0b6b000000000,RD[r+8>>2]=0xde0b6b000000000,RD[r+12>>2]=0}function xx(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0;v=BD,BD=BD+48|0,m=+RD[r>>2],g=+RD[i>>2],y=+RD[r+4>>2],b=+RD[i+4>>2],_=+RD[r+8>>2],n=+RD[i+8>>2],a=+ND(+((m-g)*.5*(m-g)*.5+(y-b)*.5*(y-b)*.5+(_-n)*.5*(_-n)*.5)),s=+RD[t+56>>2],i=+JD(+s)>.7071067690849304,l=+RD[t+52>>2],i?(f=1/+ND(+(s*s+l*l)),M=+RD[t+48>>2],o=M*-(s*f),c=M,h=0,u=-(s*f),d=l*f,p=(s*s+l*l)*f,f=-(M*l*f)):(p=+RD[t+48>>2],f=1/+ND(+(p*p+l*l)),o=(p*p+l*l)*f,c=p,h=-(l*f),u=p*f,d=0,p=-(s*p*f),f=s*-(l*f)),M=(m+g)*.5*c+(y+b)*.5*l+(_+n)*.5*s-+RD[t+64>>2],c=(m+g)*.5-c*M,h=a*h,u=a*u,g=a*d,p=a*p,f=a*f,m=a*o,RD[v>>2]=p+(h+c),RD[v+4>>2]=f+(u+((y+b)*.5-l*M)),RD[v+8>>2]=m+(g+((_+n)*.5-s*M)),RD[v+12>>2]=0,RD[v+16>>2]=h+c-p,RD[v+20>>2]=u+((y+b)*.5-l*M)-f,RD[v+24>>2]=g+((_+n)*.5-s*M)-m,RD[v+28>>2]=0,RD[v+32>>2]=c-h-p,RD[v+36>>2]=(y+b)*.5-l*M-u-f,RD[v+40>>2]=(_+n)*.5-s*M-g-m,RD[v+44>>2]=0,eB[CD[(CD[e>>2]|0)+8>>2]&127](e,v,0,0),RD[v>>2]=c-h-p,RD[v+4>>2]=(y+b)*.5-l*M-u-f,RD[v+8>>2]=(_+n)*.5-s*M-g-m,RD[v+12>>2]=0,RD[v+16>>2]=p+(c-h),RD[v+20>>2]=f+((y+b)*.5-l*M-u),RD[v+24>>2]=m+((_+n)*.5-s*M-g),RD[v+28>>2]=0,RD[v+32>>2]=p+(h+c),RD[v+36>>2]=f+(u+((y+b)*.5-l*M)),RD[v+40>>2]=m+(g+((_+n)*.5-s*M)),RD[v+44>>2]=0,eB[CD[(CD[e>>2]|0)+8>>2]&127](e,v,0,1),BD=v
}function Cx(t,e,i){t|=0,e=+e,i|=0,CD[i>>2]=0,CD[i+4>>2]=0,CD[i+8>>2]=0,CD[i+12>>2]=0}function Ex(t,e){t|=0,e|=0,CD[t+68>>2]=CD[e>>2],CD[t+68+4>>2]=CD[e+4>>2],CD[t+68+8>>2]=CD[e+8>>2],CD[t+68+12>>2]=CD[e+12>>2]}function Ax(t){return t|=0,t+68|0}function wx(t){t|=0;var e=0,i=0;CD[t>>2]=13336,e=CD[t+52>>2]|0,((e|0)!=0?(gP[CD[CD[e>>2]>>2]&255](e),i=CD[t+52>>2]|0,(i|0)!=0):0)&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0)),CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0)}function Rx(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0,N=0,F=0,G=0,z=0,j=0,U=0,W=0,X=0,q=0,K=0,Y=0,Q=0,Z=0,$=0;for(Q=BD,BD=BD+352|0,i=CD[t+52>>2]|0,((i|0)!=0?(gP[CD[CD[i>>2]>>2]&255](i),r=CD[t+52>>2]|0,(r|0)!=0):0)&&(CD[5110]=(CD[5110]|0)+1,ww(CD[r+-4>>2]|0)),CD[5108]=(CD[5108]|0)+1,i=Aw(151)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,i=i+4+15&-16):i=0,CD[i>>2]=19992,TD[i+20>>0]=1,CD[i+16>>2]=0,CD[i+8>>2]=0,CD[i+12>>2]=0,TD[i+40>>0]=1,CD[i+36>>2]=0,CD[i+28>>2]=0,CD[i+32>>2]=0,TD[i+60>>0]=1,CD[i+56>>2]=0,CD[i+48>>2]=0,CD[i+52>>2]=0,CD[t+52>>2]=i,r=0,B=0,Y=0,o=0;;){if((r|0)>=(MP[CD[(CD[t>>2]|0)+96>>2]&127](t)|0))break;do if((B|0)==(o|0))if(l=(o|0)==0?1:o<<1,(o|0)<(l|0)){if(((l|0)!=0?(CD[5108]=(CD[5108]|0)+1,m=Aw((l<<4|3)+16|0)|0,(m|0)!=0):0)?(CD[(m+4+15&-16)+-4>>2]=m,s=m+4+15&-16):s=0,(o|0)<=0){if(!Y){a=o;break}}else for(a=o+-1|0,n=0;;){if(U=s+(n<<4)|0,j=Y+(n<<4)|0,CD[U>>2]=CD[j>>2],CD[U+4>>2]=CD[j+4>>2],CD[U+8>>2]=CD[j+8>>2],CD[U+12>>2]=CD[j+12>>2],(n|0)==(a|0))break;n=n+1|0}CD[5110]=(CD[5110]|0)+1,ww(CD[Y+-4>>2]|0),a=o}else a=o,s=Y,l=o;else a=B,s=Y,l=o;while(0);Y=s+(B<<4)|0,CD[Y>>2]=CD[Q+48>>2],CD[Y+4>>2]=CD[Q+48+4>>2],CD[Y+8>>2]=CD[Q+48+8>>2],CD[Y+12>>2]=CD[Q+48+12>>2],QP[CD[(CD[t>>2]|0)+108>>2]&127](t,r,Y),r=r+1|0,B=a+1|0,Y=s,o=l}if(TD[Q+100+16>>0]=1,K=Q+100+12|0,CD[K>>2]=0,CD[Q+100+4>>2]=0,CD[Q+100+8>>2]=0,TD[Q+100+36>>0]=1,q=Q+100+32|0,CD[q>>2]=0,CD[Q+100+24>>2]=0,CD[Q+100+28>>2]=0,TD[Q+100+56>>0]=1,X=Q+100+52|0,CD[X>>2]=0,CD[Q+100+44>>2]=0,CD[Q+100+48>>2]=0,e){if((B|0)>0){for(i=B+-1|0,D=0,s=0,l=0,n=0;;){if(P=D,D=D+1|0,(D|0)<(B|0)){R=Y+(P<<4)|0,C=Y+(P<<4)+4|0,r=Y+(P<<4)+8|0,x=D;do{o=x,x=x+1|0;t:do if((x|0)<(B|0))for(g=Y+(o<<4)|0,a=Y+(o<<4)+4|0,m=Y+(o<<4)+8|0,w=x;;){for(h=+RD[R>>2],S=+RD[g>>2]-h,c=+RD[C>>2],d=+RD[a>>2]-c,A=+RD[r>>2],u=+RD[m>>2]-A,h=+RD[Y+(w<<4)>>2]-h,c=+RD[Y+(w<<4)+4>>2]-c,A=+RD[Y+(w<<4)+8>>2]-A,E=1,e=0;;){T=(d*A-u*c)*E,p=(u*h-S*A)*E,_=(S*c-d*h)*E;e:do if(_*_+(T*T+p*p)>9999999747378752e-20){if(f=1/+ND(+(_*_+(T*T+p*p))),(s|0)>0){M=0;do{if(T*f*+RD[n+(M<<4)>>2]+p*f*+RD[n+(M<<4)+4>>2]+_*f*+RD[n+(M<<4)+8>>2]>.9990000128746033)break e;M=M+1|0}while((M|0)<(s|0))}E=T*f*+RD[R>>2]+p*f*+RD[C>>2]+_*f*+RD[r>>2],M=0;do{if(T*f*+RD[Y+(M<<4)>>2]+p*f*+RD[Y+(M<<4)+4>>2]+_*f*+RD[Y+(M<<4)+8>>2]-E+-.009999999776482582>0)break e;M=M+1|0}while((M|0)<(B|0));do if((s|0)==(l|0))if(b=(l|0)==0?1:l<<1,(l|0)<(b|0)){do if(b){if(CD[5108]=(CD[5108]|0)+1,M=Aw((b<<4|3)+16|0)|0,!M){y=0;break}CD[(M+4+15&-16)+-4>>2]=M,y=M+4+15&-16}else y=0;while(0);if((l|0)<=0){if(!n){M=l,l=b,n=y;break}}else for(M=l+-1|0,v=0;;){if(U=y+(v<<4)|0,j=n+(v<<4)|0,CD[U>>2]=CD[j>>2],CD[U+4>>2]=CD[j+4>>2],CD[U+8>>2]=CD[j+8>>2],CD[U+12>>2]=CD[j+12>>2],(v|0)==(M|0))break;v=v+1|0}CD[5110]=(CD[5110]|0)+1,ww(CD[n+-4>>2]|0),M=l,l=b,n=y}else M=l;else M=s;while(0);RD[n+(M<<4)>>2]=T*f,RD[n+(M<<4)+4>>2]=p*f,RD[n+(M<<4)+8>>2]=_*f,RD[n+(M<<4)+12>>2]=-E,s=s+1|0}while(0);if(e=e+1|0,(e|0)==2)break;E=-1}if((w|0)==(i|0))break t;w=w+1|0}while(0)}while((o|0)!=(i|0))}if((P|0)==(i|0)){g=s;break}}if((g|0)>0){for(m=0,r=0,i=0;;){U=n+(m<<4)|0,CD[Q+20>>2]=CD[U>>2],CD[Q+20+4>>2]=CD[U+4>>2],CD[Q+20+8>>2]=CD[U+8>>2],_=+RD[n+(m<<4)+12>>2],_-=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t);do if((m|0)==(r|0))if(o=(r|0)==0?1:r<<1,(r|0)<(o|0)){if(((o|0)!=0?(CD[5108]=(CD[5108]|0)+1,V=Aw((o<<4|3)+16|0)|0,(V|0)!=0):0)?(CD[(V+4+15&-16)+-4>>2]=V,a=V+4+15&-16):a=0,(r|0)<=0){if(!i){s=r,l=o;break}}else for(l=r+-1|0,s=0;;){if(U=a+(s<<4)|0,j=i+(s<<4)|0,CD[U>>2]=CD[j>>2],CD[U+4>>2]=CD[j+4>>2],CD[U+8>>2]=CD[j+8>>2],CD[U+12>>2]=CD[j+12>>2],(s|0)==(l|0))break;s=s+1|0}CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0),s=r,l=o}else s=r,l=r,a=i;else s=m,l=r,a=i;while(0);if(U=a+(s<<4)|0,CD[U>>2]=CD[Q+20>>2],CD[U+4>>2]=CD[Q+20+4>>2],CD[U+8>>2]=CD[Q+20+8>>2],RD[a+(s<<4)+12>>2]=_,m=m+1|0,!((m|0)<(g|0)))break;r=l,i=a}if((m|0)>0){r=0,s=0,l=0,o=0;do if(x=r,r=r+1|0,(r|0)<(m|0)){C=r;do{y=C,C=C+1|0;t:do if((C|0)<(m|0))for(b=C,M=l,v=o;;){d=+RD[a+(y<<4)+4>>2],_=+RD[a+(b<<4)+8>>2],f=+RD[a+(y<<4)+8>>2],u=+RD[a+(b<<4)+4>>2],h=+RD[a+(b<<4)>>2],c=+RD[a+(y<<4)>>2],p=+RD[a+(x<<4)+8>>2],S=+RD[a+(x<<4)+4>>2],T=+RD[a+(x<<4)>>2];e:do if((((u*c-d*h)*(u*c-d*h)+((d*_-f*u)*(d*_-f*u)+(f*h-_*c)*(f*h-_*c))>9999999747378752e-20?(h*S-u*T)*(h*S-u*T)+((u*p-_*S)*(u*p-_*S)+(_*T-h*p)*(_*T-h*p))>9999999747378752e-20:0)?(d*T-c*S)*(d*T-c*S)+((f*S-d*p)*(f*S-d*p)+(c*p-f*T)*(c*p-f*T))>9999999747378752e-20:0)?(H=p*(u*c-d*h)+(S*(f*h-_*c)+(d*_-f*u)*T),+JD(+H)>9.999999974752427e-7):0){Z=+RD[a+(x<<4)+12>>2],A=+RD[a+(y<<4)+12>>2],$=+RD[a+(b<<4)+12>>2],E=-1/H*((f*S-d*p)*$+((d*_-f*u)*Z+(u*p-_*S)*A)),f=-1/H*((c*p-f*T)*$+((f*h-_*c)*Z+(_*T-h*p)*A)),_=-1/H*((d*T-c*S)*$+((u*c-d*h)*Z+(h*S-u*T)*A)),l=0;do{if(+RD[a+(l<<4)+12>>2]+(E*+RD[a+(l<<4)>>2]+f*+RD[a+(l<<4)+4>>2]+_*+RD[a+(l<<4)+8>>2])+-.009999999776482582>0){l=M,o=v;break e}l=l+1|0}while((l|0)<(m|0));do if((s|0)==(v|0)){if(o=(v|0)==0?1:v<<1,(v|0)>=(o|0)){e=v,l=M,o=v;break}do if(o){if(CD[5108]=(CD[5108]|0)+1,l=Aw((o<<4|3)+16|0)|0,!l){l=0;break}CD[(l+4+15&-16)+-4>>2]=l,l=l+4+15&-16}else l=0;while(0);if((v|0)<=0){if(!M){e=v;break}}else for(e=v+-1|0,g=0;;){if(U=l+(g<<4)|0,j=M+(g<<4)|0,CD[U>>2]=CD[j>>2],CD[U+4>>2]=CD[j+4>>2],CD[U+8>>2]=CD[j+8>>2],CD[U+12>>2]=CD[j+12>>2],(g|0)==(e|0))break;g=g+1|0}CD[5110]=(CD[5110]|0)+1,ww(CD[M+-4>>2]|0),e=v}else e=s,l=M,o=v;while(0);RD[l+(e<<4)>>2]=E,RD[l+(e<<4)+4>>2]=f,RD[l+(e<<4)+8>>2]=_,RD[l+(e<<4)+12>>2]=0,s=s+1|0}else l=M,o=v;while(0);if((b|0)==(m+-1|0))break t;b=b+1|0,M=l,v=o}while(0)}while((y|0)!=(m+-1|0))}while((x|0)!=(m+-1|0))}else s=0,l=0}else a=0,s=0,l=0}else n=0,a=0,s=0,l=0;Xf(Q+100|0,l,s),l&&(CD[5110]=(CD[5110]|0)+1,ww(CD[l+-4>>2]|0)),a&&(CD[5110]=(CD[5110]|0)+1,ww(CD[a+-4>>2]|0)),n&&(CD[5110]=(CD[5110]|0)+1,ww(CD[n+-4>>2]|0))}else Xf(Q+100|0,Y,B);if(P=CD[Q+100+44>>2]|0,(P|0)>0)for(CD[5108]=(CD[5108]|0)+1,i=Aw((P<<4|3)+16|0)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,a=i+4+15&-16):a=0,s=0;;){if(U=a+(s<<4)|0,CD[U>>2]=CD[Q+32>>2],CD[U+4>>2]=CD[Q+32+4>>2],CD[U+8>>2]=CD[Q+32+8>>2],CD[U+12>>2]=CD[Q+32+12>>2],(s|0)==(P+-1|0)){U=a;break}s=s+1|0}else U=0;TD[Q+320+16>>0]=1,z=Q+320+12|0,CD[z>>2]=0,j=Q+320+4|0,CD[j>>2]=0,CD[Q+320+8>>2]=0,l=Q+176|0,s=l+36|0;do CD[l>>2]=0,l=l+4|0;while((l|0)<(s|0));if(TD[Q+176+16>>0]=1,CD[Q+176+12>>2]=0,CD[Q+176+4>>2]=0,CD[Q+176+8>>2]=0,(P|0)<0&&pP(),(P|0)>0)for(g_(Q+320|0,P),l=CD[z>>2]|0,a=0;;){if(s=l+(a*36|0)|0,s&&y_(s,Q+176|0),(a|0)==(P+-1|0))break;a=a+1|0}if(CD[j>>2]=P,TD[Q+176+16>>0]=1,CD[Q+176+12>>2]=0,CD[Q+176+4>>2]=0,CD[Q+176+8>>2]=0,g=CD[Q+100+4>>2]|0,m=CD[t+52>>2]|0,n=CD[m+8>>2]|0,(n|0)<(g|0)){if((CD[m+12>>2]|0)<(g|0)){if(g?(CD[5108]=(CD[5108]|0)+1,l=Aw((g<<4|3)+16|0)|0,l?(CD[(l+4+15&-16)+-4>>2]=l,l=l+4+15&-16):l=0,s=CD[m+8>>2]|0):(l=0,s=n),(s|0)>0)for(s=s+-1|0,a=0;;){if(O=l+(a<<4)|0,I=(CD[m+16>>2]|0)+(a<<4)|0,CD[O>>2]=CD[I>>2],CD[O+4>>2]=CD[I+4>>2],CD[O+8>>2]=CD[I+8>>2],CD[O+12>>2]=CD[I+12>>2],(a|0)==(s|0))break;a=a+1|0}s=CD[m+16>>2]|0,s&&(TD[m+20>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[s+-4>>2]|0)),CD[m+16>>2]=0),TD[m+20>>0]=1,CD[m+16>>2]=l,CD[m+12>>2]=g,s=m+16|0}else s=m+16|0;for(l=n;;){if(O=(CD[s>>2]|0)+(l<<4)|0,CD[O>>2]=CD[Q+216>>2],CD[O+4>>2]=CD[Q+216+4>>2],CD[O+8>>2]=CD[Q+216+8>>2],CD[O+12>>2]=CD[Q+216+12>>2],(l|0)==(g+-1|0))break;l=l+1|0}}if(CD[m+8>>2]=g,(g|0)>0)for(l=CD[K>>2]|0,s=0;;){if(O=(CD[(CD[t+52>>2]|0)+16>>2]|0)+(s<<4)|0,I=l+(s<<4)|0,CD[O>>2]=CD[I>>2],CD[O+4>>2]=CD[I+4>>2],CD[O+8>>2]=CD[I+8>>2],CD[O+12>>2]=CD[I+12>>2],(s|0)==(g+-1|0))break;s=s+1|0}if((P|0)>0)for(C=0;;){n=(CD[q>>2]|0)+((CD[(CD[X>>2]|0)+(C<<2)>>2]|0)*12|0)|0,r=n,s=0;do{if(o=r+4|0,m=CD[r+((CD[o>>2]|0)*12|0)+8>>2]|0,y=CD[z>>2]|0,e=y+(C*36|0)+4|0,l=CD[e>>2]|0,v=y+(C*36|0)+8|0,(l|0)==(CD[v>>2]|0)?(N=(l|0)==0?1:l<<1,(l|0)<(N|0)):0){if(N?(CD[5108]=(CD[5108]|0)+1,l=Aw((N<<2|3)+16|0)|0,l?(CD[(l+4+15&-16)+-4>>2]=l,l=l+4+15&-16):l=0,M=l,l=CD[e>>2]|0):M=0,b=y+(C*36|0)+12|0,(l|0)>0)for(l=l+-1|0,a=0;;){if(g=M+(a<<2)|0,g&&(CD[g>>2]=CD[(CD[b>>2]|0)+(a<<2)>>2]),(a|0)==(l|0))break;a=a+1|0}a=CD[b>>2]|0,l=y+(C*36|0)+16|0,a&&(TD[l>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[a+-4>>2]|0)),CD[b>>2]=0),TD[l>>0]=1,CD[b>>2]=M,CD[v>>2]=N,l=CD[e>>2]|0}a=(CD[y+(C*36|0)+12>>2]|0)+(l<<2)|0,a&&(CD[a>>2]=m,l=CD[e>>2]|0),CD[e>>2]=l+1,I=CD[r+8>>2]|0,O=CD[K>>2]|0,u=+RD[O+(I<<4)>>2]-+RD[O+(m<<4)>>2],h=+RD[O+(I<<4)+4>>2]-+RD[O+(m<<4)+4>>2],p=+RD[O+(I<<4)+8>>2]-+RD[O+(m<<4)+8>>2],d=1/+ND(+(u*u+h*h+p*p)),(s|0)<2&&(RD[Q+272+(s<<4)>>2]=u*d,RD[Q+272+(s<<4)+4>>2]=h*d,RD[Q+272+(s<<4)+8>>2]=p*d,RD[Q+272+(s<<4)+12>>2]=0,s=s+1|0),O=CD[o>>2]|0,r=r+(((CD[r+(O*12|0)>>2]|0)+O|0)*12|0)|0}while((r|0)!=(n|0));if(l=U+(C<<4)|0,(s|0)==2?(H=+RD[Q+272+4>>2],_=+RD[Q+272+24>>2],E=+RD[Q+272+8>>2],A=+RD[Q+272+20>>2],f=+RD[Q+272+16>>2],T=+RD[Q+272>>2],I=U+(C<<4)+4|0,O=U+(C<<4)+8|0,RD[U+(C<<4)+12>>2]=0,Z=1/+ND(+((H*_-E*A)*(H*_-E*A)+(E*f-_*T)*(E*f-_*T)+(A*T-H*f)*(A*T-H*f))),RD[l>>2]=(H*_-E*A)*Z,RD[I>>2]=(E*f-_*T)*Z,RD[O>>2]=(A*T-H*f)*Z,n=CD[z>>2]|0,RD[n+(C*36|0)+20>>2]=(H*_-E*A)*Z,RD[n+(C*36|0)+24>>2]=+RD[I>>2],RD[n+(C*36|0)+28>>2]=+RD[O>>2],RD[n+(C*36|0)+32>>2]=1.0000000150474662e30):(CD[l>>2]=0,CD[l+4>>2]=0,CD[l+8>>2]=0,CD[l+12>>2]=0,n=CD[z>>2]|0),a=CD[n+(C*36|0)+4>>2]|0,(a|0)>0)for(m=CD[(CD[t+52>>2]|0)+16>>2]|0,_=+RD[l>>2],f=+RD[U+(C<<4)+4>>2],p=+RD[U+(C<<4)+8>>2],l=CD[n+(C*36|0)+12>>2]|0,c=1.0000000150474662e30,s=0;;){if(O=CD[l+(s<<2)>>2]|0,Z=+RD[m+(O<<4)>>2]*_+ +RD[m+(O<<4)+4>>2]*f+ +RD[m+(O<<4)+8>>2]*p,c=c>Z?Z:c,(s|0)==(a+-1|0))break;s=s+1|0}else c=1.0000000150474662e30;if(RD[n+(C*36|0)+32>>2]=-c,(C|0)==(P+-1|0))break;C=C+1|0}if((CD[j>>2]|0)>0){for(l=0,r=0,m=0;;){if((m|0)==(l|0))if(l=(m|0)==0?1:m<<1,(m|0)<(l|0)){if(((l|0)!=0?(CD[5108]=(CD[5108]|0)+1,J=Aw((l<<2|3)+16|0)|0,(J|0)!=0):0)?(CD[(J+4+15&-16)+-4>>2]=J,o=J+4+15&-16):o=0,(m|0)>0)for(s=m+-1|0,n=0;;){if(a=o+(n<<2)|0,a&&(CD[a>>2]=CD[r+(n<<2)>>2]),(n|0)==(s|0))break;n=n+1|0}r&&(CD[5110]=(CD[5110]|0)+1,ww(CD[r+-4>>2]|0))}else l=m,o=r;else o=r;if(s=o+(m<<2)|0,s&&(CD[s>>2]=m),m=m+1|0,(m|0)>=(CD[j>>2]|0))break;r=o}if(m)for(O=Q+232+16|0,I=Q+232+12|0,k=Q+232+4|0,l=m;;){n=l+-1|0,a=CD[o+(n<<2)>>2]|0,CD[5108]=(CD[5108]|0)+1,l=Aw(23)|0,l?(CD[(l+4+15&-16)+-4>>2]=l,s=l+4+15&-16,l+4+15&-16&&(CD[s>>2]=a)):s=0,l=CD[z>>2]|0,E=+RD[l+(a*36|0)+20>>2],_=+RD[l+(a*36|0)+24>>2],A=+RD[l+(a*36|0)+28>>2],l=n,m=1,e=1,a=n;t:for(;;){if(!((l|0)>0)){G=205;break}n=m,v=e;e:for(;;){g=CD[z>>2]|0;do{if(N=a,a=a+-1|0,(N|0)<=0){J=s,N=v,s=g;break t}M=CD[o+(a<<2)>>2]|0}while(!(E*+RD[g+(M*36|0)+20>>2]+_*+RD[g+(M*36|0)+24>>2]+A*+RD[g+(M*36|0)+28>>2]>.9990000128746033));do if((v|0)==(n|0)?(L=(n|0)==0?1:n<<1,(n|0)<(L|0)):0){do if(L){if(CD[5108]=(CD[5108]|0)+1,m=Aw((L<<2|3)+16|0)|0,!m){e=0;break}CD[(m+4+15&-16)+-4>>2]=m,e=m+4+15&-16}else e=0;while(0);if((n|0)>0)for(m=n+-1|0,r=0;;){if(n=e+(r<<2)|0,n&&(CD[n>>2]=CD[s+(r<<2)>>2]),(r|0)==(m|0))break;r=r+1|0}if(!s){b=L,s=e;break}CD[5110]=(CD[5110]|0)+1,ww(CD[s+-4>>2]|0),b=L,s=e}else b=n;while(0);for(m=s+(v<<2)|0,m&&(CD[m>>2]=M),v=v+1|0,m=0;;){if(n=o+(m<<2)|0,(CD[n>>2]|0)==(M|0))break;if(m=m+1|0,(m|0)>=(l|0)){n=b;continue e}}if((m|0)<(l|0))break;n=b}m=l+-1|0,e=o+(m<<2)|0,CD[n>>2]=CD[e>>2],CD[e>>2]=M,l=m,m=b,e=v}t:do if((G|0)==205)for(;;){G=0,g=CD[z>>2]|0,v=a;do{if(N=v,v=v+-1|0,(N|0)<=0){J=s,N=e,s=g;break t}M=CD[o+(v<<2)>>2]|0}while(!(E*+RD[g+(M*36|0)+20>>2]+_*+RD[g+(M*36|0)+24>>2]+A*+RD[g+(M*36|0)+28>>2]>.9990000128746033));do if((e|0)==(m|0)?(F=(m|0)==0?1:m<<1,(m|0)<(F|0)):0){do if(F){if(CD[5108]=(CD[5108]|0)+1,a=Aw((F<<2|3)+16|0)|0,!a){g=0;break}CD[(a+4+15&-16)+-4>>2]=a,g=a+4+15&-16}else g=0;while(0);if((m|0)>0)for(a=m+-1|0,n=0;;){if(m=g+(n<<2)|0,m&&(CD[m>>2]=CD[s+(n<<2)>>2]),(n|0)==(a|0))break;n=n+1|0}if(!s){m=F,s=g;break}CD[5110]=(CD[5110]|0)+1,ww(CD[s+-4>>2]|0),m=F,s=g}while(0);a=s+(e<<2)|0,a&&(CD[a>>2]=M),e=e+1|0,a=v,G=205}while(0);do if((N|0)<=1)(N|0)>0?(r=s,G=347):G=357;else{for(TD[O>>0]=1,CD[I>>2]=0,CD[k>>2]=0,CD[Q+232+8>>2]=0,r=N+-1|0,g=0,E=0,_=0,f=0,C=0;;){if(a=CD[J+(C<<2)>>2]|0,E=+RD[s+(a*36|0)+20>>2]+E,_=+RD[s+(a*36|0)+24>>2]+_,f=+RD[s+(a*36|0)+28>>2]+f,n=s+(a*36|0)+4|0,(CD[n>>2]|0)>0)for(m=s+(a*36|0)+12|0,s=g,a=0;;){y=CD[(CD[m>>2]|0)+(a<<2)>>2]|0,V=(CD[(CD[t+52>>2]|0)+16>>2]|0)+(y<<4)|0,CD[Q+256>>2]=CD[V>>2],CD[Q+256+4>>2]=CD[V+4>>2],CD[Q+256+8>>2]=CD[V+8>>2],CD[Q+256+12>>2]=CD[V+12>>2];t:do if((s|0)>0)for(e=CD[I>>2]|0,g=0;;){if((CD[e+(g*24|0)+20>>2]|0)==(y|0))break t;if(g=g+1|0,(g|0)>=(s|0)){G=232;break}}else G=232;while(0);if((G|0)==232){G=0,CD[Q>>2]=CD[Q+256>>2],CD[Q+4>>2]=CD[Q+256+4>>2],CD[Q+8>>2]=CD[Q+256+8>>2],CD[Q+12>>2]=CD[Q+256+12>>2];do if((s|0)==(CD[Q+232+8>>2]|0)){if(b=(s|0)==0?1:s<<1,(s|0)>=(b|0))break;if(b?(CD[5108]=(CD[5108]|0)+1,e=Aw((b*24|3)+16|0)|0,e?(CD[(e+4+15&-16)+-4>>2]=e,e=e+4+15&-16):e=0,s=CD[k>>2]|0):e=0,(s|0)<=0)g=CD[I>>2]|0,g&&(G=242);else for(M=s+-1|0,g=CD[I>>2]|0,v=0;;){if(G=e+(v*24|0)|0,V=g+(v*24|0)|0,CD[G>>2]=CD[V>>2],CD[G+4>>2]=CD[V+4>>2],CD[G+8>>2]=CD[V+8>>2],CD[G+12>>2]=CD[V+12>>2],CD[G+16>>2]=CD[V+16>>2],CD[G+20>>2]=CD[V+20>>2],(v|0)==(M|0)){G=242;break}v=v+1|0}(G|0)==242&&(G=0,TD[O>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[g+-4>>2]|0),s=CD[k>>2]|0),CD[I>>2]=0),TD[O>>0]=1,CD[I>>2]=e,CD[Q+232+8>>2]=b}while(0);V=CD[I>>2]|0,B=V+(s*24|0)|0,CD[B>>2]=CD[Q>>2],CD[B+4>>2]=CD[Q+4>>2],CD[B+8>>2]=CD[Q+8>>2],CD[B+12>>2]=CD[Q+12>>2],CD[B+16>>2]=CD[Q+16>>2],CD[V+(s*24|0)+20>>2]=y,s=(CD[k>>2]|0)+1|0,CD[k>>2]=s}if(a=a+1|0,(a|0)>=(CD[n>>2]|0)){g=s;break}}if(s=CD[z>>2]|0,(C|0)==(r|0))break;C=C+1|0}TD[Q+64+16>>0]=1,CD[Q+64+12>>2]=0,CD[Q+64+4>>2]=0,CD[Q+64+8>>2]=0,V=s+20+((CD[J>>2]|0)*9<<2)|0,CD[Q+64+20>>2]=CD[V>>2],CD[Q+64+20+4>>2]=CD[V+4>>2],CD[Q+64+20+8>>2]=CD[V+8>>2],CD[Q+64+20+12>>2]=CD[V+12>>2],A=1/+ND(+(E*E+_*_+f*f)),T=E*A,E=_*A,A=f*A,+JD(+A)>.7071067690849304?(d=1/+ND(+(A*A+E*E)),f=0,p=-(A*d),d=E*d):(p=1/+ND(+(T*T+E*E)),f=-(E*p),p=T*p,d=0);do if((g|0)<2){if(!((g|0)>0)){m=0,r=0,G=331;break}for(a=0,n=0,M=0;;){v=CD[I>>2]|0;do if((a|0)==(n|0)){if(m=(n|0)==0?1:n<<1,(n|0)>=(m|0)){e=n,s=M;break}do if(m){if(CD[5108]=(CD[5108]|0)+1,s=Aw((m*24|3)+16|0)|0,!s){s=0,n=a;break}CD[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16,n=a}else s=0;while(0);if((n|0)<=0)M&&(G=265);else for(n=n+-1|0,r=0;;){if(G=s+(r*24|0)|0,V=M+(r*24|0)|0,CD[G>>2]=CD[V>>2],CD[G+4>>2]=CD[V+4>>2],CD[G+8>>2]=CD[V+8>>2],CD[G+12>>2]=CD[V+12>>2],CD[G+16>>2]=CD[V+16>>2],CD[G+20>>2]=CD[V+20>>2],(r|0)==(n|0)){G=265;break}r=r+1|0}(G|0)==265&&(G=0,CD[5110]=(CD[5110]|0)+1,ww(CD[M+-4>>2]|0)),e=a,g=CD[k>>2]|0,n=m}else e=a,s=M;while(0);if(V=s+(e*24|0)|0,CD[V>>2]=CD[v>>2],CD[V+4>>2]=CD[v+4>>2],CD[V+8>>2]=CD[v+8>>2],CD[V+12>>2]=CD[v+12>>2],CD[V+16>>2]=CD[v+16>>2],CD[V+20>>2]=CD[v+20>>2],a=a+1|0,!((a|0)<(g|0))){n=g,G=296;break}M=s}}else{b=CD[I>>2]|0,s=g,a=0;do f*+RD[b+(a*24|0)>>2]+p*+RD[b+(a*24|0)+4>>2]+d*+RD[b+(a*24|0)+8>>2]<f*+RD[b>>2]+p*+RD[b+4>>2]+d*+RD[b+8>>2]&&(CD[Q+272>>2]=CD[b>>2],CD[Q+272+4>>2]=CD[b+4>>2],CD[Q+272+8>>2]=CD[b+8>>2],CD[Q+272+12>>2]=CD[b+12>>2],CD[Q+272+16>>2]=CD[b+16>>2],CD[Q+272+20>>2]=CD[b+20>>2],s=b+(a*24|0)|0,CD[b>>2]=CD[s>>2],CD[b+4>>2]=CD[s+4>>2],CD[b+8>>2]=CD[s+8>>2],CD[b+12>>2]=CD[s+12>>2],CD[b+16>>2]=CD[s+16>>2],CD[b+20>>2]=CD[s+20>>2],s=b+(a*24|0)|0,CD[s>>2]=CD[Q+272>>2],CD[s+4>>2]=CD[Q+272+4>>2],CD[s+8>>2]=CD[Q+272+8>>2],CD[s+12>>2]=CD[Q+272+12>>2],CD[s+16>>2]=CD[Q+272+16>>2],CD[s+20>>2]=CD[Q+272+20>>2],s=g),a=a+1|0;while((a|0)<(s|0));if(RD[b+16>>2]=-1.0000000150474662e30,(s|0)>1)for(_=+RD[b+4>>2],g=s+-1|0,e=1;;){if(S=+RD[b+(e*24|0)>>2]-+RD[b>>2],H=+RD[b+(e*24|0)+4>>2]-_,Z=+RD[b+(e*24|0)+8>>2]-+RD[b+8>>2],Z=((f*H-p*S)*A+(T*(p*Z-d*H)+E*(d*S-f*Z)))/+ND(+(S*S+H*H+Z*Z)),RD[b+(e*24|0)+16>>2]=Z,(e|0)==(g|0))break;e=e+1|0}for(CD[Q+160>>2]=CD[b>>2],CD[Q+160+4>>2]=CD[b+4>>2],CD[Q+160+8>>2]=CD[b+8>>2],CD[Q+160+12>>2]=CD[b+12>>2],jx(Q+232|0,Q+160|0,1,s+-1|0),a=CD[I>>2]|0,CD[5108]=(CD[5108]|0)+1,s=Aw(43)|0,s?(CD[(s+4+15&-16)+-4>>2]=s,n=s+4+15&-16):n=0,m=CD[I>>2]|0,CD[n>>2]=CD[a>>2],CD[n+4>>2]=CD[a+4>>2],CD[n+8>>2]=CD[a+8>>2],CD[n+12>>2]=CD[a+12>>2],CD[n+16>>2]=CD[a+16>>2],CD[n+20>>2]=CD[a+20>>2],CD[5108]=(CD[5108]|0)+1,s=Aw(67)|0,s?(CD[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,a=0;;){if(G=s+(a*24|0)|0,V=n+(a*24|0)|0,CD[G>>2]=CD[V>>2],CD[G+4>>2]=CD[V+4>>2],CD[G+8>>2]=CD[V+8>>2],CD[G+12>>2]=CD[V+12>>2],CD[G+16>>2]=CD[V+16>>2],CD[G+20>>2]=CD[V+20>>2],!a)break;a=a+1|0}if(CD[5110]=(CD[5110]|0)+1,ww(CD[n+-4>>2]|0),a=s+24|0,CD[a>>2]=CD[m+24>>2],CD[a+4>>2]=CD[m+24+4>>2],CD[a+8>>2]=CD[m+24+8>>2],CD[a+12>>2]=CD[m+24+12>>2],CD[a+16>>2]=CD[m+24+16>>2],CD[a+20>>2]=CD[m+24+20>>2],a=CD[k>>2]|0,(a|0)==2){a=2,G=297;break}for(e=2,n=a,a=2,v=2,C=s,r=2;;){t:do if((e|0)>1){for(G=CD[I>>2]|0,y=G+(r*24|0)|0,_=+RD[y>>2],f=+RD[G+(r*24|0)+4>>2],p=+RD[G+(r*24|0)+8>>2];;){if(G=e+-2|0,M=e+-1|0,S=+RD[C+(G*24|0)>>2],H=S-+RD[C+(M*24|0)>>2],u=+RD[C+(G*24|0)+4>>2],h=u-+RD[C+(M*24|0)+4>>2],Z=+RD[C+(G*24|0)+8>>2],d=Z-+RD[C+(M*24|0)+8>>2],(H*(u-f)-h*(S-_))*A+(T*(h*(Z-p)-d*(u-f))+E*(d*(S-_)-H*(Z-p)))>0)break;if(!((M|0)>1)){e=M,a=M,b=v,s=C;break t}e=M,a=M}do if((e|0)==(v|0)){if(b=v<<1,(v|0)>=(b|0)){e=v,b=v,s=C;break}if(CD[5108]=(CD[5108]|0)+1,s=Aw((v*48|3)+16|0)|0,s?(CD[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,(a|0)>0)for(g=a+-1|0,m=0;;){if(G=s+(m*24|0)|0,V=C+(m*24|0)|0,CD[G>>2]=CD[V>>2],CD[G+4>>2]=CD[V+4>>2],CD[G+8>>2]=CD[V+8>>2],CD[G+12>>2]=CD[V+12>>2],CD[G+16>>2]=CD[V+16>>2],CD[G+20>>2]=CD[V+20>>2],(m|0)==(g|0))break;m=m+1|0}CD[5110]=(CD[5110]|0)+1,ww(CD[C+-4>>2]|0),n=CD[k>>2]|0,e=a}else b=v,s=C;while(0);e=s+(e*24|0)|0,CD[e>>2]=CD[y>>2],CD[e+4>>2]=CD[y+4>>2],CD[e+8>>2]=CD[y+8>>2],CD[e+12>>2]=CD[y+12>>2],CD[e+16>>2]=CD[y+16>>2],CD[e+20>>2]=CD[y+20>>2],a=a+1|0,e=a}else b=v,s=C;while(0);if(r=r+1|0,(r|0)==(n|0)){G=296;break}v=b,C=s}}while(0);if((G|0)==296&&((a|0)>0?G=297:(a=0,G=298)),(G|0)==297)for(x=a+-1|0,b=0,y=0,M=0,a=0,C=0;;){i=s+(C*24|0)+20|0;do if((b|0)==(y|0)){if(v=(y|0)==0?1:y<<1,(y|0)>=(v|0)){n=y,v=y;break}do if(v){if(CD[5108]=(CD[5108]|0)+1,a=Aw((v<<2|3)+16|0)|0,!a){e=0;break}CD[(a+4+15&-16)+-4>>2]=a,e=a+4+15&-16}else e=0;while(0);if((y|0)>0)for(g=y+-1|0,m=0;;){if(a=e+(m<<2)|0,a&&(CD[a>>2]=CD[M+(m<<2)>>2]),(m|0)==(g|0))break;m=m+1|0}M&&(CD[5110]=(CD[5110]|0)+1,ww(CD[M+-4>>2]|0),CD[Q+64+12>>2]=0),TD[Q+64+16>>0]=1,CD[Q+64+12>>2]=e,CD[Q+64+8>>2]=v,M=e,n=y,a=e}else n=b,v=y;while(0);m=M+(n<<2)|0,m&&(CD[m>>2]=CD[i>>2],n=CD[Q+64+4>>2]|0),b=n+1|0,CD[Q+64+4>>2]=b,n=CD[k>>2]|0;t:do if((n|0)>0){for(r=CD[I>>2]|0,e=CD[i>>2]|0,m=0;;){if(g=r+(m*24|0)+20|0,m=m+1|0,(CD[g>>2]|0)==(e|0))break;if((m|0)>=(n|0))break t}CD[g>>2]=-1}while(0);if((C|0)==(x|0)){G=298;break}y=v,C=C+1|0}t:do if((G|0)==298)if(G=0,(n|0)>0)for(r=CD[I>>2]|0,i=CD[j>>2]|0,y=CD[z>>2]|0,v=0;;){if(b=CD[r+(v*24|0)+20>>2]|0,!((b|0)==-1|(i|0)<1)){M=0;do{for(e=0;;){if((CD[J+(e<<2)>>2]|0)==(M|0))break;if(e=e+1|0,(e|0)>=(N|0)){G=324;break}}do if((G|0)==324){if(G=0,e=CD[y+(M*36|0)+4>>2]|0,(e|0)<=0)break;g=CD[y+(M*36|0)+12>>2]|0,m=0;do{if((CD[g+(m<<2)>>2]|0)==(b|0)){n=1;break t}m=m+1|0}while((m|0)<(e|0))}while(0);M=M+1|0}while((M|0)<(i|0))}if(v=v+1|0,(v|0)>=(n|0)){m=a,r=s,G=331;break}}else m=a,r=s,G=331;while(0);if((G|0)==331&&(n=CD[t+52>>2]|0,s=CD[n+28>>2]|0,(s|0)==(CD[n+32>>2]|0)&&(g_(n+24|0,(s|0)==0?1:s<<1),s=CD[n+28>>2]|0),a=(CD[n+36>>2]|0)+(s*36|0)|0,a&&(y_(a,Q+64|0),s=CD[n+28>>2]|0),CD[n+28>>2]=s+1,a=m,n=0,s=r),s&&(CD[5110]=(CD[5110]|0)+1,ww(CD[s+-4>>2]|0)),a&&(CD[5110]=(CD[5110]|0)+1,ww(CD[a+-4>>2]|0),CD[Q+64+12>>2]=0),s=CD[I>>2]|0,s&&(TD[O>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[s+-4>>2]|0)),CD[I>>2]=0),TD[O>>0]=1,CD[I>>2]=0,CD[k>>2]=0,CD[Q+232+8>>2]=0,!(n&(N|0)>0)){G=357;break}r=CD[z>>2]|0,G=347}while(0);if((G|0)==347){m=0;do y_(Q+272|0,r+((CD[J+(m<<2)>>2]|0)*36|0)|0),n=CD[t+52>>2]|0,s=CD[n+28>>2]|0,(s|0)==(CD[n+32>>2]|0)&&(g_(n+24|0,(s|0)==0?1:s<<1),s=CD[n+28>>2]|0),a=(CD[n+36>>2]|0)+(s*36|0)|0,a&&(y_(a,Q+272|0),s=CD[n+28>>2]|0),CD[n+28>>2]=s+1,s=CD[Q+272+12>>2]|0,s&&(TD[Q+272+16>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[s+-4>>2]|0)),CD[Q+272+12>>2]=0),m=m+1|0;while((m|0)<(N|0));G=358}else((G|0)==357?(G=0,(J|0)!=0):0)&&(G=358);if((G|0)==358&&(G=0,CD[5110]=(CD[5110]|0)+1,ww(CD[J+-4>>2]|0)),!l)break}}else o=0;if(F=CD[t+52>>2]|0,CD[F+64>>2]=0,CD[F+64+4>>2]=0,CD[F+64+8>>2]=0,CD[F+64+12>>2]=0,i=CD[F+28>>2]|0,(i|0)>0){for(g=0,m=0,n=0,v=0,s=0,M=0,a=0,C=0,r=0,e=0,y=0,b=0,N=0;;){if(l=CD[F+36>>2]|0,J=CD[l+(N*36|0)+4>>2]|0,(J|0)>0){for(I=N&65535,O=N|-65536,x=g,i=M,k=a,V=e,B=y,g=b,e=0;;){L=e+1|0,w=CD[l+(N*36|0)+12>>2]|0,y=CD[w+(e<<2)>>2]&65535,w=CD[w+(((L|0)==(J|0)?0:L)<<2)>>2]&65535,D=y<<16>>16<w<<16>>16?y:w,R=y<<16>>16<w<<16>>16?w:y,b=y<<16>>16<w<<16>>16?y:w,y=y<<16>>16<w<<16>>16?w:y,w=C+-1|0;t:do if((((b&65535)<<16)+(y<<16>>16)&w)>>>0<n>>>0?(W=CD[m+((((b&65535)<<16)+(y<<16>>16)&w)<<2)>>2]|0,(W|0)!=-1):0){for(M=W;;){if(y<<16>>16==(xD[x+(M<<2)>>1]|0)?b<<16>>16==(xD[x+(M<<2)+2>>1]|0):0)break;if(M=CD[i+(M<<2)>>2]|0,(M|0)==-1){e=0;break t}}e=r+(M<<2)|0}else e=0;while(0);M=CD[F+16>>2]|0,p=+RD[M+(b<<16>>16<<4)>>2]-+RD[M+(y<<16>>16<<4)>>2],S=+RD[M+(b<<16>>16<<4)+4>>2]-+RD[M+(y<<16>>16<<4)+4>>2],E=+RD[M+(b<<16>>16<<4)+8>>2]-+RD[M+(y<<16>>16<<4)+8>>2],T=1/+ND(+(p*p+S*S+E*E)),M=CD[F+48>>2]|0;t:do if((M|0)>0)for(b=CD[F+56>>2]|0,y=0;;){_=+RD[b+(y<<4)>>2],f=+RD[b+(y<<4)+8>>2];do if(!(+JD(+(_-p*T))>1e-6)){if(+JD(+(+RD[b+(y<<4)+4>>2]-S*T))>1e-6)break;if(!(+JD(+(f-E*T))>1e-6))break t}while(0);do if(!(+JD(+(p*T+_))>1e-6)){if(+JD(+(S*T+ +RD[b+(y<<4)+4>>2]))>1e-6)break;if(!(+JD(+(E*T+f))>1e-6))break t}while(0);if(y=y+1|0,(y|0)>=(M|0)){G=381;break}}else G=381;while(0);if((G|0)==381){G=0;do if((M|0)==(CD[F+52>>2]|0)){if(l=(M|0)==0?1:M<<1,(M|0)>=(l|0))break;if(l?(CD[5108]=(CD[5108]|0)+1,M=Aw((l<<4|3)+16|0)|0,M?(CD[(M+4+15&-16)+-4>>2]=M,M=M+4+15&-16):M=0,y=M,M=CD[F+48>>2]|0):y=0,(M|0)>0)for(M=M+-1|0,b=0;;){if(t=y+(b<<4)|0,P=(CD[F+56>>2]|0)+(b<<4)|0,CD[t>>2]=CD[P>>2],CD[t+4>>2]=CD[P+4>>2],CD[t+8>>2]=CD[P+8>>2],CD[t+12>>2]=CD[P+12>>2],(b|0)==(M|0))break;b=b+1|0}M=CD[F+56>>2]|0,M&&(TD[F+60>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[M+-4>>2]|0)),CD[F+56>>2]=0),TD[F+60>>0]=1,CD[F+56>>2]=y,CD[F+52>>2]=l,M=CD[F+48>>2]|0}while(0);t=CD[F+56>>2]|0,RD[t+(M<<4)>>2]=p*T,RD[t+(M<<4)+4>>2]=S*T,RD[t+(M<<4)+8>>2]=E*T,RD[t+(M<<4)+12>>2]=0,CD[F+48>>2]=(CD[F+48>>2]|0)+1}t:do if(e)xD[e+2>>1]=I,M=i,a=k,e=V,y=B,b=g;else{l=((D&65535)<<16)+(R<<16>>16)&w;e:do if(l>>>0<n>>>0){if(M=CD[m+(l<<2)>>2]|0,(M|0)==-1)break;for(;;){if(R<<16>>16==(xD[x+(M<<2)>>1]|0)?D<<16>>16==(xD[x+(M<<2)+2>>1]|0):0)break;if(M=CD[i+(M<<2)>>2]|0,(M|0)==-1)break e}M=r+(M<<2)|0,xD[M>>1]=O,xD[M+2>>1]=O>>>16,M=i,a=k,e=V,y=B,b=g;break t}while(0);do if((k|0)==(C|0)){if(y=(C|0)==0?1:C<<1,(C|0)>=(y|0)){M=C,P=C;break}do if(y){if(CD[5108]=(CD[5108]|0)+1,M=Aw((y<<2|3)+16|0)|0,!M){e=0;break}CD[(M+4+15&-16)+-4>>2]=M,e=M+4+15&-16}else e=0;while(0);if((C|0)>0)for(b=0;;){if(M=e+(b<<2)|0,M&&(t=r+(b<<2)|0,t=AD[t>>1]|AD[t+2>>1]<<16,xD[M>>1]=t,xD[M+2>>1]=t>>>16),(b|0)==(w|0))break;b=b+1|0}if(!r){M=C,P=y,r=e;break}CD[5110]=(CD[5110]|0)+1,ww(CD[r+-4>>2]|0),M=C,P=y,r=e}else M=k,P=C;while(0);b=r+(M<<2)|0,b&&(xD[b>>1]=O,xD[b+2>>1]=O>>>16,M=k),a=M+1|0;do if((B|0)==(g|0)){if(g=(B|0)==0?1:B<<1,(B|0)>=(g|0)){g=B;break}do if(g){if(CD[5108]=(CD[5108]|0)+1,M=Aw((g<<2|3)+16|0)|0,!M){M=0;break}CD[(M+4+15&-16)+-4>>2]=M,M=M+4+15&-16}else M=0;while(0);if((B|0)>0)for(b=B+-1|0,e=0;;){if(y=M+(e<<2)|0,y&&(t=x+(e<<2)|0,t=AD[t>>1]|AD[t+2>>1]<<16,xD[y>>1]=t,xD[y+2>>1]=t>>>16),(e|0)==(b|0))break;e=e+1|0}if(!x){x=M;break}CD[5110]=(CD[5110]|0)+1,ww(CD[x+-4>>2]|0),x=M}while(0);if(M=x+(B<<2)|0,M&&(xD[M>>1]=(D&65535)<<16|R&65535,xD[M+2>>1]=((D&65535)<<16|R&65535)>>>16),B=B+1|0,(C|0)<(P|0)){do if((n|0)<(P|0)){if((n|0)>(P|0))e=V;else{do if((V|0)<(P|0)){do if(P){if(CD[5108]=(CD[5108]|0)+1,l=Aw((P<<2|3)+16|0)|0,!l){M=0;break}CD[(l+4+15&-16)+-4>>2]=l,M=l+4+15&-16}else M=0;while(0);if((n|0)>0)for(b=n+-1|0,l=0;;){if(y=M+(l<<2)|0,y&&(CD[y>>2]=CD[m+(l<<2)>>2]),(l|0)==(b|0))break;l=l+1|0}if(!m){e=P;break}CD[5110]=(CD[5110]|0)+1,ww(CD[m+-4>>2]|0),e=P}else M=m,e=V;while(0);for(b=P+-1|0,l=n;;){if(y=M+(l<<2)|0,y&&(CD[y>>2]=0),(l|0)==(b|0)){m=M;break}l=l+1|0}}if((v|0)<(P|0)){do if((s|0)<(P|0)){do if(P){if(CD[5108]=(CD[5108]|0)+1,l=Aw((P<<2|3)+16|0)|0,!l){l=0;break}CD[(l+4+15&-16)+-4>>2]=l,l=l+4+15&-16}else l=0;while(0);if((v|0)>0)for(M=v+-1|0,y=0;;){if(b=l+(y<<2)|0,b&&(CD[b>>2]=CD[i+(y<<2)>>2]),(y|0)==(M|0))break;y=y+1|0}if(!i){y=P;break}CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0),y=P}else y=s,l=i;while(0);for(b=P+-1|0;;){if(M=l+(v<<2)|0,M&&(CD[M>>2]=0),(v|0)==(b|0)){s=y,M=l;break}v=v+1|0}}else M=i;if((P|0)>0&&(t=P<<2,Bw(m|0,-1,t|0)|0,Bw(M|0,-1,t|0)|0),(n|0)<=0){b=m,y=P,v=P;break}for(b=n+-1|0,y=P+-1|0,l=0;;){if(t=m+(((AD[x+(l<<2)+2>>1]<<16)+(xD[x+(l<<2)>>1]|0)&y)<<2)|0,CD[M+(l<<2)>>2]=CD[t>>2],CD[t>>2]=l,(l|0)==(b|0)){b=m,y=P,v=P;break}l=l+1|0}}else b=m,y=n,M=i,e=V;while(0);l=((D&65535)<<16)+(R<<16>>16)&P+-1}else b=m,y=n,M=i,e=V;m=b+(l<<2)|0,CD[M+(k<<2)>>2]=CD[m>>2],CD[m>>2]=k,m=b,n=y,C=P,y=B,b=g}while(0);if((L|0)>=(J|0))break;l=CD[F+36>>2]|0,i=M,k=a,V=e,B=y,g=b,e=L}i=CD[F+28>>2]|0,R=m,l=C,w=r}else x=g,R=m,l=C,w=r;if(N=N+1|0,(N|0)>=(i|0))break;g=x,m=R,C=l,r=w}if((i|0)>0)for(g=CD[F+36>>2]|0,n=CD[F+16>>2]|0,r=i+-1|0,c=0,e=0;;){if(s=CD[g+(e*36|0)+4>>2]|0,a=CD[g+(e*36|0)+12>>2]|0,m=CD[a>>2]|0,(s+-2|0)>=1){_=+RD[F+64>>2],f=+RD[F+68>>2],p=+RD[F+72>>2],l=1;do W=l,l=l+1|0,t=CD[a+(W<<2)>>2]|0,G=CD[a+(((l|0)%(s|0)|0)<<2)>>2]|0,$=+RD[n+(m<<4)>>2],h=+RD[n+(t<<4)>>2],d=+RD[n+(m<<4)+4>>2],S=+RD[n+(t<<4)+4>>2],H=+RD[n+(m<<4)+8>>2],E=+RD[n+(t<<4)+8>>2],u=+RD[n+(G<<4)>>2],T=+RD[n+(G<<4)+4>>2],A=+RD[n+(G<<4)+8>>2],Z=+ND(+((($-h)*(d-T)-(d-S)*($-u))*(($-h)*(d-T)-(d-S)*($-u))+(((d-S)*(H-A)-(H-E)*(d-T))*((d-S)*(H-A)-(H-E)*(d-T))+((H-E)*($-u)-($-h)*(H-A))*((H-E)*($-u)-($-h)*(H-A)))))*.5,_+=($+h+u)*.3333333432674408*Z,RD[F+64>>2]=_,f=(d+S+T)*.3333333432674408*Z+f,RD[F+68>>2]=f,p=Z*(H+E+A)*.3333333432674408+p,RD[F+72>>2]=p,c+=Z;while((W|0)!=(s+-2|0))}if((e|0)==(r|0)){l=1,v=R;break}e=e+1|0}else c=0,l=0,v=R}else c=0,l=0,x=0,v=0,M=0,w=0;if(p=1/c,d=p*+RD[F+64>>2],RD[F+64>>2]=d,c=p*+RD[F+68>>2],RD[F+68>>2]=c,p*=+RD[F+72>>2],RD[F+72>>2]=p,RD[F+96>>2]=3.4028234663852886e38,l){l=CD[F+36>>2]|0,u=3.4028234663852886e38,s=0;do h=+JD(+(+RD[l+(s*36|0)+32>>2]+(+RD[l+(s*36|0)+20>>2]*d+ +RD[l+(s*36|0)+24>>2]*c+ +RD[l+(s*36|0)+28>>2]*p))),h<u&&(RD[F+96>>2]=h,u=h),s=s+1|0;while((s|0)<(i|0))}else u=3.4028234663852886e38;if(l=CD[F+8>>2]|0,(l|0)>0)for(s=CD[F+16>>2]|0,p=-3.4028234663852886e38,f=-3.4028234663852886e38,_=-3.4028234663852886e38,d=3.4028234663852886e38,h=3.4028234663852886e38,c=3.4028234663852886e38,e=0;;){if(Z=+RD[s+(e<<4)>>2],d=Z<d?Z:d,p=Z>p?Z:p,Z=+RD[s+(e<<4)+4>>2],h=Z<h?Z:h,f=Z>f?Z:f,Z=+RD[s+(e<<4)+8>>2],c=Z<c?Z:c,_=Z>_?Z:_,(e|0)==(l+-1|0))break;e=e+1|0}else p=-3.4028234663852886e38,f=-3.4028234663852886e38,_=-3.4028234663852886e38,d=3.4028234663852886e38,h=3.4028234663852886e38,c=3.4028234663852886e38;for(RD[F+100>>2]=p+d,RD[F+104>>2]=f+h,RD[F+108>>2]=c+_,RD[F+112>>2]=0,d=p-d,h=f-h,c=_-c,RD[F+116>>2]=d,RD[F+120>>2]=h,RD[F+124>>2]=c,RD[F+128>>2]=0,p=u/1.7320507764816284,a=d<h?h<c?2:1:d<c?2:0,l=F+116+(a<<2)|0,c=(+RD[l>>2]*.5-p)*.0009765625,RD[F+88>>2]=p,RD[F+84>>2]=p,RD[F+80>>2]=p,h=+RD[l>>2]*.5,l=F+80+(a<<2)|0,RD[l>>2]=h,s=0;;){if(Qv(F)|0){G=495;break}if(h-=c,RD[l>>2]=h,s=s+1|0,(s|0)>=1024){G=494;break}}t:do if((G|0)==494)RD[F+88>>2]=p,RD[F+84>>2]=p,RD[F+80>>2]=p;else if((G|0)==495){for(d=(+RD[F+96>>2]-p)*.0009765625,l=1<<a&3,u=+RD[F+80+((1<<l&3)<<2)>>2],s=0;;){if(h=+RD[F+80+(l<<2)>>2],RD[F+80+(l<<2)>>2]=d+h,c=d+ +RD[F+80+((1<<l&3)<<2)>>2],RD[F+80+((1<<l&3)<<2)>>2]=c,s=s+1|0,!(Qv(F)|0))break;if((s|0)>=1024)break t;u=c}RD[F+80+(l<<2)>>2]=h,RD[F+80+((1<<l&3)<<2)>>2]=u}while(0);if(x&&(CD[5110]=(CD[5110]|0)+1,ww(CD[x+-4>>2]|0)),w&&(CD[5110]=(CD[5110]|0)+1,ww(CD[w+-4>>2]|0)),M&&(CD[5110]=(CD[5110]|0)+1,ww(CD[M+-4>>2]|0)),v&&(CD[5110]=(CD[5110]|0)+1,ww(CD[v+-4>>2]|0)),o&&(CD[5110]=(CD[5110]|0)+1,ww(CD[o+-4>>2]|0)),l=CD[j>>2]|0,(l|0)<=0)i=CD[z>>2]|0,i&&(G=517);else for(i=CD[z>>2]|0,s=0;;){if(o=i+(s*36|0)+4|0,n=i+(s*36|0)+12|0,a=CD[n>>2]|0,r=i+(s*36|0)+16|0,a&&(TD[r>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[a+-4>>2]|0)),CD[n>>2]=0),TD[r>>0]=1,CD[n>>2]=0,CD[o>>2]=0,CD[i+(s*36|0)+8>>2]=0,(s|0)==(l+-1|0)){G=517;break}s=s+1|0}return(G|0)==517&&(TD[Q+320+16>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0)),CD[z>>2]=0),TD[Q+320+16>>0]=1,CD[z>>2]=0,CD[j>>2]=0,CD[Q+320+8>>2]=0,U&&(CD[5110]=(CD[5110]|0)+1,ww(CD[U+-4>>2]|0)),i=CD[X>>2]|0,i&&(TD[Q+100+56>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0)),CD[X>>2]=0),TD[Q+100+56>>0]=1,CD[X>>2]=0,CD[Q+100+44>>2]=0,CD[Q+100+48>>2]=0,i=CD[q>>2]|0,i&&(TD[Q+100+36>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0)),CD[q>>2]=0),TD[Q+100+36>>0]=1,CD[q>>2]=0,CD[Q+100+24>>2]=0,CD[Q+100+28>>2]=0,i=CD[K>>2]|0,i&&(TD[Q+100+16>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0)),CD[K>>2]=0),Y?(CD[5110]=(CD[5110]|0)+1,ww(CD[Y+-4>>2]|0),BD=Q,1):(BD=Q,1)}function Dx(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0;if(d=BD,BD=BD+2048|0,CD[t>>2]=0,CD[t+4>>2]=0,CD[t+8>>2]=0,CD[t+12>>2]=0,r=+RD[i>>2],o=+RD[i+4>>2],n=+RD[i+8>>2],r*r+o*o+n*n<9999999747378752e-20?(h=1,c=0,r=0):(p=1/+ND(+(r*r+o*o+n*n)),h=r*p,c=o*p,r=n*p),(MP[CD[(CD[e>>2]|0)+96>>2]&127](e)|0)<=0)return void(BD=d);l=0,n=-0xde0b6b000000000;do{if(((MP[CD[(CD[e>>2]|0)+96>>2]&127](e)|0)-l|0)<128?(i=(MP[CD[(CD[e>>2]|0)+96>>2]&127](e)|0)-l|0,(i|0)>0?u=7:(o=-3.4028234663852886e38,i=-1)):(i=128,u=7),(u|0)==7){for(u=0,s=i+-1|0,i=0;;){if(QP[CD[(CD[e>>2]|0)+108>>2]&127](e,i,d+(i<<4)|0),(i|0)==(s|0)){a=0,o=-3.4028234663852886e38,i=-1;break}i=i+1|0}for(;;){if(p=h*+RD[d+(a<<4)>>2]+c*+RD[d+(a<<4)+4>>2]+r*+RD[d+(a<<4)+8>>2],f=p>o,i=f?a:i,o=f?p:o,(a|0)==(s|0))break;a=a+1|0}}o>n&&(f=d+(i<<4)|0,CD[t>>2]=CD[f>>2],CD[t+4>>2]=CD[f+4>>2],CD[t+8>>2]=CD[f+8>>2],CD[t+12>>2]=CD[f+12>>2],n=o),l=l+128|0}while((l|0)<(MP[CD[(CD[e>>2]|0)+96>>2]&127](e)|0));BD=d}function Px(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0;return p=BD,BD=BD+96|0,l=CD[t+4>>2]|0,JP[CD[(CD[l>>2]|0)+16>>2]&3](l,p+16|0,p+4|0,p+8|0,p+80|0,p,p+12|0,p+24|0,p+20|0,e),l=CD[p>>2]|0,c=XD(CD[p+12>>2]|0,i)|0,d=CD[t+4>>2]|0,h=(CD[p+8>>2]|0)==0,u=CD[p+16>>2]|0,(CD[p+20>>2]|0)!=3?(a=CD[p+80>>2]|0,s=XD(a,CD[l+(c+8)>>2]|0)|0,h?(o=+RD[u+(s+4)>>2]*+RD[d+8>>2],n=+RD[u+(s+8)>>2]*+RD[d+12>>2],RD[p+32+32>>2]=+RD[u+s>>2]*+RD[d+4>>2],RD[p+32+36>>2]=o,RD[p+32+40>>2]=n,RD[p+32+44>>2]=0,h=XD(a,CD[l+(c+4)>>2]|0)|0,n=+RD[u+(h+4)>>2]*+RD[d+8>>2],o=+RD[u+(h+8)>>2]*+RD[d+12>>2],RD[p+32+16>>2]=+RD[u+h>>2]*+RD[d+4>>2],RD[p+32+20>>2]=n,RD[p+32+24>>2]=o,RD[p+32+28>>2]=0,h=XD(a,CD[l+c>>2]|0)|0,o=+RD[u+(h+4)>>2]*+RD[d+8>>2],n=+RD[u+(h+8)>>2]*+RD[d+12>>2],RD[p+32>>2]=+RD[u+h>>2]*+RD[d+4>>2],RD[p+32+4>>2]=o,RD[p+32+8>>2]=n,RD[p+32+12>>2]=0,d=t+8|0,d=CD[d>>2]|0,u=CD[d>>2]|0,u=u+8|0,u=CD[u>>2]|0,eB[u&127](d,p+32|0,e,i),t=CD[t+4>>2]|0,i=CD[t>>2]|0,i=i+24|0,i=CD[i>>2]|0,bP[i&127](t,e),void(BD=p)):(o=+DD[u+(s+8)>>3]*+RD[d+8>>2],n=+DD[u+(s+16)>>3]*+RD[d+12>>2],RD[p+32+32>>2]=+DD[u+s>>3]*+RD[d+4>>2],RD[p+32+36>>2]=o,RD[p+32+40>>2]=n,RD[p+32+44>>2]=0,h=XD(a,CD[l+(c+4)>>2]|0)|0,n=+DD[u+(h+8)>>3]*+RD[d+8>>2],o=+DD[u+(h+16)>>3]*+RD[d+12>>2],RD[p+32+16>>2]=+DD[u+h>>3]*+RD[d+4>>2],RD[p+32+20>>2]=n,RD[p+32+24>>2]=o,RD[p+32+28>>2]=0,h=XD(a,CD[l+c>>2]|0)|0,o=+DD[u+(h+8)>>3]*+RD[d+8>>2],n=+DD[u+(h+16)>>3]*+RD[d+12>>2],RD[p+32>>2]=+DD[u+h>>3]*+RD[d+4>>2],RD[p+32+4>>2]=o,RD[p+32+8>>2]=n,RD[p+32+12>>2]=0,d=t+8|0,d=CD[d>>2]|0,u=CD[d>>2]|0,u=u+8|0,u=CD[u>>2]|0,eB[u&127](d,p+32|0,e,i),t=CD[t+4>>2]|0,i=CD[t>>2]|0,i=i+24|0,i=CD[i>>2]|0,bP[i&127](t,e),void(BD=p))):(a=CD[p+80>>2]|0,s=XD(a,AD[l+(c+4)>>1]|0)|0,h?(o=+RD[u+(s+8)>>2]*+RD[d+12>>2],r=+RD[u+(s+4)>>2]*+RD[d+8>>2],n=+RD[u+s>>2]*+RD[d+4>>2]):(o=+DD[u+(s+16)>>3]*+RD[d+12>>2],r=+DD[u+(s+8)>>3]*+RD[d+8>>2],n=+DD[u+s>>3]*+RD[d+4>>2]),RD[p+32+32>>2]=n,RD[p+32+36>>2]=r,RD[p+32+40>>2]=o,RD[p+32+44>>2]=0,s=XD(a,AD[l+(c+2)>>1]|0)|0,h?(o=+RD[u+(s+8)>>2]*+RD[d+12>>2],r=+RD[u+(s+4)>>2]*+RD[d+8>>2],n=+RD[u+s>>2]*+RD[d+4>>2]):(o=+DD[u+(s+16)>>3]*+RD[d+12>>2],r=+DD[u+(s+8)>>3]*+RD[d+8>>2],n=+DD[u+s>>3]*+RD[d+4>>2]),RD[p+32+16>>2]=n,RD[p+32+20>>2]=r,RD[p+32+24>>2]=o,RD[p+32+28>>2]=0,a=XD(a,AD[l+c>>1]|0)|0,h?(o=+RD[u+(a+8)>>2]*+RD[d+12>>2],n=+RD[u+(a+4)>>2]*+RD[d+8>>2],r=+RD[u+a>>2]*+RD[d+4>>2]):(o=+DD[u+(a+16)>>3]*+RD[d+12>>2],n=+DD[u+(a+8)>>3]*+RD[d+8>>2],r=+DD[u+a>>3]*+RD[d+4>>2]),RD[p+32>>2]=r,RD[p+32+4>>2]=n,RD[p+32+8>>2]=o,RD[p+32+12>>2]=0,d=t+8|0,d=CD[d>>2]|0,u=CD[d>>2]|0,u=u+8|0,u=CD[u>>2]|0,eB[u&127](d,p+32|0,e,i),t=CD[t+4>>2]|0,i=CD[t>>2]|0,i=i+24|0,i=CD[i>>2]|0,bP[i&127](t,e),void(BD=p))
}function Bx(t){t|=0,ww(t)}function Vx(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0;for(p=BD,BD=BD+96|0,h=CD[t+4>>2]|0,JP[CD[(CD[h>>2]|0)+16>>2]&3](h,p+16|0,p+4|0,p+8|0,p+80|0,p,p+12|0,p+24|0,p+20|0,e),h=(CD[p>>2]|0)+(XD(CD[p+12>>2]|0,i)|0)|0,u=CD[t+4>>2]|0,s=(CD[p+20>>2]|0)==3,l=(CD[p+8>>2]|0)==0,c=CD[p+16>>2]|0,d=2;;){if(r=s?AD[h+(d<<1)>>1]|0:CD[h+(d<<2)>>2]|0,r=XD(CD[p+80>>2]|0,r)|0,l?(n=+RD[c+(r+8)>>2]*+RD[u+12>>2],a=+RD[c+r>>2]*+RD[u+4>>2],o=+RD[c+(r+4)>>2]*+RD[u+8>>2]):(n=+DD[c+(r+16)>>3]*+RD[u+12>>2],a=+DD[c+r>>3]*+RD[u+4>>2],o=+DD[c+(r+8)>>3]*+RD[u+8>>2]),RD[p+32+(d<<4)>>2]=a,RD[p+32+(d<<4)+4>>2]=o,RD[p+32+(d<<4)+8>>2]=n,RD[p+32+(d<<4)+12>>2]=0,!((d|0)>0))break;d=d+-1|0}d=CD[t+8>>2]|0,eB[CD[(CD[d>>2]|0)+8>>2]&127](d,p+32|0,e,i),t=CD[t+4>>2]|0,bP[CD[(CD[t>>2]|0)+24>>2]&127](t,e),BD=p}function Lx(t){t|=0,ww(t)}function kx(t){return t|=0,12}function Hx(t){return t|=0,12944}function Ix(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0;s=+RD[t+88>>2],l=+RD[t+92>>2],a=+RD[t+96>>2],o=s*+RD[e>>2]+l*+RD[e+4>>2]+a*+RD[e+8>>2],n=+RD[t+84>>2],o>n?(RD[t+84>>2]=o,CD[t+4>>2]=CD[e>>2],CD[t+4+4>>2]=CD[e+4>>2],CD[t+4+8>>2]=CD[e+8>>2],CD[t+4+12>>2]=CD[e+12>>2]):o=n,n=s*+RD[e+16>>2]+l*+RD[e+20>>2]+a*+RD[e+24>>2],n>o?(RD[t+84>>2]=n,CD[t+4>>2]=CD[e+16>>2],CD[t+4+4>>2]=CD[e+16+4>>2],CD[t+4+8>>2]=CD[e+16+8>>2],CD[t+4+12>>2]=CD[e+16+12>>2]):n=o,o=s*+RD[e+32>>2]+l*+RD[e+36>>2]+a*+RD[e+40>>2],o>n&&(RD[t+84>>2]=o,CD[t+4>>2]=CD[e+32>>2],CD[t+4+4>>2]=CD[e+32+4>>2],CD[t+4+8>>2]=CD[e+32+8>>2],CD[t+4+12>>2]=CD[e+32+12>>2])}function Ox(t){t|=0,ww(t)}function Jx(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0;o=+RD[e>>2],n=+RD[e+16>>2],s=o<n?o:n,a=+RD[e+32>>2],(s<a?s:a)>+RD[t+24>>2]||(l=o>n?e:e+16|0,+RD[(+RD[l>>2]>a?l:e+32|0)>>2]<+RD[t+8>>2]||(n=+RD[e+8>>2],o=+RD[e+24>>2],s=n<o?n:o,a=+RD[e+40>>2],(s<a?s:a)>+RD[t+32>>2]||(l=n>o?e+8|0:e+24|0,+RD[(+RD[l>>2]>a?l:e+40|0)>>2]<+RD[t+16>>2]||(a=+RD[e+4>>2],n=+RD[e+20>>2],s=a<n?a:n,o=+RD[e+36>>2],(s<o?s:o)>+RD[t+28>>2]||(l=a>n?e+4|0:e+20|0,+RD[(+RD[l>>2]>o?l:e+36|0)>>2]<+RD[t+12>>2]||(t=CD[t+4>>2]|0,eB[CD[(CD[t>>2]|0)+8>>2]&127](t,e,i,r)))))))}function Nx(t){t|=0,ww(t)}function Fx(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0;return r=NP[CD[(CD[i>>2]|0)+40>>2]&31](i,t)|0,o=NP[CD[(CD[i>>2]|0)+28>>2]&31](i,r)|0,CD[e>>2]=o,o&&bP[CD[(CD[i>>2]|0)+48>>2]&127](i,r),CD[e+4>>2]=CD[t+4>>2],RD[e+12>>2]=+RD[t+68>>2],RD[e+16>>2]=+RD[t+72>>2],RD[e+20>>2]=+RD[t+76>>2],RD[e+24>>2]=+RD[t+80>>2],RD[e+28>>2]=+RD[t+48>>2],RD[e+32>>2]=+RD[t+52>>2],RD[e+36>>2]=+RD[t+56>>2],RD[e+40>>2]=+RD[t+60>>2],RD[e+44>>2]=+RD[t+64>>2],13288}function Gx(t){return t|=0,52}function zx(t){return t|=0,13312}function jx(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0;for(b=BD,BD=BD+32|0,_=CD[t+12>>2]|0,m=+RD[_+(((r+i|0)/2|0)*24|0)>>2],g=+RD[_+(((r+i|0)/2|0)*24|0)+4>>2],y=+RD[_+(((r+i|0)/2|0)*24|0)+8>>2],p=+RD[_+(((r+i|0)/2|0)*24|0)+16>>2],f=CD[_+(((r+i|0)/2|0)*24|0)+20>>2]|0,o=i,n=r;;){c=+RD[e>>2],h=+RD[e+4>>2],u=+RD[e+8>>2],d=(m-c)*(m-c)+(g-h)*(g-h)+(y-u)*(y-u);t:for(;;){a=+RD[_+(o*24|0)+16>>2];do{if(a==p){if(a=+RD[_+(o*24|0)>>2]-c,s=+RD[_+(o*24|0)+4>>2]-h,l=+RD[_+(o*24|0)+8>>2]-u,a*a+s*s+l*l!=d){if(a*a+s*s+l*l<d)break;break t}if((CD[_+(o*24|0)+20>>2]|0)<(f|0))break;break t}if(!(a<p))break t}while(0);o=o+1|0}t:for(;;){a=+RD[_+(n*24|0)+16>>2];do{if(p==a){if(l=+RD[_+(n*24|0)>>2]-c,s=+RD[_+(n*24|0)+4>>2]-h,a=+RD[_+(n*24|0)+8>>2]-u,d!=l*l+s*s+a*a){if(d<l*l+s*s+a*a)break;break t}if((f|0)<(CD[_+(n*24|0)+20>>2]|0))break;break t}if(!(p<a))break t}while(0);n=n+-1|0}if((o|0)<=(n|0)&&(v=_+(o*24|0)|0,CD[b>>2]=CD[v>>2],CD[b+4>>2]=CD[v+4>>2],CD[b+8>>2]=CD[v+8>>2],CD[b+12>>2]=CD[v+12>>2],CD[b+16>>2]=CD[v+16>>2],CD[b+20>>2]=CD[v+20>>2],_=_+(n*24|0)|0,CD[v>>2]=CD[_>>2],CD[v+4>>2]=CD[_+4>>2],CD[v+8>>2]=CD[_+8>>2],CD[v+12>>2]=CD[_+12>>2],CD[v+16>>2]=CD[_+16>>2],CD[v+20>>2]=CD[_+20>>2],_=(CD[t+12>>2]|0)+(n*24|0)|0,CD[_>>2]=CD[b>>2],CD[_+4>>2]=CD[b+4>>2],CD[_+8>>2]=CD[b+8>>2],CD[_+12>>2]=CD[b+12>>2],CD[_+16>>2]=CD[b+16>>2],CD[_+20>>2]=CD[b+20>>2],o=o+1|0,n=n+-1|0),(o|0)>(n|0))break;_=CD[t+12>>2]|0}return(n|0)>(i|0)&&jx(t,e,i,n),(o|0)>=(r|0)?void(BD=b):(jx(t,e,o,r),void(BD=b))}function Ux(t){return t|=0,68}function Wx(t){return t|=0,14e3}function Xx(t){t|=0;var e=0,i=0;CD[t>>2]=13808,e=CD[t+104>>2]|0,e&&(TD[t+108>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+104>>2]=0),TD[t+108>>0]=1,CD[t+104>>2]=0,CD[t+96>>2]=0,CD[t+100>>2]=0,CD[t>>2]=13336,e=CD[t+52>>2]|0,((e|0)!=0?(gP[CD[CD[e>>2]>>2]&255](e),i=CD[t+52>>2]|0,(i|0)!=0):0)&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0)),CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0)}function qx(t){t|=0;var e=0;CD[t>>2]=13808,e=CD[t+104>>2]|0,e&&(TD[t+108>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+104>>2]=0),TD[t+108>>0]=1,CD[t+104>>2]=0,CD[t+96>>2]=0,CD[t+100>>2]=0,CD[t>>2]=13336,e=CD[t+52>>2]|0,e&&(gP[CD[CD[e>>2]>>2]&255](e),e=CD[t+52>>2]|0,e&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)))}function Kx(t){return t|=0,14520}function Yx(t){t|=0,t&&(CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0))}function Qx(t){return t|=0,14536}function Zx(t){t|=0,t&&(CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0))}function $x(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0;return r=NP[CD[(CD[i>>2]|0)+40>>2]&31](i,t)|0,o=NP[CD[(CD[i>>2]|0)+28>>2]&31](i,r)|0,CD[e>>2]=o,o&&bP[CD[(CD[i>>2]|0)+48>>2]&127](i,r),CD[e+4>>2]=CD[t+4>>2],RD[e+28>>2]=+RD[t+28>>2],RD[e+32>>2]=+RD[t+32>>2],RD[e+36>>2]=+RD[t+36>>2],RD[e+40>>2]=+RD[t+40>>2],RD[e+12>>2]=+RD[t+12>>2],RD[e+16>>2]=+RD[t+16>>2],RD[e+20>>2]=+RD[t+20>>2],RD[e+24>>2]=+RD[t+24>>2],RD[e+44>>2]=+RD[t+44>>2],CD[e+52>>2]=CD[t+52>>2],14552}function tC(t){return t|=0,60}function eC(t,e){t|=0,e=+e;var i=0,r=0,o=0,n=0,a=0;n=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),r=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),a=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),n+=+RD[t+28>>2],r+=+RD[t+32>>2],a+=+RD[t+36>>2],RD[t+44>>2]=e,o=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),i=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),e=a-+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),RD[t+28>>2]=n-o,RD[t+32>>2]=r-i,RD[t+36>>2]=e,RD[t+40>>2]=0}function iC(t,e){t|=0,e|=0,CD[t>>2]=0,CD[t+4>>2]=0,CD[t+8>>2]=0,CD[t+12>>2]=0,RD[t+(CD[e+52>>2]<<2)>>2]=1}function rC(t){return t|=0,14576}function oC(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0;l=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),n=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),i=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),h=(l+ +RD[t+28>>2])/+RD[t+12>>2],s=(n+ +RD[t+32>>2])/+RD[t+16>>2],o=(i+ +RD[t+36>>2])/+RD[t+20>>2],c=+JD(+ +RD[e>>2]),a=+JD(+ +RD[e+4>>2]),r=+JD(+ +RD[e+8>>2]),RD[t+12>>2]=c,RD[t+16>>2]=a,RD[t+20>>2]=r,RD[t+24>>2]=0,RD[t+28>>2]=h*c-l,RD[t+32>>2]=s*a-n,RD[t+36>>2]=o*r-i,RD[t+40>>2]=0}function nC(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0;o=BD,BD=BD+16|0,v=CD[t+52>>2]|0,s=+RD[t+28+(((v+2|0)%3|0)<<2)>>2],RD[o>>2]=s,RD[o+4>>2]=s,RD[o+8>>2]=s,RD[o+12>>2]=0,RD[o+(v<<2)>>2]=s+ +RD[t+28+(v<<2)>>2],s=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),n=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),h=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),s+=+RD[o>>2],RD[o>>2]=s,n+=+RD[o+4>>2],RD[o+4>>2]=n,h+=+RD[o+8>>2],g=+JD(+ +RD[e>>2]),m=+JD(+ +RD[e+4>>2]),y=+JD(+ +RD[e+8>>2]),p=+JD(+ +RD[e+16>>2]),d=+JD(+ +RD[e+20>>2]),f=+JD(+ +RD[e+24>>2]),l=+JD(+ +RD[e+32>>2]),a=+JD(+ +RD[e+36>>2]),c=+JD(+ +RD[e+40>>2]),b=+RD[e+48>>2],_=+RD[e+52>>2],u=+RD[e+56>>2],RD[i>>2]=b-(h*y+(g*s+m*n)),RD[i+4>>2]=_-(h*f+(p*s+d*n)),RD[i+8>>2]=u-(h*c+(l*s+a*n)),RD[i+12>>2]=0,RD[r>>2]=b+(h*y+(g*s+m*n)),RD[r+4>>2]=_+(h*f+(p*s+d*n)),RD[r+8>>2]=u+(h*c+(l*s+a*n)),RD[r+12>>2]=0,BD=o}function aC(t){t|=0,t&&(CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0))}function sC(t){return t|=0,14776}function lC(t){t|=0;var e=0,i=0;CD[t>>2]=13336,e=CD[t+52>>2]|0,((e|0)!=0?(gP[CD[CD[e>>2]>>2]&255](e),i=CD[t+52>>2]|0,(i|0)!=0):0)&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0)),CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0)}function cC(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0;s=+RD[t+24>>2],l=+RD[t+28>>2],a=+RD[t+32>>2],o=s*+RD[e>>2]+l*+RD[e+4>>2]+a*+RD[e+8>>2],n=+RD[t+20>>2],o>n?(RD[t+20>>2]=o,CD[t+4>>2]=CD[e>>2],CD[t+4+4>>2]=CD[e+4>>2],CD[t+4+8>>2]=CD[e+8>>2],CD[t+4+12>>2]=CD[e+12>>2]):o=n,n=s*+RD[e+16>>2]+l*+RD[e+20>>2]+a*+RD[e+24>>2],n>o?(RD[t+20>>2]=n,CD[t+4>>2]=CD[e+16>>2],CD[t+4+4>>2]=CD[e+16+4>>2],CD[t+4+8>>2]=CD[e+16+8>>2],CD[t+4+12>>2]=CD[e+16+12>>2]):n=o,o=s*+RD[e+32>>2]+l*+RD[e+36>>2]+a*+RD[e+40>>2],o>n&&(RD[t+20>>2]=o,CD[t+4>>2]=CD[e+32>>2],CD[t+4+4>>2]=CD[e+32+4>>2],CD[t+4+8>>2]=CD[e+32+8>>2],CD[t+4+12>>2]=CD[e+32+12>>2])}function hC(t){t|=0,ww(t)}function uC(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0;switch(o=+RD[t+28>>2],n=+RD[t+32>>2],r=+RD[t+36>>2],i|0){case 5:return RD[e>>2]=0,RD[e+4>>2]=0,RD[e+8>>2]=-1,void(RD[e+12>>2]=-r);case 4:return RD[e>>2]=0,RD[e+4>>2]=0,RD[e+8>>2]=1,void(RD[e+12>>2]=-r);case 2:return RD[e>>2]=0,RD[e+4>>2]=1,RD[e+8>>2]=0,void(RD[e+12>>2]=-n);case 0:return RD[e>>2]=1,RD[e+4>>2]=0,RD[e+8>>2]=0,void(RD[e+12>>2]=-o);case 3:return RD[e>>2]=0,RD[e+4>>2]=-1,RD[e+8>>2]=0,void(RD[e+12>>2]=-n);case 1:return RD[e>>2]=-1,RD[e+4>>2]=0,RD[e+8>>2]=0,void(RD[e+12>>2]=-o);default:return}}function dC(t,e,i){t|=0,e|=0,i=+i;var r=0,o=0,n=0,a=0;return o=+RD[t+28>>2],n=+RD[t+32>>2],a=+RD[t+36>>2],r=+RD[e>>2],r<=o+i&&r>=-o-i?(r=+RD[e+4>>2],r<=n+i&&r>=-n-i?(r=+RD[e+8>>2],r<=a+i?(e=r>=-a-i,e|0):(e=0,e|0)):(e=0,e|0)):(e=0,e|0)}function pC(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0;o=BD,BD=BD+48|0,QP[CD[(CD[t>>2]|0)+124>>2]&127](t,o+32|0,r),s=+RD[o+32>>2],a=+RD[o+32+4>>2],n=+RD[o+32+8>>2],RD[e>>2]=s,RD[e+4>>2]=a,RD[e+8>>2]=n,RD[e+12>>2]=0,e=CD[(CD[t>>2]|0)+64>>2]|0,RD[o>>2]=-s,RD[o+4>>2]=-a,RD[o+8>>2]=-n,RD[o+12>>2]=0,QP[e&127](o+16|0,t,o),CD[i>>2]=CD[o+16>>2],CD[i+4>>2]=CD[o+16+4>>2],CD[i+8>>2]=CD[o+16+8>>2],CD[i+12>>2]=CD[o+16+12>>2],BD=o}function fC(t){return t|=0,6}function _C(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0;s=+RD[t+28>>2],n=+RD[t+32>>2],r=+RD[t+36>>2],a=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),o=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),r+=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),RD[i>>2]=+(e&1^1|0)*(s+a)-+(e&1|0)*(s+a),RD[i+4>>2]=+(e>>>1&1^1|0)*(n+o)-+(e>>>1&1|0)*(n+o),RD[i+8>>2]=+(e>>>2&1^1|0)*r-+(e>>>2&1|0)*r,RD[i+12>>2]=0}function mC(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;do switch(e|0){case 6:o=2;break;case 4:o=0;break;case 11:o=6,e=7;break;case 3:o=2;break;case 8:o=4,e=5;break;case 5:o=1;break;case 2:o=1,e=3;break;case 7:o=3;break;case 9:o=4,e=6;break;case 0:o=0,e=1;break;case 1:o=0,e=2;break;case 10:o=5,e=7;break;default:o=0,e=0}while(0);QP[CD[(CD[t>>2]|0)+108>>2]&127](t,o,i),QP[CD[(CD[t>>2]|0)+108>>2]&127](t,e,r)}function gC(t){return t|=0,12}function yC(t){return t|=0,8}function bC(t,e,i){switch(t|=0,e|=0,i|=0,e|0){case 5:return RD[i>>2]=0,RD[i+4>>2]=0,RD[i+8>>2]=-1,void(RD[i+12>>2]=0);case 0:return RD[i>>2]=1,RD[i+4>>2]=0,RD[i+8>>2]=0,void(RD[i+12>>2]=0);case 3:return RD[i>>2]=0,RD[i+4>>2]=-1,RD[i+8>>2]=0,void(RD[i+12>>2]=0);case 4:return RD[i>>2]=0,RD[i+4>>2]=0,RD[i+8>>2]=1,void(RD[i+12>>2]=0);case 2:return RD[i>>2]=0,RD[i+4>>2]=1,RD[i+8>>2]=0,void(RD[i+12>>2]=0);case 1:return RD[i>>2]=-1,RD[i+4>>2]=0,RD[i+8>>2]=0,void(RD[i+12>>2]=0);default:return}}function vC(t){return t|=0,6}function MC(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0;if(!((r|0)<=0))for(o=0;;){if(s=+RD[t+28>>2],a=+RD[t+32>>2],a=+RD[e+(o<<4)+4>>2]>=0?a:-a,n=+RD[t+36>>2],n=+RD[e+(o<<4)+8>>2]>=0?n:-n,RD[i+(o<<4)>>2]=+RD[e+(o<<4)>>2]>=0?s:-s,RD[i+(o<<4)+4>>2]=a,RD[i+(o<<4)+8>>2]=n,RD[i+(o<<4)+12>>2]=0,(o|0)==(r+-1|0))break;o=o+1|0}}function SC(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0;n=+RD[e+28>>2],o=+RD[e+32>>2],o=+RD[i+4>>2]>=0?o:-o,r=+RD[e+36>>2],r=+RD[i+8>>2]>=0?r:-r,RD[t>>2]=+RD[i>>2]>=0?n:-n,RD[t+4>>2]=o,RD[t+8>>2]=r,RD[t+12>>2]=0}function TC(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0;a=+RD[e+28>>2],s=+RD[e+32>>2],r=+RD[e+36>>2],n=+VP[CD[(CD[e>>2]|0)+48>>2]&15](e),o=+VP[CD[(CD[e>>2]|0)+48>>2]&15](e),r+=+VP[CD[(CD[e>>2]|0)+48>>2]&15](e),o=+RD[i+4>>2]>=0?s+o:-(s+o),r=+RD[i+8>>2]>=0?r:-r,RD[t>>2]=+RD[i>>2]>=0?a+n:-(a+n),RD[t+4>>2]=o,RD[t+8>>2]=r,RD[t+12>>2]=0}function xC(t){return t|=0,15072}function CC(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0;l=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),n=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),i=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),h=(l+ +RD[t+28>>2])/+RD[t+12>>2],s=(n+ +RD[t+32>>2])/+RD[t+16>>2],o=(i+ +RD[t+36>>2])/+RD[t+20>>2],c=+JD(+ +RD[e>>2]),a=+JD(+ +RD[e+4>>2]),r=+JD(+ +RD[e+8>>2]),RD[t+12>>2]=c,RD[t+16>>2]=a,RD[t+20>>2]=r,RD[t+24>>2]=0,RD[t+28>>2]=h*c-l,RD[t+32>>2]=s*a-n,RD[t+36>>2]=o*r-i,RD[t+40>>2]=0}function EC(t){t|=0;var e=0,i=0;CD[t>>2]=13336,e=CD[t+52>>2]|0,((e|0)!=0?(gP[CD[CD[e>>2]>>2]&255](e),i=CD[t+52>>2]|0,(i|0)!=0):0)&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0)),CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0)}function AC(t,e,i,r){return t|=0,e|=0,i|=0,r|=0,kf(t,e,i,r)|0,1}function wC(t){return t|=0,84}function RC(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0;if(o=+RD[e>>2],n=o<0xde0b6b000000000?o:0xde0b6b000000000,a=+RD[e+4>>2],l=a<0xde0b6b000000000?a:0xde0b6b000000000,h=+RD[e+8>>2],s=h<0xde0b6b000000000?h:0xde0b6b000000000,o=o>-0xde0b6b000000000?o:-0xde0b6b000000000,a=a>-0xde0b6b000000000?a:-0xde0b6b000000000,h=h>-0xde0b6b000000000?h:-0xde0b6b000000000,b=+RD[e+16>>2],n=b<n?b:n,v=+RD[e+20>>2],l=v<l?v:l,M=+RD[e+24>>2],s=M<s?M:s,o=o<b?b:o,a=a<v?v:a,h=h<M?M:h,M=+RD[e+32>>2],n=M<n?M:n,v=+RD[e+36>>2],l=v<l?v:l,b=+RD[e+40>>2],s=b<s?b:s,o=o<M?M:o,a=a<v?v:a,h=h<b?b:h,o-n<.0020000000949949026&&(o+=.0010000000474974513,n+=-.0010000000474974513),a-l<.0020000000949949026&&(a+=.0010000000474974513,l+=-.0010000000474974513),h-s<.0020000000949949026&&(h+=.0010000000474974513,s+=-.0010000000474974513),g=CD[t+8>>2]|0,x=+RD[g+4>>2],S=+RD[g+8>>2],v=+RD[g+12>>2],T=+RD[g+36>>2],b=+RD[g+40>>2],M=+RD[g+44>>2],g=~~((n-x)*T)&65534,m=~~((l-S)*b)&65534,_=~~((s-v)*M)&65534,f=(~~((o-x)*T+1)&65535|1)&65535,p=(~~((a-S)*b+1)&65535|1)&65535,d=(~~((h-v)*M+1)&65535|1)&65535,t=CD[t+4>>2]|0,e=CD[t+4>>2]|0,(e|0)==(CD[t+8>>2]|0)?(y=(e|0)==0?1:e<<1,(e|0)<(y|0)):0){if(y?(CD[5108]=(CD[5108]|0)+1,e=Aw((y<<4|3)+16|0)|0,e?(CD[(e+4+15&-16)+-4>>2]=e,e=e+4+15&-16):e=0,u=e,e=CD[t+4>>2]|0):u=0,(e|0)>0)for(e=e+-1|0,c=0;;){if(C=u+(c<<4)|0,E=(CD[t+12>>2]|0)+(c<<4)|0,CD[C>>2]=CD[E>>2],CD[C+4>>2]=CD[E+4>>2],CD[C+8>>2]=CD[E+8>>2],CD[C+12>>2]=CD[E+12>>2],(c|0)==(e|0))break;c=c+1|0}e=CD[t+12>>2]|0,e&&(TD[t+16>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+12>>2]=0),TD[t+16>>0]=1,CD[t+12>>2]=u,CD[t+8>>2]=y,e=CD[t+4>>2]|0}E=CD[t+12>>2]|0,xD[E+(e<<4)>>1]=g,xD[E+(e<<4)+2>>1]=m,xD[E+(e<<4)+4>>1]=_,xD[E+(e<<4)+6>>1]=f,xD[E+(e<<4)+8>>1]=p,xD[E+(e<<4)+10>>1]=d,CD[E+(e<<4)+12>>2]=i<<21|r,CD[t+4>>2]=(CD[t+4>>2]|0)+1}function DC(t){t|=0,ww(t)}function PC(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0;if(y=BD,BD=BD+32|0,u=+RD[e>>2],_=u<0xde0b6b000000000?u:0xde0b6b000000000,d=+RD[e+4>>2],m=d<0xde0b6b000000000?d:0xde0b6b000000000,p=+RD[e+8>>2],g=p<0xde0b6b000000000?p:0xde0b6b000000000,f=+RD[e+12>>2],h=f<0?f:0,u=u>-0xde0b6b000000000?u:-0xde0b6b000000000,d=d>-0xde0b6b000000000?d:-0xde0b6b000000000,p=p>-0xde0b6b000000000?p:-0xde0b6b000000000,f=f>0?f:0,b=+RD[e+16>>2],_=b<_?b:_,v=+RD[e+20>>2],m=v<m?v:m,M=+RD[e+24>>2],g=M<g?M:g,S=+RD[e+28>>2],h=S<h?S:h,u=u<b?b:u,d=d<v?v:d,p=p<M?M:p,f=f<S?S:f,S=+RD[e+32>>2],_=S<_?S:_,M=+RD[e+36>>2],m=M<m?M:m,v=+RD[e+40>>2],g=v<g?v:g,b=+RD[e+44>>2],h=b<h?b:h,u=u<S?S:u,d=d<M?M:d,p=p<v?v:p,f=f<b?b:f,l=CD[t+4>>2]|0,e=CD[l+4>>2]|0,(e|0)==(CD[l+8>>2]|0)?(c=(e|0)==0?1:e<<1,(e|0)<(c|0)):0){if(c?(CD[5108]=(CD[5108]|0)+1,e=Aw(c<<6|19)|0,e?(CD[(e+4+15&-16)+-4>>2]=e,e=e+4+15&-16):e=0,s=e,e=CD[l+4>>2]|0):s=0,(e|0)>0)for(t=e+-1|0,e=0;;){o=s+(e<<6)|0,n=(CD[l+12>>2]|0)+(e<<6)|0,a=o+64|0;do CD[o>>2]=CD[n>>2],o=o+4|0,n=n+4|0;while((o|0)<(a|0));if((e|0)==(t|0))break;e=e+1|0}t=CD[l+12>>2]|0,t&&(TD[l+16>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0)),CD[l+12>>2]=0),TD[l+16>>0]=1,CD[l+12>>2]=s,CD[l+8>>2]=c,e=CD[l+4>>2]|0}c=CD[l+12>>2]|0,RD[c+(e<<6)>>2]=_,RD[c+(e<<6)+4>>2]=m,RD[c+(e<<6)+8>>2]=g,RD[c+(e<<6)+12>>2]=h,RD[c+(e<<6)+16>>2]=u,RD[c+(e<<6)+20>>2]=d,RD[c+(e<<6)+24>>2]=p,RD[c+(e<<6)+28>>2]=f,CD[c+(e<<6)+32>>2]=-1,CD[c+(e<<6)+36>>2]=i,CD[c+(e<<6)+40>>2]=r,c=c+(e<<6)+44|0,CD[c>>2]=CD[y>>2],CD[c+4>>2]=CD[y+4>>2],CD[c+8>>2]=CD[y+8>>2],CD[c+12>>2]=CD[y+12>>2],CD[c+16>>2]=CD[y+16>>2],CD[l+4>>2]=(CD[l+4>>2]|0)+1,BD=y}function BC(t){t|=0,ww(t)}function VC(t){t|=0;var e=0,i=0;return i=+RD[t+28>>2],e=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),+(i+e)}function LC(t){return t|=0,15872}function kC(t){t|=0,t&&(CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0))}function HC(t){t|=0;var e=0,i=0;return i=+RD[t+32>>2],+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),e=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),+(i+e)}function IC(t){return t|=0,15888}function OC(t){t|=0,t&&(CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0))}function JC(t){t|=0;var e=0,i=0;return i=+RD[t+28>>2],e=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),+(i+e)}function NC(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0;return r=BD,BD=BD+16|0,QP[CD[(CD[e>>2]|0)+68>>2]&127](r,e,i),CD[t>>2]=CD[r>>2],CD[t+4>>2]=CD[r+4>>2],CD[t+8>>2]=CD[r+8>>2],CD[t+12>>2]=CD[r+12>>2],+VP[CD[(CD[e>>2]|0)+48>>2]&15](e)==0?void(BD=r):(l=+RD[i>>2],a=+RD[i+4>>2],n=+RD[i+8>>2],o=l*l+a*a+n*n<1.4210854715202004e-14?-1:n,s=l*l+a*a+n*n<1.4210854715202004e-14?-1:a,l=l*l+a*a+n*n<1.4210854715202004e-14?-1:l,n=1/+ND(+(o*o+(l*l+s*s))),a=+VP[CD[(CD[e>>2]|0)+48>>2]&15](e),RD[t>>2]=n*l*a+ +RD[t>>2],RD[t+4>>2]=a*n*s+ +RD[t+4>>2],RD[t+8>>2]=a*n*o+ +RD[t+8>>2],void(BD=r))}function FC(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0;return r=NP[CD[(CD[i>>2]|0)+40>>2]&31](i,t)|0,o=NP[CD[(CD[i>>2]|0)+28>>2]&31](i,r)|0,CD[e>>2]=o,o&&bP[CD[(CD[i>>2]|0)+48>>2]&127](i,r),CD[e+4>>2]=CD[t+4>>2],RD[e+28>>2]=+RD[t+28>>2],RD[e+32>>2]=+RD[t+32>>2],RD[e+36>>2]=+RD[t+36>>2],RD[e+40>>2]=+RD[t+40>>2],RD[e+12>>2]=+RD[t+12>>2],RD[e+16>>2]=+RD[t+16>>2],RD[e+20>>2]=+RD[t+20>>2],RD[e+24>>2]=+RD[t+24>>2],RD[e+44>>2]=+RD[t+44>>2],CD[e+52>>2]=CD[t+52>>2],15904}function GC(t){return t|=0,60}function zC(t,e){t|=0,e|=0,CD[t>>2]=0,CD[t+4>>2]=0,CD[t+8>>2]=0,CD[t+12>>2]=0,RD[t+(CD[e+52>>2]<<2)>>2]=1}function jC(t){return t|=0,15928}function UC(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0;l=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),n=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),i=+VP[CD[(CD[t>>2]|0)+48>>2]&15](t),h=(l+ +RD[t+28>>2])/+RD[t+12>>2],s=(n+ +RD[t+32>>2])/+RD[t+16>>2],o=(i+ +RD[t+36>>2])/+RD[t+20>>2],c=+JD(+ +RD[e>>2]),a=+JD(+ +RD[e+4>>2]),r=+JD(+ +RD[e+8>>2]),RD[t+12>>2]=c,RD[t+16>>2]=a,RD[t+20>>2]=r,RD[t+24>>2]=0,RD[t+28>>2]=h*c-l,RD[t+32>>2]=s*a-n,RD[t+36>>2]=o*r-i,RD[t+40>>2]=0}function WC(t){t|=0,t&&(CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0))}function XC(t){return t|=0,28}function qC(t){return t|=0,CD[t+24>>2]|0}function KC(t,e){t|=0,e|=0}function YC(t,e){t|=0,e|=0}function QC(t){t|=0,ZC(t),t&&(CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0))}function ZC(t){t|=0;var e=0;return CD[t>>2]=15952,e=CD[t+156>>2]|0,e&&(TD[t+160>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+156>>2]=0),TD[t+160>>0]=1,CD[t+156>>2]=0,CD[t+148>>2]=0,CD[t+152>>2]=0,e=CD[t+136>>2]|0,e&&(TD[t+140>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+136>>2]=0),TD[t+140>>0]=1,CD[t+136>>2]=0,CD[t+128>>2]=0,CD[t+132>>2]=0,e=CD[t+116>>2]|0,e&&(TD[t+120>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+116>>2]=0),TD[t+120>>0]=1,CD[t+116>>2]=0,CD[t+108>>2]=0,CD[t+112>>2]=0,e=CD[t+96>>2]|0,e&&(TD[t+100>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+96>>2]=0),TD[t+100>>0]=1,CD[t+96>>2]=0,CD[t+88>>2]=0,CD[t+92>>2]=0,CD[t>>2]=20040,(e=CD[t+32>>2]|0)?(TD[t+36>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+32>>2]=0,TD[t+36>>0]=1,CD[t+32>>2]=0,CD[t+24>>2]=0,t=t+28|0,void(CD[t>>2]=0)):(TD[t+36>>0]=1,CD[t+32>>2]=0,CD[t+24>>2]=0,t=t+28|0,void(CD[t>>2]=0))}function $C(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0;if(a=CD[t+4>>2]|0,!((a|0)<=(e|0)&(a|0)<(e|0)))return void(CD[t+4>>2]=e);if((CD[t+8>>2]|0)<(e|0)){if(e?(CD[5108]=(CD[5108]|0)+1,r=Aw((e<<4|3)+16|0)|0,r?(CD[(r+4+15&-16)+-4>>2]=r,r=r+4+15&-16):r=0,o=CD[t+4>>2]|0):(r=0,o=a),(o|0)>0)for(o=o+-1|0,n=0;;){if(s=CD[t+12>>2]|0,CD[r+(n<<4)>>2]=CD[s+(n<<4)>>2],CD[r+(n<<4)+4>>2]=CD[s+(n<<4)+4>>2],CD[r+(n<<4)+8>>2]=CD[s+(n<<4)+8>>2],CD[r+(n<<4)+12>>2]=CD[s+(n<<4)+12>>2],(n|0)==(o|0))break;n=n+1|0}o=CD[t+12>>2]|0,o&&(TD[t+16>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[o+-4>>2]|0)),CD[t+12>>2]=0),TD[t+16>>0]=1,CD[t+12>>2]=r,CD[t+8>>2]=e,o=t+12|0}else o=t+12|0;for(r=a;;){if(s=CD[o>>2]|0,CD[s+(r<<4)>>2]=CD[i>>2],CD[s+(r<<4)+4>>2]=CD[i+4>>2],CD[s+(r<<4)+8>>2]=CD[i+8>>2],CD[s+(r<<4)+12>>2]=CD[i+12>>2],(r|0)==(e+-1|0))break;r=r+1|0}CD[t+4>>2]=e}function tE(t){t|=0}function eE(t,e){t|=0,e|=0;var i=0,r=0,o=0;if(!(xD[t+56>>1]|0)){if(xD[t+64>>1]=1,e=xD[t+58>>1]|0,o=CD[t+60>>2]|0,(e&65535)>1)for(i=1,e=1;;){if(xD[o+(i<<6)+48>>1]=i+1,r=e+1<<16>>16,e=xD[t+58>>1]|0,!((r&65535)<(e&65535)))break;i=r&65535,e=r}xD[o+((e&65535)+-1<<6)+48>>1]=0}}function iE(t,e,i){t|=0,e|=0,i|=0,CD[e>>2]=CD[t+8>>2],CD[e+4>>2]=CD[t+8+4>>2],CD[e+8>>2]=CD[t+8+8>>2],CD[e+12>>2]=CD[t+8+12>>2],CD[i>>2]=CD[t+24>>2],CD[i+4>>2]=CD[t+24+4>>2],CD[i+8>>2]=CD[t+24+8>>2],CD[i+12>>2]=CD[t+24+12>>2]}function rE(t){return t|=0,CD[t+92>>2]|0}function oE(t){return t|=0,CD[t+92>>2]|0}function nE(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0;if(d=BD,BD=BD+32|0,u=CD[t+92>>2]|0,!(MP[CD[(CD[u>>2]|0)+56>>2]&127](u)|0))return void(BD=d);if(u=CD[t+92>>2]|0,u=MP[CD[(CD[u>>2]|0)+28>>2]&127](u)|0,i=CD[u+4>>2]|0,(i|0)>1&&(S_(u,0,i+-1|0),i=CD[u+4>>2]|0),r=i-(CD[t+104>>2]|0)|0,CD[d+16>>2]=0,CD[d+16+4>>2]=0,CD[d+16+8>>2]=0,CD[d+16+12>>2]=0,$C(u,r,d+16|0),CD[t+104>>2]=0,r=CD[u+4>>2]|0,(r|0)>0){for(o=0,a=0,i=0,h=0;;){if(l=CD[u+12>>2]|0,s=l+(h<<4)|0,n=CD[s>>2]|0,l=l+(h<<4)+4|0,c=CD[l>>2]|0,(n|0)==(o|0)?(c|0)==(a|0)?(n=a,a=14):a=8:(o=n,a=8),(a|0)==8&&(a=0,n=o+54|0,p=o+48|0,((((((AD[n>>1]|0)>=(AD[c+48>>1]|0)?(AD[c+54>>1]|0)>=(AD[p>>1]|0):0)?(AD[n+2>>1]|0)>=(AD[c+48+2>>1]|0):0)?(AD[c+54+2>>1]|0)>=(AD[p+2>>1]|0):0)?(AD[n+4>>1]|0)>=(AD[c+52>>1]|0):0)?(AD[c+54+4>>1]|0)>=(AD[o+52>>1]|0):0)?n=c:(n=c,a=14)),(a|0)==14&&(i=CD[t+92>>2]|0,QP[CD[(CD[i>>2]|0)+32>>2]&127](i,s,e),CD[s>>2]=0,CD[l>>2]=0,i=(CD[t+104>>2]|0)+1|0,CD[t+104>>2]=i,CD[4116]=(CD[4116]|0)+-1,r=CD[u+4>>2]|0),h=h+1|0,(h|0)>=(r|0))break;a=n}(r|0)>1&&(S_(u,0,r+-1|0),r=CD[u+4>>2]|0,i=CD[t+104>>2]|0)}else i=0;CD[d>>2]=0,CD[d+4>>2]=0,CD[d+8>>2]=0,CD[d+12>>2]=0,$C(u,r-i|0,d),CD[t+104>>2]=0,BD=d}function aE(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0;if(o=CD[t+108>>2]|0)return void eB[CD[(CD[o>>2]|0)+28>>2]&127](o,e,i,r);if(o=xD[t+56>>1]|0,!((o&65535)<<1>>>0<=1)){a=1,l=1;do n=CD[t+68>>2]|0,xD[n+(a<<2)>>1]&1&&(s=CD[t+60>>2]|0,a=AD[n+(a<<2)+2>>1]|0,n=(+RD[e>>2]>+RD[s+(a<<6)+32>>2]?!0:+RD[i>>2]<+RD[s+(a<<6)+16>>2])?0:1,(+RD[e+8>>2]>+RD[s+(a<<6)+40>>2]?0:!(+RD[i+8>>2]<+RD[s+(a<<6)+24>>2]))||(n=0),(+RD[e+4>>2]>+RD[s+(a<<6)+36>>2]?!0:+RD[i+4>>2]<+RD[s+(a<<6)+20>>2]|n^1)||(NP[CD[(CD[r>>2]|0)+8>>2]&31](r,s+(a<<6)|0)|0,o=xD[t+56>>1]|0)),l=l+1<<16>>16,a=l&65535;while(a>>>0<((o&65535)<<1|1)>>>0)}}function sE(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0;var a=0;if(a=CD[t+108>>2]|0)return void PP[CD[(CD[a>>2]|0)+24>>2]&7](a,e,i,r,o,n);if(n=xD[t+56>>1]|0,!((n&65535)<<1>>>0<=1)){i=1,o=1;do a=CD[t+68>>2]|0,xD[a+(i<<2)>>1]&1&&(NP[CD[(CD[r>>2]|0)+8>>2]&31](r,(CD[t+60>>2]|0)+((AD[a+(i<<2)+2>>1]|0)<<6)|0)|0,n=xD[t+56>>1]|0),o=o+1<<16>>16,i=o&65535;while(i>>>0<((n&65535)<<1|1)>>>0)}}function lE(t,e,i,r){t|=0,e|=0,i|=0,r|=0,CD[i>>2]=CD[e+16>>2],CD[i+4>>2]=CD[e+16+4>>2],CD[i+8>>2]=CD[e+16+8>>2],CD[i+12>>2]=CD[e+16+12>>2],CD[r>>2]=CD[e+32>>2],CD[r+4>>2]=CD[e+32+4>>2],CD[r+8>>2]=CD[e+32+8>>2],CD[r+12>>2]=CD[e+32+12>>2]}function cE(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0;R=BD,BD=BD+16|0,CD[e+16>>2]=CD[i>>2],CD[e+16+4>>2]=CD[i+4>>2],CD[e+16+8>>2]=CD[i+8>>2],CD[e+16+12>>2]=CD[i+12>>2],CD[e+32>>2]=CD[r>>2],CD[e+32+4>>2]=CD[r+4>>2],CD[e+32+8>>2]=CD[r+8>>2],CD[e+32+12>>2]=CD[r+12>>2],x=CD[t+60>>2]|0,C=CD[e+12>>2]&65535,dE(t,R+6|0,+RD[i>>2],+RD[i+4>>2],+RD[i+8>>2],0),dE(t,R,+RD[r>>2],+RD[r+4>>2],+RD[r+8>>2],1),w=0;do{f=xD[x+(C<<6)+48+(w<<1)>>1]|0,g=xD[x+(C<<6)+54+(w<<1)>>1]|0,h=xD[R+6+(w<<1)>>1]|0,u=t+68+(w<<2)|0,p=CD[u>>2]|0,c=(h&65535)-(AD[p+((f&65535)<<2)>>1]|0)|0,d=xD[R+(w<<1)>>1]|0,b=(d&65535)-(AD[p+((g&65535)<<2)>>1]|0)|0,xD[p+((f&65535)<<2)>>1]=h,xD[p+((g&65535)<<2)>>1]=d,(c|0)<0&&uE(t,w,f);t:do if((b|0)>0?(v=CD[u>>2]|0,M=CD[t+60>>2]|0,S=AD[v+((g&65535)<<2)+2>>1]|0,T=xD[v+((g&65535)+1<<2)+2>>1]|0,T<<16>>16!=0):0)for(l=1<<w&3,s=M+(S<<6)+54+(w<<1)|0,h=T,d=v+((g&65535)<<2)|0,p=v+((g&65535)+1<<2)|0;;){if(a=xD[p>>1]|0,(AD[d>>1]|0)<(a&65535))break t;if(n=CD[t+60>>2]|0,h&=65535,a&1?(h=n+(h<<6)+54+(w<<1)|0,xD[h>>1]=(xD[h>>1]|0)+-1<<16>>16):((((((AD[M+(S<<6)+54+(l<<1)>>1]|0)>=(AD[n+(h<<6)+48+(l<<1)>>1]|0)?(AD[n+(h<<6)+54+(l<<1)>>1]|0)>=(AD[M+(S<<6)+48+(l<<1)>>1]|0):0)?(AD[M+(S<<6)+54+((1<<l&3)<<1)>>1]|0)>=(AD[n+(h<<6)+48+((1<<l&3)<<1)>>1]|0):0)?(AD[n+(h<<6)+54+((1<<l&3)<<1)>>1]|0)>=(AD[M+(S<<6)+48+((1<<l&3)<<1)>>1]|0):0)?(A=CD[t+92>>2]|0,E=n+((AD[d+2>>1]|0)<<6)|0,DP[CD[(CD[A>>2]|0)+8>>2]&63](A,E,n+(h<<6)|0)|0,A=CD[t+96>>2]|0,(A|0)!=0):0)&&DP[CD[(CD[A>>2]|0)+8>>2]&63](A,E,n+(h<<6)|0)|0,h=n+(h<<6)+48+(w<<1)|0,xD[h>>1]=(xD[h>>1]|0)+-1<<16>>16),xD[s>>1]=(xD[s>>1]|0)+1<<16>>16,h=AD[d>>1]|AD[d+2>>1]<<16,a=AD[p>>1]|AD[p+2>>1]<<16,xD[d>>1]=a,xD[d+2>>1]=a>>>16,xD[p>>1]=h,xD[p+2>>1]=h>>>16,h=xD[p+6>>1]|0,!(h<<16>>16))break;d=d+4|0,p=p+4|0}while(0);t:do if((c|0)>0?(_=CD[u>>2]|0,m=xD[_+((f&65535)+1<<2)+2>>1]|0,m<<16>>16!=0):0)for(c=(CD[t+60>>2]|0)+((AD[_+((f&65535)<<2)+2>>1]|0)<<6)+48+(w<<1)|0,h=1<<w&3,a=m,u=_+((f&65535)<<2)|0,l=_+((f&65535)+1<<2)|0;;){if(n=xD[l>>1]|0,(AD[u>>1]|0)<(n&65535))break t;if(s=CD[t+60>>2]|0,a&=65535,n&1?(n=AD[u+2>>1]|0,(((((AD[s+(n<<6)+54+(h<<1)>>1]|0)>=(AD[s+(a<<6)+48+(h<<1)>>1]|0)?(AD[s+(a<<6)+54+(h<<1)>>1]|0)>=(AD[s+(n<<6)+48+(h<<1)>>1]|0):0)?(AD[s+(n<<6)+54+((1<<h&3)<<1)>>1]|0)>=(AD[s+(a<<6)+48+((1<<h&3)<<1)>>1]|0):0)?(AD[s+(a<<6)+54+((1<<h&3)<<1)>>1]|0)>=(AD[s+(n<<6)+48+((1<<h&3)<<1)>>1]|0):0)?(y=CD[t+92>>2]|0,CP[CD[(CD[y>>2]|0)+12>>2]&31](y,s+(n<<6)|0,s+(a<<6)|0,o)|0,y=CD[t+96>>2]|0,(y|0)!=0):0)&&CP[CD[(CD[y>>2]|0)+12>>2]&31](y,s+(n<<6)|0,s+(a<<6)|0,o)|0,f=s+(a<<6)+54+(w<<1)|0,xD[f>>1]=(xD[f>>1]|0)+-1<<16>>16):(f=s+(a<<6)+48+(w<<1)|0,xD[f>>1]=(xD[f>>1]|0)+-1<<16>>16),xD[c>>1]=(xD[c>>1]|0)+1<<16>>16,a=AD[u>>1]|AD[u+2>>1]<<16,f=AD[l>>1]|AD[l+2>>1]<<16,xD[u>>1]=f,xD[u+2>>1]=f>>>16,xD[l>>1]=a,xD[l+2>>1]=a>>>16,a=xD[l+6>>1]|0,!(a<<16>>16))break;u=u+4|0,l=l+4|0}while(0);(b|0)<0&&hE(t,w,g,o),w=w+1|0}while((w|0)!=3);return(n=CD[t+108>>2]|0)?(_P[CD[(CD[n>>2]|0)+16>>2]&31](n,CD[e+60>>2]|0,i,r,o),void(BD=R)):void(BD=R)}function hE(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0;if(n=CD[t+68+(e<<2)>>2]|0,o=xD[n+((i&65535)+-1<<2)>>1]|0,!((AD[n+((i&65535)<<2)>>1]|0)>=(o&65535)))for(s=CD[t+60>>2]|0,l=s+((AD[n+((i&65535)<<2)+2>>1]|0)<<6)+54+(e<<1)|0,a=n+((i&65535)<<2)|0,i=n+((i&65535)+-1<<2)|0;;){if(n=AD[i+2>>1]|0,o&1?(s=s+(n<<6)+54+(e<<1)|0,xD[s>>1]=(xD[s>>1]|0)+1<<16>>16):(o=AD[a+2>>1]|0,(((((AD[s+(o<<6)+54+((1<<e&3)<<1)>>1]|0)>=(AD[s+(n<<6)+48+((1<<e&3)<<1)>>1]|0)?(AD[s+(n<<6)+54+((1<<e&3)<<1)>>1]|0)>=(AD[s+(o<<6)+48+((1<<e&3)<<1)>>1]|0):0)?(AD[s+(o<<6)+54+((1<<(1<<e&3)&3)<<1)>>1]|0)>=(AD[s+(n<<6)+48+((1<<(1<<e&3)&3)<<1)>>1]|0):0)?(AD[s+(n<<6)+54+((1<<(1<<e&3)&3)<<1)>>1]|0)>=(AD[s+(o<<6)+48+((1<<(1<<e&3)&3)<<1)>>1]|0):0)?(u=CD[t+92>>2]|0,c=s+(o<<6)|0,h=s+(n<<6)|0,CP[CD[(CD[u>>2]|0)+12>>2]&31](u,c,h,r)|0,u=CD[t+96>>2]|0,(u|0)!=0):0)&&CP[CD[(CD[u>>2]|0)+12>>2]&31](u,c,h,r)|0,s=s+(n<<6)+48+(e<<1)|0,xD[s>>1]=(xD[s>>1]|0)+1<<16>>16),xD[l>>1]=(xD[l>>1]|0)+-1<<16>>16,n=AD[a>>1]|AD[a+2>>1]<<16,o=AD[i>>1]|AD[i+2>>1]<<16,xD[a>>1]=o,xD[a+2>>1]=o>>>16,xD[i>>1]=n,xD[i+2>>1]=n>>>16,n=a+-4|0,i=i+-4|0,o=xD[i>>1]|0,(AD[n>>1]|0)>=(o&65535))break;s=CD[t+60>>2]|0,a=n}}function uE(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0;if(o=CD[t+68+(e<<2)>>2]|0,c=CD[t+60>>2]|0,h=AD[o+((i&65535)<<2)+2>>1]|0,r=xD[o+((i&65535)+-1<<2)>>1]|0,!((AD[o+((i&65535)<<2)>>1]|0)>=(r&65535)))for(a=c,n=o+((i&65535)<<2)|0,i=o+((i&65535)+-1<<2)|0;;){if(o=AD[i+2>>1]|0,r&1?((((((AD[c+(h<<6)+54+((1<<e&3)<<1)>>1]|0)>=(AD[a+(o<<6)+48+((1<<e&3)<<1)>>1]|0)?(AD[a+(o<<6)+54+((1<<e&3)<<1)>>1]|0)>=(AD[c+(h<<6)+48+((1<<e&3)<<1)>>1]|0):0)?(AD[c+(h<<6)+54+((1<<(1<<e&3)&3)<<1)>>1]|0)>=(AD[a+(o<<6)+48+((1<<(1<<e&3)&3)<<1)>>1]|0):0)?(AD[a+(o<<6)+54+((1<<(1<<e&3)&3)<<1)>>1]|0)>=(AD[c+(h<<6)+48+((1<<(1<<e&3)&3)<<1)>>1]|0):0)?(l=CD[t+92>>2]|0,s=a+(o<<6)|0,DP[CD[(CD[l>>2]|0)+8>>2]&63](l,c+(h<<6)|0,s)|0,l=CD[t+96>>2]|0,(l|0)!=0):0)&&DP[CD[(CD[l>>2]|0)+8>>2]&63](l,c+(h<<6)|0,s)|0,a=a+(o<<6)+54+(e<<1)|0,xD[a>>1]=(xD[a>>1]|0)+1<<16>>16):(a=a+(o<<6)+48+(e<<1)|0,xD[a>>1]=(xD[a>>1]|0)+1<<16>>16),xD[c+(h<<6)+48+(e<<1)>>1]=(xD[c+(h<<6)+48+(e<<1)>>1]|0)+-1<<16>>16,o=AD[n>>1]|AD[n+2>>1]<<16,r=AD[i>>1]|AD[i+2>>1]<<16,xD[n>>1]=r,xD[n+2>>1]=r>>>16,xD[i>>1]=o,xD[i+2>>1]=o>>>16,o=n+-4|0,i=i+-4|0,r=xD[i>>1]|0,(AD[o>>1]|0)>=(r&65535))break;a=CD[t+60>>2]|0,n=o}}function dE(t,e,i,r,o,n){t|=0,e|=0,i=+i,r=+r,o=+o,n|=0;var a=0,s=0;i=(i-+RD[t+8>>2])*+RD[t+40>>2],r=(r-+RD[t+12>>2])*+RD[t+44>>2],o=(o-+RD[t+16>>2])*+RD[t+48>>2];do{if(!(i<=0)){if(s=xD[t+6>>1]|0,a=xD[t+4>>1]|0,i>=+(s&65535|0)){a=a&s&65535|n;break}a=a&(~~i&65535)&65535|n;break}a=n}while(0);xD[e>>1]=a;do{if(!(r<=0)){if(s=xD[t+6>>1]|0,a=xD[t+4>>1]|0,r>=+(s&65535|0)){a=a&s&65535|n;break}a=a&(~~r&65535)&65535|n;break}a=n}while(0);return xD[e+2>>1]=a,o<=0?(n&=65535,e=e+4|0,void(xD[e>>1]=n)):(s=xD[t+6>>1]|0,a=xD[t+4>>1]|0,o>=+(s&65535|0)?(n=a&s&65535|n,n&=65535,e=e+4|0,void(xD[e>>1]=n)):(n=a&(~~o&65535)&65535|n,n&=65535,e=e+4|0,void(xD[e>>1]=n)))}function pE(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0;r=CD[t+108>>2]|0,r&&QP[CD[(CD[r>>2]|0)+12>>2]&127](r,CD[e+60>>2]|0,i),p=CD[e+12>>2]|0,d=CD[t+60>>2]|0,u=CD[t+92>>2]|0,MP[CD[(CD[u>>2]|0)+56>>2]&127](u)|0||(u=CD[t+92>>2]|0,QP[CD[(CD[u>>2]|0)+16>>2]&127](u,d+((p&65535)<<6)|0,i)),c=AD[t+56>>1]|0,i=CD[t+60>>2]|0,xD[i+54>>1]=(AD[i+54>>1]|0)+65534,xD[i+56>>1]=(AD[i+56>>1]|0)+65534,xD[i+58>>1]=(AD[i+58>>1]|0)+65534,i=xD[t+6>>1]|0,u=0;do{if(l=t+68+(u<<2)|0,h=CD[l>>2]|0,o=AD[d+((p&65535)<<6)+54+(u<<1)>>1]|0,xD[h+(o<<2)>>1]=i,e=xD[h+(o+1<<2)+2>>1]|0,e<<16>>16){for(s=(CD[t+60>>2]|0)+((AD[h+(o<<2)+2>>1]|0)<<6)+54+(u<<1)|0,a=h+(o<<2)|0,r=h+(o+1<<2)|0;;){if(n=xD[r>>1]|0,(AD[a>>1]|0)<(n&65535))break;if(i=CD[t+60>>2]|0,o=e&65535,n&1?(n=i+(o<<6)+54+(u<<1)|0,xD[n>>1]=(xD[n>>1]|0)+-1<<16>>16):(n=i+(o<<6)+48+(u<<1)|0,xD[n>>1]=(xD[n>>1]|0)+-1<<16>>16),xD[s>>1]=(xD[s>>1]|0)+1<<16>>16,e=AD[a>>1]|AD[a+2>>1]<<16,n=AD[r>>1]|AD[r+2>>1]<<16,xD[a>>1]=n,xD[a+2>>1]=n>>>16,xD[r>>1]=e,xD[r+2>>1]=e>>>16,e=xD[r+6>>1]|0,!(e<<16>>16))break;a=a+4|0,r=r+4|0}i=xD[t+6>>1]|0,r=CD[l>>2]|0}else r=h;if(o=AD[d+((p&65535)<<6)+48+(u<<1)>>1]|0,xD[h+(o<<2)>>1]=i,e=xD[r+(o+1<<2)+2>>1]|0,e<<16>>16){for(s=(CD[t+60>>2]|0)+((AD[r+(o<<2)+2>>1]|0)<<6)+48+(u<<1)|0,a=r+(o<<2)|0,n=r+(o+1<<2)|0;;){if(r=xD[n>>1]|0,(AD[a>>1]|0)<(r&65535))break;if(o=CD[t+60>>2]|0,i=e&65535,r&1?(l=o+(i<<6)+54+(u<<1)|0,xD[l>>1]=(xD[l>>1]|0)+-1<<16>>16):(l=o+(i<<6)+48+(u<<1)|0,xD[l>>1]=(xD[l>>1]|0)+-1<<16>>16),xD[s>>1]=(xD[s>>1]|0)+1<<16>>16,e=AD[a>>1]|AD[a+2>>1]<<16,l=AD[n>>1]|AD[n+2>>1]<<16,xD[a>>1]=l,xD[a+2>>1]=l>>>16,xD[n>>1]=e,xD[n+2>>1]=e>>>16,e=xD[n+6>>1]|0,!(e<<16>>16))break;a=a+4|0,n=n+4|0}i=xD[t+6>>1]|0}xD[h+((c<<1)+-1<<2)+2>>1]=0,xD[h+((c<<1)+-1<<2)>>1]=i,u=u+1|0}while((u|0)!=3);xD[(CD[t+60>>2]|0)+((p&65535)<<6)+48>>1]=xD[t+64>>1]|0,xD[t+64>>1]=p,xD[t+56>>1]=(xD[t+56>>1]|0)+-1<<16>>16}function fE(t,e,i,r,o,n,a,s,l){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0;var c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0;if(g=BD,BD=BD+16|0,dE(t,g+6|0,+RD[e>>2],+RD[e+4>>2],+RD[e+8>>2],0),dE(t,g,+RD[i>>2],+RD[i+4>>2],+RD[i+8>>2],1),m=xD[t+64>>1]|0,_=CD[t+60>>2]|0,xD[t+64>>1]=xD[_+((m&65535)<<6)+48>>1]|0,h=(xD[t+56>>1]|0)+1<<16>>16,xD[t+56>>1]=h,CD[_+((m&65535)<<6)+12>>2]=m&65535,CD[_+((m&65535)<<6)>>2]=o,xD[_+((m&65535)<<6)+4>>1]=n,xD[_+((m&65535)<<6)+6>>1]=a,CD[_+((m&65535)<<6)+8>>2]=l,d=(h&65535)<<1&65534,xD[_+54>>1]=(AD[_+54>>1]|0)+2,c=CD[t+68>>2]|0,l=AD[c+(d+-1<<2)>>1]|AD[c+(d+-1<<2)+2>>1]<<16,xD[c+((d|1)<<2)>>1]=l,xD[c+((d|1)<<2)+2>>1]=l>>>16,c=CD[t+68>>2]|0,xD[c+(d+-1<<2)>>1]=xD[g+6>>1]|0,xD[c+(d+-1<<2)+2>>1]=m,xD[c+(d<<2)>>1]=xD[g>>1]|0,xD[c+(d<<2)+2>>1]=m,xD[_+((m&65535)<<6)+48>>1]=d+-1,xD[_+((m&65535)<<6)+54>>1]=(h&65535)<<1,c=(CD[t+60>>2]|0)+56|0,xD[c>>1]=(AD[c>>1]|0)+2,c=CD[t+72>>2]|0,l=AD[c+(d+-1<<2)>>1]|AD[c+(d+-1<<2)+2>>1]<<16,xD[c+((d|1)<<2)>>1]=l,xD[c+((d|1)<<2)+2>>1]=l>>>16,c=CD[t+72>>2]|0,xD[c+(d+-1<<2)>>1]=xD[g+6+2>>1]|0,xD[c+(d+-1<<2)+2>>1]=m,xD[c+(d<<2)>>1]=xD[g+2>>1]|0,xD[c+(d<<2)+2>>1]=m,xD[_+((m&65535)<<6)+50>>1]=d+-1,xD[_+((m&65535)<<6)+56>>1]=(h&65535)<<1,c=(CD[t+60>>2]|0)+58|0,xD[c>>1]=(AD[c>>1]|0)+2,c=CD[t+76>>2]|0,l=AD[c+(d+-1<<2)>>1]|AD[c+(d+-1<<2)+2>>1]<<16,xD[c+((d|1)<<2)>>1]=l,xD[c+((d|1)<<2)+2>>1]=l>>>16,c=CD[t+76>>2]|0,xD[c+(d+-1<<2)>>1]=xD[g+6+4>>1]|0,xD[c+(d+-1<<2)+2>>1]=m,xD[c+(d<<2)>>1]=xD[g+4>>1]|0,xD[c+(d<<2)+2>>1]=m,xD[_+((m&65535)<<6)+52>>1]=d+-1,xD[_+((m&65535)<<6)+58>>1]=(h&65535)<<1,h=CD[t+68>>2]|0,d=AD[_+((m&65535)<<6)+48>>1]|0,c=CD[t+60>>2]|0,l=xD[h+(d+-1<<2)>>1]|0,(AD[h+(d<<2)>>1]|0)<(l&65535)){for(f=c+((AD[h+(d<<2)+2>>1]|0)<<6)+48|0,p=h+(d<<2)|0,u=h+(d+-1<<2)|0;;){if(h=AD[u+2>>1]|0,l&1?(d=c+(h<<6)+54|0,xD[d>>1]=(xD[d>>1]|0)+1<<16>>16):(d=c+(h<<6)+48|0,xD[d>>1]=(xD[d>>1]|0)+1<<16>>16),xD[f>>1]=(xD[f>>1]|0)+-1<<16>>16,h=AD[p>>1]|AD[p+2>>1]<<16,l=AD[u>>1]|AD[u+2>>1]<<16,xD[p>>1]=l,xD[p+2>>1]=l>>>16,xD[u>>1]=h,xD[u+2>>1]=h>>>16,h=p+-4|0,u=u+-4|0,l=xD[u>>1]|0,(AD[h>>1]|0)>=(l&65535))break;
c=CD[t+60>>2]|0,p=h}h=CD[t+68>>2]|0}c=AD[_+((m&65535)<<6)+54>>1]|0,u=h+(c<<2)|0,d=h+(c+-1<<2)|0,l=xD[d>>1]|0;t:do if((AD[u>>1]|0)<(l&65535))for(p=CD[t+60>>2]|0,f=p+((AD[h+(c<<2)+2>>1]|0)<<6)+54|0,c=d;;){if(h=AD[c+2>>1]|0,l&1?(p=p+(h<<6)+54|0,xD[p>>1]=(xD[p>>1]|0)+1<<16>>16):(p=p+(h<<6)+48|0,xD[p>>1]=(xD[p>>1]|0)+1<<16>>16),xD[f>>1]=(xD[f>>1]|0)+-1<<16>>16,h=AD[u>>1]|AD[u+2>>1]<<16,l=AD[c>>1]|AD[c+2>>1]<<16,xD[u>>1]=l,xD[u+2>>1]=l>>>16,xD[c>>1]=h,xD[c+2>>1]=h>>>16,u=u+-4|0,h=c+-4|0,l=xD[h>>1]|0,(AD[u>>1]|0)>=(l&65535))break t;p=CD[t+60>>2]|0,c=h}while(0);if(c=CD[t+72>>2]|0,d=AD[_+((m&65535)<<6)+50>>1]|0,h=CD[t+60>>2]|0,l=xD[c+(d+-1<<2)>>1]|0,(AD[c+(d<<2)>>1]|0)<(l&65535)){for(f=h+((AD[c+(d<<2)+2>>1]|0)<<6)+50|0,u=c+(d<<2)|0,d=c+(d+-1<<2)|0;;){if(c=AD[d+2>>1]|0,l&1?(p=h+(c<<6)+56|0,xD[p>>1]=(xD[p>>1]|0)+1<<16>>16):(p=h+(c<<6)+50|0,xD[p>>1]=(xD[p>>1]|0)+1<<16>>16),xD[f>>1]=(xD[f>>1]|0)+-1<<16>>16,c=AD[u>>1]|AD[u+2>>1]<<16,l=AD[d>>1]|AD[d+2>>1]<<16,xD[u>>1]=l,xD[u+2>>1]=l>>>16,xD[d>>1]=c,xD[d+2>>1]=c>>>16,u=u+-4|0,c=d+-4|0,l=xD[c>>1]|0,(AD[u>>1]|0)>=(l&65535))break;h=CD[t+60>>2]|0,d=c}c=CD[t+72>>2]|0}h=AD[_+((m&65535)<<6)+56>>1]|0,u=c+(h<<2)|0,d=c+(h+-1<<2)|0,l=xD[d>>1]|0;t:do if((AD[u>>1]|0)<(l&65535))for(p=CD[t+60>>2]|0,f=p+((AD[c+(h<<2)+2>>1]|0)<<6)+56|0,c=d;;){if(h=AD[c+2>>1]|0,l&1?(p=p+(h<<6)+56|0,xD[p>>1]=(xD[p>>1]|0)+1<<16>>16):(p=p+(h<<6)+50|0,xD[p>>1]=(xD[p>>1]|0)+1<<16>>16),xD[f>>1]=(xD[f>>1]|0)+-1<<16>>16,h=AD[u>>1]|AD[u+2>>1]<<16,l=AD[c>>1]|AD[c+2>>1]<<16,xD[u>>1]=l,xD[u+2>>1]=l>>>16,xD[c>>1]=h,xD[c+2>>1]=h>>>16,u=u+-4|0,h=c+-4|0,l=xD[h>>1]|0,(AD[u>>1]|0)>=(l&65535))break t;p=CD[t+60>>2]|0,c=h}while(0);return uE(t,2,xD[_+((m&65535)<<6)+52>>1]|0),hE(t,2,xD[_+((m&65535)<<6)+58>>1]|0,s),l=CD[t+60>>2]|0,(c=CD[t+108>>2]|0)?(o=KP[CD[(CD[c>>2]|0)+8>>2]&3](c,e,i,r,o,n,a,s,0)|0,CD[l+((m&65535)<<6)+60>>2]=o,o=l+((m&65535)<<6)|0,BD=g,o|0):(o=l+((m&65535)<<6)|0,BD=g,o|0)}function _E(t){t|=0,mE(t),t&&(CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0))}function mE(t){t|=0;var e=0;CD[t>>2]=16240,CD[t+108>>2]|0&&(e=CD[t+112>>2]|0,gP[CD[CD[e>>2]>>2]&255](e),e=CD[t+112>>2]|0,e&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),e=CD[t+108>>2]|0,gP[CD[CD[e>>2]>>2]&255](e),e=CD[t+108>>2]|0,e&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0))),e=CD[t+88>>2]|0,e&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),e=CD[t+84>>2]|0,e&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),e=CD[t+80>>2]|0,e&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),e=CD[t+60>>2]|0,e&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),TD[t+100>>0]|0&&(e=CD[t+92>>2]|0,gP[CD[CD[e>>2]>>2]&255](e),e=CD[t+92>>2]|0,e&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)))}function gE(t){t|=0,mE(t),t&&(CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0))}function yE(t,e){t|=0,e|=0}function bE(t,e){t|=0,e|=0}function vE(t){return t|=0,1}function ME(t,e,i){return t|=0,e|=0,i|=0,0}function SE(t,e,i){t|=0,e|=0,i|=0}function TE(t,e){t|=0,e|=0}function xE(t,e,i){t|=0,e|=0,i|=0}function CE(t){return t|=0,0}function EE(t,e,i){t|=0,e|=0,i|=0}function AE(t){return t|=0,t+4|0}function wE(t){return t|=0,CD[t+16>>2]|0}function RE(t){return t|=0,CD[t+16>>2]|0}function DE(t,e,i){t|=0,e|=0,i|=0}function PE(t,e,i,r){return t|=0,e|=0,i|=0,r|=0,0}function BE(t,e,i){return t|=0,e|=0,i|=0,0}function VE(t){t|=0;var e=0;return CD[t>>2]=16304,(e=CD[t+16>>2]|0)&&TD[t+20>>0]|0?(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0),void ww(t)):void ww(t)}function LE(t){t|=0;var e=0;CD[t>>2]=16304,e=CD[t+16>>2]|0,e&&(TD[t+20>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[e+-4>>2]|0)),CD[t+16>>2]=0),TD[t+20>>0]=1,CD[t+16>>2]=0,CD[t+8>>2]=0,CD[t+12>>2]=0}function kE(t,e){t|=0,e|=0,CD[t+72>>2]=e}function HE(t){return t|=0,0}function IE(t,e){t|=0,e|=0,CD[t+24>>2]=e}function OE(t){return t|=0,CD[t+8>>2]|0}function JE(t){return t|=0,t+4|0}function NE(t){return t|=0,CD[t+16>>2]|0}function FE(t){return t|=0,CD[t+16>>2]|0}function GE(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0;if(CD[4120]=(CD[4120]|0)+1,r=CD[t+24>>2]|0){if(!(DP[CD[(CD[r>>2]|0)+8>>2]&63](r,e,i)|0))return t=0,t|0}else{if(!((xD[i+6>>1]&xD[e+4>>1])<<16>>16))return t=0,t|0;if(!((xD[e+6>>1]&xD[i+4>>1])<<16>>16))return t=0,t|0}c=(CD[e+12>>2]|0)>(CD[i+12>>2]|0),h=c?i:e,c=c?e:i,o=CD[h+12>>2]|0,e=CD[c+12>>2]|0,s=((e<<16|o)+~((e<<16|o)<<15)>>10^(e<<16|o)+~((e<<16|o)<<15))*9|0,s=(s>>6^s)+~((s>>6^s)<<11)>>16^(s>>6^s)+~((s>>6^s)<<11),l=CD[t+12>>2]|0,i=CD[(CD[t+44>>2]|0)+((s&l+-1)<<2)>>2]|0;t:do if((i|0)!=-1){for(r=CD[t+16>>2]|0;;){if((CD[(CD[r+(i<<4)>>2]|0)+12>>2]|0)==(o|0)?(CD[(CD[r+(i<<4)+4>>2]|0)+12>>2]|0)==(e|0):0)break;if(i=CD[(CD[t+64>>2]|0)+(i<<2)>>2]|0,(i|0)==-1)break t}if(i=r+(i<<4)|0)return t=i,t|0}while(0);if(a=CD[t+8>>2]|0,(a|0)==(l|0))if(i=(l|0)==0?1:l<<1,(l|0)<(i|0)){if(i?(CD[5108]=(CD[5108]|0)+1,e=Aw((i<<4|3)+16|0)|0,e?(CD[(e+4+15&-16)+-4>>2]=e,e=e+4+15&-16):e=0,r=CD[t+8>>2]|0):(e=0,r=l),(r|0)>0)for(o=r+-1|0,n=0;;){if(u=CD[t+16>>2]|0,CD[e+(n<<4)>>2]=CD[u+(n<<4)>>2],CD[e+(n<<4)+4>>2]=CD[u+(n<<4)+4>>2],CD[e+(n<<4)+8>>2]=CD[u+(n<<4)+8>>2],CD[e+(n<<4)+12>>2]=CD[u+(n<<4)+12>>2],(n|0)==(o|0))break;n=n+1|0}o=CD[t+16>>2]|0,o&&(TD[t+20>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[o+-4>>2]|0),r=CD[t+8>>2]|0),CD[t+16>>2]=0),TD[t+20>>0]=1,CD[t+16>>2]=e,CD[t+12>>2]=i}else r=l,i=l;else r=a,i=l;return CD[t+8>>2]=r+1,o=CD[t+16>>2]|0,e=CD[t+72>>2]|0,e&&(DP[CD[(CD[e>>2]|0)+8>>2]&63](e,h,c)|0,i=CD[t+12>>2]|0),(l|0)<(i|0)?(of(t),i=(CD[t+12>>2]|0)+-1&s):i=s&l+-1,u=(CD[h+12>>2]|0)<(CD[c+12>>2]|0),CD[o+(a<<4)>>2]=u?h:c,CD[o+(a<<4)+4>>2]=u?c:h,CD[o+(a<<4)+8>>2]=0,CD[o+(a<<4)+8+4>>2]=0,u=(CD[t+44>>2]|0)+(i<<2)|0,CD[(CD[t+64>>2]|0)+(a<<2)>>2]=CD[u>>2],CD[u>>2]=a,u=o+(a<<4)|0,u|0}function zE(t,e){return t|=0,e|=0,t=CD[t+4>>2]|0,(CD[e>>2]|0)==(t|0)?(e=1,e|0):(e=(CD[e+4>>2]|0)==(t|0),e|0)}function jE(t){t|=0,ww(t)}function UE(t,e){t|=0,e|=0;var i=0;return i=CD[t+4>>2]|0,((CD[e>>2]|0)!=(i|0)?(CD[e+4>>2]|0)!=(i|0):0)?0:(i=CD[t+8>>2]|0,QP[CD[(CD[i>>2]|0)+32>>2]&127](i,e,CD[t+12>>2]|0),0)}function WE(t){t|=0,ww(t)}function XE(t,e){t|=0,e|=0,t=CD[t+4>>2]|0,NP[CD[(CD[t>>2]|0)+8>>2]&31](t,CD[e+36>>2]|0)|0}function qE(t){t|=0,ww(t)}function KE(t,e){t|=0,e|=0,t=CD[t+4>>2]|0,NP[CD[(CD[t>>2]|0)+8>>2]&31](t,CD[e+36>>2]|0)|0}function YE(t){t|=0,ww(t)}function QE(t,e){t|=0,e|=0,QP[CD[(CD[t>>2]|0)+8>>2]&127](t,e,CD[(CD[t+8>>2]|0)+48>>2]|0)}function ZE(t,e,i){t|=0,e|=0,i|=0;var r=0;(e|0)!=(i|0)&&(r=CD[(CD[t+4>>2]|0)+136>>2]|0,DP[CD[(CD[r>>2]|0)+8>>2]&63](r,CD[e+36>>2]|0,CD[i+36>>2]|0)|0,t=(CD[t+4>>2]|0)+160|0,CD[t>>2]=(CD[t>>2]|0)+1)}function $E(t){t|=0,ww(t)}function tA(t){t|=0}function eA(t){t|=0,ww(t)}function iA(t){t|=0,ww(t)}function rA(t){t|=0}function oA(t,e,i,r){t|=0,e|=0,i|=0,r=+r,CD[t+4>>2]=CD[e>>2],CD[t+4+4>>2]=CD[e+4>>2],CD[t+4+8>>2]=CD[e+8>>2],CD[t+4+12>>2]=CD[e+12>>2],CD[t+20>>2]=CD[i>>2],CD[t+20+4>>2]=CD[i+4>>2],CD[t+20+8>>2]=CD[i+8>>2],CD[t+20+12>>2]=CD[i+12>>2],RD[t+36>>2]=r,TD[t+40>>0]=1}function nA(t,e,i){t|=0,e|=0,i|=0}function aA(t,e,i){t|=0,e|=0,i|=0}function sA(t){t|=0,ww(t)}function lA(t){t|=0,ww(t)}function cA(t){t|=0,ww(t)}function hA(t){t|=0,ww(t)}function uA(t,e,i,r){t|=0,e|=0,i|=0,r=+r,+RD[t+36>>2]>r&&(TD[t+40>>0]=1,CD[t+4>>2]=CD[e>>2],CD[t+4+4>>2]=CD[e+4>>2],CD[t+4+8>>2]=CD[e+8>>2],CD[t+4+12>>2]=CD[e+12>>2],CD[t+20>>2]=CD[i>>2],CD[t+20+4>>2]=CD[i+4>>2],CD[t+20+8>>2]=CD[i+8>>2],CD[t+20+12>>2]=CD[i+12>>2],RD[t+36>>2]=r)}function dA(t,e,i){t|=0,e|=0,i|=0}function pA(t,e,i){t|=0,e|=0,i|=0}function fA(t){t|=0,ww(t)}function _A(t){t|=0,ww(t)}function mA(t){t|=0,ww(t)}function gA(t){t|=0}function yA(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0;var a=0,s=0;return(ED[r+55>>0]|0|0)==(e|0)?(r=0,r|0):(a=CD[19520+(o<<2)>>2]|0,+RD[r>>2]*+RD[i+16>>2]+ +RD[r+4>>2]*+RD[i+20>>2]+ +RD[r+8>>2]*+RD[i+24>>2]-+RD[r+16>>2]<-9999999747378752e-21?(s=vA(t,CD[r+20+(a<<2)>>2]|0,CD[r+20+(o<<2)>>2]|0,i,0)|0)?(TD[s+52>>0]=o,CD[s+32>>2]=r,TD[r+52+o>>0]=0,CD[r+32+(o<<2)>>2]=s,a=CD[n>>2]|0,a?(TD[a+53>>0]=2,CD[a+36>>2]=s,TD[s+54>>0]=1,CD[s+40>>2]=a):CD[n+4>>2]=s,CD[n>>2]=s,CD[n+8>>2]=(CD[n+8>>2]|0)+1,r=1,r|0):(r=0,r|0):(s=CD[19504+(o<<2)>>2]|0,TD[r+55>>0]=e,yA(t,e,i,CD[r+32+(a<<2)>>2]|0,ED[r+52+a>>0]|0,n)|0&&yA(t,e,i,CD[r+32+(s<<2)>>2]|0,ED[r+52+s>>0]|0,n)|0?(a=CD[r+48>>2]|0,a&&(CD[a+44>>2]=CD[r+44>>2]),a=CD[r+44>>2]|0,a&&(CD[a+48>>2]=CD[r+48>>2]),(CD[t+9280>>2]|0)==(r|0)&&(CD[t+9280>>2]=CD[r+48>>2]),CD[t+9284>>2]=(CD[t+9284>>2]|0)+-1,CD[r+44>>2]=0,CD[r+48>>2]=CD[t+9288>>2],a=CD[t+9288>>2]|0,a&&(CD[a+44>>2]=r),CD[t+9288>>2]=r,CD[t+9292>>2]=(CD[t+9292>>2]|0)+1,r=1,r|0):(r=0,r|0)))}function bA(t,e,i,r,o){t|=0,e=+e,i=+i,r=+r,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0;s=BD,BD=BD+48|0,c=1/+ND(+(e*e+i*i+r*r)),RD[o>>2]=c*e,RD[o+4>>2]=c*i,RD[o+8>>2]=c*r,RD[o+12>>2]=0,n=CD[t+120>>2]|0,l=CD[t+120+4>>2]|0,a=(CD[t>>2]|0)+(l>>1)|0,l&1&&(n=CD[(CD[a>>2]|0)+n>>2]|0),QP[n&127](s,a,o),r=-+RD[o>>2],i=-+RD[o+4>>2],e=-+RD[o+8>>2],a=CD[t+120>>2]|0,l=CD[t+120+4>>2]|0,n=(CD[t+4>>2]|0)+(l>>1)|0,l&1&&(a=CD[(CD[n>>2]|0)+a>>2]|0),c=+RD[t+24>>2]*r+ +RD[t+28>>2]*i+ +RD[t+32>>2]*e,h=+RD[t+40>>2]*r+ +RD[t+44>>2]*i+ +RD[t+48>>2]*e,RD[s+16>>2]=+RD[t+8>>2]*r+ +RD[t+12>>2]*i+ +RD[t+16>>2]*e,RD[s+16+4>>2]=c,RD[s+16+8>>2]=h,RD[s+16+12>>2]=0,QP[a&127](s+32|0,n,s+16|0),h=+RD[s+32>>2],e=+RD[s+32+4>>2],i=+RD[s+32+8>>2],r=+RD[s+4>>2]-(h*+RD[t+72>>2]+e*+RD[t+76>>2]+i*+RD[t+80>>2]+ +RD[t+108>>2]),c=+RD[s+8>>2]-(h*+RD[t+88>>2]+e*+RD[t+92>>2]+i*+RD[t+96>>2]+ +RD[t+112>>2]),RD[o+16>>2]=+RD[s>>2]-(h*+RD[t+56>>2]+e*+RD[t+60>>2]+i*+RD[t+64>>2]+ +RD[t+104>>2]),RD[o+20>>2]=r,RD[o+24>>2]=c,RD[o+28>>2]=0,BD=s}function vA(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0;if(p=CD[t+9288>>2]|0,!p)return CD[t>>2]=5,t=0,t|0;n=CD[p+48>>2]|0,n&&(CD[n+44>>2]=CD[p+44>>2]),n=CD[p+44>>2]|0,n&&(CD[n+48>>2]=CD[p+48>>2]),(CD[t+9288>>2]|0)==(p|0)&&(CD[t+9288>>2]=CD[p+48>>2]),CD[t+9292>>2]=(CD[t+9292>>2]|0)+-1,CD[p+44>>2]=0,CD[p+48>>2]=CD[t+9280>>2],n=CD[t+9280>>2]|0,n&&(CD[n+44>>2]=p),CD[t+9280>>2]=p,CD[t+9284>>2]=(CD[t+9284>>2]|0)+1,TD[p+55>>0]=0,CD[p+20>>2]=e,CD[p+24>>2]=i,CD[p+28>>2]=r,c=+RD[e+16>>2],a=+RD[i+16>>2]-c,h=+RD[e+20>>2],s=+RD[i+20>>2]-h,u=+RD[e+24>>2],l=+RD[i+24>>2]-u,c=+RD[r+16>>2]-c,h=+RD[r+20>>2]-h,u=+RD[r+24>>2]-u,RD[p>>2]=s*u-l*h,RD[p+4>>2]=l*c-a*u,RD[p+8>>2]=a*h-s*c,RD[p+12>>2]=0,d=+ND(+((s*u-l*h)*(s*u-l*h)+(l*c-a*u)*(l*c-a*u)+(a*h-s*c)*(a*h-s*c)));do{if(d>9999999747378752e-20){if(((MA(s*u-l*h,l*c-a*u,a*h-s*c,+RD[e+16>>2],+RD[e+20>>2],+RD[e+24>>2],+RD[i+16>>2],+RD[i+20>>2],+RD[i+24>>2],p+16|0)|0?!0:MA(+RD[p>>2],+RD[p+4>>2],+RD[p+8>>2],+RD[i+16>>2],+RD[i+20>>2],+RD[i+24>>2],+RD[r+16>>2],+RD[r+20>>2],+RD[r+24>>2],p+16|0)|0)?!0:MA(+RD[p>>2],+RD[p+4>>2],+RD[p+8>>2],+RD[r+16>>2],+RD[r+20>>2],+RD[r+24>>2],+RD[e+16>>2],+RD[e+20>>2],+RD[e+24>>2],p+16|0)|0)||(RD[p+16>>2]=(+RD[e+16>>2]*+RD[p>>2]+ +RD[e+20>>2]*+RD[p+4>>2]+ +RD[e+24>>2]*+RD[p+8>>2])/d),RD[p>>2]=1/d*+RD[p>>2],RD[p+4>>2]=1/d*+RD[p+4>>2],RD[p+8>>2]=1/d*+RD[p+8>>2],o)return t=p,t|0;if(+RD[p+16>>2]>=-9999999747378752e-21)return t=p,t|0;CD[t>>2]=3;break}CD[t>>2]=2}while(0);return n=CD[p+48>>2]|0,n&&(CD[n+44>>2]=CD[p+44>>2]),n=CD[p+44>>2]|0,n&&(CD[n+48>>2]=CD[p+48>>2]),(CD[t+9280>>2]|0)==(p|0)&&(CD[t+9280>>2]=CD[p+48>>2]),CD[t+9284>>2]=(CD[t+9284>>2]|0)+-1,CD[p+44>>2]=0,CD[p+48>>2]=CD[t+9288>>2],n=CD[t+9288>>2]|0,n&&(CD[n+44>>2]=p),CD[t+9288>>2]=p,CD[t+9292>>2]=(CD[t+9292>>2]|0)+1,t=0,t|0}function MA(t,e,i,r,o,n,a,s,l,c){return t=+t,e=+e,i=+i,r=+r,o=+o,n=+n,a=+a,s=+s,l=+l,c|=0,((a-r)*e-(s-o)*t)*n+(((s-o)*i-(l-n)*e)*r+((l-n)*t-(a-r)*i)*o)<0?(a-r)*r+(s-o)*o+(l-n)*n>0?(i=+ND(+(r*r+o*o+n*n)),RD[c>>2]=i,c=1,c|0):(a-r)*a+(s-o)*s+(l-n)*l<0?(i=+ND(+(a*a+s*s+l*l)),RD[c>>2]=i,c=1,c|0):(i=((a*a+s*s+l*l)*(r*r+o*o+n*n)-(a*r+s*o+l*n)*(a*r+s*o+l*n))/((a-r)*(a-r)+(s-o)*(s-o)+(l-n)*(l-n)),i=+ND(+(i>0?i:0)),RD[c>>2]=i,c=1,c|0):(c=0,c|0)}function SA(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0;h=BD,BD=BD+32|0,c=CD[t+372>>2]|0,i=CD[c+32>>2]|0;t:do if((i|0)==3){if(i=CD[c+4>>2]|0,e=CD[c>>2]|0,a=+RD[e+16>>2],n=+RD[i+16>>2]-a,s=+RD[e+20>>2],o=+RD[i+20>>2]-s,l=+RD[e+24>>2],r=+RD[i+24>>2]-l,i=CD[c+8>>2]|0,a=+RD[i+16>>2]-a,s=+RD[i+20>>2]-s,l=+RD[i+24>>2]-l,(o*l-r*s)*(o*l-r*s)+(r*a-n*l)*(r*a-n*l)+(n*s-o*a)*(n*s-o*a)>0){if(RD[c+28>>2]=0,i=(CD[t+364>>2]|0)+-1|0,CD[t+364>>2]=i,CD[c+12>>2]=CD[t+348+(i<<2)>>2],i=CD[c+32>>2]|0,CD[c+32>>2]=i+1,bA(t,o*l-r*s,r*a-n*l,n*s-o*a,CD[c+(i<<2)>>2]|0),SA(t)|0)return t=1,BD=h,t|0;if(i=CD[t+372>>2]|0,c=(CD[i+32>>2]|0)+-1|0,CD[i+32>>2]=c,c=CD[i+(c<<2)>>2]|0,i=CD[t+364>>2]|0,CD[t+364>>2]=i+1,CD[t+348+(i<<2)>>2]=c,i=CD[t+372>>2]|0,RD[i+16+(CD[i+32>>2]<<2)>>2]=0,c=(CD[t+364>>2]|0)+-1|0,CD[t+364>>2]=c,CD[i+(CD[i+32>>2]<<2)>>2]=CD[t+348+(c<<2)>>2],c=CD[i+32>>2]|0,CD[i+32>>2]=c+1,bA(t,-(o*l-r*s),-(r*a-n*l),-(n*s-o*a),CD[i+(c<<2)>>2]|0),SA(t)|0)return t=1,BD=h,t|0;c=CD[t+372>>2]|0,i=(CD[c+32>>2]|0)+-1|0,CD[c+32>>2]=i,i=CD[c+(i<<2)>>2]|0,c=CD[t+364>>2]|0,CD[t+364>>2]=c+1,CD[t+348+(c<<2)>>2]=i;break}}else if((i|0)==1){for(e=1,i=0;;){if(CD[h+16>>2]=0,CD[h+16+4>>2]=0,CD[h+16+8>>2]=0,CD[h+16+12>>2]=0,RD[h+16+(i<<2)>>2]=1,u=c+32|0,RD[c+16+(e<<2)>>2]=0,e=(CD[t+364>>2]|0)+-1|0,CD[t+364>>2]=e,CD[c+(CD[u>>2]<<2)>>2]=CD[t+348+(e<<2)>>2],e=CD[u>>2]|0,CD[u>>2]=e+1,r=+RD[h+16>>2],o=+RD[h+16+4>>2],n=+RD[h+16+8>>2],bA(t,r,o,n,CD[c+(e<<2)>>2]|0),SA(t)|0){e=1,i=19;break}if(u=CD[t+372>>2]|0,c=(CD[u+32>>2]|0)+-1|0,CD[u+32>>2]=c,c=CD[u+(c<<2)>>2]|0,u=CD[t+364>>2]|0,CD[t+364>>2]=u+1,CD[t+348+(u<<2)>>2]=c,u=CD[t+372>>2]|0,RD[u+16+(CD[u+32>>2]<<2)>>2]=0,c=(CD[t+364>>2]|0)+-1|0,CD[t+364>>2]=c,CD[u+(CD[u+32>>2]<<2)>>2]=CD[t+348+(c<<2)>>2],c=CD[u+32>>2]|0,CD[u+32>>2]=c+1,bA(t,-r,-o,-n,CD[u+(c<<2)>>2]|0),SA(t)|0){e=1,i=19;break}if(c=CD[t+372>>2]|0,u=(CD[c+32>>2]|0)+-1|0,CD[c+32>>2]=u,u=CD[c+(u<<2)>>2]|0,c=CD[t+364>>2]|0,CD[t+364>>2]=c+1,CD[t+348+(c<<2)>>2]=u,i=i+1|0,i>>>0>=3)break t;c=CD[t+372>>2]|0,e=CD[c+32>>2]|0}if((i|0)==19)return BD=h,e|0}else if((i|0)==2){for(i=CD[c+4>>2]|0,c=CD[c>>2]|0,l=+RD[i+16>>2]-+RD[c+16>>2],s=+RD[i+20>>2]-+RD[c+20>>2],a=+RD[i+24>>2]-+RD[c+24>>2],c=0;;){if(CD[h>>2]=0,CD[h+4>>2]=0,CD[h+8>>2]=0,CD[h+12>>2]=0,RD[h+(c<<2)>>2]=1,n=+RD[h+8>>2],o=+RD[h+4>>2],r=+RD[h>>2],(s*n-a*o)*(s*n-a*o)+(a*r-l*n)*(a*r-l*n)+(l*o-s*r)*(l*o-s*r)>0){if(u=CD[t+372>>2]|0,RD[u+16+(CD[u+32>>2]<<2)>>2]=0,i=(CD[t+364>>2]|0)+-1|0,CD[t+364>>2]=i,CD[u+(CD[u+32>>2]<<2)>>2]=CD[t+348+(i<<2)>>2],i=CD[u+32>>2]|0,CD[u+32>>2]=i+1,bA(t,s*n-a*o,a*r-l*n,l*o-s*r,CD[u+(i<<2)>>2]|0),SA(t)|0){e=1,i=19;break}if(u=CD[t+372>>2]|0,i=(CD[u+32>>2]|0)+-1|0,CD[u+32>>2]=i,i=CD[u+(i<<2)>>2]|0,u=CD[t+364>>2]|0,CD[t+364>>2]=u+1,CD[t+348+(u<<2)>>2]=i,u=CD[t+372>>2]|0,RD[u+16+(CD[u+32>>2]<<2)>>2]=0,i=(CD[t+364>>2]|0)+-1|0,CD[t+364>>2]=i,CD[u+(CD[u+32>>2]<<2)>>2]=CD[t+348+(i<<2)>>2],i=CD[u+32>>2]|0,CD[u+32>>2]=i+1,bA(t,-(s*n-a*o),-(a*r-l*n),-(l*o-s*r),CD[u+(i<<2)>>2]|0),SA(t)|0){e=1,i=19;break}i=CD[t+372>>2]|0,u=(CD[i+32>>2]|0)+-1|0,CD[i+32>>2]=u,u=CD[i+(u<<2)>>2]|0,i=CD[t+364>>2]|0,CD[t+364>>2]=i+1,CD[t+348+(i<<2)>>2]=u}if(c=c+1|0,c>>>0>=3)break t}if((i|0)==19)return BD=h,e|0}else if((i|0)==4?(t=CD[c>>2]|0,i=CD[c+12>>2]|0,l=+RD[i+16>>2],f=+RD[t+16>>2]-l,d=+RD[i+20>>2],r=+RD[t+20>>2]-d,n=+RD[i+24>>2],a=+RD[t+24>>2]-n,t=CD[c+4>>2]|0,o=+RD[t+16>>2]-l,s=+RD[t+20>>2]-d,p=+RD[t+24>>2]-n,t=CD[c+8>>2]|0,l=+RD[t+16>>2]-l,d=+RD[t+20>>2]-d,n=+RD[t+24>>2]-n,!(f*s*n+(r*p*l+a*o*d-f*p*d-r*o*n)-a*s*l!=f*s*n+(r*p*l+a*o*d-f*p*d-r*o*n)-a*s*l|f*s*n+(r*p*l+a*o*d-f*p*d-r*o*n)-a*s*l==0)):0)return t=1,BD=h,t|0;while(0);return t=0,BD=h,t|0}function TA(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0;if(w=BD,BD=BD+80|0,CD[w+64>>2]=t,CD[w+64+4>>2]=e,CD[w+64+8>>2]=i,h=+RD[t>>2],p=+RD[e>>2],y=+RD[t+4>>2],C=+RD[e+4>>2],s=+RD[t+8>>2],l=+RD[e+8>>2],RD[w+16>>2]=h-p,RD[w+16+4>>2]=y-C,RD[w+16+8>>2]=s-l,RD[w+16+12>>2]=0,c=+RD[i>>2],u=+RD[i+4>>2],d=+RD[i+8>>2],RD[w+16+16>>2]=p-c,RD[w+16+20>>2]=C-u,RD[w+16+24>>2]=l-d,RD[w+16+28>>2]=0,RD[w+16+32>>2]=c-h,RD[w+16+36>>2]=u-y,RD[w+16+40>>2]=d-s,RD[w+16+44>>2]=0,f=(y-C)*(l-d)-(s-l)*(C-u),_=(s-l)*(p-c)-(l-d)*(h-p),m=(C-u)*(h-p)-(y-C)*(p-c),!(m*m+(f*f+_*_)>0))return A=-1,BD=w,+A;for(CD[w>>2]=0,CD[w+4>>2]=0,CD[w+8>>2]=0,g=y-C,b=s-l,v=h-p,M=h,S=y,T=s,E=t,n=0,a=-1;;){if((M*(m*g-_*b)+S*(f*b-m*v)+(_*v-f*g)*T>0?(x=CD[19520+(n<<2)>>2]|0,A=+xA(E,CD[w+64+(x<<2)>>2]|0,w,w+8|0),a<0|A<a):0)&&(E=CD[w+8>>2]|0,CD[o>>2]=((E&1|0)==0?0:1<<n)+((E&2|0)==0?0:1<<x),RD[r+(n<<2)>>2]=+RD[w>>2],RD[r+(x<<2)>>2]=+RD[w+4>>2],RD[r+(CD[19520+(x<<2)>>2]<<2)>>2]=0,a=A),n=n+1|0,(n|0)==3)break;E=CD[w+64+(n<<2)>>2]|0,g=+RD[w+16+(n<<4)+4>>2],b=+RD[w+16+(n<<4)+8>>2],v=+RD[w+16+(n<<4)>>2],M=+RD[E>>2],S=+RD[E+4>>2],T=+RD[E+8>>2]}return a<0?(T=+ND(+(m*m+(f*f+_*_))),A=(f*+RD[t>>2]+_*+RD[t+4>>2]+m*+RD[t+8>>2])/(m*m+(f*f+_*_)),CD[o>>2]=7,v=+RD[e>>2]-f*A,S=+RD[e+4>>2]-_*A,M=+RD[e+8>>2]-m*A,C=+ND(+((S*(p-c)-v*(C-u))*(S*(p-c)-v*(C-u))+(((C-u)*M-S*(l-d))*((C-u)*M-S*(l-d))+(v*(l-d)-M*(p-c))*(v*(l-d)-M*(p-c)))))/T,RD[r>>2]=C,M=+RD[i>>2]-f*A,v=+RD[i+4>>2]-_*A,S=+RD[i+8>>2]-m*A,T=+ND(+((v*(c-h)-M*(u-y))*(v*(c-h)-M*(u-y))+(((u-y)*S-v*(d-s))*((u-y)*S-v*(d-s))+(M*(d-s)-S*(c-h))*(M*(d-s)-S*(c-h)))))/T,RD[r+4>>2]=T,RD[r+8>>2]=1-(T+C),A=m*A*m*A+(f*A*f*A+_*A*_*A),BD=w,+A):(A=a,BD=w,+A)}function xA(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0;return o=+RD[t>>2],l=+RD[e>>2]-o,a=+RD[t+4>>2],c=+RD[e+4>>2]-a,n=+RD[t+8>>2],s=+RD[e+8>>2]-n,l*l+c*c+s*s>0?(o=-(o*l+a*c+n*s)/(l*l+c*c+s*s),o>=1?(RD[i>>2]=0,RD[i+4>>2]=1,CD[r>>2]=2,s=+RD[e>>2],l=+RD[e+4>>2],c=+RD[e+8>>2],c=s*s+l*l+c*c,+c):o<=0?(RD[i>>2]=1,RD[i+4>>2]=0,CD[r>>2]=1,s=+RD[t>>2],l=+RD[t+4>>2],c=+RD[t+8>>2],c=s*s+l*l+c*c,+c):(RD[i+4>>2]=o,RD[i>>2]=1-o,CD[r>>2]=3,a=l*o+ +RD[t>>2],l=c*o+ +RD[t+4>>2],c=s*o+ +RD[t+8>>2],c=a*a+l*l+c*c,+c)):(c=-1,+c)}function CA(t,e){t|=0,e|=0}function EA(t){t|=0,ww(t)}function AA(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0;if(CD[t+12>>2]|0&&TD[t+8>>0]|0){if(r=CD[e+4>>2]|0,(r|0)==(CD[e+8>>2]|0)?(s=(r|0)==0?1:r<<1,(r|0)<(s|0)):0){if(s?(CD[5108]=(CD[5108]|0)+1,i=Aw((s<<2|3)+16|0)|0,i?(CD[(i+4+15&-16)+-4>>2]=i,r=i+4+15&-16):r=0,a=r,r=CD[e+4>>2]|0):a=0,(r|0)>0)for(i=r+-1|0,n=0;;){if(o=a+(n<<2)|0,o&&(CD[o>>2]=CD[(CD[e+12>>2]|0)+(n<<2)>>2]),(n|0)==(i|0))break;n=n+1|0}i=CD[e+12>>2]|0,i&&(TD[e+16>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[i+-4>>2]|0),r=CD[e+4>>2]|0),CD[e+12>>2]=0),TD[e+16>>0]=1,CD[e+12>>2]=a,CD[e+8>>2]=s}i=(CD[e+12>>2]|0)+(r<<2)|0,i&&(CD[i>>2]=CD[t+12>>2]),CD[e+4>>2]=r+1}}function wA(t){t|=0,ww(t)}function RA(t){t|=0,ww(t)}function DA(t){return t|=0,CD[t+16>>2]|0}function PA(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0;CD[4974]=(CD[4974]|0)+1,c=((i<<16|e)+~((i<<16|e)<<15)>>10^(i<<16|e)+~((i<<16|e)<<15))*9|0,c=(c>>6^c)+~((c>>6^c)<<11)>>16^(c>>6^c)+~((c>>6^c)<<11),h=CD[t+12>>2]|0,r=CD[(CD[t+40>>2]|0)+((h+-1&c)<<2)>>2]|0;t:do if((r|0)!=-1){for(o=CD[t+16>>2]|0;;){if((CD[o+(r*12|0)>>2]|0)==(e|0)?(CD[o+(r*12|0)+4>>2]|0)==(i|0):0)break;if(r=CD[(CD[t+60>>2]|0)+(r<<2)>>2]|0,(r|0)==-1)break t}if(r=o+(r*12|0)|0)return t=r,t|0}while(0);if(l=CD[t+8>>2]|0,(l|0)==(h|0))if(s=(h|0)==0?1:h<<1,(h|0)<(s|0)){if(s?(CD[5108]=(CD[5108]|0)+1,r=Aw((s*12|3)+16|0)|0,r?(CD[(r+4+15&-16)+-4>>2]=r,r=r+4+15&-16):r=0,o=CD[t+8>>2]|0):(r=0,o=h),(o|0)>0)for(o=o+-1|0,a=0;;){if(n=r+(a*12|0)|0,n&&(u=(CD[t+16>>2]|0)+(a*12|0)|0,CD[n>>2]=CD[u>>2],CD[n+4>>2]=CD[u+4>>2],CD[n+8>>2]=CD[u+8>>2]),(a|0)==(o|0))break;a=a+1|0}o=CD[t+16>>2]|0,o&&(TD[t+20>>0]|0&&(CD[5110]=(CD[5110]|0)+1,ww(CD[o+-4>>2]|0)),CD[t+16>>2]=0),TD[t+20>>0]=1,CD[t+16>>2]=r,CD[t+12>>2]=s,o=CD[t+8>>2]|0,r=s}else o=h,r=h;else o=l,r=h;return CD[t+8>>2]=o+1,o=CD[t+16>>2]|0,(h|0)<(r|0)?(jv(t),r=(CD[t+12>>2]|0)+-1&c):r=h+-1&c,CD[o+(l*12|0)>>2]=e,CD[o+(l*12|0)+4>>2]=i,CD[o+(l*12|0)+8>>2]=0,u=(CD[t+40>>2]|0)+(r<<2)|0,CD[(CD[t+60>>2]|0)+(l<<2)>>2]=CD[u>>2],CD[u>>2]=l,u=o+(l*12|0)|0,u|0}function BA(t,e){t|=0,e|=0}function VA(t,e){t|=0,e|=0}function LA(){for(var t=0,e=0;;){if(t=Aw(8)|0){e=6;break}if(t=CD[5230]|0,CD[5230]=t+0,!t){e=5;break}ZP[t&3]()}if((e|0)==5)e=cP(4)|0,CD[e>>2]=20816,sP(e|0,20864,207);else if((e|0)==6)return CD[5090]=t,uP(t|0,0)|0,CD[5092]=20408,CD[5093]=0,CD[5094]=0,CD[5095]=0,CD[5096]=0,CD[5097]=0,CD[5098]=0,CD[5099]=0,CD[5100]=0,void lM(20368)}function kA(t){t|=0}function HA(t){t|=0,ww(t)}function IA(t,e,i){t|=0,e|=0,i|=0;var r=0;return t=CD[e>>2]|0,r=CD[i>>2]|0,t=(CD[t+236>>2]|0)==4?t:0,r=(CD[r+236>>2]|0)==4?r:0,t&&QP[CD[(CD[t>>2]|0)+28>>2]&127](t,i,e),r?(QP[CD[(CD[r>>2]|0)+28>>2]&127](r,e,i),0):0}function OA(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;return t=CD[e>>2]|0,o=CD[i>>2]|0,t=(CD[t+236>>2]|0)==4?t:0,o=(CD[o+236>>2]|0)==4?o:0,t&&eB[CD[(CD[t>>2]|0)+32>>2]&127](t,i,r,e),o?(eB[CD[(CD[o>>2]|0)+32>>2]&127](o,e,r,i),0):0}function JA(t,e,i){t|=0,e|=0,i|=0}function NA(t){t|=0}function FA(t){t|=0}function GA(t){t|=0,t&&(CD[5110]=(CD[5110]|0)+1,ww(CD[t+-4>>2]|0))}function zA(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0;i=BD,BD=BD+176|0,f=+RD[t+68>>2],RD[i+128>>2]=f,p=+RD[t+84>>2],RD[i+128+4>>2]=p,d=+RD[t+100>>2],RD[i+128+8>>2]=d,RD[i+128+12>>2]=0,u=+RD[t+72>>2],RD[i+128+16>>2]=u,h=+RD[t+88>>2],RD[i+128+20>>2]=h,c=+RD[t+104>>2],RD[i+128+24>>2]=c,RD[i+128+28>>2]=0,l=+RD[t+76>>2],RD[i+128+32>>2]=l,a=+RD[t+92>>2],RD[i+128+36>>2]=a,o=+RD[t+108>>2],RD[i+128+40>>2]=o,RD[i+128+44>>2]=0,s=-+RD[t+116>>2],n=-+RD[t+120>>2],r=-+RD[t+124>>2],CD[i>>2]=CD[i+128>>2],CD[i+4>>2]=CD[i+128+4>>2],CD[i+8>>2]=CD[i+128+8>>2],CD[i+12>>2]=CD[i+128+12>>2],CD[i+16>>2]=CD[i+128+16>>2],CD[i+16+4>>2]=CD[i+128+16+4>>2],CD[i+16+8>>2]=CD[i+128+16+8>>2],CD[i+16+12>>2]=CD[i+128+16+12>>2],CD[i+32>>2]=CD[i+128+32>>2],CD[i+32+4>>2]=CD[i+128+32+4>>2],CD[i+32+8>>2]=CD[i+128+32+8>>2],CD[i+32+12>>2]=CD[i+128+32+12>>2],RD[i+48>>2]=f*s+p*n+d*r,RD[i+52>>2]=u*s+h*n+c*r,RD[i+56>>2]=l*s+a*n+o*r,RD[i+60>>2]=0,i_(i+64|0,i,t+4|0),CD[e>>2]=CD[i+64>>2],CD[e+4>>2]=CD[i+64+4>>2],CD[e+8>>2]=CD[i+64+8>>2],CD[e+12>>2]=CD[i+64+12>>2],CD[e+16>>2]=CD[i+64+16>>2],CD[e+16+4>>2]=CD[i+64+16+4>>2],CD[e+16+8>>2]=CD[i+64+16+8>>2],CD[e+16+12>>2]=CD[i+64+16+12>>2],CD[e+32>>2]=CD[i+64+32>>2],CD[e+32+4>>2]=CD[i+64+32+4>>2],CD[e+32+8>>2]=CD[i+64+32+8>>2],CD[e+32+12>>2]=CD[i+64+32+12>>2],CD[e+48>>2]=CD[i+64+48>>2],CD[e+48+4>>2]=CD[i+64+48+4>>2],CD[e+48+8>>2]=CD[i+64+48+8>>2],CD[e+48+12>>2]=CD[i+64+48+12>>2],BD=i}function jA(t,e){t|=0,e|=0;var i=0;i=BD,BD=BD+64|0,i_(i,e,t+68|0),CD[t+4>>2]=CD[i>>2],CD[t+4+4>>2]=CD[i+4>>2],CD[t+4+8>>2]=CD[i+8>>2],CD[t+4+12>>2]=CD[i+12>>2],CD[t+20>>2]=CD[i+16>>2],CD[t+20+4>>2]=CD[i+16+4>>2],CD[t+20+8>>2]=CD[i+16+8>>2],CD[t+20+12>>2]=CD[i+16+12>>2],CD[t+36>>2]=CD[i+32>>2],CD[t+36+4>>2]=CD[i+32+4>>2],CD[t+36+8>>2]=CD[i+32+8>>2],CD[t+36+12>>2]=CD[i+32+12>>2],CD[t+52>>2]=CD[i+48>>2],CD[t+52+4>>2]=CD[i+48+4>>2],CD[t+52+8>>2]=CD[i+48+8>>2],CD[t+52+12>>2]=CD[i+48+12>>2],BD=i}function UA(t){t|=0}function WA(t){t|=0}function XA(t){t|=0,ww(t)}function qA(t,e){return t|=0,e|=0,(xD[e+4>>1]&xD[t+6>>1])<<16>>16?(t=(xD[t+4>>1]&xD[e+6>>1])<<16>>16!=0,t|0):(t=0,t|0)}function KA(t,e,i,r,o,n,a,s){return t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,+ +dP(0,t|0,e|0,i|0,r|0,o|0,n|0,a|0,s|0)}function YA(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0;n=+RD[e>>2],r=+RD[e+4>>2],l=+RD[e+8>>2],a=+RD[e+12>>2],o=n*(2/(n*n+r*r+l*l+a*a)),i=r*(2/(n*n+r*r+l*l+a*a)),s=l*(2/(n*n+r*r+l*l+a*a)),RD[t>>2]=1-(r*i+l*s),RD[t+4>>2]=n*i-a*s,RD[t+8>>2]=n*s+a*i,RD[t+12>>2]=0,RD[t+16>>2]=n*i+a*s,RD[t+20>>2]=1-(n*o+l*s),RD[t+24>>2]=r*s-a*o,RD[t+28>>2]=0,RD[t+32>>2]=n*s-a*i,RD[t+36>>2]=r*s+a*o,RD[t+40>>2]=1-(n*o+r*i),RD[t+44>>2]=0}function QA(t,e){t|=0,e|=0;var i=0;i=BD,BD=BD+16|0,CD[i>>2]=e,e=CD[LD>>2]|0,YD(e|0,t|0,i|0)|0,aP(10,e|0)|0,lP()}function ZA(t){t|=0}function $A(t){t|=0,ww(t)}function tw(t){return t|=0,20832}function ew(t){t|=0}function iw(t){t|=0}function rw(t){t|=0}function ow(t){t|=0,ww(t)}function nw(t){t|=0,ww(t)}function aw(t){t|=0,ww(t)}function sw(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0;if(n=BD,BD=BD+64|0,(t|0)!=(e|0))if((e|0)!=0?(o=dw(e,21072)|0,(o|0)!=0):0){e=n,r=e+56|0;do CD[e>>2]=0,e=e+4|0;while((e|0)<(r|0));CD[n>>2]=o,CD[n+8>>2]=t,CD[n+12>>2]=-1,CD[n+48>>2]=1,eB[CD[(CD[o>>2]|0)+28>>2]&127](o,n,CD[i>>2]|0,1),(CD[n+24>>2]|0)==1?(CD[i>>2]=CD[n+16>>2],e=1):e=0}else e=0;else e=1;return BD=n,e|0}function lw(t,e,i,r){t|=0,e|=0,i|=0,r|=0;do if((t|0)==(CD[e+8>>2]|0)){if(t=CD[e+16>>2]|0,!t){CD[e+16>>2]=i,CD[e+24>>2]=r,CD[e+36>>2]=1;break}if((t|0)!=(i|0)){CD[e+36>>2]=(CD[e+36>>2]|0)+1,CD[e+24>>2]=2,TD[e+54>>0]=1;break}(CD[e+24>>2]|0)==2&&(CD[e+24>>2]=r)}while(0)}function cw(t,e,i,r){t|=0,e|=0,i|=0,r|=0;do if((t|0)==(CD[e+8>>2]|0)){if(t=CD[e+16>>2]|0,!t){CD[e+16>>2]=i,CD[e+24>>2]=r,CD[e+36>>2]=1;break}if((t|0)!=(i|0)){CD[e+36>>2]=(CD[e+36>>2]|0)+1,CD[e+24>>2]=2,TD[e+54>>0]=1;break}(CD[e+24>>2]|0)==2&&(CD[e+24>>2]=r)}else t=CD[t+8>>2]|0,eB[CD[(CD[t>>2]|0)+28>>2]&127](t,e,i,r);while(0)}function hw(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0;o=CD[t+4>>2]|0,n=o&1?CD[(CD[i>>2]|0)+(o>>8)>>2]|0:o>>8,t=CD[t>>2]|0,eB[CD[(CD[t>>2]|0)+28>>2]&127](t,e,i+n|0,(o&2|0)!=0?r:2)}function uw(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0;t:do if((t|0)==(CD[e+8>>2]|0)){if(o=CD[e+16>>2]|0,!o){CD[e+16>>2]=i,CD[e+24>>2]=r,CD[e+36>>2]=1;break}if((o|0)!=(i|0)){CD[e+36>>2]=(CD[e+36>>2]|0)+1,CD[e+24>>2]=2,TD[e+54>>0]=1;break}(CD[e+24>>2]|0)==2&&(CD[e+24>>2]=r)}else if(o=CD[t+12>>2]|0,hw(t+16|0,e,i,r),(o|0)>1){n=t+24|0;do{if(hw(n,e,i,r),TD[e+54>>0]|0)break t;n=n+8|0}while(n>>>0<(t+16+(o<<3)|0)>>>0)}while(0)}function dw(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0;n=BD,BD=BD+64|0,o=CD[t>>2]|0,r=t+(CD[o+-8>>2]|0)|0,o=CD[o+-4>>2]|0,CD[n>>2]=e,CD[n+4>>2]=t,CD[n+8>>2]=21016,t=n+12|0,i=t+40|0;do CD[t>>2]=0,t=t+4|0;while((t|0)<(i|0));xD[n+12+40>>1]=0,TD[n+12+42>>0]=0;do if((o|0)==(e|0))CD[n+48>>2]=1,PP[CD[(CD[e>>2]|0)+20>>2]&7](e,n,r,r,1,0),t=(CD[n+24>>2]|0)==1?r:0;else{if(_P[CD[(CD[o>>2]|0)+24>>2]&31](o,n,r,1,0),t=CD[n+36>>2]|0,!t){t=((CD[n+40>>2]|0)==1?(CD[n+28>>2]|0)==1:0)&(CD[n+32>>2]|0)==1?CD[n+20>>2]|0:0;break}if((t|0)!=1){t=0;break}if((CD[n+24>>2]|0)!=1?!(((CD[n+40>>2]|0)==0?(CD[n+28>>2]|0)==1:0)&(CD[n+32>>2]|0)==1):0){t=0;break}t=CD[n+16>>2]|0}while(0);return BD=n,t|0}function pw(t,e,i,r){t|=0,e|=0,i|=0,r|=0,TD[t+53>>0]=1;do if((CD[t+4>>2]|0)==(i|0)){if(TD[t+52>>0]=1,i=CD[t+16>>2]|0,!i){if(CD[t+16>>2]=e,CD[t+24>>2]=r,CD[t+36>>2]=1,!((r|0)==1?(CD[t+48>>2]|0)==1:0))break;TD[t+54>>0]=1;break}if((i|0)!=(e|0)){CD[t+36>>2]=(CD[t+36>>2]|0)+1,TD[t+54>>0]=1;break}i=CD[t+24>>2]|0,(i|0)==2?CD[t+24>>2]=r:r=i,((r|0)==1?(CD[t+48>>2]|0)==1:0)&&(TD[t+54>>0]=1)}while(0)}function fw(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0;t:do if((t|0)==(CD[e+8>>2]|0))((CD[e+4>>2]|0)==(i|0)?(CD[e+28>>2]|0)!=1:0)&&(CD[e+28>>2]=r);else{if((t|0)!=(CD[e>>2]|0)){if(a=CD[t+12>>2]|0,mw(t+16|0,e,i,r,o),(a|0)<=1)break;if(n=CD[t+8>>2]|0,(n&2|0)==0?(CD[e+36>>2]|0)!=1:0){if(!(n&1))for(n=t+24|0;;){if(TD[e+54>>0]|0)break t;if((CD[e+36>>2]|0)==1)break t;if(mw(n,e,i,r,o),n=n+8|0,n>>>0>=(t+16+(a<<3)|0)>>>0)break t}for(n=t+24|0;;){if(TD[e+54>>0]|0)break t;if((CD[e+36>>2]|0)==1?(CD[e+24>>2]|0)==1:0)break t;if(mw(n,e,i,r,o),n=n+8|0,n>>>0>=(t+16+(a<<3)|0)>>>0)break t}}for(n=t+24|0;;){if(TD[e+54>>0]|0)break t;if(mw(n,e,i,r,o),n=n+8|0,n>>>0>=(t+16+(a<<3)|0)>>>0)break t}}if((CD[e+16>>2]|0)!=(i|0)?(CD[e+20>>2]|0)!=(i|0):0){if(CD[e+32>>2]=r,(CD[e+44>>2]|0)==4)break;s=t+16+(CD[t+12>>2]<<3)|0,a=0,n=0,r=t+16|0;e:for(;;){if(r>>>0>=s>>>0){l=20;break}if(TD[e+52>>0]=0,TD[e+53>>0]=0,_w(r,e,i,i,1,o),TD[e+54>>0]|0){l=20;break}do if(TD[e+53>>0]|0){if(!(TD[e+52>>0]|0)){if(CD[t+8>>2]&1){n=1;break}n=1,l=20;break e}if((CD[e+24>>2]|0)==1)break e;if(!(CD[t+8>>2]&2))break e;a=1,n=1}while(0);r=r+8|0}do if((l|0)==20){if((a?0:(CD[e+20>>2]=i,CD[e+40>>2]=(CD[e+40>>2]|0)+1,(CD[e+36>>2]|0)==1))?(CD[e+24>>2]|0)==2:0){if(TD[e+54>>0]=1,n)break}else l=24;if((l|0)==24?n:0)break;CD[e+44>>2]=4;break t}while(0);CD[e+44>>2]=3;break}(r|0)==1&&(CD[e+32>>2]=1)}while(0)}function _w(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0;var a=0,s=0;a=CD[t+4>>2]|0,s=a&1?CD[(CD[r>>2]|0)+(a>>8)>>2]|0:a>>8,t=CD[t>>2]|0,PP[CD[(CD[t>>2]|0)+20>>2]&7](t,e,i,r+s|0,(a&2|0)!=0?o:2,n)}function mw(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0;n=CD[t+4>>2]|0,a=n&1?CD[(CD[i>>2]|0)+(n>>8)>>2]|0:n>>8,t=CD[t>>2]|0,_P[CD[(CD[t>>2]|0)+24>>2]&31](t,e,i+a|0,(n&2|0)!=0?r:2,o)}function gw(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0;t:do if((t|0)==(CD[e+8>>2]|0))((CD[e+4>>2]|0)==(i|0)?(CD[e+28>>2]|0)!=1:0)&&(CD[e+28>>2]=r);else{if((t|0)!=(CD[e>>2]|0)){n=CD[t+8>>2]|0,_P[CD[(CD[n>>2]|0)+24>>2]&31](n,e,i,r,o);break}if((CD[e+16>>2]|0)!=(i|0)?(CD[e+20>>2]|0)!=(i|0):0){if(CD[e+32>>2]=r,(CD[e+44>>2]|0)==4)break;TD[e+52>>0]=0,TD[e+53>>0]=0,t=CD[t+8>>2]|0,PP[CD[(CD[t>>2]|0)+20>>2]&7](t,e,i,i,1,o),TD[e+53>>0]|0?TD[e+52>>0]|0||(r=1,n=13):(r=0,n=13);do if((n|0)==13){if(CD[e+20>>2]=i,CD[e+40>>2]=(CD[e+40>>2]|0)+1,(CD[e+36>>2]|0)==1?(CD[e+24>>2]|0)==2:0){if(TD[e+54>>0]=1,r)break}else n=16;if((n|0)==16?r:0)break;CD[e+44>>2]=4;break t}while(0);CD[e+44>>2]=3;break}(r|0)==1&&(CD[e+32>>2]=1)}while(0)}function yw(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;do if((t|0)==(CD[e+8>>2]|0))((CD[e+4>>2]|0)==(i|0)?(CD[e+28>>2]|0)!=1:0)&&(CD[e+28>>2]=r);else if((t|0)==(CD[e>>2]|0)){if((CD[e+16>>2]|0)!=(i|0)?(CD[e+20>>2]|0)!=(i|0):0){CD[e+32>>2]=r,CD[e+20>>2]=i,CD[e+40>>2]=(CD[e+40>>2]|0)+1,((CD[e+36>>2]|0)==1?(CD[e+24>>2]|0)==2:0)&&(TD[e+54>>0]=1),CD[e+44>>2]=4;break}(r|0)==1&&(CD[e+32>>2]=1)}while(0)}function bw(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0;var a=0,s=0,l=0,c=0;if((t|0)==(CD[e+8>>2]|0))pw(e,i,r,o);else{a=TD[e+52>>0]|0,s=TD[e+53>>0]|0,l=CD[t+12>>2]|0,TD[e+52>>0]=0,TD[e+53>>0]=0,_w(t+16|0,e,i,r,o,n);t:do if((l|0)>1){c=t+24|0;do{if(TD[e+54>>0]|0)break t;if(TD[e+52>>0]|0){if((CD[e+24>>2]|0)==1)break t;if(!(CD[t+8>>2]&2))break t}else if((TD[e+53>>0]|0)!=0?(CD[t+8>>2]&1|0)==0:0)break t;TD[e+52>>0]=0,TD[e+53>>0]=0,_w(c,e,i,r,o,n),c=c+8|0}while(c>>>0<(t+16+(l<<3)|0)>>>0)}while(0);TD[e+52>>0]=a,TD[e+53>>0]=s}}function vw(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,(t|0)==(CD[e+8>>2]|0)?pw(e,i,r,o):(t=CD[t+8>>2]|0,PP[CD[(CD[t>>2]|0)+20>>2]&7](t,e,i,r,o,n))}function Mw(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,(t|0)==(CD[e+8>>2]|0)&&pw(e,i,r,o)}function Sw(t,e,i){t|=0,e|=0,i|=0;var r=0;return r=BD,BD=BD+16|0,CD[r>>2]=CD[i>>2],t=DP[CD[(CD[t>>2]|0)+16>>2]&63](t,e,r)|0,t&&(CD[i>>2]=CD[r>>2]),BD=r,t&1|0}function Tw(t){return t|=0,t=t?(dw(t,21184)|0)!=0:0,t&1|0}function xw(){var t=0,e=0,i=0,r=0;r=BD,BD=BD+48|0,iP(20632,3)|0&&QA(20640,r),t=tP(CD[5156]|0)|0,((t|0)!=0?(i=CD[t>>2]|0,(i|0)!=0):0)&&(t=CD[i+48>>2]|0,e=CD[i+48+4>>2]|0,(t&-256|0)==1126902528&(e|0)==1129074247||(CD[r+32>>2]=20456,QA(20568,r+32|0)),t=(t|0)==1126902529&(e|0)==1129074247?CD[i+44>>2]|0:i+80|0,CD[r+44>>2]=t,i=CD[i>>2]|0,t=CD[i+4>>2]|0,sw(20944,i,r+44|0)|0?(i=CD[r+44>>2]|0,i=MP[CD[(CD[i>>2]|0)+8>>2]&127](i)|0,CD[r+8>>2]=20456,CD[r+8+4>>2]=t,CD[r+8+8>>2]=i,QA(20472,r+8|0)):(CD[r+24>>2]=20456,CD[r+24+4>>2]=t,QA(20520,r+24|0))),QA(20608,r+40|0)}function Cw(){var t=0;return t=BD,BD=BD+16|0,rP(20624,215)|0?void QA(20696,t):void(BD=t)}function Ew(t){t|=0;var e=0;return e=BD,BD=BD+16|0,ww(t),nP(CD[5156]|0,0)|0?void QA(20752,e):void(BD=e)}function Aw(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,T=0,x=0,C=0,E=0,A=0,w=0,R=0,D=0;do if(t>>>0<245){if(e=t>>>0<11?16:t+11&-8,t=e>>>3,s=CD[5358]|0,s>>>t&3){e=CD[21472+(((s>>>t&1^1)+t<<1)+2<<2)>>2]|0,i=CD[e+8>>2]|0;do if((21472+((s>>>t&1^1)+t<<1<<2)|0)!=(i|0)){if(i>>>0<(CD[5362]|0)>>>0&&lP(),(CD[i+12>>2]|0)==(e|0)){CD[i+12>>2]=21472+((s>>>t&1^1)+t<<1<<2),CD[21472+(((s>>>t&1^1)+t<<1)+2<<2)>>2]=i;break}lP()}else CD[5358]=s&~(1<<(s>>>t&1^1)+t);while(0);return CD[e+4>>2]=(s>>>t&1^1)+t<<3|3,CD[e+((s>>>t&1^1)+t<<3|4)>>2]=CD[e+((s>>>t&1^1)+t<<3|4)>>2]|1,D=e+8|0,D|0}if(a=CD[5360]|0,e>>>0>a>>>0){if(s>>>t){r=(s>>>t<<t&(2<<t|0-(2<<t))&0-(s>>>t<<t&(2<<t|0-(2<<t))))+-1|0,t=r>>>(r>>>12&16)>>>(r>>>(r>>>12&16)>>>5&8),o=t>>>(t>>>2&4)>>>(t>>>(t>>>2&4)>>>1&2),o=(r>>>(r>>>12&16)>>>5&8|r>>>12&16|t>>>2&4|t>>>(t>>>2&4)>>>1&2|o>>>1&1)+(o>>>(o>>>1&1))|0,t=CD[21472+((o<<1)+2<<2)>>2]|0,r=CD[t+8>>2]|0;do if((21472+(o<<1<<2)|0)!=(r|0)){if(r>>>0<(CD[5362]|0)>>>0&&lP(),(CD[r+12>>2]|0)==(t|0)){CD[r+12>>2]=21472+(o<<1<<2),CD[21472+((o<<1)+2<<2)>>2]=r,c=CD[5360]|0;break}lP()}else CD[5358]=s&~(1<<o),c=a;while(0);return n=(o<<3)-e|0,CD[t+4>>2]=e|3,a=t+e|0,CD[t+(e|4)>>2]=n|1,CD[t+(o<<3)>>2]=n,c&&(o=CD[5363]|0,e=c>>>3,r=CD[5358]|0,r&1<<e?(i=CD[21472+((e<<1)+2<<2)>>2]|0,i>>>0<(CD[5362]|0)>>>0?lP():(l=21472+((e<<1)+2<<2)|0,h=i)):(CD[5358]=r|1<<e,l=21472+((e<<1)+2<<2)|0,h=21472+(e<<1<<2)|0),CD[l>>2]=o,CD[h+12>>2]=o,CD[o+8>>2]=h,CD[o+12>>2]=21472+(e<<1<<2)),CD[5360]=n,CD[5363]=a,D=t+8|0,D|0
}if(t=CD[5359]|0){for(l=((t&0-t)+-1|0)>>>(((t&0-t)+-1|0)>>>12&16),c=l>>>(l>>>5&8)>>>(l>>>(l>>>5&8)>>>2&4),c=CD[21736+((l>>>5&8|((t&0-t)+-1|0)>>>12&16|l>>>(l>>>5&8)>>>2&4|c>>>1&2|c>>>(c>>>1&2)>>>1&1)+(c>>>(c>>>1&2)>>>(c>>>(c>>>1&2)>>>1&1))<<2)>>2]|0,l=(CD[c+4>>2]&-8)-e|0,o=c;;){if(i=CD[o+16>>2]|0,!i&&(i=CD[o+20>>2]|0,!i))break;o=(CD[i+4>>2]&-8)-e|0,D=o>>>0<l>>>0,l=D?o:l,o=i,c=D?i:c}t=CD[5362]|0,c>>>0<t>>>0&&lP(),s=c+e|0,c>>>0>=s>>>0&&lP(),i=CD[c+24>>2]|0,o=CD[c+12>>2]|0;do if((o|0)==(c|0)){if(r=c+20|0,o=CD[r>>2]|0,!o&&(r=c+16|0,o=CD[r>>2]|0,!o)){u=0;break}for(;;)if(a=o+20|0,n=CD[a>>2]|0)o=n,r=a;else{if(a=o+16|0,n=CD[a>>2]|0,!n)break;o=n,r=a}if(!(r>>>0<t>>>0)){CD[r>>2]=0,u=o;break}lP()}else{if(r=CD[c+8>>2]|0,r>>>0<t>>>0&&lP(),(CD[r+12>>2]|0)!=(c|0)&&lP(),(CD[o+8>>2]|0)==(c|0)){CD[r+12>>2]=o,CD[o+8>>2]=r,u=o;break}lP()}while(0);do if(i){if(r=CD[c+28>>2]|0,(c|0)==(CD[21736+(r<<2)>>2]|0)){if(CD[21736+(r<<2)>>2]=u,!u){CD[5359]=CD[5359]&~(1<<r);break}}else if(i>>>0<(CD[5362]|0)>>>0&&lP(),(CD[i+16>>2]|0)==(c|0)?CD[i+16>>2]=u:CD[i+20>>2]=u,!u)break;o=CD[5362]|0,u>>>0<o>>>0&&lP(),CD[u+24>>2]=i,r=CD[c+16>>2]|0;do if(r){if(!(r>>>0<o>>>0)){CD[u+16>>2]=r,CD[r+24>>2]=u;break}lP()}while(0);if(r=CD[c+20>>2]|0){if(!(r>>>0<(CD[5362]|0)>>>0)){CD[u+20>>2]=r,CD[r+24>>2]=u;break}lP()}}while(0);return l>>>0<16?(D=l+e|0,CD[c+4>>2]=D|3,D=c+(D+4)|0,CD[D>>2]=CD[D>>2]|1):(CD[c+4>>2]=e|3,CD[c+(e|4)>>2]=l|1,CD[c+(l+e)>>2]=l,i=CD[5360]|0,i&&(e=CD[5363]|0,r=CD[5358]|0,r&1<<(i>>>3)?(r=CD[21472+((i>>>3<<1)+2<<2)>>2]|0,r>>>0<(CD[5362]|0)>>>0?lP():(p=21472+((i>>>3<<1)+2<<2)|0,d=r)):(CD[5358]=r|1<<(i>>>3),p=21472+((i>>>3<<1)+2<<2)|0,d=21472+(i>>>3<<1<<2)|0),CD[p>>2]=e,CD[d+12>>2]=e,CD[e+8>>2]=d,CD[e+12>>2]=21472+(i>>>3<<1<<2)),CD[5360]=l,CD[5363]=s),D=c+8|0,D|0}_=e}else _=e}else if(t>>>0<=4294967231)if(p=t+11&-8,l=CD[5359]|0){(t+11|0)>>>8?p>>>0>16777215?c=31:(c=(t+11|0)>>>8<<((((t+11|0)>>>8)+1048320|0)>>>16&8),c=14-((c+520192|0)>>>16&4|(((t+11|0)>>>8)+1048320|0)>>>16&8|((c<<((c+520192|0)>>>16&4))+245760|0)>>>16&2)+(c<<((c+520192|0)>>>16&4)<<(((c<<((c+520192|0)>>>16&4))+245760|0)>>>16&2)>>>15)|0,c=p>>>(c+7|0)&1|c<<1):c=0,o=CD[21736+(c<<2)>>2]|0;t:do if(o)for(a=(c|0)==31?0:25-(c>>>1)|0,n=0-p|0,t=0,s=p<<a,a=0;;){if(r=CD[o+4>>2]&-8,(r-p|0)>>>0<n>>>0){if((r|0)==(p|0)){n=r-p|0,t=o,a=o,M=94;break t}n=r-p|0,a=o}if(M=CD[o+20>>2]|0,o=CD[o+16+(s>>>31<<2)>>2]|0,t=(M|0)==0|(M|0)==(o|0)?t:M,!o){M=90;break}s<<=1}else n=0-p|0,t=0,a=0,M=90;while(0);if((M|0)==90){if((t|0)==0&(a|0)==0){if(t=2<<c,!(l&(t|0-t))){_=p;break}u=(l&(t|0-t)&0-(l&(t|0-t)))+-1|0,d=u>>>(u>>>12&16)>>>(u>>>(u>>>12&16)>>>5&8),t=d>>>(d>>>2&4)>>>(d>>>(d>>>2&4)>>>1&2),t=CD[21736+((u>>>(u>>>12&16)>>>5&8|u>>>12&16|d>>>2&4|d>>>(d>>>2&4)>>>1&2|t>>>1&1)+(t>>>(t>>>1&1))<<2)>>2]|0}t?M=94:(c=n,d=a)}if((M|0)==94)for(;;)if(M=0,d=(CD[t+4>>2]&-8)-p|0,o=d>>>0<n>>>0,n=o?d:n,a=o?t:a,o=CD[t+16>>2]|0)t=o,M=94;else{if(t=CD[t+20>>2]|0,!t){c=n,d=a;break}M=94}if((d|0)!=0?c>>>0<((CD[5360]|0)-p|0)>>>0:0){t=CD[5362]|0,d>>>0<t>>>0&&lP(),h=d+p|0,d>>>0>=h>>>0&&lP(),i=CD[d+24>>2]|0,o=CD[d+12>>2]|0;do if((o|0)==(d|0)){if(a=d+20|0,o=CD[a>>2]|0,!o&&(a=d+16|0,o=CD[a>>2]|0,!o)){f=0;break}for(;;)if(n=o+20|0,r=CD[n>>2]|0)o=r,a=n;else{if(n=o+16|0,r=CD[n>>2]|0,!r)break;o=r,a=n}if(!(a>>>0<t>>>0)){CD[a>>2]=0,f=o;break}lP()}else{if(r=CD[d+8>>2]|0,r>>>0<t>>>0&&lP(),(CD[r+12>>2]|0)!=(d|0)&&lP(),(CD[o+8>>2]|0)==(d|0)){CD[r+12>>2]=o,CD[o+8>>2]=r,f=o;break}lP()}while(0);do if(i){if(o=CD[d+28>>2]|0,(d|0)==(CD[21736+(o<<2)>>2]|0)){if(CD[21736+(o<<2)>>2]=f,!f){CD[5359]=CD[5359]&~(1<<o);break}}else if(i>>>0<(CD[5362]|0)>>>0&&lP(),(CD[i+16>>2]|0)==(d|0)?CD[i+16>>2]=f:CD[i+20>>2]=f,!f)break;r=CD[5362]|0,f>>>0<r>>>0&&lP(),CD[f+24>>2]=i,o=CD[d+16>>2]|0;do if(o){if(!(o>>>0<r>>>0)){CD[f+16>>2]=o,CD[o+24>>2]=f;break}lP()}while(0);if(r=CD[d+20>>2]|0){if(!(r>>>0<(CD[5362]|0)>>>0)){CD[f+20>>2]=r,CD[r+24>>2]=f;break}lP()}}while(0);t:do if(c>>>0>=16){if(CD[d+4>>2]=p|3,CD[d+(p|4)>>2]=c|1,CD[d+(c+p)>>2]=c,o=c>>>3,c>>>0<256){i=CD[5358]|0,i&1<<o?(i=CD[21472+((o<<1)+2<<2)>>2]|0,i>>>0<(CD[5362]|0)>>>0?lP():(e=21472+((o<<1)+2<<2)|0,_=i)):(CD[5358]=i|1<<o,e=21472+((o<<1)+2<<2)|0,_=21472+(o<<1<<2)|0),CD[e>>2]=h,CD[_+12>>2]=h,CD[d+(p+8)>>2]=_,CD[d+(p+12)>>2]=21472+(o<<1<<2);break}if(i=c>>>8,i?c>>>0>16777215?o=31:(o=i<<((i+1048320|0)>>>16&8)<<(((i<<((i+1048320|0)>>>16&8))+520192|0)>>>16&4),o=14-(((i<<((i+1048320|0)>>>16&8))+520192|0)>>>16&4|(i+1048320|0)>>>16&8|(o+245760|0)>>>16&2)+(o<<((o+245760|0)>>>16&2)>>>15)|0,o=c>>>(o+7|0)&1|o<<1):o=0,r=21736+(o<<2)|0,CD[d+(p+28)>>2]=o,CD[d+(p+20)>>2]=0,CD[d+(p+16)>>2]=0,i=CD[5359]|0,e=1<<o,!(i&e)){CD[5359]=i|e,CD[r>>2]=h,CD[d+(p+24)>>2]=r,CD[d+(p+12)>>2]=h,CD[d+(p+8)>>2]=h;break}r=CD[r>>2]|0,i=(o|0)==31?0:25-(o>>>1)|0;e:do if((CD[r+4>>2]&-8|0)!=(c|0)){for(o=c<<i;;){if(e=r+16+(o>>>31<<2)|0,i=CD[e>>2]|0,!i)break;if((CD[i+4>>2]&-8|0)==(c|0)){v=i;break e}o<<=1,r=i}if(!(e>>>0<(CD[5362]|0)>>>0)){CD[e>>2]=h,CD[d+(p+24)>>2]=r,CD[d+(p+12)>>2]=h,CD[d+(p+8)>>2]=h;break t}lP()}else v=r;while(0);if(i=v+8|0,e=CD[i>>2]|0,D=CD[5362]|0,v>>>0>=D>>>0&e>>>0>=D>>>0){CD[e+12>>2]=h,CD[i>>2]=h,CD[d+(p+8)>>2]=e,CD[d+(p+12)>>2]=v,CD[d+(p+24)>>2]=0;break}lP()}else D=c+p|0,CD[d+4>>2]=D|3,D=d+(D+4)|0,CD[D>>2]=CD[D>>2]|1;while(0);return D=d+8|0,D|0}_=p}else _=p;else _=-1;while(0);if(t=CD[5360]|0,t>>>0>=_>>>0)return i=t-_|0,e=CD[5363]|0,i>>>0>15?(CD[5363]=e+_,CD[5360]=i,CD[e+(_+4)>>2]=i|1,CD[e+t>>2]=i,CD[e+4>>2]=_|3):(CD[5360]=0,CD[5363]=0,CD[e+4>>2]=t|3,CD[e+(t+4)>>2]=CD[e+(t+4)>>2]|1),D=e+8|0,D|0;if(t=CD[5361]|0,t>>>0>_>>>0)return R=t-_|0,CD[5361]=R,D=CD[5364]|0,CD[5364]=D+_,CD[D+(_+4)>>2]=R|1,CD[D+4>>2]=_|3,D=D+8|0,D|0;do if(!(CD[5476]|0)){if(t=$D(30)|0,!(t+-1&t)){CD[5478]=t,CD[5477]=t,CD[5479]=-1,CD[5480]=-1,CD[5481]=0,CD[5469]=0,v=(hP(0)|0)&-16^1431655768,CD[5476]=v;break}lP()}while(0);if(c=_+48|0,n=CD[5478]|0,l=_+47|0,s=n+l&0-n,s>>>0<=_>>>0)return D=0,D|0;if(t=CD[5468]|0,(t|0)!=0?(v=CD[5466]|0,(v+s|0)>>>0<=v>>>0|(v+s|0)>>>0>t>>>0):0)return D=0,D|0;t:do if(CD[5469]&4)t=0,M=197;else{a=CD[5364]|0;e:do if(a){for(o=21880;;){if(t=CD[o>>2]|0,t>>>0<=a>>>0?(i=o+4|0,(t+(CD[i>>2]|0)|0)>>>0>a>>>0):0)break;if(t=CD[o+8>>2]|0,!t){M=180;break e}o=t}if(t=n+l-(CD[5361]|0)&0-n,t>>>0<2147483647)if(a=ZD(t|0)|0,(a|0)==((CD[o>>2]|0)+(CD[i>>2]|0)|0)){if((a|0)!=-1){v=a,f=t,M=200;break t}}else M=190;else t=0}else M=180;while(0);do if((M|0)==180)if(o=ZD(0)|0,(o|0)!=-1)if(t=CD[5477]|0,t=t+-1&o?s-o+(t+-1+o&0-t)|0:s,a=CD[5466]|0,n=a+t|0,t>>>0>_>>>0&t>>>0<2147483647){if(v=CD[5468]|0,(v|0)!=0?n>>>0<=a>>>0|n>>>0>v>>>0:0){t=0;break}if(a=ZD(t|0)|0,(a|0)==(o|0)){v=o,f=t,M=200;break t}M=190}else t=0;else t=0;while(0);e:do if((M|0)==190){n=0-t|0;do if(c>>>0>t>>>0&(t>>>0<2147483647&(a|0)!=-1)?(m=CD[5478]|0,m=l-t+m&0-m,m>>>0<2147483647):0){if((ZD(m|0)|0)==-1){ZD(n|0)|0,t=0;break e}t=m+t|0;break}while(0);if((a|0)!=-1){v=a,f=t,M=200;break t}t=0}while(0);CD[5469]=CD[5469]|4,M=197}while(0);if(((((M|0)==197?s>>>0<2147483647:0)?(g=ZD(s|0)|0,y=ZD(0)|0,g>>>0<y>>>0&((g|0)!=-1&(y|0)!=-1)):0)?b=(y-g|0)>>>0>(_+40|0)>>>0:0)&&(v=g,f=b?y-g|0:t,M=200),(M|0)==200){a=(CD[5466]|0)+f|0,CD[5466]=a,a>>>0>(CD[5467]|0)>>>0&&(CD[5467]=a),c=CD[5364]|0;t:do if(c){for(r=21880;;){if(t=CD[r>>2]|0,a=r+4|0,n=CD[a>>2]|0,(v|0)==(t+n|0)){M=212;break}if(o=CD[r+8>>2]|0,!o)break;r=o}if(((M|0)==212?(CD[r+12>>2]&8|0)==0:0)?c>>>0<v>>>0&c>>>0>=t>>>0:0){CD[a>>2]=n+f,i=(CD[5361]|0)+f|0,e=c+8&7?0-(c+8)&7:0,D=i-e|0,CD[5364]=c+e,CD[5361]=D,CD[c+(e+4)>>2]=D|1,CD[c+(i+4)>>2]=40,CD[5365]=CD[5480];break}for(t=CD[5362]|0,v>>>0<t>>>0&&(CD[5362]=v,t=v),n=v+f|0,a=21880;;){if((CD[a>>2]|0)==(n|0)){M=222;break}if(a=CD[a+8>>2]|0,!a){o=21880;break}}if((M|0)==222){if(!(CD[a+12>>2]&8)){CD[a>>2]=v,o=a+4|0,CD[o>>2]=(CD[o>>2]|0)+f,o=v+8|0,p=o&7?0-o&7:0,o=v+(f+8)|0,e=o&7?0-o&7:0,o=v+(e+f)|0,u=p+_|0,d=v+u|0,h=o-(v+p)-_|0,CD[v+(p+4)>>2]=_|3;e:do if((o|0)!=(c|0)){if((o|0)==(CD[5363]|0)){D=(CD[5360]|0)+h|0,CD[5360]=D,CD[5363]=d,CD[v+(u+4)>>2]=D|1,CD[v+(D+u)>>2]=D;break}if(c=f+4|0,l=CD[v+(c+e)>>2]|0,(l&3|0)==1){i:do if(l>>>0>=256){s=CD[v+((e|24)+f)>>2]|0,a=CD[v+(f+12+e)>>2]|0;do if((a|0)==(o|0)){if(n=e|16,r=v+(c+n)|0,a=CD[r>>2]|0)n=r;else if(n=v+(n+f)|0,a=CD[n>>2]|0,!a){A=0;break}for(;;)if(r=a+20|0,i=CD[r>>2]|0)a=i,n=r;else{if(r=a+16|0,i=CD[r>>2]|0,!i)break;a=i,n=r}if(!(n>>>0<t>>>0)){CD[n>>2]=0,A=a;break}lP()}else{if(n=CD[v+((e|8)+f)>>2]|0,n>>>0<t>>>0&&lP(),(CD[n+12>>2]|0)!=(o|0)&&lP(),(CD[a+8>>2]|0)==(o|0)){CD[n+12>>2]=a,CD[a+8>>2]=n,A=a;break}lP()}while(0);if(!s)break;t=CD[v+(f+28+e)>>2]|0;do{if((o|0)==(CD[21736+(t<<2)>>2]|0)){if(CD[21736+(t<<2)>>2]=A,A)break;CD[5359]=CD[5359]&~(1<<t);break i}if(s>>>0<(CD[5362]|0)>>>0&&lP(),(CD[s+16>>2]|0)==(o|0)?CD[s+16>>2]=A:CD[s+20>>2]=A,!A)break i}while(0);n=CD[5362]|0,A>>>0<n>>>0&&lP(),CD[A+24>>2]=s,t=e|16,a=CD[v+(t+f)>>2]|0;do if(a){if(!(a>>>0<n>>>0)){CD[A+16>>2]=a,CD[a+24>>2]=A;break}lP()}while(0);if(a=CD[v+(c+t)>>2]|0,!a)break;if(!(a>>>0<(CD[5362]|0)>>>0)){CD[A+20>>2]=a,CD[a+24>>2]=A;break}lP()}else{a=CD[v+((e|8)+f)>>2]|0,n=CD[v+(f+12+e)>>2]|0;do if((a|0)!=(21472+(l>>>3<<1<<2)|0)){if(a>>>0<t>>>0&&lP(),(CD[a+12>>2]|0)==(o|0))break;lP()}while(0);if((n|0)==(a|0)){CD[5358]=CD[5358]&~(1<<(l>>>3));break}do if((n|0)==(21472+(l>>>3<<1<<2)|0))C=n+8|0;else{if(n>>>0<t>>>0&&lP(),(CD[n+8>>2]|0)==(o|0)){C=n+8|0;break}lP()}while(0);CD[a+12>>2]=n,CD[C>>2]=a}while(0);o=v+((l&-8|e)+f)|0,t=(l&-8)+h|0}else t=h;if(o=o+4|0,CD[o>>2]=CD[o>>2]&-2,CD[v+(u+4)>>2]=t|1,CD[v+(t+u)>>2]=t,o=t>>>3,t>>>0<256){r=CD[5358]|0;do if(r&1<<o){if(r=CD[21472+((o<<1)+2<<2)>>2]|0,r>>>0>=(CD[5362]|0)>>>0){w=21472+((o<<1)+2<<2)|0,R=r;break}lP()}else CD[5358]=r|1<<o,w=21472+((o<<1)+2<<2)|0,R=21472+(o<<1<<2)|0;while(0);CD[w>>2]=d,CD[R+12>>2]=d,CD[v+(u+8)>>2]=R,CD[v+(u+12)>>2]=21472+(o<<1<<2);break}i=t>>>8;do if(i){if(t>>>0>16777215){e=31;break}e=i<<((i+1048320|0)>>>16&8)<<(((i<<((i+1048320|0)>>>16&8))+520192|0)>>>16&4),e=14-(((i<<((i+1048320|0)>>>16&8))+520192|0)>>>16&4|(i+1048320|0)>>>16&8|(e+245760|0)>>>16&2)+(e<<((e+245760|0)>>>16&2)>>>15)|0,e=t>>>(e+7|0)&1|e<<1}else e=0;while(0);if(o=21736+(e<<2)|0,CD[v+(u+28)>>2]=e,CD[v+(u+20)>>2]=0,CD[v+(u+16)>>2]=0,r=CD[5359]|0,i=1<<e,!(r&i)){CD[5359]=r|i,CD[o>>2]=d,CD[v+(u+24)>>2]=o,CD[v+(u+12)>>2]=d,CD[v+(u+8)>>2]=d;break}o=CD[o>>2]|0,r=(e|0)==31?0:25-(e>>>1)|0;i:do if((CD[o+4>>2]&-8|0)!=(t|0)){for(e=t<<r;;){if(i=o+16+(e>>>31<<2)|0,r=CD[i>>2]|0,!r)break;if((CD[r+4>>2]&-8|0)==(t|0)){D=r;break i}e<<=1,o=r}if(!(i>>>0<(CD[5362]|0)>>>0)){CD[i>>2]=d,CD[v+(u+24)>>2]=o,CD[v+(u+12)>>2]=d,CD[v+(u+8)>>2]=d;break e}lP()}else D=o;while(0);if(i=D+8|0,e=CD[i>>2]|0,R=CD[5362]|0,D>>>0>=R>>>0&e>>>0>=R>>>0){CD[e+12>>2]=d,CD[i>>2]=d,CD[v+(u+8)>>2]=e,CD[v+(u+12)>>2]=D,CD[v+(u+24)>>2]=0;break}lP()}else D=(CD[5361]|0)+h|0,CD[5361]=D,CD[5364]=d,CD[v+(u+4)>>2]=D|1;while(0);return D=v+(p|8)|0,D|0}o=21880}for(;;){if(t=CD[o>>2]|0,t>>>0<=c>>>0?(S=CD[o+4>>2]|0,(t+S|0)>>>0>c>>>0):0)break;o=CD[o+8>>2]|0}if(o=t+(S+-39)&7?0-(t+(S+-39))&7:0,a=t+(S+-47+o)|0,a=a>>>0<(c+16|0)>>>0?c:a,o=v+8|0,o=o&7?0-o&7:0,D=f+-40-o|0,CD[5364]=v+o,CD[5361]=D,CD[v+(o+4)>>2]=D|1,CD[v+(f+-36)>>2]=40,CD[5365]=CD[5480],CD[a+4>>2]=27,CD[a+8>>2]=CD[5470],CD[a+8+4>>2]=CD[5471],CD[a+8+8>>2]=CD[5472],CD[a+8+12>>2]=CD[5473],CD[5470]=v,CD[5471]=f,CD[5473]=0,CD[5472]=a+8,CD[a+28>>2]=7,(a+32|0)>>>0<(t+S|0)>>>0){r=a+28|0;do D=r,r=r+4|0,CD[r>>2]=7;while((D+8|0)>>>0<(t+S|0)>>>0)}if((a|0)!=(c|0)){if(CD[a+4>>2]=CD[a+4>>2]&-2,CD[c+4>>2]=a-c|1,CD[a>>2]=a-c,(a-c|0)>>>0<256){i=CD[5358]|0;do if(i&1<<((a-c|0)>>>3)){if(i=CD[21472+(((a-c|0)>>>3<<1)+2<<2)>>2]|0,i>>>0>=(CD[5362]|0)>>>0){T=21472+(((a-c|0)>>>3<<1)+2<<2)|0,x=i;break}lP()}else CD[5358]=i|1<<((a-c|0)>>>3),T=21472+(((a-c|0)>>>3<<1)+2<<2)|0,x=21472+((a-c|0)>>>3<<1<<2)|0;while(0);CD[T>>2]=c,CD[x+12>>2]=c,CD[c+8>>2]=x,CD[c+12>>2]=21472+((a-c|0)>>>3<<1<<2);break}if((a-c|0)>>>8?(a-c|0)>>>0>16777215?o=31:(o=(a-c|0)>>>8<<((((a-c|0)>>>8)+1048320|0)>>>16&8),o=14-((o+520192|0)>>>16&4|(((a-c|0)>>>8)+1048320|0)>>>16&8|((o<<((o+520192|0)>>>16&4))+245760|0)>>>16&2)+(o<<((o+520192|0)>>>16&4)<<(((o<<((o+520192|0)>>>16&4))+245760|0)>>>16&2)>>>15)|0,o=(a-c|0)>>>(o+7|0)&1|o<<1):o=0,i=21736+(o<<2)|0,CD[c+28>>2]=o,CD[c+20>>2]=0,CD[c+16>>2]=0,e=CD[5359]|0,r=1<<o,!(e&r)){CD[5359]=e|r,CD[i>>2]=c,CD[c+24>>2]=i,CD[c+12>>2]=c,CD[c+8>>2]=c;break}r=CD[i>>2]|0,i=(o|0)==31?0:25-(o>>>1)|0;e:do if((CD[r+4>>2]&-8|0)!=(a-c|0)){for(o=a-c<<i;;){if(e=r+16+(o>>>31<<2)|0,i=CD[e>>2]|0,!i)break;if((CD[i+4>>2]&-8|0)==(a-c|0)){E=i;break e}o<<=1,r=i}if(!(e>>>0<(CD[5362]|0)>>>0)){CD[e>>2]=c,CD[c+24>>2]=r,CD[c+12>>2]=c,CD[c+8>>2]=c;break t}lP()}else E=r;while(0);if(i=E+8|0,e=CD[i>>2]|0,D=CD[5362]|0,E>>>0>=D>>>0&e>>>0>=D>>>0){CD[e+12>>2]=c,CD[i>>2]=c,CD[c+8>>2]=e,CD[c+12>>2]=E,CD[c+24>>2]=0;break}lP()}}else{D=CD[5362]|0,(D|0)==0|v>>>0<D>>>0&&(CD[5362]=v),CD[5470]=v,CD[5471]=f,CD[5473]=0,CD[5367]=CD[5476],CD[5366]=-1,i=0;do D=i<<1,CD[21472+(D+3<<2)>>2]=21472+(D<<2),CD[21472+(D+2<<2)>>2]=21472+(D<<2),i=i+1|0;while((i|0)!=32);i=v+8|0,i=i&7?0-i&7:0,D=f+-40-i|0,CD[5364]=v+i,CD[5361]=D,CD[v+(i+4)>>2]=D|1,CD[v+(f+-36)>>2]=40,CD[5365]=CD[5480]}while(0);if(e=CD[5361]|0,e>>>0>_>>>0)return R=e-_|0,CD[5361]=R,D=CD[5364]|0,CD[5364]=D+_,CD[D+(_+4)>>2]=R|1,CD[D+4>>2]=_|3,D=D+8|0,D|0}return D=oP()|0,CD[D>>2]=12,D=0,D|0}function ww(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0;if(t){s=CD[5362]|0,(t+-8|0)>>>0<s>>>0&&lP(),f=CD[t+-4>>2]|0,(f&3|0)==1&&lP(),p=t+((f&-8)+-8)|0;do if(f&1)y=t+-8|0,n=f&-8;else{if(c=CD[t+-8>>2]|0,!(f&3))return;if(h=t+(-8-c)|0,u=c+(f&-8)|0,h>>>0<s>>>0&&lP(),(h|0)==(CD[5363]|0)){if(o=CD[t+((f&-8)+-4)>>2]|0,(o&3|0)!=3){y=h,n=u;break}return CD[5360]=u,CD[t+((f&-8)+-4)>>2]=o&-2,CD[t+(-8-c+4)>>2]=u|1,void(CD[p>>2]=u)}if(c>>>0<256){if(o=CD[t+(-8-c+8)>>2]|0,r=CD[t+(-8-c+12)>>2]|0,(o|0)!=(21472+(c>>>3<<1<<2)|0)&&(o>>>0<s>>>0&&lP(),(CD[o+12>>2]|0)!=(h|0)&&lP()),(r|0)==(o|0)){CD[5358]=CD[5358]&~(1<<(c>>>3)),y=h,n=u;break}(r|0)!=(21472+(c>>>3<<1<<2)|0)?(r>>>0<s>>>0&&lP(),(CD[r+8>>2]|0)!=(h|0)?lP():i=r+8|0):i=r+8|0,CD[o+12>>2]=r,CD[i>>2]=o,y=h,n=u;break}e=CD[t+(-8-c+24)>>2]|0,o=CD[t+(-8-c+12)>>2]|0;do if((o|0)==(h|0)){if(o=CD[t+(-8-c+20)>>2]|0)a=t+(-8-c+20)|0;else{if(o=CD[t+(-8-c+16)>>2]|0,!o){l=0;break}a=t+(-8-c+16)|0}for(;;)if(r=o+20|0,i=CD[r>>2]|0)o=i,a=r;else{if(r=o+16|0,i=CD[r>>2]|0,!i)break;o=i,a=r}if(!(a>>>0<s>>>0)){CD[a>>2]=0,l=o;break}lP()}else{if(r=CD[t+(-8-c+8)>>2]|0,r>>>0<s>>>0&&lP(),(CD[r+12>>2]|0)!=(h|0)&&lP(),(CD[o+8>>2]|0)==(h|0)){CD[r+12>>2]=o,CD[o+8>>2]=r,l=o;break}lP()}while(0);if(e){if(o=CD[t+(-8-c+28)>>2]|0,(h|0)==(CD[21736+(o<<2)>>2]|0)){if(CD[21736+(o<<2)>>2]=l,!l){CD[5359]=CD[5359]&~(1<<o),y=h,n=u;break}}else if(e>>>0<(CD[5362]|0)>>>0&&lP(),(CD[e+16>>2]|0)==(h|0)?CD[e+16>>2]=l:CD[e+20>>2]=l,!l){y=h,n=u;break}r=CD[5362]|0,l>>>0<r>>>0&&lP(),CD[l+24>>2]=e,o=CD[t+(-8-c+16)>>2]|0;do if(o){if(!(o>>>0<r>>>0)){CD[l+16>>2]=o,CD[o+24>>2]=l;break}lP()}while(0);if(o=CD[t+(-8-c+20)>>2]|0){if(!(o>>>0<(CD[5362]|0)>>>0)){CD[l+20>>2]=o,CD[o+24>>2]=l,y=h,n=u;break}lP()}else y=h,n=u}else y=h,n=u}while(0);if(y>>>0>=p>>>0&&lP(),i=CD[t+((f&-8)+-4)>>2]|0,i&1||lP(),i&2)CD[t+((f&-8)+-4)>>2]=i&-2,CD[y+4>>2]=n|1,CD[y+n>>2]=n;else{if((p|0)==(CD[5364]|0)){if(b=(CD[5361]|0)+n|0,CD[5361]=b,CD[5364]=y,CD[y+4>>2]=b|1,(y|0)!=(CD[5363]|0))return;return CD[5363]=0,void(CD[5360]=0)}if((p|0)==(CD[5363]|0))return b=(CD[5360]|0)+n|0,CD[5360]=b,CD[5363]=y,CD[y+4>>2]=b|1,void(CD[y+b>>2]=b);n=(i&-8)+n|0;do if(i>>>0>=256){a=CD[t+((f&-8)+16)>>2]|0,o=CD[t+(f&-8|4)>>2]|0;do if((o|0)==(p|0)){if(o=CD[t+((f&-8)+12)>>2]|0)e=t+((f&-8)+12)|0;else{if(o=CD[t+((f&-8)+8)>>2]|0,!o){_=0;break}e=t+((f&-8)+8)|0}for(;;)if(r=o+20|0,i=CD[r>>2]|0)o=i,e=r;else{if(r=o+16|0,i=CD[r>>2]|0,!i)break;o=i,e=r}if(!(e>>>0<(CD[5362]|0)>>>0)){CD[e>>2]=0,_=o;break}lP()}else{if(r=CD[t+(f&-8)>>2]|0,r>>>0<(CD[5362]|0)>>>0&&lP(),(CD[r+12>>2]|0)!=(p|0)&&lP(),(CD[o+8>>2]|0)==(p|0)){CD[r+12>>2]=o,CD[o+8>>2]=r,_=o;break}lP()}while(0);if(a){if(o=CD[t+((f&-8)+20)>>2]|0,(p|0)==(CD[21736+(o<<2)>>2]|0)){if(CD[21736+(o<<2)>>2]=_,!_){CD[5359]=CD[5359]&~(1<<o);break}}else if(a>>>0<(CD[5362]|0)>>>0&&lP(),(CD[a+16>>2]|0)==(p|0)?CD[a+16>>2]=_:CD[a+20>>2]=_,!_)break;r=CD[5362]|0,_>>>0<r>>>0&&lP(),CD[_+24>>2]=a,o=CD[t+((f&-8)+8)>>2]|0;do if(o){if(!(o>>>0<r>>>0)){CD[_+16>>2]=o,CD[o+24>>2]=_;break}lP()}while(0);if(i=CD[t+((f&-8)+12)>>2]|0){if(!(i>>>0<(CD[5362]|0)>>>0)){CD[_+20>>2]=i,CD[i+24>>2]=_;break}lP()}}}else{if(r=CD[t+(f&-8)>>2]|0,o=CD[t+(f&-8|4)>>2]|0,(r|0)!=(21472+(i>>>3<<1<<2)|0)&&(r>>>0<(CD[5362]|0)>>>0&&lP(),(CD[r+12>>2]|0)!=(p|0)&&lP()),(o|0)==(r|0)){CD[5358]=CD[5358]&~(1<<(i>>>3));break}(o|0)!=(21472+(i>>>3<<1<<2)|0)?(o>>>0<(CD[5362]|0)>>>0&&lP(),(CD[o+8>>2]|0)!=(p|0)?lP():d=o+8|0):d=o+8|0,CD[r+12>>2]=o,CD[d>>2]=r}while(0);if(CD[y+4>>2]=n|1,CD[y+n>>2]=n,(y|0)==(CD[5363]|0))return void(CD[5360]=n)}if(r=n>>>3,n>>>0<256)return i=CD[5358]|0,i&1<<r?(i=CD[21472+((r<<1)+2<<2)>>2]|0,i>>>0<(CD[5362]|0)>>>0?lP():(m=21472+((r<<1)+2<<2)|0,g=i)):(CD[5358]=i|1<<r,m=21472+((r<<1)+2<<2)|0,g=21472+(r<<1<<2)|0),CD[m>>2]=y,CD[g+12>>2]=y,CD[y+8>>2]=g,void(CD[y+12>>2]=21472+(r<<1<<2));e=n>>>8,e?n>>>0>16777215?o=31:(o=e<<((e+1048320|0)>>>16&8)<<(((e<<((e+1048320|0)>>>16&8))+520192|0)>>>16&4),o=14-(((e<<((e+1048320|0)>>>16&8))+520192|0)>>>16&4|(e+1048320|0)>>>16&8|(o+245760|0)>>>16&2)+(o<<((o+245760|0)>>>16&2)>>>15)|0,o=n>>>(o+7|0)&1|o<<1):o=0,i=21736+(o<<2)|0,CD[y+28>>2]=o,CD[y+20>>2]=0,CD[y+16>>2]=0,e=CD[5359]|0,r=1<<o;t:do if(e&r){r=CD[i>>2]|0,i=(o|0)==31?0:25-(o>>>1)|0;e:do if((CD[r+4>>2]&-8|0)!=(n|0)){for(o=n<<i;;){if(e=r+16+(o>>>31<<2)|0,i=CD[e>>2]|0,!i)break;if((CD[i+4>>2]&-8|0)==(n|0)){b=i;break e}o<<=1,r=i}if(!(e>>>0<(CD[5362]|0)>>>0)){CD[e>>2]=y,CD[y+24>>2]=r,CD[y+12>>2]=y,CD[y+8>>2]=y;break t}lP()}else b=r;while(0);if(e=b+8|0,i=CD[e>>2]|0,g=CD[5362]|0,b>>>0>=g>>>0&i>>>0>=g>>>0){CD[i+12>>2]=y,CD[e>>2]=y,CD[y+8>>2]=i,CD[y+12>>2]=b,CD[y+24>>2]=0;break}lP()}else CD[5359]=e|r,CD[i>>2]=y,CD[y+24>>2]=i,CD[y+12>>2]=y,CD[y+8>>2]=y;while(0);if(b=(CD[5366]|0)+-1|0,CD[5366]=b,!b){for(e=21888;;){if(e=CD[e>>2]|0,!e)break;e=e+8|0}CD[5366]=-1}}}function Rw(t,e){t=+t,e=+e;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0;if(RD[VD>>2]=t,c=CD[VD>>2]|0,RD[VD>>2]=e,a=CD[VD>>2]|0,(a<<1|0)!=0?!((a&2147483647)>>>0>2139095040|(c>>>23&255|0)==255):0){if(c<<1>>>0<=a<<1>>>0)return(c<<1|0)!=(a<<1|0)?+t:(t*=0,+t);if(c>>>23&255)i=c>>>23&255,o=c&8388607|8388608;else{if((c<<9|0)>-1){r=0,i=c<<9;do r=r+-1|0,i<<=1;while((i|0)>-1)}else r=0;i=r,o=c<<1-r}if(a>>>23&255)s=a>>>23&255,l=a&8388607|8388608;else{if((a<<9|0)>-1){r=0,n=a<<9;do r=r+-1|0,n<<=1;while((n|0)>-1)}else r=0;s=r,l=a<<1-r}n=o-l|0;t:do{if((i|0)>(s|0)){for(a=(n|0)>-1,r=n;;){if(a){if((o|0)==(l|0))break}else r=o;if(o=r<<1,i=i+-1|0,n=o-l|0,!((i|0)>(s|0))){r=n,n=(n|0)>-1;break t}a=(n|0)>-1,r=n}return t*=0,+t}r=n,n=(n|0)>-1}while(0);if(n){if((o|0)==(l|0))return t*=0,+t}else r=o;if(r>>>0<8388608)do r<<=1,i=i+-1|0;while(r>>>0<8388608);return i=(i|0)>0?r+-8388608|i<<23:r>>>(1-i|0),CD[VD>>2]=i|c&-2147483648,t=+RD[VD>>2],+t}return t=t*e/(t*e),+t}function Dw(){}function Pw(t,e,i,r){return t|=0,e|=0,i|=0,r|=0,r=e-r-(i>>>0>t>>>0|0)>>>0,OD=r,t-i>>>0|0|0}function Bw(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0;if(r=t+i|0,(i|0)>=20){if(e&=255,o=t&3,n=e|e<<8|e<<16|e<<24,o)for(o=t+4-o|0;(t|0)<(o|0);)TD[t>>0]=e,t=t+1|0;for(;(t|0)<(r&-4|0);)CD[t>>2]=n,t=t+4|0}for(;(t|0)<(r|0);)TD[t>>0]=e,t=t+1|0;return t-i|0}function Vw(t){t|=0;var e=0;for(e=t;TD[e>>0]|0;)e=e+1|0;return e-t|0}function Lw(t,e,i,r){return t|=0,e|=0,i|=0,r|=0,OD=e+r+(t+i>>>0>>>0<t>>>0|0)>>>0,t+i>>>0|0|0}function kw(t,e,i){t|=0,e|=0,i|=0;var r=0;if((i|0)>=4096)return eP(t|0,e|0,i|0)|0;if(r=t|0,(t&3)==(e&3)){for(;t&3;){if(!i)return r|0;TD[t>>0]=TD[e>>0]|0,t=t+1|0,e=e+1|0,i=i-1|0}for(;(i|0)>=4;)CD[t>>2]=CD[e>>2],t=t+4|0,e=e+4|0,i=i-4|0}for(;(i|0)>0;)TD[t>>0]=TD[e>>0]|0,t=t+1|0,e=e+1|0,i=i-1|0;return r|0}function Hw(t,e,i){t|=0,e|=0,i|=0;var r=0;if((e|0)<(t|0)&(t|0)<(e+i|0)){for(r=t,e=e+i|0,t=t+i|0;(i|0)>0;)t=t-1|0,e=e-1|0,i=i-1|0,TD[t>>0]=TD[e>>0]|0;t=r}else kw(t,e,i)|0;return t|0}function Iw(t){return t|=0,(t&255)<<24|(t>>8&255)<<16|(t>>16&255)<<8|t>>>24|0}function Ow(t,e){t|=0,e|=0;var i=0,r=0,o=0;return i=XD(e&65535,t&65535)|0,o=(i>>>16)+(XD(e&65535,t>>>16)|0)|0,r=XD(e>>>16,t&65535)|0,OD=(o>>>16)+(XD(e>>>16,t>>>16)|0)+(((o&65535)+r|0)>>>16)|0,o+r<<16|i&65535|0|0}function Jw(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0;return o=Ow(t,i)|0,n=OD,OD=(XD(e,i)|0)+(XD(r,t)|0)+n|n&0,o|0|0|0}function Nw(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,_P[t&31](e|0,i|0,r|0,o|0,n|0)}function Fw(t,e,i){t|=0,e|=0,i=+i,mP[t&31](e|0,+i)}function Gw(t,e){t|=0,e|=0,gP[t&255](e|0)}function zw(t,e,i,r,o,n,a){t|=0,e|=0,i|=0,r|=0,o=+o,n|=0,a|=0,yP[t&0](e|0,i|0,r|0,+o,n|0,a|0)}function jw(t,e,i){t|=0,e|=0,i|=0,bP[t&127](e|0,i|0)}function Uw(t,e,i,r,o,n,a,s,l,c,h){return t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,c|=0,h|=0,vP[t&3](e|0,i|0,r|0,o|0,n|0,a|0,s|0,l|0,c|0,h|0)|0}function Ww(t,e){return t|=0,e|=0,MP[t&127](e|0)|0}function Xw(t,e,i,r,o){t|=0,e|=0,i|=0,r=+r,o|=0,SP[t&7](e|0,i|0,+r,o|0)}function qw(t,e,i,r,o,n,a){t|=0,e|=0,i=+i,r=+r,o|=0,n|=0,a|=0,TP[t&0](e|0,+i,+r,o|0,n|0,a|0)}function Kw(t,e,i,r,o){t|=0,e|=0,i=+i,r|=0,o|=0,xP[t&0](e|0,+i,r|0,o|0)}function Yw(t,e,i,r,o){return t|=0,e|=0,i|=0,r|=0,o|=0,CP[t&31](e|0,i|0,r|0,o|0)|0}function Qw(t,e,i,r){t|=0,e|=0,i=+i,r|=0,EP[t&15](e|0,+i,r|0)}function Zw(t,e,i,r,o,n,a,s,l){return t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,+AP[t&1](e|0,i|0,r|0,o|0,n|0,a|0,s|0,l|0)}function $w(t,e,i,r,o,n,a,s,l,c,h,u){t|=0,e|=0,i|=0,r|=0,o|=0,n=+n,a=+a,s=+s,l=+l,c|=0,h|=0,u=+u,wP[t&0](e|0,i|0,r|0,o|0,+n,+a,+s,+l,c|0,h|0,+u)}function tR(t,e,i,r,o,n){return t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,+RP[t&15](e|0,i|0,r|0,o|0,n|0)}function eR(t,e,i,r){return t|=0,e|=0,i|=0,r|=0,DP[t&63](e|0,i|0,r|0)|0}function iR(t,e,i,r,o,n,a){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,PP[t&7](e|0,i|0,r|0,o|0,n|0,a|0)}function rR(t,e,i,r){return t|=0,e|=0,i|=0,r=+r,BP[t&7](e|0,i|0,+r)|0}function oR(t,e){return t|=0,e|=0,+VP[t&15](e|0)}function nR(t,e,i,r,o,n,a){return t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,LP[t&3](e|0,i|0,r|0,o|0,n|0,a|0)|0}function aR(t,e,i,r,o,n,a){return t|=0,e|=0,i|=0,r|=0,o=+o,n|=0,a|=0,+kP[t&3](e|0,i|0,r|0,+o,n|0,a|0)}function sR(t,e,i,r,o,n){t|=0,e|=0,i|=0,r=+r,o|=0,n|=0,HP[t&0](e|0,i|0,+r,o|0,n|0)}function lR(t,e,i,r,o,n,a,s){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,IP[t&1](e|0,i|0,r|0,o|0,n|0,a|0,s|0)}function cR(t,e,i,r,o,n,a,s,l,c){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,c|=0,OP[t&1](e|0,i|0,r|0,o|0,n|0,a|0,s|0,l|0,c|0)}function hR(t,e,i,r,o,n,a,s,l,c,h){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,c|=0,h|=0,JP[t&3](e|0,i|0,r|0,o|0,n|0,a|0,s|0,l|0,c|0,h|0)}function uR(t,e,i){return t|=0,e|=0,i|=0,NP[t&31](e|0,i|0)|0}function dR(t,e,i,r){return t|=0,e|=0,i|=0,r|=0,+FP[t&15](e|0,i|0,r|0)}function pR(t,e,i,r,o,n,a,s,l,c,h){return t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,c|=0,h|=0,+GP[t&3](e|0,i|0,r|0,o|0,n|0,a|0,s|0,l|0,c|0,h|0)}function fR(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n=+n,zP[t&1](e|0,i|0,r|0,o|0,+n)}function _R(t,e,i,r,o,n,a,s,l,c){return t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,c|=0,+jP[t&3](e|0,i|0,r|0,o|0,n|0,a|0,s|0,l|0,c|0)}function mR(t,e,i){return t|=0,e|=0,i=+i,+UP[t&1](e|0,+i)}function gR(t,e,i,r,o,n,a,s,l,c,h,u,d){t|=0,e|=0,i|=0,r|=0,o|=0,n=+n,a=+a,s=+s,l=+l,c=+c,h|=0,u=+u,d|=0,WP[t&0](e|0,i|0,r|0,o|0,+n,+a,+s,+l,+c,h|0,+u,d|0)}function yR(t,e,i,r,o,n){return t|=0,e|=0,i|=0,r=+r,o|=0,n|=0,+XP[t&3](e|0,i|0,+r,o|0,n|0)}function bR(t,e,i,r,o){return t|=0,e|=0,i|=0,r|=0,o|=0,+qP[t&1](e|0,i|0,r|0,o|0)}function vR(t,e,i,r,o,n,a,s,l,c){return t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,c|=0,KP[t&3](e|0,i|0,r|0,o|0,n|0,a|0,s|0,l|0,c|0)|0}function MR(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o=+o,YP[t&15](e|0,i|0,r|0,+o)}function SR(t,e,i,r){t|=0,e|=0,i|=0,r|=0,QP[t&127](e|0,i|0,r|0)}function TR(t){t|=0,ZP[t&3]()}function xR(t,e,i,r){t|=0,e|=0,i|=0,r=+r,$P[t&7](e|0,i|0,+r)}function CR(t,e,i,r,o){return t|=0,e|=0,i=+i,r|=0,o=+o,tB[t&1](e|0,+i,r|0,+o)|0}function ER(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0,eB[t&127](e|0,i|0,r|0,o|0)}function AR(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0,qD(0)}function wR(t,e){t|=0,e=+e,qD(1)}function RR(t){t|=0,qD(2)}function DR(t,e,i,r,o,n){t|=0,e|=0,i|=0,r=+r,o|=0,n|=0,qD(3)}function PR(t,e){t|=0,e|=0,qD(4)}function BR(t,e,i,r,o,n,a,s,l,c){return t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,c|=0,qD(5),0}function VR(t){return t|=0,qD(6),0}function LR(t,e,i,r){t|=0,e|=0,i=+i,r|=0,qD(7)}function kR(t,e,i,r,o,n){t|=0,e=+e,i=+i,r|=0,o|=0,n|=0,qD(8)}function HR(t,e,i,r){t|=0,e=+e,i|=0,r|=0,qD(9)}function IR(t,e,i,r){return t|=0,e|=0,i|=0,r|=0,qD(10),0}function OR(t,e,i){t|=0,e=+e,i|=0,qD(11)}function JR(t,e,i,r,o,n,a,s){return t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,qD(12),0}function NR(t,e,i,r,o,n,a,s,l,c,h){t|=0,e|=0,i|=0,r|=0,o=+o,n=+n,a=+a,s=+s,l|=0,c|=0,h=+h,qD(13)}function FR(t,e,i,r,o){return t|=0,e|=0,i|=0,r|=0,o|=0,qD(14),0}function GR(t,e,i){return t|=0,e|=0,i|=0,qD(15),0}function zR(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,qD(16)}function jR(t,e,i){return t|=0,e|=0,i=+i,qD(17),0}function UR(t){return t|=0,qD(18),0}function WR(t,e,i,r,o,n){return t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,qD(19),0}function XR(t,e,i,r,o,n){return t|=0,e|=0,i|=0,r=+r,o|=0,n|=0,qD(20),0}function qR(t,e,i,r,o){t|=0,e|=0,i=+i,r|=0,o|=0,qD(21)}function KR(t,e,i,r,o,n,a){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,qD(22)}function YR(t,e,i,r,o,n,a,s,l){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,qD(23)}function QR(t,e,i,r,o,n,a,s,l,c){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,c|=0,qD(24)}function ZR(t,e){return t|=0,e|=0,qD(25),0}function $R(t,e,i){return t|=0,e|=0,i|=0,qD(26),0}function tD(t,e,i,r,o,n,a,s,l,c){return t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,c|=0,qD(27),0}function eD(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o=+o,qD(28)}function iD(t,e,i,r,o,n,a,s,l){return t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,qD(29),0}function rD(t,e){return t|=0,e=+e,qD(30),0}function oD(t,e,i,r,o,n,a,s,l,c,h,u){t|=0,e|=0,i|=0,r|=0,o=+o,n=+n,a=+a,s=+s,l=+l,c|=0,h=+h,u|=0,qD(31)}function nD(t,e,i,r,o){return t|=0,e|=0,i=+i,r|=0,o|=0,qD(32),0}function aD(t,e,i,r){return t|=0,e|=0,i|=0,r|=0,qD(33),0}function sD(t,e,i,r,o,n,a,s,l){return t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,qD(34),0}function lD(t,e,i,r){t|=0,e|=0,i|=0,r=+r,qD(35)}function cD(t,e,i){t|=0,e|=0,i|=0,qD(36)}function hD(){qD(37)}function uD(){fP()}function dD(t,e,i){t|=0,e|=0,i=+i,qD(38)}function pD(t,e,i,r){return t|=0,e=+e,i|=0,r=+r,qD(39),0}function fD(t,e,i,r){t|=0,e|=0,i|=0,r|=0,qD(40)}var _D=t.Int8Array,mD=t.Int16Array,gD=t.Int32Array,yD=t.Uint8Array,bD=t.Uint16Array,vD=t.Uint32Array,MD=t.Float32Array,SD=t.Float64Array,TD=new _D(i),xD=new mD(i),CD=new gD(i),ED=new yD(i),AD=new bD(i),wD=new vD(i),RD=new MD(i),DD=new SD(i),PD=t.byteLength,BD=e.STACKTOP|0,VD=(e.STACK_MAX|0,e.tempDoublePtr|0),LD=(e.ABORT|0,e.cttz_i8|0,e._stderr|0),kD=0,HD=0,ID=t.NaN,OD=(t.Infinity,0),JD=(t.Math.floor,t.Math.abs),ND=t.Math.sqrt,FD=t.Math.pow,GD=t.Math.cos,zD=t.Math.sin,jD=(t.Math.tan,t.Math.acos),UD=t.Math.asin,WD=(t.Math.atan,t.Math.atan2),XD=(t.Math.exp,t.Math.log,t.Math.ceil,t.Math.imul),qD=(t.Math.min,t.Math.clz32,e.abort),KD=(e.assert,e.invoke_viiiii,e.invoke_vid,e.invoke_vi,e.invoke_viiidii,e.invoke_vii,e.invoke_iiiiiiiiiii,e.invoke_ii,e.invoke_viidi,e.invoke_viddiii,e.invoke_vidii,e.invoke_iiiii,e.invoke_vidi,e.invoke_diiiiiiii,e.invoke_viiiiddddiid,e.invoke_diiiii,e.invoke_iiii,e.invoke_viiiiii,e.invoke_iiid,e.invoke_di,e.invoke_iiiiiii,e.invoke_diiidii,e.invoke_viidii,e.invoke_viiiiiii,e.invoke_viiiiiiiii,e.invoke_viiiiiiiiii,e.invoke_iii,e.invoke_diii,e.invoke_diiiiiiiiii,e.invoke_viiiid,e.invoke_diiiiiiiii,e.invoke_did,e.invoke_viiiidddddidi,e.invoke_diidii,e.invoke_diiii,e.invoke_iiiiiiiiii,e.invoke_viiid,e.invoke_viii,e.invoke_v,e.invoke_viid,e.invoke_iidid,e.invoke_viiii,e._cosf,e._send,e._sqrtf,e.___cxa_guard_acquire),YD=(e.___setErrNo,e._vfprintf),QD=(e._atan2f,e.__ZSt18uncaught_exceptionv,e.___cxa_guard_release),ZD=(e._pwrite,e._acosf,e._asinf,e._fabsf,e._sbrk),$D=(e._llvm_pow_f32,e.___cxa_begin_catch,e._sinf,e._fileno,e.___resumeException,e.___cxa_find_matching_catch,e._sysconf),tP=(e.__reallyNegative,e._pthread_getspecific),eP=e._emscripten_memcpy_big,iP=e._pthread_once,rP=e._pthread_key_create,oP=(e._write,e.___errno_location),nP=e._pthread_setspecific,aP=e._fputc,sP=e.___cxa_throw,lP=e._abort,cP=e.___cxa_allocate_exception,hP=(e._fwrite,e._time),uP=(e._fprintf,e._gettimeofday),dP=(e.__formatString,e._emscripten_asm_const_8),pP=e._llvm_trap,fP=e.___cxa_pure_virtual,_P=[AR,eS,cS,$d,pS,LS,AT,VT,OT,cE,Sf,Bv,Hv,Nv,Gv,zv,yw,gw,fw,AR,AR,AR,AR,AR,AR,AR,AR,AR,AR,AR,AR,AR],mP=[wR,kb,Lb,Tb,Vd,Ad,L_,fT,_T,bg,h_,Xy,db,yb,eC,v_,M_,wR,wR,wR,wR,wR,wR,wR,wR,wR,wR,wR,wR,wR,wR,wR],gP=[RR,tm,cm,lm,kA,HA,NA,Rm,FA,GA,UA,U_,WA,XA,s_,V_,Cd,Ed,bS,vS,wd,MS,Pd,Rd,Vb,Dd,J_,j_,q_,X_,Q_,Ub,Yb,rm,am,ev,dm,_m,mv,ym,NS,WS,XS,cT,hT,uT,Tm,Sm,yT,bT,mM,Bm,xM,CM,wM,RM,LM,kM,Nm,Gm,WM,XM,qm,Xm,Ym,Zm,tg,ig,og,ag,lg,hg,dg,KM,YM,$M,tS,rS,oS,aS,sS,bp,vg,_g,mg,Ud,Ng,uS,dS,Ug,jg,mS,gS,RS,d_,Qg,Wg,Xg,$g,ty,iy,oy,sy,cy,uy,Em,fy,My,vy,Ty,Cy,BS,VS,HS,IS,OS,JS,By,Ly,Oy,PT,BT,Fy,kT,HT,jy,FT,GT,jT,Zd,hb,eb,Zy,fb,nx,ax,Sb,Mb,Bx,Lx,px,fx,Ox,vp,Nx,Mx,Sx,wx,qx,Xx,aC,Zx,Yx,lC,hC,EC,Op,Jp,DC,BC,WC,OC,kC,ZC,QC,mE,_E,tE,gE,LE,VE,nf,af,jE,WE,_f,mf,wf,qE,YE,$E,Df,Pf,eA,rA,iA,sA,Av,lA,cA,hA,fA,_A,gA,mA,tA,EA,Ov,Jv,wA,RA,Uv,Wv,Kv,Yv,$v,tM,ZA,$A,ew,ow,iw,rw,nw,aw,Ew,RR,RR,RR,RR,RR,RR,RR,RR,RR,RR,RR,RR,RR,RR,RR,RR,RR,RR,RR,RR,RR,RR,RR,RR,RR,RR,RR,RR,RR,RR,RR,RR,RR,RR,RR,RR,RR,RR,RR,RR],yP=[DR],bP=[PR,zA,jA,B_,xd,O_,Id,Fb,Cb,Eb,Ab,Ld,kd,Jd,Od,Hb,wb,Rb,Db,Pb,Bb,k_,Wb,Xb,$b,iv,rv,cv,hv,pv,_v,FS,GS,mT,yM,ST,xT,CT,ET,bM,TM,OM,IM,jM,ZM,pg,nS,yg,ip,kg,Qd,Fg,SS,PS,yy,Ey,Ay,Jy,Ny,IT,Gy,XT,zT,ZT,ab,$y,Yy,lx,hx,ux,mx,Ex,np,oC,iC,Lp,CC,Hf,If,UC,zC,YC,KC,$p,tf,nE,eE,TE,bE,yE,IE,kE,pf,Tf,Af,XE,KE,QE,CA,AA,VA,BA,PR,PR,PR,PR,PR,PR,PR,PR,PR,PR,PR,PR,PR,PR,PR,PR,PR,PR,PR,PR,PR,PR,PR,PR,PR,PR],vP=[BR,zf,Cv,BR],MP=[VR,sm,Sd,I_,Ib,Ob,H_,Y_,im,nm,um,fm,gm,bm,_M,gM,Vm,Jm,Im,Hm,km,Um,jm,zm,Og,Hg,Lg,Dg,wg,Ag,xg,Ky,qy,Uy,sb,nb,rb,tb,Qy,pb,gx,bb,mb,Hx,kx,Ax,zx,Gx,Wx,Ux,hp,up,fp,rC,tC,Qx,Kx,kp,sC,Ap,wp,Pp,xC,vC,yC,gC,fC,wC,jC,GC,IC,LC,qC,rM,XC,oE,rE,RE,wE,AE,CE,vE,FE,NE,JE,OE,HE,xf,Cf,DA,tw,VR,VR,VR,VR,VR,VR,VR,VR,VR,VR,VR,VR,VR,VR,VR,VR,VR,VR,VR,VR,VR,VR,VR,VR,VR,VR,VR,VR,VR,VR,VR,VR,VR,VR,VR,VR,VR],SP=[LR,Qb,ov,uv,vv,jS,LR,LR],TP=[kR],xP=[HR],CP=[IR,OA,gT,JM,Wm,Km,Qm,$m,eg,rg,ng,sg,cg,ug,wy,kf,AC,PE,uf,IR,IR,IR,IR,IR,IR,IR,IR,IR,IR,IR,IR,IR],EP=[OR,Ig,WT,lb,rx,bx,Cx,Gd,Tp,Ip,zp,OR,OR,OR,OR,OR],AP=[JR,KA],wP=[NR],RP=[FR,iS,hS,fS,kS,wT,LT,JT,Iv,Fv,FR,FR,FR,FR,FR,FR],DP=[GR,sv,IA,Td,K_,em,om,hm,pm,mm,SM,HM,FM,NM,qM,Vg,qT,ob,cx,Yd,Fx,gp,$x,Of,FC,sM,BE,ME,GE,hf,qv,PA,sw,GR,GR,GR,GR,GR,GR,GR,GR,GR,GR,GR,GR,GR,GR,GR,GR,GR,GR,GR,GR,GR,GR,GR,GR,GR,GR,GR,GR,GR,GR,GR],PP=[zR,W_,sE,vf,Mw,vw,bw,zR],BP=[jR,Sg,mp,Vp,dC,jR,jR,jR],VP=[UR,qd,b_,Wy,ub,gb,JC,HC,VC,UR,UR,UR,UR,UR,UR,UR],LP=[WR,Uf,Ev,Pv],kP=[XR,ly,hy,XR],HP=[qR],IP=[KR,yp],OP=[YR,nT],JP=[QR,eM,iM,QR],NP=[ZR,wm,z_,qA,vd,Jb,Nb,G_,Lm,Om,zM,Fm,Rx,ey,ry,ay,py,my,_y,zE,UE,ZR,ZR,ZR,ZR,ZR,ZR,ZR,ZR,ZR,ZR,ZR],FP=[$R,Am,F_,N_,Zb,nv,dv,Mv,US,Pm,ny,dy,$R,$R,$R,$R],GP=[tD,lT,oT,tD],zP=[eD,$_],jP=[iD,rT,aT,iD],UP=[rD,Xd],WP=[oD],XP=[nD,Sy,xy,nD],qP=[aD,sT],KP=[sD,fE,gf,sD],YP=[lD,Z_,gv,_S,Zg,Ry,Vy,ky,oA,uA,lD,lD,lD,lD,lD,lD],QP=[cD,JA,xb,tv,Sv,Mm,vm,EM,DM,QM,gg,Wd,op,Bg,Rg,Cg,zg,Gg,by,Py,Dy,Iy,Hy,zy,QT,KT,ib,ex,$T,vx,_b,vb,Px,Vx,Dx,cp,sp,pp,Mp,Ep,xp,Dp,TC,SC,bC,_C,uC,NC,Wp,jp,Up,oM,nM,pE,iE,DE,EE,xE,SE,cf,sf,lf,df,yf,Ef,ZE,aA,nA,pA,dA,VM,ep,tp,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD,cD],ZP=[hD,uD,xw,Cw],$P=[dD,Cm,Dm,TT,fM,gy,dD,dD],tB=[pD,Bd],eB=[fD,wS,CS,Hd,Nd,iT,xm,AM,PM,GM,lS,fg,Jg,Pg,rp,Eg,Tg,Mg,yS,Yg,Kg,qg,Gf,Ff,UT,cb,YT,ix,tx,_x,sx,yx,Ix,Jx,Tx,xx,Fd,jd,lp,dp,_p,nC,Sp,Cp,Rp,Bp,cC,Hp,MC,mC,pC,RC,PC,Gp,Xp,Kp,qp,aM,lE,aE,bf,Mf,lw,cw,uw,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD,fD];return{_emscripten_bind_btCylinderShape___destroy___0:cd,_emscripten_bind_btGeneric6DofConstraint_enableFeedback_1:Mi,_emscripten_bind_btDispatcherInfo_get_m_enableSPU_0:O,_emscripten_bind_btDispatcherInfo_set_m_useContinuous_1:k,_emscripten_bind_btCollisionObject_isActive_0:Li,_emscripten_bind_btVehicleTuning_set_m_frictionSlip_1:vn,_emscripten_bind_btDiscreteDynamicsWorld_btDiscreteDynamicsWorld_4:Xi,_emscripten_bind_btContactSolverInfo___destroy___0:Rl,_emscripten_bind_ClosestRayResultCallback_get_m_hitPointWorld_0:fa,_emscripten_bind_btTypedConstraint_setBreakingImpulseThreshold_1:_d,_emscripten_bind_btCollisionWorld_getBroadphase_0:ku,_emscripten_bind_btDispatcherInfo_get_m_timeOfImpact_0:B,_emscripten_bind_btQuaternion_setZ_1:qa,_emscripten_bind_LocalConvexResult_get_m_hitNormalLocal_0:fh,_emscripten_bind_btKinematicCharacterController_setMaxSlope_1:_l,_emscripten_bind_btQuadWord_z_0:Fu,_emscripten_bind_btTransform_setIdentity_0:Mu,_emscripten_bind_btAxisSweep3_btAxisSweep3_5:re,_emscripten_bind_btWheelInfo_get_m_suspensionRestLength1_0:gs,_emscripten_bind_btWheelInfo_get_m_suspensionStiffness_0:us,_emscripten_bind_btQuaternion_setW_1:Ka,_emscripten_bind_btRigidBodyConstructionInfo_get_m_angularDamping_0:Be,_emscripten_bind_btCollisionDispatcher___destroy___0:cn,_emscripten_bind_btRigidBody_applyCentralImpulse_1:kh,_emscripten_bind_btDefaultMotionState_getWorldTransform_1:Kn,_emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_1:ir,_emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_3:or,_emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_2:rr,_emscripten_bind_btVector3_op_mul_1:Gl,_emscripten_bind_btDynamicsWorld_rayTest_3:Ea,_emscripten_bind_btRaycastVehicle_updateWheelTransform_2:Zu,_emscripten_bind_btQuadWord_x_0:Ju,_emscripten_bind_btCollisionObject_isKinematicObject_0:ki,_emscripten_bind_btWheelInfo_set_m_chassisConnectionPointCS_1:Hs,_emscripten_bind_ConvexResultCallback___destroy___0:Dr,_emscripten_bind_btGeneric6DofSpringConstraint_setLinearUpperLimit_1:ih,_emscripten_bind_ClosestConvexResultCallback_set_m_hitNormalWorld_1:Hn,_emscripten_bind_btRigidBody_getCenterOfMassTransform_0:Th,_emscripten_bind_btGhostObject_isKinematicObject_0:Bc,_emscripten_bind_btGeneric6DofSpringConstraint_btGeneric6DofSpringConstraint_5:Qc,_emscripten_bind_btCapsuleShape___destroy___0:Z,_emscripten_bind_ClosestConvexResultCallback_get_m_convexToWorld_0:Vn,_emscripten_bind_btCollisionObject_activate_1:Vi,_emscripten_bind_btCollisionObject_activate_0:Bi,_emscripten_bind_btKinematicCharacterController_setUpAxis_1:il,_emscripten_bind_btDispatcherInfo_set_m_timeOfImpact_1:V,_emscripten_bind_btCollisionDispatcher_btCollisionDispatcher_1:an,_emscripten_bind_btVector3_setX_1:Ol,_emscripten_bind_btCollisionConfiguration___destroy___0:$,_emscripten_bind_btQuaternion_btQuaternion_4:Na,_emscripten_bind_btManifoldPoint_set_m_positionWorldOnB_1:ci,_emscripten_bind_btManifoldPoint_set_m_localPointB_1:si,_emscripten_bind_btVector3_setZ_1:Nl,_emscripten_bind_btWheelInfo_get_m_maxSuspensionTravelCm_0:Rs,_emscripten_bind_btQuaternion_setValue_4:Fa,_emscripten_bind_btDispatcherInfo_set_m_dispatchFunc_1:P,_emscripten_bind_LocalShapeInfo___destroy___0:qc,_emscripten_bind_btWheelInfo_get_m_bIsFrontWheel_0:Vs,_emscripten_bind_btQuadWord_setY_1:ju,_emscripten_bind_btRigidBodyConstructionInfo_set_m_restitution_1:Je,_emscripten_bind_btDefaultMotionState_get_m_graphicsWorldTrans_0:Qn,_emscripten_bind_btConeTwistConstraint_setDamping_1:ao,_emscripten_bind_btPairCachingGhostObject_btPairCachingGhostObject_0:ne,_emscripten_bind_btDiscreteDynamicsWorld_getSolverInfo_0:mr,_emscripten_bind_btCollisionWorld___destroy___0:Ou,_emscripten_bind_LocalConvexResult_get_m_hitPointLocal_0:mh,_emscripten_bind_btBoxShape_btBoxShape_1:en,_emscripten_bind_btPersistentManifold_getBody1_0:Qo,_emscripten_bind_btVehicleTuning_get_m_suspensionDamping_0:_n,_emscripten_bind_btKinematicCharacterController_setGravity_1:pl,_emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_5:mi,_emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_3:_i,_emscripten_bind_LocalShapeInfo_get_m_shapePart_0:jc,_emscripten_bind_btWheelInfo_get_m_rollInfluence_0:_s,_emscripten_bind_btVector4_setValue_4:js,_emscripten_bind_btBvhTriangleMeshShape_setLocalScaling_1:y,_emscripten_bind_btPoint2PointConstraint_setBreakingImpulseThreshold_1:Jr,_emscripten_bind_btDynamicsWorld_getDispatchInfo_0:wa,_emscripten_bind_btVector3_length_0:Ll,_emscripten_bind_btConvexTriangleMeshShape_btConvexTriangleMeshShape_2:br,_emscripten_bind_btConvexTriangleMeshShape_btConvexTriangleMeshShape_1:yr,_emscripten_bind_ClosestConvexResultCallback_set_m_hitPointWorld_1:On,_emscripten_bind_RayResultCallback_set_m_collisionFilterMask_1:ss,_emscripten_bind_btPairCachingGhostObject___destroy___0:Ae,_emscripten_bind_btPairCachingGhostObject_activate_0:ue,_emscripten_bind_btPairCachingGhostObject_activate_1:de,_emscripten_bind_btContactSolverInfo_get_m_splitImpulsePenetrationThreshold_0:Al,_emscripten_bind_btPairCachingGhostObject_forceActivationState_1:he,_emscripten_bind_btDefaultMotionState___destroy___0:$n,_emscripten_bind_btDispatcherInfo_get_m_stepCount_0:w,_emscripten_bind_btRigidBodyConstructionInfo_set_m_angularDamping_1:Ve,_emscripten_bind_btQuadWord_setW_1:Wu,_emscripten_bind_btRigidBodyConstructionInfo_get_m_friction_0:Le,_emscripten_bind_btCapsuleShapeX_btCapsuleShapeX_2:Ha,_emscripten_bind_btWheelInfo_get_m_maxSuspensionForce_0:As,_emscripten_bind_btRigidBody_setLinearFactor_1:wh,_emscripten_bind_btDispatcherInfo_set_m_useConvexConservativeDistanceUtil_1:U,_emscripten_bind_btRaycastVehicle_setSteeringValue_2:Yu,_emscripten_bind_btPoint2PointConstraint___destroy___0:Gr,_emscripten_bind_btGeneric6DofConstraint_setAngularUpperLimit_1:vi,_emscripten_bind_btDiscreteDynamicsWorld_addConstraint_2:tr,_emscripten_bind_btDiscreteDynamicsWorld_addConstraint_1:$i,_emscripten_bind_btRigidBodyConstructionInfo_set_m_angularSleepingThreshold_1:ze,_malloc:Aw,_emscripten_bind_btDispatcherInfo_get_m_useEpa_0:N,_emscripten_bind_btTransform_btTransform_2:vu,_emscripten_bind_btTransform_btTransform_0:bu,_emscripten_bind_btWheelInfo_set_m_wheelsRadius_1:vs,_emscripten_bind_btDispatcherInfo_set_m_enableSPU_1:J,_emscripten_bind_btWheelInfo_set_m_wheelsDampingCompression_1:Ss,_emscripten_bind_btCollisionObject_setActivationState_1:Di,_emscripten_bind_btPersistentManifold___destroy___0:tn,_emscripten_bind_btConstraintSetting_get_m_impulseClamp_0:yc,_emscripten_bind_btCylinderShapeZ___destroy___0:yu,_emscripten_bind_btMatrix3x3___destroy___0:d,_emscripten_bind_ConvexResultCallback_hasHit_0:Tr,_emscripten_bind_btCollisionShape_calculateLocalInertia_2:uc,_emscripten_bind_btGeneric6DofSpringConstraint_setBreakingImpulseThreshold_1:sh,_emscripten_bind_btCollisionWorld_convexSweepTest_5:Hu,_emscripten_bind_ClosestRayResultCallback_set_m_hitPointWorld_1:_a,_emscripten_bind_btRigidBody_upcast_1:jh,_emscripten_bind_btConstraintSetting_set_m_damping_1:gc,_emscripten_bind_btWheelInfo_set_m_bIsFrontWheel_1:Ls,_emscripten_bind_btRigidBody_setCcdMotionThreshold_1:lu,_emscripten_bind_btRigidBody_applyForce_2:Ph,_emscripten_bind_btConeShapeZ_calculateLocalInertia_2:Po,_emscripten_bind_btConstraintSetting_set_m_tau_1:_c,_emscripten_bind_btConvexHullShape_calculateLocalInertia_2:Xo,_emscripten_bind_btSphereShape_calculateLocalInertia_2:Xl,_emscripten_bind_btDefaultVehicleRaycaster_btDefaultVehicleRaycaster_1:es,_emscripten_bind_btGeneric6DofConstraint_setAngularLowerLimit_1:bi,_emscripten_bind_btSliderConstraint_setBreakingImpulseThreshold_1:to,_emscripten_bind_btCollisionDispatcher_getManifoldByIndexInternal_1:ln,_emscripten_bind_LocalConvexResult_LocalConvexResult_5:ch,_emscripten_bind_btGhostObject_setFriction_1:Lc,_emscripten_bind_btPairCachingGhostObject_getWorldTransform_0:ye,_emscripten_bind_ClosestRayResultCallback_set_m_collisionObject_1:Ma,_emscripten_bind_btRigidBody_setCcdSweptSphereRadius_1:cu,_emscripten_bind_btRigidBody_setFriction_1:eu,_emscripten_bind_LocalConvexResult_set_m_hitPointLocal_1:gh,_emscripten_bind_btGhostObject_setWorldTransform_1:Jc,_emscripten_bind_btDiscreteDynamicsWorld_removeRigidBody_1:Zi,_emscripten_bind_btConvexHullShape___destroy___0:qo,_emscripten_bind_btDiscreteDynamicsWorld_getBroadphase_0:dr,_emscripten_bind_btVector4_setX_1:Ks,_emscripten_bind_btKinematicCharacterController_jump_0:dl,_emscripten_bind_btConeTwistConstraint_setMaxMotorImpulseNormalized_1:co,_emscripten_bind_btConvexTriangleMeshShape_setLocalScaling_1:vr,_emscripten_bind_btCapsuleShapeX_calculateLocalInertia_2:Oa,_emscripten_bind_btTransform_setOrigin_1:Su,_emscripten_bind_btVector4_setZ_1:Qs,_emscripten_bind_btQuadWord_y_0:Nu,___cxa_can_catch:Sw,_emscripten_bind_btTransform_getBasis_0:Eu,_emscripten_bind_btPairCachingGhostObject_setFriction_1:me,_emscripten_bind_btDispatcherInfo_set_m_useEpa_1:F,_emscripten_bind_btCollisionDispatcher_getNumManifolds_0:sn,_emscripten_bind_btVehicleRaycaster___destroy___0:jl,_emscripten_bind_ClosestRayResultCallback___destroy___0:Sa,_emscripten_bind_ClosestConvexResultCallback_get_m_convexFromWorld_0:Pn,_emscripten_bind_btQuadWord_w_0:Gu,_emscripten_bind_btCompoundShape___destroy___0:wn,_emscripten_bind_btBvhTriangleMeshShape_calculateLocalInertia_2:b,_emscripten_bind_btGhostObject_btGhostObject_0:Mc,_strlen:Vw,_emscripten_bind_btConeShape_btConeShape_2:go,_emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalAngularDampingFactor_1:$e,_emscripten_bind_btManifoldPoint_set_m_localPointA_1:ni,_emscripten_bind_btCollisionObject_setCollisionShape_1:zi,_emscripten_bind_btWheelInfo___destroy___0:Is,_emscripten_bind_btTransform_setRotation_1:Tu,_emscripten_bind_btRigidBody_setMassProps_2:Ah,_emscripten_bind_btPoint2PointConstraint_enableFeedback_1:Ir,_emscripten_bind_ClosestRayResultCallback_set_m_collisionFilterGroup_1:ga,_emscripten_bind_btAxisSweep3_btAxisSweep3_2:te,_emscripten_bind_btAxisSweep3_btAxisSweep3_3:ee,_emscripten_bind_btDynamicsWorld___destroy___0:ka,_emscripten_bind_btVector3_setY_1:Jl,_emscripten_bind_btAxisSweep3_btAxisSweep3_4:ie,_emscripten_bind_btRigidBody_getMotionState_0:Gh,_emscripten_bind_btQuadWord_setX_1:zu,_emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalLinearDampingThresholdSqr_0:qe,_emscripten_bind_btGhostObject_isActive_0:Pc,_emscripten_bind_btOverlappingPairCache___destroy___0:Pl,_emscripten_bind_btConstraintSetting___destroy___0:vc,_emscripten_bind_btRaycastVehicle___destroy___0:nd,_emscripten_bind_ClosestConvexResultCallback_ClosestConvexResultCallback_2:Rn,_emscripten_bind_btPersistentManifold_getBody0_0:Yo,_emscripten_bind_btConeShapeX_btConeShapeX_2:Vo,_emscripten_bind_btConeTwistConstraint_enableFeedback_1:po,_emscripten_bind_btCapsuleShapeZ_setLocalScaling_1:Za,_emscripten_bind_ClosestConvexResultCallback_get_m_closestHitFraction_0:zn,_emscripten_bind_btSliderConstraint_setUpperLinLimit_1:Kr,_emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_2:io,_emscripten_bind_btConcaveShape___destroy___0:Ns,_emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_4:ro,_emscripten_bind_btQuaternion_x_0:Ga,_emscripten_bind_LocalConvexResult_set_m_hitNormalLocal_1:_h,_emscripten_bind_btConcaveShape_setLocalScaling_1:Os,_emscripten_bind_btDiscreteDynamicsWorld_getDispatchInfo_0:lr,_emscripten_bind_btDynamicsWorld_convexSweepTest_5:Va,_emscripten_bind_btQuaternion_z_0:ja,_emscripten_bind_btConvexHullShape_btConvexHullShape_0:zo,_emscripten_bind_btWheelInfo_set_m_maxSuspensionForce_1:ws,_emscripten_bind_ClosestRayResultCallback_set_m_collisionFilterMask_1:ba,_emscripten_bind_btGhostObject___destroy___0:zc,_emscripten_bind_btGhostObject_setContactProcessingThreshold_1:Ec,_emscripten_bind_btRigidBody_applyCentralForce_1:Bh,_emscripten_bind_btStaticPlaneShape_calculateLocalInertia_2:Tl,_emscripten_bind_btRigidBody_getGravity_0:Jh,_emscripten_bind_btDefaultMotionState_btDefaultMotionState_2:qn,_emscripten_bind_btDefaultMotionState_btDefaultMotionState_0:Wn,_emscripten_bind_btDefaultMotionState_btDefaultMotionState_1:Xn,_emscripten_bind_btKinematicCharacterController_canJump_0:ul,_emscripten_bind_btRigidBody_isActive_0:Zh,_emscripten_bind_btRaycastVehicle_btRaycastVehicle_3:qu,_emscripten_bind_btMotionState_setWorldTransform_1:jr,_emscripten_bind_btCylinderShape_setLocalScaling_1:sd,_emscripten_bind_btCollisionWorld_rayTest_3:Ru,_emscripten_bind_btCompoundShape_calculateLocalInertia_2:An,_emscripten_bind_btCollisionWorld_getDispatchInfo_0:Pu,_emscripten_bind_btRigidBody_setCollisionShape_1:su,_emscripten_bind_btConeShapeX___destroy___0:Ho,_emscripten_bind_btCollisionObject_getCollisionFlags_0:Ni,_emscripten_bind_btDispatcherInfo_set_m_enableSatConvex_1:I,_emscripten_bind_btConeTwistConstraint_enableMotor_1:so,_emscripten_bind_btRaycastVehicle_setCoordinateSystem_3:od,_emscripten_bind_btDefaultCollisionConfiguration_btDefaultCollisionConfiguration_0:xo,_emscripten_bind_btPairCachingGhostObject_setRestitution_1:_e,_emscripten_bind_btSphereShape___destroy___0:ql,_emscripten_bind_btSliderConstraint_getBreakingImpulseThreshold_0:$r,_emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalDampingFactor_1:Xe,_emscripten_bind_btCollisionObject_setContactProcessingThreshold_1:Ri,_emscripten_bind_btPairCachingGhostObject_getNumOverlappingObjects_0:Ce,_emscripten_bind_btPersistentManifold_getNumContacts_0:Zo,_emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalAngularDampingFactor_0:Ze,_emscripten_bind_LocalConvexResult___destroy___0:vh,_emscripten_bind_btSequentialImpulseConstraintSolver___destroy___0:C,_emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalLinearDampingThresholdSqr_1:Ke,_emscripten_bind_btCollisionWorld_addCollisionObject_3:Lu,_emscripten_bind_btRigidBody_getCollisionFlags_0:ou,_emscripten_bind_btCollisionShape_setLocalScaling_1:hc,_emscripten_bind_btRigidBody_applyTorque_1:Dh,_emscripten_bind_LocalConvexResult_get_m_hitCollisionObject_0:hh,_emscripten_bind_btMatrix3x3_setEulerZYX_3:h,_emscripten_bind_btDispatcherInfo_get_m_convexConservativeDistanceThreshold_0:W,_emscripten_bind_ClosestRayResultCallback_get_m_hitNormalWorld_0:da,_emscripten_bind_RayResultCallback_get_m_collisionFilterMask_0:as,_emscripten_bind_btCollisionWorld_getDispatcher_0:wu,_emscripten_bind_btCollisionObject_setRollingFriction_1:Oi,_emscripten_bind_RayResultCallback_set_m_collisionFilterGroup_1:ns,_emscripten_bind_btPairCachingGhostObject_getCollisionShape_0:se,_i64Subtract:Pw,_emscripten_bind_btRaycastVehicle_getWheelTransformWS_1:Qu,_emscripten_bind_btRigidBody_setDamping_2:Eh,_emscripten_bind_btDynamicsWorld_getDispatcher_0:Ca,_emscripten_bind_btGhostObject_setCollisionFlags_1:Oc,_emscripten_bind_btMatrix3x3_getRotation_1:u,_emscripten_bind_btConeTwistConstraint_setMaxMotorImpulse_1:lo,_emscripten_bind_btCylinderShapeX_setLocalScaling_1:du,_emscripten_bind_btDbvtBroadphase_btDbvtBroadphase_0:M,_emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalDamping_0:je,_emscripten_bind_btCompoundShape_setLocalScaling_1:En,_emscripten_bind_btOverlappingPairCallback___destroy___0:Mh,_emscripten_bind_btManifoldPoint_get_m_positionWorldOnB_0:li,_emscripten_bind_btVector4_setY_1:Ys,_emscripten_bind_btPairCachingGhostObject_setCcdSweptSphereRadius_1:xe,_emscripten_bind_btRigidBody_getCollisionShape_0:Wh,_emscripten_bind_btRigidBody_setContactProcessingThreshold_1:Xh,_emscripten_bind_btRigidBody_getLinearVelocity_0:Ih,_emscripten_bind_btRigidBody_applyImpulse_2:Lh,_emscripten_bind_btConcaveShape_calculateLocalInertia_2:Js,_emscripten_bind_btRigidBody_setWorldTransform_1:au,_emscripten_bind_btRigidBody_setAngularVelocity_1:Fh,_emscripten_bind_btGeneric6DofSpringConstraint_btGeneric6DofSpringConstraint_3:Yc,_emscripten_bind_btConvexShape_setLocalScaling_1:Mo,_emscripten_bind_btTriangleMeshShape_calculateLocalInertia_2:ea,_emscripten_bind_btQuaternion_setX_1:Wa,_free:ww,_emscripten_bind_btPairCachingGhostObject_setContactProcessingThreshold_1:le,_emscripten_bind_btGeneric6DofConstraint_setLinearUpperLimit_1:yi,_emscripten_bind_ClosestRayResultCallback_get_m_collisionFilterMask_0:ya,_emscripten_bind_RayResultCallback_hasHit_0:rs,_emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalAngularDampingThresholdSqr_0:Ye,_emscripten_bind_btQuaternion___destroy___0:Ya,_emscripten_bind_btWheelInfo_get_m_frictionSlip_0:ps,_emscripten_bind_btConeShapeZ_setLocalScaling_1:Do,_emscripten_bind_btPairCachingGhostObject_setActivationState_1:ce,_emscripten_bind_btGeneric6DofSpringConstraint___destroy___0:lh,_emscripten_bind_btConvexTriangleMeshShape___destroy___0:Sr,_emscripten_bind_btVehicleTuning_set_m_maxSuspensionTravelCm_1:yn,_emscripten_bind_btGhostObject_setRollingFriction_1:kc,_emscripten_bind_btCylinderShapeZ_btCylinderShapeZ_1:_u,_emscripten_bind_btRigidBody_getAngularVelocity_0:Oh,_emscripten_bind_btCompoundShape_btCompoundShape_0:Tn,_emscripten_bind_btCompoundShape_btCompoundShape_1:xn,_emscripten_bind_btOverlappingPairCache_setInternalGhostPairCallback_1:Dl,_emscripten_bind_btStaticPlaneShape_btStaticPlaneShape_2:Ml,_emscripten_bind_btDispatcherInfo_get_m_useContinuous_0:L,_emscripten_bind_btRigidBody_updateInertiaTensor_0:Hh,_emscripten_bind_btPairCachingGhostObject_setAnisotropicFriction_2:ae,_emscripten_bind_btCollisionObject_getWorldTransform_0:Ji,_emscripten_bind_ClosestRayResultCallback_hasHit_0:sa,_emscripten_bind_btCompoundShape_addChildShape_2:Cn,_emscripten_bind_btDispatcher___destroy___0:na,_emscripten_bind_btVehicleTuning_get_m_suspensionCompression_0:pn,_emscripten_bind_btDiscreteDynamicsWorld___destroy___0:gr,_emscripten_bind_btConvexShape___destroy___0:To,_memmove:Hw,_emscripten_bind_btCapsuleShapeX_setLocalScaling_1:Ia,_emscripten_bind_btCollisionObject_setRestitution_1:Hi,_emscripten_bind_btRigidBodyConstructionInfo_btRigidBodyConstructionInfo_3:we,_emscripten_bind_LocalConvexResult_get_m_hitFraction_0:yh,_emscripten_bind_btHingeConstraint_setBreakingImpulseThreshold_1:lc,_emscripten_bind_btQuaternion_w_0:Ua,_emscripten_bind_ConvexResultCallback_get_m_collisionFilterGroup_0:xr,_emscripten_bind_btTransform_getRotation_0:Cu,_emscripten_bind_btHingeConstraint_btHingeConstraint_6:ec,_emscripten_bind_btHingeConstraint_btHingeConstraint_7:ic,_emscripten_bind_btHingeConstraint_btHingeConstraint_4:$l,_emscripten_bind_btHingeConstraint_btHingeConstraint_5:tc,_emscripten_bind_btHingeConstraint_btHingeConstraint_2:Ql,_emscripten_bind_btHingeConstraint_btHingeConstraint_3:Zl,_emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalAngularDampingThresholdSqr_1:Qe,_emscripten_bind_ClosestConvexResultCallback_get_m_hitNormalWorld_0:kn,_emscripten_bind_btTypedConstraint___destroy___0:md,_emscripten_bind_btCylinderShapeX_btCylinderShapeX_1:uu,_emscripten_bind_btGeneric6DofSpringConstraint_setAngularUpperLimit_1:oh,_emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_3:Qi,_emscripten_bind_btBoxShape_calculateLocalInertia_2:on,_emscripten_bind_btHingeConstraint_enableFeedback_1:ac,_emscripten_bind_btSphereShape_btSphereShape_1:Ul,_emscripten_bind_btWheelInfo_get_m_wheelsSuspensionForce_0:Ps,_emscripten_bind_btQuaternion_y_0:za,_emscripten_bind_btCollisionWorld_addCollisionObject_1:Bu,_emscripten_bind_btCollisionWorld_addCollisionObject_2:Vu,_emscripten_bind_btRigidBody_setRestitution_1:tu,_emscripten_bind_ClosestConvexResultCallback_set_m_collisionFilterGroup_1:Nn,_emscripten_bind_btConeTwistConstraint_setBreakingImpulseThreshold_1:_o,_emscripten_bind_ClosestConvexResultCallback_get_m_collisionFilterGroup_0:Jn,_emscripten_bind_btDefaultMotionState_set_m_graphicsWorldTrans_1:Zn,_emscripten_bind_btPoint2PointConstraint_get_m_setting_0:Nr,_emscripten_bind_btSequentialImpulseConstraintSolver_btSequentialImpulseConstraintSolver_0:x,_emscripten_bind_btActionInterface___destroy___0:hd,_emscripten_bind_btDefaultMotionState_setWorldTransform_1:Yn,_emscripten_bind_btGeneric6DofSpringConstraint_setDamping_2:th,_emscripten_bind_RayResultCallback_get_m_collisionObject_0:ls,_emscripten_bind_btPoint2PointConstraint_getPivotInA_0:kr,_emscripten_bind_btGeneric6DofSpringConstraint_setStiffness_2:$c,_emscripten_bind_btCylinderShape_calculateLocalInertia_2:ld,_emscripten_bind_btGhostObject_setRestitution_1:Vc,_emscripten_bind_btDynamicsWorld_addCollisionObject_1:Ra,_emscripten_bind_ClosestConvexResultCallback_get_m_collisionFilterMask_0:Fn,_emscripten_bind_btDynamicsWorld_addCollisionObject_3:Pa,_emscripten_bind_btDynamicsWorld_addCollisionObject_2:Da,_emscripten_bind_btDiscreteDynamicsWorld_getDispatcher_0:nr,_emscripten_bind_btCollisionObject_setFriction_1:Ii,_emscripten_bind_btKinematicCharacterController_setUseGhostSweepTest_1:yl,_emscripten_bind_btVector4_op_mul_1:Zs,_emscripten_bind_btCylinderShape_btCylinderShape_1:ad,_emscripten_bind_btStaticPlaneShape_setLocalScaling_1:Sl,_emscripten_bind_btVector3___destroy___0:zl,_emscripten_bind_btRigidBody_setAngularFactor_1:zh,_emscripten_bind_btCylinderShapeZ_calculateLocalInertia_2:gu,_emscripten_bind_LocalShapeInfo_set_m_triangleIndex_1:Xc,_emscripten_bind_btMotionState_getWorldTransform_1:zr,_emscripten_bind_btDynamicsWorld_getSolverInfo_0:xa,_emscripten_bind_btDynamicsWorld_getBroadphase_0:Ba,_emscripten_bind_btDispatcherInfo_set_m_convexConservativeDistanceThreshold_1:X,_emscripten_bind_btVector3_x_0:kl,___cxa_is_pointer_type:Tw,_emscripten_bind_btWheelInfo_get_m_wheelsDampingCompression_0:Ms,_emscripten_bind_btCollisionObject_getCollisionShape_0:wi,_emscripten_bind_btRigidBodyConstructionInfo_btRigidBodyConstructionInfo_4:Re,_emscripten_bind_btManifoldPoint___destroy___0:fi,_emscripten_bind_btRigidBodyConstructionInfo_set_m_rollingFriction_1:Ie,_emscripten_bind_btVector4_length_0:Us,_emscripten_bind_btHingeConstraint_getBreakingImpulseThreshold_0:sc,_emscripten_bind_btCylinderShapeZ_setLocalScaling_1:mu,_emscripten_bind_ClosestConvexResultCallback___destroy___0:Un,_emscripten_bind_btConeTwistConstraint_setAngularOnly_1:no,_emscripten_bind_btQuadWord_setZ_1:Uu,_emscripten_bind_btDefaultCollisionConfiguration___destroy___0:Eo,_emscripten_bind_btVector3_setValue_3:Fl,_emscripten_bind_btPairCachingGhostObject_setCcdMotionThreshold_1:Te,_emscripten_bind_btGhostObject_getCollisionFlags_0:Ic,_emscripten_bind_btCapsuleShapeX___destroy___0:Ja,_emscripten_bind_btHingeConstraint_setLimit_4:rc,_emscripten_bind_btHingeConstraint_setLimit_5:oc,_emscripten_bind_btDefaultVehicleRaycaster___destroy___0:is,_emscripten_bind_btWheelInfo_get_m_wheelsDampingRelaxation_0:Ts,_emscripten_bind_btWheelInfo_set_m_maxSuspensionTravelCm_1:Ds,_emscripten_bind_btWheelInfo_set_m_wheelsSuspensionForce_1:Bs,_emscripten_bind_btKinematicCharacterController_setJumpSpeed_1:cl,_emscripten_bind_btTypedConstraint_getBreakingImpulseThreshold_0:fd,_emscripten_bind_btGhostObject_getCollisionShape_0:Cc,_emscripten_bind_btCollisionObject_setAnisotropicFriction_2:Ai,_emscripten_bind_btRigidBodyConstructionInfo_set_m_friction_1:ke,_emscripten_bind_btPersistentManifold_getContactPoint_1:$o,_emscripten_bind_btGeneric6DofSpringConstraint_getBreakingImpulseThreshold_0:ah,_emscripten_bind_ConvexResultCallback_set_m_collisionFilterGroup_1:Cr,_emscripten_bind_btGhostObject_activate_0:Rc,_emscripten_bind_btGhostObject_activate_1:Dc,_emscripten_bind_btGeneric6DofSpringConstraint_enableSpring_2:Zc,_emscripten_bind_btManifoldPoint_getPositionWorldOnB_0:ii,_emscripten_bind_btManifoldPoint_get_m_positionWorldOnA_0:hi,_emscripten_bind_btGeneric6DofSpringConstraint_enableFeedback_1:nh,_emscripten_bind_btConeShapeZ_btConeShapeZ_2:Ro,_emscripten_bind_btPairCachingGhostObject_setRollingFriction_1:ge,_emscripten_bind_btSliderConstraint_setUpperAngLimit_1:Qr,_emscripten_bind_btDynamicsWorld_contactPairTest_3:La,_emscripten_bind_btCollisionWorld_getPairCache_0:Du,_emscripten_bind_btConeTwistConstraint_setMotorTarget_1:ho,_emscripten_bind_ClosestConvexResultCallback_set_m_convexFromWorld_1:Bn,_emscripten_bind_btWheelInfo_set_m_rollInfluence_1:ms,_emscripten_bind_btGhostObject_setCcdMotionThreshold_1:Fc,_emscripten_bind_btGeneric6DofConstraint_setBreakingImpulseThreshold_1:Ti,_emscripten_bind_btDefaultCollisionConstructionInfo_btDefaultCollisionConstructionInfo_0:Kl,_emscripten_bind_btGhostObject_forceActivationState_1:wc,_emscripten_bind_btVector4_y_0:Xs,_emscripten_bind_VoidPtr___destroy___0:T,_emscripten_bind_btSliderConstraint_setLowerAngLimit_1:Yr,_emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_1:Yi,_emscripten_bind_ClosestRayResultCallback_get_m_rayFromWorld_0:la,_emscripten_bind_btRaycastVehicle_getRigidBody_0:ed,_emscripten_bind_RayResultCallback_get_m_collisionFilterGroup_0:os,_emscripten_bind_btWheelInfo_get_m_steering_0:Cs,_emscripten_bind_btConstraintSetting_get_m_tau_0:fc,_emscripten_bind_btConeShape_setLocalScaling_1:yo,_emscripten_bind_btCollisionShape___destroy___0:dc,_emscripten_bind_ConvexResultCallback_get_m_closestHitFraction_0:wr,_emscripten_bind_btDispatcherInfo_get_m_dispatchFunc_0:D,_emscripten_bind_btRigidBodyConstructionInfo_get_m_rollingFriction_0:He,_emscripten_bind_btPairCachingGhostObject_setCollisionShape_1:Se,_emscripten_bind_btKinematicCharacterController_warp_1:nl,_emscripten_bind_btAxisSweep3___destroy___0:oe,_emscripten_bind_btTriangleMesh___destroy___0:Go,_emscripten_bind_btKinematicCharacterController_preStep_1:al,_emscripten_bind_btRaycastVehicle_applyEngineForce_2:Ku,_emscripten_bind_btRaycastVehicle_setBrake_2:rd,_emscripten_bind_ConcreteContactResultCallback___destroy___0:_,_emscripten_bind_btCollisionObject___destroy___0:Wi,_emscripten_bind_btVehicleTuning_set_m_suspensionDamping_1:mn,_emscripten_bind_btRigidBodyConstructionInfo_set_m_linearSleepingThreshold_1:Fe,_emscripten_bind_btConeTwistConstraint_setMotorTargetInConstraintSpace_1:uo,_emscripten_bind_btDispatcherInfo_set_m_timeStep_1:A,_emscripten_bind_btVector3_btVector3_3:Vl,_emscripten_bind_btVector3_btVector3_0:Bl,_emscripten_bind_btBoxShape___destroy___0:nn,_emscripten_bind_btDiscreteDynamicsWorld_getGravity_0:Ki,_emscripten_bind_btVector3_z_0:Il,_emscripten_bind_ClosestConvexResultCallback_get_m_hitPointWorld_0:In,_emscripten_bind_btBroadphaseInterface___destroy___0:Ei,_emscripten_bind_btRigidBody_isKinematicObject_0:$h,_emscripten_bind_ConcreteContactResultCallback_addSingleResult_7:f,_emscripten_bind_btConeTwistConstraint___destroy___0:mo,_emscripten_bind_btQuadWord___destroy___0:Xu,_emscripten_bind_ClosestRayResultCallback_set_m_rayFromWorld_1:ca,_emscripten_bind_btWheelInfo_get_m_chassisConnectionPointCS_0:ks,_emscripten_bind_btGhostObject_setAnisotropicFriction_2:xc,_emscripten_bind_btConstraintSolver___destroy___0:Kc,_emscripten_bind_btDbvtBroadphase___destroy___0:S,_emscripten_bind_btCapsuleShape_btCapsuleShape_2:K,_emscripten_bind_btTypedConstraint_enableFeedback_1:pd,_emscripten_bind_btCapsuleShape_setLocalScaling_1:Y,_emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalDampingFactor_0:We,_emscripten_bind_btRigidBody_setAnisotropicFriction_2:Uh,_emscripten_bind_btTriangleMeshShape_setLocalScaling_1:ta,_emscripten_bind_ConvexResultCallback_set_m_closestHitFraction_1:Rr,_emscripten_bind_btPersistentManifold_btPersistentManifold_0:Ko,_emscripten_bind_ConvexResultCallback_get_m_collisionFilterMask_0:Er,_emscripten_bind_ClosestRayResultCallback_ClosestRayResultCallback_2:aa,_emscripten_bind_btVector4___destroy___0:$s,_emscripten_bind_btPairCachingGhostObject_isKinematicObject_0:fe,_emscripten_bind_btConstraintSetting_get_m_damping_0:mc,_i64Add:Lw,_emscripten_bind_btContactSolverInfo_set_m_splitImpulse_1:El,_emscripten_bind_btVehicleTuning_set_m_maxSuspensionForce_1:Sn,_emscripten_bind_btCollisionObject_setCcdMotionThreshold_1:ji,_emscripten_bind_btKinematicCharacterController_btKinematicCharacterController_4:el,_emscripten_bind_btDefaultCollisionConfiguration_btDefaultCollisionConfiguration_1:Co,_emscripten_bind_btKinematicCharacterController_btKinematicCharacterController_3:tl,_emscripten_bind_btRigidBodyConstructionInfo_get_m_angularSleepingThreshold_0:Ge,_emscripten_bind_btPoint2PointConstraint_getPivotInB_0:Hr,_emscripten_bind_btKinematicCharacterController_playerStep_2:sl,_emscripten_bind_btDispatcherInfo___destroy___0:q,_emscripten_bind_btTransform___destroy___0:Au,_emscripten_bind_btConvexTriangleMeshShape_calculateLocalInertia_2:Mr,_emscripten_bind_ContactResultCallback_addSingleResult_7:Ao,_emscripten_bind_btGhostObject_getWorldTransform_0:Hc,_emscripten_bind_btDiscreteDynamicsWorld_getPairCache_0:sr,_emscripten_bind_LocalConvexResult_set_m_hitFraction_1:bh,_emscripten_bind_btCapsuleShapeZ_calculateLocalInertia_2:$a,_emscripten_bind_btDispatcherInfo_get_m_timeStep_0:E,_emscripten_bind_btVehicleTuning_set_m_suspensionCompression_1:fn,_emscripten_bind_btConstraintSetting_set_m_impulseClamp_1:bc,_emscripten_bind_btMotionState___destroy___0:Ur,_emscripten_bind_btCollisionObject_setCollisionFlags_1:Fi,_emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_1:cr,_emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_2:hr,_emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_3:ur,_emscripten_bind_btWheelInfo_set_m_suspensionStiffness_1:ds,_emscripten_bind_btRaycastVehicle_getNumWheels_0:td,_emscripten_bind_btDispatcher_getManifoldByIndexInternal_1:oa,_emscripten_bind_btWheelInfo_set_m_steering_1:Es,_emscripten_bind_btPairCachingGhostObject_setWorldTransform_1:Me,_emscripten_bind_btDefaultCollisionConstructionInfo___destroy___0:Yl,_emscripten_bind_btGhostObject_setCcdSweptSphereRadius_1:Gc,_emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_4:Br,_emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_2:Pr,_emscripten_bind_btGhostObject_getNumOverlappingObjects_0:Sc,_emscripten_bind_btConeShapeX_calculateLocalInertia_2:ko,_emscripten_bind_btPairCachingGhostObject_getOverlappingObject_1:Ee,_emscripten_bind_btRigidBodyConstructionInfo___destroy___0:ti,_emscripten_bind_btRigidBody_getWorldTransform_0:ru,_emscripten_bind_btPoint2PointConstraint_setPivotA_1:Vr,_emscripten_bind_ClosestConvexResultCallback_set_m_convexToWorld_1:Ln,_memcpy:kw,_emscripten_bind_btCapsuleShape_calculateLocalInertia_2:Q,_emscripten_bind_btVector3_y_0:Hl,_emscripten_bind_btVehicleTuning_get_m_maxSuspensionForce_0:Mn,_emscripten_bind_btBvhTriangleMeshShape_btBvhTriangleMeshShape_2:m,_emscripten_bind_btBvhTriangleMeshShape_btBvhTriangleMeshShape_3:g,_emscripten_bind_LocalShapeInfo_get_m_triangleIndex_0:Wc,_emscripten_bind_btGhostObject_setCollisionShape_1:Nc,_emscripten_bind_btDispatcherInfo_set_m_allowedCcdPenetration_1:z,_emscripten_bind_btRigidBody_setRollingFriction_1:iu,_emscripten_bind_btContactSolverInfo_set_m_splitImpulsePenetrationThreshold_1:wl,_emscripten_bind_btDiscreteDynamicsWorld_setGravity_1:qi,_emscripten_bind_btVehicleTuning_set_m_suspensionStiffness_1:dn,_emscripten_bind_btVector4_z_0:qs,_emscripten_bind_btCollisionObject_forceActivationState_1:Pi,_emscripten_bind_btKinematicCharacterController_onGround_0:bl,_emscripten_bind_btRaycastVehicle_getWheelInfo_1:id,_emscripten_bind_btGeneric6DofConstraint_getBreakingImpulseThreshold_0:Si,_emscripten_bind_btConeTwistConstraint_setLimit_2:oo,_emscripten_bind_ClosestConvexResultCallback_set_m_collisionFilterMask_1:Gn,_emscripten_bind_btRigidBody___destroy___0:hu,_emscripten_bind_btStridingMeshInterface___destroy___0:Ci,_emscripten_bind_btRigidBody_setSleepingThresholds_2:Ch,_emscripten_bind_btCollisionObject_setWorldTransform_1:Gi,_emscripten_bind_LocalConvexResult_get_m_localShapeInfo_0:dh,_emscripten_bind_btManifoldPoint_get_m_localPointA_0:oi,_emscripten_bind_btRigidBodyConstructionInfo_get_m_linearDamping_0:De,_emscripten_bind_btDispatcher_getNumManifolds_0:ra,_emscripten_bind_btRigidBodyConstructionInfo_get_m_linearSleepingThreshold_0:Ne,_emscripten_bind_btRigidBody_activate_1:Qh,_emscripten_bind_btRigidBody_activate_0:Yh,_emscripten_bind_RayResultCallback___destroy___0:hs,_emscripten_bind_btGhostObject_setActivationState_1:Ac,_emscripten_bind_btCollisionWorld_contactPairTest_3:Iu,_emscripten_bind_btCylinderShapeX___destroy___0:fu,_emscripten_bind_btManifoldPoint_getPositionWorldOnA_0:ei,_emscripten_bind_ContactResultCallback___destroy___0:wo,_emscripten_bind_btDispatcherInfo_get_m_useConvexConservativeDistanceUtil_0:j,_emscripten_bind_btVector4_x_0:Ws,_emscripten_bind_btConstraintSetting_btConstraintSetting_0:pc,_emscripten_bind_btKinematicCharacterController_getGhostObject_0:gl,_emscripten_bind_btRigidBody_btRigidBody_1:Sh,_emscripten_bind_btTriangleMeshShape___destroy___0:ia,_emscripten_bind_btKinematicCharacterController_setWalkDirection_1:rl,_emscripten_bind_btRigidBodyConstructionInfo_get_m_restitution_0:Oe,_emscripten_bind_btVehicleTuning_get_m_suspensionStiffness_0:un,_emscripten_bind_btManifoldPoint_set_m_normalWorldOnB_1:pi,_emscripten_bind_btKinematicCharacterController_getGravity_0:fl,_emscripten_bind_btConeTwistConstraint_getBreakingImpulseThreshold_0:fo,_emscripten_bind_btDiscreteDynamicsWorld_addAction_1:_r,_emscripten_bind_btQuaternion_setY_1:Xa,_emscripten_bind_btConeShape_calculateLocalInertia_2:bo,_emscripten_bind_btCylinderShapeX_calculateLocalInertia_2:pu,_emscripten_bind_ConvexResultCallback_set_m_collisionFilterMask_1:Ar,_llvm_bswap_i32:Iw,_emscripten_bind_btSphereShape_setLocalScaling_1:Wl,_emscripten_bind_btVector4_w_0:zs,_emscripten_bind_btManifoldPoint_get_m_normalWorldOnB_0:di,_emscripten_bind_btBvhTriangleMeshShape___destroy___0:v,_emscripten_bind_ClosestRayResultCallback_get_m_rayToWorld_0:ha,_emscripten_bind_ClosestConvexResultCallback_set_m_closestHitFraction_1:jn,_emscripten_bind_btDiscreteDynamicsWorld_removeConstraint_1:er,_emscripten_bind_ConcreteContactResultCallback_ConcreteContactResultCallback_0:p,_emscripten_bind_btGeneric6DofConstraint___destroy___0:xi,_emscripten_bind_btVehicleTuning_get_m_maxSuspensionTravelCm_0:gn,_emscripten_bind_btConvexHullShape_addPoint_1:jo,_emscripten_bind_btConvexHullShape_addPoint_2:Uo,_emscripten_bind_btPoint2PointConstraint_getBreakingImpulseThreshold_0:Or,_emscripten_bind_btTransform_getOrigin_0:xu,_emscripten_bind_btHingeConstraint___destroy___0:cc,_emscripten_bind_btConvexShape_calculateLocalInertia_2:So,_memset:Bw,_emscripten_bind_btKinematicCharacterController___destroy___0:vl,_emscripten_bind_btConvexHullShape_setLocalScaling_1:Wo,_emscripten_bind_btTriangleMesh_btTriangleMesh_0:Io,_emscripten_bind_btTriangleMesh_btTriangleMesh_1:Oo,_emscripten_bind_btTriangleMesh_btTriangleMesh_2:Jo,_emscripten_bind_btWheelInfo_set_m_frictionSlip_1:fs,_emscripten_bind_btHingeConstraint_enableAngularMotor_3:nc,_emscripten_bind_btManifoldPoint_set_m_positionWorldOnA_1:ui,_emscripten_bind_btRigidBody_setCenterOfMassTransform_1:xh,_emscripten_bind_btManifoldPoint_get_m_localPointB_0:ai,_emscripten_bind_btDiscreteDynamicsWorld_contactPairTest_3:fr,_emscripten_bind_btSliderConstraint_setLowerLinLimit_1:qr,_emscripten_bind_btPoint2PointConstraint_set_m_setting_1:Fr,_emscripten_bind_btCollisionObject_setCcdSweptSphereRadius_1:Ui,_emscripten_bind_btWheelInfo_get_m_wheelsRadius_0:bs,_emscripten_bind_btRigidBody_setLinearVelocity_1:Nh,_emscripten_bind_btVehicleTuning_btVehicleTuning_0:hn,_emscripten_bind_RayResultCallback_set_m_collisionObject_1:cs,_emscripten_bind_ClosestRayResultCallback_set_m_rayToWorld_1:ua,_emscripten_bind_ClosestRayResultCallback_get_m_collisionFilterGroup_0:ma,_emscripten_bind_btWheelInfo_set_m_wheelsDampingRelaxation_1:xs,_emscripten_bind_btDynamicsWorld_addAction_1:Ta,_emscripten_bind_btPairCachingGhostObject_getCollisionFlags_0:be,_emscripten_bind_btRigidBodyConstructionInfo_set_m_linearDamping_1:Pe,_emscripten_bind_btRigidBody_setGravity_1:Rh,_emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalDamping_1:Ue,_emscripten_bind_btKinematicCharacterController_setFallSpeed_1:ll,_emscripten_bind_btRigidBody_setActivationState_1:qh,_emscripten_bind_ClosestConvexResultCallback_hasHit_0:Dn,_emscripten_bind_btCapsuleShapeZ___destroy___0:ts,_emscripten_bind_LocalShapeInfo_set_m_shapePart_1:Uc,_emscripten_bind_ClosestRayResultCallback_get_m_collisionObject_0:va,_emscripten_bind_btTriangleMesh_addTriangle_3:No,_emscripten_bind_btGhostObject_getOverlappingObject_1:Tc,_emscripten_bind_btTriangleMesh_addTriangle_4:Fo,_emscripten_bind_btRigidBody_applyTorqueImpulse_1:Vh,_emscripten_bind_btRigidBody_setCollisionFlags_1:nu,_emscripten_bind_btWheelInfo_set_m_suspensionRestLength1_1:ys,_emscripten_bind_btConeShape___destroy___0:vo,_emscripten_bind_btCapsuleShapeZ_btCapsuleShapeZ_2:Qa,_emscripten_bind_btSliderConstraint_btSliderConstraint_5:Xr,_emscripten_bind_btSliderConstraint_btSliderConstraint_3:Wr,_emscripten_bind_btDispatcherInfo_get_m_allowedCcdPenetration_0:G,_emscripten_bind_btConeShapeX_setLocalScaling_1:Lo,_emscripten_bind_btSliderConstraint___destroy___0:eo,_emscripten_bind_btRigidBody_forceActivationState_1:Kh,_emscripten_bind_btPoint2PointConstraint_setPivotB_1:Lr,_emscripten_bind_btManifoldPoint_getDistance_0:ri,_emscripten_bind_btGhostPairCallback___destroy___0:dd,_emscripten_bind_btKinematicCharacterController_getMaxSlope_0:ml,_emscripten_bind_btSliderConstraint_enableFeedback_1:Zr,_emscripten_bind_btRaycastVehicle_addWheel_7:$u,_emscripten_bind_btPairCachingGhostObject_isActive_0:pe,_emscripten_bind_LocalConvexResult_set_m_localShapeInfo_1:ph,_emscripten_bind_btStaticPlaneShape___destroy___0:xl,_emscripten_bind_btDispatcherInfo_set_m_stepCount_1:R,_emscripten_bind_btBoxShape_setLocalScaling_1:rn,_emscripten_bind_btConeShapeZ___destroy___0:Bo,_emscripten_bind_btDynamicsWorld_getPairCache_0:Aa,_emscripten_bind_btDiscreteDynamicsWorld_convexSweepTest_5:pr,_emscripten_bind_btKinematicCharacterController_setVelocityForTimeInterval_2:ol,_emscripten_bind_btVector4_btVector4_0:Fs,_emscripten_bind_btDispatcherInfo_get_m_enableSatConvex_0:H,_emscripten_bind_btVector4_btVector4_4:Gs,_emscripten_bind_btGeneric6DofConstraint_setLinearLowerLimit_1:gi,_emscripten_bind_btGeneric6DofSpringConstraint_setLinearLowerLimit_1:eh,_emscripten_bind_LocalConvexResult_set_m_hitCollisionObject_1:uh,_emscripten_bind_btPairCachingGhostObject_setCollisionFlags_1:ve,_emscripten_bind_btGeneric6DofSpringConstraint_setAngularLowerLimit_1:rh,_emscripten_bind_btDiscreteDynamicsWorld_rayTest_3:ar,_emscripten_bind_btContactSolverInfo_get_m_splitImpulse_0:Cl,_emscripten_bind_btGhostPairCallback_btGhostPairCallback_0:ud,_emscripten_bind_btKinematicCharacterController_setMaxJumpHeight_1:hl,_emscripten_bind_ClosestRayResultCallback_set_m_hitNormalWorld_1:pa,_emscripten_bind_btVehicleTuning_get_m_frictionSlip_0:bn,__GLOBAL__sub_I_btQuickprof_cpp:LA,runPostSets:Dw,_emscripten_replace_memory:r,stackAlloc:o,stackSave:n,stackRestore:a,setThrew:s,setTempRet0:l,getTempRet0:c,dynCall_viiiii:Nw,dynCall_vid:Fw,dynCall_vi:Gw,dynCall_viiidii:zw,dynCall_vii:jw,dynCall_iiiiiiiiiii:Uw,dynCall_ii:Ww,dynCall_viidi:Xw,dynCall_viddiii:qw,dynCall_vidii:Kw,dynCall_iiiii:Yw,dynCall_vidi:Qw,dynCall_diiiiiiii:Zw,dynCall_viiiiddddiid:$w,dynCall_diiiii:tR,dynCall_iiii:eR,dynCall_viiiiii:iR,dynCall_iiid:rR,dynCall_di:oR,dynCall_iiiiiii:nR,dynCall_diiidii:aR,dynCall_viidii:sR,dynCall_viiiiiii:lR,dynCall_viiiiiiiii:cR,dynCall_viiiiiiiiii:hR,dynCall_iii:uR,dynCall_diii:dR,dynCall_diiiiiiiiii:pR,dynCall_viiiid:fR,dynCall_diiiiiiiii:_R,dynCall_did:mR,dynCall_viiiidddddidi:gR,dynCall_diidii:yR,dynCall_diiii:bR,dynCall_iiiiiiiiii:vR,dynCall_viiid:MR,dynCall_viii:SR,dynCall_v:TR,dynCall_viid:xR,dynCall_iidid:CR,dynCall_viiii:ER}
}(t.asmGlobalArg,t.asmLibraryArg,jo),Ln=t._emscripten_bind_btCylinderShape___destroy___0=Vn._emscripten_bind_btCylinderShape___destroy___0,kn=t._emscripten_bind_btGeneric6DofConstraint_enableFeedback_1=Vn._emscripten_bind_btGeneric6DofConstraint_enableFeedback_1,Hn=t._strlen=Vn._strlen,In=t._emscripten_bind_btDispatcherInfo_set_m_useContinuous_1=Vn._emscripten_bind_btDispatcherInfo_set_m_useContinuous_1,On=t._emscripten_bind_btCollisionObject_isActive_0=Vn._emscripten_bind_btCollisionObject_isActive_0,Jn=t._emscripten_bind_btVehicleTuning_set_m_frictionSlip_1=Vn._emscripten_bind_btVehicleTuning_set_m_frictionSlip_1,Nn=t._emscripten_bind_btDiscreteDynamicsWorld_btDiscreteDynamicsWorld_4=Vn._emscripten_bind_btDiscreteDynamicsWorld_btDiscreteDynamicsWorld_4,Fn=t._emscripten_bind_btAxisSweep3___destroy___0=Vn._emscripten_bind_btAxisSweep3___destroy___0,Gn=t._emscripten_bind_btWheelInfo_get_m_rollInfluence_0=Vn._emscripten_bind_btWheelInfo_get_m_rollInfluence_0,zn=t._emscripten_bind_btTypedConstraint_setBreakingImpulseThreshold_1=Vn._emscripten_bind_btTypedConstraint_setBreakingImpulseThreshold_1,jn=t._emscripten_bind_btCollisionWorld_getBroadphase_0=Vn._emscripten_bind_btCollisionWorld_getBroadphase_0,Un=t._emscripten_bind_btDispatcherInfo_get_m_timeOfImpact_0=Vn._emscripten_bind_btDispatcherInfo_get_m_timeOfImpact_0,Wn=t._emscripten_bind_btQuaternion_setZ_1=Vn._emscripten_bind_btQuaternion_setZ_1,Xn=t._emscripten_bind_btHingeConstraint_btHingeConstraint_4=Vn._emscripten_bind_btHingeConstraint_btHingeConstraint_4,qn=t._emscripten_bind_btKinematicCharacterController_setMaxSlope_1=Vn._emscripten_bind_btKinematicCharacterController_setMaxSlope_1,Kn=t._emscripten_bind_btQuadWord_z_0=Vn._emscripten_bind_btQuadWord_z_0,Yn=t._emscripten_bind_btVehicleTuning_get_m_suspensionStiffness_0=Vn._emscripten_bind_btVehicleTuning_get_m_suspensionStiffness_0,Qn=t._emscripten_bind_btWheelInfo_get_m_suspensionRestLength1_0=Vn._emscripten_bind_btWheelInfo_get_m_suspensionRestLength1_0,Zn=t._emscripten_bind_btWheelInfo_get_m_suspensionStiffness_0=Vn._emscripten_bind_btWheelInfo_get_m_suspensionStiffness_0,$n=t._emscripten_bind_btRigidBodyConstructionInfo_get_m_angularDamping_0=Vn._emscripten_bind_btRigidBodyConstructionInfo_get_m_angularDamping_0,ta=t._emscripten_bind_btCollisionDispatcher___destroy___0=Vn._emscripten_bind_btCollisionDispatcher___destroy___0,ea=t._emscripten_bind_btRigidBody_applyCentralImpulse_1=Vn._emscripten_bind_btRigidBody_applyCentralImpulse_1,ia=t._emscripten_bind_btDefaultMotionState_getWorldTransform_1=Vn._emscripten_bind_btDefaultMotionState_getWorldTransform_1,ra=t._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_1=Vn._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_1,oa=t._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_3=Vn._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_3,na=t._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_2=Vn._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_2,aa=t._emscripten_bind_btVector3_op_mul_1=Vn._emscripten_bind_btVector3_op_mul_1,sa=t._emscripten_bind_btDynamicsWorld_rayTest_3=Vn._emscripten_bind_btDynamicsWorld_rayTest_3,la=t._emscripten_bind_btRaycastVehicle_updateWheelTransform_2=Vn._emscripten_bind_btRaycastVehicle_updateWheelTransform_2,ca=t._emscripten_bind_btQuadWord_x_0=Vn._emscripten_bind_btQuadWord_x_0,ha=t._emscripten_bind_btCollisionObject_isKinematicObject_0=Vn._emscripten_bind_btCollisionObject_isKinematicObject_0,ua=t._emscripten_bind_btWheelInfo_set_m_chassisConnectionPointCS_1=Vn._emscripten_bind_btWheelInfo_set_m_chassisConnectionPointCS_1,da=t._emscripten_bind_ConvexResultCallback___destroy___0=Vn._emscripten_bind_ConvexResultCallback___destroy___0,pa=t._emscripten_bind_btGeneric6DofSpringConstraint_setLinearUpperLimit_1=Vn._emscripten_bind_btGeneric6DofSpringConstraint_setLinearUpperLimit_1,fa=t._emscripten_bind_ClosestConvexResultCallback_set_m_hitNormalWorld_1=Vn._emscripten_bind_ClosestConvexResultCallback_set_m_hitNormalWorld_1,_a=t._emscripten_bind_btRigidBody_getCenterOfMassTransform_0=Vn._emscripten_bind_btRigidBody_getCenterOfMassTransform_0,ma=t._emscripten_bind_btGhostObject_isKinematicObject_0=Vn._emscripten_bind_btGhostObject_isKinematicObject_0,ga=t._emscripten_bind_btGeneric6DofSpringConstraint_btGeneric6DofSpringConstraint_5=Vn._emscripten_bind_btGeneric6DofSpringConstraint_btGeneric6DofSpringConstraint_5,ya=t._emscripten_bind_btCapsuleShape___destroy___0=Vn._emscripten_bind_btCapsuleShape___destroy___0,ba=t._emscripten_bind_btCollisionObject_activate_1=Vn._emscripten_bind_btCollisionObject_activate_1,va=t._emscripten_bind_btCollisionObject_activate_0=Vn._emscripten_bind_btCollisionObject_activate_0,Ma=t._emscripten_bind_btKinematicCharacterController_setUpAxis_1=Vn._emscripten_bind_btKinematicCharacterController_setUpAxis_1,Sa=t._emscripten_bind_btDispatcherInfo_set_m_timeOfImpact_1=Vn._emscripten_bind_btDispatcherInfo_set_m_timeOfImpact_1,Ta=t._emscripten_bind_btCollisionDispatcher_btCollisionDispatcher_1=Vn._emscripten_bind_btCollisionDispatcher_btCollisionDispatcher_1,xa=t._emscripten_bind_btVector3_setX_1=Vn._emscripten_bind_btVector3_setX_1,Ca=t._emscripten_bind_btCollisionConfiguration___destroy___0=Vn._emscripten_bind_btCollisionConfiguration___destroy___0,Ea=t._emscripten_bind_btQuaternion_btQuaternion_4=Vn._emscripten_bind_btQuaternion_btQuaternion_4,Aa=t._emscripten_bind_btManifoldPoint_set_m_positionWorldOnB_1=Vn._emscripten_bind_btManifoldPoint_set_m_positionWorldOnB_1,wa=t._emscripten_bind_btManifoldPoint_set_m_localPointB_1=Vn._emscripten_bind_btManifoldPoint_set_m_localPointB_1,Ra=t._emscripten_bind_btVector3_setZ_1=Vn._emscripten_bind_btVector3_setZ_1,Da=t._emscripten_bind_btWheelInfo_get_m_maxSuspensionTravelCm_0=Vn._emscripten_bind_btWheelInfo_get_m_maxSuspensionTravelCm_0,Pa=t._emscripten_bind_btQuaternion_setValue_4=Vn._emscripten_bind_btQuaternion_setValue_4,Ba=t._emscripten_bind_btDispatcherInfo_set_m_dispatchFunc_1=Vn._emscripten_bind_btDispatcherInfo_set_m_dispatchFunc_1,Va=t._emscripten_bind_LocalShapeInfo___destroy___0=Vn._emscripten_bind_LocalShapeInfo___destroy___0,La=t._emscripten_bind_btWheelInfo_get_m_bIsFrontWheel_0=Vn._emscripten_bind_btWheelInfo_get_m_bIsFrontWheel_0,ka=t._emscripten_bind_btQuadWord_setY_1=Vn._emscripten_bind_btQuadWord_setY_1,Ha=t._emscripten_bind_btRigidBody_isKinematicObject_0=Vn._emscripten_bind_btRigidBody_isKinematicObject_0,Ia=t._emscripten_bind_ContactResultCallback_addSingleResult_7=Vn._emscripten_bind_ContactResultCallback_addSingleResult_7,Oa=t._emscripten_bind_btRigidBodyConstructionInfo_set_m_restitution_1=Vn._emscripten_bind_btRigidBodyConstructionInfo_set_m_restitution_1,Ja=t._emscripten_bind_btDefaultMotionState_get_m_graphicsWorldTrans_0=Vn._emscripten_bind_btDefaultMotionState_get_m_graphicsWorldTrans_0,Na=t._emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_3=Vn._emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_3,Fa=t._emscripten_bind_btPairCachingGhostObject_btPairCachingGhostObject_0=Vn._emscripten_bind_btPairCachingGhostObject_btPairCachingGhostObject_0,Ga=t._emscripten_bind_btDiscreteDynamicsWorld_getSolverInfo_0=Vn._emscripten_bind_btDiscreteDynamicsWorld_getSolverInfo_0,za=t._emscripten_bind_btCollisionWorld___destroy___0=Vn._emscripten_bind_btCollisionWorld___destroy___0,ja=t._emscripten_bind_LocalConvexResult_get_m_hitPointLocal_0=Vn._emscripten_bind_LocalConvexResult_get_m_hitPointLocal_0,Ua=t._emscripten_bind_btBoxShape_btBoxShape_1=Vn._emscripten_bind_btBoxShape_btBoxShape_1,Wa=t._emscripten_bind_btPersistentManifold_getBody1_0=Vn._emscripten_bind_btPersistentManifold_getBody1_0,Xa=t._emscripten_bind_btVehicleTuning_get_m_suspensionDamping_0=Vn._emscripten_bind_btVehicleTuning_get_m_suspensionDamping_0,qa=t._emscripten_bind_btKinematicCharacterController_setGravity_1=Vn._emscripten_bind_btKinematicCharacterController_setGravity_1,Ka=t._emscripten_bind_btConstraintSetting_set_m_impulseClamp_1=Vn._emscripten_bind_btConstraintSetting_set_m_impulseClamp_1,Ya=t._emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_5=Vn._emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_5,Qa=t._emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_3=Vn._emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_3,Za=t._emscripten_bind_btQuaternion_setY_1=Vn._emscripten_bind_btQuaternion_setY_1,$a=t._emscripten_bind_ClosestRayResultCallback_get_m_hitPointWorld_0=Vn._emscripten_bind_ClosestRayResultCallback_get_m_hitPointWorld_0,ts=t._emscripten_bind_btVector4_setValue_4=Vn._emscripten_bind_btVector4_setValue_4,es=t._emscripten_bind_btBvhTriangleMeshShape_setLocalScaling_1=Vn._emscripten_bind_btBvhTriangleMeshShape_setLocalScaling_1,is=t._emscripten_bind_btPoint2PointConstraint_setBreakingImpulseThreshold_1=Vn._emscripten_bind_btPoint2PointConstraint_setBreakingImpulseThreshold_1,rs=t._emscripten_bind_btDynamicsWorld_getDispatchInfo_0=Vn._emscripten_bind_btDynamicsWorld_getDispatchInfo_0,os=t._emscripten_bind_btVector3_length_0=Vn._emscripten_bind_btVector3_length_0,ns=t._emscripten_bind_btConvexTriangleMeshShape_btConvexTriangleMeshShape_2=Vn._emscripten_bind_btConvexTriangleMeshShape_btConvexTriangleMeshShape_2,as=t._emscripten_bind_btConvexTriangleMeshShape_btConvexTriangleMeshShape_1=Vn._emscripten_bind_btConvexTriangleMeshShape_btConvexTriangleMeshShape_1,ss=t._emscripten_bind_ClosestConvexResultCallback_set_m_hitPointWorld_1=Vn._emscripten_bind_ClosestConvexResultCallback_set_m_hitPointWorld_1,ls=t._emscripten_bind_RayResultCallback_set_m_collisionFilterMask_1=Vn._emscripten_bind_RayResultCallback_set_m_collisionFilterMask_1,cs=t._emscripten_bind_btPairCachingGhostObject___destroy___0=Vn._emscripten_bind_btPairCachingGhostObject___destroy___0,hs=t._emscripten_bind_btDynamicsWorld_addCollisionObject_3=Vn._emscripten_bind_btDynamicsWorld_addCollisionObject_3,us=t._emscripten_bind_btPairCachingGhostObject_activate_0=Vn._emscripten_bind_btPairCachingGhostObject_activate_0,ds=t._emscripten_bind_btPairCachingGhostObject_activate_1=Vn._emscripten_bind_btPairCachingGhostObject_activate_1,ps=t._emscripten_bind_btContactSolverInfo_get_m_splitImpulsePenetrationThreshold_0=Vn._emscripten_bind_btContactSolverInfo_get_m_splitImpulsePenetrationThreshold_0,fs=t._emscripten_bind_btPairCachingGhostObject_forceActivationState_1=Vn._emscripten_bind_btPairCachingGhostObject_forceActivationState_1,_s=t._emscripten_bind_btDefaultMotionState___destroy___0=Vn._emscripten_bind_btDefaultMotionState___destroy___0,ms=t._emscripten_bind_btDispatcherInfo_get_m_stepCount_0=Vn._emscripten_bind_btDispatcherInfo_get_m_stepCount_0,gs=t._emscripten_bind_btRigidBodyConstructionInfo_set_m_angularDamping_1=Vn._emscripten_bind_btRigidBodyConstructionInfo_set_m_angularDamping_1,ys=t._emscripten_bind_btQuadWord_setW_1=Vn._emscripten_bind_btQuadWord_setW_1,bs=t._emscripten_bind_btRigidBodyConstructionInfo_get_m_friction_0=Vn._emscripten_bind_btRigidBodyConstructionInfo_get_m_friction_0,vs=t._emscripten_bind_btCapsuleShapeX_btCapsuleShapeX_2=Vn._emscripten_bind_btCapsuleShapeX_btCapsuleShapeX_2,Ms=t._emscripten_bind_btWheelInfo_get_m_maxSuspensionForce_0=Vn._emscripten_bind_btWheelInfo_get_m_maxSuspensionForce_0,Ss=t._emscripten_bind_btRigidBody_setLinearFactor_1=Vn._emscripten_bind_btRigidBody_setLinearFactor_1,Ts=t._emscripten_bind_btDispatcherInfo_set_m_useConvexConservativeDistanceUtil_1=Vn._emscripten_bind_btDispatcherInfo_set_m_useConvexConservativeDistanceUtil_1,xs=t._emscripten_bind_btRaycastVehicle_setSteeringValue_2=Vn._emscripten_bind_btRaycastVehicle_setSteeringValue_2,Cs=t._emscripten_bind_btPoint2PointConstraint___destroy___0=Vn._emscripten_bind_btPoint2PointConstraint___destroy___0,Es=t._emscripten_bind_btGeneric6DofConstraint_setAngularUpperLimit_1=Vn._emscripten_bind_btGeneric6DofConstraint_setAngularUpperLimit_1,As=t._emscripten_bind_btDiscreteDynamicsWorld_addConstraint_2=Vn._emscripten_bind_btDiscreteDynamicsWorld_addConstraint_2,ws=t._emscripten_bind_btDiscreteDynamicsWorld_addConstraint_1=Vn._emscripten_bind_btDiscreteDynamicsWorld_addConstraint_1,Rs=t._emscripten_bind_btRigidBodyConstructionInfo_set_m_angularSleepingThreshold_1=Vn._emscripten_bind_btRigidBodyConstructionInfo_set_m_angularSleepingThreshold_1,ge=t._malloc=Vn._malloc,Ds=t._emscripten_bind_btDispatcherInfo_get_m_useEpa_0=Vn._emscripten_bind_btDispatcherInfo_get_m_useEpa_0,Ps=t._emscripten_replace_memory=Vn._emscripten_replace_memory,Bs=t._emscripten_bind_btTransform_btTransform_2=Vn._emscripten_bind_btTransform_btTransform_2,Vs=t._emscripten_bind_btTransform_btTransform_0=Vn._emscripten_bind_btTransform_btTransform_0,Ls=t._emscripten_bind_btWheelInfo_set_m_wheelsRadius_1=Vn._emscripten_bind_btWheelInfo_set_m_wheelsRadius_1,ks=t._emscripten_bind_btDispatcherInfo_set_m_enableSPU_1=Vn._emscripten_bind_btDispatcherInfo_set_m_enableSPU_1,Hs=t._emscripten_bind_btWheelInfo_set_m_wheelsDampingCompression_1=Vn._emscripten_bind_btWheelInfo_set_m_wheelsDampingCompression_1,Is=t._emscripten_bind_btCollisionObject_setActivationState_1=Vn._emscripten_bind_btCollisionObject_setActivationState_1,Os=t._emscripten_bind_btPersistentManifold___destroy___0=Vn._emscripten_bind_btPersistentManifold___destroy___0,Js=t._emscripten_bind_btConstraintSetting_get_m_impulseClamp_0=Vn._emscripten_bind_btConstraintSetting_get_m_impulseClamp_0,Ns=t._emscripten_bind_btCylinderShapeZ___destroy___0=Vn._emscripten_bind_btCylinderShapeZ___destroy___0,Fs=t._emscripten_bind_btMatrix3x3___destroy___0=Vn._emscripten_bind_btMatrix3x3___destroy___0,Gs=t._emscripten_bind_ConvexResultCallback_hasHit_0=Vn._emscripten_bind_ConvexResultCallback_hasHit_0,zs=t._emscripten_bind_btCollisionShape_calculateLocalInertia_2=Vn._emscripten_bind_btCollisionShape_calculateLocalInertia_2,js=t._emscripten_bind_btGeneric6DofSpringConstraint_setBreakingImpulseThreshold_1=Vn._emscripten_bind_btGeneric6DofSpringConstraint_setBreakingImpulseThreshold_1,Us=t._emscripten_bind_btCollisionWorld_convexSweepTest_5=Vn._emscripten_bind_btCollisionWorld_convexSweepTest_5,Ws=t._emscripten_bind_ClosestRayResultCallback_set_m_hitPointWorld_1=Vn._emscripten_bind_ClosestRayResultCallback_set_m_hitPointWorld_1,Xs=t._emscripten_bind_btRigidBody_upcast_1=Vn._emscripten_bind_btRigidBody_upcast_1,qs=t._emscripten_bind_btConstraintSetting_set_m_damping_1=Vn._emscripten_bind_btConstraintSetting_set_m_damping_1,Ks=t._emscripten_bind_btVehicleRaycaster___destroy___0=Vn._emscripten_bind_btVehicleRaycaster___destroy___0,Ys=t._emscripten_bind_btRigidBody_setCcdMotionThreshold_1=Vn._emscripten_bind_btRigidBody_setCcdMotionThreshold_1,Qs=t._emscripten_bind_btRigidBody_applyForce_2=Vn._emscripten_bind_btRigidBody_applyForce_2,Zs=t._emscripten_bind_btConeShapeZ_calculateLocalInertia_2=Vn._emscripten_bind_btConeShapeZ_calculateLocalInertia_2,$s=t._emscripten_bind_btConstraintSetting_set_m_tau_1=Vn._emscripten_bind_btConstraintSetting_set_m_tau_1,tl=t._emscripten_bind_btConvexHullShape_calculateLocalInertia_2=Vn._emscripten_bind_btConvexHullShape_calculateLocalInertia_2,el=t._emscripten_bind_btSphereShape_calculateLocalInertia_2=Vn._emscripten_bind_btSphereShape_calculateLocalInertia_2,il=t._emscripten_bind_btWheelInfo_get_m_chassisConnectionPointCS_0=Vn._emscripten_bind_btWheelInfo_get_m_chassisConnectionPointCS_0,rl=t._emscripten_bind_btCollisionDispatcher_getManifoldByIndexInternal_1=Vn._emscripten_bind_btCollisionDispatcher_getManifoldByIndexInternal_1,ol=t._emscripten_bind_ClosestRayResultCallback_get_m_rayToWorld_0=Vn._emscripten_bind_ClosestRayResultCallback_get_m_rayToWorld_0,nl=t._emscripten_bind_btGhostObject_setFriction_1=Vn._emscripten_bind_btGhostObject_setFriction_1,al=t._emscripten_bind_btCollisionWorld_rayTest_3=Vn._emscripten_bind_btCollisionWorld_rayTest_3,sl=t._emscripten_bind_btRigidBody_setCcdSweptSphereRadius_1=Vn._emscripten_bind_btRigidBody_setCcdSweptSphereRadius_1,ll=t._emscripten_bind_btRigidBody_setFriction_1=Vn._emscripten_bind_btRigidBody_setFriction_1,cl=t._emscripten_bind_LocalConvexResult_set_m_hitPointLocal_1=Vn._emscripten_bind_LocalConvexResult_set_m_hitPointLocal_1,hl=t._emscripten_bind_btGhostObject_setWorldTransform_1=Vn._emscripten_bind_btGhostObject_setWorldTransform_1,ul=t._emscripten_bind_btDiscreteDynamicsWorld_removeRigidBody_1=Vn._emscripten_bind_btDiscreteDynamicsWorld_removeRigidBody_1,dl=t._emscripten_bind_btConvexHullShape___destroy___0=Vn._emscripten_bind_btConvexHullShape___destroy___0,pl=t._emscripten_bind_btDiscreteDynamicsWorld_getBroadphase_0=Vn._emscripten_bind_btDiscreteDynamicsWorld_getBroadphase_0,fl=t._emscripten_bind_btDiscreteDynamicsWorld_addAction_1=Vn._emscripten_bind_btDiscreteDynamicsWorld_addAction_1,_l=t._emscripten_bind_btVector4_setX_1=Vn._emscripten_bind_btVector4_setX_1,ml=t._emscripten_bind_btKinematicCharacterController_jump_0=Vn._emscripten_bind_btKinematicCharacterController_jump_0,gl=t._emscripten_bind_btConeTwistConstraint_setMaxMotorImpulseNormalized_1=Vn._emscripten_bind_btConeTwistConstraint_setMaxMotorImpulseNormalized_1,yl=t._emscripten_bind_btConvexTriangleMeshShape_setLocalScaling_1=Vn._emscripten_bind_btConvexTriangleMeshShape_setLocalScaling_1,bl=t._emscripten_bind_btCapsuleShapeX_calculateLocalInertia_2=Vn._emscripten_bind_btCapsuleShapeX_calculateLocalInertia_2,vl=t._emscripten_bind_btCollisionObject_getWorldTransform_0=Vn._emscripten_bind_btCollisionObject_getWorldTransform_0,Ml=t._emscripten_bind_btVector4_setZ_1=Vn._emscripten_bind_btVector4_setZ_1,Sl=t._emscripten_bind_btQuadWord_y_0=Vn._emscripten_bind_btQuadWord_y_0,Tl=t._emscripten_bind_btTransform_getBasis_0=Vn._emscripten_bind_btTransform_getBasis_0,xl=t._emscripten_bind_btPairCachingGhostObject_setFriction_1=Vn._emscripten_bind_btPairCachingGhostObject_setFriction_1,Cl=t._emscripten_bind_btDispatcherInfo_set_m_useEpa_1=Vn._emscripten_bind_btDispatcherInfo_set_m_useEpa_1,El=t._emscripten_bind_btCollisionDispatcher_getNumManifolds_0=Vn._emscripten_bind_btCollisionDispatcher_getNumManifolds_0,Al=t._emscripten_bind_btWheelInfo_set_m_bIsFrontWheel_1=Vn._emscripten_bind_btWheelInfo_set_m_bIsFrontWheel_1,wl=t._emscripten_bind_ClosestRayResultCallback___destroy___0=Vn._emscripten_bind_ClosestRayResultCallback___destroy___0,Rl=t._emscripten_bind_btGeneric6DofSpringConstraint_setStiffness_2=Vn._emscripten_bind_btGeneric6DofSpringConstraint_setStiffness_2,Dl=t._emscripten_bind_btQuadWord_w_0=Vn._emscripten_bind_btQuadWord_w_0,Pl=t._emscripten_bind_btPersistentManifold_getNumContacts_0=Vn._emscripten_bind_btPersistentManifold_getNumContacts_0,Bl=t._emscripten_bind_btPairCachingGhostObject_getCollisionFlags_0=Vn._emscripten_bind_btPairCachingGhostObject_getCollisionFlags_0,Vl=t._emscripten_bind_btBvhTriangleMeshShape_calculateLocalInertia_2=Vn._emscripten_bind_btBvhTriangleMeshShape_calculateLocalInertia_2,Ll=t._emscripten_bind_btGhostObject_btGhostObject_0=Vn._emscripten_bind_btGhostObject_btGhostObject_0,kl=t._emscripten_bind_btConeShape_btConeShape_2=Vn._emscripten_bind_btConeShape_btConeShape_2,Hl=t._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalAngularDampingFactor_1=Vn._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalAngularDampingFactor_1,Il=t._emscripten_bind_btManifoldPoint_set_m_localPointA_1=Vn._emscripten_bind_btManifoldPoint_set_m_localPointA_1,Ol=t._emscripten_bind_btCollisionObject_setCollisionShape_1=Vn._emscripten_bind_btCollisionObject_setCollisionShape_1,Jl=t._emscripten_bind_btWheelInfo___destroy___0=Vn._emscripten_bind_btWheelInfo___destroy___0,Nl=t._emscripten_bind_btTransform_setRotation_1=Vn._emscripten_bind_btTransform_setRotation_1,Fl=t._emscripten_bind_btRigidBody_setMassProps_2=Vn._emscripten_bind_btRigidBody_setMassProps_2,Gl=t._emscripten_bind_btPoint2PointConstraint_enableFeedback_1=Vn._emscripten_bind_btPoint2PointConstraint_enableFeedback_1,zl=t._emscripten_bind_ClosestRayResultCallback_set_m_collisionFilterGroup_1=Vn._emscripten_bind_ClosestRayResultCallback_set_m_collisionFilterGroup_1,jl=t._emscripten_bind_btAxisSweep3_btAxisSweep3_2=Vn._emscripten_bind_btAxisSweep3_btAxisSweep3_2,Ul=t._emscripten_bind_btAxisSweep3_btAxisSweep3_3=Vn._emscripten_bind_btAxisSweep3_btAxisSweep3_3,Wl=t._emscripten_bind_btDynamicsWorld___destroy___0=Vn._emscripten_bind_btDynamicsWorld___destroy___0,Xl=t._emscripten_bind_btVector3_setY_1=Vn._emscripten_bind_btVector3_setY_1,ql=t._emscripten_bind_btAxisSweep3_btAxisSweep3_4=Vn._emscripten_bind_btAxisSweep3_btAxisSweep3_4,Kl=t._emscripten_bind_btRigidBody_getMotionState_0=Vn._emscripten_bind_btRigidBody_getMotionState_0,Yl=t._emscripten_bind_btQuadWord_setX_1=Vn._emscripten_bind_btQuadWord_setX_1,Ql=t._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalLinearDampingThresholdSqr_0=Vn._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalLinearDampingThresholdSqr_0,Zl=t._emscripten_bind_btGhostObject_isActive_0=Vn._emscripten_bind_btGhostObject_isActive_0,$l=t._emscripten_bind_btOverlappingPairCache___destroy___0=Vn._emscripten_bind_btOverlappingPairCache___destroy___0,tc=t._emscripten_bind_btConstraintSetting___destroy___0=Vn._emscripten_bind_btConstraintSetting___destroy___0,ec=t._emscripten_bind_btRaycastVehicle___destroy___0=Vn._emscripten_bind_btRaycastVehicle___destroy___0,ic=t._emscripten_bind_btPersistentManifold_getBody0_0=Vn._emscripten_bind_btPersistentManifold_getBody0_0,rc=t._emscripten_bind_btConeShapeX_btConeShapeX_2=Vn._emscripten_bind_btConeShapeX_btConeShapeX_2,oc=t._emscripten_bind_btConeTwistConstraint_enableFeedback_1=Vn._emscripten_bind_btConeTwistConstraint_enableFeedback_1,nc=t._emscripten_bind_btCapsuleShapeZ_setLocalScaling_1=Vn._emscripten_bind_btCapsuleShapeZ_setLocalScaling_1,ac=t._emscripten_bind_btRigidBody_applyTorque_1=Vn._emscripten_bind_btRigidBody_applyTorque_1,sc=t._emscripten_bind_btSliderConstraint_setUpperLinLimit_1=Vn._emscripten_bind_btSliderConstraint_setUpperLinLimit_1,lc=t._emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_2=Vn._emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_2,cc=t._emscripten_bind_btConcaveShape___destroy___0=Vn._emscripten_bind_btConcaveShape___destroy___0,hc=t._emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_4=Vn._emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_4,uc=t._emscripten_bind_btQuaternion_x_0=Vn._emscripten_bind_btQuaternion_x_0,dc=t._emscripten_bind_LocalConvexResult_set_m_hitNormalLocal_1=Vn._emscripten_bind_LocalConvexResult_set_m_hitNormalLocal_1,pc=t._emscripten_bind_btConcaveShape_setLocalScaling_1=Vn._emscripten_bind_btConcaveShape_setLocalScaling_1,fc=t._emscripten_bind_btDiscreteDynamicsWorld_getDispatchInfo_0=Vn._emscripten_bind_btDiscreteDynamicsWorld_getDispatchInfo_0,_c=t._emscripten_bind_btDynamicsWorld_convexSweepTest_5=Vn._emscripten_bind_btDynamicsWorld_convexSweepTest_5,mc=t._emscripten_bind_btQuaternion_z_0=Vn._emscripten_bind_btQuaternion_z_0,gc=t._emscripten_bind_btConvexHullShape_btConvexHullShape_0=Vn._emscripten_bind_btConvexHullShape_btConvexHullShape_0,yc=t._emscripten_bind_btWheelInfo_set_m_maxSuspensionForce_1=Vn._emscripten_bind_btWheelInfo_set_m_maxSuspensionForce_1,bc=t._emscripten_bind_btConstraintSetting_get_m_damping_0=Vn._emscripten_bind_btConstraintSetting_get_m_damping_0,vc=t._emscripten_bind_btGhostObject___destroy___0=Vn._emscripten_bind_btGhostObject___destroy___0,Mc=t._emscripten_bind_btGhostObject_setContactProcessingThreshold_1=Vn._emscripten_bind_btGhostObject_setContactProcessingThreshold_1,Sc=t._emscripten_bind_btRigidBody_applyCentralForce_1=Vn._emscripten_bind_btRigidBody_applyCentralForce_1,Tc=t._emscripten_bind_btDispatcherInfo_set_m_stepCount_1=Vn._emscripten_bind_btDispatcherInfo_set_m_stepCount_1,xc=t._emscripten_bind_btContactSolverInfo_set_m_splitImpulse_1=Vn._emscripten_bind_btContactSolverInfo_set_m_splitImpulse_1,Cc=t._emscripten_bind_btRigidBody_getGravity_0=Vn._emscripten_bind_btRigidBody_getGravity_0,Ec=t._emscripten_bind_btDefaultMotionState_btDefaultMotionState_2=Vn._emscripten_bind_btDefaultMotionState_btDefaultMotionState_2,Ac=t._emscripten_bind_btDefaultMotionState_btDefaultMotionState_0=Vn._emscripten_bind_btDefaultMotionState_btDefaultMotionState_0,wc=t._emscripten_bind_btDefaultMotionState_btDefaultMotionState_1=Vn._emscripten_bind_btDefaultMotionState_btDefaultMotionState_1,Rc=t._emscripten_bind_btKinematicCharacterController_canJump_0=Vn._emscripten_bind_btKinematicCharacterController_canJump_0,Dc=t._emscripten_bind_btRigidBody_isActive_0=Vn._emscripten_bind_btRigidBody_isActive_0,Pc=t._emscripten_bind_btRaycastVehicle_btRaycastVehicle_3=Vn._emscripten_bind_btRaycastVehicle_btRaycastVehicle_3,Bc=t._emscripten_bind_btMotionState_setWorldTransform_1=Vn._emscripten_bind_btMotionState_setWorldTransform_1,Vc=t._emscripten_bind_btCylinderShape_setLocalScaling_1=Vn._emscripten_bind_btCylinderShape_setLocalScaling_1,Lc=t._emscripten_bind_btPairCachingGhostObject_getWorldTransform_0=Vn._emscripten_bind_btPairCachingGhostObject_getWorldTransform_0,kc=t._emscripten_bind_btCompoundShape_calculateLocalInertia_2=Vn._emscripten_bind_btCompoundShape_calculateLocalInertia_2,Hc=t._emscripten_bind_btCollisionWorld_getDispatchInfo_0=Vn._emscripten_bind_btCollisionWorld_getDispatchInfo_0,Ic=t._emscripten_bind_btRigidBody_setCollisionShape_1=Vn._emscripten_bind_btRigidBody_setCollisionShape_1,Oc=t._emscripten_bind_btConeShapeX___destroy___0=Vn._emscripten_bind_btConeShapeX___destroy___0,Jc=t._emscripten_bind_btCollisionObject_getCollisionFlags_0=Vn._emscripten_bind_btCollisionObject_getCollisionFlags_0,Nc=t._emscripten_bind_btDispatcherInfo_set_m_enableSatConvex_1=Vn._emscripten_bind_btDispatcherInfo_set_m_enableSatConvex_1,Fc=t._emscripten_bind_btConeTwistConstraint_enableMotor_1=Vn._emscripten_bind_btConeTwistConstraint_enableMotor_1,Gc=t._emscripten_bind_btRaycastVehicle_setCoordinateSystem_3=Vn._emscripten_bind_btRaycastVehicle_setCoordinateSystem_3,zc=t._emscripten_bind_btKinematicCharacterController_btKinematicCharacterController_4=Vn._emscripten_bind_btKinematicCharacterController_btKinematicCharacterController_4,jc=t._emscripten_bind_btPairCachingGhostObject_setRestitution_1=Vn._emscripten_bind_btPairCachingGhostObject_setRestitution_1,Uc=t._emscripten_bind_btSphereShape___destroy___0=Vn._emscripten_bind_btSphereShape___destroy___0,Wc=t._emscripten_bind_btSliderConstraint_getBreakingImpulseThreshold_0=Vn._emscripten_bind_btSliderConstraint_getBreakingImpulseThreshold_0,Xc=t._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalDampingFactor_1=Vn._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalDampingFactor_1,qc=t._emscripten_bind_btKinematicCharacterController_btKinematicCharacterController_3=Vn._emscripten_bind_btKinematicCharacterController_btKinematicCharacterController_3,Kc=t._emscripten_bind_btCollisionObject_setContactProcessingThreshold_1=Vn._emscripten_bind_btCollisionObject_setContactProcessingThreshold_1,Yc=t._emscripten_bind_btCompoundShape___destroy___0=Vn._emscripten_bind_btCompoundShape___destroy___0,Qc=t._emscripten_bind_btDispatcherInfo_get_m_allowedCcdPenetration_0=Vn._emscripten_bind_btDispatcherInfo_get_m_allowedCcdPenetration_0,Zc=t._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalAngularDampingFactor_0=Vn._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalAngularDampingFactor_0,$c=t._emscripten_bind_LocalConvexResult___destroy___0=Vn._emscripten_bind_LocalConvexResult___destroy___0,th=t._emscripten_bind_btSequentialImpulseConstraintSolver___destroy___0=Vn._emscripten_bind_btSequentialImpulseConstraintSolver___destroy___0,eh=t._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalLinearDampingThresholdSqr_1=Vn._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalLinearDampingThresholdSqr_1,ih=t._emscripten_bind_btRigidBody_getCollisionFlags_0=Vn._emscripten_bind_btRigidBody_getCollisionFlags_0,rh=t._emscripten_bind_btCollisionShape_setLocalScaling_1=Vn._emscripten_bind_btCollisionShape_setLocalScaling_1,oh=t._emscripten_bind_ClosestConvexResultCallback_get_m_closestHitFraction_0=Vn._emscripten_bind_ClosestConvexResultCallback_get_m_closestHitFraction_0,nh=t._emscripten_bind_LocalConvexResult_get_m_hitCollisionObject_0=Vn._emscripten_bind_LocalConvexResult_get_m_hitCollisionObject_0,ah=t._emscripten_bind_btMatrix3x3_setEulerZYX_3=Vn._emscripten_bind_btMatrix3x3_setEulerZYX_3,sh=t._emscripten_bind_btRigidBody_setRollingFriction_1=Vn._emscripten_bind_btRigidBody_setRollingFriction_1,lh=t._emscripten_bind_btDispatcherInfo_get_m_convexConservativeDistanceThreshold_0=Vn._emscripten_bind_btDispatcherInfo_get_m_convexConservativeDistanceThreshold_0,ch=t._emscripten_bind_btConvexHullShape_setLocalScaling_1=Vn._emscripten_bind_btConvexHullShape_setLocalScaling_1,hh=t._emscripten_bind_RayResultCallback_get_m_collisionFilterMask_0=Vn._emscripten_bind_RayResultCallback_get_m_collisionFilterMask_0,uh=t._emscripten_bind_btCollisionWorld_getDispatcher_0=Vn._emscripten_bind_btCollisionWorld_getDispatcher_0,dh=t._emscripten_bind_btCollisionObject_setRollingFriction_1=Vn._emscripten_bind_btCollisionObject_setRollingFriction_1,ph=t._emscripten_bind_RayResultCallback_set_m_collisionFilterGroup_1=Vn._emscripten_bind_RayResultCallback_set_m_collisionFilterGroup_1,fh=t._emscripten_bind_btTriangleMesh_btTriangleMesh_1=Vn._emscripten_bind_btTriangleMesh_btTriangleMesh_1,_h=t._i64Subtract=Vn._i64Subtract,mh=t._emscripten_bind_btRaycastVehicle_getWheelTransformWS_1=Vn._emscripten_bind_btRaycastVehicle_getWheelTransformWS_1,gh=t._emscripten_bind_btRigidBody_setDamping_2=Vn._emscripten_bind_btRigidBody_setDamping_2,yh=t._emscripten_bind_btDynamicsWorld_getDispatcher_0=Vn._emscripten_bind_btDynamicsWorld_getDispatcher_0,bh=t._emscripten_bind_btGhostObject_setCollisionFlags_1=Vn._emscripten_bind_btGhostObject_setCollisionFlags_1,vh=t._emscripten_bind_btMatrix3x3_getRotation_1=Vn._emscripten_bind_btMatrix3x3_getRotation_1,Mh=t._emscripten_bind_btConeTwistConstraint_setMaxMotorImpulse_1=Vn._emscripten_bind_btConeTwistConstraint_setMaxMotorImpulse_1,Sh=t._emscripten_bind_btCylinderShapeX_setLocalScaling_1=Vn._emscripten_bind_btCylinderShapeX_setLocalScaling_1,Th=t._emscripten_bind_btDbvtBroadphase_btDbvtBroadphase_0=Vn._emscripten_bind_btDbvtBroadphase_btDbvtBroadphase_0,xh=t._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalDamping_0=Vn._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalDamping_0,Ch=t._emscripten_bind_btCompoundShape_setLocalScaling_1=Vn._emscripten_bind_btCompoundShape_setLocalScaling_1,Eh=t._emscripten_bind_btOverlappingPairCallback___destroy___0=Vn._emscripten_bind_btOverlappingPairCallback___destroy___0,Ah=t._emscripten_bind_btManifoldPoint_get_m_positionWorldOnB_0=Vn._emscripten_bind_btManifoldPoint_get_m_positionWorldOnB_0,wh=t._emscripten_bind_btVector4_setY_1=Vn._emscripten_bind_btVector4_setY_1,Rh=t._emscripten_bind_btPairCachingGhostObject_setCcdSweptSphereRadius_1=Vn._emscripten_bind_btPairCachingGhostObject_setCcdSweptSphereRadius_1,Dh=t._emscripten_bind_btHingeConstraint_enableAngularMotor_3=Vn._emscripten_bind_btHingeConstraint_enableAngularMotor_3,Ph=t._emscripten_bind_btRigidBody_setContactProcessingThreshold_1=Vn._emscripten_bind_btRigidBody_setContactProcessingThreshold_1,Bh=t._emscripten_bind_btRigidBody_getLinearVelocity_0=Vn._emscripten_bind_btRigidBody_getLinearVelocity_0,Vh=t._emscripten_bind_btRigidBody_applyImpulse_2=Vn._emscripten_bind_btRigidBody_applyImpulse_2,Lh=t._emscripten_bind_btConcaveShape_calculateLocalInertia_2=Vn._emscripten_bind_btConcaveShape_calculateLocalInertia_2,kh=t._emscripten_bind_btRigidBody_setWorldTransform_1=Vn._emscripten_bind_btRigidBody_setWorldTransform_1,Hh=t._emscripten_bind_btRigidBody_setAngularVelocity_1=Vn._emscripten_bind_btRigidBody_setAngularVelocity_1,Ih=t._emscripten_bind_btGeneric6DofSpringConstraint_btGeneric6DofSpringConstraint_3=Vn._emscripten_bind_btGeneric6DofSpringConstraint_btGeneric6DofSpringConstraint_3,Oh=t._emscripten_bind_btConvexShape_setLocalScaling_1=Vn._emscripten_bind_btConvexShape_setLocalScaling_1,Jh=t._emscripten_bind_btTriangleMeshShape_calculateLocalInertia_2=Vn._emscripten_bind_btTriangleMeshShape_calculateLocalInertia_2,Nh=t._emscripten_bind_btQuaternion_setX_1=Vn._emscripten_bind_btQuaternion_setX_1,Fh=t._emscripten_bind_btPairCachingGhostObject_setContactProcessingThreshold_1=Vn._emscripten_bind_btPairCachingGhostObject_setContactProcessingThreshold_1,Gh=t._emscripten_bind_btGeneric6DofConstraint_setLinearUpperLimit_1=Vn._emscripten_bind_btGeneric6DofConstraint_setLinearUpperLimit_1,zh=t._emscripten_bind_ClosestRayResultCallback_get_m_collisionFilterMask_0=Vn._emscripten_bind_ClosestRayResultCallback_get_m_collisionFilterMask_0,jh=t._emscripten_bind_RayResultCallback_hasHit_0=Vn._emscripten_bind_RayResultCallback_hasHit_0,Uh=t._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalAngularDampingThresholdSqr_0=Vn._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalAngularDampingThresholdSqr_0,Wh=t._emscripten_bind_btQuaternion___destroy___0=Vn._emscripten_bind_btQuaternion___destroy___0,Xh=t._emscripten_bind_btWheelInfo_get_m_frictionSlip_0=Vn._emscripten_bind_btWheelInfo_get_m_frictionSlip_0,qh=t._emscripten_bind_btConeShapeZ_setLocalScaling_1=Vn._emscripten_bind_btConeShapeZ_setLocalScaling_1,Kh=t._emscripten_bind_btPairCachingGhostObject_setActivationState_1=Vn._emscripten_bind_btPairCachingGhostObject_setActivationState_1,Yh=t._emscripten_bind_btGeneric6DofSpringConstraint___destroy___0=Vn._emscripten_bind_btGeneric6DofSpringConstraint___destroy___0,Qh=t._emscripten_bind_btConvexTriangleMeshShape___destroy___0=Vn._emscripten_bind_btConvexTriangleMeshShape___destroy___0,Zh=t._emscripten_bind_btVehicleTuning_set_m_maxSuspensionTravelCm_1=Vn._emscripten_bind_btVehicleTuning_set_m_maxSuspensionTravelCm_1,$h=t._emscripten_bind_btGhostObject_setRollingFriction_1=Vn._emscripten_bind_btGhostObject_setRollingFriction_1,tu=t._emscripten_bind_btCylinderShapeZ_btCylinderShapeZ_1=Vn._emscripten_bind_btCylinderShapeZ_btCylinderShapeZ_1,eu=t._emscripten_bind_btPoint2PointConstraint_set_m_setting_1=Vn._emscripten_bind_btPoint2PointConstraint_set_m_setting_1,iu=t._emscripten_bind_btCompoundShape_btCompoundShape_0=Vn._emscripten_bind_btCompoundShape_btCompoundShape_0,ru=t._emscripten_bind_btCompoundShape_btCompoundShape_1=Vn._emscripten_bind_btCompoundShape_btCompoundShape_1,ou=t._emscripten_bind_btOverlappingPairCache_setInternalGhostPairCallback_1=Vn._emscripten_bind_btOverlappingPairCache_setInternalGhostPairCallback_1,nu=t._emscripten_bind_btStaticPlaneShape_btStaticPlaneShape_2=Vn._emscripten_bind_btStaticPlaneShape_btStaticPlaneShape_2,au=t.__GLOBAL__sub_I_btQuickprof_cpp=Vn.__GLOBAL__sub_I_btQuickprof_cpp,su=t._emscripten_bind_btDispatcherInfo_get_m_useContinuous_0=Vn._emscripten_bind_btDispatcherInfo_get_m_useContinuous_0,lu=t._emscripten_bind_btRigidBody_updateInertiaTensor_0=Vn._emscripten_bind_btRigidBody_updateInertiaTensor_0,cu=t._emscripten_bind_btPairCachingGhostObject_setAnisotropicFriction_2=Vn._emscripten_bind_btPairCachingGhostObject_setAnisotropicFriction_2,hu=t._emscripten_bind_btTransform_setOrigin_1=Vn._emscripten_bind_btTransform_setOrigin_1,uu=t._emscripten_bind_ClosestRayResultCallback_hasHit_0=Vn._emscripten_bind_ClosestRayResultCallback_hasHit_0,du=t._emscripten_bind_btCompoundShape_addChildShape_2=Vn._emscripten_bind_btCompoundShape_addChildShape_2,pu=t._emscripten_bind_btDispatcher___destroy___0=Vn._emscripten_bind_btDispatcher___destroy___0,fu=t._emscripten_bind_btVehicleTuning_get_m_suspensionCompression_0=Vn._emscripten_bind_btVehicleTuning_get_m_suspensionCompression_0,_u=t._emscripten_bind_btDiscreteDynamicsWorld___destroy___0=Vn._emscripten_bind_btDiscreteDynamicsWorld___destroy___0,mu=t._emscripten_bind_btConvexShape___destroy___0=Vn._emscripten_bind_btConvexShape___destroy___0,gu=t._memmove=Vn._memmove,yu=t._emscripten_bind_btCapsuleShapeX_setLocalScaling_1=Vn._emscripten_bind_btCapsuleShapeX_setLocalScaling_1,bu=t._emscripten_bind_btCollisionObject_setRestitution_1=Vn._emscripten_bind_btCollisionObject_setRestitution_1,vu=t._emscripten_bind_btWheelInfo_get_m_wheelsDampingCompression_0=Vn._emscripten_bind_btWheelInfo_get_m_wheelsDampingCompression_0,Mu=t._emscripten_bind_LocalConvexResult_get_m_hitFraction_0=Vn._emscripten_bind_LocalConvexResult_get_m_hitFraction_0,Su=t._emscripten_bind_btDispatcherInfo_get_m_enableSPU_0=Vn._emscripten_bind_btDispatcherInfo_get_m_enableSPU_0,Tu=t._emscripten_bind_btQuaternion_w_0=Vn._emscripten_bind_btQuaternion_w_0,xu=t._emscripten_bind_ConvexResultCallback_get_m_collisionFilterGroup_0=Vn._emscripten_bind_ConvexResultCallback_get_m_collisionFilterGroup_0,Cu=t._emscripten_bind_btTransform_getRotation_0=Vn._emscripten_bind_btTransform_getRotation_0,Eu=t._emscripten_bind_btHingeConstraint_btHingeConstraint_6=Vn._emscripten_bind_btHingeConstraint_btHingeConstraint_6,Au=t._emscripten_bind_btHingeConstraint_btHingeConstraint_7=Vn._emscripten_bind_btHingeConstraint_btHingeConstraint_7,wu=t._emscripten_bind_LocalConvexResult_get_m_hitNormalLocal_0=Vn._emscripten_bind_LocalConvexResult_get_m_hitNormalLocal_0,Ru=t._emscripten_bind_btHingeConstraint_btHingeConstraint_5=Vn._emscripten_bind_btHingeConstraint_btHingeConstraint_5,Du=t._emscripten_bind_btHingeConstraint_btHingeConstraint_2=Vn._emscripten_bind_btHingeConstraint_btHingeConstraint_2,Pu=t._emscripten_bind_btHingeConstraint_btHingeConstraint_3=Vn._emscripten_bind_btHingeConstraint_btHingeConstraint_3,Bu=t._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalAngularDampingThresholdSqr_1=Vn._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalAngularDampingThresholdSqr_1,Vu=t._emscripten_bind_ClosestConvexResultCallback_get_m_hitNormalWorld_0=Vn._emscripten_bind_ClosestConvexResultCallback_get_m_hitNormalWorld_0,Lu=t._emscripten_bind_btTypedConstraint___destroy___0=Vn._emscripten_bind_btTypedConstraint___destroy___0,ku=t._emscripten_bind_btCylinderShapeX_btCylinderShapeX_1=Vn._emscripten_bind_btCylinderShapeX_btCylinderShapeX_1,Hu=t._emscripten_bind_btGeneric6DofSpringConstraint_setAngularUpperLimit_1=Vn._emscripten_bind_btGeneric6DofSpringConstraint_setAngularUpperLimit_1,Iu=t._emscripten_bind_btConeTwistConstraint_setDamping_1=Vn._emscripten_bind_btConeTwistConstraint_setDamping_1,Ou=t._emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_1=Vn._emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_1,Ju=t._emscripten_bind_btHingeConstraint_enableFeedback_1=Vn._emscripten_bind_btHingeConstraint_enableFeedback_1,Nu=t._emscripten_bind_btSphereShape_btSphereShape_1=Vn._emscripten_bind_btSphereShape_btSphereShape_1,Fu=t._emscripten_bind_btWheelInfo_get_m_wheelsSuspensionForce_0=Vn._emscripten_bind_btWheelInfo_get_m_wheelsSuspensionForce_0,Gu=t._emscripten_bind_btQuaternion_y_0=Vn._emscripten_bind_btQuaternion_y_0,zu=t._emscripten_bind_btCollisionWorld_addCollisionObject_1=Vn._emscripten_bind_btCollisionWorld_addCollisionObject_1,ju=t._emscripten_bind_btCollisionWorld_addCollisionObject_2=Vn._emscripten_bind_btCollisionWorld_addCollisionObject_2,Uu=t._emscripten_bind_btCollisionWorld_addCollisionObject_3=Vn._emscripten_bind_btCollisionWorld_addCollisionObject_3,Wu=t._emscripten_bind_ClosestConvexResultCallback_set_m_collisionFilterGroup_1=Vn._emscripten_bind_ClosestConvexResultCallback_set_m_collisionFilterGroup_1,Xu=t._emscripten_bind_btConeTwistConstraint_setBreakingImpulseThreshold_1=Vn._emscripten_bind_btConeTwistConstraint_setBreakingImpulseThreshold_1,qu=t._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_3=Vn._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_3,Ku=t._emscripten_bind_ClosestConvexResultCallback_get_m_collisionFilterGroup_0=Vn._emscripten_bind_ClosestConvexResultCallback_get_m_collisionFilterGroup_0,Yu=t._emscripten_bind_btDefaultVehicleRaycaster_btDefaultVehicleRaycaster_1=Vn._emscripten_bind_btDefaultVehicleRaycaster_btDefaultVehicleRaycaster_1,Qu=t._emscripten_bind_btPoint2PointConstraint_get_m_setting_0=Vn._emscripten_bind_btPoint2PointConstraint_get_m_setting_0,Zu=t._emscripten_bind_btSequentialImpulseConstraintSolver_btSequentialImpulseConstraintSolver_0=Vn._emscripten_bind_btSequentialImpulseConstraintSolver_btSequentialImpulseConstraintSolver_0,$u=t._emscripten_bind_btActionInterface___destroy___0=Vn._emscripten_bind_btActionInterface___destroy___0,td=t._emscripten_bind_btDefaultMotionState_setWorldTransform_1=Vn._emscripten_bind_btDefaultMotionState_setWorldTransform_1,ed=t._emscripten_bind_btDefaultVehicleRaycaster___destroy___0=Vn._emscripten_bind_btDefaultVehicleRaycaster___destroy___0,id=t._emscripten_bind_RayResultCallback_get_m_collisionObject_0=Vn._emscripten_bind_RayResultCallback_get_m_collisionObject_0,rd=t._emscripten_bind_btPoint2PointConstraint_getPivotInA_0=Vn._emscripten_bind_btPoint2PointConstraint_getPivotInA_0,od=t._emscripten_bind_ClosestConvexResultCallback_get_m_convexFromWorld_0=Vn._emscripten_bind_ClosestConvexResultCallback_get_m_convexFromWorld_0,nd=t._emscripten_bind_btCylinderShape_calculateLocalInertia_2=Vn._emscripten_bind_btCylinderShape_calculateLocalInertia_2,ad=t._emscripten_bind_ClosestConvexResultCallback___destroy___0=Vn._emscripten_bind_ClosestConvexResultCallback___destroy___0,sd=t._emscripten_bind_btDynamicsWorld_addCollisionObject_1=Vn._emscripten_bind_btDynamicsWorld_addCollisionObject_1,ld=t._emscripten_bind_ClosestConvexResultCallback_get_m_collisionFilterMask_0=Vn._emscripten_bind_ClosestConvexResultCallback_get_m_collisionFilterMask_0,cd=(t.___cxa_can_catch=Vn.___cxa_can_catch,t._emscripten_bind_btDynamicsWorld_addCollisionObject_2=Vn._emscripten_bind_btDynamicsWorld_addCollisionObject_2),hd=t._emscripten_bind_btDiscreteDynamicsWorld_getDispatcher_0=Vn._emscripten_bind_btDiscreteDynamicsWorld_getDispatcher_0,ud=t._emscripten_bind_btKinematicCharacterController_setUseGhostSweepTest_1=Vn._emscripten_bind_btKinematicCharacterController_setUseGhostSweepTest_1,dd=t._emscripten_bind_btVector4_op_mul_1=Vn._emscripten_bind_btVector4_op_mul_1,pd=t._emscripten_bind_btCylinderShape_btCylinderShape_1=Vn._emscripten_bind_btCylinderShape_btCylinderShape_1,fd=t._emscripten_bind_btVector3___destroy___0=Vn._emscripten_bind_btVector3___destroy___0,_d=t._emscripten_bind_btRigidBody_setAngularFactor_1=Vn._emscripten_bind_btRigidBody_setAngularFactor_1,md=t._emscripten_bind_btCylinderShapeZ_calculateLocalInertia_2=Vn._emscripten_bind_btCylinderShapeZ_calculateLocalInertia_2,gd=t._emscripten_bind_btWheelInfo_set_m_steering_1=Vn._emscripten_bind_btWheelInfo_set_m_steering_1,yd=t._emscripten_bind_btMotionState_getWorldTransform_1=Vn._emscripten_bind_btMotionState_getWorldTransform_1,bd=t._emscripten_bind_btDynamicsWorld_getSolverInfo_0=Vn._emscripten_bind_btDynamicsWorld_getSolverInfo_0,vd=t._emscripten_bind_btDynamicsWorld_getBroadphase_0=Vn._emscripten_bind_btDynamicsWorld_getBroadphase_0,Md=t._emscripten_bind_btDispatcherInfo_set_m_convexConservativeDistanceThreshold_1=Vn._emscripten_bind_btDispatcherInfo_set_m_convexConservativeDistanceThreshold_1,Sd=t._emscripten_bind_btVector3_x_0=Vn._emscripten_bind_btVector3_x_0,Td=(t.___cxa_is_pointer_type=Vn.___cxa_is_pointer_type,t._emscripten_bind_btRigidBodyConstructionInfo_btRigidBodyConstructionInfo_3=Vn._emscripten_bind_btRigidBodyConstructionInfo_btRigidBodyConstructionInfo_3),xd=t._emscripten_bind_btCollisionObject_getCollisionShape_0=Vn._emscripten_bind_btCollisionObject_getCollisionShape_0,Cd=t._emscripten_bind_btRigidBodyConstructionInfo_btRigidBodyConstructionInfo_4=Vn._emscripten_bind_btRigidBodyConstructionInfo_btRigidBodyConstructionInfo_4,Ed=t._emscripten_bind_btManifoldPoint___destroy___0=Vn._emscripten_bind_btManifoldPoint___destroy___0,Ad=t._emscripten_bind_btRigidBodyConstructionInfo_set_m_rollingFriction_1=Vn._emscripten_bind_btRigidBodyConstructionInfo_set_m_rollingFriction_1,wd=t._emscripten_bind_btVector4_length_0=Vn._emscripten_bind_btVector4_length_0,Rd=t._emscripten_bind_btDefaultMotionState_set_m_graphicsWorldTrans_1=Vn._emscripten_bind_btDefaultMotionState_set_m_graphicsWorldTrans_1,Dd=t._emscripten_bind_btGhostObject_setRestitution_1=Vn._emscripten_bind_btGhostObject_setRestitution_1,Pd=t._emscripten_bind_btDefaultCollisionConstructionInfo___destroy___0=Vn._emscripten_bind_btDefaultCollisionConstructionInfo___destroy___0,Bd=t._emscripten_bind_btCollisionObject_setFriction_1=Vn._emscripten_bind_btCollisionObject_setFriction_1,Vd=t._emscripten_bind_btDefaultCollisionConfiguration___destroy___0=Vn._emscripten_bind_btDefaultCollisionConfiguration___destroy___0,Ld=t._emscripten_bind_btVector3_setValue_3=Vn._emscripten_bind_btVector3_setValue_3,kd=t._emscripten_bind_btPairCachingGhostObject_setCcdMotionThreshold_1=Vn._emscripten_bind_btPairCachingGhostObject_setCcdMotionThreshold_1,Hd=t._emscripten_bind_btGhostObject_getCollisionFlags_0=Vn._emscripten_bind_btGhostObject_getCollisionFlags_0,Id=t._emscripten_bind_btCapsuleShapeX___destroy___0=Vn._emscripten_bind_btCapsuleShapeX___destroy___0,Od=t._emscripten_bind_btHingeConstraint_setLimit_4=Vn._emscripten_bind_btHingeConstraint_setLimit_4,Jd=t._emscripten_bind_btHingeConstraint_setLimit_5=Vn._emscripten_bind_btHingeConstraint_setLimit_5,Nd=t._emscripten_bind_btWheelInfo_set_m_maxSuspensionTravelCm_1=Vn._emscripten_bind_btWheelInfo_set_m_maxSuspensionTravelCm_1,Fd=t._emscripten_bind_btWheelInfo_set_m_wheelsSuspensionForce_1=Vn._emscripten_bind_btWheelInfo_set_m_wheelsSuspensionForce_1,Gd=t._emscripten_bind_btHingeConstraint_setBreakingImpulseThreshold_1=Vn._emscripten_bind_btHingeConstraint_setBreakingImpulseThreshold_1,zd=t._emscripten_bind_btGhostObject_getNumOverlappingObjects_0=Vn._emscripten_bind_btGhostObject_getNumOverlappingObjects_0,jd=t._emscripten_bind_btTypedConstraint_getBreakingImpulseThreshold_0=Vn._emscripten_bind_btTypedConstraint_getBreakingImpulseThreshold_0,Ud=t._emscripten_bind_btGhostObject_getCollisionShape_0=Vn._emscripten_bind_btGhostObject_getCollisionShape_0,Wd=t._emscripten_bind_btCollisionObject_setAnisotropicFriction_2=Vn._emscripten_bind_btCollisionObject_setAnisotropicFriction_2,Xd=t._emscripten_bind_btRigidBodyConstructionInfo_set_m_friction_1=Vn._emscripten_bind_btRigidBodyConstructionInfo_set_m_friction_1,qd=t._emscripten_bind_btPersistentManifold_getContactPoint_1=Vn._emscripten_bind_btPersistentManifold_getContactPoint_1,Kd=t._emscripten_bind_btGeneric6DofSpringConstraint_getBreakingImpulseThreshold_0=Vn._emscripten_bind_btGeneric6DofSpringConstraint_getBreakingImpulseThreshold_0,Yd=t._emscripten_bind_btConeShapeX_calculateLocalInertia_2=Vn._emscripten_bind_btConeShapeX_calculateLocalInertia_2,Qd=t._emscripten_bind_btGhostObject_activate_0=Vn._emscripten_bind_btGhostObject_activate_0,Zd=t._emscripten_bind_btGhostObject_activate_1=Vn._emscripten_bind_btGhostObject_activate_1,$d=t._emscripten_bind_btGeneric6DofSpringConstraint_enableSpring_2=Vn._emscripten_bind_btGeneric6DofSpringConstraint_enableSpring_2,tp=t._emscripten_bind_btManifoldPoint_getPositionWorldOnB_0=Vn._emscripten_bind_btManifoldPoint_getPositionWorldOnB_0,ep=t._emscripten_bind_btManifoldPoint_get_m_positionWorldOnA_0=Vn._emscripten_bind_btManifoldPoint_get_m_positionWorldOnA_0,ip=t._emscripten_bind_btGeneric6DofSpringConstraint_enableFeedback_1=Vn._emscripten_bind_btGeneric6DofSpringConstraint_enableFeedback_1,rp=t._emscripten_bind_btConeShapeZ_btConeShapeZ_2=Vn._emscripten_bind_btConeShapeZ_btConeShapeZ_2,op=t._emscripten_bind_btPairCachingGhostObject_setRollingFriction_1=Vn._emscripten_bind_btPairCachingGhostObject_setRollingFriction_1,np=t._emscripten_bind_btSliderConstraint_setUpperAngLimit_1=Vn._emscripten_bind_btSliderConstraint_setUpperAngLimit_1,ap=t._emscripten_bind_btDynamicsWorld_contactPairTest_3=Vn._emscripten_bind_btDynamicsWorld_contactPairTest_3,sp=t._emscripten_bind_btCollisionWorld_getPairCache_0=Vn._emscripten_bind_btCollisionWorld_getPairCache_0,lp=t._emscripten_bind_btConeTwistConstraint_setMotorTarget_1=Vn._emscripten_bind_btConeTwistConstraint_setMotorTarget_1,cp=t._emscripten_bind_ClosestConvexResultCallback_set_m_convexFromWorld_1=Vn._emscripten_bind_ClosestConvexResultCallback_set_m_convexFromWorld_1,hp=t._emscripten_bind_btWheelInfo_set_m_rollInfluence_1=Vn._emscripten_bind_btWheelInfo_set_m_rollInfluence_1,up=t._emscripten_bind_btRigidBody_getWorldTransform_0=Vn._emscripten_bind_btRigidBody_getWorldTransform_0,dp=t._emscripten_bind_btDefaultCollisionConstructionInfo_btDefaultCollisionConstructionInfo_0=Vn._emscripten_bind_btDefaultCollisionConstructionInfo_btDefaultCollisionConstructionInfo_0,pp=t._emscripten_bind_btGhostObject_forceActivationState_1=Vn._emscripten_bind_btGhostObject_forceActivationState_1,fp=t._emscripten_bind_btVector4_y_0=Vn._emscripten_bind_btVector4_y_0,_p=t._emscripten_bind_VoidPtr___destroy___0=Vn._emscripten_bind_VoidPtr___destroy___0,mp=t._emscripten_bind_btSliderConstraint_setLowerAngLimit_1=Vn._emscripten_bind_btSliderConstraint_setLowerAngLimit_1,gp=t._emscripten_bind_ClosestConvexResultCallback_ClosestConvexResultCallback_2=Vn._emscripten_bind_ClosestConvexResultCallback_ClosestConvexResultCallback_2,yp=t._emscripten_bind_ClosestRayResultCallback_get_m_rayFromWorld_0=Vn._emscripten_bind_ClosestRayResultCallback_get_m_rayFromWorld_0,bp=t._emscripten_bind_btPairCachingGhostObject_getNumOverlappingObjects_0=Vn._emscripten_bind_btPairCachingGhostObject_getNumOverlappingObjects_0,vp=t._emscripten_bind_RayResultCallback_get_m_collisionFilterGroup_0=Vn._emscripten_bind_RayResultCallback_get_m_collisionFilterGroup_0,Mp=t._emscripten_bind_btWheelInfo_get_m_steering_0=Vn._emscripten_bind_btWheelInfo_get_m_steering_0,Sp=t._emscripten_bind_btConstraintSetting_get_m_tau_0=Vn._emscripten_bind_btConstraintSetting_get_m_tau_0,Tp=t._emscripten_bind_btConeShape_setLocalScaling_1=Vn._emscripten_bind_btConeShape_setLocalScaling_1,xp=t._emscripten_bind_btCollisionShape___destroy___0=Vn._emscripten_bind_btCollisionShape___destroy___0,Cp=t._emscripten_bind_ConvexResultCallback_get_m_closestHitFraction_0=Vn._emscripten_bind_ConvexResultCallback_get_m_closestHitFraction_0,Ep=t._emscripten_bind_btDispatcherInfo_get_m_dispatchFunc_0=Vn._emscripten_bind_btDispatcherInfo_get_m_dispatchFunc_0,Ap=t._emscripten_bind_btRigidBodyConstructionInfo_get_m_rollingFriction_0=Vn._emscripten_bind_btRigidBodyConstructionInfo_get_m_rollingFriction_0,wp=t._emscripten_bind_btPairCachingGhostObject_setCollisionShape_1=Vn._emscripten_bind_btPairCachingGhostObject_setCollisionShape_1,Rp=t._emscripten_bind_btKinematicCharacterController_warp_1=Vn._emscripten_bind_btKinematicCharacterController_warp_1,Dp=t._emscripten_bind_btContactSolverInfo___destroy___0=Vn._emscripten_bind_btContactSolverInfo___destroy___0,Pp=t._emscripten_bind_btTriangleMesh___destroy___0=Vn._emscripten_bind_btTriangleMesh___destroy___0,Bp=t._emscripten_bind_btKinematicCharacterController_preStep_1=Vn._emscripten_bind_btKinematicCharacterController_preStep_1,Vp=t._emscripten_bind_btRaycastVehicle_applyEngineForce_2=Vn._emscripten_bind_btRaycastVehicle_applyEngineForce_2,Lp=t._emscripten_bind_btRaycastVehicle_setBrake_2=Vn._emscripten_bind_btRaycastVehicle_setBrake_2,kp=t._emscripten_bind_ConcreteContactResultCallback___destroy___0=Vn._emscripten_bind_ConcreteContactResultCallback___destroy___0,Hp=t._emscripten_bind_btCollisionObject___destroy___0=Vn._emscripten_bind_btCollisionObject___destroy___0,Ip=t._emscripten_bind_btVehicleTuning_set_m_suspensionDamping_1=Vn._emscripten_bind_btVehicleTuning_set_m_suspensionDamping_1,Op=t._emscripten_bind_btRigidBodyConstructionInfo_set_m_linearSleepingThreshold_1=Vn._emscripten_bind_btRigidBodyConstructionInfo_set_m_linearSleepingThreshold_1,Jp=t._emscripten_bind_btConeTwistConstraint_setMotorTargetInConstraintSpace_1=Vn._emscripten_bind_btConeTwistConstraint_setMotorTargetInConstraintSpace_1,Np=t._emscripten_bind_btDispatcherInfo_set_m_timeStep_1=Vn._emscripten_bind_btDispatcherInfo_set_m_timeStep_1,Fp=t._emscripten_bind_btVector3_btVector3_3=Vn._emscripten_bind_btVector3_btVector3_3,Gp=t._emscripten_bind_btVector3_btVector3_0=Vn._emscripten_bind_btVector3_btVector3_0,zp=t._emscripten_bind_btBoxShape___destroy___0=Vn._emscripten_bind_btBoxShape___destroy___0,jp=t._emscripten_bind_btDiscreteDynamicsWorld_getGravity_0=Vn._emscripten_bind_btDiscreteDynamicsWorld_getGravity_0,Up=t._emscripten_bind_btVector3_z_0=Vn._emscripten_bind_btVector3_z_0,Wp=t._emscripten_bind_ClosestConvexResultCallback_get_m_hitPointWorld_0=Vn._emscripten_bind_ClosestConvexResultCallback_get_m_hitPointWorld_0,Xp=t._emscripten_bind_btBroadphaseInterface___destroy___0=Vn._emscripten_bind_btBroadphaseInterface___destroy___0,qp=t._emscripten_bind_ClosestRayResultCallback_set_m_collisionObject_1=Vn._emscripten_bind_ClosestRayResultCallback_set_m_collisionObject_1,Kp=t._emscripten_bind_ConcreteContactResultCallback_addSingleResult_7=Vn._emscripten_bind_ConcreteContactResultCallback_addSingleResult_7,Yp=t._emscripten_bind_btConeTwistConstraint___destroy___0=Vn._emscripten_bind_btConeTwistConstraint___destroy___0,Qp=t._emscripten_bind_btQuadWord___destroy___0=Vn._emscripten_bind_btQuadWord___destroy___0,Zp=t._emscripten_bind_ClosestRayResultCallback_set_m_rayFromWorld_1=Vn._emscripten_bind_ClosestRayResultCallback_set_m_rayFromWorld_1,$p=t._emscripten_bind_btRigidBody_setCenterOfMassTransform_1=Vn._emscripten_bind_btRigidBody_setCenterOfMassTransform_1,tf=t._emscripten_bind_btSliderConstraint_setBreakingImpulseThreshold_1=Vn._emscripten_bind_btSliderConstraint_setBreakingImpulseThreshold_1,ef=t._emscripten_bind_btGhostObject_setAnisotropicFriction_2=Vn._emscripten_bind_btGhostObject_setAnisotropicFriction_2,rf=t._emscripten_bind_btConstraintSolver___destroy___0=Vn._emscripten_bind_btConstraintSolver___destroy___0,of=t._emscripten_bind_btDbvtBroadphase___destroy___0=Vn._emscripten_bind_btDbvtBroadphase___destroy___0,nf=t._emscripten_bind_btCapsuleShape_btCapsuleShape_2=Vn._emscripten_bind_btCapsuleShape_btCapsuleShape_2,af=t._emscripten_bind_btTypedConstraint_enableFeedback_1=Vn._emscripten_bind_btTypedConstraint_enableFeedback_1,sf=t._emscripten_bind_btCapsuleShape_setLocalScaling_1=Vn._emscripten_bind_btCapsuleShape_setLocalScaling_1,lf=t._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalDampingFactor_0=Vn._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalDampingFactor_0,cf=t._emscripten_bind_btRigidBody_setAnisotropicFriction_2=Vn._emscripten_bind_btRigidBody_setAnisotropicFriction_2,hf=t._emscripten_bind_btTriangleMeshShape_setLocalScaling_1=Vn._emscripten_bind_btTriangleMeshShape_setLocalScaling_1,uf=t._emscripten_bind_ConvexResultCallback_set_m_closestHitFraction_1=Vn._emscripten_bind_ConvexResultCallback_set_m_closestHitFraction_1,df=t._emscripten_bind_btPersistentManifold_btPersistentManifold_0=Vn._emscripten_bind_btPersistentManifold_btPersistentManifold_0,pf=t._emscripten_bind_ConvexResultCallback_get_m_collisionFilterMask_0=Vn._emscripten_bind_ConvexResultCallback_get_m_collisionFilterMask_0,ff=t._emscripten_bind_ClosestRayResultCallback_ClosestRayResultCallback_2=Vn._emscripten_bind_ClosestRayResultCallback_ClosestRayResultCallback_2,_f=t._emscripten_bind_btVector4___destroy___0=Vn._emscripten_bind_btVector4___destroy___0,mf=t._emscripten_bind_btPairCachingGhostObject_isKinematicObject_0=Vn._emscripten_bind_btPairCachingGhostObject_isKinematicObject_0,gf=t._emscripten_bind_ClosestRayResultCallback_set_m_collisionFilterMask_1=Vn._emscripten_bind_ClosestRayResultCallback_set_m_collisionFilterMask_1,yf=t._i64Add=Vn._i64Add,bf=t._emscripten_bind_btStaticPlaneShape_calculateLocalInertia_2=Vn._emscripten_bind_btStaticPlaneShape_calculateLocalInertia_2,vf=t._emscripten_bind_btVehicleTuning_set_m_maxSuspensionForce_1=Vn._emscripten_bind_btVehicleTuning_set_m_maxSuspensionForce_1,Mf=t._emscripten_bind_btCollisionObject_setCcdMotionThreshold_1=Vn._emscripten_bind_btCollisionObject_setCcdMotionThreshold_1,Sf=t._emscripten_bind_btDefaultCollisionConfiguration_btDefaultCollisionConfiguration_0=Vn._emscripten_bind_btDefaultCollisionConfiguration_btDefaultCollisionConfiguration_0,Tf=t._emscripten_bind_btDefaultCollisionConfiguration_btDefaultCollisionConfiguration_1=Vn._emscripten_bind_btDefaultCollisionConfiguration_btDefaultCollisionConfiguration_1,xf=t._emscripten_bind_btQuadWord_setZ_1=Vn._emscripten_bind_btQuadWord_setZ_1,Cf=t._emscripten_bind_btRigidBodyConstructionInfo_get_m_angularSleepingThreshold_0=Vn._emscripten_bind_btRigidBodyConstructionInfo_get_m_angularSleepingThreshold_0,Ef=t._emscripten_bind_btPoint2PointConstraint_getPivotInB_0=Vn._emscripten_bind_btPoint2PointConstraint_getPivotInB_0,Af=t._emscripten_bind_btKinematicCharacterController_playerStep_2=Vn._emscripten_bind_btKinematicCharacterController_playerStep_2,wf=t._emscripten_bind_btDispatcherInfo___destroy___0=Vn._emscripten_bind_btDispatcherInfo___destroy___0,Rf=t._emscripten_bind_btStaticPlaneShape_setLocalScaling_1=Vn._emscripten_bind_btStaticPlaneShape_setLocalScaling_1,Df=t._emscripten_bind_btConvexTriangleMeshShape_calculateLocalInertia_2=Vn._emscripten_bind_btConvexTriangleMeshShape_calculateLocalInertia_2,Pf=t._emscripten_bind_ClosestConvexResultCallback_get_m_convexToWorld_0=Vn._emscripten_bind_ClosestConvexResultCallback_get_m_convexToWorld_0,Bf=t._emscripten_bind_btGhostObject_getWorldTransform_0=Vn._emscripten_bind_btGhostObject_getWorldTransform_0,Vf=t._emscripten_bind_btDiscreteDynamicsWorld_getPairCache_0=Vn._emscripten_bind_btDiscreteDynamicsWorld_getPairCache_0,Lf=t._emscripten_bind_LocalConvexResult_set_m_hitFraction_1=Vn._emscripten_bind_LocalConvexResult_set_m_hitFraction_1,kf=t._emscripten_bind_btCapsuleShapeZ_calculateLocalInertia_2=Vn._emscripten_bind_btCapsuleShapeZ_calculateLocalInertia_2,Hf=t._emscripten_bind_btDispatcherInfo_get_m_timeStep_0=Vn._emscripten_bind_btDispatcherInfo_get_m_timeStep_0,If=t._emscripten_bind_btVehicleTuning_set_m_suspensionCompression_1=Vn._emscripten_bind_btVehicleTuning_set_m_suspensionCompression_1,Of=t._emscripten_bind_btBoxShape_calculateLocalInertia_2=Vn._emscripten_bind_btBoxShape_calculateLocalInertia_2,Jf=t._emscripten_bind_btMotionState___destroy___0=Vn._emscripten_bind_btMotionState___destroy___0,Nf=t._emscripten_bind_btCollisionObject_setCollisionFlags_1=Vn._emscripten_bind_btCollisionObject_setCollisionFlags_1,Ff=t._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_1=Vn._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_1,Gf=t._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_2=Vn._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_2,zf=t._emscripten_bind_btAxisSweep3_btAxisSweep3_5=Vn._emscripten_bind_btAxisSweep3_btAxisSweep3_5,jf=t._emscripten_bind_btWheelInfo_set_m_suspensionStiffness_1=Vn._emscripten_bind_btWheelInfo_set_m_suspensionStiffness_1,Uf=t._emscripten_bind_btRaycastVehicle_getNumWheels_0=Vn._emscripten_bind_btRaycastVehicle_getNumWheels_0,Wf=t._emscripten_bind_btDispatcher_getManifoldByIndexInternal_1=Vn._emscripten_bind_btDispatcher_getManifoldByIndexInternal_1,Xf=t._emscripten_bind_btRaycastVehicle_getWheelInfo_1=Vn._emscripten_bind_btRaycastVehicle_getWheelInfo_1,qf=t._emscripten_bind_LocalShapeInfo_set_m_triangleIndex_1=Vn._emscripten_bind_LocalShapeInfo_set_m_triangleIndex_1,Kf=t._emscripten_bind_btPairCachingGhostObject_setWorldTransform_1=Vn._emscripten_bind_btPairCachingGhostObject_setWorldTransform_1,Yf=t._emscripten_bind_btHingeConstraint_getBreakingImpulseThreshold_0=Vn._emscripten_bind_btHingeConstraint_getBreakingImpulseThreshold_0,Qf=t._emscripten_bind_btConeTwistConstraint_setAngularOnly_1=Vn._emscripten_bind_btConeTwistConstraint_setAngularOnly_1,Zf=t._emscripten_bind_btGhostObject_setCcdSweptSphereRadius_1=Vn._emscripten_bind_btGhostObject_setCcdSweptSphereRadius_1,$f=t._emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_4=Vn._emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_4,t_=t._emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_2=Vn._emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_2,e_=t._emscripten_bind_btKinematicCharacterController_setJumpSpeed_1=Vn._emscripten_bind_btKinematicCharacterController_setJumpSpeed_1,i_=t._emscripten_bind_ConvexResultCallback_set_m_collisionFilterGroup_1=Vn._emscripten_bind_ConvexResultCallback_set_m_collisionFilterGroup_1,r_=t._emscripten_bind_btPairCachingGhostObject_getOverlappingObject_1=Vn._emscripten_bind_btPairCachingGhostObject_getOverlappingObject_1,o_=t._emscripten_bind_btRigidBodyConstructionInfo___destroy___0=Vn._emscripten_bind_btRigidBodyConstructionInfo___destroy___0,n_=t._emscripten_bind_btGeneric6DofConstraint_setBreakingImpulseThreshold_1=Vn._emscripten_bind_btGeneric6DofConstraint_setBreakingImpulseThreshold_1,a_=t._emscripten_bind_btPoint2PointConstraint_setPivotA_1=Vn._emscripten_bind_btPoint2PointConstraint_setPivotA_1,s_=t._emscripten_bind_ClosestConvexResultCallback_set_m_convexToWorld_1=Vn._emscripten_bind_ClosestConvexResultCallback_set_m_convexToWorld_1,l_=t._memcpy=Vn._memcpy,c_=t._emscripten_bind_btCapsuleShape_calculateLocalInertia_2=Vn._emscripten_bind_btCapsuleShape_calculateLocalInertia_2,h_=t._emscripten_bind_btVector3_y_0=Vn._emscripten_bind_btVector3_y_0,u_=t._emscripten_bind_btVehicleTuning_get_m_maxSuspensionForce_0=Vn._emscripten_bind_btVehicleTuning_get_m_maxSuspensionForce_0,d_=t._emscripten_bind_btBvhTriangleMeshShape_btBvhTriangleMeshShape_2=Vn._emscripten_bind_btBvhTriangleMeshShape_btBvhTriangleMeshShape_2,p_=t._emscripten_bind_btBvhTriangleMeshShape_btBvhTriangleMeshShape_3=Vn._emscripten_bind_btBvhTriangleMeshShape_btBvhTriangleMeshShape_3,f_=t._emscripten_bind_LocalShapeInfo_get_m_triangleIndex_0=Vn._emscripten_bind_LocalShapeInfo_get_m_triangleIndex_0,__=t._emscripten_bind_btGhostObject_setCollisionShape_1=Vn._emscripten_bind_btGhostObject_setCollisionShape_1,m_=t._emscripten_bind_btDispatcherInfo_set_m_allowedCcdPenetration_1=Vn._emscripten_bind_btDispatcherInfo_set_m_allowedCcdPenetration_1,g_=t._emscripten_bind_btQuaternion_setW_1=Vn._emscripten_bind_btQuaternion_setW_1,y_=t._emscripten_bind_btContactSolverInfo_set_m_splitImpulsePenetrationThreshold_1=Vn._emscripten_bind_btContactSolverInfo_set_m_splitImpulsePenetrationThreshold_1,b_=t._emscripten_bind_btDiscreteDynamicsWorld_setGravity_1=Vn._emscripten_bind_btDiscreteDynamicsWorld_setGravity_1,v_=t._emscripten_bind_btVehicleTuning_set_m_suspensionStiffness_1=Vn._emscripten_bind_btVehicleTuning_set_m_suspensionStiffness_1,M_=t._emscripten_bind_btVector4_z_0=Vn._emscripten_bind_btVector4_z_0,S_=t._emscripten_bind_btCollisionObject_forceActivationState_1=Vn._emscripten_bind_btCollisionObject_forceActivationState_1,T_=t._emscripten_bind_btKinematicCharacterController_onGround_0=Vn._emscripten_bind_btKinematicCharacterController_onGround_0,x_=t._free=Vn._free,C_=t._emscripten_bind_btGeneric6DofConstraint_getBreakingImpulseThreshold_0=Vn._emscripten_bind_btGeneric6DofConstraint_getBreakingImpulseThreshold_0,E_=t._emscripten_bind_btConeTwistConstraint_setLimit_2=Vn._emscripten_bind_btConeTwistConstraint_setLimit_2,A_=t._emscripten_bind_ClosestConvexResultCallback_set_m_collisionFilterMask_1=Vn._emscripten_bind_ClosestConvexResultCallback_set_m_collisionFilterMask_1,w_=t._emscripten_bind_btRigidBody___destroy___0=Vn._emscripten_bind_btRigidBody___destroy___0,R_=t._emscripten_bind_btStridingMeshInterface___destroy___0=Vn._emscripten_bind_btStridingMeshInterface___destroy___0,D_=(t.runPostSets=Vn.runPostSets,t._emscripten_bind_btRigidBody_setSleepingThresholds_2=Vn._emscripten_bind_btRigidBody_setSleepingThresholds_2),P_=t._emscripten_bind_btCollisionObject_setWorldTransform_1=Vn._emscripten_bind_btCollisionObject_setWorldTransform_1,B_=t._emscripten_bind_LocalConvexResult_get_m_localShapeInfo_0=Vn._emscripten_bind_LocalConvexResult_get_m_localShapeInfo_0,V_=t._emscripten_bind_btManifoldPoint_get_m_localPointA_0=Vn._emscripten_bind_btManifoldPoint_get_m_localPointA_0,L_=t._emscripten_bind_btRigidBodyConstructionInfo_get_m_linearDamping_0=Vn._emscripten_bind_btRigidBodyConstructionInfo_get_m_linearDamping_0,k_=t._emscripten_bind_btDispatcher_getNumManifolds_0=Vn._emscripten_bind_btDispatcher_getNumManifolds_0,H_=t._emscripten_bind_btRigidBodyConstructionInfo_get_m_linearSleepingThreshold_0=Vn._emscripten_bind_btRigidBodyConstructionInfo_get_m_linearSleepingThreshold_0,I_=t._emscripten_bind_btRigidBody_activate_1=Vn._emscripten_bind_btRigidBody_activate_1,O_=t._emscripten_bind_btRigidBody_activate_0=Vn._emscripten_bind_btRigidBody_activate_0,J_=t._emscripten_bind_RayResultCallback___destroy___0=Vn._emscripten_bind_RayResultCallback___destroy___0,N_=t._emscripten_bind_btGhostObject_setActivationState_1=Vn._emscripten_bind_btGhostObject_setActivationState_1,F_=t._emscripten_bind_btCollisionWorld_contactPairTest_3=Vn._emscripten_bind_btCollisionWorld_contactPairTest_3,G_=t._emscripten_bind_btCylinderShapeX___destroy___0=Vn._emscripten_bind_btCylinderShapeX___destroy___0,z_=t._emscripten_bind_btManifoldPoint_getPositionWorldOnA_0=Vn._emscripten_bind_btManifoldPoint_getPositionWorldOnA_0,j_=t._emscripten_bind_ContactResultCallback___destroy___0=Vn._emscripten_bind_ContactResultCallback___destroy___0,U_=t._emscripten_bind_btDispatcherInfo_get_m_useConvexConservativeDistanceUtil_0=Vn._emscripten_bind_btDispatcherInfo_get_m_useConvexConservativeDistanceUtil_0,W_=t._emscripten_bind_btVector4_x_0=Vn._emscripten_bind_btVector4_x_0,X_=t._emscripten_bind_btConstraintSetting_btConstraintSetting_0=Vn._emscripten_bind_btConstraintSetting_btConstraintSetting_0,q_=t._emscripten_bind_btKinematicCharacterController_getGhostObject_0=Vn._emscripten_bind_btKinematicCharacterController_getGhostObject_0,K_=t._emscripten_bind_btRigidBody_btRigidBody_1=Vn._emscripten_bind_btRigidBody_btRigidBody_1,Y_=t._emscripten_bind_btTriangleMeshShape___destroy___0=Vn._emscripten_bind_btTriangleMeshShape___destroy___0,Q_=t._emscripten_bind_btKinematicCharacterController_setWalkDirection_1=Vn._emscripten_bind_btKinematicCharacterController_setWalkDirection_1,Z_=t._emscripten_bind_btRigidBodyConstructionInfo_get_m_restitution_0=Vn._emscripten_bind_btRigidBodyConstructionInfo_get_m_restitution_0,$_=t._emscripten_bind_btTransform_setIdentity_0=Vn._emscripten_bind_btTransform_setIdentity_0,tm=t._emscripten_bind_btManifoldPoint_set_m_normalWorldOnB_1=Vn._emscripten_bind_btManifoldPoint_set_m_normalWorldOnB_1,em=t._emscripten_bind_btKinematicCharacterController_getGravity_0=Vn._emscripten_bind_btKinematicCharacterController_getGravity_0,im=t._emscripten_bind_btConeTwistConstraint_getBreakingImpulseThreshold_0=Vn._emscripten_bind_btConeTwistConstraint_getBreakingImpulseThreshold_0,rm=t._emscripten_bind_btGeneric6DofConstraint_setAngularLowerLimit_1=Vn._emscripten_bind_btGeneric6DofConstraint_setAngularLowerLimit_1,om=t._emscripten_bind_LocalShapeInfo_get_m_shapePart_0=Vn._emscripten_bind_LocalShapeInfo_get_m_shapePart_0,nm=t._emscripten_bind_btConeShape_calculateLocalInertia_2=Vn._emscripten_bind_btConeShape_calculateLocalInertia_2,am=t._emscripten_bind_btCylinderShapeX_calculateLocalInertia_2=Vn._emscripten_bind_btCylinderShapeX_calculateLocalInertia_2,sm=t._emscripten_bind_ConvexResultCallback_set_m_collisionFilterMask_1=Vn._emscripten_bind_ConvexResultCallback_set_m_collisionFilterMask_1,lm=t._llvm_bswap_i32=Vn._llvm_bswap_i32,cm=t._emscripten_bind_btSphereShape_setLocalScaling_1=Vn._emscripten_bind_btSphereShape_setLocalScaling_1,hm=t._emscripten_bind_btVector4_w_0=Vn._emscripten_bind_btVector4_w_0,um=t._emscripten_bind_btManifoldPoint_get_m_normalWorldOnB_0=Vn._emscripten_bind_btManifoldPoint_get_m_normalWorldOnB_0,dm=t._emscripten_bind_btBvhTriangleMeshShape___destroy___0=Vn._emscripten_bind_btBvhTriangleMeshShape___destroy___0,pm=t._emscripten_bind_LocalConvexResult_LocalConvexResult_5=Vn._emscripten_bind_LocalConvexResult_LocalConvexResult_5,fm=t._emscripten_bind_ClosestConvexResultCallback_set_m_closestHitFraction_1=Vn._emscripten_bind_ClosestConvexResultCallback_set_m_closestHitFraction_1,_m=t._emscripten_bind_btDiscreteDynamicsWorld_removeConstraint_1=Vn._emscripten_bind_btDiscreteDynamicsWorld_removeConstraint_1,mm=t._emscripten_bind_ConcreteContactResultCallback_ConcreteContactResultCallback_0=Vn._emscripten_bind_ConcreteContactResultCallback_ConcreteContactResultCallback_0,gm=t._emscripten_bind_btGeneric6DofConstraint___destroy___0=Vn._emscripten_bind_btGeneric6DofConstraint___destroy___0,ym=t._emscripten_bind_btVector4_btVector4_4=Vn._emscripten_bind_btVector4_btVector4_4,bm=t._emscripten_bind_btVehicleTuning_get_m_maxSuspensionTravelCm_0=Vn._emscripten_bind_btVehicleTuning_get_m_maxSuspensionTravelCm_0,vm=t._emscripten_bind_btConvexHullShape_addPoint_1=Vn._emscripten_bind_btConvexHullShape_addPoint_1,Mm=t._emscripten_bind_btConvexHullShape_addPoint_2=Vn._emscripten_bind_btConvexHullShape_addPoint_2,Sm=t._emscripten_bind_btPoint2PointConstraint_getBreakingImpulseThreshold_0=Vn._emscripten_bind_btPoint2PointConstraint_getBreakingImpulseThreshold_0,Tm=t._emscripten_bind_btTransform_getOrigin_0=Vn._emscripten_bind_btTransform_getOrigin_0,xm=t._emscripten_bind_btHingeConstraint___destroy___0=Vn._emscripten_bind_btHingeConstraint___destroy___0,Cm=t._emscripten_bind_btConvexShape_calculateLocalInertia_2=Vn._emscripten_bind_btConvexShape_calculateLocalInertia_2,Em=t._memset=Vn._memset,Am=t._emscripten_bind_btGeneric6DofConstraint_setLinearLowerLimit_1=Vn._emscripten_bind_btGeneric6DofConstraint_setLinearLowerLimit_1,wm=t._emscripten_bind_ClosestRayResultCallback_get_m_hitNormalWorld_0=Vn._emscripten_bind_ClosestRayResultCallback_get_m_hitNormalWorld_0,Rm=t._emscripten_bind_btTriangleMesh_btTriangleMesh_0=Vn._emscripten_bind_btTriangleMesh_btTriangleMesh_0,Dm=t._emscripten_bind_btPairCachingGhostObject_getCollisionShape_0=Vn._emscripten_bind_btPairCachingGhostObject_getCollisionShape_0,Pm=t._emscripten_bind_btTriangleMesh_btTriangleMesh_2=Vn._emscripten_bind_btTriangleMesh_btTriangleMesh_2,Bm=t._emscripten_bind_btWheelInfo_set_m_frictionSlip_1=Vn._emscripten_bind_btWheelInfo_set_m_frictionSlip_1,Vm=t._emscripten_bind_btRigidBody_getCollisionShape_0=Vn._emscripten_bind_btRigidBody_getCollisionShape_0,Lm=t._emscripten_bind_btManifoldPoint_set_m_positionWorldOnA_1=Vn._emscripten_bind_btManifoldPoint_set_m_positionWorldOnA_1,km=t._emscripten_bind_btWheelInfo_get_m_wheelsDampingRelaxation_0=Vn._emscripten_bind_btWheelInfo_get_m_wheelsDampingRelaxation_0,Hm=t._emscripten_bind_btManifoldPoint_get_m_localPointB_0=Vn._emscripten_bind_btManifoldPoint_get_m_localPointB_0,Im=t._emscripten_bind_btDiscreteDynamicsWorld_contactPairTest_3=Vn._emscripten_bind_btDiscreteDynamicsWorld_contactPairTest_3,Om=t._emscripten_bind_btSliderConstraint_setLowerLinLimit_1=Vn._emscripten_bind_btSliderConstraint_setLowerLinLimit_1,Jm=t._emscripten_bind_btRigidBody_getAngularVelocity_0=Vn._emscripten_bind_btRigidBody_getAngularVelocity_0,Nm=t._emscripten_bind_btCollisionObject_setCcdSweptSphereRadius_1=Vn._emscripten_bind_btCollisionObject_setCcdSweptSphereRadius_1,Fm=t._emscripten_bind_btWheelInfo_get_m_wheelsRadius_0=Vn._emscripten_bind_btWheelInfo_get_m_wheelsRadius_0,Gm=t._emscripten_bind_btRigidBody_setLinearVelocity_1=Vn._emscripten_bind_btRigidBody_setLinearVelocity_1,zm=t._emscripten_bind_btVehicleTuning_btVehicleTuning_0=Vn._emscripten_bind_btVehicleTuning_btVehicleTuning_0,jm=t._emscripten_bind_RayResultCallback_set_m_collisionObject_1=Vn._emscripten_bind_RayResultCallback_set_m_collisionObject_1,Um=t._emscripten_bind_ClosestRayResultCallback_set_m_rayToWorld_1=Vn._emscripten_bind_ClosestRayResultCallback_set_m_rayToWorld_1,Wm=t._emscripten_bind_ClosestRayResultCallback_get_m_collisionFilterGroup_0=Vn._emscripten_bind_ClosestRayResultCallback_get_m_collisionFilterGroup_0,Xm=t._emscripten_bind_btWheelInfo_set_m_wheelsDampingRelaxation_1=Vn._emscripten_bind_btWheelInfo_set_m_wheelsDampingRelaxation_1,qm=t._emscripten_bind_btDynamicsWorld_addAction_1=Vn._emscripten_bind_btDynamicsWorld_addAction_1,Km=t._emscripten_bind_btGeneric6DofSpringConstraint_setDamping_2=Vn._emscripten_bind_btGeneric6DofSpringConstraint_setDamping_2,Ym=t._emscripten_bind_btRigidBodyConstructionInfo_set_m_linearDamping_1=Vn._emscripten_bind_btRigidBodyConstructionInfo_set_m_linearDamping_1,Qm=t._emscripten_bind_btRigidBody_setGravity_1=Vn._emscripten_bind_btRigidBody_setGravity_1,Zm=t._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalDamping_1=Vn._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalDamping_1,$m=t._emscripten_bind_btKinematicCharacterController_setFallSpeed_1=Vn._emscripten_bind_btKinematicCharacterController_setFallSpeed_1,tg=t._emscripten_bind_btRigidBody_setActivationState_1=Vn._emscripten_bind_btRigidBody_setActivationState_1,eg=t._emscripten_bind_ClosestConvexResultCallback_hasHit_0=Vn._emscripten_bind_ClosestConvexResultCallback_hasHit_0,ig=t._emscripten_bind_btCapsuleShapeZ___destroy___0=Vn._emscripten_bind_btCapsuleShapeZ___destroy___0,rg=t._emscripten_bind_btRaycastVehicle_getRigidBody_0=Vn._emscripten_bind_btRaycastVehicle_getRigidBody_0,og=t._emscripten_bind_LocalShapeInfo_set_m_shapePart_1=Vn._emscripten_bind_LocalShapeInfo_set_m_shapePart_1,ng=t._emscripten_bind_ClosestRayResultCallback_get_m_collisionObject_0=Vn._emscripten_bind_ClosestRayResultCallback_get_m_collisionObject_0,ag=t._emscripten_bind_btTriangleMesh_addTriangle_3=Vn._emscripten_bind_btTriangleMesh_addTriangle_3,sg=t._emscripten_bind_btGhostObject_getOverlappingObject_1=Vn._emscripten_bind_btGhostObject_getOverlappingObject_1,lg=t._emscripten_bind_btTriangleMesh_addTriangle_4=Vn._emscripten_bind_btTriangleMesh_addTriangle_4,cg=t._emscripten_bind_btRigidBody_applyTorqueImpulse_1=Vn._emscripten_bind_btRigidBody_applyTorqueImpulse_1,hg=t._emscripten_bind_btRigidBody_setCollisionFlags_1=Vn._emscripten_bind_btRigidBody_setCollisionFlags_1,ug=t._emscripten_bind_btWheelInfo_set_m_suspensionRestLength1_1=Vn._emscripten_bind_btWheelInfo_set_m_suspensionRestLength1_1,dg=t._emscripten_bind_btConeShape___destroy___0=Vn._emscripten_bind_btConeShape___destroy___0,pg=t._emscripten_bind_btCapsuleShapeZ_btCapsuleShapeZ_2=Vn._emscripten_bind_btCapsuleShapeZ_btCapsuleShapeZ_2,fg=t._emscripten_bind_btSliderConstraint_btSliderConstraint_5=Vn._emscripten_bind_btSliderConstraint_btSliderConstraint_5,_g=t._emscripten_bind_btSliderConstraint_btSliderConstraint_3=Vn._emscripten_bind_btSliderConstraint_btSliderConstraint_3,mg=t._emscripten_bind_btTransform___destroy___0=Vn._emscripten_bind_btTransform___destroy___0,gg=t._emscripten_bind_btConeShapeX_setLocalScaling_1=Vn._emscripten_bind_btConeShapeX_setLocalScaling_1,yg=t._emscripten_bind_btSliderConstraint___destroy___0=Vn._emscripten_bind_btSliderConstraint___destroy___0,bg=t._emscripten_bind_btRigidBody_forceActivationState_1=Vn._emscripten_bind_btRigidBody_forceActivationState_1,vg=t._emscripten_bind_btPoint2PointConstraint_setPivotB_1=Vn._emscripten_bind_btPoint2PointConstraint_setPivotB_1,Mg=t._emscripten_bind_btManifoldPoint_getDistance_0=Vn._emscripten_bind_btManifoldPoint_getDistance_0,Sg=t._emscripten_bind_btGhostPairCallback___destroy___0=Vn._emscripten_bind_btGhostPairCallback___destroy___0,Tg=t._emscripten_bind_btKinematicCharacterController_getMaxSlope_0=Vn._emscripten_bind_btKinematicCharacterController_getMaxSlope_0,xg=t._emscripten_bind_btSliderConstraint_enableFeedback_1=Vn._emscripten_bind_btSliderConstraint_enableFeedback_1,Cg=t._emscripten_bind_btRaycastVehicle_addWheel_7=Vn._emscripten_bind_btRaycastVehicle_addWheel_7,Eg=t._emscripten_bind_ClosestRayResultCallback_set_m_hitNormalWorld_1=Vn._emscripten_bind_ClosestRayResultCallback_set_m_hitNormalWorld_1,Ag=t._emscripten_bind_LocalConvexResult_set_m_localShapeInfo_1=Vn._emscripten_bind_LocalConvexResult_set_m_localShapeInfo_1,wg=t._emscripten_bind_btStaticPlaneShape___destroy___0=Vn._emscripten_bind_btStaticPlaneShape___destroy___0,Rg=t._emscripten_bind_btCylinderShapeZ_setLocalScaling_1=Vn._emscripten_bind_btCylinderShapeZ_setLocalScaling_1,Dg=t._emscripten_bind_btBoxShape_setLocalScaling_1=Vn._emscripten_bind_btBoxShape_setLocalScaling_1,Pg=t._emscripten_bind_btConeShapeZ___destroy___0=Vn._emscripten_bind_btConeShapeZ___destroy___0,Bg=t._emscripten_bind_btDynamicsWorld_getPairCache_0=Vn._emscripten_bind_btDynamicsWorld_getPairCache_0,Vg=t._emscripten_bind_btDiscreteDynamicsWorld_convexSweepTest_5=Vn._emscripten_bind_btDiscreteDynamicsWorld_convexSweepTest_5,Lg=t._emscripten_bind_btKinematicCharacterController_setVelocityForTimeInterval_2=Vn._emscripten_bind_btKinematicCharacterController_setVelocityForTimeInterval_2,kg=t._emscripten_bind_btRigidBody_setRestitution_1=Vn._emscripten_bind_btRigidBody_setRestitution_1,Hg=t._emscripten_bind_btVector4_btVector4_0=Vn._emscripten_bind_btVector4_btVector4_0,Ig=t._emscripten_bind_btDispatcherInfo_get_m_enableSatConvex_0=Vn._emscripten_bind_btDispatcherInfo_get_m_enableSatConvex_0,Og=t._emscripten_bind_btGhostObject_setCcdMotionThreshold_1=Vn._emscripten_bind_btGhostObject_setCcdMotionThreshold_1,Jg=t._emscripten_bind_btKinematicCharacterController___destroy___0=Vn._emscripten_bind_btKinematicCharacterController___destroy___0,Ng=t._emscripten_bind_btGeneric6DofSpringConstraint_setLinearLowerLimit_1=Vn._emscripten_bind_btGeneric6DofSpringConstraint_setLinearLowerLimit_1,Fg=t._emscripten_bind_LocalConvexResult_set_m_hitCollisionObject_1=Vn._emscripten_bind_LocalConvexResult_set_m_hitCollisionObject_1,Gg=t._emscripten_bind_btPairCachingGhostObject_setCollisionFlags_1=Vn._emscripten_bind_btPairCachingGhostObject_setCollisionFlags_1,zg=t._emscripten_bind_btGeneric6DofSpringConstraint_setAngularLowerLimit_1=Vn._emscripten_bind_btGeneric6DofSpringConstraint_setAngularLowerLimit_1,jg=t._emscripten_bind_btDiscreteDynamicsWorld_rayTest_3=Vn._emscripten_bind_btDiscreteDynamicsWorld_rayTest_3,Ug=t._emscripten_bind_btContactSolverInfo_get_m_splitImpulse_0=Vn._emscripten_bind_btContactSolverInfo_get_m_splitImpulse_0,Wg=t._emscripten_bind_btGhostPairCallback_btGhostPairCallback_0=Vn._emscripten_bind_btGhostPairCallback_btGhostPairCallback_0,Xg=t._emscripten_bind_btKinematicCharacterController_setMaxJumpHeight_1=Vn._emscripten_bind_btKinematicCharacterController_setMaxJumpHeight_1,qg=t._emscripten_bind_btPairCachingGhostObject_isActive_0=Vn._emscripten_bind_btPairCachingGhostObject_isActive_0,Kg=t._emscripten_bind_btVehicleTuning_get_m_frictionSlip_0=Vn._emscripten_bind_btVehicleTuning_get_m_frictionSlip_0;
t.dynCall_viiiii=Vn.dynCall_viiiii,t.dynCall_vid=Vn.dynCall_vid,t.dynCall_vi=Vn.dynCall_vi,t.dynCall_viiidii=Vn.dynCall_viiidii,t.dynCall_vii=Vn.dynCall_vii,t.dynCall_iiiiiiiiiii=Vn.dynCall_iiiiiiiiiii,t.dynCall_ii=Vn.dynCall_ii,t.dynCall_viidi=Vn.dynCall_viidi,t.dynCall_viddiii=Vn.dynCall_viddiii,t.dynCall_vidii=Vn.dynCall_vidii,t.dynCall_iiiii=Vn.dynCall_iiiii,t.dynCall_vidi=Vn.dynCall_vidi,t.dynCall_diiiiiiii=Vn.dynCall_diiiiiiii,t.dynCall_viiiiddddiid=Vn.dynCall_viiiiddddiid,t.dynCall_diiiii=Vn.dynCall_diiiii,t.dynCall_iiii=Vn.dynCall_iiii,t.dynCall_viiiiii=Vn.dynCall_viiiiii,t.dynCall_iiid=Vn.dynCall_iiid,t.dynCall_di=Vn.dynCall_di,t.dynCall_iiiiiii=Vn.dynCall_iiiiiii,t.dynCall_diiidii=Vn.dynCall_diiidii,t.dynCall_viidii=Vn.dynCall_viidii,t.dynCall_viiiiiii=Vn.dynCall_viiiiiii,t.dynCall_viiiiiiiii=Vn.dynCall_viiiiiiiii,t.dynCall_viiiiiiiiii=Vn.dynCall_viiiiiiiiii,t.dynCall_iii=Vn.dynCall_iii,t.dynCall_diii=Vn.dynCall_diii,t.dynCall_diiiiiiiiii=Vn.dynCall_diiiiiiiiii,t.dynCall_viiiid=Vn.dynCall_viiiid,t.dynCall_diiiiiiiii=Vn.dynCall_diiiiiiiii,t.dynCall_did=Vn.dynCall_did,t.dynCall_viiiidddddidi=Vn.dynCall_viiiidddddidi,t.dynCall_diidii=Vn.dynCall_diidii,t.dynCall_diiii=Vn.dynCall_diiii,t.dynCall_iiiiiiiiii=Vn.dynCall_iiiiiiiiii,t.dynCall_viiid=Vn.dynCall_viiid,t.dynCall_viii=Vn.dynCall_viii,t.dynCall_v=Vn.dynCall_v,t.dynCall_viid=Vn.dynCall_viid,t.dynCall_iidid=Vn.dynCall_iidid,t.dynCall_viiii=Vn.dynCall_viiii}so.stackAlloc=Vn.stackAlloc,so.stackSave=Vn.stackSave,so.stackRestore=Vn.stackRestore,so.setTempRet0=Vn.setTempRet0,so.getTempRet0=Vn.getTempRet0;var Yg=function(){function t(t,e,i){null!=t&&("number"==typeof t?this.fromNumber(t,e,i):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function e(){return new t(null)}function i(t,e,i,r,o,n){for(;--n>=0;){var a=e*this[t++]+i[r]+o;o=Math.floor(a/67108864),i[r++]=67108863&a}return o}function r(t,e,i,r,o,n){for(var a=32767&e,s=e>>15;--n>=0;){var l=32767&this[t],c=this[t++]>>15,h=s*l+c*a;l=a*l+((32767&h)<<15)+i[r]+(1073741823&o),o=(l>>>30)+(h>>>15)+s*c+(o>>>30),i[r++]=1073741823&l}return o}function o(t,e,i,r,o,n){for(var a=16383&e,s=e>>14;--n>=0;){var l=16383&this[t],c=this[t++]>>14,h=s*l+c*a;l=a*l+((16383&h)<<14)+i[r]+o,o=(l>>28)+(h>>14)+s*c,i[r++]=268435455&l}return o}function n(t){return ne.charAt(t)}function a(t,e){var i=ae[t.charCodeAt(e)];return null==i?-1:i}function s(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s}function l(t){this.t=1,this.s=0>t?-1:0,t>0?this[0]=t:-1>t?this[0]=t+DV:this.t=0}function c(t){var i=e();return i.fromInt(t),i}function h(e,i){var r;if(16==i)r=4;else if(8==i)r=3;else if(256==i)r=8;else if(2==i)r=1;else if(32==i)r=5;else{if(4!=i)return void this.fromRadix(e,i);r=2}this.t=0,this.s=0;for(var o=e.length,n=!1,s=0;--o>=0;){var l=8==r?255&e[o]:a(e,o);0>l?"-"==e.charAt(o)&&(n=!0):(n=!1,0==s?this[this.t++]=l:s+r>this.DB?(this[this.t-1]|=(l&(1<<this.DB-s)-1)<<s,this[this.t++]=l>>this.DB-s):this[this.t-1]|=l<<s,s+=r,s>=this.DB&&(s-=this.DB))}8==r&&0!=(128&e[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),n&&t.ZERO.subTo(this,this)}function u(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function d(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var i,r=(1<<e)-1,o=!1,a="",s=this.t,l=this.DB-s*this.DB%e;if(s-->0)for(l<this.DB&&(i=this[s]>>l)>0&&(o=!0,a=n(i));s>=0;)e>l?(i=(this[s]&(1<<l)-1)<<e-l,i|=this[--s]>>(l+=this.DB-e)):(i=this[s]>>(l-=e)&r,0>=l&&(l+=this.DB,--s)),i>0&&(o=!0),o&&(a+=n(i));return o?a:"0"}function p(){var i=e();return t.ZERO.subTo(this,i),i}function f(){return this.s<0?this.negate():this}function _(t){var e=this.s-t.s;if(0!=e)return e;var i=this.t;if(e=i-t.t,0!=e)return this.s<0?-e:e;for(;--i>=0;)if(0!=(e=this[i]-t[i]))return e;return 0}function m(t){var e,i=1;return 0!=(e=t>>>16)&&(t=e,i+=16),0!=(e=t>>8)&&(t=e,i+=8),0!=(e=t>>4)&&(t=e,i+=4),0!=(e=t>>2)&&(t=e,i+=2),0!=(e=t>>1)&&(t=e,i+=1),i}function g(){return this.t<=0?0:this.DB*(this.t-1)+m(this[this.t-1]^this.s&this.DM)}function y(t,e){var i;for(i=this.t-1;i>=0;--i)e[i+t]=this[i];for(i=t-1;i>=0;--i)e[i]=0;e.t=this.t+t,e.s=this.s}function b(t,e){for(var i=t;i<this.t;++i)e[i-t]=this[i];e.t=Math.max(this.t-t,0),e.s=this.s}function v(t,e){var i,r=t%this.DB,o=this.DB-r,n=(1<<o)-1,a=Math.floor(t/this.DB),s=this.s<<r&this.DM;for(i=this.t-1;i>=0;--i)e[i+a+1]=this[i]>>o|s,s=(this[i]&n)<<r;for(i=a-1;i>=0;--i)e[i]=0;e[a]=s,e.t=this.t+a+1,e.s=this.s,e.clamp()}function M(t,e){e.s=this.s;var i=Math.floor(t/this.DB);if(i>=this.t)return void(e.t=0);var r=t%this.DB,o=this.DB-r,n=(1<<r)-1;e[0]=this[i]>>r;for(var a=i+1;a<this.t;++a)e[a-i-1]|=(this[a]&n)<<o,e[a-i]=this[a]>>r;r>0&&(e[this.t-i-1]|=(this.s&n)<<o),e.t=this.t-i,e.clamp()}function S(t,e){for(var i=0,r=0,o=Math.min(t.t,this.t);o>i;)r+=this[i]-t[i],e[i++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r-=t.s;i<this.t;)r+=this[i],e[i++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;i<t.t;)r-=t[i],e[i++]=r&this.DM,r>>=this.DB;r-=t.s}e.s=0>r?-1:0,-1>r?e[i++]=this.DV+r:r>0&&(e[i++]=r),e.t=i,e.clamp()}function T(e,i){var r=this.abs(),o=e.abs(),n=r.t;for(i.t=n+o.t;--n>=0;)i[n]=0;for(n=0;n<o.t;++n)i[n+r.t]=r.am(0,o[n],i,n,0,r.t);i.s=0,i.clamp(),this.s!=e.s&&t.ZERO.subTo(i,i)}function x(t){for(var e=this.abs(),i=t.t=2*e.t;--i>=0;)t[i]=0;for(i=0;i<e.t-1;++i){var r=e.am(i,e[i],t,2*i,0,1);(t[i+e.t]+=e.am(i+1,2*e[i],t,2*i+1,r,e.t-i-1))>=e.DV&&(t[i+e.t]-=e.DV,t[i+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(i,e[i],t,2*i,0,1)),t.s=0,t.clamp()}function C(i,r,o){var n=i.abs();if(!(n.t<=0)){var a=this.abs();if(a.t<n.t)return null!=r&&r.fromInt(0),void(null!=o&&this.copyTo(o));null==o&&(o=e());var s=e(),l=this.s,c=i.s,h=this.DB-m(n[n.t-1]);h>0?(n.lShiftTo(h,s),a.lShiftTo(h,o)):(n.copyTo(s),a.copyTo(o));var u=s.t,d=s[u-1];if(0!=d){var p=d*(1<<this.F1)+(u>1?s[u-2]>>this.F2:0),f=this.FV/p,_=(1<<this.F1)/p,g=1<<this.F2,y=o.t,b=y-u,v=null==r?e():r;for(s.dlShiftTo(b,v),o.compareTo(v)>=0&&(o[o.t++]=1,o.subTo(v,o)),t.ONE.dlShiftTo(u,v),v.subTo(s,s);s.t<u;)s[s.t++]=0;for(;--b>=0;){var M=o[--y]==d?this.DM:Math.floor(o[y]*f+(o[y-1]+g)*_);if((o[y]+=s.am(0,M,o,b,0,u))<M)for(s.dlShiftTo(b,v),o.subTo(v,o);o[y]<--M;)o.subTo(v,o)}null!=r&&(o.drShiftTo(u,r),l!=c&&t.ZERO.subTo(r,r)),o.t=u,o.clamp(),h>0&&o.rShiftTo(h,o),0>l&&t.ZERO.subTo(o,o)}}}function E(i){var r=e();return this.abs().divRemTo(i,null,r),this.s<0&&r.compareTo(t.ZERO)>0&&i.subTo(r,r),r}function A(t){this.m=t}function w(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function R(t){return t}function D(t){t.divRemTo(this.m,null,t)}function P(t,e,i){t.multiplyTo(e,i),this.reduce(i)}function B(t,e){t.squareTo(e),this.reduce(e)}function V(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return e=e*(2-(15&t)*e)&15,e=e*(2-(255&t)*e)&255,e=e*(2-((65535&t)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function L(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function k(i){var r=e();return i.abs().dlShiftTo(this.m.t,r),r.divRemTo(this.m,null,r),i.s<0&&r.compareTo(t.ZERO)>0&&this.m.subTo(r,r),r}function H(t){var i=e();return t.copyTo(i),this.reduce(i),i}function I(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var i=32767&t[e],r=i*this.mpl+((i*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(i=e+this.m.t,t[i]+=this.m.am(0,r,t,e,0,this.m.t);t[i]>=t.DV;)t[i]-=t.DV,t[++i]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function O(t,e){t.squareTo(e),this.reduce(e)}function J(t,e,i){t.multiplyTo(e,i),this.reduce(i)}function N(){return 0==(this.t>0?1&this[0]:this.s)}function F(i,r){if(i>4294967295||1>i)return t.ONE;var o=e(),n=e(),a=r.convert(this),s=m(i)-1;for(a.copyTo(o);--s>=0;)if(r.sqrTo(o,n),(i&1<<s)>0)r.mulTo(n,a,o);else{var l=o;o=n,n=l}return r.revert(o)}function G(t,e){var i;return i=256>t||e.isEven()?new A(e):new L(e),this.exp(t,i)}function z(e,i){this.fromInt(0),null==i&&(i=10);for(var r=this.chunkSize(i),o=Math.pow(i,r),n=!1,s=0,l=0,c=0;c<e.length;++c){var h=a(e,c);0>h?"-"==e.charAt(c)&&0==this.signum()&&(n=!0):(l=i*l+h,++s>=r&&(this.dMultiply(o),this.dAddOffset(l,0),s=0,l=0))}s>0&&(this.dMultiply(Math.pow(i,s)),this.dAddOffset(l,0)),n&&t.ZERO.subTo(this,this)}function j(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function U(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function W(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function X(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}}function q(t){if(null==t&&(t=10),0==this.signum()||2>t||t>36)return"0";var i=this.chunkSize(t),r=Math.pow(t,i),o=c(r),n=e(),a=e(),s="";for(this.divRemTo(o,n,a);n.signum()>0;)s=(r+a.intValue()).toString(t).substr(1)+s,n.divRemTo(o,n,a);return a.intValue().toString(t)+s}function K(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function Y(t,e){for(var i=0,r=0,o=Math.min(t.t,this.t);o>i;)r+=this[i]+t[i],e[i++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r+=t.s;i<this.t;)r+=this[i],e[i++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;i<t.t;)r+=t[i],e[i++]=r&this.DM,r>>=this.DB;r+=t.s}e.s=0>r?-1:0,r>0?e[i++]=r:-1>r&&(e[i++]=this.DV+r),e.t=i,e.clamp()}var Q={math:{}};Q.math.Long=function(t,e){this.low_=0|t,this.high_=0|e},Q.math.Long.IntCache_={},Q.math.Long.fromInt=function(t){if(t>=-128&&128>t){var e=Q.math.Long.IntCache_[t];if(e)return e}var i=new Q.math.Long(0|t,0>t?-1:0);return t>=-128&&128>t&&(Q.math.Long.IntCache_[t]=i),i},Q.math.Long.fromNumber=function(t){return isNaN(t)||!isFinite(t)?Q.math.Long.ZERO:t<=-Q.math.Long.TWO_PWR_63_DBL_?Q.math.Long.MIN_VALUE:t+1>=Q.math.Long.TWO_PWR_63_DBL_?Q.math.Long.MAX_VALUE:0>t?Q.math.Long.fromNumber(-t).negate():new Q.math.Long(t%Q.math.Long.TWO_PWR_32_DBL_|0,t/Q.math.Long.TWO_PWR_32_DBL_|0)},Q.math.Long.fromBits=function(t,e){return new Q.math.Long(t,e)},Q.math.Long.fromString=function(t,e){if(0==t.length)throw Error("number format error: empty string");var i=e||10;if(2>i||i>36)throw Error("radix out of range: "+i);if("-"==t.charAt(0))return Q.math.Long.fromString(t.substring(1),i).negate();if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character: '+t);for(var r=Q.math.Long.fromNumber(Math.pow(i,8)),o=Q.math.Long.ZERO,n=0;n<t.length;n+=8){var a=Math.min(8,t.length-n),s=parseInt(t.substring(n,n+a),i);if(8>a){var l=Q.math.Long.fromNumber(Math.pow(i,a));o=o.multiply(l).add(Q.math.Long.fromNumber(s))}else o=o.multiply(r),o=o.add(Q.math.Long.fromNumber(s))}return o},Q.math.Long.TWO_PWR_16_DBL_=65536,Q.math.Long.TWO_PWR_24_DBL_=1<<24,Q.math.Long.TWO_PWR_32_DBL_=Q.math.Long.TWO_PWR_16_DBL_*Q.math.Long.TWO_PWR_16_DBL_,Q.math.Long.TWO_PWR_31_DBL_=Q.math.Long.TWO_PWR_32_DBL_/2,Q.math.Long.TWO_PWR_48_DBL_=Q.math.Long.TWO_PWR_32_DBL_*Q.math.Long.TWO_PWR_16_DBL_,Q.math.Long.TWO_PWR_64_DBL_=Q.math.Long.TWO_PWR_32_DBL_*Q.math.Long.TWO_PWR_32_DBL_,Q.math.Long.TWO_PWR_63_DBL_=Q.math.Long.TWO_PWR_64_DBL_/2,Q.math.Long.ZERO=Q.math.Long.fromInt(0),Q.math.Long.ONE=Q.math.Long.fromInt(1),Q.math.Long.NEG_ONE=Q.math.Long.fromInt(-1),Q.math.Long.MAX_VALUE=Q.math.Long.fromBits(-1,2147483647),Q.math.Long.MIN_VALUE=Q.math.Long.fromBits(0,-2147483648),Q.math.Long.TWO_PWR_24_=Q.math.Long.fromInt(1<<24),Q.math.Long.prototype.toInt=function(){return this.low_},Q.math.Long.prototype.toNumber=function(){return this.high_*Q.math.Long.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},Q.math.Long.prototype.toString=function(t){var e=t||10;if(2>e||e>36)throw Error("radix out of range: "+e);if(this.isZero())return"0";if(this.isNegative()){if(this.equals(Q.math.Long.MIN_VALUE)){var i=Q.math.Long.fromNumber(e),r=this.div(i),o=r.multiply(i).subtract(this);return r.toString(e)+o.toInt().toString(e)}return"-"+this.negate().toString(e)}for(var n=Q.math.Long.fromNumber(Math.pow(e,6)),o=this,a="";;){var s=o.div(n),l=o.subtract(s.multiply(n)).toInt(),c=l.toString(e);if(o=s,o.isZero())return c+a;for(;c.length<6;)c="0"+c;a=""+c+a}},Q.math.Long.prototype.getHighBits=function(){return this.high_},Q.math.Long.prototype.getLowBits=function(){return this.low_},Q.math.Long.prototype.getLowBitsUnsigned=function(){return this.low_>=0?this.low_:Q.math.Long.TWO_PWR_32_DBL_+this.low_},Q.math.Long.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(Q.math.Long.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var t=0!=this.high_?this.high_:this.low_,e=31;e>0&&0==(t&1<<e);e--);return 0!=this.high_?e+33:e+1},Q.math.Long.prototype.isZero=function(){return 0==this.high_&&0==this.low_},Q.math.Long.prototype.isNegative=function(){return this.high_<0},Q.math.Long.prototype.isOdd=function(){return 1==(1&this.low_)},Q.math.Long.prototype.equals=function(t){return this.high_==t.high_&&this.low_==t.low_},Q.math.Long.prototype.notEquals=function(t){return this.high_!=t.high_||this.low_!=t.low_},Q.math.Long.prototype.lessThan=function(t){return this.compare(t)<0},Q.math.Long.prototype.lessThanOrEqual=function(t){return this.compare(t)<=0},Q.math.Long.prototype.greaterThan=function(t){return this.compare(t)>0},Q.math.Long.prototype.greaterThanOrEqual=function(t){return this.compare(t)>=0},Q.math.Long.prototype.compare=function(t){if(this.equals(t))return 0;var e=this.isNegative(),i=t.isNegative();return e&&!i?-1:!e&&i?1:this.subtract(t).isNegative()?-1:1},Q.math.Long.prototype.negate=function(){return this.equals(Q.math.Long.MIN_VALUE)?Q.math.Long.MIN_VALUE:this.not().add(Q.math.Long.ONE)},Q.math.Long.prototype.add=function(t){var e=this.high_>>>16,i=65535&this.high_,r=this.low_>>>16,o=65535&this.low_,n=t.high_>>>16,a=65535&t.high_,s=t.low_>>>16,l=65535&t.low_,c=0,h=0,u=0,d=0;return d+=o+l,u+=d>>>16,d&=65535,u+=r+s,h+=u>>>16,u&=65535,h+=i+a,c+=h>>>16,h&=65535,c+=e+n,c&=65535,Q.math.Long.fromBits(u<<16|d,c<<16|h)},Q.math.Long.prototype.subtract=function(t){return this.add(t.negate())},Q.math.Long.prototype.multiply=function(t){if(this.isZero())return Q.math.Long.ZERO;if(t.isZero())return Q.math.Long.ZERO;if(this.equals(Q.math.Long.MIN_VALUE))return t.isOdd()?Q.math.Long.MIN_VALUE:Q.math.Long.ZERO;if(t.equals(Q.math.Long.MIN_VALUE))return this.isOdd()?Q.math.Long.MIN_VALUE:Q.math.Long.ZERO;if(this.isNegative())return t.isNegative()?this.negate().multiply(t.negate()):this.negate().multiply(t).negate();if(t.isNegative())return this.multiply(t.negate()).negate();if(this.lessThan(Q.math.Long.TWO_PWR_24_)&&t.lessThan(Q.math.Long.TWO_PWR_24_))return Q.math.Long.fromNumber(this.toNumber()*t.toNumber());var e=this.high_>>>16,i=65535&this.high_,r=this.low_>>>16,o=65535&this.low_,n=t.high_>>>16,a=65535&t.high_,s=t.low_>>>16,l=65535&t.low_,c=0,h=0,u=0,d=0;return d+=o*l,u+=d>>>16,d&=65535,u+=r*l,h+=u>>>16,u&=65535,u+=o*s,h+=u>>>16,u&=65535,h+=i*l,c+=h>>>16,h&=65535,h+=r*s,c+=h>>>16,h&=65535,h+=o*a,c+=h>>>16,h&=65535,c+=e*l+i*s+r*a+o*n,c&=65535,Q.math.Long.fromBits(u<<16|d,c<<16|h)},Q.math.Long.prototype.div=function(t){if(t.isZero())throw Error("division by zero");if(this.isZero())return Q.math.Long.ZERO;if(this.equals(Q.math.Long.MIN_VALUE)){if(t.equals(Q.math.Long.ONE)||t.equals(Q.math.Long.NEG_ONE))return Q.math.Long.MIN_VALUE;if(t.equals(Q.math.Long.MIN_VALUE))return Q.math.Long.ONE;var e=this.shiftRight(1),i=e.div(t).shiftLeft(1);if(i.equals(Q.math.Long.ZERO))return t.isNegative()?Q.math.Long.ONE:Q.math.Long.NEG_ONE;var r=this.subtract(t.multiply(i)),o=i.add(r.div(t));return o}if(t.equals(Q.math.Long.MIN_VALUE))return Q.math.Long.ZERO;if(this.isNegative())return t.isNegative()?this.negate().div(t.negate()):this.negate().div(t).negate();if(t.isNegative())return this.div(t.negate()).negate();for(var n=Q.math.Long.ZERO,r=this;r.greaterThanOrEqual(t);){for(var i=Math.max(1,Math.floor(r.toNumber()/t.toNumber())),a=Math.ceil(Math.log(i)/Math.LN2),s=48>=a?1:Math.pow(2,a-48),l=Q.math.Long.fromNumber(i),c=l.multiply(t);c.isNegative()||c.greaterThan(r);)i-=s,l=Q.math.Long.fromNumber(i),c=l.multiply(t);l.isZero()&&(l=Q.math.Long.ONE),n=n.add(l),r=r.subtract(c)}return n},Q.math.Long.prototype.modulo=function(t){return this.subtract(this.div(t).multiply(t))},Q.math.Long.prototype.not=function(){return Q.math.Long.fromBits(~this.low_,~this.high_)},Q.math.Long.prototype.and=function(t){return Q.math.Long.fromBits(this.low_&t.low_,this.high_&t.high_)},Q.math.Long.prototype.or=function(t){return Q.math.Long.fromBits(this.low_|t.low_,this.high_|t.high_)},Q.math.Long.prototype.xor=function(t){return Q.math.Long.fromBits(this.low_^t.low_,this.high_^t.high_)},Q.math.Long.prototype.shiftLeft=function(t){if(t&=63,0==t)return this;var e=this.low_;if(32>t){var i=this.high_;return Q.math.Long.fromBits(e<<t,i<<t|e>>>32-t)}return Q.math.Long.fromBits(0,e<<t-32)},Q.math.Long.prototype.shiftRight=function(t){if(t&=63,0==t)return this;var e=this.high_;if(32>t){var i=this.low_;return Q.math.Long.fromBits(i>>>t|e<<32-t,e>>t)}return Q.math.Long.fromBits(e>>t-32,e>=0?0:-1)},Q.math.Long.prototype.shiftRightUnsigned=function(t){if(t&=63,0==t)return this;var e=this.high_;if(32>t){var i=this.low_;return Q.math.Long.fromBits(i>>>t|e<<32-t,e>>>t)}return 32==t?Q.math.Long.fromBits(e,0):Q.math.Long.fromBits(e>>>t-32,0)};var Z,$={appName:"Modern Browser"},te=0xdeadbeefcafe,ee=15715070==(16777215&te);ee&&"Microsoft Internet Explorer"==$.appName?(t.prototype.am=r,Z=30):ee&&"Netscape"!=$.appName?(t.prototype.am=i,Z=26):(t.prototype.am=o,Z=28),t.prototype.DB=Z,t.prototype.DM=(1<<Z)-1,t.prototype.DV=1<<Z;var ie=52;t.prototype.FV=Math.pow(2,ie),t.prototype.F1=ie-Z,t.prototype.F2=2*Z-ie;var re,oe,ne="0123456789abcdefghijklmnopqrstuvwxyz",ae=new Array;for(re="0".charCodeAt(0),oe=0;9>=oe;++oe)ae[re++]=oe;for(re="a".charCodeAt(0),oe=10;36>oe;++oe)ae[re++]=oe;for(re="A".charCodeAt(0),oe=10;36>oe;++oe)ae[re++]=oe;A.prototype.convert=w,A.prototype.revert=R,A.prototype.reduce=D,A.prototype.mulTo=P,A.prototype.sqrTo=B,L.prototype.convert=k,L.prototype.revert=H,L.prototype.reduce=I,L.prototype.mulTo=J,L.prototype.sqrTo=O,t.prototype.copyTo=s,t.prototype.fromInt=l,t.prototype.fromString=h,t.prototype.clamp=u,t.prototype.dlShiftTo=y,t.prototype.drShiftTo=b,t.prototype.lShiftTo=v,t.prototype.rShiftTo=M,t.prototype.subTo=S,t.prototype.multiplyTo=T,t.prototype.squareTo=x,t.prototype.divRemTo=C,t.prototype.invDigit=V,t.prototype.isEven=N,t.prototype.exp=F,t.prototype.toString=d,t.prototype.negate=p,t.prototype.abs=f,t.prototype.compareTo=_,t.prototype.bitLength=g,t.prototype.mod=E,t.prototype.modPowInt=G,t.ZERO=c(0),t.ONE=c(1),t.prototype.fromRadix=z,t.prototype.chunkSize=j,t.prototype.signum=U,t.prototype.dMultiply=W,t.prototype.dAddOffset=X,t.prototype.toRadix=q,t.prototype.intValue=K,t.prototype.addTo=Y;var se={abs:function(t,e){var i,r=new Q.math.Long(t,e);i=r.isNegative()?r.negate():r,Eo[_n>>2]=i.low_,Eo[_n+4>>2]=i.high_},ensureTemps:function(){se.ensuredTemps||(se.ensuredTemps=!0,se.two32=new t,se.two32.fromString("4294967296",10),se.two64=new t,se.two64.fromString("18446744073709551616",10),se.temp1=new t,se.temp2=new t)},lh2bignum:function(e,i){var r=new t;r.fromString(i.toString(),10);var o=new t;r.multiplyTo(se.two32,o);var n=new t;n.fromString(e.toString(),10);var a=new t;return n.addTo(o,a),a},stringify:function(e,i,r){var o=new Q.math.Long(e,i).toString();if(r&&"-"==o[0]){se.ensureTemps();var n=new t;n.fromString(o,10),o=new t,se.two64.addTo(n,o),o=o.toString(10)}return o},fromString:function(e,i,r,o,n){se.ensureTemps();var a=new t;a.fromString(e,i);var s=new t;s.fromString(r,10);var l=new t;if(l.fromString(o,10),n&&a.compareTo(t.ZERO)<0){var c=new t;a.addTo(se.two64,c),a=c}var h=!1;a.compareTo(s)<0?(a=s,h=!0):a.compareTo(l)>0&&(a=l,h=!0);var u=Q.math.Long.fromString(a.toString());if(Eo[_n>>2]=u.low_,Eo[_n+4>>2]=u.high_,h)throw"range error"}};return se}();if(pn)if("function"==typeof t.locateFile?pn=t.locateFile(pn):t.memoryInitializerPrefixURL&&(pn=t.memoryInitializerPrefixURL+pn),eo||ro){var Qg=t.readBinary(pn);To.set(Qg,Bo)}else{U("memory initializer");var Zg=function(t){t.byteLength&&(t=new Uint8Array(t)),To.set(t,Bo),W("memory initializer")},$g=t.memoryInitializerRequest;$g?$g.response?setTimeout(function(){Zg($g.response)},0):$g.addEventListener("load",function(){200!==$g.status&&0!==$g.status&&console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+$g.status),$g.response&&"object"==typeof $g.response&&$g.response.byteLength||console.warn("a problem seems to have happened with Module.memoryInitializerRequest response (expected ArrayBuffer): "+$g.response),Zg($g.response)}):Browser.asyncLoad(pn,Zg,function(){throw"could not load memory initializer "+pn})}fi.prototype=new Error,fi.prototype.constructor=fi;var ty,ey=null,iy=!1;dn=function ay(){t.calledRun||_i(),t.calledRun||(dn=ay)},t.callMain=t.callMain=function(e){function r(){for(var t=0;3>t;t++)n.push(0)}i(0==hn,"cannot call main when async dependencies remain! (listen on __ATMAIN__)"),i(0==Uo.length,"cannot call main when preRun functions remain to be called"),e=e||[],R();var o=e.length+1,n=[a(O(t.thisProgram),"i8",mo)];r();for(var s=0;o-1>s;s+=1)n.push(a(O(e[s]),"i8",mo)),r();n.push(0),n=a(n,"i32",mo),ty=Ho;try{var l=t._main(o,n,0);mi(l,!0)}catch(c){if(c instanceof fi)return;if("SimulateInfiniteLoop"==c)return void(t.noExitRuntime=!0);throw c&&"object"==typeof c&&c.stack&&t.printErr("exception thrown: "+[c,c.stack]),c}finally{iy=!0}},t.run=t.run=_i,t.exit=t.exit=mi;var ry=[];if(t.abort=t.abort=gi,t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();var oy=!0;t.noInitialRun&&(oy=!1),t.noExitRuntime=!0,_i(),yi.prototype=Object.create(yi.prototype),yi.prototype.constructor=yi,yi.prototype.__class__=yi,yi.__cache__={},t.WrapperObject=yi,t.getCache=bi,t.wrapPointer=vi,t.castObject=Mi,t.NULL=vi(0),t.destroy=Si,t.compare=Ti,t.getPointer=xi,t.getClass=Ci;var ny=function(){function t(t){if("string"==typeof t){var i=e[t];if(i)return i;var r=a(O(t),"i8",go);return e[t]=r,r}return t}var e={};return t}();return Ei.prototype=Object.create(yi.prototype),Ei.prototype.constructor=Ei,Ei.prototype.__class__=Ei,Ei.__cache__={},t.btMatrix3x3=Ei,Ei.prototype.setEulerZYX=Ei.prototype.setEulerZYX=function(t,e,i){var r=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),i=i&&"object"==typeof i?i.ptr:ny(i),ah(r,t,e,i)},Ei.prototype.getRotation=Ei.prototype.getRotation=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),vh(e,t)},Ei.prototype.__destroy__=Ei.prototype.__destroy__=function(){var t=this.ptr;Fs(t)},Ai.prototype=Object.create($i.prototype),Ai.prototype.constructor=Ai,Ai.prototype.__class__=Ai,Ai.__cache__={},t.ConcreteContactResultCallback=Ai,Ai.prototype.addSingleResult=Ai.prototype.addSingleResult=function(t,e,i,r,o,n,a){var s=this.ptr;return t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),i=i&&"object"==typeof i?i.ptr:ny(i),r=r&&"object"==typeof r?r.ptr:ny(r),o=o&&"object"==typeof o?o.ptr:ny(o),n=n&&"object"==typeof n?n.ptr:ny(n),a=a&&"object"==typeof a?a.ptr:ny(a),Kp(s,t,e,i,r,o,n,a)},Ai.prototype.__destroy__=Ai.prototype.__destroy__=function(){var t=this.ptr;kp(t)},wi.prototype=Object.create(dr.prototype),wi.prototype.constructor=wi,wi.prototype.__class__=wi,wi.__cache__={},t.btBvhTriangleMeshShape=wi,wi.prototype.setLocalScaling=wi.prototype.setLocalScaling=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),es(e,t)},wi.prototype.calculateLocalInertia=wi.prototype.calculateLocalInertia=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),Vl(i,t,e)},wi.prototype.__destroy__=wi.prototype.__destroy__=function(){var t=this.ptr;dm(t)},Ri.prototype=Object.create(yi.prototype),Ri.prototype.constructor=Ri,Ri.prototype.__class__=Ri,Ri.__cache__={},t.btDbvtBroadphase=Ri,Ri.prototype.__destroy__=Ri.prototype.__destroy__=function(){var t=this.ptr;of(t)},Di.prototype=Object.create(yi.prototype),Di.prototype.constructor=Di,Di.prototype.__class__=Di,Di.__cache__={},t.VoidPtr=Di,Di.prototype.__destroy__=Di.prototype.__destroy__=function(){var t=this.ptr;_p(t)},Pi.prototype=Object.create(yi.prototype),Pi.prototype.constructor=Pi,Pi.prototype.__class__=Pi,Pi.__cache__={},t.btSequentialImpulseConstraintSolver=Pi,Pi.prototype.__destroy__=Pi.prototype.__destroy__=function(){var t=this.ptr;th(t)},Bi.prototype=Object.create(yi.prototype),Bi.prototype.constructor=Bi,Bi.prototype.__class__=Bi,Bi.__cache__={},t.btDispatcherInfo=Bi,Bi.prototype.get_m_timeStep=Bi.prototype.get_m_timeStep=function(){var t=this.ptr;return Hf(t)},Bi.prototype.set_m_timeStep=Bi.prototype.set_m_timeStep=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Np(e,t)},Bi.prototype.get_m_stepCount=Bi.prototype.get_m_stepCount=function(){var t=this.ptr;return ms(t)},Bi.prototype.set_m_stepCount=Bi.prototype.set_m_stepCount=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Tc(e,t)},Bi.prototype.get_m_dispatchFunc=Bi.prototype.get_m_dispatchFunc=function(){var t=this.ptr;return Ep(t)},Bi.prototype.set_m_dispatchFunc=Bi.prototype.set_m_dispatchFunc=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Ba(e,t)},Bi.prototype.get_m_timeOfImpact=Bi.prototype.get_m_timeOfImpact=function(){var t=this.ptr;return Un(t)},Bi.prototype.set_m_timeOfImpact=Bi.prototype.set_m_timeOfImpact=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Sa(e,t)},Bi.prototype.get_m_useContinuous=Bi.prototype.get_m_useContinuous=function(){var t=this.ptr;return su(t)},Bi.prototype.set_m_useContinuous=Bi.prototype.set_m_useContinuous=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),In(e,t)},Bi.prototype.get_m_enableSatConvex=Bi.prototype.get_m_enableSatConvex=function(){var t=this.ptr;return Ig(t)},Bi.prototype.set_m_enableSatConvex=Bi.prototype.set_m_enableSatConvex=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Nc(e,t)},Bi.prototype.get_m_enableSPU=Bi.prototype.get_m_enableSPU=function(){var t=this.ptr;return Su(t)},Bi.prototype.set_m_enableSPU=Bi.prototype.set_m_enableSPU=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),ks(e,t)},Bi.prototype.get_m_useEpa=Bi.prototype.get_m_useEpa=function(){var t=this.ptr;return Ds(t)},Bi.prototype.set_m_useEpa=Bi.prototype.set_m_useEpa=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Cl(e,t)},Bi.prototype.get_m_allowedCcdPenetration=Bi.prototype.get_m_allowedCcdPenetration=function(){var t=this.ptr;return Qc(t)},Bi.prototype.set_m_allowedCcdPenetration=Bi.prototype.set_m_allowedCcdPenetration=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),m_(e,t)},Bi.prototype.get_m_useConvexConservativeDistanceUtil=Bi.prototype.get_m_useConvexConservativeDistanceUtil=function(){var t=this.ptr;return U_(t)},Bi.prototype.set_m_useConvexConservativeDistanceUtil=Bi.prototype.set_m_useConvexConservativeDistanceUtil=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Ts(e,t)},Bi.prototype.get_m_convexConservativeDistanceThreshold=Bi.prototype.get_m_convexConservativeDistanceThreshold=function(){var t=this.ptr;return lh(t)},Bi.prototype.set_m_convexConservativeDistanceThreshold=Bi.prototype.set_m_convexConservativeDistanceThreshold=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Md(e,t)},Bi.prototype.__destroy__=Bi.prototype.__destroy__=function(){var t=this.ptr;wf(t)},Vi.prototype=Object.create(Vr.prototype),Vi.prototype.constructor=Vi,Vi.prototype.__class__=Vi,Vi.__cache__={},t.btCapsuleShape=Vi,Vi.prototype.setLocalScaling=Vi.prototype.setLocalScaling=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),sf(e,t)},Vi.prototype.calculateLocalInertia=Vi.prototype.calculateLocalInertia=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),c_(i,t,e)},Vi.prototype.__destroy__=Vi.prototype.__destroy__=function(){var t=this.ptr;ya(t)},Li.prototype=Object.create(yi.prototype),Li.prototype.constructor=Li,Li.prototype.__class__=Li,Li.__cache__={},t.btCollisionConfiguration=Li,Li.prototype.__destroy__=Li.prototype.__destroy__=function(){var t=this.ptr;Ca(t)},ki.prototype=Object.create(yi.prototype),ki.prototype.constructor=ki,ki.prototype.__class__=ki,ki.__cache__={},t.btAxisSweep3=ki,ki.prototype.__destroy__=ki.prototype.__destroy__=function(){var t=this.ptr;Fn(t)},Hi.prototype=Object.create(kr.prototype),Hi.prototype.constructor=Hi,Hi.prototype.__class__=Hi,Hi.__cache__={},t.btPairCachingGhostObject=Hi,Hi.prototype.setAnisotropicFriction=Hi.prototype.setAnisotropicFriction=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),cu(i,t,e)},Hi.prototype.getCollisionShape=Hi.prototype.getCollisionShape=function(){var t=this.ptr;return vi(Dm(t),Vr)},Hi.prototype.setContactProcessingThreshold=Hi.prototype.setContactProcessingThreshold=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Fh(e,t)},Hi.prototype.setActivationState=Hi.prototype.setActivationState=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Kh(e,t)},Hi.prototype.forceActivationState=Hi.prototype.forceActivationState=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),fs(e,t)},Hi.prototype.activate=Hi.prototype.activate=function(t){var e=this.ptr;return t=t&&"object"==typeof t?t.ptr:ny(t),void 0===t?void us(e):void ds(e,t)},Hi.prototype.isActive=Hi.prototype.isActive=function(){var t=this.ptr;return qg(t)},Hi.prototype.isKinematicObject=Hi.prototype.isKinematicObject=function(){var t=this.ptr;return mf(t)},Hi.prototype.setRestitution=Hi.prototype.setRestitution=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),jc(e,t)},Hi.prototype.setFriction=Hi.prototype.setFriction=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),xl(e,t)},Hi.prototype.setRollingFriction=Hi.prototype.setRollingFriction=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),op(e,t)},Hi.prototype.getWorldTransform=Hi.prototype.getWorldTransform=function(){var t=this.ptr;return vi(Lc(t),jr)},Hi.prototype.getCollisionFlags=Hi.prototype.getCollisionFlags=function(){var t=this.ptr;return Bl(t)},Hi.prototype.setCollisionFlags=Hi.prototype.setCollisionFlags=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Gg(e,t)},Hi.prototype.setWorldTransform=Hi.prototype.setWorldTransform=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Kf(e,t)},Hi.prototype.setCollisionShape=Hi.prototype.setCollisionShape=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),wp(e,t)},Hi.prototype.setCcdMotionThreshold=Hi.prototype.setCcdMotionThreshold=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),kd(e,t)},Hi.prototype.setCcdSweptSphereRadius=Hi.prototype.setCcdSweptSphereRadius=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Rh(e,t)},Hi.prototype.getNumOverlappingObjects=Hi.prototype.getNumOverlappingObjects=function(){var t=this.ptr;return bp(t)},Hi.prototype.getOverlappingObject=Hi.prototype.getOverlappingObject=function(t){var e=this.ptr;return t=t&&"object"==typeof t?t.ptr:ny(t),vi(r_(e,t),Gi)},Hi.prototype.__destroy__=Hi.prototype.__destroy__=function(){var t=this.ptr;cs(t)},Ii.prototype=Object.create(yi.prototype),Ii.prototype.constructor=Ii,Ii.prototype.__class__=Ii,Ii.__cache__={},t.btRigidBodyConstructionInfo=Ii,Ii.prototype.get_m_linearDamping=Ii.prototype.get_m_linearDamping=function(){var t=this.ptr;return L_(t)},Ii.prototype.set_m_linearDamping=Ii.prototype.set_m_linearDamping=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Ym(e,t)},Ii.prototype.get_m_angularDamping=Ii.prototype.get_m_angularDamping=function(){var t=this.ptr;return $n(t)},Ii.prototype.set_m_angularDamping=Ii.prototype.set_m_angularDamping=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),gs(e,t)},Ii.prototype.get_m_friction=Ii.prototype.get_m_friction=function(){var t=this.ptr;
return bs(t)},Ii.prototype.set_m_friction=Ii.prototype.set_m_friction=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Xd(e,t)},Ii.prototype.get_m_rollingFriction=Ii.prototype.get_m_rollingFriction=function(){var t=this.ptr;return Ap(t)},Ii.prototype.set_m_rollingFriction=Ii.prototype.set_m_rollingFriction=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Ad(e,t)},Ii.prototype.get_m_restitution=Ii.prototype.get_m_restitution=function(){var t=this.ptr;return Z_(t)},Ii.prototype.set_m_restitution=Ii.prototype.set_m_restitution=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Oa(e,t)},Ii.prototype.get_m_linearSleepingThreshold=Ii.prototype.get_m_linearSleepingThreshold=function(){var t=this.ptr;return H_(t)},Ii.prototype.set_m_linearSleepingThreshold=Ii.prototype.set_m_linearSleepingThreshold=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Op(e,t)},Ii.prototype.get_m_angularSleepingThreshold=Ii.prototype.get_m_angularSleepingThreshold=function(){var t=this.ptr;return Cf(t)},Ii.prototype.set_m_angularSleepingThreshold=Ii.prototype.set_m_angularSleepingThreshold=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Rs(e,t)},Ii.prototype.get_m_additionalDamping=Ii.prototype.get_m_additionalDamping=function(){var t=this.ptr;return xh(t)},Ii.prototype.set_m_additionalDamping=Ii.prototype.set_m_additionalDamping=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Zm(e,t)},Ii.prototype.get_m_additionalDampingFactor=Ii.prototype.get_m_additionalDampingFactor=function(){var t=this.ptr;return lf(t)},Ii.prototype.set_m_additionalDampingFactor=Ii.prototype.set_m_additionalDampingFactor=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Xc(e,t)},Ii.prototype.get_m_additionalLinearDampingThresholdSqr=Ii.prototype.get_m_additionalLinearDampingThresholdSqr=function(){var t=this.ptr;return Ql(t)},Ii.prototype.set_m_additionalLinearDampingThresholdSqr=Ii.prototype.set_m_additionalLinearDampingThresholdSqr=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),eh(e,t)},Ii.prototype.get_m_additionalAngularDampingThresholdSqr=Ii.prototype.get_m_additionalAngularDampingThresholdSqr=function(){var t=this.ptr;return Uh(t)},Ii.prototype.set_m_additionalAngularDampingThresholdSqr=Ii.prototype.set_m_additionalAngularDampingThresholdSqr=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Bu(e,t)},Ii.prototype.get_m_additionalAngularDampingFactor=Ii.prototype.get_m_additionalAngularDampingFactor=function(){var t=this.ptr;return Zc(t)},Ii.prototype.set_m_additionalAngularDampingFactor=Ii.prototype.set_m_additionalAngularDampingFactor=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Hl(e,t)},Ii.prototype.__destroy__=Ii.prototype.__destroy__=function(){var t=this.ptr;o_(t)},Oi.prototype=Object.create(yi.prototype),Oi.prototype.constructor=Oi,Oi.prototype.__class__=Oi,Oi.__cache__={},t.btManifoldPoint=Oi,Oi.prototype.getPositionWorldOnA=Oi.prototype.getPositionWorldOnA=function(){var t=this.ptr;return vi(z_(t),wr)},Oi.prototype.getPositionWorldOnB=Oi.prototype.getPositionWorldOnB=function(){var t=this.ptr;return vi(tp(t),wr)},Oi.prototype.getDistance=Oi.prototype.getDistance=function(){var t=this.ptr;return Mg(t)},Oi.prototype.get_m_localPointA=Oi.prototype.get_m_localPointA=function(){var t=this.ptr;return vi(V_(t),wr)},Oi.prototype.set_m_localPointA=Oi.prototype.set_m_localPointA=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Il(e,t)},Oi.prototype.get_m_localPointB=Oi.prototype.get_m_localPointB=function(){var t=this.ptr;return vi(Hm(t),wr)},Oi.prototype.set_m_localPointB=Oi.prototype.set_m_localPointB=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),wa(e,t)},Oi.prototype.get_m_positionWorldOnB=Oi.prototype.get_m_positionWorldOnB=function(){var t=this.ptr;return vi(Ah(t),wr)},Oi.prototype.set_m_positionWorldOnB=Oi.prototype.set_m_positionWorldOnB=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Aa(e,t)},Oi.prototype.get_m_positionWorldOnA=Oi.prototype.get_m_positionWorldOnA=function(){var t=this.ptr;return vi(ep(t),wr)},Oi.prototype.set_m_positionWorldOnA=Oi.prototype.set_m_positionWorldOnA=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Lm(e,t)},Oi.prototype.get_m_normalWorldOnB=Oi.prototype.get_m_normalWorldOnB=function(){var t=this.ptr;return vi(um(t),wr)},Oi.prototype.set_m_normalWorldOnB=Oi.prototype.set_m_normalWorldOnB=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),tm(e,t)},Oi.prototype.__destroy__=Oi.prototype.__destroy__=function(){var t=this.ptr;Ed(t)},Ji.prototype=Object.create(Qr.prototype),Ji.prototype.constructor=Ji,Ji.prototype.__class__=Ji,Ji.__cache__={},t.btGeneric6DofConstraint=Ji,Ji.prototype.setLinearLowerLimit=Ji.prototype.setLinearLowerLimit=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Am(e,t)},Ji.prototype.setLinearUpperLimit=Ji.prototype.setLinearUpperLimit=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Gh(e,t)},Ji.prototype.setAngularLowerLimit=Ji.prototype.setAngularLowerLimit=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),rm(e,t)},Ji.prototype.setAngularUpperLimit=Ji.prototype.setAngularUpperLimit=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Es(e,t)},Ji.prototype.enableFeedback=Ji.prototype.enableFeedback=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),kn(e,t)},Ji.prototype.getBreakingImpulseThreshold=Ji.prototype.getBreakingImpulseThreshold=function(){var t=this.ptr;return C_(t)},Ji.prototype.setBreakingImpulseThreshold=Ji.prototype.setBreakingImpulseThreshold=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),n_(e,t)},Ji.prototype.__destroy__=Ji.prototype.__destroy__=function(){var t=this.ptr;gm(t)},Ni.prototype=Object.create(yi.prototype),Ni.prototype.constructor=Ni,Ni.prototype.__class__=Ni,Ni.__cache__={},t.btStridingMeshInterface=Ni,Ni.prototype.__destroy__=Ni.prototype.__destroy__=function(){var t=this.ptr;R_(t)},Fi.prototype=Object.create(yi.prototype),Fi.prototype.constructor=Fi,Fi.prototype.__class__=Fi,Fi.__cache__={},t.btBroadphaseInterface=Fi,Fi.prototype.__destroy__=Fi.prototype.__destroy__=function(){var t=this.ptr;Xp(t)},Gi.prototype=Object.create(yi.prototype),Gi.prototype.constructor=Gi,Gi.prototype.__class__=Gi,Gi.__cache__={},t.btCollisionObject=Gi,Gi.prototype.setAnisotropicFriction=Gi.prototype.setAnisotropicFriction=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),Wd(i,t,e)},Gi.prototype.getCollisionShape=Gi.prototype.getCollisionShape=function(){var t=this.ptr;return vi(xd(t),Vr)},Gi.prototype.setContactProcessingThreshold=Gi.prototype.setContactProcessingThreshold=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Kc(e,t)},Gi.prototype.setActivationState=Gi.prototype.setActivationState=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Is(e,t)},Gi.prototype.forceActivationState=Gi.prototype.forceActivationState=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),S_(e,t)},Gi.prototype.activate=Gi.prototype.activate=function(t){var e=this.ptr;return t=t&&"object"==typeof t?t.ptr:ny(t),void 0===t?void va(e):void ba(e,t)},Gi.prototype.isActive=Gi.prototype.isActive=function(){var t=this.ptr;return On(t)},Gi.prototype.isKinematicObject=Gi.prototype.isKinematicObject=function(){var t=this.ptr;return ha(t)},Gi.prototype.setRestitution=Gi.prototype.setRestitution=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),bu(e,t)},Gi.prototype.setFriction=Gi.prototype.setFriction=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Bd(e,t)},Gi.prototype.setRollingFriction=Gi.prototype.setRollingFriction=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),dh(e,t)},Gi.prototype.getWorldTransform=Gi.prototype.getWorldTransform=function(){var t=this.ptr;return vi(vl(t),jr)},Gi.prototype.getCollisionFlags=Gi.prototype.getCollisionFlags=function(){var t=this.ptr;return Jc(t)},Gi.prototype.setCollisionFlags=Gi.prototype.setCollisionFlags=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Nf(e,t)},Gi.prototype.setWorldTransform=Gi.prototype.setWorldTransform=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),P_(e,t)},Gi.prototype.setCollisionShape=Gi.prototype.setCollisionShape=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Ol(e,t)},Gi.prototype.setCcdMotionThreshold=Gi.prototype.setCcdMotionThreshold=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Mf(e,t)},Gi.prototype.setCcdSweptSphereRadius=Gi.prototype.setCcdSweptSphereRadius=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Nm(e,t)},Gi.prototype.__destroy__=Gi.prototype.__destroy__=function(){var t=this.ptr;Hp(t)},zi.prototype=Object.create(_r.prototype),zi.prototype.constructor=zi,zi.prototype.__class__=zi,zi.__cache__={},t.btDiscreteDynamicsWorld=zi,zi.prototype.setGravity=zi.prototype.setGravity=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),b_(e,t)},zi.prototype.getGravity=zi.prototype.getGravity=function(){var t=this.ptr;return vi(jp(t),wr)},zi.prototype.addRigidBody=zi.prototype.addRigidBody=function(t,e,i){var r=this.ptr;return t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),i=i&&"object"==typeof i?i.ptr:ny(i),void 0===e?void Ou(r,t):void 0===i?void _emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_2(r,t,e):void Na(r,t,e,i)},zi.prototype.removeRigidBody=zi.prototype.removeRigidBody=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),ul(e,t)},zi.prototype.addConstraint=zi.prototype.addConstraint=function(t,e){var i=this.ptr;return t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),void 0===e?void ws(i,t):void As(i,t,e)},zi.prototype.removeConstraint=zi.prototype.removeConstraint=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),_m(e,t)},zi.prototype.stepSimulation=zi.prototype.stepSimulation=function(t,e,i){var r=this.ptr;return t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),i=i&&"object"==typeof i?i.ptr:ny(i),void 0===e?ra(r,t):void 0===i?na(r,t,e):oa(r,t,e,i)},zi.prototype.getDispatcher=zi.prototype.getDispatcher=function(){var t=this.ptr;return vi(hd(t),pr)},zi.prototype.rayTest=zi.prototype.rayTest=function(t,e,i){var r=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),i=i&&"object"==typeof i?i.ptr:ny(i),jg(r,t,e,i)},zi.prototype.getPairCache=zi.prototype.getPairCache=function(){var t=this.ptr;return vi(Vf(t),Ar)},zi.prototype.getDispatchInfo=zi.prototype.getDispatchInfo=function(){var t=this.ptr;return vi(fc(t),Bi)},zi.prototype.addCollisionObject=zi.prototype.addCollisionObject=function(t,e,i){var r=this.ptr;return t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),i=i&&"object"==typeof i?i.ptr:ny(i),void 0===e?void Ff(r,t):void 0===i?void Gf(r,t,e):void qu(r,t,e,i)},zi.prototype.getBroadphase=zi.prototype.getBroadphase=function(){var t=this.ptr;return vi(pl(t),Fi)},zi.prototype.convexSweepTest=zi.prototype.convexSweepTest=function(t,e,i,r,o){var n=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),i=i&&"object"==typeof i?i.ptr:ny(i),r=r&&"object"==typeof r?r.ptr:ny(r),o=o&&"object"==typeof o?o.ptr:ny(o),Vg(n,t,e,i,r,o)},zi.prototype.contactPairTest=zi.prototype.contactPairTest=function(t,e,i){var r=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),i=i&&"object"==typeof i?i.ptr:ny(i),Im(r,t,e,i)},zi.prototype.addAction=zi.prototype.addAction=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),fl(e,t)},zi.prototype.getSolverInfo=zi.prototype.getSolverInfo=function(){var t=this.ptr;return vi(Ga(t),Er)},zi.prototype.__destroy__=zi.prototype.__destroy__=function(){var t=this.ptr;_u(t)},ji.prototype=Object.create(Qi.prototype),ji.prototype.constructor=ji,ji.prototype.__class__=ji,ji.__cache__={},t.btConvexTriangleMeshShape=ji,ji.prototype.setLocalScaling=ji.prototype.setLocalScaling=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),yl(e,t)},ji.prototype.calculateLocalInertia=ji.prototype.calculateLocalInertia=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),Df(i,t,e)},ji.prototype.__destroy__=ji.prototype.__destroy__=function(){var t=this.ptr;Qh(t)},Ui.prototype=Object.create(yi.prototype),Ui.prototype.constructor=Ui,Ui.prototype.__class__=Ui,Ui.__cache__={},t.ConvexResultCallback=Ui,Ui.prototype.hasHit=Ui.prototype.hasHit=function(){var t=this.ptr;return Gs(t)},Ui.prototype.get_m_collisionFilterGroup=Ui.prototype.get_m_collisionFilterGroup=function(){var t=this.ptr;return xu(t)},Ui.prototype.set_m_collisionFilterGroup=Ui.prototype.set_m_collisionFilterGroup=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),i_(e,t)},Ui.prototype.get_m_collisionFilterMask=Ui.prototype.get_m_collisionFilterMask=function(){var t=this.ptr;return pf(t)},Ui.prototype.set_m_collisionFilterMask=Ui.prototype.set_m_collisionFilterMask=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),sm(e,t)},Ui.prototype.get_m_closestHitFraction=Ui.prototype.get_m_closestHitFraction=function(){var t=this.ptr;return Cp(t)},Ui.prototype.set_m_closestHitFraction=Ui.prototype.set_m_closestHitFraction=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),uf(e,t)},Ui.prototype.__destroy__=Ui.prototype.__destroy__=function(){var t=this.ptr;da(t)},Wi.prototype=Object.create(Qr.prototype),Wi.prototype.constructor=Wi,Wi.prototype.__class__=Wi,Wi.__cache__={},t.btPoint2PointConstraint=Wi,Wi.prototype.setPivotA=Wi.prototype.setPivotA=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),a_(e,t)},Wi.prototype.setPivotB=Wi.prototype.setPivotB=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),vg(e,t)},Wi.prototype.getPivotInA=Wi.prototype.getPivotInA=function(){var t=this.ptr;return vi(rd(t),wr)},Wi.prototype.getPivotInB=Wi.prototype.getPivotInB=function(){var t=this.ptr;return vi(Ef(t),wr)},Wi.prototype.enableFeedback=Wi.prototype.enableFeedback=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Gl(e,t)},Wi.prototype.getBreakingImpulseThreshold=Wi.prototype.getBreakingImpulseThreshold=function(){var t=this.ptr;return Sm(t)},Wi.prototype.setBreakingImpulseThreshold=Wi.prototype.setBreakingImpulseThreshold=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),is(e,t)},Wi.prototype.get_m_setting=Wi.prototype.get_m_setting=function(){var t=this.ptr;return vi(Qu(t),Lr)},Wi.prototype.set_m_setting=Wi.prototype.set_m_setting=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),eu(e,t)},Wi.prototype.__destroy__=Wi.prototype.__destroy__=function(){var t=this.ptr;Cs(t)},Xi.prototype=Object.create(yi.prototype),Xi.prototype.constructor=Xi,Xi.prototype.__class__=Xi,Xi.__cache__={},t.btMotionState=Xi,Xi.prototype.getWorldTransform=Xi.prototype.getWorldTransform=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),yd(e,t)},Xi.prototype.setWorldTransform=Xi.prototype.setWorldTransform=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Bc(e,t)},Xi.prototype.__destroy__=Xi.prototype.__destroy__=function(){var t=this.ptr;Jf(t)},qi.prototype=Object.create(Qr.prototype),qi.prototype.constructor=qi,qi.prototype.__class__=qi,qi.__cache__={},t.btSliderConstraint=qi,qi.prototype.setLowerLinLimit=qi.prototype.setLowerLinLimit=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Om(e,t)},qi.prototype.setUpperLinLimit=qi.prototype.setUpperLinLimit=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),sc(e,t)},qi.prototype.setLowerAngLimit=qi.prototype.setLowerAngLimit=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),mp(e,t)},qi.prototype.setUpperAngLimit=qi.prototype.setUpperAngLimit=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),np(e,t)},qi.prototype.enableFeedback=qi.prototype.enableFeedback=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),xg(e,t)},qi.prototype.getBreakingImpulseThreshold=qi.prototype.getBreakingImpulseThreshold=function(){var t=this.ptr;return Wc(t)},qi.prototype.setBreakingImpulseThreshold=qi.prototype.setBreakingImpulseThreshold=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),tf(e,t)},qi.prototype.__destroy__=qi.prototype.__destroy__=function(){var t=this.ptr;yg(t)},Ki.prototype=Object.create(Qr.prototype),Ki.prototype.constructor=Ki,Ki.prototype.__class__=Ki,Ki.__cache__={},t.btConeTwistConstraint=Ki,Ki.prototype.setLimit=Ki.prototype.setLimit=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),E_(i,t,e)},Ki.prototype.setAngularOnly=Ki.prototype.setAngularOnly=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Qf(e,t)},Ki.prototype.setDamping=Ki.prototype.setDamping=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Iu(e,t)},Ki.prototype.enableMotor=Ki.prototype.enableMotor=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Fc(e,t)},Ki.prototype.setMaxMotorImpulse=Ki.prototype.setMaxMotorImpulse=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Mh(e,t)},Ki.prototype.setMaxMotorImpulseNormalized=Ki.prototype.setMaxMotorImpulseNormalized=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),gl(e,t)},Ki.prototype.setMotorTarget=Ki.prototype.setMotorTarget=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),lp(e,t)},Ki.prototype.setMotorTargetInConstraintSpace=Ki.prototype.setMotorTargetInConstraintSpace=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Jp(e,t)},Ki.prototype.enableFeedback=Ki.prototype.enableFeedback=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),oc(e,t)},Ki.prototype.getBreakingImpulseThreshold=Ki.prototype.getBreakingImpulseThreshold=function(){var t=this.ptr;return im(t)},Ki.prototype.setBreakingImpulseThreshold=Ki.prototype.setBreakingImpulseThreshold=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Xu(e,t)},Ki.prototype.__destroy__=Ki.prototype.__destroy__=function(){var t=this.ptr;Yp(t)},Yi.prototype=Object.create(Vr.prototype),Yi.prototype.constructor=Yi,Yi.prototype.__class__=Yi,Yi.__cache__={},t.btConeShape=Yi,Yi.prototype.setLocalScaling=Yi.prototype.setLocalScaling=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Tp(e,t)},Yi.prototype.calculateLocalInertia=Yi.prototype.calculateLocalInertia=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),nm(i,t,e)},Yi.prototype.__destroy__=Yi.prototype.__destroy__=function(){var t=this.ptr;dg(t)},Qi.prototype=Object.create(Vr.prototype),Qi.prototype.constructor=Qi,Qi.prototype.__class__=Qi,Qi.__cache__={},t.btConvexShape=Qi,Qi.prototype.setLocalScaling=Qi.prototype.setLocalScaling=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Oh(e,t)},Qi.prototype.calculateLocalInertia=Qi.prototype.calculateLocalInertia=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),Cm(i,t,e)},Qi.prototype.__destroy__=Qi.prototype.__destroy__=function(){var t=this.ptr;mu(t)},Zi.prototype=Object.create(yi.prototype),Zi.prototype.constructor=Zi,Zi.prototype.__class__=Zi,Zi.__cache__={},t.btDefaultCollisionConfiguration=Zi,Zi.prototype.__destroy__=Zi.prototype.__destroy__=function(){var t=this.ptr;Vd(t)},$i.prototype=Object.create(yi.prototype),$i.prototype.constructor=$i,$i.prototype.__class__=$i,$i.__cache__={},t.ContactResultCallback=$i,$i.prototype.addSingleResult=$i.prototype.addSingleResult=function(t,e,i,r,o,n,a){var s=this.ptr;return t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),i=i&&"object"==typeof i?i.ptr:ny(i),r=r&&"object"==typeof r?r.ptr:ny(r),o=o&&"object"==typeof o?o.ptr:ny(o),n=n&&"object"==typeof n?n.ptr:ny(n),a=a&&"object"==typeof a?a.ptr:ny(a),Ia(s,t,e,i,r,o,n,a)},$i.prototype.__destroy__=$i.prototype.__destroy__=function(){var t=this.ptr;j_(t)},tr.prototype=Object.create(Yi.prototype),tr.prototype.constructor=tr,tr.prototype.__class__=tr,tr.__cache__={},t.btConeShapeZ=tr,tr.prototype.setLocalScaling=tr.prototype.setLocalScaling=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),qh(e,t)},tr.prototype.calculateLocalInertia=tr.prototype.calculateLocalInertia=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),Zs(i,t,e)},tr.prototype.__destroy__=tr.prototype.__destroy__=function(){var t=this.ptr;Pg(t)},er.prototype=Object.create(Yi.prototype),er.prototype.constructor=er,er.prototype.__class__=er,er.__cache__={},t.btConeShapeX=er,er.prototype.setLocalScaling=er.prototype.setLocalScaling=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),gg(e,t)},er.prototype.calculateLocalInertia=er.prototype.calculateLocalInertia=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),Yd(i,t,e)},er.prototype.__destroy__=er.prototype.__destroy__=function(){var t=this.ptr;Oc(t)},ir.prototype=Object.create(Ni.prototype),ir.prototype.constructor=ir,ir.prototype.__class__=ir,ir.__cache__={},t.btTriangleMesh=ir,ir.prototype.addTriangle=ir.prototype.addTriangle=function(t,e,i,r){var o=this.ptr;return t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),i=i&&"object"==typeof i?i.ptr:ny(i),r=r&&"object"==typeof r?r.ptr:ny(r),void 0===r?void ag(o,t,e,i):void lg(o,t,e,i,r)},ir.prototype.__destroy__=ir.prototype.__destroy__=function(){var t=this.ptr;Pp(t)},rr.prototype=Object.create(Vr.prototype),rr.prototype.constructor=rr,rr.prototype.__class__=rr,rr.__cache__={},t.btConvexHullShape=rr,rr.prototype.addPoint=rr.prototype.addPoint=function(t,e){var i=this.ptr;return t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),void 0===e?void vm(i,t):void Mm(i,t,e)},rr.prototype.setLocalScaling=rr.prototype.setLocalScaling=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),ch(e,t)},rr.prototype.calculateLocalInertia=rr.prototype.calculateLocalInertia=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),tl(i,t,e)},rr.prototype.__destroy__=rr.prototype.__destroy__=function(){var t=this.ptr;dl(t)},or.prototype=Object.create(yi.prototype),or.prototype.constructor=or,or.prototype.__class__=or,or.__cache__={},t.btPersistentManifold=or,or.prototype.getBody0=or.prototype.getBody0=function(){var t=this.ptr;return vi(ic(t),Gi)},or.prototype.getBody1=or.prototype.getBody1=function(){var t=this.ptr;return vi(Wa(t),Gi)},or.prototype.getNumContacts=or.prototype.getNumContacts=function(){var t=this.ptr;return Pl(t)},or.prototype.getContactPoint=or.prototype.getContactPoint=function(t){var e=this.ptr;return t=t&&"object"==typeof t?t.ptr:ny(t),vi(qd(e,t),Oi)},or.prototype.__destroy__=or.prototype.__destroy__=function(){var t=this.ptr;Os(t)},nr.prototype=Object.create(Vr.prototype),nr.prototype.constructor=nr,nr.prototype.__class__=nr,nr.__cache__={},t.btBoxShape=nr,nr.prototype.setLocalScaling=nr.prototype.setLocalScaling=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Dg(e,t)},nr.prototype.calculateLocalInertia=nr.prototype.calculateLocalInertia=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),Of(i,t,e)},nr.prototype.__destroy__=nr.prototype.__destroy__=function(){var t=this.ptr;zp(t)},ar.prototype=Object.create(pr.prototype),ar.prototype.constructor=ar,ar.prototype.__class__=ar,ar.__cache__={},t.btCollisionDispatcher=ar,ar.prototype.getNumManifolds=ar.prototype.getNumManifolds=function(){var t=this.ptr;return El(t)},ar.prototype.getManifoldByIndexInternal=ar.prototype.getManifoldByIndexInternal=function(t){var e=this.ptr;return t=t&&"object"==typeof t?t.ptr:ny(t),vi(rl(e,t),or)},ar.prototype.__destroy__=ar.prototype.__destroy__=function(){var t=this.ptr;ta(t)},sr.prototype=Object.create(yi.prototype),sr.prototype.constructor=sr,sr.prototype.__class__=sr,sr.__cache__={},t.btVehicleTuning=sr,sr.prototype.get_m_suspensionStiffness=sr.prototype.get_m_suspensionStiffness=function(){var t=this.ptr;return Yn(t)},sr.prototype.set_m_suspensionStiffness=sr.prototype.set_m_suspensionStiffness=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),v_(e,t)},sr.prototype.get_m_suspensionCompression=sr.prototype.get_m_suspensionCompression=function(){var t=this.ptr;return fu(t)},sr.prototype.set_m_suspensionCompression=sr.prototype.set_m_suspensionCompression=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),If(e,t)},sr.prototype.get_m_suspensionDamping=sr.prototype.get_m_suspensionDamping=function(){var t=this.ptr;return Xa(t)},sr.prototype.set_m_suspensionDamping=sr.prototype.set_m_suspensionDamping=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Ip(e,t)},sr.prototype.get_m_maxSuspensionTravelCm=sr.prototype.get_m_maxSuspensionTravelCm=function(){var t=this.ptr;return bm(t)},sr.prototype.set_m_maxSuspensionTravelCm=sr.prototype.set_m_maxSuspensionTravelCm=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Zh(e,t)},sr.prototype.get_m_frictionSlip=sr.prototype.get_m_frictionSlip=function(){var t=this.ptr;return Kg(t)},sr.prototype.set_m_frictionSlip=sr.prototype.set_m_frictionSlip=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Jn(e,t)},sr.prototype.get_m_maxSuspensionForce=sr.prototype.get_m_maxSuspensionForce=function(){var t=this.ptr;return u_(t)},sr.prototype.set_m_maxSuspensionForce=sr.prototype.set_m_maxSuspensionForce=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),vf(e,t)},lr.prototype=Object.create(Vr.prototype),lr.prototype.constructor=lr,lr.prototype.__class__=lr,lr.__cache__={},t.btCompoundShape=lr,lr.prototype.addChildShape=lr.prototype.addChildShape=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),du(i,t,e)},lr.prototype.setLocalScaling=lr.prototype.setLocalScaling=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Ch(e,t)},lr.prototype.calculateLocalInertia=lr.prototype.calculateLocalInertia=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),kc(i,t,e)},lr.prototype.__destroy__=lr.prototype.__destroy__=function(){var t=this.ptr;Yc(t)},cr.prototype=Object.create(yi.prototype),cr.prototype.constructor=cr,cr.prototype.__class__=cr,cr.__cache__={},t.btCollisionObjectWrapper=cr,hr.prototype=Object.create(Ui.prototype),hr.prototype.constructor=hr,hr.prototype.__class__=hr,hr.__cache__={},t.ClosestConvexResultCallback=hr,hr.prototype.hasHit=hr.prototype.hasHit=function(){var t=this.ptr;return eg(t)},hr.prototype.get_m_convexFromWorld=hr.prototype.get_m_convexFromWorld=function(){var t=this.ptr;return vi(od(t),wr)},hr.prototype.set_m_convexFromWorld=hr.prototype.set_m_convexFromWorld=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),cp(e,t)},hr.prototype.get_m_convexToWorld=hr.prototype.get_m_convexToWorld=function(){var t=this.ptr;return vi(Pf(t),wr)},hr.prototype.set_m_convexToWorld=hr.prototype.set_m_convexToWorld=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),s_(e,t)},hr.prototype.get_m_hitNormalWorld=hr.prototype.get_m_hitNormalWorld=function(){var t=this.ptr;return vi(Vu(t),wr)},hr.prototype.set_m_hitNormalWorld=hr.prototype.set_m_hitNormalWorld=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),fa(e,t)},hr.prototype.get_m_hitPointWorld=hr.prototype.get_m_hitPointWorld=function(){var t=this.ptr;return vi(Wp(t),wr)},hr.prototype.set_m_hitPointWorld=hr.prototype.set_m_hitPointWorld=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),ss(e,t)},hr.prototype.get_m_collisionFilterGroup=hr.prototype.get_m_collisionFilterGroup=function(){var t=this.ptr;return Ku(t)},hr.prototype.set_m_collisionFilterGroup=hr.prototype.set_m_collisionFilterGroup=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Wu(e,t)},hr.prototype.get_m_collisionFilterMask=hr.prototype.get_m_collisionFilterMask=function(){var t=this.ptr;return ld(t)},hr.prototype.set_m_collisionFilterMask=hr.prototype.set_m_collisionFilterMask=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),A_(e,t)},hr.prototype.get_m_closestHitFraction=hr.prototype.get_m_closestHitFraction=function(){var t=this.ptr;return oh(t)},hr.prototype.set_m_closestHitFraction=hr.prototype.set_m_closestHitFraction=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),fm(e,t)},hr.prototype.__destroy__=hr.prototype.__destroy__=function(){var t=this.ptr;ad(t)},ur.prototype=Object.create(Xi.prototype),ur.prototype.constructor=ur,ur.prototype.__class__=ur,ur.__cache__={},t.btDefaultMotionState=ur,ur.prototype.getWorldTransform=ur.prototype.getWorldTransform=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),ia(e,t)},ur.prototype.setWorldTransform=ur.prototype.setWorldTransform=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),td(e,t)},ur.prototype.get_m_graphicsWorldTrans=ur.prototype.get_m_graphicsWorldTrans=function(){var t=this.ptr;return vi(Ja(t),jr)},ur.prototype.set_m_graphicsWorldTrans=ur.prototype.set_m_graphicsWorldTrans=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Rd(e,t)},ur.prototype.__destroy__=ur.prototype.__destroy__=function(){var t=this.ptr;_s(t)},dr.prototype=Object.create(Sr.prototype),dr.prototype.constructor=dr,dr.prototype.__class__=dr,dr.__cache__={},t.btTriangleMeshShape=dr,dr.prototype.setLocalScaling=dr.prototype.setLocalScaling=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),hf(e,t)},dr.prototype.calculateLocalInertia=dr.prototype.calculateLocalInertia=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),Jh(i,t,e)},dr.prototype.__destroy__=dr.prototype.__destroy__=function(){var t=this.ptr;Y_(t)},pr.prototype=Object.create(yi.prototype),pr.prototype.constructor=pr,pr.prototype.__class__=pr,pr.__cache__={},t.btDispatcher=pr,pr.prototype.getNumManifolds=pr.prototype.getNumManifolds=function(){var t=this.ptr;return k_(t)},pr.prototype.getManifoldByIndexInternal=pr.prototype.getManifoldByIndexInternal=function(t){var e=this.ptr;return t=t&&"object"==typeof t?t.ptr:ny(t),vi(Wf(e,t),or)},pr.prototype.__destroy__=pr.prototype.__destroy__=function(){var t=this.ptr;pu(t)},fr.prototype=Object.create(vr.prototype),fr.prototype.constructor=fr,fr.prototype.__class__=fr,fr.__cache__={},t.ClosestRayResultCallback=fr,fr.prototype.hasHit=fr.prototype.hasHit=function(){var t=this.ptr;return uu(t)},fr.prototype.get_m_rayFromWorld=fr.prototype.get_m_rayFromWorld=function(){var t=this.ptr;return vi(yp(t),wr)},fr.prototype.set_m_rayFromWorld=fr.prototype.set_m_rayFromWorld=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Zp(e,t)},fr.prototype.get_m_rayToWorld=fr.prototype.get_m_rayToWorld=function(){var t=this.ptr;return vi(ol(t),wr)},fr.prototype.set_m_rayToWorld=fr.prototype.set_m_rayToWorld=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Um(e,t)},fr.prototype.get_m_hitNormalWorld=fr.prototype.get_m_hitNormalWorld=function(){var t=this.ptr;return vi(wm(t),wr)},fr.prototype.set_m_hitNormalWorld=fr.prototype.set_m_hitNormalWorld=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Eg(e,t)},fr.prototype.get_m_hitPointWorld=fr.prototype.get_m_hitPointWorld=function(){var t=this.ptr;return vi($a(t),wr)},fr.prototype.set_m_hitPointWorld=fr.prototype.set_m_hitPointWorld=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Ws(e,t)},fr.prototype.get_m_collisionFilterGroup=fr.prototype.get_m_collisionFilterGroup=function(){var t=this.ptr;return Wm(t)},fr.prototype.set_m_collisionFilterGroup=fr.prototype.set_m_collisionFilterGroup=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),zl(e,t)},fr.prototype.get_m_collisionFilterMask=fr.prototype.get_m_collisionFilterMask=function(){var t=this.ptr;return zh(t)},fr.prototype.set_m_collisionFilterMask=fr.prototype.set_m_collisionFilterMask=function(t){var e=this.ptr;
t=t&&"object"==typeof t?t.ptr:ny(t),gf(e,t)},fr.prototype.get_m_collisionObject=fr.prototype.get_m_collisionObject=function(){var t=this.ptr;return vi(ng(t),Gi)},fr.prototype.set_m_collisionObject=fr.prototype.set_m_collisionObject=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),qp(e,t)},fr.prototype.__destroy__=fr.prototype.__destroy__=function(){var t=this.ptr;wl(t)},_r.prototype=Object.create(Ur.prototype),_r.prototype.constructor=_r,_r.prototype.__class__=_r,_r.__cache__={},t.btDynamicsWorld=_r,_r.prototype.addAction=_r.prototype.addAction=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),qm(e,t)},_r.prototype.getSolverInfo=_r.prototype.getSolverInfo=function(){var t=this.ptr;return vi(bd(t),Er)},_r.prototype.getDispatcher=_r.prototype.getDispatcher=function(){var t=this.ptr;return vi(yh(t),pr)},_r.prototype.rayTest=_r.prototype.rayTest=function(t,e,i){var r=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),i=i&&"object"==typeof i?i.ptr:ny(i),sa(r,t,e,i)},_r.prototype.getPairCache=_r.prototype.getPairCache=function(){var t=this.ptr;return vi(Bg(t),Ar)},_r.prototype.getDispatchInfo=_r.prototype.getDispatchInfo=function(){var t=this.ptr;return vi(rs(t),Bi)},_r.prototype.addCollisionObject=_r.prototype.addCollisionObject=function(t,e,i){var r=this.ptr;return t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),i=i&&"object"==typeof i?i.ptr:ny(i),void 0===e?void sd(r,t):void 0===i?void cd(r,t,e):void hs(r,t,e,i)},_r.prototype.getBroadphase=_r.prototype.getBroadphase=function(){var t=this.ptr;return vi(vd(t),Fi)},_r.prototype.convexSweepTest=_r.prototype.convexSweepTest=function(t,e,i,r,o){var n=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),i=i&&"object"==typeof i?i.ptr:ny(i),r=r&&"object"==typeof r?r.ptr:ny(r),o=o&&"object"==typeof o?o.ptr:ny(o),_c(n,t,e,i,r,o)},_r.prototype.contactPairTest=_r.prototype.contactPairTest=function(t,e,i){var r=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),i=i&&"object"==typeof i?i.ptr:ny(i),ap(r,t,e,i)},_r.prototype.__destroy__=_r.prototype.__destroy__=function(){var t=this.ptr;Wl(t)},mr.prototype=Object.create(Vi.prototype),mr.prototype.constructor=mr,mr.prototype.__class__=mr,mr.__cache__={},t.btCapsuleShapeX=mr,mr.prototype.setLocalScaling=mr.prototype.setLocalScaling=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),yu(e,t)},mr.prototype.calculateLocalInertia=mr.prototype.calculateLocalInertia=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),bl(i,t,e)},mr.prototype.__destroy__=mr.prototype.__destroy__=function(){var t=this.ptr;Id(t)},gr.prototype=Object.create(Wr.prototype),gr.prototype.constructor=gr,gr.prototype.__class__=gr,gr.__cache__={},t.btQuaternion=gr,gr.prototype.setValue=gr.prototype.setValue=function(t,e,i,r){var o=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),i=i&&"object"==typeof i?i.ptr:ny(i),r=r&&"object"==typeof r?r.ptr:ny(r),Pa(o,t,e,i,r)},gr.prototype.x=gr.prototype.x=function(){var t=this.ptr;return uc(t)},gr.prototype.y=gr.prototype.y=function(){var t=this.ptr;return Gu(t)},gr.prototype.z=gr.prototype.z=function(){var t=this.ptr;return mc(t)},gr.prototype.w=gr.prototype.w=function(){var t=this.ptr;return Tu(t)},gr.prototype.setX=gr.prototype.setX=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Nh(e,t)},gr.prototype.setY=gr.prototype.setY=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Za(e,t)},gr.prototype.setZ=gr.prototype.setZ=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Wn(e,t)},gr.prototype.setW=gr.prototype.setW=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),g_(e,t)},gr.prototype.__destroy__=gr.prototype.__destroy__=function(){var t=this.ptr;Wh(t)},yr.prototype=Object.create(Vi.prototype),yr.prototype.constructor=yr,yr.prototype.__class__=yr,yr.__cache__={},t.btCapsuleShapeZ=yr,yr.prototype.setLocalScaling=yr.prototype.setLocalScaling=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),nc(e,t)},yr.prototype.calculateLocalInertia=yr.prototype.calculateLocalInertia=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),kf(i,t,e)},yr.prototype.__destroy__=yr.prototype.__destroy__=function(){var t=this.ptr;ig(t)},br.prototype=Object.create(Rr.prototype),br.prototype.constructor=br,br.prototype.__class__=br,br.__cache__={},t.btDefaultVehicleRaycaster=br,br.prototype.__destroy__=br.prototype.__destroy__=function(){var t=this.ptr;ed(t)},vr.prototype=Object.create(yi.prototype),vr.prototype.constructor=vr,vr.prototype.__class__=vr,vr.__cache__={},t.RayResultCallback=vr,vr.prototype.hasHit=vr.prototype.hasHit=function(){var t=this.ptr;return jh(t)},vr.prototype.get_m_collisionFilterGroup=vr.prototype.get_m_collisionFilterGroup=function(){var t=this.ptr;return vp(t)},vr.prototype.set_m_collisionFilterGroup=vr.prototype.set_m_collisionFilterGroup=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),ph(e,t)},vr.prototype.get_m_collisionFilterMask=vr.prototype.get_m_collisionFilterMask=function(){var t=this.ptr;return hh(t)},vr.prototype.set_m_collisionFilterMask=vr.prototype.set_m_collisionFilterMask=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),ls(e,t)},vr.prototype.get_m_collisionObject=vr.prototype.get_m_collisionObject=function(){var t=this.ptr;return vi(id(t),Gi)},vr.prototype.set_m_collisionObject=vr.prototype.set_m_collisionObject=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),jm(e,t)},vr.prototype.__destroy__=vr.prototype.__destroy__=function(){var t=this.ptr;J_(t)},Mr.prototype=Object.create(yi.prototype),Mr.prototype.constructor=Mr,Mr.prototype.__class__=Mr,Mr.__cache__={},t.btWheelInfo=Mr,Mr.prototype.get_m_suspensionStiffness=Mr.prototype.get_m_suspensionStiffness=function(){var t=this.ptr;return Zn(t)},Mr.prototype.set_m_suspensionStiffness=Mr.prototype.set_m_suspensionStiffness=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),jf(e,t)},Mr.prototype.get_m_frictionSlip=Mr.prototype.get_m_frictionSlip=function(){var t=this.ptr;return Xh(t)},Mr.prototype.set_m_frictionSlip=Mr.prototype.set_m_frictionSlip=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Bm(e,t)},Mr.prototype.get_m_rollInfluence=Mr.prototype.get_m_rollInfluence=function(){var t=this.ptr;return Gn(t)},Mr.prototype.set_m_rollInfluence=Mr.prototype.set_m_rollInfluence=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),hp(e,t)},Mr.prototype.get_m_suspensionRestLength1=Mr.prototype.get_m_suspensionRestLength1=function(){var t=this.ptr;return Qn(t)},Mr.prototype.set_m_suspensionRestLength1=Mr.prototype.set_m_suspensionRestLength1=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),ug(e,t)},Mr.prototype.get_m_wheelsRadius=Mr.prototype.get_m_wheelsRadius=function(){var t=this.ptr;return Fm(t)},Mr.prototype.set_m_wheelsRadius=Mr.prototype.set_m_wheelsRadius=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Ls(e,t)},Mr.prototype.get_m_wheelsDampingCompression=Mr.prototype.get_m_wheelsDampingCompression=function(){var t=this.ptr;return vu(t)},Mr.prototype.set_m_wheelsDampingCompression=Mr.prototype.set_m_wheelsDampingCompression=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Hs(e,t)},Mr.prototype.get_m_wheelsDampingRelaxation=Mr.prototype.get_m_wheelsDampingRelaxation=function(){var t=this.ptr;return km(t)},Mr.prototype.set_m_wheelsDampingRelaxation=Mr.prototype.set_m_wheelsDampingRelaxation=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Xm(e,t)},Mr.prototype.get_m_steering=Mr.prototype.get_m_steering=function(){var t=this.ptr;return Mp(t)},Mr.prototype.set_m_steering=Mr.prototype.set_m_steering=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),gd(e,t)},Mr.prototype.get_m_maxSuspensionForce=Mr.prototype.get_m_maxSuspensionForce=function(){var t=this.ptr;return Ms(t)},Mr.prototype.set_m_maxSuspensionForce=Mr.prototype.set_m_maxSuspensionForce=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),yc(e,t)},Mr.prototype.get_m_maxSuspensionTravelCm=Mr.prototype.get_m_maxSuspensionTravelCm=function(){var t=this.ptr;return Da(t)},Mr.prototype.set_m_maxSuspensionTravelCm=Mr.prototype.set_m_maxSuspensionTravelCm=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Nd(e,t)},Mr.prototype.get_m_wheelsSuspensionForce=Mr.prototype.get_m_wheelsSuspensionForce=function(){var t=this.ptr;return Fu(t)},Mr.prototype.set_m_wheelsSuspensionForce=Mr.prototype.set_m_wheelsSuspensionForce=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Fd(e,t)},Mr.prototype.get_m_bIsFrontWheel=Mr.prototype.get_m_bIsFrontWheel=function(){var t=this.ptr;return La(t)},Mr.prototype.set_m_bIsFrontWheel=Mr.prototype.set_m_bIsFrontWheel=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Al(e,t)},Mr.prototype.get_m_chassisConnectionPointCS=Mr.prototype.get_m_chassisConnectionPointCS=function(){var t=this.ptr;return vi(il(t),wr)},Mr.prototype.set_m_chassisConnectionPointCS=Mr.prototype.set_m_chassisConnectionPointCS=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),ua(e,t)},Mr.prototype.__destroy__=Mr.prototype.__destroy__=function(){var t=this.ptr;Jl(t)},Sr.prototype=Object.create(Vr.prototype),Sr.prototype.constructor=Sr,Sr.prototype.__class__=Sr,Sr.__cache__={},t.btConcaveShape=Sr,Sr.prototype.setLocalScaling=Sr.prototype.setLocalScaling=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),pc(e,t)},Sr.prototype.calculateLocalInertia=Sr.prototype.calculateLocalInertia=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),Lh(i,t,e)},Sr.prototype.__destroy__=Sr.prototype.__destroy__=function(){var t=this.ptr;cc(t)},Tr.prototype=Object.create(wr.prototype),Tr.prototype.constructor=Tr,Tr.prototype.__class__=Tr,Tr.__cache__={},t.btVector4=Tr,Tr.prototype.w=Tr.prototype.w=function(){var t=this.ptr;return hm(t)},Tr.prototype.setValue=Tr.prototype.setValue=function(t,e,i,r){var o=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),i=i&&"object"==typeof i?i.ptr:ny(i),r=r&&"object"==typeof r?r.ptr:ny(r),ts(o,t,e,i,r)},Tr.prototype.length=Tr.prototype.length=function(){var t=this.ptr;return wd(t)},Tr.prototype.x=Tr.prototype.x=function(){var t=this.ptr;return W_(t)},Tr.prototype.y=Tr.prototype.y=function(){var t=this.ptr;return fp(t)},Tr.prototype.z=Tr.prototype.z=function(){var t=this.ptr;return M_(t)},Tr.prototype.setX=Tr.prototype.setX=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),_l(e,t)},Tr.prototype.setY=Tr.prototype.setY=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),wh(e,t)},Tr.prototype.setZ=Tr.prototype.setZ=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Ml(e,t)},Tr.prototype.op_mul=Tr.prototype.op_mul=function(t){var e=this.ptr;return t=t&&"object"==typeof t?t.ptr:ny(t),vi(dd(e,t),wr)},Tr.prototype.__destroy__=Tr.prototype.__destroy__=function(){var t=this.ptr;_f(t)},xr.prototype=Object.create(Kr.prototype),xr.prototype.constructor=xr,xr.prototype.__class__=xr,xr.__cache__={},t.btKinematicCharacterController=xr,xr.prototype.setUpAxis=xr.prototype.setUpAxis=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Ma(e,t)},xr.prototype.setWalkDirection=xr.prototype.setWalkDirection=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Q_(e,t)},xr.prototype.setVelocityForTimeInterval=xr.prototype.setVelocityForTimeInterval=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),Lg(i,t,e)},xr.prototype.warp=xr.prototype.warp=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Rp(e,t)},xr.prototype.preStep=xr.prototype.preStep=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Bp(e,t)},xr.prototype.playerStep=xr.prototype.playerStep=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),Af(i,t,e)},xr.prototype.setFallSpeed=xr.prototype.setFallSpeed=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),$m(e,t)},xr.prototype.setJumpSpeed=xr.prototype.setJumpSpeed=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e_(e,t)},xr.prototype.setMaxJumpHeight=xr.prototype.setMaxJumpHeight=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Xg(e,t)},xr.prototype.canJump=xr.prototype.canJump=function(){var t=this.ptr;return Rc(t)},xr.prototype.jump=xr.prototype.jump=function(){var t=this.ptr;ml(t)},xr.prototype.setGravity=xr.prototype.setGravity=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),qa(e,t)},xr.prototype.getGravity=xr.prototype.getGravity=function(){var t=this.ptr;return em(t)},xr.prototype.setMaxSlope=xr.prototype.setMaxSlope=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),qn(e,t)},xr.prototype.getMaxSlope=xr.prototype.getMaxSlope=function(){var t=this.ptr;return Tg(t)},xr.prototype.getGhostObject=xr.prototype.getGhostObject=function(){var t=this.ptr;return vi(q_(t),Hi)},xr.prototype.setUseGhostSweepTest=xr.prototype.setUseGhostSweepTest=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),ud(e,t)},xr.prototype.onGround=xr.prototype.onGround=function(){var t=this.ptr;return T_(t)},xr.prototype.__destroy__=xr.prototype.__destroy__=function(){var t=this.ptr;Jg(t)},Cr.prototype=Object.create(Sr.prototype),Cr.prototype.constructor=Cr,Cr.prototype.__class__=Cr,Cr.__cache__={},t.btStaticPlaneShape=Cr,Cr.prototype.setLocalScaling=Cr.prototype.setLocalScaling=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Rf(e,t)},Cr.prototype.calculateLocalInertia=Cr.prototype.calculateLocalInertia=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),bf(i,t,e)},Cr.prototype.__destroy__=Cr.prototype.__destroy__=function(){var t=this.ptr;wg(t)},Er.prototype=Object.create(yi.prototype),Er.prototype.constructor=Er,Er.prototype.__class__=Er,Er.__cache__={},t.btContactSolverInfo=Er,Er.prototype.get_m_splitImpulse=Er.prototype.get_m_splitImpulse=function(){var t=this.ptr;return Ug(t)},Er.prototype.set_m_splitImpulse=Er.prototype.set_m_splitImpulse=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),xc(e,t)},Er.prototype.get_m_splitImpulsePenetrationThreshold=Er.prototype.get_m_splitImpulsePenetrationThreshold=function(){var t=this.ptr;return ps(t)},Er.prototype.set_m_splitImpulsePenetrationThreshold=Er.prototype.set_m_splitImpulsePenetrationThreshold=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),y_(e,t)},Er.prototype.__destroy__=Er.prototype.__destroy__=function(){var t=this.ptr;Dp(t)},Ar.prototype=Object.create(yi.prototype),Ar.prototype.constructor=Ar,Ar.prototype.__class__=Ar,Ar.__cache__={},t.btOverlappingPairCache=Ar,Ar.prototype.setInternalGhostPairCallback=Ar.prototype.setInternalGhostPairCallback=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),ou(e,t)},Ar.prototype.__destroy__=Ar.prototype.__destroy__=function(){var t=this.ptr;$l(t)},wr.prototype=Object.create(yi.prototype),wr.prototype.constructor=wr,wr.prototype.__class__=wr,wr.__cache__={},t.btVector3=wr,wr.prototype.length=wr.prototype.length=function(){var t=this.ptr;return os(t)},wr.prototype.x=wr.prototype.x=function(){var t=this.ptr;return Sd(t)},wr.prototype.y=wr.prototype.y=function(){var t=this.ptr;return h_(t)},wr.prototype.z=wr.prototype.z=function(){var t=this.ptr;return Up(t)},wr.prototype.setX=wr.prototype.setX=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),xa(e,t)},wr.prototype.setY=wr.prototype.setY=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Xl(e,t)},wr.prototype.setZ=wr.prototype.setZ=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Ra(e,t)},wr.prototype.setValue=wr.prototype.setValue=function(t,e,i){var r=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),i=i&&"object"==typeof i?i.ptr:ny(i),Ld(r,t,e,i)},wr.prototype.op_mul=wr.prototype.op_mul=function(t){var e=this.ptr;return t=t&&"object"==typeof t?t.ptr:ny(t),vi(aa(e,t),wr)},wr.prototype.__destroy__=wr.prototype.__destroy__=function(){var t=this.ptr;fd(t)},Rr.prototype=Object.create(yi.prototype),Rr.prototype.constructor=Rr,Rr.prototype.__class__=Rr,Rr.__cache__={},t.btVehicleRaycaster=Rr,Rr.prototype.__destroy__=Rr.prototype.__destroy__=function(){var t=this.ptr;Ks(t)},Dr.prototype=Object.create(Vr.prototype),Dr.prototype.constructor=Dr,Dr.prototype.__class__=Dr,Dr.__cache__={},t.btSphereShape=Dr,Dr.prototype.setLocalScaling=Dr.prototype.setLocalScaling=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),cm(e,t)},Dr.prototype.calculateLocalInertia=Dr.prototype.calculateLocalInertia=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),el(i,t,e)},Dr.prototype.__destroy__=Dr.prototype.__destroy__=function(){var t=this.ptr;Uc(t)},Pr.prototype=Object.create(yi.prototype),Pr.prototype.constructor=Pr,Pr.prototype.__class__=Pr,Pr.__cache__={},t.btDefaultCollisionConstructionInfo=Pr,Pr.prototype.__destroy__=Pr.prototype.__destroy__=function(){var t=this.ptr;Pd(t)},Br.prototype=Object.create(Qr.prototype),Br.prototype.constructor=Br,Br.prototype.__class__=Br,Br.__cache__={},t.btHingeConstraint=Br,Br.prototype.setLimit=Br.prototype.setLimit=function(t,e,i,r,o){var n=this.ptr;return t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),i=i&&"object"==typeof i?i.ptr:ny(i),r=r&&"object"==typeof r?r.ptr:ny(r),o=o&&"object"==typeof o?o.ptr:ny(o),void 0===o?void Od(n,t,e,i,r):void Jd(n,t,e,i,r,o)},Br.prototype.enableAngularMotor=Br.prototype.enableAngularMotor=function(t,e,i){var r=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),i=i&&"object"==typeof i?i.ptr:ny(i),Dh(r,t,e,i)},Br.prototype.enableFeedback=Br.prototype.enableFeedback=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Ju(e,t)},Br.prototype.getBreakingImpulseThreshold=Br.prototype.getBreakingImpulseThreshold=function(){var t=this.ptr;return Yf(t)},Br.prototype.setBreakingImpulseThreshold=Br.prototype.setBreakingImpulseThreshold=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Gd(e,t)},Br.prototype.__destroy__=Br.prototype.__destroy__=function(){var t=this.ptr;xm(t)},Vr.prototype=Object.create(yi.prototype),Vr.prototype.constructor=Vr,Vr.prototype.__class__=Vr,Vr.__cache__={},t.btCollisionShape=Vr,Vr.prototype.setLocalScaling=Vr.prototype.setLocalScaling=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),rh(e,t)},Vr.prototype.calculateLocalInertia=Vr.prototype.calculateLocalInertia=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),zs(i,t,e)},Vr.prototype.__destroy__=Vr.prototype.__destroy__=function(){var t=this.ptr;xp(t)},Lr.prototype=Object.create(yi.prototype),Lr.prototype.constructor=Lr,Lr.prototype.__class__=Lr,Lr.__cache__={},t.btConstraintSetting=Lr,Lr.prototype.get_m_tau=Lr.prototype.get_m_tau=function(){var t=this.ptr;return Sp(t)},Lr.prototype.set_m_tau=Lr.prototype.set_m_tau=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),$s(e,t)},Lr.prototype.get_m_damping=Lr.prototype.get_m_damping=function(){var t=this.ptr;return bc(t)},Lr.prototype.set_m_damping=Lr.prototype.set_m_damping=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),qs(e,t)},Lr.prototype.get_m_impulseClamp=Lr.prototype.get_m_impulseClamp=function(){var t=this.ptr;return Js(t)},Lr.prototype.set_m_impulseClamp=Lr.prototype.set_m_impulseClamp=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Ka(e,t)},Lr.prototype.__destroy__=Lr.prototype.__destroy__=function(){var t=this.ptr;tc(t)},kr.prototype=Object.create(Gi.prototype),kr.prototype.constructor=kr,kr.prototype.__class__=kr,kr.__cache__={},t.btGhostObject=kr,kr.prototype.getNumOverlappingObjects=kr.prototype.getNumOverlappingObjects=function(){var t=this.ptr;return zd(t)},kr.prototype.getOverlappingObject=kr.prototype.getOverlappingObject=function(t){var e=this.ptr;return t=t&&"object"==typeof t?t.ptr:ny(t),vi(sg(e,t),Gi)},kr.prototype.setAnisotropicFriction=kr.prototype.setAnisotropicFriction=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),ef(i,t,e)},kr.prototype.getCollisionShape=kr.prototype.getCollisionShape=function(){var t=this.ptr;return vi(Ud(t),Vr)},kr.prototype.setContactProcessingThreshold=kr.prototype.setContactProcessingThreshold=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Mc(e,t)},kr.prototype.setActivationState=kr.prototype.setActivationState=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),N_(e,t)},kr.prototype.forceActivationState=kr.prototype.forceActivationState=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),pp(e,t)},kr.prototype.activate=kr.prototype.activate=function(t){var e=this.ptr;return t=t&&"object"==typeof t?t.ptr:ny(t),void 0===t?void Qd(e):void Zd(e,t)},kr.prototype.isActive=kr.prototype.isActive=function(){var t=this.ptr;return Zl(t)},kr.prototype.isKinematicObject=kr.prototype.isKinematicObject=function(){var t=this.ptr;return ma(t)},kr.prototype.setRestitution=kr.prototype.setRestitution=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Dd(e,t)},kr.prototype.setFriction=kr.prototype.setFriction=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),nl(e,t)},kr.prototype.setRollingFriction=kr.prototype.setRollingFriction=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),$h(e,t)},kr.prototype.getWorldTransform=kr.prototype.getWorldTransform=function(){var t=this.ptr;return vi(Bf(t),jr)},kr.prototype.getCollisionFlags=kr.prototype.getCollisionFlags=function(){var t=this.ptr;return Hd(t)},kr.prototype.setCollisionFlags=kr.prototype.setCollisionFlags=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),bh(e,t)},kr.prototype.setWorldTransform=kr.prototype.setWorldTransform=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),hl(e,t)},kr.prototype.setCollisionShape=kr.prototype.setCollisionShape=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),__(e,t)},kr.prototype.setCcdMotionThreshold=kr.prototype.setCcdMotionThreshold=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Og(e,t)},kr.prototype.setCcdSweptSphereRadius=kr.prototype.setCcdSweptSphereRadius=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Zf(e,t)},kr.prototype.__destroy__=kr.prototype.__destroy__=function(){var t=this.ptr;vc(t)},Hr.prototype=Object.create(yi.prototype),Hr.prototype.constructor=Hr,Hr.prototype.__class__=Hr,Hr.__cache__={},t.LocalShapeInfo=Hr,Hr.prototype.get_m_shapePart=Hr.prototype.get_m_shapePart=function(){var t=this.ptr;return om(t)},Hr.prototype.set_m_shapePart=Hr.prototype.set_m_shapePart=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),og(e,t)},Hr.prototype.get_m_triangleIndex=Hr.prototype.get_m_triangleIndex=function(){var t=this.ptr;return f_(t)},Hr.prototype.set_m_triangleIndex=Hr.prototype.set_m_triangleIndex=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),qf(e,t)},Hr.prototype.__destroy__=Hr.prototype.__destroy__=function(){var t=this.ptr;Va(t)},Ir.prototype=Object.create(yi.prototype),Ir.prototype.constructor=Ir,Ir.prototype.__class__=Ir,Ir.__cache__={},t.btConstraintSolver=Ir,Ir.prototype.__destroy__=Ir.prototype.__destroy__=function(){var t=this.ptr;rf(t)},Or.prototype=Object.create(Ji.prototype),Or.prototype.constructor=Or,Or.prototype.__class__=Or,Or.__cache__={},t.btGeneric6DofSpringConstraint=Or,Or.prototype.enableSpring=Or.prototype.enableSpring=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),$d(i,t,e)},Or.prototype.setStiffness=Or.prototype.setStiffness=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),Rl(i,t,e)},Or.prototype.setDamping=Or.prototype.setDamping=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),Km(i,t,e)},Or.prototype.setLinearLowerLimit=Or.prototype.setLinearLowerLimit=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Ng(e,t)},Or.prototype.setLinearUpperLimit=Or.prototype.setLinearUpperLimit=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),pa(e,t)},Or.prototype.setAngularLowerLimit=Or.prototype.setAngularLowerLimit=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),zg(e,t)},Or.prototype.setAngularUpperLimit=Or.prototype.setAngularUpperLimit=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Hu(e,t)},Or.prototype.enableFeedback=Or.prototype.enableFeedback=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),ip(e,t)},Or.prototype.getBreakingImpulseThreshold=Or.prototype.getBreakingImpulseThreshold=function(){var t=this.ptr;return Kd(t)},Or.prototype.setBreakingImpulseThreshold=Or.prototype.setBreakingImpulseThreshold=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),js(e,t)},Or.prototype.__destroy__=Or.prototype.__destroy__=function(){var t=this.ptr;Yh(t)},Jr.prototype=Object.create(yi.prototype),Jr.prototype.constructor=Jr,Jr.prototype.__class__=Jr,Jr.__cache__={},t.LocalConvexResult=Jr,Jr.prototype.get_m_hitCollisionObject=Jr.prototype.get_m_hitCollisionObject=function(){var t=this.ptr;return vi(nh(t),Gi)},Jr.prototype.set_m_hitCollisionObject=Jr.prototype.set_m_hitCollisionObject=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Fg(e,t)},Jr.prototype.get_m_localShapeInfo=Jr.prototype.get_m_localShapeInfo=function(){var t=this.ptr;return vi(B_(t),Hr)},Jr.prototype.set_m_localShapeInfo=Jr.prototype.set_m_localShapeInfo=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Ag(e,t)},Jr.prototype.get_m_hitNormalLocal=Jr.prototype.get_m_hitNormalLocal=function(){var t=this.ptr;return vi(wu(t),wr)},Jr.prototype.set_m_hitNormalLocal=Jr.prototype.set_m_hitNormalLocal=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),dc(e,t)},Jr.prototype.get_m_hitPointLocal=Jr.prototype.get_m_hitPointLocal=function(){var t=this.ptr;return vi(ja(t),wr)},Jr.prototype.set_m_hitPointLocal=Jr.prototype.set_m_hitPointLocal=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),cl(e,t)},Jr.prototype.get_m_hitFraction=Jr.prototype.get_m_hitFraction=function(){var t=this.ptr;return Mu(t)},Jr.prototype.set_m_hitFraction=Jr.prototype.set_m_hitFraction=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Lf(e,t)},Jr.prototype.__destroy__=Jr.prototype.__destroy__=function(){var t=this.ptr;$c(t)},Nr.prototype=Object.create(yi.prototype),Nr.prototype.constructor=Nr,Nr.prototype.__class__=Nr,Nr.__cache__={},t.btOverlappingPairCallback=Nr,Nr.prototype.__destroy__=Nr.prototype.__destroy__=function(){var t=this.ptr;Eh(t)},Fr.prototype=Object.create(Gi.prototype),Fr.prototype.constructor=Fr,Fr.prototype.__class__=Fr,Fr.__cache__={},t.btRigidBody=Fr,Fr.prototype.getCenterOfMassTransform=Fr.prototype.getCenterOfMassTransform=function(){var t=this.ptr;return vi(_a(t),jr)},Fr.prototype.setCenterOfMassTransform=Fr.prototype.setCenterOfMassTransform=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),$p(e,t)},Fr.prototype.setSleepingThresholds=Fr.prototype.setSleepingThresholds=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),D_(i,t,e)},Fr.prototype.setDamping=Fr.prototype.setDamping=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),gh(i,t,e)},Fr.prototype.setMassProps=Fr.prototype.setMassProps=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),Fl(i,t,e)},Fr.prototype.setLinearFactor=Fr.prototype.setLinearFactor=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Ss(e,t)},Fr.prototype.setGravity=Fr.prototype.setGravity=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Qm(e,t)},Fr.prototype.applyTorque=Fr.prototype.applyTorque=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),ac(e,t)},Fr.prototype.applyForce=Fr.prototype.applyForce=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),Qs(i,t,e)},Fr.prototype.applyCentralForce=Fr.prototype.applyCentralForce=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Sc(e,t)},Fr.prototype.applyTorqueImpulse=Fr.prototype.applyTorqueImpulse=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),cg(e,t)},Fr.prototype.applyImpulse=Fr.prototype.applyImpulse=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),Vh(i,t,e)},Fr.prototype.applyCentralImpulse=Fr.prototype.applyCentralImpulse=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),ea(e,t)},Fr.prototype.updateInertiaTensor=Fr.prototype.updateInertiaTensor=function(){var t=this.ptr;lu(t)},Fr.prototype.getLinearVelocity=Fr.prototype.getLinearVelocity=function(){var t=this.ptr;return vi(Bh(t),wr)},Fr.prototype.getAngularVelocity=Fr.prototype.getAngularVelocity=function(){var t=this.ptr;return vi(Jm(t),wr)},Fr.prototype.getGravity=Fr.prototype.getGravity=function(){var t=this.ptr;return vi(Cc(t),wr)},Fr.prototype.setLinearVelocity=Fr.prototype.setLinearVelocity=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Gm(e,t)},Fr.prototype.setAngularVelocity=Fr.prototype.setAngularVelocity=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Hh(e,t)},Fr.prototype.getMotionState=Fr.prototype.getMotionState=function(){var t=this.ptr;return vi(Kl(t),Xi)},Fr.prototype.setAngularFactor=Fr.prototype.setAngularFactor=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),_d(e,t)},Fr.prototype.upcast=Fr.prototype.upcast=function(t){var e=this.ptr;return t=t&&"object"==typeof t?t.ptr:ny(t),vi(Xs(e,t),Fr)},Fr.prototype.setAnisotropicFriction=Fr.prototype.setAnisotropicFriction=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),cf(i,t,e)},Fr.prototype.getCollisionShape=Fr.prototype.getCollisionShape=function(){var t=this.ptr;return vi(Vm(t),Vr)},Fr.prototype.setContactProcessingThreshold=Fr.prototype.setContactProcessingThreshold=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Ph(e,t)},Fr.prototype.setActivationState=Fr.prototype.setActivationState=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),tg(e,t)},Fr.prototype.forceActivationState=Fr.prototype.forceActivationState=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),bg(e,t)},Fr.prototype.activate=Fr.prototype.activate=function(t){var e=this.ptr;return t=t&&"object"==typeof t?t.ptr:ny(t),void 0===t?void O_(e):void I_(e,t)},Fr.prototype.isActive=Fr.prototype.isActive=function(){var t=this.ptr;return Dc(t)},Fr.prototype.isKinematicObject=Fr.prototype.isKinematicObject=function(){var t=this.ptr;return Ha(t)},Fr.prototype.setRestitution=Fr.prototype.setRestitution=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),kg(e,t)},Fr.prototype.setFriction=Fr.prototype.setFriction=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),ll(e,t)},Fr.prototype.setRollingFriction=Fr.prototype.setRollingFriction=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),sh(e,t)},Fr.prototype.getWorldTransform=Fr.prototype.getWorldTransform=function(){var t=this.ptr;return vi(up(t),jr)},Fr.prototype.getCollisionFlags=Fr.prototype.getCollisionFlags=function(){var t=this.ptr;return ih(t)},Fr.prototype.setCollisionFlags=Fr.prototype.setCollisionFlags=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),hg(e,t)},Fr.prototype.setWorldTransform=Fr.prototype.setWorldTransform=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),kh(e,t)},Fr.prototype.setCollisionShape=Fr.prototype.setCollisionShape=function(t){var e=this.ptr;
t=t&&"object"==typeof t?t.ptr:ny(t),Ic(e,t)},Fr.prototype.setCcdMotionThreshold=Fr.prototype.setCcdMotionThreshold=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Ys(e,t)},Fr.prototype.setCcdSweptSphereRadius=Fr.prototype.setCcdSweptSphereRadius=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),sl(e,t)},Fr.prototype.__destroy__=Fr.prototype.__destroy__=function(){var t=this.ptr;w_(t)},Gr.prototype=Object.create(qr.prototype),Gr.prototype.constructor=Gr,Gr.prototype.__class__=Gr,Gr.__cache__={},t.btCylinderShapeX=Gr,Gr.prototype.setLocalScaling=Gr.prototype.setLocalScaling=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Sh(e,t)},Gr.prototype.calculateLocalInertia=Gr.prototype.calculateLocalInertia=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),am(i,t,e)},Gr.prototype.__destroy__=Gr.prototype.__destroy__=function(){var t=this.ptr;G_(t)},zr.prototype=Object.create(qr.prototype),zr.prototype.constructor=zr,zr.prototype.__class__=zr,zr.__cache__={},t.btCylinderShapeZ=zr,zr.prototype.setLocalScaling=zr.prototype.setLocalScaling=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Rg(e,t)},zr.prototype.calculateLocalInertia=zr.prototype.calculateLocalInertia=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),md(i,t,e)},zr.prototype.__destroy__=zr.prototype.__destroy__=function(){var t=this.ptr;Ns(t)},jr.prototype=Object.create(yi.prototype),jr.prototype.constructor=jr,jr.prototype.__class__=jr,jr.__cache__={},t.btTransform=jr,jr.prototype.setIdentity=jr.prototype.setIdentity=function(){var t=this.ptr;$_(t)},jr.prototype.setOrigin=jr.prototype.setOrigin=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),hu(e,t)},jr.prototype.setRotation=jr.prototype.setRotation=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Nl(e,t)},jr.prototype.getOrigin=jr.prototype.getOrigin=function(){var t=this.ptr;return vi(Tm(t),wr)},jr.prototype.getRotation=jr.prototype.getRotation=function(){var t=this.ptr;return vi(Cu(t),gr)},jr.prototype.getBasis=jr.prototype.getBasis=function(){var t=this.ptr;return vi(Tl(t),Ei)},jr.prototype.__destroy__=jr.prototype.__destroy__=function(){var t=this.ptr;mg(t)},Ur.prototype=Object.create(yi.prototype),Ur.prototype.constructor=Ur,Ur.prototype.__class__=Ur,Ur.__cache__={},t.btCollisionWorld=Ur,Ur.prototype.getDispatcher=Ur.prototype.getDispatcher=function(){var t=this.ptr;return vi(uh(t),pr)},Ur.prototype.rayTest=Ur.prototype.rayTest=function(t,e,i){var r=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),i=i&&"object"==typeof i?i.ptr:ny(i),al(r,t,e,i)},Ur.prototype.getPairCache=Ur.prototype.getPairCache=function(){var t=this.ptr;return vi(sp(t),Ar)},Ur.prototype.getDispatchInfo=Ur.prototype.getDispatchInfo=function(){var t=this.ptr;return vi(Hc(t),Bi)},Ur.prototype.addCollisionObject=Ur.prototype.addCollisionObject=function(t,e,i){var r=this.ptr;return t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),i=i&&"object"==typeof i?i.ptr:ny(i),void 0===e?void zu(r,t):void 0===i?void ju(r,t,e):void Uu(r,t,e,i)},Ur.prototype.getBroadphase=Ur.prototype.getBroadphase=function(){var t=this.ptr;return vi(jn(t),Fi)},Ur.prototype.convexSweepTest=Ur.prototype.convexSweepTest=function(t,e,i,r,o){var n=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),i=i&&"object"==typeof i?i.ptr:ny(i),r=r&&"object"==typeof r?r.ptr:ny(r),o=o&&"object"==typeof o?o.ptr:ny(o),Us(n,t,e,i,r,o)},Ur.prototype.contactPairTest=Ur.prototype.contactPairTest=function(t,e,i){var r=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),i=i&&"object"==typeof i?i.ptr:ny(i),F_(r,t,e,i)},Ur.prototype.__destroy__=Ur.prototype.__destroy__=function(){var t=this.ptr;za(t)},Wr.prototype=Object.create(yi.prototype),Wr.prototype.constructor=Wr,Wr.prototype.__class__=Wr,Wr.__cache__={},t.btQuadWord=Wr,Wr.prototype.x=Wr.prototype.x=function(){var t=this.ptr;return ca(t)},Wr.prototype.y=Wr.prototype.y=function(){var t=this.ptr;return Sl(t)},Wr.prototype.z=Wr.prototype.z=function(){var t=this.ptr;return Kn(t)},Wr.prototype.w=Wr.prototype.w=function(){var t=this.ptr;return Dl(t)},Wr.prototype.setX=Wr.prototype.setX=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Yl(e,t)},Wr.prototype.setY=Wr.prototype.setY=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),ka(e,t)},Wr.prototype.setZ=Wr.prototype.setZ=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),xf(e,t)},Wr.prototype.setW=Wr.prototype.setW=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),ys(e,t)},Wr.prototype.__destroy__=Wr.prototype.__destroy__=function(){var t=this.ptr;Qp(t)},Xr.prototype=Object.create(Kr.prototype),Xr.prototype.constructor=Xr,Xr.prototype.__class__=Xr,Xr.__cache__={},t.btRaycastVehicle=Xr,Xr.prototype.applyEngineForce=Xr.prototype.applyEngineForce=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),Vp(i,t,e)},Xr.prototype.setSteeringValue=Xr.prototype.setSteeringValue=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),xs(i,t,e)},Xr.prototype.getWheelTransformWS=Xr.prototype.getWheelTransformWS=function(t){var e=this.ptr;return t=t&&"object"==typeof t?t.ptr:ny(t),vi(mh(e,t),jr)},Xr.prototype.updateWheelTransform=Xr.prototype.updateWheelTransform=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),la(i,t,e)},Xr.prototype.addWheel=Xr.prototype.addWheel=function(t,e,i,r,o,n,a){var s=this.ptr;return t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),i=i&&"object"==typeof i?i.ptr:ny(i),r=r&&"object"==typeof r?r.ptr:ny(r),o=o&&"object"==typeof o?o.ptr:ny(o),n=n&&"object"==typeof n?n.ptr:ny(n),a=a&&"object"==typeof a?a.ptr:ny(a),vi(Cg(s,t,e,i,r,o,n,a),Mr)},Xr.prototype.getNumWheels=Xr.prototype.getNumWheels=function(){var t=this.ptr;return Uf(t)},Xr.prototype.getRigidBody=Xr.prototype.getRigidBody=function(){var t=this.ptr;return vi(rg(t),Fr)},Xr.prototype.getWheelInfo=Xr.prototype.getWheelInfo=function(t){var e=this.ptr;return t=t&&"object"==typeof t?t.ptr:ny(t),vi(Xf(e,t),Mr)},Xr.prototype.setBrake=Xr.prototype.setBrake=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),Lp(i,t,e)},Xr.prototype.setCoordinateSystem=Xr.prototype.setCoordinateSystem=function(t,e,i){var r=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),i=i&&"object"==typeof i?i.ptr:ny(i),Gc(r,t,e,i)},Xr.prototype.__destroy__=Xr.prototype.__destroy__=function(){var t=this.ptr;ec(t)},qr.prototype=Object.create(Vr.prototype),qr.prototype.constructor=qr,qr.prototype.__class__=qr,qr.__cache__={},t.btCylinderShape=qr,qr.prototype.setLocalScaling=qr.prototype.setLocalScaling=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),Vc(e,t)},qr.prototype.calculateLocalInertia=qr.prototype.calculateLocalInertia=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),e=e&&"object"==typeof e?e.ptr:ny(e),nd(i,t,e)},qr.prototype.__destroy__=qr.prototype.__destroy__=function(){var t=this.ptr;Ln(t)},Kr.prototype=Object.create(yi.prototype),Kr.prototype.constructor=Kr,Kr.prototype.__class__=Kr,Kr.__cache__={},t.btActionInterface=Kr,Kr.prototype.__destroy__=Kr.prototype.__destroy__=function(){var t=this.ptr;$u(t)},Yr.prototype=Object.create(yi.prototype),Yr.prototype.constructor=Yr,Yr.prototype.__class__=Yr,Yr.__cache__={},t.btGhostPairCallback=Yr,Yr.prototype.__destroy__=Yr.prototype.__destroy__=function(){var t=this.ptr;Sg(t)},Qr.prototype=Object.create(yi.prototype),Qr.prototype.constructor=Qr,Qr.prototype.__class__=Qr,Qr.__cache__={},t.btTypedConstraint=Qr,Qr.prototype.enableFeedback=Qr.prototype.enableFeedback=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),af(e,t)},Qr.prototype.getBreakingImpulseThreshold=Qr.prototype.getBreakingImpulseThreshold=function(){var t=this.ptr;return jd(t)},Qr.prototype.setBreakingImpulseThreshold=Qr.prototype.setBreakingImpulseThreshold=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:ny(t),zn(e,t)},Qr.prototype.__destroy__=Qr.prototype.__destroy__=function(){var t=this.ptr;Lu(t)},function(){function e(){}t.calledRun?e():k(e)}(),this.Ammo=t,t};Ammo=AmmoLib();